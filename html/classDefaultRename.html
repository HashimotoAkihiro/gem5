<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス テンプレート DefaultRename&lt; Impl &gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス テンプレート DefaultRename&lt; Impl &gt;</h1><!-- doxytag: class="DefaultRename" -->
<p><code>#include &lt;<a class="el" href="rename_8hh_source.html">rename.hh</a>&gt;</code></p>

<p><a href="classDefaultRename-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDefaultRename_1_1FreeEntries.html">FreeEntries</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDefaultRename_1_1RenameHistory.html">RenameHistory</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDefaultRename_1_1Stalls.html">Stalls</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718">RenameStatus</a> { <a class="el" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718a26bd8444261cc58df7a86753c79d2520">Active</a>, 
<a class="el" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718a969c924a722daf6334fca64346092ae6">Inactive</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173c">ThreadStatus</a> { <br/>
&nbsp;&nbsp;<a class="el" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a>, 
<a class="el" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173cad3fa9ae9431d6cb1772f9d9df48cab19">Idle</a>, 
<a class="el" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca19a48e232b72697e4bb7ea1b6075ed49">StartSquash</a>, 
<a class="el" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca22a648855197e326dc88f548634c0ec7">Squashing</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca9463ee9b8700258a1019b4b9d2d77a30">Blocked</a>, 
<a class="el" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>, 
<a class="el" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3">SerializeStall</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::CPUPol&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a87d662eaeb9eab249d671b63cb4ba11a">CPUPol</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::DynInstPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::O3CPU&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a44622cf06940413482836cb62931ac3f">O3CPU</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPol::DecodeStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a38077cd156cf219016abf92d8c5b523b">DecodeStruct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPol::RenameStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a0c2a89ad2edad9ad605d0461f9b132a5">RenameStruct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPol::TimeStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ab7dd3632ef639702a5c6e7c2c3a2f82a">TimeStruct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPol::FreeList&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ab784c356bacd490590fba42443e0f786">FreeList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPol::RenameMap&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a341963bcea1928476182a17e357f98e3">RenameMap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPol::IEW&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a2e298f790f528754f0e0ffa0cb8088f6">IEW</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPol::Commit&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a05a26def5ee77f19d25b86079d161ebd">Commit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef TheISA::RegIndex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#adba1ac227fff8c6f9b17ded2fb270e77">InstQueue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;<br class="typebreak"/>
::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a6035d792bb85b9f4c301d53c20885dfc">DefaultRename</a> (<a class="el" href="classDefaultRename.html#a44622cf06940413482836cb62931ac3f">O3CPU</a> *_cpu, DerivO3CPUParams *params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a2b521ea5f191fff72265f60d4ed5187b">setTimeBuffer</a> (<a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structTimeStruct.html">TimeStruct</a> &gt; *tb_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a701624f92a819fe4205faede6e614d9f">setRenameQueue</a> (<a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classDefaultRename.html#a0c2a89ad2edad9ad605d0461f9b132a5">RenameStruct</a> &gt; *rq_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a21f95db13a2fc05d7a5fcc43fec1f1e7">setDecodeQueue</a> (<a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classDefaultRename.html#a38077cd156cf219016abf92d8c5b523b">DecodeStruct</a> &gt; *dq_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a4b6d8e4b2cf6249763ed2fc73eb1af47">setIEWStage</a> (<a class="el" href="classDefaultRename.html#a2e298f790f528754f0e0ffa0cb8088f6">IEW</a> *iew_stage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a1e488bc36055daaf1f86a9b4e58118c2">setCommitStage</a> (<a class="el" href="classDefaultRename.html#a05a26def5ee77f19d25b86079d161ebd">Commit</a> *commit_stage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a31d4cbdab16d4ff8d6bc7f84ece727da">startupStage</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#aab96bdacf8bd420402cbb543f994e054">setActiveThreads</a> (<a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> &gt; *at_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a6f0aaedb2c39d674ef86c25d0aeb4211">setRenameMap</a> (<a class="el" href="classDefaultRename.html#a341963bcea1928476182a17e357f98e3">RenameMap</a> rm_ptr[Impl::MaxThreads])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a2d3550e87cb180105600dfaefcf83358">setFreeList</a> (<a class="el" href="classDefaultRename.html#ab784c356bacd490590fba42443e0f786">FreeList</a> *fl_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a0b50ac63f22501d5c688294031615b6e">setScoreboard</a> (<a class="el" href="classScoreboard.html">Scoreboard</a> *_scoreboard)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a0240eb42fa57fe5d3788093f62b77347">drainSanityCheck</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#adf5473c18a3d7c1e88c4a2072bce5526">isDrained</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a8674059ce345e23aac5086b2c3e24a43">takeOverFrom</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#aa896d7ff2c9da1e6e96d46ab4580ec9d">squash</a> (const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;squash_seq_num, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a873dd91783f9efb4a590aded1f70d6b0">tick</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a697961c6f132b511d2921ed9feed80fa">dumpHistory</a> ()</td></tr>
<tr><td colspan="2"><h2>Private 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96">FullSource</a> { <a class="el" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96a5040344e9d10f27af23c05c21c5e284f">ROB</a>, 
<a class="el" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96a7608065caa4249ff47a58c32d6f3c531">IQ</a>, 
<a class="el" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96a4cc572b5087c4e67104941ee638a8512">LSQ</a>, 
<a class="el" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a>
 }</td></tr>
<tr><td colspan="2"><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ada2a699094bc420f977abf2a17ed14c8">resetStage</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ae79f7fcdd0255495d6df18c063988432">rename</a> (bool &amp;status_change, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a8ff86a7781da8390490774c08b1819f2">renameInsts</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ac24515147270ef9b85991bbe13bd47af">skidInsert</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a9ff2aa32ab0f40674cb3518108d62f8e">sortInsts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#afe3e2673d17dd5c568862ef5ae68b4d8">skidsEmpty</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a4bb9486757ce225941aaaf759b357a57">updateStatus</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ad1993925abd15d3fb59fde2ccfa3d678">block</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a9cc3b95f6969935f78c0158aa5145021">unblock</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a32818ae72457917ca9551faa708ba584">doSquash</a> (const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;squash_seq_num, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a4e15b4f66caef87aacbd195e4a02804d">removeFromHistory</a> (<a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> inst_seq_num, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a8c18390fbeba66214f3854d7325a1d0e">renameSrcRegs</a> (<a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;inst, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a21ced1baf75f43ecfa99d8c90ae210d6">renameDestRegs</a> (<a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;inst, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a6367314e59f9295e1bf57419938874c5">calcFreeROBEntries</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a27fa95f1f1dd353635a73f0b56a64e24">calcFreeIQEntries</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a31f50b46622924ea0e53e641b635887c">calcFreeLSQEntries</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ad533c56329b83d5b1aef92d0a6594b2c">validInsts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ad65c9f053a6038ac8c34c34bfe9a88c3">readStallSignals</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a2dd2400250619a315cb46f95f777db01">checkStall</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a7dc4c8fb34921e56b869bac55a7f3806">readFreeEntries</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#af77f2bf38a75182c65e633b9fdf295d2">checkSignalsAndUpdate</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a4010b268c107b9aa7289a98f67171e08">serializeAfter</a> (<a class="el" href="classstd_1_1list.html">InstQueue</a> &amp;inst_list, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a11c6015950a669c6a37e5d9bee62bbbf">incrFullStat</a> (const <a class="el" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96">FullSource</a> &amp;source)</td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718">RenameStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a1564313ed7a74659481a1b5ea2bacf88">_status</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173c">ThreadStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDefaultRename.html#a2e298f790f528754f0e0ffa0cb8088f6">IEW</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#abf7286da8e826739b29fa67855f4216b">iew_ptr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDefaultRename.html#a05a26def5ee77f19d25b86079d161ebd">Commit</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a51b23beeb9e078c0c11831d0f2e56bfd">commit_ptr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="structDefaultRename_1_1RenameHistory.html">RenameHistory</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDefaultRename.html#a44622cf06940413482836cb62931ac3f">O3CPU</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structTimeStruct.html">TimeStruct</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a83f9ee976e732665aeb08dbc19acfd45">timeBuffer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structTimeStruct.html">TimeStruct</a> &gt;::wire&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structTimeStruct.html">TimeStruct</a> &gt;::wire&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structTimeStruct.html">TimeStruct</a> &gt;::wire&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#aeb2f0e9b4602def9a8a57f7e3e12cf27">toDecode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classDefaultRename.html#a0c2a89ad2edad9ad605d0461f9b132a5">RenameStruct</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ae9b536282159ba75153a223be77515ba">renameQueue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classDefaultRename.html#a0c2a89ad2edad9ad605d0461f9b132a5">RenameStruct</a> &gt;::wire&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a20add800a4fdb85a3d370265f248a006">toIEW</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classDefaultRename.html#a38077cd156cf219016abf92d8c5b523b">DecodeStruct</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a7860fc5736574343c9e294cb2bef9d93">decodeQueue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classDefaultRename.html#a38077cd156cf219016abf92d8c5b523b">DecodeStruct</a> &gt;::wire&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a8bf861a7b2c3731d3a69bf370564e975">fromDecode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">InstQueue</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">InstQueue</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDefaultRename.html#a341963bcea1928476182a17e357f98e3">RenameMap</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ac305c101c17d28451cc1f023b187b08b">renameMap</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDefaultRename.html#ab784c356bacd490590fba42443e0f786">FreeList</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a2e829c52dbc56e7ac6d2fc6a0524ff9c">freeList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classScoreboard.html">Scoreboard</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a265ad15229da2a6a05f908da093b3ed5">scoreboard</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a2c7e870d4babdac0dc91fc7ffabd0f3d">wroteToTimeBuffer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDefaultRename_1_1FreeEntries.html">FreeEntries</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a5a3345554ca63a6e859943d7174d714f">emptyROB</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDefaultRename_1_1Stalls.html">Stalls</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a12ab5fca837718e12cc837d0f3c1da82">serializeInst</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a4d99bc7f86d1a17d44e59c316c273262">serializeOnNextInst</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a3069f8fd673d0e9ea2b1a8ce0ad3fe06">iewToRenameDelay</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a4ff2f51d1e391f739d6d1c73a6bcd0c1">decodeToRenameDelay</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a03ebbedbf40ac0005574e50b3577a651">commitToRenameDelay</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a4b41704382bddb6ee06b5ce97b47dd7b">renameWidth</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#aeab15260a0ccc0ea470bb74344b63d17">commitWidth</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#abb033b9572d00b4ffa5aca6c7fb51427">toIEWIndex</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a5a5235d747599dbd49a887663f3739e8">blockThisCycle</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#afa9ffeefc4b3ff8ae1ea9919bedbd1e4">resumeSerialize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#aacc2e9a4766def499954195037465d42">resumeUnblocking</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a268414a6444b620140f263013a739a17">skidBufferMax</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#acc18d044ab2bf32e6515938485638d28">maxPhysicalRegs</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a8931e7bb259c1fe875fd5a88017b29e2">renameSquashCycles</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a53baed8fe49369b373c3dd986c683596">renameIdleCycles</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a45732215f002b5052d042ef5798735f0">renameBlockCycles</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a712d72379bc583c374e2f6179e8ee58f">renameSerializeStallCycles</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a7dd03c8b7a88da84ff7e1bdd6b938d47">renameRunCycles</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a2f14c493f619ee24a84fbe959ed72a97">renameUnblockCycles</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#aee6bb4587ea6f254fc29dda4d565afc9">renameRenamedInsts</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ae988aa97bbfa339fc6e6bf0cbad90832">renameSquashedInsts</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a41408b25638b2531bc9e3b6ee622d148">renameROBFullEvents</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a9a4bab1aece13e48ae2d2a3f247b3354">renameIQFullEvents</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#aba431e021496d1070a1d8f9ad7ec71f2">renameLSQFullEvents</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ac012d0908acb20c3f68593787f626711">renameFullRegistersEvents</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a3e2c435288350f7d805557b4d1a2b7a5">renameRenamedOperands</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ab0b7632e67fcf2fe1e6bb1cef111eda4">renameRenameLookups</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ae2548cb038c1868f0dcf4c5df1154b12">intRenameLookups</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ad27b51042b9dc458c5dd63b8c5f8d467">fpRenameLookups</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a5d4c3559dbd988f18cc6d1c0e0470fcb">renameCommittedMaps</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#ae0c8395975c577671916d55df6e05b16">renameUndoneMaps</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a6e383a41c8a2b8902dd659805c40621e">renamedSerializing</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a94f16020be7d9c91aa978ce88f0adb1b">renamedTempSerializing</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDefaultRename.html#a50c910ed2a23d1bbb3e7861c2d1f33f4">renameSkidInsts</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<h3>template&lt;class Impl&gt;<br/>
 class DefaultRename&lt; Impl &gt;</h3>

<p><a class="el" href="classDefaultRename.html">DefaultRename</a> handles both single threaded and SMT rename. Its width is specified by the parameters; each cycle it tries to rename that many instructions. It holds onto the rename history of all instructions with destination registers, storing the arch. register, the new physical register, and the old physical register, to allow for undoing of mappings if squashing happens, or freeing up registers upon commit. Rename handles blocking if the <a class="el" href="classROB.html">ROB</a>, IQ, or <a class="el" href="classLSQ.html">LSQ</a> is going to be full. Rename also handles barriers, and does so by stalling on the instruction until the <a class="el" href="classROB.html">ROB</a> is empty and there are no instructions in flight to the <a class="el" href="classROB.html">ROB</a>. </p>
<hr/><h2>型定義</h2>
<a class="anchor" id="a05a26def5ee77f19d25b86079d161ebd"></a><!-- doxytag: member="DefaultRename::Commit" ref="a05a26def5ee77f19d25b86079d161ebd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPol::Commit <a class="el" href="classDefaultRename.html#a05a26def5ee77f19d25b86079d161ebd">Commit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a87d662eaeb9eab249d671b63cb4ba11a"></a><!-- doxytag: member="DefaultRename::CPUPol" ref="a87d662eaeb9eab249d671b63cb4ba11a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::CPUPol <a class="el" href="classDefaultRename.html#a87d662eaeb9eab249d671b63cb4ba11a">CPUPol</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a38077cd156cf219016abf92d8c5b523b"></a><!-- doxytag: member="DefaultRename::DecodeStruct" ref="a38077cd156cf219016abf92d8c5b523b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPol::DecodeStruct <a class="el" href="classDefaultRename.html#a38077cd156cf219016abf92d8c5b523b">DecodeStruct</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a028ce10889c5f6450239d9e9a7347976"></a><!-- doxytag: member="DefaultRename::DynInstPtr" ref="a028ce10889c5f6450239d9e9a7347976" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::DynInstPtr <a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab784c356bacd490590fba42443e0f786"></a><!-- doxytag: member="DefaultRename::FreeList" ref="ab784c356bacd490590fba42443e0f786" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPol::FreeList <a class="el" href="classDefaultRename.html#ab784c356bacd490590fba42443e0f786">FreeList</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e298f790f528754f0e0ffa0cb8088f6"></a><!-- doxytag: member="DefaultRename::IEW" ref="a2e298f790f528754f0e0ffa0cb8088f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPol::IEW <a class="el" href="classDefaultRename.html#a2e298f790f528754f0e0ffa0cb8088f6">IEW</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adba1ac227fff8c6f9b17ded2fb270e77"></a><!-- doxytag: member="DefaultRename::InstQueue" ref="adba1ac227fff8c6f9b17ded2fb270e77" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt; <a class="el" href="classstd_1_1list.html">InstQueue</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a184cb829e22cc656acb41864f68f51ea"></a><!-- doxytag: member="DefaultRename::ListIt" ref="a184cb829e22cc656acb41864f68f51ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt;::iterator <a class="el" href="classDefaultRename.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a44622cf06940413482836cb62931ac3f"></a><!-- doxytag: member="DefaultRename::O3CPU" ref="a44622cf06940413482836cb62931ac3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::O3CPU <a class="el" href="classDefaultRename.html#a44622cf06940413482836cb62931ac3f">O3CPU</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a36d25e03e43fa3bb4c5482cbefe5e0fb"></a><!-- doxytag: member="DefaultRename::RegIndex" ref="a36d25e03e43fa3bb4c5482cbefe5e0fb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef TheISA::RegIndex <a class="el" href="classDefaultRename.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a341963bcea1928476182a17e357f98e3"></a><!-- doxytag: member="DefaultRename::RenameMap" ref="a341963bcea1928476182a17e357f98e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPol::RenameMap <a class="el" href="classDefaultRename.html#a341963bcea1928476182a17e357f98e3">RenameMap</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0c2a89ad2edad9ad605d0461f9b132a5"></a><!-- doxytag: member="DefaultRename::RenameStruct" ref="a0c2a89ad2edad9ad605d0461f9b132a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPol::RenameStruct <a class="el" href="classDefaultRename.html#a0c2a89ad2edad9ad605d0461f9b132a5">RenameStruct</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab7dd3632ef639702a5c6e7c2c3a2f82a"></a><!-- doxytag: member="DefaultRename::TimeStruct" ref="ab7dd3632ef639702a5c6e7c2c3a2f82a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPol::TimeStruct <a class="el" href="structTimeStruct.html">TimeStruct</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>列挙型</h2>
<a class="anchor" id="ae3b7ca6b65ac494b86816b5f1dd24e96"></a><!-- doxytag: member="DefaultRename::FullSource" ref="ae3b7ca6b65ac494b86816b5f1dd24e96" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96">FullSource</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enum to record the source of a structure full stall. Can come from either <a class="el" href="classROB.html">ROB</a>, IQ, <a class="el" href="classLSQ.html">LSQ</a>, and it is priortized in that order. </p>
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ae3b7ca6b65ac494b86816b5f1dd24e96a5040344e9d10f27af23c05c21c5e284f"></a><!-- doxytag: member="ROB" ref="ae3b7ca6b65ac494b86816b5f1dd24e96a5040344e9d10f27af23c05c21c5e284f" args="" -->ROB</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae3b7ca6b65ac494b86816b5f1dd24e96a7608065caa4249ff47a58c32d6f3c531"></a><!-- doxytag: member="IQ" ref="ae3b7ca6b65ac494b86816b5f1dd24e96a7608065caa4249ff47a58c32d6f3c531" args="" -->IQ</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae3b7ca6b65ac494b86816b5f1dd24e96a4cc572b5087c4e67104941ee638a8512"></a><!-- doxytag: member="LSQ" ref="ae3b7ca6b65ac494b86816b5f1dd24e96a4cc572b5087c4e67104941ee638a8512" args="" -->LSQ</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae3b7ca6b65ac494b86816b5f1dd24e96ac157bdf0b85a40d2619cbc8bc1ae5fe2"></a><!-- doxytag: member="NONE" ref="ae3b7ca6b65ac494b86816b5f1dd24e96ac157bdf0b85a40d2619cbc8bc1ae5fe2" args="" -->NONE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00444"></a>00444                     {
<a name="l00445"></a>00445         <a class="code" href="classROB.html">ROB</a>,
<a name="l00446"></a>00446         <a class="code" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96a7608065caa4249ff47a58c32d6f3c531">IQ</a>,
<a name="l00447"></a>00447         <a class="code" href="classLSQ.html">LSQ</a>,
<a name="l00448"></a>00448         <a class="code" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a>
<a name="l00449"></a>00449     };
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac9f77d94a52c9029448b6d7b61d32718"></a><!-- doxytag: member="DefaultRename::RenameStatus" ref="ac9f77d94a52c9029448b6d7b61d32718" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718">RenameStatus</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Overall rename status. Used to determine if the CPU can deschedule itself due to a lack of activity. </p>
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ac9f77d94a52c9029448b6d7b61d32718a26bd8444261cc58df7a86753c79d2520"></a><!-- doxytag: member="Active" ref="ac9f77d94a52c9029448b6d7b61d32718a26bd8444261cc58df7a86753c79d2520" args="" -->Active</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac9f77d94a52c9029448b6d7b61d32718a969c924a722daf6334fca64346092ae6"></a><!-- doxytag: member="Inactive" ref="ac9f77d94a52c9029448b6d7b61d32718a969c924a722daf6334fca64346092ae6" args="" -->Inactive</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00099"></a>00099                       {
<a name="l00100"></a>00100         <a class="code" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718a26bd8444261cc58df7a86753c79d2520">Active</a>,
<a name="l00101"></a>00101         <a class="code" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718a969c924a722daf6334fca64346092ae6">Inactive</a>
<a name="l00102"></a>00102     };
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae2739961013a00cede621d4d72f2173c"></a><!-- doxytag: member="DefaultRename::ThreadStatus" ref="ae2739961013a00cede621d4d72f2173c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173c">ThreadStatus</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Individual thread status. </p>
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ae2739961013a00cede621d4d72f2173ca2f5f2c4a8c4f4f0519d503dcdfbf55cb"></a><!-- doxytag: member="Running" ref="ae2739961013a00cede621d4d72f2173ca2f5f2c4a8c4f4f0519d503dcdfbf55cb" args="" -->Running</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae2739961013a00cede621d4d72f2173cad3fa9ae9431d6cb1772f9d9df48cab19"></a><!-- doxytag: member="Idle" ref="ae2739961013a00cede621d4d72f2173cad3fa9ae9431d6cb1772f9d9df48cab19" args="" -->Idle</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae2739961013a00cede621d4d72f2173ca19a48e232b72697e4bb7ea1b6075ed49"></a><!-- doxytag: member="StartSquash" ref="ae2739961013a00cede621d4d72f2173ca19a48e232b72697e4bb7ea1b6075ed49" args="" -->StartSquash</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae2739961013a00cede621d4d72f2173ca22a648855197e326dc88f548634c0ec7"></a><!-- doxytag: member="Squashing" ref="ae2739961013a00cede621d4d72f2173ca22a648855197e326dc88f548634c0ec7" args="" -->Squashing</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae2739961013a00cede621d4d72f2173ca9463ee9b8700258a1019b4b9d2d77a30"></a><!-- doxytag: member="Blocked" ref="ae2739961013a00cede621d4d72f2173ca9463ee9b8700258a1019b4b9d2d77a30" args="" -->Blocked</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0"></a><!-- doxytag: member="Unblocking" ref="ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0" args="" -->Unblocking</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3"></a><!-- doxytag: member="SerializeStall" ref="ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3" args="" -->SerializeStall</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00105"></a>00105                       {
<a name="l00106"></a>00106         <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a>,
<a name="l00107"></a>00107         <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173cad3fa9ae9431d6cb1772f9d9df48cab19">Idle</a>,
<a name="l00108"></a>00108         <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca19a48e232b72697e4bb7ea1b6075ed49">StartSquash</a>,
<a name="l00109"></a>00109         <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca22a648855197e326dc88f548634c0ec7">Squashing</a>,
<a name="l00110"></a>00110         <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca9463ee9b8700258a1019b4b9d2d77a30">Blocked</a>,
<a name="l00111"></a>00111         <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>,
<a name="l00112"></a>00112         <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3">SerializeStall</a>
<a name="l00113"></a>00113     };
</pre></div></p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a6035d792bb85b9f4c301d53c20885dfc"></a><!-- doxytag: member="DefaultRename::DefaultRename" ref="a6035d792bb85b9f4c301d53c20885dfc" args="(O3CPU *_cpu, DerivO3CPUParams *params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDefaultRename.html">DefaultRename</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDefaultRename.html#a44622cf06940413482836cb62931ac3f">O3CPU</a> *&nbsp;</td>
          <td class="paramname"> <em>_cpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DerivO3CPUParams *&nbsp;</td>
          <td class="paramname"> <em>params</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classDefaultRename.html">DefaultRename</a> constructor. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00064"></a>00064     : <a class="code" href="classDefaultRename.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>(_cpu),
<a name="l00065"></a>00065       <a class="code" href="classDefaultRename.html#a3069f8fd673d0e9ea2b1a8ce0ad3fe06">iewToRenameDelay</a>(params-&gt;iewToRenameDelay),
<a name="l00066"></a>00066       <a class="code" href="classDefaultRename.html#a4ff2f51d1e391f739d6d1c73a6bcd0c1">decodeToRenameDelay</a>(params-&gt;decodeToRenameDelay),
<a name="l00067"></a>00067       <a class="code" href="classDefaultRename.html#a03ebbedbf40ac0005574e50b3577a651">commitToRenameDelay</a>(params-&gt;commitToRenameDelay),
<a name="l00068"></a>00068       <a class="code" href="classDefaultRename.html#a4b41704382bddb6ee06b5ce97b47dd7b">renameWidth</a>(params-&gt;renameWidth),
<a name="l00069"></a>00069       <a class="code" href="classDefaultRename.html#aeab15260a0ccc0ea470bb74344b63d17">commitWidth</a>(params-&gt;commitWidth),
<a name="l00070"></a>00070       <a class="code" href="classDefaultRename.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>(params-&gt;numThreads),
<a name="l00071"></a>00071       <a class="code" href="classDefaultRename.html#acc18d044ab2bf32e6515938485638d28">maxPhysicalRegs</a>(params-&gt;numPhysIntRegs + params-&gt;numPhysFloatRegs
<a name="l00072"></a>00072                       + params-&gt;numPhysCCRegs)
<a name="l00073"></a>00073 {
<a name="l00074"></a>00074     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a4b41704382bddb6ee06b5ce97b47dd7b">renameWidth</a> &gt; Impl::MaxWidth)
<a name="l00075"></a>00075         <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;renameWidth (%d) is larger than compiled limit (%d),\n&quot;</span>
<a name="l00076"></a>00076              <span class="stringliteral">&quot;\tincrease MaxWidth in src/cpu/o3/impl.hh\n&quot;</span>,
<a name="l00077"></a>00077              <a class="code" href="classDefaultRename.html#a4b41704382bddb6ee06b5ce97b47dd7b">renameWidth</a>, static_cast&lt;int&gt;(Impl::MaxWidth));
<a name="l00078"></a>00078 
<a name="l00079"></a>00079     <span class="comment">// @todo: Make into a parameter.</span>
<a name="l00080"></a>00080     <a class="code" href="classDefaultRename.html#a268414a6444b620140f263013a739a17">skidBufferMax</a> = (2 * (<a class="code" href="classDefaultRename.html#a4ff2f51d1e391f739d6d1c73a6bcd0c1">decodeToRenameDelay</a> * params-&gt;decodeWidth)) + <a class="code" href="classDefaultRename.html#a4b41704382bddb6ee06b5ce97b47dd7b">renameWidth</a>;
<a name="l00081"></a>00081 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="ad1993925abd15d3fb59fde2ccfa3d678"></a><!-- doxytag: member="DefaultRename::block" ref="ad1993925abd15d3fb59fde2ccfa3d678" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Switches rename to blocking, and signals back that rename has become blocked. </p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>Returns true if there is a status change. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00812"></a>00812 {
<a name="l00813"></a>00813     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Blocking.\n&quot;</span>, tid);
<a name="l00814"></a>00814 
<a name="l00815"></a>00815     <span class="comment">// Add the current inputs onto the skid buffer, so they can be</span>
<a name="l00816"></a>00816     <span class="comment">// reprocessed when this stage unblocks.</span>
<a name="l00817"></a>00817     <a class="code" href="classDefaultRename.html#ac24515147270ef9b85991bbe13bd47af">skidInsert</a>(tid);
<a name="l00818"></a>00818 
<a name="l00819"></a>00819     <span class="comment">// Only signal backwards to block if the previous stages do not think</span>
<a name="l00820"></a>00820     <span class="comment">// rename is already blocked.</span>
<a name="l00821"></a>00821     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] != <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca9463ee9b8700258a1019b4b9d2d77a30">Blocked</a>) {
<a name="l00822"></a>00822         <span class="comment">// If resumeUnblocking is set, we unblocked during the squash,</span>
<a name="l00823"></a>00823         <span class="comment">// but now we&apos;re have unblocking status. We need to tell earlier</span>
<a name="l00824"></a>00824         <span class="comment">// stages to block.</span>
<a name="l00825"></a>00825         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#aacc2e9a4766def499954195037465d42">resumeUnblocking</a> || <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] != <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>) {
<a name="l00826"></a>00826             <a class="code" href="classDefaultRename.html#aeb2f0e9b4602def9a8a57f7e3e12cf27">toDecode</a>-&gt;renameBlock[tid] = <span class="keyword">true</span>;
<a name="l00827"></a>00827             <a class="code" href="classDefaultRename.html#aeb2f0e9b4602def9a8a57f7e3e12cf27">toDecode</a>-&gt;renameUnblock[tid] = <span class="keyword">false</span>;
<a name="l00828"></a>00828             <a class="code" href="classDefaultRename.html#a2c7e870d4babdac0dc91fc7ffabd0f3d">wroteToTimeBuffer</a> = <span class="keyword">true</span>;
<a name="l00829"></a>00829         }
<a name="l00830"></a>00830 
<a name="l00831"></a>00831         <span class="comment">// Rename can not go from SerializeStall to Blocked, otherwise</span>
<a name="l00832"></a>00832         <span class="comment">// it would not know to complete the serialize stall.</span>
<a name="l00833"></a>00833         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] != <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3">SerializeStall</a>) {
<a name="l00834"></a>00834             <span class="comment">// Set status to Blocked.</span>
<a name="l00835"></a>00835             <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] = <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca9463ee9b8700258a1019b4b9d2d77a30">Blocked</a>;
<a name="l00836"></a>00836             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00837"></a>00837         }
<a name="l00838"></a>00838     }
<a name="l00839"></a>00839 
<a name="l00840"></a>00840     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00841"></a>00841 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a27fa95f1f1dd353635a73f0b56a64e24"></a><!-- doxytag: member="DefaultRename::calcFreeIQEntries" ref="a27fa95f1f1dd353635a73f0b56a64e24" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int calcFreeIQEntries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Calculates the number of free IQ entries for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01114"></a>01114 {
<a name="l01115"></a>01115     <span class="keywordtype">int</span> num_free = <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].<a class="code" href="structDefaultRename_1_1FreeEntries.html#ad0ea8223895ed6e0525ab5d0ecbc1baf">iqEntries</a> -
<a name="l01116"></a>01116                   (<a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid] - <a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a>-&gt;iewInfo[tid].dispatched);
<a name="l01117"></a>01117 
<a name="l01118"></a>01118     <span class="comment">//DPRINTF(Rename,&quot;[tid:%i]: %i iq free\n&quot;,tid,num_free);</span>
<a name="l01119"></a>01119 
<a name="l01120"></a>01120     <span class="keywordflow">return</span> num_free;
<a name="l01121"></a>01121 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a31f50b46622924ea0e53e641b635887c"></a><!-- doxytag: member="DefaultRename::calcFreeLSQEntries" ref="a31f50b46622924ea0e53e641b635887c" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int calcFreeLSQEntries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Calculates the number of free <a class="el" href="classLSQ.html">LSQ</a> entries for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01126"></a>01126 {
<a name="l01127"></a>01127     <span class="keywordtype">int</span> num_free = <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].<a class="code" href="structDefaultRename_1_1FreeEntries.html#a0251753eeeeffa9ebc3c69909dc95dc2">lsqEntries</a> -
<a name="l01128"></a>01128                   (<a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid] - <a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a>-&gt;iewInfo[tid].dispatchedToLSQ);
<a name="l01129"></a>01129 
<a name="l01130"></a>01130     <span class="comment">//DPRINTF(Rename,&quot;[tid:%i]: %i lsq free\n&quot;,tid,num_free);</span>
<a name="l01131"></a>01131 
<a name="l01132"></a>01132     <span class="keywordflow">return</span> num_free;
<a name="l01133"></a>01133 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6367314e59f9295e1bf57419938874c5"></a><!-- doxytag: member="DefaultRename::calcFreeROBEntries" ref="a6367314e59f9295e1bf57419938874c5" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int calcFreeROBEntries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Calculates the number of free <a class="el" href="classROB.html">ROB</a> entries for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01102"></a>01102 {
<a name="l01103"></a>01103     <span class="keywordtype">int</span> num_free = <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].<a class="code" href="structDefaultRename_1_1FreeEntries.html#a4abcd7f900b12d143638dc56a18dd81b">robEntries</a> -
<a name="l01104"></a>01104                   (<a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid] - <a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a>-&gt;iewInfo[tid].dispatched);
<a name="l01105"></a>01105 
<a name="l01106"></a>01106     <span class="comment">//DPRINTF(Rename,&quot;[tid:%i]: %i rob free\n&quot;,tid,num_free);</span>
<a name="l01107"></a>01107 
<a name="l01108"></a>01108     <span class="keywordflow">return</span> num_free;
<a name="l01109"></a>01109 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af77f2bf38a75182c65e633b9fdf295d2"></a><!-- doxytag: member="DefaultRename::checkSignalsAndUpdate" ref="af77f2bf38a75182c65e633b9fdf295d2" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkSignalsAndUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks the signals and updates the status. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01236"></a>01236 {
<a name="l01237"></a>01237     <span class="comment">// Check if there&apos;s a squash signal, squash if there is</span>
<a name="l01238"></a>01238     <span class="comment">// Check stall signals, block if necessary.</span>
<a name="l01239"></a>01239     <span class="comment">// If status was blocked</span>
<a name="l01240"></a>01240     <span class="comment">//     check if stall conditions have passed</span>
<a name="l01241"></a>01241     <span class="comment">//         if so then go to unblocking</span>
<a name="l01242"></a>01242     <span class="comment">// If status was Squashing</span>
<a name="l01243"></a>01243     <span class="comment">//     check if squashing is not high.  Switch to running this cycle.</span>
<a name="l01244"></a>01244     <span class="comment">// If status was serialize stall</span>
<a name="l01245"></a>01245     <span class="comment">//     check if ROB is empty and no insts are in flight to the ROB</span>
<a name="l01246"></a>01246 
<a name="l01247"></a>01247     <a class="code" href="classDefaultRename.html#a7dc4c8fb34921e56b869bac55a7f3806">readFreeEntries</a>(tid);
<a name="l01248"></a>01248     <a class="code" href="classDefaultRename.html#ad65c9f053a6038ac8c34c34bfe9a88c3">readStallSignals</a>(tid);
<a name="l01249"></a>01249 
<a name="l01250"></a>01250     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitInfo[tid].squash) {
<a name="l01251"></a>01251         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Squashing instructions due to squash from &quot;</span>
<a name="l01252"></a>01252                 <span class="stringliteral">&quot;commit.\n&quot;</span>, tid);
<a name="l01253"></a>01253 
<a name="l01254"></a>01254         <a class="code" href="classDefaultRename.html#aa896d7ff2c9da1e6e96d46ab4580ec9d">squash</a>(<a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitInfo[tid].doneSeqNum, tid);
<a name="l01255"></a>01255 
<a name="l01256"></a>01256         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01257"></a>01257     }
<a name="l01258"></a>01258 
<a name="l01259"></a>01259     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitInfo[tid].robSquashing) {
<a name="l01260"></a>01260         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: ROB is still squashing.\n&quot;</span>, tid);
<a name="l01261"></a>01261 
<a name="l01262"></a>01262         <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] = <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca22a648855197e326dc88f548634c0ec7">Squashing</a>;
<a name="l01263"></a>01263 
<a name="l01264"></a>01264         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01265"></a>01265     }
<a name="l01266"></a>01266 
<a name="l01267"></a>01267     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a2dd2400250619a315cb46f95f777db01">checkStall</a>(tid)) {
<a name="l01268"></a>01268         <span class="keywordflow">return</span> <a class="code" href="classDefaultRename.html#ad1993925abd15d3fb59fde2ccfa3d678">block</a>(tid);
<a name="l01269"></a>01269     }
<a name="l01270"></a>01270 
<a name="l01271"></a>01271     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca9463ee9b8700258a1019b4b9d2d77a30">Blocked</a>) {
<a name="l01272"></a>01272         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Done blocking, switching to unblocking.\n&quot;</span>,
<a name="l01273"></a>01273                 tid);
<a name="l01274"></a>01274 
<a name="l01275"></a>01275         <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] = <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>;
<a name="l01276"></a>01276 
<a name="l01277"></a>01277         <a class="code" href="classDefaultRename.html#a9cc3b95f6969935f78c0158aa5145021">unblock</a>(tid);
<a name="l01278"></a>01278 
<a name="l01279"></a>01279         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01280"></a>01280     }
<a name="l01281"></a>01281 
<a name="l01282"></a>01282     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca22a648855197e326dc88f548634c0ec7">Squashing</a>) {
<a name="l01283"></a>01283         <span class="comment">// Switch status to running if rename isn&apos;t being told to block or</span>
<a name="l01284"></a>01284         <span class="comment">// squash this cycle.</span>
<a name="l01285"></a>01285         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#afa9ffeefc4b3ff8ae1ea9919bedbd1e4">resumeSerialize</a>) {
<a name="l01286"></a>01286             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Done squashing, switching to serialize.\n&quot;</span>,
<a name="l01287"></a>01287                     tid);
<a name="l01288"></a>01288 
<a name="l01289"></a>01289             <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] = <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3">SerializeStall</a>;
<a name="l01290"></a>01290             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01291"></a>01291         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#aacc2e9a4766def499954195037465d42">resumeUnblocking</a>) {
<a name="l01292"></a>01292             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Done squashing, switching to unblocking.\n&quot;</span>,
<a name="l01293"></a>01293                     tid);
<a name="l01294"></a>01294             <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] = <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>;
<a name="l01295"></a>01295             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01296"></a>01296         } <span class="keywordflow">else</span> {
<a name="l01297"></a>01297             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Done squashing, switching to running.\n&quot;</span>,
<a name="l01298"></a>01298                     tid);
<a name="l01299"></a>01299 
<a name="l01300"></a>01300             <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] = <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a>;
<a name="l01301"></a>01301             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01302"></a>01302         }
<a name="l01303"></a>01303     }
<a name="l01304"></a>01304 
<a name="l01305"></a>01305     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3">SerializeStall</a>) {
<a name="l01306"></a>01306         <span class="comment">// Stall ends once the ROB is free.</span>
<a name="l01307"></a>01307         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Done with serialize stall, switching to &quot;</span>
<a name="l01308"></a>01308                 <span class="stringliteral">&quot;unblocking.\n&quot;</span>, tid);
<a name="l01309"></a>01309 
<a name="l01310"></a>01310         <a class="code" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> serial_inst = <a class="code" href="classDefaultRename.html#a12ab5fca837718e12cc837d0f3c1da82">serializeInst</a>[tid];
<a name="l01311"></a>01311 
<a name="l01312"></a>01312         <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] = <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>;
<a name="l01313"></a>01313 
<a name="l01314"></a>01314         <a class="code" href="classDefaultRename.html#a9cc3b95f6969935f78c0158aa5145021">unblock</a>(tid);
<a name="l01315"></a>01315 
<a name="l01316"></a>01316         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Processing instruction [%lli] with &quot;</span>
<a name="l01317"></a>01317                 <span class="stringliteral">&quot;PC %s.\n&quot;</span>, tid, serial_inst-&gt;seqNum, serial_inst-&gt;pcState());
<a name="l01318"></a>01318 
<a name="l01319"></a>01319         <span class="comment">// Put instruction into queue here.</span>
<a name="l01320"></a>01320         serial_inst-&gt;clearSerializeBefore();
<a name="l01321"></a>01321 
<a name="l01322"></a>01322         <span class="keywordflow">if</span> (!<a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].empty()) {
<a name="l01323"></a>01323             <a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].push_front(serial_inst);
<a name="l01324"></a>01324         } <span class="keywordflow">else</span> {
<a name="l01325"></a>01325             <a class="code" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a>[tid].push_front(serial_inst);
<a name="l01326"></a>01326         }
<a name="l01327"></a>01327 
<a name="l01328"></a>01328         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Instruction must be processed by rename.&quot;</span>
<a name="l01329"></a>01329                 <span class="stringliteral">&quot; Adding to front of list.\n&quot;</span>, tid);
<a name="l01330"></a>01330 
<a name="l01331"></a>01331         <a class="code" href="classDefaultRename.html#a12ab5fca837718e12cc837d0f3c1da82">serializeInst</a>[tid] = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l01332"></a>01332 
<a name="l01333"></a>01333         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01334"></a>01334     }
<a name="l01335"></a>01335 
<a name="l01336"></a>01336     <span class="comment">// If we&apos;ve reached this point, we have not gotten any signals that</span>
<a name="l01337"></a>01337     <span class="comment">// cause rename to change its status.  Rename remains the same as before.</span>
<a name="l01338"></a>01338     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01339"></a>01339 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2dd2400250619a315cb46f95f777db01"></a><!-- doxytag: member="DefaultRename::checkStall" ref="a2dd2400250619a315cb46f95f777db01" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkStall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks if any stages are telling rename to block. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01175"></a>01175 {
<a name="l01176"></a>01176     <span class="keywordtype">bool</span> ret_val = <span class="keyword">false</span>;
<a name="l01177"></a>01177 
<a name="l01178"></a>01178     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a>[tid].iew) {
<a name="l01179"></a>01179         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename,<span class="stringliteral">&quot;[tid:%i]: Stall from IEW stage detected.\n&quot;</span>, tid);
<a name="l01180"></a>01180         ret_val = <span class="keyword">true</span>;
<a name="l01181"></a>01181     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a>[tid].commit) {
<a name="l01182"></a>01182         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename,<span class="stringliteral">&quot;[tid:%i]: Stall from Commit stage detected.\n&quot;</span>, tid);
<a name="l01183"></a>01183         ret_val = <span class="keyword">true</span>;
<a name="l01184"></a>01184     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a6367314e59f9295e1bf57419938874c5">calcFreeROBEntries</a>(tid) &lt;= 0) {
<a name="l01185"></a>01185         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename,<span class="stringliteral">&quot;[tid:%i]: Stall: ROB has 0 free entries.\n&quot;</span>, tid);
<a name="l01186"></a>01186         ret_val = <span class="keyword">true</span>;
<a name="l01187"></a>01187     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a27fa95f1f1dd353635a73f0b56a64e24">calcFreeIQEntries</a>(tid) &lt;= 0) {
<a name="l01188"></a>01188         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename,<span class="stringliteral">&quot;[tid:%i]: Stall: IQ has 0 free entries.\n&quot;</span>, tid);
<a name="l01189"></a>01189         ret_val = <span class="keyword">true</span>;
<a name="l01190"></a>01190     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a31f50b46622924ea0e53e641b635887c">calcFreeLSQEntries</a>(tid) &lt;= 0) {
<a name="l01191"></a>01191         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename,<span class="stringliteral">&quot;[tid:%i]: Stall: LSQ has 0 free entries.\n&quot;</span>, tid);
<a name="l01192"></a>01192         ret_val = <span class="keyword">true</span>;
<a name="l01193"></a>01193     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#ac305c101c17d28451cc1f023b187b08b">renameMap</a>[tid]-&gt;numFreeEntries() &lt;= 0) {
<a name="l01194"></a>01194         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename,<span class="stringliteral">&quot;[tid:%i]: Stall: RenameMap has 0 free entries.\n&quot;</span>, tid);
<a name="l01195"></a>01195         ret_val = <span class="keyword">true</span>;
<a name="l01196"></a>01196     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3">SerializeStall</a> &amp;&amp;
<a name="l01197"></a>01197                (!<a class="code" href="classDefaultRename.html#a5a3345554ca63a6e859943d7174d714f">emptyROB</a>[tid] || <a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid])) {
<a name="l01198"></a>01198         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename,<span class="stringliteral">&quot;[tid:%i]: Stall: Serialize stall and ROB is not &quot;</span>
<a name="l01199"></a>01199                 <span class="stringliteral">&quot;empty.\n&quot;</span>,
<a name="l01200"></a>01200                 tid);
<a name="l01201"></a>01201         ret_val = <span class="keyword">true</span>;
<a name="l01202"></a>01202     }
<a name="l01203"></a>01203 
<a name="l01204"></a>01204     <span class="keywordflow">return</span> ret_val;
<a name="l01205"></a>01205 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a32818ae72457917ca9551faa708ba584"></a><!-- doxytag: member="DefaultRename::doSquash" ref="a32818ae72457917ca9551faa708ba584" args="(const InstSeqNum &amp;squash_seq_num, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void doSquash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>squash_seq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes actual squash, removing squashed instructions. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00867"></a>00867 {
<a name="l00868"></a>00868     <span class="keyword">typename</span> <a class="code" href="classstd_1_1list.html">std::list&lt;RenameHistory&gt;::iterator</a> hb_it =
<a name="l00869"></a>00869         <a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].begin();
<a name="l00870"></a>00870 
<a name="l00871"></a>00871     <span class="comment">// After a syscall squashes everything, the history buffer may be empty</span>
<a name="l00872"></a>00872     <span class="comment">// but the ROB may still be squashing instructions.</span>
<a name="l00873"></a>00873     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].empty()) {
<a name="l00874"></a>00874         <span class="keywordflow">return</span>;
<a name="l00875"></a>00875     }
<a name="l00876"></a>00876 
<a name="l00877"></a>00877     <span class="comment">// Go through the most recent instructions, undoing the mappings</span>
<a name="l00878"></a>00878     <span class="comment">// they did and freeing up the registers.</span>
<a name="l00879"></a>00879     <span class="keywordflow">while</span> (!<a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].empty() &amp;&amp;
<a name="l00880"></a>00880            hb_it-&gt;instSeqNum &gt; squashed_seq_num) {
<a name="l00881"></a>00881         assert(hb_it != <a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].end());
<a name="l00882"></a>00882 
<a name="l00883"></a>00883         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Removing history entry with sequence &quot;</span>
<a name="l00884"></a>00884                 <span class="stringliteral">&quot;number %i.\n&quot;</span>, tid, hb_it-&gt;instSeqNum);
<a name="l00885"></a>00885 
<a name="l00886"></a>00886         <span class="comment">// Undo the rename mapping only if it was really a change.</span>
<a name="l00887"></a>00887         <span class="comment">// Special regs that are not really renamed (like misc regs</span>
<a name="l00888"></a>00888         <span class="comment">// and the zero reg) can be recognized because the new mapping</span>
<a name="l00889"></a>00889         <span class="comment">// is the same as the old one.  While it would be merely a</span>
<a name="l00890"></a>00890         <span class="comment">// waste of time to update the rename table, we definitely</span>
<a name="l00891"></a>00891         <span class="comment">// don&apos;t want to put these on the free list.</span>
<a name="l00892"></a>00892         <span class="keywordflow">if</span> (hb_it-&gt;newPhysReg != hb_it-&gt;prevPhysReg) {
<a name="l00893"></a>00893             <span class="comment">// Tell the rename map to set the architected register to the</span>
<a name="l00894"></a>00894             <span class="comment">// previous physical register that it was renamed to.</span>
<a name="l00895"></a>00895             <a class="code" href="classDefaultRename.html#ac305c101c17d28451cc1f023b187b08b">renameMap</a>[tid]-&gt;setEntry(hb_it-&gt;archReg, hb_it-&gt;prevPhysReg);
<a name="l00896"></a>00896 
<a name="l00897"></a>00897             <span class="comment">// Put the renamed physical register back on the free list.</span>
<a name="l00898"></a>00898             <a class="code" href="classDefaultRename.html#a2e829c52dbc56e7ac6d2fc6a0524ff9c">freeList</a>-&gt;addReg(hb_it-&gt;newPhysReg);
<a name="l00899"></a>00899         }
<a name="l00900"></a>00900 
<a name="l00901"></a>00901         <a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].erase(hb_it++);
<a name="l00902"></a>00902 
<a name="l00903"></a>00903         ++<a class="code" href="classDefaultRename.html#ae0c8395975c577671916d55df6e05b16">renameUndoneMaps</a>;
<a name="l00904"></a>00904     }
<a name="l00905"></a>00905 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0240eb42fa57fe5d3788093f62b77347"></a><!-- doxytag: member="DefaultRename::drainSanityCheck" ref="a0240eb42fa57fe5d3788093f62b77347" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drainSanityCheck </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform sanity checks after a drain. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00308"></a>00308 {
<a name="l00309"></a>00309     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classDefaultRename.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l00310"></a>00310         assert(<a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].empty());
<a name="l00311"></a>00311         assert(<a class="code" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a>[tid].empty());
<a name="l00312"></a>00312         assert(<a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].empty());
<a name="l00313"></a>00313         assert(<a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid] == 0);
<a name="l00314"></a>00314     }
<a name="l00315"></a>00315 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a697961c6f132b511d2921ed9feed80fa"></a><!-- doxytag: member="DefaultRename::dumpHistory" ref="a697961c6f132b511d2921ed9feed80fa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dumpHistory </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Debugging function used to dump history buffer of renamings. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01378"></a>01378 {
<a name="l01379"></a>01379     <span class="keyword">typename</span> <a class="code" href="classstd_1_1list.html">std::list&lt;RenameHistory&gt;::iterator</a> buf_it;
<a name="l01380"></a>01380 
<a name="l01381"></a>01381     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classDefaultRename.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l01382"></a>01382 
<a name="l01383"></a>01383         buf_it = <a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].begin();
<a name="l01384"></a>01384 
<a name="l01385"></a>01385         <span class="keywordflow">while</span> (buf_it != <a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].end()) {
<a name="l01386"></a>01386             <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Seq num: %i\nArch reg: %i New phys reg: %i Old phys &quot;</span>
<a name="l01387"></a>01387                     <span class="stringliteral">&quot;reg: %i\n&quot;</span>, (*buf_it).instSeqNum, (<span class="keywordtype">int</span>)(*buf_it).archReg,
<a name="l01388"></a>01388                     (<span class="keywordtype">int</span>)(*buf_it).newPhysReg, (<span class="keywordtype">int</span>)(*buf_it).prevPhysReg);
<a name="l01389"></a>01389 
<a name="l01390"></a>01390             buf_it++;
<a name="l01391"></a>01391         }
<a name="l01392"></a>01392     }
<a name="l01393"></a>01393 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a11c6015950a669c6a37e5d9bee62bbbf"></a><!-- doxytag: member="DefaultRename::incrFullStat" ref="a11c6015950a669c6a37e5d9bee62bbbf" args="(const FullSource &amp;source)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void incrFullStat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96">FullSource</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>source</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function used to increment the stat that corresponds to the source of the stall. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01358"></a>01358 {
<a name="l01359"></a>01359     <span class="keywordflow">switch</span> (source) {
<a name="l01360"></a>01360       <span class="keywordflow">case</span> <a class="code" href="classROB.html">ROB</a>:
<a name="l01361"></a>01361         ++<a class="code" href="classDefaultRename.html#a41408b25638b2531bc9e3b6ee622d148">renameROBFullEvents</a>;
<a name="l01362"></a>01362         <span class="keywordflow">break</span>;
<a name="l01363"></a>01363       <span class="keywordflow">case</span> <a class="code" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96a7608065caa4249ff47a58c32d6f3c531">IQ</a>:
<a name="l01364"></a>01364         ++<a class="code" href="classDefaultRename.html#a9a4bab1aece13e48ae2d2a3f247b3354">renameIQFullEvents</a>;
<a name="l01365"></a>01365         <span class="keywordflow">break</span>;
<a name="l01366"></a>01366       <span class="keywordflow">case</span> <a class="code" href="classLSQ.html">LSQ</a>:
<a name="l01367"></a>01367         ++<a class="code" href="classDefaultRename.html#aba431e021496d1070a1d8f9ad7ec71f2">renameLSQFullEvents</a>;
<a name="l01368"></a>01368         <span class="keywordflow">break</span>;
<a name="l01369"></a>01369       <span class="keywordflow">default</span>:
<a name="l01370"></a>01370         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Rename full stall stat should be incremented for a reason!&quot;</span>);
<a name="l01371"></a>01371         <span class="keywordflow">break</span>;
<a name="l01372"></a>01372     }
<a name="l01373"></a>01373 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adf5473c18a3d7c1e88c4a2072bce5526"></a><!-- doxytag: member="DefaultRename::isDrained" ref="adf5473c18a3d7c1e88c4a2072bce5526" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isDrained </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Has the stage drained? </p>

<p><div class="fragment"><pre class="fragment"><a name="l00287"></a>00287 {
<a name="l00288"></a>00288     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classDefaultRename.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l00289"></a>00289         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid] != 0 ||
<a name="l00290"></a>00290             !<a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].empty() ||
<a name="l00291"></a>00291             !<a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].empty() ||
<a name="l00292"></a>00292             !<a class="code" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a>[tid].empty())
<a name="l00293"></a>00293             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00294"></a>00294     }
<a name="l00295"></a>00295     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00296"></a>00296 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a37627d5d5bba7f4a8690c71c2ab3cb07"></a><!-- doxytag: member="DefaultRename::name" ref="a37627d5d5bba7f4a8690c71c2ab3cb07" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the name of rename. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00086"></a>00086 {
<a name="l00087"></a>00087     <span class="keywordflow">return</span> <a class="code" href="classDefaultRename.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>-&gt;name() + <span class="stringliteral">&quot;.rename&quot;</span>;
<a name="l00088"></a>00088 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7dc4c8fb34921e56b869bac55a7f3806"></a><!-- doxytag: member="DefaultRename::readFreeEntries" ref="a7dc4c8fb34921e56b869bac55a7f3806" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void readFreeEntries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the number of free entries for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01210"></a>01210 {
<a name="l01211"></a>01211     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a>-&gt;iewInfo[tid].usedIQ)
<a name="l01212"></a>01212         <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].<a class="code" href="structDefaultRename_1_1FreeEntries.html#ad0ea8223895ed6e0525ab5d0ecbc1baf">iqEntries</a> = <a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a>-&gt;iewInfo[tid].freeIQEntries;
<a name="l01213"></a>01213 
<a name="l01214"></a>01214     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a>-&gt;iewInfo[tid].usedLSQ)
<a name="l01215"></a>01215         <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].<a class="code" href="structDefaultRename_1_1FreeEntries.html#a0251753eeeeffa9ebc3c69909dc95dc2">lsqEntries</a> = <a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a>-&gt;iewInfo[tid].freeLSQEntries;
<a name="l01216"></a>01216 
<a name="l01217"></a>01217     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitInfo[tid].usedROB) {
<a name="l01218"></a>01218         <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].<a class="code" href="structDefaultRename_1_1FreeEntries.html#a4abcd7f900b12d143638dc56a18dd81b">robEntries</a> =
<a name="l01219"></a>01219             <a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitInfo[tid].freeROBEntries;
<a name="l01220"></a>01220         <a class="code" href="classDefaultRename.html#a5a3345554ca63a6e859943d7174d714f">emptyROB</a>[tid] = <a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitInfo[tid].emptyROB;
<a name="l01221"></a>01221     }
<a name="l01222"></a>01222 
<a name="l01223"></a>01223     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%i]: Free IQ: %i, Free ROB: %i, Free LSQ: %i\n&quot;</span>,
<a name="l01224"></a>01224             tid,
<a name="l01225"></a>01225             <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].iqEntries,
<a name="l01226"></a>01226             <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].robEntries,
<a name="l01227"></a>01227             <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].lsqEntries);
<a name="l01228"></a>01228 
<a name="l01229"></a>01229     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%i]: %i instructions not yet in ROB\n&quot;</span>,
<a name="l01230"></a>01230             tid, <a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid]);
<a name="l01231"></a>01231 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad65c9f053a6038ac8c34c34bfe9a88c3"></a><!-- doxytag: member="DefaultRename::readStallSignals" ref="ad65c9f053a6038ac8c34c34bfe9a88c3" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void readStallSignals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads signals telling rename to block/unblock. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01152"></a>01152 {
<a name="l01153"></a>01153     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a>-&gt;iewBlock[tid]) {
<a name="l01154"></a>01154         <a class="code" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a>[tid].<a class="code" href="structDefaultRename_1_1Stalls.html#a69f40ab12e9825ce316dfa72651a7404">iew</a> = <span class="keyword">true</span>;
<a name="l01155"></a>01155     }
<a name="l01156"></a>01156 
<a name="l01157"></a>01157     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a>-&gt;iewUnblock[tid]) {
<a name="l01158"></a>01158         assert(<a class="code" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a>[tid].iew);
<a name="l01159"></a>01159         <a class="code" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a>[tid].<a class="code" href="structDefaultRename_1_1Stalls.html#a69f40ab12e9825ce316dfa72651a7404">iew</a> = <span class="keyword">false</span>;
<a name="l01160"></a>01160     }
<a name="l01161"></a>01161 
<a name="l01162"></a>01162     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitBlock[tid]) {
<a name="l01163"></a>01163         <a class="code" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a>[tid].<a class="code" href="structDefaultRename_1_1Stalls.html#ad7d6b839c43385b5fffdf2beaff214ec">commit</a> = <span class="keyword">true</span>;
<a name="l01164"></a>01164     }
<a name="l01165"></a>01165 
<a name="l01166"></a>01166     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitUnblock[tid]) {
<a name="l01167"></a>01167         assert(<a class="code" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a>[tid].commit);
<a name="l01168"></a>01168         <a class="code" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a>[tid].<a class="code" href="structDefaultRename_1_1Stalls.html#ad7d6b839c43385b5fffdf2beaff214ec">commit</a> = <span class="keyword">false</span>;
<a name="l01169"></a>01169     }
<a name="l01170"></a>01170 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4dc637449366fcdfc4e764cdf12d9b11"></a><!-- doxytag: member="DefaultRename::regStats" ref="a4dc637449366fcdfc4e764cdf12d9b11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void regStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Registers statistics. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00093"></a>00093 {
<a name="l00094"></a>00094     <a class="code" href="classDefaultRename.html#a8931e7bb259c1fe875fd5a88017b29e2">renameSquashCycles</a>
<a name="l00095"></a>00095         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.SquashCycles&quot;</span>)
<a name="l00096"></a>00096         .desc(<span class="stringliteral">&quot;Number of cycles rename is squashing&quot;</span>)
<a name="l00097"></a>00097         .prereq(<a class="code" href="classDefaultRename.html#a8931e7bb259c1fe875fd5a88017b29e2">renameSquashCycles</a>);
<a name="l00098"></a>00098     <a class="code" href="classDefaultRename.html#a53baed8fe49369b373c3dd986c683596">renameIdleCycles</a>
<a name="l00099"></a>00099         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.IdleCycles&quot;</span>)
<a name="l00100"></a>00100         .desc(<span class="stringliteral">&quot;Number of cycles rename is idle&quot;</span>)
<a name="l00101"></a>00101         .prereq(<a class="code" href="classDefaultRename.html#a53baed8fe49369b373c3dd986c683596">renameIdleCycles</a>);
<a name="l00102"></a>00102     <a class="code" href="classDefaultRename.html#a45732215f002b5052d042ef5798735f0">renameBlockCycles</a>
<a name="l00103"></a>00103         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.BlockCycles&quot;</span>)
<a name="l00104"></a>00104         .desc(<span class="stringliteral">&quot;Number of cycles rename is blocking&quot;</span>)
<a name="l00105"></a>00105         .prereq(<a class="code" href="classDefaultRename.html#a45732215f002b5052d042ef5798735f0">renameBlockCycles</a>);
<a name="l00106"></a>00106     <a class="code" href="classDefaultRename.html#a712d72379bc583c374e2f6179e8ee58f">renameSerializeStallCycles</a>
<a name="l00107"></a>00107         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.serializeStallCycles&quot;</span>)
<a name="l00108"></a>00108         .desc(<span class="stringliteral">&quot;count of cycles rename stalled for serializing inst&quot;</span>)
<a name="l00109"></a>00109         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">Stats::total</a>);
<a name="l00110"></a>00110     <a class="code" href="classDefaultRename.html#a7dd03c8b7a88da84ff7e1bdd6b938d47">renameRunCycles</a>
<a name="l00111"></a>00111         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.RunCycles&quot;</span>)
<a name="l00112"></a>00112         .desc(<span class="stringliteral">&quot;Number of cycles rename is running&quot;</span>)
<a name="l00113"></a>00113         .prereq(<a class="code" href="classDefaultRename.html#a53baed8fe49369b373c3dd986c683596">renameIdleCycles</a>);
<a name="l00114"></a>00114     <a class="code" href="classDefaultRename.html#a2f14c493f619ee24a84fbe959ed72a97">renameUnblockCycles</a>
<a name="l00115"></a>00115         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.UnblockCycles&quot;</span>)
<a name="l00116"></a>00116         .desc(<span class="stringliteral">&quot;Number of cycles rename is unblocking&quot;</span>)
<a name="l00117"></a>00117         .prereq(<a class="code" href="classDefaultRename.html#a2f14c493f619ee24a84fbe959ed72a97">renameUnblockCycles</a>);
<a name="l00118"></a>00118     <a class="code" href="classDefaultRename.html#aee6bb4587ea6f254fc29dda4d565afc9">renameRenamedInsts</a>
<a name="l00119"></a>00119         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.RenamedInsts&quot;</span>)
<a name="l00120"></a>00120         .desc(<span class="stringliteral">&quot;Number of instructions processed by rename&quot;</span>)
<a name="l00121"></a>00121         .prereq(<a class="code" href="classDefaultRename.html#aee6bb4587ea6f254fc29dda4d565afc9">renameRenamedInsts</a>);
<a name="l00122"></a>00122     <a class="code" href="classDefaultRename.html#ae988aa97bbfa339fc6e6bf0cbad90832">renameSquashedInsts</a>
<a name="l00123"></a>00123         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.SquashedInsts&quot;</span>)
<a name="l00124"></a>00124         .desc(<span class="stringliteral">&quot;Number of squashed instructions processed by rename&quot;</span>)
<a name="l00125"></a>00125         .prereq(<a class="code" href="classDefaultRename.html#ae988aa97bbfa339fc6e6bf0cbad90832">renameSquashedInsts</a>);
<a name="l00126"></a>00126     <a class="code" href="classDefaultRename.html#a41408b25638b2531bc9e3b6ee622d148">renameROBFullEvents</a>
<a name="l00127"></a>00127         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.ROBFullEvents&quot;</span>)
<a name="l00128"></a>00128         .desc(<span class="stringliteral">&quot;Number of times rename has blocked due to ROB full&quot;</span>)
<a name="l00129"></a>00129         .prereq(<a class="code" href="classDefaultRename.html#a41408b25638b2531bc9e3b6ee622d148">renameROBFullEvents</a>);
<a name="l00130"></a>00130     <a class="code" href="classDefaultRename.html#a9a4bab1aece13e48ae2d2a3f247b3354">renameIQFullEvents</a>
<a name="l00131"></a>00131         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.IQFullEvents&quot;</span>)
<a name="l00132"></a>00132         .desc(<span class="stringliteral">&quot;Number of times rename has blocked due to IQ full&quot;</span>)
<a name="l00133"></a>00133         .prereq(<a class="code" href="classDefaultRename.html#a9a4bab1aece13e48ae2d2a3f247b3354">renameIQFullEvents</a>);
<a name="l00134"></a>00134     <a class="code" href="classDefaultRename.html#aba431e021496d1070a1d8f9ad7ec71f2">renameLSQFullEvents</a>
<a name="l00135"></a>00135         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.LSQFullEvents&quot;</span>)
<a name="l00136"></a>00136         .desc(<span class="stringliteral">&quot;Number of times rename has blocked due to LSQ full&quot;</span>)
<a name="l00137"></a>00137         .prereq(<a class="code" href="classDefaultRename.html#aba431e021496d1070a1d8f9ad7ec71f2">renameLSQFullEvents</a>);
<a name="l00138"></a>00138     <a class="code" href="classDefaultRename.html#ac012d0908acb20c3f68593787f626711">renameFullRegistersEvents</a>
<a name="l00139"></a>00139         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.FullRegisterEvents&quot;</span>)
<a name="l00140"></a>00140         .desc(<span class="stringliteral">&quot;Number of times there has been no free registers&quot;</span>)
<a name="l00141"></a>00141         .prereq(<a class="code" href="classDefaultRename.html#ac012d0908acb20c3f68593787f626711">renameFullRegistersEvents</a>);
<a name="l00142"></a>00142     <a class="code" href="classDefaultRename.html#a3e2c435288350f7d805557b4d1a2b7a5">renameRenamedOperands</a>
<a name="l00143"></a>00143         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.RenamedOperands&quot;</span>)
<a name="l00144"></a>00144         .desc(<span class="stringliteral">&quot;Number of destination operands rename has renamed&quot;</span>)
<a name="l00145"></a>00145         .prereq(<a class="code" href="classDefaultRename.html#a3e2c435288350f7d805557b4d1a2b7a5">renameRenamedOperands</a>);
<a name="l00146"></a>00146     <a class="code" href="classDefaultRename.html#ab0b7632e67fcf2fe1e6bb1cef111eda4">renameRenameLookups</a>
<a name="l00147"></a>00147         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.RenameLookups&quot;</span>)
<a name="l00148"></a>00148         .desc(<span class="stringliteral">&quot;Number of register rename lookups that rename has made&quot;</span>)
<a name="l00149"></a>00149         .prereq(<a class="code" href="classDefaultRename.html#ab0b7632e67fcf2fe1e6bb1cef111eda4">renameRenameLookups</a>);
<a name="l00150"></a>00150     <a class="code" href="classDefaultRename.html#a5d4c3559dbd988f18cc6d1c0e0470fcb">renameCommittedMaps</a>
<a name="l00151"></a>00151         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.CommittedMaps&quot;</span>)
<a name="l00152"></a>00152         .desc(<span class="stringliteral">&quot;Number of HB maps that are committed&quot;</span>)
<a name="l00153"></a>00153         .prereq(<a class="code" href="classDefaultRename.html#a5d4c3559dbd988f18cc6d1c0e0470fcb">renameCommittedMaps</a>);
<a name="l00154"></a>00154     <a class="code" href="classDefaultRename.html#ae0c8395975c577671916d55df6e05b16">renameUndoneMaps</a>
<a name="l00155"></a>00155         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.UndoneMaps&quot;</span>)
<a name="l00156"></a>00156         .desc(<span class="stringliteral">&quot;Number of HB maps that are undone due to squashing&quot;</span>)
<a name="l00157"></a>00157         .prereq(<a class="code" href="classDefaultRename.html#ae0c8395975c577671916d55df6e05b16">renameUndoneMaps</a>);
<a name="l00158"></a>00158     <a class="code" href="classDefaultRename.html#a6e383a41c8a2b8902dd659805c40621e">renamedSerializing</a>
<a name="l00159"></a>00159         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.serializingInsts&quot;</span>)
<a name="l00160"></a>00160         .desc(<span class="stringliteral">&quot;count of serializing insts renamed&quot;</span>)
<a name="l00161"></a>00161         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">Stats::total</a>)
<a name="l00162"></a>00162         ;
<a name="l00163"></a>00163     <a class="code" href="classDefaultRename.html#a94f16020be7d9c91aa978ce88f0adb1b">renamedTempSerializing</a>
<a name="l00164"></a>00164         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.tempSerializingInsts&quot;</span>)
<a name="l00165"></a>00165         .desc(<span class="stringliteral">&quot;count of temporary serializing insts renamed&quot;</span>)
<a name="l00166"></a>00166         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">Stats::total</a>)
<a name="l00167"></a>00167         ;
<a name="l00168"></a>00168     <a class="code" href="classDefaultRename.html#a50c910ed2a23d1bbb3e7861c2d1f33f4">renameSkidInsts</a>
<a name="l00169"></a>00169         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.skidInsts&quot;</span>)
<a name="l00170"></a>00170         .desc(<span class="stringliteral">&quot;count of insts added to the skid buffer&quot;</span>)
<a name="l00171"></a>00171         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">Stats::total</a>)
<a name="l00172"></a>00172         ;
<a name="l00173"></a>00173     <a class="code" href="classDefaultRename.html#ae2548cb038c1868f0dcf4c5df1154b12">intRenameLookups</a>
<a name="l00174"></a>00174         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.int_rename_lookups&quot;</span>)
<a name="l00175"></a>00175         .desc(<span class="stringliteral">&quot;Number of integer rename lookups&quot;</span>)
<a name="l00176"></a>00176         .prereq(<a class="code" href="classDefaultRename.html#ae2548cb038c1868f0dcf4c5df1154b12">intRenameLookups</a>);
<a name="l00177"></a>00177     <a class="code" href="classDefaultRename.html#ad27b51042b9dc458c5dd63b8c5f8d467">fpRenameLookups</a>
<a name="l00178"></a>00178         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classDefaultRename.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.fp_rename_lookups&quot;</span>)
<a name="l00179"></a>00179         .desc(<span class="stringliteral">&quot;Number of floating rename lookups&quot;</span>)
<a name="l00180"></a>00180         .prereq(<a class="code" href="classDefaultRename.html#ad27b51042b9dc458c5dd63b8c5f8d467">fpRenameLookups</a>);
<a name="l00181"></a>00181 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4e15b4f66caef87aacbd195e4a02804d"></a><!-- doxytag: member="DefaultRename::removeFromHistory" ref="a4e15b4f66caef87aacbd195e4a02804d" args="(InstSeqNum inst_seq_num, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void removeFromHistory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>&nbsp;</td>
          <td class="paramname"> <em>inst_seq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes a committed instruction's rename history. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00910"></a>00910 {
<a name="l00911"></a>00911     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Removing a committed instruction from the &quot;</span>
<a name="l00912"></a>00912             <span class="stringliteral">&quot;history buffer %u (size=%i), until [sn:%lli].\n&quot;</span>,
<a name="l00913"></a>00913             tid, tid, <a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].size(), inst_seq_num);
<a name="l00914"></a>00914 
<a name="l00915"></a>00915     <span class="keyword">typename</span> <a class="code" href="classstd_1_1list.html">std::list&lt;RenameHistory&gt;::iterator</a> hb_it =
<a name="l00916"></a>00916         <a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].end();
<a name="l00917"></a>00917 
<a name="l00918"></a>00918     --hb_it;
<a name="l00919"></a>00919 
<a name="l00920"></a>00920     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].empty()) {
<a name="l00921"></a>00921         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: History buffer is empty.\n&quot;</span>, tid);
<a name="l00922"></a>00922         <span class="keywordflow">return</span>;
<a name="l00923"></a>00923     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hb_it-&gt;instSeqNum &gt; inst_seq_num) {
<a name="l00924"></a>00924         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Old sequence number encountered.  Ensure &quot;</span>
<a name="l00925"></a>00925                 <span class="stringliteral">&quot;that a syscall happened recently.\n&quot;</span>, tid);
<a name="l00926"></a>00926         <span class="keywordflow">return</span>;
<a name="l00927"></a>00927     }
<a name="l00928"></a>00928 
<a name="l00929"></a>00929     <span class="comment">// Commit all the renames up until (and including) the committed sequence</span>
<a name="l00930"></a>00930     <span class="comment">// number. Some or even all of the committed instructions may not have</span>
<a name="l00931"></a>00931     <span class="comment">// rename histories if they did not have destination registers that were</span>
<a name="l00932"></a>00932     <span class="comment">// renamed.</span>
<a name="l00933"></a>00933     <span class="keywordflow">while</span> (!<a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].empty() &amp;&amp;
<a name="l00934"></a>00934            hb_it != <a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].end() &amp;&amp;
<a name="l00935"></a>00935            hb_it-&gt;instSeqNum &lt;= inst_seq_num) {
<a name="l00936"></a>00936 
<a name="l00937"></a>00937         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Freeing up older rename of reg %i, &quot;</span>
<a name="l00938"></a>00938                 <span class="stringliteral">&quot;[sn:%lli].\n&quot;</span>,
<a name="l00939"></a>00939                 tid, hb_it-&gt;prevPhysReg, hb_it-&gt;instSeqNum);
<a name="l00940"></a>00940 
<a name="l00941"></a>00941         <span class="comment">// Don&apos;t free special phys regs like misc and zero regs, which</span>
<a name="l00942"></a>00942         <span class="comment">// can be recognized because the new mapping is the same as</span>
<a name="l00943"></a>00943         <span class="comment">// the old one.</span>
<a name="l00944"></a>00944         <span class="keywordflow">if</span> (hb_it-&gt;newPhysReg != hb_it-&gt;prevPhysReg) {
<a name="l00945"></a>00945             <a class="code" href="classDefaultRename.html#a2e829c52dbc56e7ac6d2fc6a0524ff9c">freeList</a>-&gt;addReg(hb_it-&gt;prevPhysReg);
<a name="l00946"></a>00946         }
<a name="l00947"></a>00947 
<a name="l00948"></a>00948         ++<a class="code" href="classDefaultRename.html#a5d4c3559dbd988f18cc6d1c0e0470fcb">renameCommittedMaps</a>;
<a name="l00949"></a>00949 
<a name="l00950"></a>00950         <a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].erase(hb_it--);
<a name="l00951"></a>00951     }
<a name="l00952"></a>00952 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae79f7fcdd0255495d6df18c063988432"></a><!-- doxytag: member="DefaultRename::rename" ref="ae79f7fcdd0255495d6df18c063988432" args="(bool &amp;status_change, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rename </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&nbsp;</td>
          <td class="paramname"> <em>status_change</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determines what to do based on rename's current status. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>status_change</em>&nbsp;</td><td><a class="el" href="classDefaultRename.html#ae79f7fcdd0255495d6df18c063988432">rename()</a> sets this variable if there was a status change (ie switching from blocking to unblocking). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tid</em>&nbsp;</td><td>Thread id to rename instructions from. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00432"></a>00432 {
<a name="l00433"></a>00433     <span class="comment">// If status is Running or idle,</span>
<a name="l00434"></a>00434     <span class="comment">//     call renameInsts()</span>
<a name="l00435"></a>00435     <span class="comment">// If status is Unblocking,</span>
<a name="l00436"></a>00436     <span class="comment">//     buffer any instructions coming from decode</span>
<a name="l00437"></a>00437     <span class="comment">//     continue trying to empty skid buffer</span>
<a name="l00438"></a>00438     <span class="comment">//     check if stall conditions have passed</span>
<a name="l00439"></a>00439 
<a name="l00440"></a>00440     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca9463ee9b8700258a1019b4b9d2d77a30">Blocked</a>) {
<a name="l00441"></a>00441         ++<a class="code" href="classDefaultRename.html#a45732215f002b5052d042ef5798735f0">renameBlockCycles</a>;
<a name="l00442"></a>00442     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca22a648855197e326dc88f548634c0ec7">Squashing</a>) {
<a name="l00443"></a>00443         ++<a class="code" href="classDefaultRename.html#a8931e7bb259c1fe875fd5a88017b29e2">renameSquashCycles</a>;
<a name="l00444"></a>00444     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3">SerializeStall</a>) {
<a name="l00445"></a>00445         ++<a class="code" href="classDefaultRename.html#a712d72379bc583c374e2f6179e8ee58f">renameSerializeStallCycles</a>;
<a name="l00446"></a>00446         <span class="comment">// If we are currently in SerializeStall and resumeSerialize</span>
<a name="l00447"></a>00447         <span class="comment">// was set, then that means that we are resuming serializing</span>
<a name="l00448"></a>00448         <span class="comment">// this cycle.  Tell the previous stages to block.</span>
<a name="l00449"></a>00449         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#afa9ffeefc4b3ff8ae1ea9919bedbd1e4">resumeSerialize</a>) {
<a name="l00450"></a>00450             <a class="code" href="classDefaultRename.html#afa9ffeefc4b3ff8ae1ea9919bedbd1e4">resumeSerialize</a> = <span class="keyword">false</span>;
<a name="l00451"></a>00451             <a class="code" href="classDefaultRename.html#ad1993925abd15d3fb59fde2ccfa3d678">block</a>(tid);
<a name="l00452"></a>00452             <a class="code" href="classDefaultRename.html#aeb2f0e9b4602def9a8a57f7e3e12cf27">toDecode</a>-&gt;renameUnblock[tid] = <span class="keyword">false</span>;
<a name="l00453"></a>00453         }
<a name="l00454"></a>00454     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>) {
<a name="l00455"></a>00455         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#aacc2e9a4766def499954195037465d42">resumeUnblocking</a>) {
<a name="l00456"></a>00456             <a class="code" href="classDefaultRename.html#ad1993925abd15d3fb59fde2ccfa3d678">block</a>(tid);
<a name="l00457"></a>00457             <a class="code" href="classDefaultRename.html#aacc2e9a4766def499954195037465d42">resumeUnblocking</a> = <span class="keyword">false</span>;
<a name="l00458"></a>00458             <a class="code" href="classDefaultRename.html#aeb2f0e9b4602def9a8a57f7e3e12cf27">toDecode</a>-&gt;renameUnblock[tid] = <span class="keyword">false</span>;
<a name="l00459"></a>00459         }
<a name="l00460"></a>00460     }
<a name="l00461"></a>00461 
<a name="l00462"></a>00462     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a> ||
<a name="l00463"></a>00463         <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173cad3fa9ae9431d6cb1772f9d9df48cab19">Idle</a>) {
<a name="l00464"></a>00464         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Not blocked, so attempting to run &quot;</span>
<a name="l00465"></a>00465                 <span class="stringliteral">&quot;stage.\n&quot;</span>, tid);
<a name="l00466"></a>00466 
<a name="l00467"></a>00467         <a class="code" href="classDefaultRename.html#a8ff86a7781da8390490774c08b1819f2">renameInsts</a>(tid);
<a name="l00468"></a>00468     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>) {
<a name="l00469"></a>00469         <a class="code" href="classDefaultRename.html#a8ff86a7781da8390490774c08b1819f2">renameInsts</a>(tid);
<a name="l00470"></a>00470 
<a name="l00471"></a>00471         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#ad533c56329b83d5b1aef92d0a6594b2c">validInsts</a>()) {
<a name="l00472"></a>00472             <span class="comment">// Add the current inputs to the skid buffer so they can be</span>
<a name="l00473"></a>00473             <span class="comment">// reprocessed when this stage unblocks.</span>
<a name="l00474"></a>00474             <a class="code" href="classDefaultRename.html#ac24515147270ef9b85991bbe13bd47af">skidInsert</a>(tid);
<a name="l00475"></a>00475         }
<a name="l00476"></a>00476 
<a name="l00477"></a>00477         <span class="comment">// If we switched over to blocking, then there&apos;s a potential for</span>
<a name="l00478"></a>00478         <span class="comment">// an overall status change.</span>
<a name="l00479"></a>00479         status_change = <a class="code" href="classDefaultRename.html#a9cc3b95f6969935f78c0158aa5145021">unblock</a>(tid) || status_change || <a class="code" href="classDefaultRename.html#a5a5235d747599dbd49a887663f3739e8">blockThisCycle</a>;
<a name="l00480"></a>00480     }
<a name="l00481"></a>00481 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a21ced1baf75f43ecfa99d8c90ae210d6"></a><!-- doxytag: member="DefaultRename::renameDestRegs" ref="a21ced1baf75f43ecfa99d8c90ae210d6" args="(DynInstPtr &amp;inst, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void renameDestRegs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Renames the destination registers of an instruction. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01022"></a>01022 {
<a name="l01023"></a>01023     <a class="code" href="classThreadContext.html">ThreadContext</a> *<a class="code" href="namespaceArmISA.html#a5aff829af55e65b802d83dfcef4e9dd0">tc</a> = inst-&gt;tcBase();
<a name="l01024"></a>01024     <a class="code" href="classDefaultRename.html#a341963bcea1928476182a17e357f98e3">RenameMap</a> *map = <a class="code" href="classDefaultRename.html#ac305c101c17d28451cc1f023b187b08b">renameMap</a>[tid];
<a name="l01025"></a>01025     <span class="keywordtype">unsigned</span> num_dest_regs = inst-&gt;numDestRegs();
<a name="l01026"></a>01026 
<a name="l01027"></a>01027     <span class="comment">// Rename the destination registers.</span>
<a name="l01028"></a>01028     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dest_idx = 0; dest_idx &lt; num_dest_regs; dest_idx++) {
<a name="l01029"></a>01029         <a class="code" href="classDefaultRename.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> dest_reg = inst-&gt;destRegIdx(dest_idx);
<a name="l01030"></a>01030         <a class="code" href="classDefaultRename.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_dest_reg;
<a name="l01031"></a>01031         <a class="code" href="classDefaultRename.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> flat_rel_dest_reg;
<a name="l01032"></a>01032         <a class="code" href="classDefaultRename.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> flat_uni_dest_reg;
<a name="l01033"></a>01033         <span class="keyword">typename</span> RenameMap::RenameInfo rename_result;
<a name="l01034"></a>01034 
<a name="l01035"></a>01035         <span class="keywordflow">switch</span> (<a class="code" href="reg__class_8hh.html#a275a232e420c9ac198b7f942c885ecf8">regIdxToClass</a>(dest_reg, &amp;rel_dest_reg)) {
<a name="l01036"></a>01036           <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0ab412c1eeaf26e79fee8922d9a479889c" title="Integer register.">IntRegClass</a>:
<a name="l01037"></a>01037             flat_rel_dest_reg = tc-&gt;<a class="code" href="classThreadContext.html#a6940c379416884cb0b9eb04c5193580e">flattenIntIndex</a>(rel_dest_reg);
<a name="l01038"></a>01038             rename_result = map-&gt;renameInt(flat_rel_dest_reg);
<a name="l01039"></a>01039             flat_uni_dest_reg = flat_rel_dest_reg;  <span class="comment">// 1:1 mapping</span>
<a name="l01040"></a>01040             <span class="keywordflow">break</span>;
<a name="l01041"></a>01041 
<a name="l01042"></a>01042           <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0a207a831a62a5c23ac4ac6405378b125e" title="Floating-point register.">FloatRegClass</a>:
<a name="l01043"></a>01043             flat_rel_dest_reg = tc-&gt;<a class="code" href="classThreadContext.html#a7176627444d21b2734a0855b67e6aacf">flattenFloatIndex</a>(rel_dest_reg);
<a name="l01044"></a>01044             rename_result = map-&gt;renameFloat(flat_rel_dest_reg);
<a name="l01045"></a>01045             flat_uni_dest_reg = flat_rel_dest_reg + <a class="code" href="namespaceAlphaISA.html#a4720195f4575f008ac78181d27db827ea23c089ac23981fe820094e2fc1579bf4">TheISA::FP_Reg_Base</a>;
<a name="l01046"></a>01046             <span class="keywordflow">break</span>;
<a name="l01047"></a>01047 
<a name="l01048"></a>01048           <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0a432484d211463d83c5bd364df83f82c2" title="Condition-code register.">CCRegClass</a>:
<a name="l01049"></a>01049             flat_rel_dest_reg = tc-&gt;<a class="code" href="classThreadContext.html#aedffeaa2c4a155d5916a2ae379d77a51">flattenCCIndex</a>(rel_dest_reg);
<a name="l01050"></a>01050             rename_result = map-&gt;renameCC(flat_rel_dest_reg);
<a name="l01051"></a>01051             flat_uni_dest_reg = flat_rel_dest_reg + <a class="code" href="namespaceAlphaISA.html#a4720195f4575f008ac78181d27db827eae261857dbef59e0d93992a1e2d1fa322">TheISA::CC_Reg_Base</a>;
<a name="l01052"></a>01052             <span class="keywordflow">break</span>;
<a name="l01053"></a>01053 
<a name="l01054"></a>01054           <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0aed057341e8e2e418632e8a03b42b3f39" title="Control (misc) register.">MiscRegClass</a>:
<a name="l01055"></a>01055             <span class="comment">// misc regs don&apos;t get flattened</span>
<a name="l01056"></a>01056             flat_rel_dest_reg = rel_dest_reg;
<a name="l01057"></a>01057             rename_result = map-&gt;renameMisc(flat_rel_dest_reg);
<a name="l01058"></a>01058             flat_uni_dest_reg = flat_rel_dest_reg + <a class="code" href="namespaceAlphaISA.html#a4720195f4575f008ac78181d27db827ea0cbf9912f8507e55495a158f1b94f803">TheISA::Misc_Reg_Base</a>;
<a name="l01059"></a>01059             <span class="keywordflow">break</span>;
<a name="l01060"></a>01060 
<a name="l01061"></a>01061           <span class="keywordflow">default</span>:
<a name="l01062"></a>01062             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Reg index is out of bound: %d.&quot;</span>, dest_reg);
<a name="l01063"></a>01063         }
<a name="l01064"></a>01064 
<a name="l01065"></a>01065         inst-&gt;flattenDestReg(dest_idx, flat_uni_dest_reg);
<a name="l01066"></a>01066 
<a name="l01067"></a>01067         <span class="comment">// Mark Scoreboard entry as not ready</span>
<a name="l01068"></a>01068         <a class="code" href="classDefaultRename.html#a265ad15229da2a6a05f908da093b3ed5">scoreboard</a>-&gt;<a class="code" href="classScoreboard.html#a69192a05bc6089fef590191f4ca52d11">unsetReg</a>(rename_result.first);
<a name="l01069"></a>01069 
<a name="l01070"></a>01070         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Renaming arch reg %i to physical &quot;</span>
<a name="l01071"></a>01071                 <span class="stringliteral">&quot;reg %i.\n&quot;</span>, tid, (<span class="keywordtype">int</span>)flat_rel_dest_reg,
<a name="l01072"></a>01072                 (<span class="keywordtype">int</span>)rename_result.first);
<a name="l01073"></a>01073 
<a name="l01074"></a>01074         <span class="comment">// Record the rename information so that a history can be kept.</span>
<a name="l01075"></a>01075         RenameHistory hb_entry(inst-&gt;seqNum, flat_uni_dest_reg,
<a name="l01076"></a>01076                                rename_result.first,
<a name="l01077"></a>01077                                rename_result.second);
<a name="l01078"></a>01078 
<a name="l01079"></a>01079         <a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].push_front(hb_entry);
<a name="l01080"></a>01080 
<a name="l01081"></a>01081         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Adding instruction to history buffer &quot;</span>
<a name="l01082"></a>01082                 <span class="stringliteral">&quot;(size=%i), [sn:%lli].\n&quot;</span>,tid,
<a name="l01083"></a>01083                 <a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].size(),
<a name="l01084"></a>01084                 (*<a class="code" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[tid].begin()).instSeqNum);
<a name="l01085"></a>01085 
<a name="l01086"></a>01086         <span class="comment">// Tell the instruction to rename the appropriate destination</span>
<a name="l01087"></a>01087         <span class="comment">// register (dest_idx) to the new physical register</span>
<a name="l01088"></a>01088         <span class="comment">// (rename_result.first), and record the previous physical</span>
<a name="l01089"></a>01089         <span class="comment">// register that the same logical register was renamed to</span>
<a name="l01090"></a>01090         <span class="comment">// (rename_result.second).</span>
<a name="l01091"></a>01091         inst-&gt;renameDestReg(dest_idx,
<a name="l01092"></a>01092                             rename_result.first,
<a name="l01093"></a>01093                             rename_result.second);
<a name="l01094"></a>01094 
<a name="l01095"></a>01095         ++<a class="code" href="classDefaultRename.html#a3e2c435288350f7d805557b4d1a2b7a5">renameRenamedOperands</a>;
<a name="l01096"></a>01096     }
<a name="l01097"></a>01097 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8ff86a7781da8390490774c08b1819f2"></a><!-- doxytag: member="DefaultRename::renameInsts" ref="a8ff86a7781da8390490774c08b1819f2" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void renameInsts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Renames instructions for the given thread. Also handles serializing instructions. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00486"></a>00486 {
<a name="l00487"></a>00487     <span class="comment">// Instructions can be either in the skid buffer or the queue of</span>
<a name="l00488"></a>00488     <span class="comment">// instructions coming from decode, depending on the status.</span>
<a name="l00489"></a>00489     <span class="keywordtype">int</span> insts_available = <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a> ?
<a name="l00490"></a>00490         <a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].size() : <a class="code" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a>[tid].size();
<a name="l00491"></a>00491 
<a name="l00492"></a>00492     <span class="comment">// Check the decode queue to see if instructions are available.</span>
<a name="l00493"></a>00493     <span class="comment">// If there are no available instructions to rename, then do nothing.</span>
<a name="l00494"></a>00494     <span class="keywordflow">if</span> (insts_available == 0) {
<a name="l00495"></a>00495         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Nothing to do, breaking out early.\n&quot;</span>,
<a name="l00496"></a>00496                 tid);
<a name="l00497"></a>00497         <span class="comment">// Should I change status to idle?</span>
<a name="l00498"></a>00498         ++<a class="code" href="classDefaultRename.html#a53baed8fe49369b373c3dd986c683596">renameIdleCycles</a>;
<a name="l00499"></a>00499         <span class="keywordflow">return</span>;
<a name="l00500"></a>00500     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>) {
<a name="l00501"></a>00501         ++<a class="code" href="classDefaultRename.html#a2f14c493f619ee24a84fbe959ed72a97">renameUnblockCycles</a>;
<a name="l00502"></a>00502     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a>) {
<a name="l00503"></a>00503         ++<a class="code" href="classDefaultRename.html#a7dd03c8b7a88da84ff7e1bdd6b938d47">renameRunCycles</a>;
<a name="l00504"></a>00504     }
<a name="l00505"></a>00505 
<a name="l00506"></a>00506     <a class="code" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> inst;
<a name="l00507"></a>00507 
<a name="l00508"></a>00508     <span class="comment">// Will have to do a different calculation for the number of free</span>
<a name="l00509"></a>00509     <span class="comment">// entries.</span>
<a name="l00510"></a>00510     <span class="keywordtype">int</span> free_rob_entries = <a class="code" href="classDefaultRename.html#a6367314e59f9295e1bf57419938874c5">calcFreeROBEntries</a>(tid);
<a name="l00511"></a>00511     <span class="keywordtype">int</span> free_iq_entries  = <a class="code" href="classDefaultRename.html#a27fa95f1f1dd353635a73f0b56a64e24">calcFreeIQEntries</a>(tid);
<a name="l00512"></a>00512     <span class="keywordtype">int</span> free_lsq_entries = <a class="code" href="classDefaultRename.html#a31f50b46622924ea0e53e641b635887c">calcFreeLSQEntries</a>(tid);
<a name="l00513"></a>00513     <span class="keywordtype">int</span> min_free_entries = free_rob_entries;
<a name="l00514"></a>00514 
<a name="l00515"></a>00515     <a class="code" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96">FullSource</a> source = <a class="code" href="classROB.html">ROB</a>;
<a name="l00516"></a>00516 
<a name="l00517"></a>00517     <span class="keywordflow">if</span> (free_iq_entries &lt; min_free_entries) {
<a name="l00518"></a>00518         min_free_entries = free_iq_entries;
<a name="l00519"></a>00519         source = <a class="code" href="classDefaultRename.html#ae3b7ca6b65ac494b86816b5f1dd24e96a7608065caa4249ff47a58c32d6f3c531">IQ</a>;
<a name="l00520"></a>00520     }
<a name="l00521"></a>00521 
<a name="l00522"></a>00522     <span class="keywordflow">if</span> (free_lsq_entries &lt; min_free_entries) {
<a name="l00523"></a>00523         min_free_entries = free_lsq_entries;
<a name="l00524"></a>00524         source = <a class="code" href="classLSQ.html">LSQ</a>;
<a name="l00525"></a>00525     }
<a name="l00526"></a>00526 
<a name="l00527"></a>00527     <span class="comment">// Check if there&apos;s any space left.</span>
<a name="l00528"></a>00528     <span class="keywordflow">if</span> (min_free_entries &lt;= 0) {
<a name="l00529"></a>00529         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Blocking due to no free ROB/IQ/LSQ &quot;</span>
<a name="l00530"></a>00530                 <span class="stringliteral">&quot;entries.\n&quot;</span>
<a name="l00531"></a>00531                 <span class="stringliteral">&quot;ROB has %i free entries.\n&quot;</span>
<a name="l00532"></a>00532                 <span class="stringliteral">&quot;IQ has %i free entries.\n&quot;</span>
<a name="l00533"></a>00533                 <span class="stringliteral">&quot;LSQ has %i free entries.\n&quot;</span>,
<a name="l00534"></a>00534                 tid,
<a name="l00535"></a>00535                 free_rob_entries,
<a name="l00536"></a>00536                 free_iq_entries,
<a name="l00537"></a>00537                 free_lsq_entries);
<a name="l00538"></a>00538 
<a name="l00539"></a>00539         <a class="code" href="classDefaultRename.html#a5a5235d747599dbd49a887663f3739e8">blockThisCycle</a> = <span class="keyword">true</span>;
<a name="l00540"></a>00540 
<a name="l00541"></a>00541         <a class="code" href="classDefaultRename.html#ad1993925abd15d3fb59fde2ccfa3d678">block</a>(tid);
<a name="l00542"></a>00542 
<a name="l00543"></a>00543         <a class="code" href="classDefaultRename.html#a11c6015950a669c6a37e5d9bee62bbbf">incrFullStat</a>(source);
<a name="l00544"></a>00544 
<a name="l00545"></a>00545         <span class="keywordflow">return</span>;
<a name="l00546"></a>00546     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (min_free_entries &lt; insts_available) {
<a name="l00547"></a>00547         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Will have to block this cycle.&quot;</span>
<a name="l00548"></a>00548                 <span class="stringliteral">&quot;%i insts available, but only %i insts can be &quot;</span>
<a name="l00549"></a>00549                 <span class="stringliteral">&quot;renamed due to ROB/IQ/LSQ limits.\n&quot;</span>,
<a name="l00550"></a>00550                 tid, insts_available, min_free_entries);
<a name="l00551"></a>00551 
<a name="l00552"></a>00552         insts_available = min_free_entries;
<a name="l00553"></a>00553 
<a name="l00554"></a>00554         <a class="code" href="classDefaultRename.html#a5a5235d747599dbd49a887663f3739e8">blockThisCycle</a> = <span class="keyword">true</span>;
<a name="l00555"></a>00555 
<a name="l00556"></a>00556         <a class="code" href="classDefaultRename.html#a11c6015950a669c6a37e5d9bee62bbbf">incrFullStat</a>(source);
<a name="l00557"></a>00557     }
<a name="l00558"></a>00558 
<a name="l00559"></a>00559     <a class="code" href="classInstQueue.html">InstQueue</a> &amp;insts_to_rename = <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a> ?
<a name="l00560"></a>00560         <a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid] : <a class="code" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a>[tid];
<a name="l00561"></a>00561 
<a name="l00562"></a>00562     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: %i available instructions to &quot;</span>
<a name="l00563"></a>00563             <span class="stringliteral">&quot;send iew.\n&quot;</span>, tid, insts_available);
<a name="l00564"></a>00564 
<a name="l00565"></a>00565     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: %i insts pipelining from Rename | %i insts &quot;</span>
<a name="l00566"></a>00566             <span class="stringliteral">&quot;dispatched to IQ last cycle.\n&quot;</span>,
<a name="l00567"></a>00567             tid, <a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid], <a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a>-&gt;iewInfo[tid].dispatched);
<a name="l00568"></a>00568 
<a name="l00569"></a>00569     <span class="comment">// Handle serializing the next instruction if necessary.</span>
<a name="l00570"></a>00570     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a4d99bc7f86d1a17d44e59c316c273262">serializeOnNextInst</a>[tid]) {
<a name="l00571"></a>00571         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a5a3345554ca63a6e859943d7174d714f">emptyROB</a>[tid] &amp;&amp; <a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid] == 0) {
<a name="l00572"></a>00572             <span class="comment">// ROB already empty; no need to serialize.</span>
<a name="l00573"></a>00573             <a class="code" href="classDefaultRename.html#a4d99bc7f86d1a17d44e59c316c273262">serializeOnNextInst</a>[tid] = <span class="keyword">false</span>;
<a name="l00574"></a>00574         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!insts_to_rename.empty()) {
<a name="l00575"></a>00575             insts_to_rename.front()-&gt;setSerializeBefore();
<a name="l00576"></a>00576         }
<a name="l00577"></a>00577     }
<a name="l00578"></a>00578 
<a name="l00579"></a>00579     <span class="keywordtype">int</span> renamed_insts = 0;
<a name="l00580"></a>00580 
<a name="l00581"></a>00581     <span class="keywordflow">while</span> (insts_available &gt; 0 &amp;&amp;  <a class="code" href="classDefaultRename.html#abb033b9572d00b4ffa5aca6c7fb51427">toIEWIndex</a> &lt; <a class="code" href="classDefaultRename.html#a4b41704382bddb6ee06b5ce97b47dd7b">renameWidth</a>) {
<a name="l00582"></a>00582         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Sending instructions to IEW.\n&quot;</span>, tid);
<a name="l00583"></a>00583 
<a name="l00584"></a>00584         assert(!insts_to_rename.empty());
<a name="l00585"></a>00585 
<a name="l00586"></a>00586         inst = insts_to_rename.front();
<a name="l00587"></a>00587 
<a name="l00588"></a>00588         insts_to_rename.pop_front();
<a name="l00589"></a>00589 
<a name="l00590"></a>00590         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>) {
<a name="l00591"></a>00591             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename,<span class="stringliteral">&quot;[tid:%u]: Removing [sn:%lli] PC:%s from rename &quot;</span>
<a name="l00592"></a>00592                     <span class="stringliteral">&quot;skidBuffer\n&quot;</span>, tid, inst-&gt;seqNum, inst-&gt;pcState());
<a name="l00593"></a>00593         }
<a name="l00594"></a>00594 
<a name="l00595"></a>00595         <span class="keywordflow">if</span> (inst-&gt;isSquashed()) {
<a name="l00596"></a>00596             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: instruction %i with PC %s is &quot;</span>
<a name="l00597"></a>00597                     <span class="stringliteral">&quot;squashed, skipping.\n&quot;</span>, tid, inst-&gt;seqNum,
<a name="l00598"></a>00598                     inst-&gt;pcState());
<a name="l00599"></a>00599 
<a name="l00600"></a>00600             ++<a class="code" href="classDefaultRename.html#ae988aa97bbfa339fc6e6bf0cbad90832">renameSquashedInsts</a>;
<a name="l00601"></a>00601 
<a name="l00602"></a>00602             <span class="comment">// Decrement how many instructions are available.</span>
<a name="l00603"></a>00603             --insts_available;
<a name="l00604"></a>00604 
<a name="l00605"></a>00605             <span class="keywordflow">continue</span>;
<a name="l00606"></a>00606         }
<a name="l00607"></a>00607 
<a name="l00608"></a>00608         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Processing instruction [sn:%lli] with &quot;</span>
<a name="l00609"></a>00609                 <span class="stringliteral">&quot;PC %s.\n&quot;</span>, tid, inst-&gt;seqNum, inst-&gt;pcState());
<a name="l00610"></a>00610 
<a name="l00611"></a>00611         <span class="comment">// Check here to make sure there are enough destination registers</span>
<a name="l00612"></a>00612         <span class="comment">// to rename to.  Otherwise block.</span>
<a name="l00613"></a>00613         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#ac305c101c17d28451cc1f023b187b08b">renameMap</a>[tid]-&gt;numFreeEntries() &lt; inst-&gt;numDestRegs()) {
<a name="l00614"></a>00614             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;Blocking due to lack of free &quot;</span>
<a name="l00615"></a>00615                     <span class="stringliteral">&quot;physical registers to rename to.\n&quot;</span>);
<a name="l00616"></a>00616             <a class="code" href="classDefaultRename.html#a5a5235d747599dbd49a887663f3739e8">blockThisCycle</a> = <span class="keyword">true</span>;
<a name="l00617"></a>00617             insts_to_rename.push_front(inst);
<a name="l00618"></a>00618             ++<a class="code" href="classDefaultRename.html#ac012d0908acb20c3f68593787f626711">renameFullRegistersEvents</a>;
<a name="l00619"></a>00619 
<a name="l00620"></a>00620             <span class="keywordflow">break</span>;
<a name="l00621"></a>00621         }
<a name="l00622"></a>00622 
<a name="l00623"></a>00623         <span class="comment">// Handle serializeAfter/serializeBefore instructions.</span>
<a name="l00624"></a>00624         <span class="comment">// serializeAfter marks the next instruction as serializeBefore.</span>
<a name="l00625"></a>00625         <span class="comment">// serializeBefore makes the instruction wait in rename until the ROB</span>
<a name="l00626"></a>00626         <span class="comment">// is empty.</span>
<a name="l00627"></a>00627 
<a name="l00628"></a>00628         <span class="comment">// In this model, IPR accesses are serialize before</span>
<a name="l00629"></a>00629         <span class="comment">// instructions, and store conditionals are serialize after</span>
<a name="l00630"></a>00630         <span class="comment">// instructions.  This is mainly due to lack of support for</span>
<a name="l00631"></a>00631         <span class="comment">// out-of-order operations of either of those classes of</span>
<a name="l00632"></a>00632         <span class="comment">// instructions.</span>
<a name="l00633"></a>00633         <span class="keywordflow">if</span> ((inst-&gt;isIprAccess() || inst-&gt;isSerializeBefore()) &amp;&amp;
<a name="l00634"></a>00634             !inst-&gt;isSerializeHandled()) {
<a name="l00635"></a>00635             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;Serialize before instruction encountered.\n&quot;</span>);
<a name="l00636"></a>00636 
<a name="l00637"></a>00637             <span class="keywordflow">if</span> (!inst-&gt;isTempSerializeBefore()) {
<a name="l00638"></a>00638                 <a class="code" href="classDefaultRename.html#a6e383a41c8a2b8902dd659805c40621e">renamedSerializing</a>++;
<a name="l00639"></a>00639                 inst-&gt;setSerializeHandled();
<a name="l00640"></a>00640             } <span class="keywordflow">else</span> {
<a name="l00641"></a>00641                 <a class="code" href="classDefaultRename.html#a94f16020be7d9c91aa978ce88f0adb1b">renamedTempSerializing</a>++;
<a name="l00642"></a>00642             }
<a name="l00643"></a>00643 
<a name="l00644"></a>00644             <span class="comment">// Change status over to SerializeStall so that other stages know</span>
<a name="l00645"></a>00645             <span class="comment">// what this is blocked on.</span>
<a name="l00646"></a>00646             <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] = <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3">SerializeStall</a>;
<a name="l00647"></a>00647 
<a name="l00648"></a>00648             <a class="code" href="classDefaultRename.html#a12ab5fca837718e12cc837d0f3c1da82">serializeInst</a>[tid] = inst;
<a name="l00649"></a>00649 
<a name="l00650"></a>00650             <a class="code" href="classDefaultRename.html#a5a5235d747599dbd49a887663f3739e8">blockThisCycle</a> = <span class="keyword">true</span>;
<a name="l00651"></a>00651 
<a name="l00652"></a>00652             <span class="keywordflow">break</span>;
<a name="l00653"></a>00653         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((inst-&gt;isStoreConditional() || inst-&gt;isSerializeAfter()) &amp;&amp;
<a name="l00654"></a>00654                    !inst-&gt;isSerializeHandled()) {
<a name="l00655"></a>00655             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;Serialize after instruction encountered.\n&quot;</span>);
<a name="l00656"></a>00656 
<a name="l00657"></a>00657             <a class="code" href="classDefaultRename.html#a6e383a41c8a2b8902dd659805c40621e">renamedSerializing</a>++;
<a name="l00658"></a>00658 
<a name="l00659"></a>00659             inst-&gt;setSerializeHandled();
<a name="l00660"></a>00660 
<a name="l00661"></a>00661             <a class="code" href="classDefaultRename.html#a4010b268c107b9aa7289a98f67171e08">serializeAfter</a>(insts_to_rename, tid);
<a name="l00662"></a>00662         }
<a name="l00663"></a>00663 
<a name="l00664"></a>00664         <a class="code" href="classDefaultRename.html#a8c18390fbeba66214f3854d7325a1d0e">renameSrcRegs</a>(inst, inst-&gt;threadNumber);
<a name="l00665"></a>00665 
<a name="l00666"></a>00666         <a class="code" href="classDefaultRename.html#a21ced1baf75f43ecfa99d8c90ae210d6">renameDestRegs</a>(inst, inst-&gt;threadNumber);
<a name="l00667"></a>00667 
<a name="l00668"></a>00668         ++renamed_insts;
<a name="l00669"></a>00669 
<a name="l00670"></a>00670 
<a name="l00671"></a>00671         <span class="comment">// Put instruction in rename queue.</span>
<a name="l00672"></a>00672         <a class="code" href="classDefaultRename.html#a20add800a4fdb85a3d370265f248a006">toIEW</a>-&gt;insts[<a class="code" href="classDefaultRename.html#abb033b9572d00b4ffa5aca6c7fb51427">toIEWIndex</a>] = inst;
<a name="l00673"></a>00673         ++(<a class="code" href="classDefaultRename.html#a20add800a4fdb85a3d370265f248a006">toIEW</a>-&gt;<a class="code" href="classTimeBuffer.html#a245260f6f74972558f61b85227df5aae">size</a>);
<a name="l00674"></a>00674 
<a name="l00675"></a>00675         <span class="comment">// Increment which instruction we&apos;re on.</span>
<a name="l00676"></a>00676         ++<a class="code" href="classDefaultRename.html#abb033b9572d00b4ffa5aca6c7fb51427">toIEWIndex</a>;
<a name="l00677"></a>00677 
<a name="l00678"></a>00678         <span class="comment">// Decrement how many instructions are available.</span>
<a name="l00679"></a>00679         --insts_available;
<a name="l00680"></a>00680     }
<a name="l00681"></a>00681 
<a name="l00682"></a>00682     <a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid] += renamed_insts;
<a name="l00683"></a>00683     <a class="code" href="classDefaultRename.html#aee6bb4587ea6f254fc29dda4d565afc9">renameRenamedInsts</a> += renamed_insts;
<a name="l00684"></a>00684 
<a name="l00685"></a>00685     <span class="comment">// If we wrote to the time buffer, record this.</span>
<a name="l00686"></a>00686     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#abb033b9572d00b4ffa5aca6c7fb51427">toIEWIndex</a>) {
<a name="l00687"></a>00687         <a class="code" href="classDefaultRename.html#a2c7e870d4babdac0dc91fc7ffabd0f3d">wroteToTimeBuffer</a> = <span class="keyword">true</span>;
<a name="l00688"></a>00688     }
<a name="l00689"></a>00689 
<a name="l00690"></a>00690     <span class="comment">// Check if there&apos;s any instructions left that haven&apos;t yet been renamed.</span>
<a name="l00691"></a>00691     <span class="comment">// If so then block.</span>
<a name="l00692"></a>00692     <span class="keywordflow">if</span> (insts_available) {
<a name="l00693"></a>00693         <a class="code" href="classDefaultRename.html#a5a5235d747599dbd49a887663f3739e8">blockThisCycle</a> = <span class="keyword">true</span>;
<a name="l00694"></a>00694     }
<a name="l00695"></a>00695 
<a name="l00696"></a>00696     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a5a5235d747599dbd49a887663f3739e8">blockThisCycle</a>) {
<a name="l00697"></a>00697         <a class="code" href="classDefaultRename.html#ad1993925abd15d3fb59fde2ccfa3d678">block</a>(tid);
<a name="l00698"></a>00698         <a class="code" href="classDefaultRename.html#aeb2f0e9b4602def9a8a57f7e3e12cf27">toDecode</a>-&gt;renameUnblock[tid] = <span class="keyword">false</span>;
<a name="l00699"></a>00699     }
<a name="l00700"></a>00700 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8c18390fbeba66214f3854d7325a1d0e"></a><!-- doxytag: member="DefaultRename::renameSrcRegs" ref="a8c18390fbeba66214f3854d7325a1d0e" args="(DynInstPtr &amp;inst, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void renameSrcRegs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Renames the source registers of an instruction. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00957"></a>00957 {
<a name="l00958"></a>00958     <a class="code" href="classThreadContext.html">ThreadContext</a> *<a class="code" href="namespaceArmISA.html#a5aff829af55e65b802d83dfcef4e9dd0">tc</a> = inst-&gt;tcBase();
<a name="l00959"></a>00959     <a class="code" href="classDefaultRename.html#a341963bcea1928476182a17e357f98e3">RenameMap</a> *map = <a class="code" href="classDefaultRename.html#ac305c101c17d28451cc1f023b187b08b">renameMap</a>[tid];
<a name="l00960"></a>00960     <span class="keywordtype">unsigned</span> num_src_regs = inst-&gt;numSrcRegs();
<a name="l00961"></a>00961 
<a name="l00962"></a>00962     <span class="comment">// Get the architectual register numbers from the source and</span>
<a name="l00963"></a>00963     <span class="comment">// operands, and redirect them to the right physical register.</span>
<a name="l00964"></a>00964     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> src_idx = 0; src_idx &lt; num_src_regs; src_idx++) {
<a name="l00965"></a>00965         <a class="code" href="classDefaultRename.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> src_reg = inst-&gt;srcRegIdx(src_idx);
<a name="l00966"></a>00966         <a class="code" href="classDefaultRename.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_src_reg;
<a name="l00967"></a>00967         <a class="code" href="classDefaultRename.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> flat_rel_src_reg;
<a name="l00968"></a>00968         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> renamed_reg;
<a name="l00969"></a>00969 
<a name="l00970"></a>00970         <span class="keywordflow">switch</span> (<a class="code" href="reg__class_8hh.html#a275a232e420c9ac198b7f942c885ecf8">regIdxToClass</a>(src_reg, &amp;rel_src_reg)) {
<a name="l00971"></a>00971           <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0ab412c1eeaf26e79fee8922d9a479889c" title="Integer register.">IntRegClass</a>:
<a name="l00972"></a>00972             flat_rel_src_reg = tc-&gt;<a class="code" href="classThreadContext.html#a6940c379416884cb0b9eb04c5193580e">flattenIntIndex</a>(rel_src_reg);
<a name="l00973"></a>00973             renamed_reg = map-&gt;lookupInt(flat_rel_src_reg);
<a name="l00974"></a>00974             <a class="code" href="classDefaultRename.html#ae2548cb038c1868f0dcf4c5df1154b12">intRenameLookups</a>++;
<a name="l00975"></a>00975             <span class="keywordflow">break</span>;
<a name="l00976"></a>00976 
<a name="l00977"></a>00977           <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0a207a831a62a5c23ac4ac6405378b125e" title="Floating-point register.">FloatRegClass</a>:
<a name="l00978"></a>00978             flat_rel_src_reg = tc-&gt;<a class="code" href="classThreadContext.html#a7176627444d21b2734a0855b67e6aacf">flattenFloatIndex</a>(rel_src_reg);
<a name="l00979"></a>00979             renamed_reg = map-&gt;lookupFloat(flat_rel_src_reg);
<a name="l00980"></a>00980             <a class="code" href="classDefaultRename.html#ad27b51042b9dc458c5dd63b8c5f8d467">fpRenameLookups</a>++;
<a name="l00981"></a>00981             <span class="keywordflow">break</span>;
<a name="l00982"></a>00982 
<a name="l00983"></a>00983           <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0a432484d211463d83c5bd364df83f82c2" title="Condition-code register.">CCRegClass</a>:
<a name="l00984"></a>00984             flat_rel_src_reg = tc-&gt;<a class="code" href="classThreadContext.html#aedffeaa2c4a155d5916a2ae379d77a51">flattenCCIndex</a>(rel_src_reg);
<a name="l00985"></a>00985             renamed_reg = map-&gt;lookupCC(flat_rel_src_reg);
<a name="l00986"></a>00986             <span class="keywordflow">break</span>;
<a name="l00987"></a>00987 
<a name="l00988"></a>00988           <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0aed057341e8e2e418632e8a03b42b3f39" title="Control (misc) register.">MiscRegClass</a>:
<a name="l00989"></a>00989             <span class="comment">// misc regs don&apos;t get flattened</span>
<a name="l00990"></a>00990             flat_rel_src_reg = rel_src_reg;
<a name="l00991"></a>00991             renamed_reg = map-&gt;lookupMisc(flat_rel_src_reg);
<a name="l00992"></a>00992             <span class="keywordflow">break</span>;
<a name="l00993"></a>00993 
<a name="l00994"></a>00994           <span class="keywordflow">default</span>:
<a name="l00995"></a>00995             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Reg index is out of bound: %d.&quot;</span>, src_reg);
<a name="l00996"></a>00996         }
<a name="l00997"></a>00997 
<a name="l00998"></a>00998         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Looking up %s arch reg %i (flattened %i), &quot;</span>
<a name="l00999"></a>00999                 <span class="stringliteral">&quot;got phys reg %i\n&quot;</span>, tid, <a class="code" href="reg__class_8cc.html#abd784c3d8b8c0aa741f47934de24f1fd" title="Map enum values to strings for debugging.">RegClassStrings</a>[<a class="code" href="reg__class_8hh.html#a275a232e420c9ac198b7f942c885ecf8">regIdxToClass</a>(src_reg)],
<a name="l01000"></a>01000                 (<span class="keywordtype">int</span>)src_reg, (<span class="keywordtype">int</span>)flat_rel_src_reg, (<span class="keywordtype">int</span>)renamed_reg);
<a name="l01001"></a>01001 
<a name="l01002"></a>01002         inst-&gt;renameSrcReg(src_idx, renamed_reg);
<a name="l01003"></a>01003 
<a name="l01004"></a>01004         <span class="comment">// See if the register is ready or not.</span>
<a name="l01005"></a>01005         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a265ad15229da2a6a05f908da093b3ed5">scoreboard</a>-&gt;<a class="code" href="classScoreboard.html#acf9440aa48311ccc1f0cf3ad9add8437">getReg</a>(renamed_reg)) {
<a name="l01006"></a>01006             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Register %d is ready.\n&quot;</span>,
<a name="l01007"></a>01007                     tid, renamed_reg);
<a name="l01008"></a>01008 
<a name="l01009"></a>01009             inst-&gt;markSrcRegReady(src_idx);
<a name="l01010"></a>01010         } <span class="keywordflow">else</span> {
<a name="l01011"></a>01011             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Register %d is not ready.\n&quot;</span>,
<a name="l01012"></a>01012                     tid, renamed_reg);
<a name="l01013"></a>01013         }
<a name="l01014"></a>01014 
<a name="l01015"></a>01015         ++<a class="code" href="classDefaultRename.html#ab0b7632e67fcf2fe1e6bb1cef111eda4">renameRenameLookups</a>;
<a name="l01016"></a>01016     }
<a name="l01017"></a>01017 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ada2a699094bc420f977abf2a17ed14c8"></a><!-- doxytag: member="DefaultRename::resetStage" ref="ada2a699094bc420f977abf2a17ed14c8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetStage </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset this pipeline stage </p>

<p><div class="fragment"><pre class="fragment"><a name="l00229"></a>00229 {
<a name="l00230"></a>00230     <a class="code" href="classDefaultRename.html#a1564313ed7a74659481a1b5ea2bacf88">_status</a> = <a class="code" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718a969c924a722daf6334fca64346092ae6">Inactive</a>;
<a name="l00231"></a>00231 
<a name="l00232"></a>00232     <a class="code" href="classDefaultRename.html#afa9ffeefc4b3ff8ae1ea9919bedbd1e4">resumeSerialize</a> = <span class="keyword">false</span>;
<a name="l00233"></a>00233     <a class="code" href="classDefaultRename.html#aacc2e9a4766def499954195037465d42">resumeUnblocking</a> = <span class="keyword">false</span>;
<a name="l00234"></a>00234 
<a name="l00235"></a>00235     <span class="comment">// Grab the number of free entries directly from the stages.</span>
<a name="l00236"></a>00236     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classDefaultRename.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l00237"></a>00237         <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] = <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173cad3fa9ae9431d6cb1772f9d9df48cab19">Idle</a>;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239         <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].<a class="code" href="structDefaultRename_1_1FreeEntries.html#ad0ea8223895ed6e0525ab5d0ecbc1baf">iqEntries</a> = <a class="code" href="classDefaultRename.html#abf7286da8e826739b29fa67855f4216b">iew_ptr</a>-&gt;instQueue.numFreeEntries(tid);
<a name="l00240"></a>00240         <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].<a class="code" href="structDefaultRename_1_1FreeEntries.html#a0251753eeeeffa9ebc3c69909dc95dc2">lsqEntries</a> = <a class="code" href="classDefaultRename.html#abf7286da8e826739b29fa67855f4216b">iew_ptr</a>-&gt;ldstQueue.numFreeEntries(tid);
<a name="l00241"></a>00241         <a class="code" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[tid].<a class="code" href="structDefaultRename_1_1FreeEntries.html#a4abcd7f900b12d143638dc56a18dd81b">robEntries</a> = <a class="code" href="classDefaultRename.html#a51b23beeb9e078c0c11831d0f2e56bfd">commit_ptr</a>-&gt;numROBFreeEntries(tid);
<a name="l00242"></a>00242         <a class="code" href="classDefaultRename.html#a5a3345554ca63a6e859943d7174d714f">emptyROB</a>[tid] = <span class="keyword">true</span>;
<a name="l00243"></a>00243 
<a name="l00244"></a>00244         <a class="code" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a>[tid].<a class="code" href="structDefaultRename_1_1Stalls.html#a69f40ab12e9825ce316dfa72651a7404">iew</a> = <span class="keyword">false</span>;
<a name="l00245"></a>00245         <a class="code" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a>[tid].<a class="code" href="structDefaultRename_1_1Stalls.html#ad7d6b839c43385b5fffdf2beaff214ec">commit</a> = <span class="keyword">false</span>;
<a name="l00246"></a>00246         <a class="code" href="classDefaultRename.html#a12ab5fca837718e12cc837d0f3c1da82">serializeInst</a>[tid] = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00247"></a>00247 
<a name="l00248"></a>00248         <a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid] = 0;
<a name="l00249"></a>00249 
<a name="l00250"></a>00250         <a class="code" href="classDefaultRename.html#a4d99bc7f86d1a17d44e59c316c273262">serializeOnNextInst</a>[tid] = <span class="keyword">false</span>;
<a name="l00251"></a>00251     }
<a name="l00252"></a>00252 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4010b268c107b9aa7289a98f67171e08"></a><!-- doxytag: member="DefaultRename::serializeAfter" ref="a4010b268c107b9aa7289a98f67171e08" args="(InstQueue &amp;inst_list, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serializeAfter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstd_1_1list.html">InstQueue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Either serializes on the next instruction available in the <a class="el" href="classInstQueue.html">InstQueue</a>, or records that it must serialize on the next instruction to enter rename. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inst_list</em>&nbsp;</td><td>The list of younger, unprocessed instructions for the thread that has the serializeAfter instruction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tid</em>&nbsp;</td><td>The thread id. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l01344"></a>01344 {
<a name="l01345"></a>01345     <span class="keywordflow">if</span> (inst_list.empty()) {
<a name="l01346"></a>01346         <span class="comment">// Mark a bit to say that I must serialize on the next instruction.</span>
<a name="l01347"></a>01347         <a class="code" href="classDefaultRename.html#a4d99bc7f86d1a17d44e59c316c273262">serializeOnNextInst</a>[tid] = <span class="keyword">true</span>;
<a name="l01348"></a>01348         <span class="keywordflow">return</span>;
<a name="l01349"></a>01349     }
<a name="l01350"></a>01350 
<a name="l01351"></a>01351     <span class="comment">// Set the next instruction as serializing.</span>
<a name="l01352"></a>01352     inst_list.front()-&gt;setSerializeBefore();
<a name="l01353"></a>01353 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aab96bdacf8bd420402cbb543f994e054"></a><!-- doxytag: member="DefaultRename::setActiveThreads" ref="aab96bdacf8bd420402cbb543f994e054" args="(std::list&lt; ThreadID &gt; *at_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setActiveThreads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>at_ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets pointer to list of active threads. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00257"></a>00257 {
<a name="l00258"></a>00258     <a class="code" href="classDefaultRename.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a> = at_ptr;
<a name="l00259"></a>00259 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1e488bc36055daaf1f86a9b4e58118c2"></a><!-- doxytag: member="DefaultRename::setCommitStage" ref="a1e488bc36055daaf1f86a9b4e58118c2" args="(Commit *commit_stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setCommitStage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDefaultRename.html#a05a26def5ee77f19d25b86079d161ebd">Commit</a> *&nbsp;</td>
          <td class="paramname"> <em>commit_stage</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets pointer to commit stage. Used only for initialization. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00147"></a>00147     { <a class="code" href="classDefaultRename.html#a51b23beeb9e078c0c11831d0f2e56bfd">commit_ptr</a> = commit_stage; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a21f95db13a2fc05d7a5fcc43fec1f1e7"></a><!-- doxytag: member="DefaultRename::setDecodeQueue" ref="a21f95db13a2fc05d7a5fcc43fec1f1e7" args="(TimeBuffer&lt; DecodeStruct &gt; *dq_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setDecodeQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classDefaultRename.html#a38077cd156cf219016abf92d8c5b523b">DecodeStruct</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>dq_ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets pointer to time buffer coming from decode. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00212"></a>00212 {
<a name="l00213"></a>00213     <a class="code" href="classDefaultRename.html#a7860fc5736574343c9e294cb2bef9d93">decodeQueue</a> = dq_ptr;
<a name="l00214"></a>00214 
<a name="l00215"></a>00215     <span class="comment">// Setup wire to get information from decode.</span>
<a name="l00216"></a>00216     <a class="code" href="classDefaultRename.html#a8bf861a7b2c3731d3a69bf370564e975">fromDecode</a> = <a class="code" href="classDefaultRename.html#a7860fc5736574343c9e294cb2bef9d93">decodeQueue</a>-&gt;<a class="code" href="classTimeBuffer.html#ab1c801fd9d022ce4339cc62f4a0625dd">getWire</a>(-<a class="code" href="classDefaultRename.html#a4ff2f51d1e391f739d6d1c73a6bcd0c1">decodeToRenameDelay</a>);
<a name="l00217"></a>00217 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2d3550e87cb180105600dfaefcf83358"></a><!-- doxytag: member="DefaultRename::setFreeList" ref="a2d3550e87cb180105600dfaefcf83358" args="(FreeList *fl_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setFreeList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDefaultRename.html#ab784c356bacd490590fba42443e0f786">FreeList</a> *&nbsp;</td>
          <td class="paramname"> <em>fl_ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets pointer to the free list. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00273"></a>00273 {
<a name="l00274"></a>00274     <a class="code" href="classDefaultRename.html#a2e829c52dbc56e7ac6d2fc6a0524ff9c">freeList</a> = fl_ptr;
<a name="l00275"></a>00275 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4b6d8e4b2cf6249763ed2fc73eb1af47"></a><!-- doxytag: member="DefaultRename::setIEWStage" ref="a4b6d8e4b2cf6249763ed2fc73eb1af47" args="(IEW *iew_stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setIEWStage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDefaultRename.html#a2e298f790f528754f0e0ffa0cb8088f6">IEW</a> *&nbsp;</td>
          <td class="paramname"> <em>iew_stage</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets pointer to IEW stage. Used only for initialization. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00143"></a>00143     { <a class="code" href="classDefaultRename.html#abf7286da8e826739b29fa67855f4216b">iew_ptr</a> = iew_stage; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6f0aaedb2c39d674ef86c25d0aeb4211"></a><!-- doxytag: member="DefaultRename::setRenameMap" ref="a6f0aaedb2c39d674ef86c25d0aeb4211" args="(RenameMap rm_ptr[Impl::MaxThreads])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setRenameMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDefaultRename.html#a341963bcea1928476182a17e357f98e3">RenameMap</a>&nbsp;</td>
          <td class="paramname"> <em>rm_ptr</em>[Impl::MaxThreads]</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets pointer to rename maps (per-thread structures). </p>

</div>
</div>
<a class="anchor" id="a701624f92a819fe4205faede6e614d9f"></a><!-- doxytag: member="DefaultRename::setRenameQueue" ref="a701624f92a819fe4205faede6e614d9f" args="(TimeBuffer&lt; RenameStruct &gt; *rq_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setRenameQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classDefaultRename.html#a0c2a89ad2edad9ad605d0461f9b132a5">RenameStruct</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>rq_ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets pointer to time buffer used to communicate to the next stage. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00202"></a>00202 {
<a name="l00203"></a>00203     <a class="code" href="classDefaultRename.html#ae9b536282159ba75153a223be77515ba">renameQueue</a> = rq_ptr;
<a name="l00204"></a>00204 
<a name="l00205"></a>00205     <span class="comment">// Setup wire to write information to future stages.</span>
<a name="l00206"></a>00206     <a class="code" href="classDefaultRename.html#a20add800a4fdb85a3d370265f248a006">toIEW</a> = <a class="code" href="classDefaultRename.html#ae9b536282159ba75153a223be77515ba">renameQueue</a>-&gt;<a class="code" href="classTimeBuffer.html#ab1c801fd9d022ce4339cc62f4a0625dd">getWire</a>(0);
<a name="l00207"></a>00207 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0b50ac63f22501d5c688294031615b6e"></a><!-- doxytag: member="DefaultRename::setScoreboard" ref="a0b50ac63f22501d5c688294031615b6e" args="(Scoreboard *_scoreboard)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setScoreboard </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classScoreboard.html">Scoreboard</a> *&nbsp;</td>
          <td class="paramname"> <em>_scoreboard</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets pointer to the scoreboard. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00280"></a>00280 {
<a name="l00281"></a>00281     <a class="code" href="classDefaultRename.html#a265ad15229da2a6a05f908da093b3ed5">scoreboard</a> = _scoreboard;
<a name="l00282"></a>00282 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2b521ea5f191fff72265f60d4ed5187b"></a><!-- doxytag: member="DefaultRename::setTimeBuffer" ref="a2b521ea5f191fff72265f60d4ed5187b" args="(TimeBuffer&lt; TimeStruct &gt; *tb_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setTimeBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structTimeStruct.html">TimeStruct</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>tb_ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the main backwards communication time buffer pointer. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00186"></a>00186 {
<a name="l00187"></a>00187     <a class="code" href="classDefaultRename.html#a83f9ee976e732665aeb08dbc19acfd45">timeBuffer</a> = tb_ptr;
<a name="l00188"></a>00188 
<a name="l00189"></a>00189     <span class="comment">// Setup wire to read information from time buffer, from IEW stage.</span>
<a name="l00190"></a>00190     <a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a> = <a class="code" href="classDefaultRename.html#a83f9ee976e732665aeb08dbc19acfd45">timeBuffer</a>-&gt;<a class="code" href="classTimeBuffer.html#ab1c801fd9d022ce4339cc62f4a0625dd">getWire</a>(-<a class="code" href="classDefaultRename.html#a3069f8fd673d0e9ea2b1a8ce0ad3fe06">iewToRenameDelay</a>);
<a name="l00191"></a>00191 
<a name="l00192"></a>00192     <span class="comment">// Setup wire to read infromation from time buffer, from commit stage.</span>
<a name="l00193"></a>00193     <a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a> = <a class="code" href="classDefaultRename.html#a83f9ee976e732665aeb08dbc19acfd45">timeBuffer</a>-&gt;<a class="code" href="classTimeBuffer.html#ab1c801fd9d022ce4339cc62f4a0625dd">getWire</a>(-<a class="code" href="classDefaultRename.html#a03ebbedbf40ac0005574e50b3577a651">commitToRenameDelay</a>);
<a name="l00194"></a>00194 
<a name="l00195"></a>00195     <span class="comment">// Setup wire to write information to previous stages.</span>
<a name="l00196"></a>00196     <a class="code" href="classDefaultRename.html#aeb2f0e9b4602def9a8a57f7e3e12cf27">toDecode</a> = <a class="code" href="classDefaultRename.html#a83f9ee976e732665aeb08dbc19acfd45">timeBuffer</a>-&gt;<a class="code" href="classTimeBuffer.html#ab1c801fd9d022ce4339cc62f4a0625dd">getWire</a>(0);
<a name="l00197"></a>00197 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac24515147270ef9b85991bbe13bd47af"></a><!-- doxytag: member="DefaultRename::skidInsert" ref="ac24515147270ef9b85991bbe13bd47af" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void skidInsert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Inserts unused instructions from a given thread into the skid buffer, to be renamed once rename unblocks. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00705"></a>00705 {
<a name="l00706"></a>00706     <a class="code" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> inst = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00707"></a>00707 
<a name="l00708"></a>00708     <span class="keywordflow">while</span> (!<a class="code" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a>[tid].empty()) {
<a name="l00709"></a>00709         inst = <a class="code" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a>[tid].front();
<a name="l00710"></a>00710 
<a name="l00711"></a>00711         <a class="code" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a>[tid].pop_front();
<a name="l00712"></a>00712 
<a name="l00713"></a>00713         assert(tid == inst-&gt;threadNumber);
<a name="l00714"></a>00714 
<a name="l00715"></a>00715         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Inserting [sn:%lli] PC: %s into Rename &quot;</span>
<a name="l00716"></a>00716                 <span class="stringliteral">&quot;skidBuffer\n&quot;</span>, tid, inst-&gt;seqNum, inst-&gt;pcState());
<a name="l00717"></a>00717 
<a name="l00718"></a>00718         ++<a class="code" href="classDefaultRename.html#a50c910ed2a23d1bbb3e7861c2d1f33f4">renameSkidInsts</a>;
<a name="l00719"></a>00719 
<a name="l00720"></a>00720         <a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].push_back(inst);
<a name="l00721"></a>00721     }
<a name="l00722"></a>00722 
<a name="l00723"></a>00723     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].size() &gt; <a class="code" href="classDefaultRename.html#a268414a6444b620140f263013a739a17">skidBufferMax</a>)
<a name="l00724"></a>00724     {
<a name="l00725"></a>00725         <span class="keyword">typename</span> InstQueue::iterator it;
<a name="l00726"></a>00726         <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a>(<span class="stringliteral">&quot;Skidbuffer contents:\n&quot;</span>);
<a name="l00727"></a>00727         <span class="keywordflow">for</span>(it = <a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].begin(); it != <a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].end(); it++)
<a name="l00728"></a>00728         {
<a name="l00729"></a>00729             <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a>(<span class="stringliteral">&quot;[tid:%u]: %s [sn:%i].\n&quot;</span>, tid,
<a name="l00730"></a>00730                     (*it)-&gt;staticInst-&gt;disassemble(inst-&gt;instAddr()),
<a name="l00731"></a>00731                     (*it)-&gt;seqNum);
<a name="l00732"></a>00732         }
<a name="l00733"></a>00733         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Skidbuffer Exceeded Max Size&quot;</span>);
<a name="l00734"></a>00734     }
<a name="l00735"></a>00735 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afe3e2673d17dd5c568862ef5ae68b4d8"></a><!-- doxytag: member="DefaultRename::skidsEmpty" ref="afe3e2673d17dd5c568862ef5ae68b4d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool skidsEmpty </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if all of the skid buffers are empty. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00756"></a>00756 {
<a name="l00757"></a>00757     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classDefaultRename.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00758"></a>00758     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classDefaultRename.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00759"></a>00759 
<a name="l00760"></a>00760     <span class="keywordflow">while</span> (threads != end) {
<a name="l00761"></a>00761         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00762"></a>00762 
<a name="l00763"></a>00763         <span class="keywordflow">if</span> (!<a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].empty())
<a name="l00764"></a>00764             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00765"></a>00765     }
<a name="l00766"></a>00766 
<a name="l00767"></a>00767     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00768"></a>00768 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9ff2aa32ab0f40674cb3518108d62f8e"></a><!-- doxytag: member="DefaultRename::sortInsts" ref="a9ff2aa32ab0f40674cb3518108d62f8e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sortInsts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Separates instructions from decode into individual lists of instructions sorted by thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00740"></a>00740 {
<a name="l00741"></a>00741     <span class="keywordtype">int</span> insts_from_decode = <a class="code" href="classDefaultRename.html#a8bf861a7b2c3731d3a69bf370564e975">fromDecode</a>-&gt;<a class="code" href="classTimeBuffer.html#a245260f6f74972558f61b85227df5aae">size</a>;
<a name="l00742"></a>00742     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; insts_from_decode; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00743"></a>00743         <a class="code" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> inst = <a class="code" href="classDefaultRename.html#a8bf861a7b2c3731d3a69bf370564e975">fromDecode</a>-&gt;insts[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>];
<a name="l00744"></a>00744         <a class="code" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a>[inst-&gt;threadNumber].push_back(inst);
<a name="l00745"></a>00745 <span class="preprocessor">#if TRACING_ON</span>
<a name="l00746"></a>00746 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (<a class="code" href="trace_8hh.html#af76c9f7776aade1bf9d7dfa8a0c6b341">DTRACE</a>(O3PipeView)) {
<a name="l00747"></a>00747             inst-&gt;renameTick = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() - inst-&gt;fetchTick;
<a name="l00748"></a>00748         }
<a name="l00749"></a>00749 <span class="preprocessor">#endif</span>
<a name="l00750"></a>00750 <span class="preprocessor"></span>    }
<a name="l00751"></a>00751 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa896d7ff2c9da1e6e96d46ab4580ec9d"></a><!-- doxytag: member="DefaultRename::squash" ref="aa896d7ff2c9da1e6e96d46ab4580ec9d" args="(const InstSeqNum &amp;squash_seq_num, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>squash_seq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Squashes all instructions in a thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00320"></a>00320 {
<a name="l00321"></a>00321     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Squashing instructions.\n&quot;</span>,tid);
<a name="l00322"></a>00322 
<a name="l00323"></a>00323     <span class="comment">// Clear the stall signal if rename was blocked or unblocking before.</span>
<a name="l00324"></a>00324     <span class="comment">// If it still needs to block, the blocking should happen the next</span>
<a name="l00325"></a>00325     <span class="comment">// cycle and there should be space to hold everything due to the squash.</span>
<a name="l00326"></a>00326     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca9463ee9b8700258a1019b4b9d2d77a30">Blocked</a> ||
<a name="l00327"></a>00327         <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>) {
<a name="l00328"></a>00328         <a class="code" href="classDefaultRename.html#aeb2f0e9b4602def9a8a57f7e3e12cf27">toDecode</a>-&gt;renameUnblock[tid] = 1;
<a name="l00329"></a>00329 
<a name="l00330"></a>00330         <a class="code" href="classDefaultRename.html#afa9ffeefc4b3ff8ae1ea9919bedbd1e4">resumeSerialize</a> = <span class="keyword">false</span>;
<a name="l00331"></a>00331         <a class="code" href="classDefaultRename.html#a12ab5fca837718e12cc837d0f3c1da82">serializeInst</a>[tid] = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00332"></a>00332     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3">SerializeStall</a>) {
<a name="l00333"></a>00333         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a12ab5fca837718e12cc837d0f3c1da82">serializeInst</a>[tid]-&gt;seqNum &lt;= squash_seq_num) {
<a name="l00334"></a>00334             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;Rename will resume serializing after squash\n&quot;</span>);
<a name="l00335"></a>00335             <a class="code" href="classDefaultRename.html#afa9ffeefc4b3ff8ae1ea9919bedbd1e4">resumeSerialize</a> = <span class="keyword">true</span>;
<a name="l00336"></a>00336             assert(<a class="code" href="classDefaultRename.html#a12ab5fca837718e12cc837d0f3c1da82">serializeInst</a>[tid]);
<a name="l00337"></a>00337         } <span class="keywordflow">else</span> {
<a name="l00338"></a>00338             <a class="code" href="classDefaultRename.html#afa9ffeefc4b3ff8ae1ea9919bedbd1e4">resumeSerialize</a> = <span class="keyword">false</span>;
<a name="l00339"></a>00339             <a class="code" href="classDefaultRename.html#aeb2f0e9b4602def9a8a57f7e3e12cf27">toDecode</a>-&gt;renameUnblock[tid] = 1;
<a name="l00340"></a>00340 
<a name="l00341"></a>00341             <a class="code" href="classDefaultRename.html#a12ab5fca837718e12cc837d0f3c1da82">serializeInst</a>[tid] = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00342"></a>00342         }
<a name="l00343"></a>00343     }
<a name="l00344"></a>00344 
<a name="l00345"></a>00345     <span class="comment">// Set the status to Squashing.</span>
<a name="l00346"></a>00346     <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] = <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca22a648855197e326dc88f548634c0ec7">Squashing</a>;
<a name="l00347"></a>00347 
<a name="l00348"></a>00348     <span class="comment">// Squash any instructions from decode.</span>
<a name="l00349"></a>00349     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>=0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>&lt;<a class="code" href="classDefaultRename.html#a8bf861a7b2c3731d3a69bf370564e975">fromDecode</a>-&gt;<a class="code" href="classTimeBuffer.html#a245260f6f74972558f61b85227df5aae">size</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00350"></a>00350         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8bf861a7b2c3731d3a69bf370564e975">fromDecode</a>-&gt;insts[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;threadNumber == tid &amp;&amp;
<a name="l00351"></a>00351             <a class="code" href="classDefaultRename.html#a8bf861a7b2c3731d3a69bf370564e975">fromDecode</a>-&gt;insts[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;seqNum &gt; squash_seq_num) {
<a name="l00352"></a>00352             <a class="code" href="classDefaultRename.html#a8bf861a7b2c3731d3a69bf370564e975">fromDecode</a>-&gt;insts[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;setSquashed();
<a name="l00353"></a>00353             <a class="code" href="classDefaultRename.html#a2c7e870d4babdac0dc91fc7ffabd0f3d">wroteToTimeBuffer</a> = <span class="keyword">true</span>;
<a name="l00354"></a>00354         }
<a name="l00355"></a>00355 
<a name="l00356"></a>00356     }
<a name="l00357"></a>00357 
<a name="l00358"></a>00358     <span class="comment">// Clear the instruction list and skid buffer in case they have any</span>
<a name="l00359"></a>00359     <span class="comment">// insts in them.</span>
<a name="l00360"></a>00360     <a class="code" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a>[tid].clear();
<a name="l00361"></a>00361 
<a name="l00362"></a>00362     <span class="comment">// Clear the skid buffer in case it has any data in it.</span>
<a name="l00363"></a>00363     <a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].clear();
<a name="l00364"></a>00364 
<a name="l00365"></a>00365     <a class="code" href="classDefaultRename.html#a32818ae72457917ca9551faa708ba584">doSquash</a>(squash_seq_num, tid);
<a name="l00366"></a>00366 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a31d4cbdab16d4ff8d6bc7f84ece727da"></a><!-- doxytag: member="DefaultRename::startupStage" ref="a31d4cbdab16d4ff8d6bc7f84ece727da" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void startupStage </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes variables for the stage. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00222"></a>00222 {
<a name="l00223"></a>00223     <a class="code" href="classDefaultRename.html#ada2a699094bc420f977abf2a17ed14c8">resetStage</a>();
<a name="l00224"></a>00224 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8674059ce345e23aac5086b2c3e24a43"></a><!-- doxytag: member="DefaultRename::takeOverFrom" ref="a8674059ce345e23aac5086b2c3e24a43" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void takeOverFrom </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Takes over from another CPU's thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00301"></a>00301 {
<a name="l00302"></a>00302     <a class="code" href="classDefaultRename.html#ada2a699094bc420f977abf2a17ed14c8">resetStage</a>();
<a name="l00303"></a>00303 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a873dd91783f9efb4a590aded1f70d6b0"></a><!-- doxytag: member="DefaultRename::tick" ref="a873dd91783f9efb4a590aded1f70d6b0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tick </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Ticks rename, which processes all input signals and attempts to rename as many instructions as possible. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00371"></a>00371 {
<a name="l00372"></a>00372     <a class="code" href="classDefaultRename.html#a2c7e870d4babdac0dc91fc7ffabd0f3d">wroteToTimeBuffer</a> = <span class="keyword">false</span>;
<a name="l00373"></a>00373 
<a name="l00374"></a>00374     <a class="code" href="classDefaultRename.html#a5a5235d747599dbd49a887663f3739e8">blockThisCycle</a> = <span class="keyword">false</span>;
<a name="l00375"></a>00375 
<a name="l00376"></a>00376     <span class="keywordtype">bool</span> status_change = <span class="keyword">false</span>;
<a name="l00377"></a>00377 
<a name="l00378"></a>00378     <a class="code" href="classDefaultRename.html#abb033b9572d00b4ffa5aca6c7fb51427">toIEWIndex</a> = 0;
<a name="l00379"></a>00379 
<a name="l00380"></a>00380     <a class="code" href="classDefaultRename.html#a9ff2aa32ab0f40674cb3518108d62f8e">sortInsts</a>();
<a name="l00381"></a>00381 
<a name="l00382"></a>00382     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classDefaultRename.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00383"></a>00383     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classDefaultRename.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00384"></a>00384 
<a name="l00385"></a>00385     <span class="comment">// Check stall and squash signals.</span>
<a name="l00386"></a>00386     <span class="keywordflow">while</span> (threads != end) {
<a name="l00387"></a>00387         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00388"></a>00388 
<a name="l00389"></a>00389         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;Processing [tid:%i]\n&quot;</span>, tid);
<a name="l00390"></a>00390 
<a name="l00391"></a>00391         status_change = <a class="code" href="classDefaultRename.html#af77f2bf38a75182c65e633b9fdf295d2">checkSignalsAndUpdate</a>(tid) || status_change;
<a name="l00392"></a>00392 
<a name="l00393"></a>00393         <a class="code" href="classDefaultRename.html#ae79f7fcdd0255495d6df18c063988432">rename</a>(status_change, tid);
<a name="l00394"></a>00394     }
<a name="l00395"></a>00395 
<a name="l00396"></a>00396     <span class="keywordflow">if</span> (status_change) {
<a name="l00397"></a>00397         <a class="code" href="classDefaultRename.html#a4bb9486757ce225941aaaf759b357a57">updateStatus</a>();
<a name="l00398"></a>00398     }
<a name="l00399"></a>00399 
<a name="l00400"></a>00400     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a2c7e870d4babdac0dc91fc7ffabd0f3d">wroteToTimeBuffer</a>) {
<a name="l00401"></a>00401         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Activity, <span class="stringliteral">&quot;Activity this cycle.\n&quot;</span>);
<a name="l00402"></a>00402         <a class="code" href="classDefaultRename.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>-&gt;activityThisCycle();
<a name="l00403"></a>00403     }
<a name="l00404"></a>00404 
<a name="l00405"></a>00405     threads = <a class="code" href="classDefaultRename.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00406"></a>00406 
<a name="l00407"></a>00407     <span class="keywordflow">while</span> (threads != end) {
<a name="l00408"></a>00408         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00409"></a>00409 
<a name="l00410"></a>00410         <span class="comment">// If we committed this cycle then doneSeqNum will be &gt; 0</span>
<a name="l00411"></a>00411         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitInfo[tid].doneSeqNum != 0 &amp;&amp;
<a name="l00412"></a>00412             !<a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitInfo[tid].squash &amp;&amp;
<a name="l00413"></a>00413             <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] != <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca22a648855197e326dc88f548634c0ec7">Squashing</a>) {
<a name="l00414"></a>00414 
<a name="l00415"></a>00415             <a class="code" href="classDefaultRename.html#a4e15b4f66caef87aacbd195e4a02804d">removeFromHistory</a>(<a class="code" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitInfo[tid].doneSeqNum,
<a name="l00416"></a>00416                                   tid);
<a name="l00417"></a>00417         }
<a name="l00418"></a>00418     }
<a name="l00419"></a>00419 
<a name="l00420"></a>00420     <span class="comment">// @todo: make into updateProgress function</span>
<a name="l00421"></a>00421     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classDefaultRename.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l00422"></a>00422         <a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid] -= <a class="code" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a>-&gt;iewInfo[tid].dispatched;
<a name="l00423"></a>00423 
<a name="l00424"></a>00424         assert(<a class="code" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[tid] &gt;=0);
<a name="l00425"></a>00425     }
<a name="l00426"></a>00426 
<a name="l00427"></a>00427 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9cc3b95f6969935f78c0158aa5145021"></a><!-- doxytag: member="DefaultRename::unblock" ref="a9cc3b95f6969935f78c0158aa5145021" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool unblock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Switches rename to unblocking if the skid buffer is empty, and signals back that rename has unblocked. </p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>Returns true if there is a status change. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00846"></a>00846 {
<a name="l00847"></a>00847     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Trying to unblock.\n&quot;</span>, tid);
<a name="l00848"></a>00848 
<a name="l00849"></a>00849     <span class="comment">// Rename is done unblocking if the skid buffer is empty.</span>
<a name="l00850"></a>00850     <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[tid].empty() &amp;&amp; <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] != <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caca0d28c09e2dcdb3aec968eda81d65f3">SerializeStall</a>) {
<a name="l00851"></a>00851 
<a name="l00852"></a>00852         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Rename, <span class="stringliteral">&quot;[tid:%u]: Done unblocking.\n&quot;</span>, tid);
<a name="l00853"></a>00853 
<a name="l00854"></a>00854         <a class="code" href="classDefaultRename.html#aeb2f0e9b4602def9a8a57f7e3e12cf27">toDecode</a>-&gt;renameUnblock[tid] = <span class="keyword">true</span>;
<a name="l00855"></a>00855         <a class="code" href="classDefaultRename.html#a2c7e870d4babdac0dc91fc7ffabd0f3d">wroteToTimeBuffer</a> = <span class="keyword">true</span>;
<a name="l00856"></a>00856 
<a name="l00857"></a>00857         <a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] = <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173ca2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a>;
<a name="l00858"></a>00858         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00859"></a>00859     }
<a name="l00860"></a>00860 
<a name="l00861"></a>00861     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00862"></a>00862 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4bb9486757ce225941aaaf759b357a57"></a><!-- doxytag: member="DefaultRename::updateStatus" ref="a4bb9486757ce225941aaaf759b357a57" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateStatus </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Updates overall rename status based on all of the threads' statuses. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00773"></a>00773 {
<a name="l00774"></a>00774     <span class="keywordtype">bool</span> any_unblocking = <span class="keyword">false</span>;
<a name="l00775"></a>00775 
<a name="l00776"></a>00776     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classDefaultRename.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00777"></a>00777     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classDefaultRename.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00778"></a>00778 
<a name="l00779"></a>00779     <span class="keywordflow">while</span> (threads != end) {
<a name="l00780"></a>00780         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00781"></a>00781 
<a name="l00782"></a>00782         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[tid] == <a class="code" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173caf2a3acf850890cb1651bc41dcbacb7e0">Unblocking</a>) {
<a name="l00783"></a>00783             any_unblocking = <span class="keyword">true</span>;
<a name="l00784"></a>00784             <span class="keywordflow">break</span>;
<a name="l00785"></a>00785         }
<a name="l00786"></a>00786     }
<a name="l00787"></a>00787 
<a name="l00788"></a>00788     <span class="comment">// Rename will have activity if it&apos;s unblocking.</span>
<a name="l00789"></a>00789     <span class="keywordflow">if</span> (any_unblocking) {
<a name="l00790"></a>00790         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a1564313ed7a74659481a1b5ea2bacf88">_status</a> == <a class="code" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718a969c924a722daf6334fca64346092ae6">Inactive</a>) {
<a name="l00791"></a>00791             <a class="code" href="classDefaultRename.html#a1564313ed7a74659481a1b5ea2bacf88">_status</a> = <a class="code" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718a26bd8444261cc58df7a86753c79d2520">Active</a>;
<a name="l00792"></a>00792 
<a name="l00793"></a>00793             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Activity, <span class="stringliteral">&quot;Activating stage.\n&quot;</span>);
<a name="l00794"></a>00794 
<a name="l00795"></a>00795             <a class="code" href="classDefaultRename.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>-&gt;activateStage(O3CPU::RenameIdx);
<a name="l00796"></a>00796         }
<a name="l00797"></a>00797     } <span class="keywordflow">else</span> {
<a name="l00798"></a>00798         <span class="comment">// If it&apos;s not unblocking, then rename will not have any internal</span>
<a name="l00799"></a>00799         <span class="comment">// activity.  Switch it to inactive.</span>
<a name="l00800"></a>00800         <span class="keywordflow">if</span> (<a class="code" href="classDefaultRename.html#a1564313ed7a74659481a1b5ea2bacf88">_status</a> == <a class="code" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718a26bd8444261cc58df7a86753c79d2520">Active</a>) {
<a name="l00801"></a>00801             <a class="code" href="classDefaultRename.html#a1564313ed7a74659481a1b5ea2bacf88">_status</a> = <a class="code" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718a969c924a722daf6334fca64346092ae6">Inactive</a>;
<a name="l00802"></a>00802             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Activity, <span class="stringliteral">&quot;Deactivating stage.\n&quot;</span>);
<a name="l00803"></a>00803 
<a name="l00804"></a>00804             <a class="code" href="classDefaultRename.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>-&gt;deactivateStage(O3CPU::RenameIdx);
<a name="l00805"></a>00805         }
<a name="l00806"></a>00806     }
<a name="l00807"></a>00807 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad533c56329b83d5b1aef92d0a6594b2c"></a><!-- doxytag: member="DefaultRename::validInsts" ref="ad533c56329b83d5b1aef92d0a6594b2c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned validInsts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the number of valid instructions coming from decode. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01138"></a>01138 {
<a name="l01139"></a>01139     <span class="keywordtype">unsigned</span> inst_count = 0;
<a name="l01140"></a>01140 
<a name="l01141"></a>01141     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>=0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>&lt;<a class="code" href="classDefaultRename.html#a8bf861a7b2c3731d3a69bf370564e975">fromDecode</a>-&gt;<a class="code" href="classTimeBuffer.html#a245260f6f74972558f61b85227df5aae">size</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l01142"></a>01142         <span class="keywordflow">if</span> (!<a class="code" href="classDefaultRename.html#a8bf861a7b2c3731d3a69bf370564e975">fromDecode</a>-&gt;insts[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;isSquashed())
<a name="l01143"></a>01143             inst_count++;
<a name="l01144"></a>01144     }
<a name="l01145"></a>01145 
<a name="l01146"></a>01146     <span class="keywordflow">return</span> inst_count;
<a name="l01147"></a>01147 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a1564313ed7a74659481a1b5ea2bacf88"></a><!-- doxytag: member="DefaultRename::_status" ref="a1564313ed7a74659481a1b5ea2bacf88" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDefaultRename.html#ac9f77d94a52c9029448b6d7b61d32718">RenameStatus</a> <a class="el" href="classDefaultRename.html#a1564313ed7a74659481a1b5ea2bacf88">_status</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rename status. </p>

</div>
</div>
<a class="anchor" id="af6eaea53db532812052f71bf0380dab5"></a><!-- doxytag: member="DefaultRename::activeThreads" ref="af6eaea53db532812052f71bf0380dab5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&gt;* <a class="el" href="classDefaultRename.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to the list of active threads. </p>

</div>
</div>
<a class="anchor" id="a5a5235d747599dbd49a887663f3739e8"></a><!-- doxytag: member="DefaultRename::blockThisCycle" ref="a5a5235d747599dbd49a887663f3739e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classDefaultRename.html#a5a5235d747599dbd49a887663f3739e8">blockThisCycle</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether or not rename needs to block this cycle. </p>

</div>
</div>
<a class="anchor" id="a51b23beeb9e078c0c11831d0f2e56bfd"></a><!-- doxytag: member="DefaultRename::commit_ptr" ref="a51b23beeb9e078c0c11831d0f2e56bfd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDefaultRename.html#a05a26def5ee77f19d25b86079d161ebd">Commit</a>* <a class="el" href="classDefaultRename.html#a51b23beeb9e078c0c11831d0f2e56bfd">commit_ptr</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to commit stage. Used only for initialization. </p>

</div>
</div>
<a class="anchor" id="a03ebbedbf40ac0005574e50b3577a651"></a><!-- doxytag: member="DefaultRename::commitToRenameDelay" ref="a03ebbedbf40ac0005574e50b3577a651" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classDefaultRename.html#a03ebbedbf40ac0005574e50b3577a651">commitToRenameDelay</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delay between commit and rename, in ticks. </p>

</div>
</div>
<a class="anchor" id="aeab15260a0ccc0ea470bb74344b63d17"></a><!-- doxytag: member="DefaultRename::commitWidth" ref="aeab15260a0ccc0ea470bb74344b63d17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classDefaultRename.html#aeab15260a0ccc0ea470bb74344b63d17">commitWidth</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Commit width, in instructions. Used so rename knows how many instructions might have freed registers in the previous cycle. </p>

</div>
</div>
<a class="anchor" id="a1379cf882a12ac6fc9eba5da7c84b18b"></a><!-- doxytag: member="DefaultRename::cpu" ref="a1379cf882a12ac6fc9eba5da7c84b18b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDefaultRename.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>* <a class="el" href="classDefaultRename.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to CPU. </p>

</div>
</div>
<a class="anchor" id="a7860fc5736574343c9e294cb2bef9d93"></a><!-- doxytag: member="DefaultRename::decodeQueue" ref="a7860fc5736574343c9e294cb2bef9d93" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="classDefaultRename.html#a38077cd156cf219016abf92d8c5b523b">DecodeStruct</a>&gt;* <a class="el" href="classDefaultRename.html#a7860fc5736574343c9e294cb2bef9d93">decodeQueue</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Decode instruction queue interface. </p>

</div>
</div>
<a class="anchor" id="a4ff2f51d1e391f739d6d1c73a6bcd0c1"></a><!-- doxytag: member="DefaultRename::decodeToRenameDelay" ref="a4ff2f51d1e391f739d6d1c73a6bcd0c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDefaultRename.html#a4ff2f51d1e391f739d6d1c73a6bcd0c1">decodeToRenameDelay</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delay between decode and rename, in ticks. </p>

</div>
</div>
<a class="anchor" id="a5a3345554ca63a6e859943d7174d714f"></a><!-- doxytag: member="DefaultRename::emptyROB" ref="a5a3345554ca63a6e859943d7174d714f" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classDefaultRename.html#a5a3345554ca63a6e859943d7174d714f">emptyROB</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Records if the <a class="el" href="classROB.html">ROB</a> is empty. In SMT mode the <a class="el" href="classROB.html">ROB</a> may be dynamically partitioned between threads, so the <a class="el" href="classROB.html">ROB</a> must tell rename when it is empty. </p>

</div>
</div>
<a class="anchor" id="ad27b51042b9dc458c5dd63b8c5f8d467"></a><!-- doxytag: member="DefaultRename::fpRenameLookups" ref="ad27b51042b9dc458c5dd63b8c5f8d467" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#ad27b51042b9dc458c5dd63b8c5f8d467">fpRenameLookups</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a20d0243bc02977001bfbd4834a7d8b5d"></a><!-- doxytag: member="DefaultRename::freeEntries" ref="a20d0243bc02977001bfbd4834a7d8b5d" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDefaultRename_1_1FreeEntries.html">FreeEntries</a> <a class="el" href="classDefaultRename.html#a20d0243bc02977001bfbd4834a7d8b5d">freeEntries</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Per-thread tracking of the number of free entries of back-end structures. </p>

</div>
</div>
<a class="anchor" id="a2e829c52dbc56e7ac6d2fc6a0524ff9c"></a><!-- doxytag: member="DefaultRename::freeList" ref="a2e829c52dbc56e7ac6d2fc6a0524ff9c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDefaultRename.html#ab784c356bacd490590fba42443e0f786">FreeList</a>* <a class="el" href="classDefaultRename.html#a2e829c52dbc56e7ac6d2fc6a0524ff9c">freeList</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Free list interface. </p>

</div>
</div>
<a class="anchor" id="a0055a92bd94eda21c2641d46ff013dac"></a><!-- doxytag: member="DefaultRename::fromCommit" ref="a0055a92bd94eda21c2641d46ff013dac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="structTimeStruct.html">TimeStruct</a>&gt;::wire <a class="el" href="classDefaultRename.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classWire.html">Wire</a> to get commit's output from backwards time buffer. </p>

</div>
</div>
<a class="anchor" id="a8bf861a7b2c3731d3a69bf370564e975"></a><!-- doxytag: member="DefaultRename::fromDecode" ref="a8bf861a7b2c3731d3a69bf370564e975" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="classDefaultRename.html#a38077cd156cf219016abf92d8c5b523b">DecodeStruct</a>&gt;::wire <a class="el" href="classDefaultRename.html#a8bf861a7b2c3731d3a69bf370564e975">fromDecode</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classWire.html">Wire</a> to get decode's output from decode queue. </p>

</div>
</div>
<a class="anchor" id="a6c9093e88770a58dc8853f49a09bbac8"></a><!-- doxytag: member="DefaultRename::fromIEW" ref="a6c9093e88770a58dc8853f49a09bbac8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="structTimeStruct.html">TimeStruct</a>&gt;::wire <a class="el" href="classDefaultRename.html#a6c9093e88770a58dc8853f49a09bbac8">fromIEW</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classWire.html">Wire</a> to get IEW's output from backwards time buffer. </p>

</div>
</div>
<a class="anchor" id="adc01dc05e6459841df629cb3353ddde9"></a><!-- doxytag: member="DefaultRename::historyBuffer" ref="adc01dc05e6459841df629cb3353ddde9" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="structDefaultRename_1_1RenameHistory.html">RenameHistory</a>&gt; <a class="el" href="classDefaultRename.html#adc01dc05e6459841df629cb3353ddde9">historyBuffer</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A per-thread list of all destination register renames, used to either undo rename mappings or free old physical registers. </p>

</div>
</div>
<a class="anchor" id="abf7286da8e826739b29fa67855f4216b"></a><!-- doxytag: member="DefaultRename::iew_ptr" ref="abf7286da8e826739b29fa67855f4216b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDefaultRename.html#a2e298f790f528754f0e0ffa0cb8088f6">IEW</a>* <a class="el" href="classDefaultRename.html#abf7286da8e826739b29fa67855f4216b">iew_ptr</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to IEW stage. Used only for initialization. </p>

</div>
</div>
<a class="anchor" id="a3069f8fd673d0e9ea2b1a8ce0ad3fe06"></a><!-- doxytag: member="DefaultRename::iewToRenameDelay" ref="a3069f8fd673d0e9ea2b1a8ce0ad3fe06" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDefaultRename.html#a3069f8fd673d0e9ea2b1a8ce0ad3fe06">iewToRenameDelay</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delay between iew and rename, in ticks. </p>

</div>
</div>
<a class="anchor" id="a4b6cd9f78efe8b5101b48dbf35a43c11"></a><!-- doxytag: member="DefaultRename::insts" ref="a4b6cd9f78efe8b5101b48dbf35a43c11" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">InstQueue</a> <a class="el" href="classDefaultRename.html#a4b6cd9f78efe8b5101b48dbf35a43c11">insts</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Queue of all instructions coming from decode this cycle. </p>

</div>
</div>
<a class="anchor" id="af301c62fee41266f36b1318688c8aa55"></a><!-- doxytag: member="DefaultRename::instsInProgress" ref="af301c62fee41266f36b1318688c8aa55" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDefaultRename.html#af301c62fee41266f36b1318688c8aa55">instsInProgress</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Count of instructions in progress that have been sent off to the IQ and <a class="el" href="classROB.html">ROB</a>, but are not yet included in their occupancy counts. </p>

</div>
</div>
<a class="anchor" id="ae2548cb038c1868f0dcf4c5df1154b12"></a><!-- doxytag: member="DefaultRename::intRenameLookups" ref="ae2548cb038c1868f0dcf4c5df1154b12" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#ae2548cb038c1868f0dcf4c5df1154b12">intRenameLookups</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="acc18d044ab2bf32e6515938485638d28"></a><!-- doxytag: member="DefaultRename::maxPhysicalRegs" ref="acc18d044ab2bf32e6515938485638d28" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> <a class="el" href="classDefaultRename.html#acc18d044ab2bf32e6515938485638d28">maxPhysicalRegs</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a88377f855dbf5adeeecb06b5bb821d35"></a><!-- doxytag: member="DefaultRename::numThreads" ref="a88377f855dbf5adeeecb06b5bb821d35" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> <a class="el" href="classDefaultRename.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of threads active in rename. </p>

</div>
</div>
<a class="anchor" id="a45732215f002b5052d042ef5798735f0"></a><!-- doxytag: member="DefaultRename::renameBlockCycles" ref="a45732215f002b5052d042ef5798735f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a45732215f002b5052d042ef5798735f0">renameBlockCycles</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of cycles spent blocking. </p>

</div>
</div>
<a class="anchor" id="a5d4c3559dbd988f18cc6d1c0e0470fcb"></a><!-- doxytag: member="DefaultRename::renameCommittedMaps" ref="a5d4c3559dbd988f18cc6d1c0e0470fcb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a5d4c3559dbd988f18cc6d1c0e0470fcb">renameCommittedMaps</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of committed renaming mappings. </p>

</div>
</div>
<a class="anchor" id="a6e383a41c8a2b8902dd659805c40621e"></a><!-- doxytag: member="DefaultRename::renamedSerializing" ref="a6e383a41c8a2b8902dd659805c40621e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a6e383a41c8a2b8902dd659805c40621e">renamedSerializing</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of serialize instructions handled. </p>

</div>
</div>
<a class="anchor" id="a94f16020be7d9c91aa978ce88f0adb1b"></a><!-- doxytag: member="DefaultRename::renamedTempSerializing" ref="a94f16020be7d9c91aa978ce88f0adb1b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a94f16020be7d9c91aa978ce88f0adb1b">renamedTempSerializing</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of instructions marked as temporarily serializing. </p>

</div>
</div>
<a class="anchor" id="ac012d0908acb20c3f68593787f626711"></a><!-- doxytag: member="DefaultRename::renameFullRegistersEvents" ref="ac012d0908acb20c3f68593787f626711" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#ac012d0908acb20c3f68593787f626711">renameFullRegistersEvents</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of times that rename runs out of free registers to use to rename. </p>

</div>
</div>
<a class="anchor" id="a53baed8fe49369b373c3dd986c683596"></a><!-- doxytag: member="DefaultRename::renameIdleCycles" ref="a53baed8fe49369b373c3dd986c683596" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a53baed8fe49369b373c3dd986c683596">renameIdleCycles</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of cycles spent idle. </p>

</div>
</div>
<a class="anchor" id="a9a4bab1aece13e48ae2d2a3f247b3354"></a><!-- doxytag: member="DefaultRename::renameIQFullEvents" ref="a9a4bab1aece13e48ae2d2a3f247b3354" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a9a4bab1aece13e48ae2d2a3f247b3354">renameIQFullEvents</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of times that the IQ starts a stall in rename. </p>

</div>
</div>
<a class="anchor" id="aba431e021496d1070a1d8f9ad7ec71f2"></a><!-- doxytag: member="DefaultRename::renameLSQFullEvents" ref="aba431e021496d1070a1d8f9ad7ec71f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#aba431e021496d1070a1d8f9ad7ec71f2">renameLSQFullEvents</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of times that the <a class="el" href="classLSQ.html">LSQ</a> starts a stall in rename. </p>

</div>
</div>
<a class="anchor" id="ac305c101c17d28451cc1f023b187b08b"></a><!-- doxytag: member="DefaultRename::renameMap" ref="ac305c101c17d28451cc1f023b187b08b" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDefaultRename.html#a341963bcea1928476182a17e357f98e3">RenameMap</a>* <a class="el" href="classDefaultRename.html#ac305c101c17d28451cc1f023b187b08b">renameMap</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rename map interface. </p>

</div>
</div>
<a class="anchor" id="ae9b536282159ba75153a223be77515ba"></a><!-- doxytag: member="DefaultRename::renameQueue" ref="ae9b536282159ba75153a223be77515ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="classDefaultRename.html#a0c2a89ad2edad9ad605d0461f9b132a5">RenameStruct</a>&gt;* <a class="el" href="classDefaultRename.html#ae9b536282159ba75153a223be77515ba">renameQueue</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rename instruction queue. </p>

</div>
</div>
<a class="anchor" id="aee6bb4587ea6f254fc29dda4d565afc9"></a><!-- doxytag: member="DefaultRename::renameRenamedInsts" ref="aee6bb4587ea6f254fc29dda4d565afc9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#aee6bb4587ea6f254fc29dda4d565afc9">renameRenamedInsts</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of renamed instructions. </p>

</div>
</div>
<a class="anchor" id="a3e2c435288350f7d805557b4d1a2b7a5"></a><!-- doxytag: member="DefaultRename::renameRenamedOperands" ref="a3e2c435288350f7d805557b4d1a2b7a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a3e2c435288350f7d805557b4d1a2b7a5">renameRenamedOperands</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of renamed destination registers. </p>

</div>
</div>
<a class="anchor" id="ab0b7632e67fcf2fe1e6bb1cef111eda4"></a><!-- doxytag: member="DefaultRename::renameRenameLookups" ref="ab0b7632e67fcf2fe1e6bb1cef111eda4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#ab0b7632e67fcf2fe1e6bb1cef111eda4">renameRenameLookups</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of source register rename lookups. </p>

</div>
</div>
<a class="anchor" id="a41408b25638b2531bc9e3b6ee622d148"></a><!-- doxytag: member="DefaultRename::renameROBFullEvents" ref="a41408b25638b2531bc9e3b6ee622d148" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a41408b25638b2531bc9e3b6ee622d148">renameROBFullEvents</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of times that the <a class="el" href="classROB.html">ROB</a> starts a stall in rename. </p>

</div>
</div>
<a class="anchor" id="a7dd03c8b7a88da84ff7e1bdd6b938d47"></a><!-- doxytag: member="DefaultRename::renameRunCycles" ref="a7dd03c8b7a88da84ff7e1bdd6b938d47" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a7dd03c8b7a88da84ff7e1bdd6b938d47">renameRunCycles</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of cycles spent running normally. </p>

</div>
</div>
<a class="anchor" id="a712d72379bc583c374e2f6179e8ee58f"></a><!-- doxytag: member="DefaultRename::renameSerializeStallCycles" ref="a712d72379bc583c374e2f6179e8ee58f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a712d72379bc583c374e2f6179e8ee58f">renameSerializeStallCycles</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of cycles spent stalling for a serializing inst. </p>

</div>
</div>
<a class="anchor" id="a50c910ed2a23d1bbb3e7861c2d1f33f4"></a><!-- doxytag: member="DefaultRename::renameSkidInsts" ref="a50c910ed2a23d1bbb3e7861c2d1f33f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a50c910ed2a23d1bbb3e7861c2d1f33f4">renameSkidInsts</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of instructions inserted into skid buffers. </p>

</div>
</div>
<a class="anchor" id="a8931e7bb259c1fe875fd5a88017b29e2"></a><!-- doxytag: member="DefaultRename::renameSquashCycles" ref="a8931e7bb259c1fe875fd5a88017b29e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a8931e7bb259c1fe875fd5a88017b29e2">renameSquashCycles</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of cycles spent squashing. </p>

</div>
</div>
<a class="anchor" id="ae988aa97bbfa339fc6e6bf0cbad90832"></a><!-- doxytag: member="DefaultRename::renameSquashedInsts" ref="ae988aa97bbfa339fc6e6bf0cbad90832" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#ae988aa97bbfa339fc6e6bf0cbad90832">renameSquashedInsts</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of squashed instructions that rename discards. </p>

</div>
</div>
<a class="anchor" id="a8c157bf422205d3cdd7e7c75c2592b6f"></a><!-- doxytag: member="DefaultRename::renameStatus" ref="a8c157bf422205d3cdd7e7c75c2592b6f" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDefaultRename.html#ae2739961013a00cede621d4d72f2173c">ThreadStatus</a> <a class="el" href="classDefaultRename.html#a8c157bf422205d3cdd7e7c75c2592b6f">renameStatus</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Per-thread status. </p>

</div>
</div>
<a class="anchor" id="a2f14c493f619ee24a84fbe959ed72a97"></a><!-- doxytag: member="DefaultRename::renameUnblockCycles" ref="a2f14c493f619ee24a84fbe959ed72a97" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#a2f14c493f619ee24a84fbe959ed72a97">renameUnblockCycles</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of cycles spent unblocking. </p>

</div>
</div>
<a class="anchor" id="ae0c8395975c577671916d55df6e05b16"></a><!-- doxytag: member="DefaultRename::renameUndoneMaps" ref="ae0c8395975c577671916d55df6e05b16" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classDefaultRename.html#ae0c8395975c577671916d55df6e05b16">renameUndoneMaps</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of mappings that were undone due to a squash. </p>

</div>
</div>
<a class="anchor" id="a4b41704382bddb6ee06b5ce97b47dd7b"></a><!-- doxytag: member="DefaultRename::renameWidth" ref="a4b41704382bddb6ee06b5ce97b47dd7b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classDefaultRename.html#a4b41704382bddb6ee06b5ce97b47dd7b">renameWidth</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rename width, in instructions. </p>

</div>
</div>
<a class="anchor" id="afa9ffeefc4b3ff8ae1ea9919bedbd1e4"></a><!-- doxytag: member="DefaultRename::resumeSerialize" ref="afa9ffeefc4b3ff8ae1ea9919bedbd1e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classDefaultRename.html#afa9ffeefc4b3ff8ae1ea9919bedbd1e4">resumeSerialize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether or not rename needs to resume a serialize instruction after squashing. </p>

</div>
</div>
<a class="anchor" id="aacc2e9a4766def499954195037465d42"></a><!-- doxytag: member="DefaultRename::resumeUnblocking" ref="aacc2e9a4766def499954195037465d42" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classDefaultRename.html#aacc2e9a4766def499954195037465d42">resumeUnblocking</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether or not rename needs to resume clearing out the skidbuffer after squashing. </p>

</div>
</div>
<a class="anchor" id="a265ad15229da2a6a05f908da093b3ed5"></a><!-- doxytag: member="DefaultRename::scoreboard" ref="a265ad15229da2a6a05f908da093b3ed5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classScoreboard.html">Scoreboard</a>* <a class="el" href="classDefaultRename.html#a265ad15229da2a6a05f908da093b3ed5">scoreboard</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to the scoreboard. </p>

</div>
</div>
<a class="anchor" id="a12ab5fca837718e12cc837d0f3c1da82"></a><!-- doxytag: member="DefaultRename::serializeInst" ref="a12ab5fca837718e12cc837d0f3c1da82" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDefaultRename.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> <a class="el" href="classDefaultRename.html#a12ab5fca837718e12cc837d0f3c1da82">serializeInst</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The serialize instruction that rename has stalled on. </p>

</div>
</div>
<a class="anchor" id="a4d99bc7f86d1a17d44e59c316c273262"></a><!-- doxytag: member="DefaultRename::serializeOnNextInst" ref="a4d99bc7f86d1a17d44e59c316c273262" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classDefaultRename.html#a4d99bc7f86d1a17d44e59c316c273262">serializeOnNextInst</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Records if rename needs to serialize on the next instruction for any thread. </p>

</div>
</div>
<a class="anchor" id="a64b861e400ea5adcf7a2f2dbe605e221"></a><!-- doxytag: member="DefaultRename::skidBuffer" ref="a64b861e400ea5adcf7a2f2dbe605e221" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">InstQueue</a> <a class="el" href="classDefaultRename.html#a64b861e400ea5adcf7a2f2dbe605e221">skidBuffer</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Skid buffer between rename and decode. </p>

</div>
</div>
<a class="anchor" id="a268414a6444b620140f263013a739a17"></a><!-- doxytag: member="DefaultRename::skidBufferMax" ref="a268414a6444b620140f263013a739a17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classDefaultRename.html#a268414a6444b620140f263013a739a17">skidBufferMax</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The maximum skid buffer size. </p>

</div>
</div>
<a class="anchor" id="ade48cf321f5741ea8e54e071680cacdc"></a><!-- doxytag: member="DefaultRename::stalls" ref="ade48cf321f5741ea8e54e071680cacdc" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDefaultRename_1_1Stalls.html">Stalls</a> <a class="el" href="classDefaultRename.html#ade48cf321f5741ea8e54e071680cacdc">stalls</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Tracks which stages are telling decode to stall. </p>

</div>
</div>
<a class="anchor" id="a83f9ee976e732665aeb08dbc19acfd45"></a><!-- doxytag: member="DefaultRename::timeBuffer" ref="a83f9ee976e732665aeb08dbc19acfd45" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="structTimeStruct.html">TimeStruct</a>&gt;* <a class="el" href="classDefaultRename.html#a83f9ee976e732665aeb08dbc19acfd45">timeBuffer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to main time buffer used for backwards communication. </p>

</div>
</div>
<a class="anchor" id="aeb2f0e9b4602def9a8a57f7e3e12cf27"></a><!-- doxytag: member="DefaultRename::toDecode" ref="aeb2f0e9b4602def9a8a57f7e3e12cf27" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="structTimeStruct.html">TimeStruct</a>&gt;::wire <a class="el" href="classDefaultRename.html#aeb2f0e9b4602def9a8a57f7e3e12cf27">toDecode</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classWire.html">Wire</a> to write infromation heading to previous stages. </p>

</div>
</div>
<a class="anchor" id="a20add800a4fdb85a3d370265f248a006"></a><!-- doxytag: member="DefaultRename::toIEW" ref="a20add800a4fdb85a3d370265f248a006" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="classDefaultRename.html#a0c2a89ad2edad9ad605d0461f9b132a5">RenameStruct</a>&gt;::wire <a class="el" href="classDefaultRename.html#a20add800a4fdb85a3d370265f248a006">toIEW</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classWire.html">Wire</a> to write any information heading to IEW. </p>

</div>
</div>
<a class="anchor" id="abb033b9572d00b4ffa5aca6c7fb51427"></a><!-- doxytag: member="DefaultRename::toIEWIndex" ref="abb033b9572d00b4ffa5aca6c7fb51427" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classDefaultRename.html#abb033b9572d00b4ffa5aca6c7fb51427">toIEWIndex</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The index of the instruction in the time buffer to IEW that rename is currently using. </p>

</div>
</div>
<a class="anchor" id="a2c7e870d4babdac0dc91fc7ffabd0f3d"></a><!-- doxytag: member="DefaultRename::wroteToTimeBuffer" ref="a2c7e870d4babdac0dc91fc7ffabd0f3d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classDefaultRename.html#a2c7e870d4babdac0dc91fc7ffabd0f3d">wroteToTimeBuffer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Variable that tracks if decode has written to the time buffer this cycle. Used to tell CPU if there is activity this cycle. </p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>cpu/o3/<a class="el" href="rename_8hh_source.html">rename.hh</a></li>
<li>cpu/o3/<a class="el" href="rename__impl_8hh_source.html">rename_impl.hh</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
