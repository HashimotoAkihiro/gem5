\hypertarget{classSimpleNetwork}{
\section{クラス SimpleNetwork}
\label{classSimpleNetwork}\index{SimpleNetwork@{SimpleNetwork}}
}


{\ttfamily \#include $<$SimpleNetwork.hh$>$}SimpleNetworkに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5cm]{classSimpleNetwork}
\end{center}
\end{figure}
\subsection*{構成}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classSimpleNetwork_1_1SimpleNetwork}{SimpleNetwork}
\item 
class \hyperlink{classSimpleNetwork_1_1Switch}{Switch}
\end{DoxyCompactItemize}
\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
typedef SimpleNetworkParams \hyperlink{classSimpleNetwork_acfd32ca05df7999ec705e4800d022dbf}{Params}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSimpleNetwork_a29ff459fd60dd92b122e772fcb931a03}{SimpleNetwork} (const \hyperlink{classSimpleNetwork_acfd32ca05df7999ec705e4800d022dbf}{Params} $\ast$p)
\item 
\hyperlink{classSimpleNetwork_a8cfee54f29326681efd0c8df51b6f197}{$\sim$SimpleNetwork} ()
\item 
void \hyperlink{classSimpleNetwork_a02fd73d861ef2e4aabb38c0c9ff82947}{init} ()
\item 
int \hyperlink{classSimpleNetwork_adaa0495495ece419f5911bc378971502}{getBufferSize} ()
\item 
int \hyperlink{classSimpleNetwork_a51a3a1351914cb6da4e32265806c3b65}{getEndpointBandwidth} ()
\item 
bool \hyperlink{classSimpleNetwork_aec4d81a042f35c92fa51a3721a8ed203}{getAdaptiveRouting} ()
\item 
void \hyperlink{classSimpleNetwork_a208669cbc0bb1d52565956ca8c690c55}{collateStats} ()
\item 
void \hyperlink{classSimpleNetwork_a4dc637449366fcdfc4e764cdf12d9b11}{regStats} ()
\item 
\hyperlink{classMessageBuffer}{MessageBuffer} $\ast$ \hyperlink{classSimpleNetwork_a4b74c5f7524d071a8cb6137eca7942bd}{getToNetQueue} (\hyperlink{TypeDefines_8hh_a83c14b4ae37e80071f6b3506a6c46151}{NodeID} id, bool ordered, int network\_\-num, std::string vnet\_\-type)
\item 
\hyperlink{classMessageBuffer}{MessageBuffer} $\ast$ \hyperlink{classSimpleNetwork_a8689f6299b0ac00d6ae6075a60829884}{getFromNetQueue} (\hyperlink{TypeDefines_8hh_a83c14b4ae37e80071f6b3506a6c46151}{NodeID} id, bool ordered, int network\_\-num, std::string vnet\_\-type)
\item 
bool \hyperlink{classSimpleNetwork_a52d31485b47857b8e7eb4a89efdf56a6}{isVNetOrdered} (int vnet)
\item 
bool \hyperlink{classSimpleNetwork_adf94d17da461ce5960923fec76cf70b5}{validVirtualNetwork} (int vnet)
\item 
int \hyperlink{classSimpleNetwork_a52ab76ba6f0a40a06c6fc4043351824e}{getNumNodes} ()
\item 
void \hyperlink{classSimpleNetwork_a87915d87a2b4c11ae5f0f4da31bd2375}{makeOutLink} (\hyperlink{TypeDefines_8hh_ac925a332c83eaf1e40e056e7a20ebcd8}{SwitchID} src, \hyperlink{TypeDefines_8hh_a83c14b4ae37e80071f6b3506a6c46151}{NodeID} dest, \hyperlink{classBasicLink}{BasicLink} $\ast$link, LinkDirection direction, const \hyperlink{classNetDest}{NetDest} \&routing\_\-table\_\-entry)
\item 
void \hyperlink{classSimpleNetwork_ac4cf8ff50e877f26606c24880c73fb9d}{makeInLink} (\hyperlink{TypeDefines_8hh_a83c14b4ae37e80071f6b3506a6c46151}{NodeID} src, \hyperlink{TypeDefines_8hh_ac925a332c83eaf1e40e056e7a20ebcd8}{SwitchID} dest, \hyperlink{classBasicLink}{BasicLink} $\ast$link, LinkDirection direction, const \hyperlink{classNetDest}{NetDest} \&routing\_\-table\_\-entry)
\item 
void \hyperlink{classSimpleNetwork_a035f37231d3a7edcadd92b7d9e17d4e4}{makeInternalLink} (\hyperlink{TypeDefines_8hh_ac925a332c83eaf1e40e056e7a20ebcd8}{SwitchID} src, \hyperlink{TypeDefines_8hh_ac925a332c83eaf1e40e056e7a20ebcd8}{SwitchID} dest, \hyperlink{classBasicLink}{BasicLink} $\ast$link, LinkDirection direction, const \hyperlink{classNetDest}{NetDest} \&routing\_\-table\_\-entry)
\item 
void \hyperlink{classSimpleNetwork_ac55fe386a101fbae38c716067c9966a0}{print} (std::ostream \&out) const 
\item 
bool \hyperlink{classSimpleNetwork_a729f57f557bb42c045c47d9388f1030e}{functionalRead} (\hyperlink{classPacket}{Packet} $\ast$pkt)
\item 
\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \hyperlink{classSimpleNetwork_ad07b9def1d6f5e5f988a254c3a9d1ad9}{functionalWrite} (\hyperlink{classPacket}{Packet} $\ast$pkt)
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classSimpleNetwork_a6536f357a006b030ddba64fbe086b608}{checkNetworkAllocation} (\hyperlink{TypeDefines_8hh_a83c14b4ae37e80071f6b3506a6c46151}{NodeID} id, bool ordered, int network\_\-num)
\item 
void \hyperlink{classSimpleNetwork_a62004334638177e52a711f5dd2f2d1a1}{addLink} (\hyperlink{TypeDefines_8hh_ac925a332c83eaf1e40e056e7a20ebcd8}{SwitchID} src, \hyperlink{TypeDefines_8hh_ac925a332c83eaf1e40e056e7a20ebcd8}{SwitchID} dest, int link\_\-latency)
\item 
void \hyperlink{classSimpleNetwork_adbadd4382922414e5feb364d39cf9efe}{makeLink} (\hyperlink{TypeDefines_8hh_ac925a332c83eaf1e40e056e7a20ebcd8}{SwitchID} src, \hyperlink{TypeDefines_8hh_ac925a332c83eaf1e40e056e7a20ebcd8}{SwitchID} dest, const \hyperlink{classNetDest}{NetDest} \&routing\_\-table\_\-entry, int link\_\-latency)
\item 
void \hyperlink{classSimpleNetwork_a6f69a0a7780a760ca9556e4e801c0a44}{makeTopology} ()
\item 
\hyperlink{classSimpleNetwork_a4c77599a6ef119fb4a2c8b388dffabe0}{SimpleNetwork} (const \hyperlink{classSimpleNetwork_1_1SimpleNetwork}{SimpleNetwork} \&obj)
\item 
\hyperlink{classSimpleNetwork_1_1SimpleNetwork}{SimpleNetwork} \& \hyperlink{classSimpleNetwork_a687133dea31dd57750ef6a35b7a3da7c}{operator=} (const \hyperlink{classSimpleNetwork_1_1SimpleNetwork}{SimpleNetwork} \&obj)
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classSimpleNetwork_1_1Switch}{Switch} $\ast$ $>$ \hyperlink{classSimpleNetwork_a5a28d1a63e9af05191db657b73992dfb}{m\_\-switches}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classMessageBuffer}{MessageBuffer} $\ast$ $>$ \hyperlink{classSimpleNetwork_aeb4204d50ceb840342cc89cd607e8fa9}{m\_\-buffers\_\-to\_\-free}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classSimpleNetwork_1_1Switch}{Switch} $\ast$ $>$ \hyperlink{classSimpleNetwork_a4f9f7f675317c0d0aec2f9272b1f4cba}{m\_\-endpoint\_\-switches}
\item 
int \hyperlink{classSimpleNetwork_ad58a86eb05a281840a92bb3d04adb9b1}{m\_\-buffer\_\-size}
\item 
int \hyperlink{classSimpleNetwork_a87d1115e90c126f4a0727873d2e9d72d}{m\_\-endpoint\_\-bandwidth}
\item 
bool \hyperlink{classSimpleNetwork_aa52418a2407639815b836666cca8f570}{m\_\-adaptive\_\-routing}
\item 
\hyperlink{classStats_1_1Formula}{Stats::Formula} \hyperlink{classSimpleNetwork_aab66b83ab5d0c228e10abb19ddbc78f2}{m\_\-msg\_\-counts} \mbox{[}MessageSizeType\_\-NUM\mbox{]}
\item 
\hyperlink{classStats_1_1Formula}{Stats::Formula} \hyperlink{classSimpleNetwork_a88ad01e3ba9f7c20e95be6554a9badd6}{m\_\-msg\_\-bytes} \mbox{[}MessageSizeType\_\-NUM\mbox{]}
\end{DoxyCompactItemize}


\subsection{型定義}
\hypertarget{classSimpleNetwork_acfd32ca05df7999ec705e4800d022dbf}{
\index{SimpleNetwork@{SimpleNetwork}!Params@{Params}}
\index{Params@{Params}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef SimpleNetworkParams {\bf Params}}}
\label{classSimpleNetwork_acfd32ca05df7999ec705e4800d022dbf}


\hyperlink{classNetwork_a5ebe6802acb5e6e05b54303c1004f080}{Network}を再定義しています。

\subsection{コンストラクタとデストラクタ}
\hypertarget{classSimpleNetwork_a29ff459fd60dd92b122e772fcb931a03}{
\index{SimpleNetwork@{SimpleNetwork}!SimpleNetwork@{SimpleNetwork}}
\index{SimpleNetwork@{SimpleNetwork}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{SimpleNetwork}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SimpleNetwork} (const {\bf Params} $\ast$ {\em p})}}
\label{classSimpleNetwork_a29ff459fd60dd92b122e772fcb931a03}



\begin{DoxyCode}
47     : Network(p)
48 {
49     m_buffer_size = p->buffer_size;
50     m_endpoint_bandwidth = p->endpoint_bandwidth;
51     m_adaptive_routing = p->adaptive_routing;
52 
53     // Note: the parent Network Object constructor is called before the
54     // SimpleNetwork child constructor.  Therefore, the member variables
55     // used below should already be initialized.
56 
57     m_endpoint_switches.resize(m_nodes);
58 
59     m_in_use.resize(m_virtual_networks);
60     m_ordered.resize(m_virtual_networks);
61     for (int i = 0; i < m_virtual_networks; i++) {
62         m_in_use[i] = false;
63         m_ordered[i] = false;
64     }
65 
66     // Allocate to and from queues
67     m_toNetQueues.resize(m_nodes);
68     m_fromNetQueues.resize(m_nodes);
69     for (int node = 0; node < m_nodes; node++) {
70         m_toNetQueues[node].resize(m_virtual_networks);
71         m_fromNetQueues[node].resize(m_virtual_networks);
72         for (int j = 0; j < m_virtual_networks; j++) {
73             m_toNetQueues[node][j] =
74                 new MessageBuffer(csprintf("toNet node %d j %d", node, j));
75             m_fromNetQueues[node][j] =
76                 new MessageBuffer(csprintf("fromNet node %d j %d", node, j));
77         }
78     }
79 
80     // record the routers
81     for (vector<BasicRouter*>::const_iterator i = p->routers.begin();
82          i != p->routers.end(); ++i) {
83         Switch* s = safe_cast<Switch*>(*i);
84         m_switches.push_back(s);
85         s->init_net_ptr(this);
86     }
87 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a8cfee54f29326681efd0c8df51b6f197}{
\index{SimpleNetwork@{SimpleNetwork}!$\sim$SimpleNetwork@{$\sim$SimpleNetwork}}
\index{$\sim$SimpleNetwork@{$\sim$SimpleNetwork}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{$\sim$SimpleNetwork}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf SimpleNetwork} ()}}
\label{classSimpleNetwork_a8cfee54f29326681efd0c8df51b6f197}



\begin{DoxyCode}
101 {
102     for (int i = 0; i < m_nodes; i++) {
103         deletePointers(m_toNetQueues[i]);
104         deletePointers(m_fromNetQueues[i]);
105     }
106     deletePointers(m_switches);
107     deletePointers(m_buffers_to_free);
108     // delete m_topology_ptr;
109 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a4c77599a6ef119fb4a2c8b388dffabe0}{
\index{SimpleNetwork@{SimpleNetwork}!SimpleNetwork@{SimpleNetwork}}
\index{SimpleNetwork@{SimpleNetwork}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{SimpleNetwork}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SimpleNetwork} (const {\bf SimpleNetwork} \& {\em obj})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_a4c77599a6ef119fb4a2c8b388dffabe0}


\subsection{関数}
\hypertarget{classSimpleNetwork_a62004334638177e52a711f5dd2f2d1a1}{
\index{SimpleNetwork@{SimpleNetwork}!addLink@{addLink}}
\index{addLink@{addLink}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{addLink}]{\setlength{\rightskip}{0pt plus 5cm}void addLink ({\bf SwitchID} {\em src}, \/  {\bf SwitchID} {\em dest}, \/  int {\em link\_\-latency})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_a62004334638177e52a711f5dd2f2d1a1}
\hypertarget{classSimpleNetwork_a6536f357a006b030ddba64fbe086b608}{
\index{SimpleNetwork@{SimpleNetwork}!checkNetworkAllocation@{checkNetworkAllocation}}
\index{checkNetworkAllocation@{checkNetworkAllocation}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{checkNetworkAllocation}]{\setlength{\rightskip}{0pt plus 5cm}void checkNetworkAllocation ({\bf NodeID} {\em id}, \/  bool {\em ordered}, \/  int {\em network\_\-num})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_a6536f357a006b030ddba64fbe086b608}



\begin{DoxyCode}
171 {
172     assert(id < m_nodes);
173     assert(network_num < m_virtual_networks);
174 
175     if (ordered) {
176         m_ordered[network_num] = true;
177     }
178     m_in_use[network_num] = true;
179 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a208669cbc0bb1d52565956ca8c690c55}{
\index{SimpleNetwork@{SimpleNetwork}!collateStats@{collateStats}}
\index{collateStats@{collateStats}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{collateStats}]{\setlength{\rightskip}{0pt plus 5cm}void collateStats ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSimpleNetwork_a208669cbc0bb1d52565956ca8c690c55}


\hyperlink{classNetwork_ab6b1b00ea63b4d41ec52e154052d47ee}{Network}を実装しています。


\begin{DoxyCode}
225 {
226     for (int i = 0; i < m_switches.size(); i++) {
227         m_switches[i]->collateStats();
228     }
229 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a729f57f557bb42c045c47d9388f1030e}{
\index{SimpleNetwork@{SimpleNetwork}!functionalRead@{functionalRead}}
\index{functionalRead@{functionalRead}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{functionalRead}]{\setlength{\rightskip}{0pt plus 5cm}bool functionalRead ({\bf Packet} $\ast$ {\em pkt})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSimpleNetwork_a729f57f557bb42c045c47d9388f1030e}


\hyperlink{classNetwork_a32ecdf2d815f1224a090f1d2b27b2c00}{Network}を再定義しています。


\begin{DoxyCode}
250 {
251     for (unsigned int i = 0; i < m_switches.size(); i++) {
252         if (m_switches[i]->functionalRead(pkt)) {
253             return true;
254         }
255     }
256 
257     for (unsigned int i = 0; i < m_buffers_to_free.size(); ++i) {
258         if (m_buffers_to_free[i]->functionalRead(pkt)) {
259             return true;
260         }
261     }
262 
263     return false;
264 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_ad07b9def1d6f5e5f988a254c3a9d1ad9}{
\index{SimpleNetwork@{SimpleNetwork}!functionalWrite@{functionalWrite}}
\index{functionalWrite@{functionalWrite}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{functionalWrite}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\_\-t} functionalWrite ({\bf Packet} $\ast$ {\em pkt})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSimpleNetwork_ad07b9def1d6f5e5f988a254c3a9d1ad9}


\hyperlink{classNetwork_a31a4b7e2a90a59a684d84d1284683986}{Network}を再定義しています。


\begin{DoxyCode}
268 {
269     uint32_t num_functional_writes = 0;
270 
271     for (unsigned int i = 0; i < m_switches.size(); i++) {
272         num_functional_writes += m_switches[i]->functionalWrite(pkt);
273     }
274 
275     for (unsigned int i = 0; i < m_buffers_to_free.size(); ++i) {
276         num_functional_writes += m_buffers_to_free[i]->functionalWrite(pkt);
277     }
278     return num_functional_writes;
279 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_aec4d81a042f35c92fa51a3721a8ed203}{
\index{SimpleNetwork@{SimpleNetwork}!getAdaptiveRouting@{getAdaptiveRouting}}
\index{getAdaptiveRouting@{getAdaptiveRouting}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{getAdaptiveRouting}]{\setlength{\rightskip}{0pt plus 5cm}bool getAdaptiveRouting ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSimpleNetwork_aec4d81a042f35c92fa51a3721a8ed203}



\begin{DoxyCode}
54 {return m_adaptive_routing; }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_adaa0495495ece419f5911bc378971502}{
\index{SimpleNetwork@{SimpleNetwork}!getBufferSize@{getBufferSize}}
\index{getBufferSize@{getBufferSize}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{getBufferSize}]{\setlength{\rightskip}{0pt plus 5cm}int getBufferSize ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSimpleNetwork_adaa0495495ece419f5911bc378971502}



\begin{DoxyCode}
52 { return m_buffer_size; }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a51a3a1351914cb6da4e32265806c3b65}{
\index{SimpleNetwork@{SimpleNetwork}!getEndpointBandwidth@{getEndpointBandwidth}}
\index{getEndpointBandwidth@{getEndpointBandwidth}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{getEndpointBandwidth}]{\setlength{\rightskip}{0pt plus 5cm}int getEndpointBandwidth ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSimpleNetwork_a51a3a1351914cb6da4e32265806c3b65}



\begin{DoxyCode}
53 { return m_endpoint_bandwidth; }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a8689f6299b0ac00d6ae6075a60829884}{
\index{SimpleNetwork@{SimpleNetwork}!getFromNetQueue@{getFromNetQueue}}
\index{getFromNetQueue@{getFromNetQueue}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{getFromNetQueue}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MessageBuffer} $\ast$ getFromNetQueue ({\bf NodeID} {\em id}, \/  bool {\em ordered}, \/  int {\em network\_\-num}, \/  std::string {\em vnet\_\-type})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSimpleNetwork_a8689f6299b0ac00d6ae6075a60829884}


\hyperlink{classNetwork_a28233bfa034d11609e66d504bce62359}{Network}を実装しています。


\begin{DoxyCode}
192 {
193     checkNetworkAllocation(id, ordered, network_num);
194     return m_fromNetQueues[id][network_num];
195 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a52ab76ba6f0a40a06c6fc4043351824e}{
\index{SimpleNetwork@{SimpleNetwork}!getNumNodes@{getNumNodes}}
\index{getNumNodes@{getNumNodes}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{getNumNodes}]{\setlength{\rightskip}{0pt plus 5cm}int getNumNodes ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classSimpleNetwork_a52ab76ba6f0a40a06c6fc4043351824e}


\hyperlink{classNetwork_a7624554588ea569f360d6ea8e1cad409}{Network}を再定義しています。


\begin{DoxyCode}
66 {return m_nodes; }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a4b74c5f7524d071a8cb6137eca7942bd}{
\index{SimpleNetwork@{SimpleNetwork}!getToNetQueue@{getToNetQueue}}
\index{getToNetQueue@{getToNetQueue}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{getToNetQueue}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MessageBuffer} $\ast$ getToNetQueue ({\bf NodeID} {\em id}, \/  bool {\em ordered}, \/  int {\em network\_\-num}, \/  std::string {\em vnet\_\-type})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSimpleNetwork_a4b74c5f7524d071a8cb6137eca7942bd}


\hyperlink{classNetwork_aeb27c17e088f115f8b5e3366c9ef8415}{Network}を実装しています。


\begin{DoxyCode}
184 {
185     checkNetworkAllocation(id, ordered, network_num);
186     return m_toNetQueues[id][network_num];
187 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a02fd73d861ef2e4aabb38c0c9ff82947}{
\index{SimpleNetwork@{SimpleNetwork}!init@{init}}
\index{init@{init}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void init ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSimpleNetwork_a02fd73d861ef2e4aabb38c0c9ff82947}
\hyperlink{classSimpleNetwork_a02fd73d861ef2e4aabb38c0c9ff82947}{init()} is called after all C++ SimObjects have been created and all ports are connected. Initializations that are independent of unserialization but rely on a fully instantiated and connected \hyperlink{classSimObject}{SimObject} graph should be done here. 

\hyperlink{classNetwork_a02fd73d861ef2e4aabb38c0c9ff82947}{Network}を再定義しています。


\begin{DoxyCode}
91 {
92     Network::init();
93 
94     // The topology pointer should have already been initialized in
95     // the parent class network constructor.
96     assert(m_topology_ptr != NULL);
97     m_topology_ptr->createLinks(this);
98 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a52d31485b47857b8e7eb4a89efdf56a6}{
\index{SimpleNetwork@{SimpleNetwork}!isVNetOrdered@{isVNetOrdered}}
\index{isVNetOrdered@{isVNetOrdered}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{isVNetOrdered}]{\setlength{\rightskip}{0pt plus 5cm}bool isVNetOrdered (int {\em vnet})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSimpleNetwork_a52d31485b47857b8e7eb4a89efdf56a6}



\begin{DoxyCode}
63 { return m_ordered[vnet]; }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_ac4cf8ff50e877f26606c24880c73fb9d}{
\index{SimpleNetwork@{SimpleNetwork}!makeInLink@{makeInLink}}
\index{makeInLink@{makeInLink}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{makeInLink}]{\setlength{\rightskip}{0pt plus 5cm}void makeInLink ({\bf NodeID} {\em src}, \/  {\bf SwitchID} {\em dest}, \/  {\bf BasicLink} $\ast$ {\em link}, \/  LinkDirection {\em direction}, \/  const {\bf NetDest} \& {\em routing\_\-table\_\-entry})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSimpleNetwork_ac4cf8ff50e877f26606c24880c73fb9d}


\hyperlink{classNetwork_a989337badc16737935316d1faa84a017}{Network}を実装しています。


\begin{DoxyCode}
136 {
137     assert(src < m_nodes);
138     m_switches[dest]->addInPort(m_toNetQueues[src]);
139 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a035f37231d3a7edcadd92b7d9e17d4e4}{
\index{SimpleNetwork@{SimpleNetwork}!makeInternalLink@{makeInternalLink}}
\index{makeInternalLink@{makeInternalLink}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{makeInternalLink}]{\setlength{\rightskip}{0pt plus 5cm}void makeInternalLink ({\bf SwitchID} {\em src}, \/  {\bf SwitchID} {\em dest}, \/  {\bf BasicLink} $\ast$ {\em link}, \/  LinkDirection {\em direction}, \/  const {\bf NetDest} \& {\em routing\_\-table\_\-entry})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSimpleNetwork_a035f37231d3a7edcadd92b7d9e17d4e4}


\hyperlink{classNetwork_adc0a708d423af0acbe045a50a46d7b03}{Network}を実装しています。


\begin{DoxyCode}
146 {
147     // Create a set of new MessageBuffers
148     std::vector<MessageBuffer*> queues;
149     for (int i = 0; i < m_virtual_networks; i++) {
150         // allocate a buffer
151         MessageBuffer* buffer_ptr = new MessageBuffer;
152         buffer_ptr->setOrdering(true);
153         if (m_buffer_size > 0) {
154             buffer_ptr->resize(m_buffer_size);
155         }
156         queues.push_back(buffer_ptr);
157         // remember to deallocate it
158         m_buffers_to_free.push_back(buffer_ptr);
159     }
160     // Connect it to the two switches
161     SimpleIntLink *simple_link = safe_cast<SimpleIntLink*>(link);
162 
163     m_switches[dest]->addInPort(queues);
164     m_switches[src]->addOutPort(queues, routing_table_entry,
165                                          simple_link->m_latency, 
166                                          simple_link->m_bw_multiplier);
167 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_adbadd4382922414e5feb364d39cf9efe}{
\index{SimpleNetwork@{SimpleNetwork}!makeLink@{makeLink}}
\index{makeLink@{makeLink}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{makeLink}]{\setlength{\rightskip}{0pt plus 5cm}void makeLink ({\bf SwitchID} {\em src}, \/  {\bf SwitchID} {\em dest}, \/  const {\bf NetDest} \& {\em routing\_\-table\_\-entry}, \/  int {\em link\_\-latency})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_adbadd4382922414e5feb364d39cf9efe}
\hypertarget{classSimpleNetwork_a87915d87a2b4c11ae5f0f4da31bd2375}{
\index{SimpleNetwork@{SimpleNetwork}!makeOutLink@{makeOutLink}}
\index{makeOutLink@{makeOutLink}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{makeOutLink}]{\setlength{\rightskip}{0pt plus 5cm}void makeOutLink ({\bf SwitchID} {\em src}, \/  {\bf NodeID} {\em dest}, \/  {\bf BasicLink} $\ast$ {\em link}, \/  LinkDirection {\em direction}, \/  const {\bf NetDest} \& {\em routing\_\-table\_\-entry})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSimpleNetwork_a87915d87a2b4c11ae5f0f4da31bd2375}


\hyperlink{classNetwork_a4e62c2a0e4a511dae2e9870a3d305719}{Network}を実装しています。


\begin{DoxyCode}
116 {
117     assert(dest < m_nodes);
118     assert(src < m_switches.size());
119     assert(m_switches[src] != NULL);
120 
121     SimpleExtLink *simple_link = safe_cast<SimpleExtLink*>(link);
122 
123     m_switches[src]->addOutPort(m_fromNetQueues[dest],
124                                          routing_table_entry,
125                                          simple_link->m_latency,
126                                          simple_link->m_bw_multiplier);
127 
128     m_endpoint_switches[dest] = m_switches[src];
129 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_a6f69a0a7780a760ca9556e4e801c0a44}{
\index{SimpleNetwork@{SimpleNetwork}!makeTopology@{makeTopology}}
\index{makeTopology@{makeTopology}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{makeTopology}]{\setlength{\rightskip}{0pt plus 5cm}void makeTopology ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_a6f69a0a7780a760ca9556e4e801c0a44}
\hypertarget{classSimpleNetwork_a687133dea31dd57750ef6a35b7a3da7c}{
\index{SimpleNetwork@{SimpleNetwork}!operator=@{operator=}}
\index{operator=@{operator=}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{operator=}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SimpleNetwork}\& operator= (const {\bf SimpleNetwork} \& {\em obj})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_a687133dea31dd57750ef6a35b7a3da7c}
\hypertarget{classSimpleNetwork_ac55fe386a101fbae38c716067c9966a0}{
\index{SimpleNetwork@{SimpleNetwork}!print@{print}}
\index{print@{print}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{print}]{\setlength{\rightskip}{0pt plus 5cm}void print (std::ostream \& {\em out}) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSimpleNetwork_ac55fe386a101fbae38c716067c9966a0}


\hyperlink{classNetwork_a3ea5f7af5db62cc24f4e40df9ea5c971}{Network}を実装しています。\hypertarget{classSimpleNetwork_a4dc637449366fcdfc4e764cdf12d9b11}{
\index{SimpleNetwork@{SimpleNetwork}!regStats@{regStats}}
\index{regStats@{regStats}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{regStats}]{\setlength{\rightskip}{0pt plus 5cm}void regStats ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSimpleNetwork_a4dc637449366fcdfc4e764cdf12d9b11}
\hyperlink{classRegister}{Register} statistics for this object. 

\hyperlink{classSimObject_a4dc637449366fcdfc4e764cdf12d9b11}{SimObject}を再定義しています。


\begin{DoxyCode}
199 {
200     for (MessageSizeType type = MessageSizeType_FIRST;
201          type < MessageSizeType_NUM; ++type) {
202         m_msg_counts[(unsigned int) type]
203             .name(name() + ".msg_count." + MessageSizeType_to_string(type))
204             .flags(Stats::nozero)
205             ;
206         m_msg_bytes[(unsigned int) type]
207             .name(name() + ".msg_byte." + MessageSizeType_to_string(type))
208             .flags(Stats::nozero)
209             ;
210 
211         // Now state what the formula is.
212         for (int i = 0; i < m_switches.size(); i++) {
213             m_msg_counts[(unsigned int) type] +=
214                 sum(m_switches[i]->getMsgCount(type));
215         }
216 
217         m_msg_bytes[(unsigned int) type] =
218             m_msg_counts[(unsigned int) type] * Stats::constant(
219                     Network::MessageSizeType_to_int(type));
220     }
221 }
\end{DoxyCode}
\hypertarget{classSimpleNetwork_adf94d17da461ce5960923fec76cf70b5}{
\index{SimpleNetwork@{SimpleNetwork}!validVirtualNetwork@{validVirtualNetwork}}
\index{validVirtualNetwork@{validVirtualNetwork}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{validVirtualNetwork}]{\setlength{\rightskip}{0pt plus 5cm}bool validVirtualNetwork (int {\em vnet})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSimpleNetwork_adf94d17da461ce5960923fec76cf70b5}



\begin{DoxyCode}
64 { return m_in_use[vnet]; }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classSimpleNetwork_aa52418a2407639815b836666cca8f570}{
\index{SimpleNetwork@{SimpleNetwork}!m\_\-adaptive\_\-routing@{m\_\-adaptive\_\-routing}}
\index{m\_\-adaptive\_\-routing@{m\_\-adaptive\_\-routing}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{m\_\-adaptive\_\-routing}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf m\_\-adaptive\_\-routing}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_aa52418a2407639815b836666cca8f570}
\hypertarget{classSimpleNetwork_ad58a86eb05a281840a92bb3d04adb9b1}{
\index{SimpleNetwork@{SimpleNetwork}!m\_\-buffer\_\-size@{m\_\-buffer\_\-size}}
\index{m\_\-buffer\_\-size@{m\_\-buffer\_\-size}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{m\_\-buffer\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf m\_\-buffer\_\-size}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_ad58a86eb05a281840a92bb3d04adb9b1}
\hypertarget{classSimpleNetwork_aeb4204d50ceb840342cc89cd607e8fa9}{
\index{SimpleNetwork@{SimpleNetwork}!m\_\-buffers\_\-to\_\-free@{m\_\-buffers\_\-to\_\-free}}
\index{m\_\-buffers\_\-to\_\-free@{m\_\-buffers\_\-to\_\-free}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{m\_\-buffers\_\-to\_\-free}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf MessageBuffer}$\ast$$>$ {\bf m\_\-buffers\_\-to\_\-free}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_aeb4204d50ceb840342cc89cd607e8fa9}
\hypertarget{classSimpleNetwork_a87d1115e90c126f4a0727873d2e9d72d}{
\index{SimpleNetwork@{SimpleNetwork}!m\_\-endpoint\_\-bandwidth@{m\_\-endpoint\_\-bandwidth}}
\index{m\_\-endpoint\_\-bandwidth@{m\_\-endpoint\_\-bandwidth}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{m\_\-endpoint\_\-bandwidth}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf m\_\-endpoint\_\-bandwidth}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_a87d1115e90c126f4a0727873d2e9d72d}
\hypertarget{classSimpleNetwork_a4f9f7f675317c0d0aec2f9272b1f4cba}{
\index{SimpleNetwork@{SimpleNetwork}!m\_\-endpoint\_\-switches@{m\_\-endpoint\_\-switches}}
\index{m\_\-endpoint\_\-switches@{m\_\-endpoint\_\-switches}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{m\_\-endpoint\_\-switches}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Switch}$\ast$$>$ {\bf m\_\-endpoint\_\-switches}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_a4f9f7f675317c0d0aec2f9272b1f4cba}
\hypertarget{classSimpleNetwork_a88ad01e3ba9f7c20e95be6554a9badd6}{
\index{SimpleNetwork@{SimpleNetwork}!m\_\-msg\_\-bytes@{m\_\-msg\_\-bytes}}
\index{m\_\-msg\_\-bytes@{m\_\-msg\_\-bytes}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{m\_\-msg\_\-bytes}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Formula} {\bf m\_\-msg\_\-bytes}\mbox{[}MessageSizeType\_\-NUM\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_a88ad01e3ba9f7c20e95be6554a9badd6}
\hypertarget{classSimpleNetwork_aab66b83ab5d0c228e10abb19ddbc78f2}{
\index{SimpleNetwork@{SimpleNetwork}!m\_\-msg\_\-counts@{m\_\-msg\_\-counts}}
\index{m\_\-msg\_\-counts@{m\_\-msg\_\-counts}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{m\_\-msg\_\-counts}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Formula} {\bf m\_\-msg\_\-counts}\mbox{[}MessageSizeType\_\-NUM\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_aab66b83ab5d0c228e10abb19ddbc78f2}
\hypertarget{classSimpleNetwork_a5a28d1a63e9af05191db657b73992dfb}{
\index{SimpleNetwork@{SimpleNetwork}!m\_\-switches@{m\_\-switches}}
\index{m\_\-switches@{m\_\-switches}!SimpleNetwork@{SimpleNetwork}}
\subsubsection[{m\_\-switches}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Switch}$\ast$$>$ {\bf m\_\-switches}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleNetwork_a5a28d1a63e9af05191db657b73992dfb}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/ruby/network/simple/\hyperlink{SimpleNetwork_8hh}{SimpleNetwork.hh}\item 
mem/ruby/network/simple/\hyperlink{SimpleNetwork_8cc}{SimpleNetwork.cc}\end{DoxyCompactItemize}
