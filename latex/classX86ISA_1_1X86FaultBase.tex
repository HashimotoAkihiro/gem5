\hypertarget{classX86ISA_1_1X86FaultBase}{
\section{クラス X86FaultBase}
\label{classX86ISA_1_1X86FaultBase}\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
}


{\ttfamily \#include $<$faults.hh$>$}X86FaultBaseに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.00559cm]{classX86ISA_1_1X86FaultBase}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
virtual uint8\_\-t \hyperlink{classX86ISA_1_1X86FaultBase_a43ecb580ea3927f499dc82682f1b9a6a}{getVector} () const 
\end{DoxyCompactItemize}
\subsection*{Protected メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classX86ISA_1_1X86FaultBase_ac24434dc998ec2bfc13a71d8a5a52c92}{X86FaultBase} (const char $\ast$\_\-faultName, const char $\ast$\_\-mnem, const uint8\_\-t \_\-vector, uint64\_\-t \_\-errorCode=(uint64\_\-t)-\/1)
\item 
const char $\ast$ \hyperlink{classX86ISA_1_1X86FaultBase_a862958aa3c2b9bf36903f1f0f2e81c54}{name} () const 
\item 
virtual bool \hyperlink{classX86ISA_1_1X86FaultBase_a3f9ecaf4044752e713522ecf7d8be3b3}{isBenign} ()
\item 
virtual const char $\ast$ \hyperlink{classX86ISA_1_1X86FaultBase_ac61515b292d6c2669e040bc32e987aaf}{mnemonic} () const 
\item 
virtual bool \hyperlink{classX86ISA_1_1X86FaultBase_a097619346ac87f9db97e3fdd59b81466}{isSoft} ()
\item 
void \hyperlink{classX86ISA_1_1X86FaultBase_a2bd783b42262278d41157d428e1f8d6f}{invoke} (\hyperlink{classThreadContext}{ThreadContext} $\ast$tc, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst=\hyperlink{classStaticInst_aa793d9793af735f09096369fb17567b6}{StaticInst::nullStaticInstPtr})
\item 
virtual std::string \hyperlink{classX86ISA_1_1X86FaultBase_a1d7f1c12bd9a77eda766e6e8dca31e50}{describe} () const 
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \hyperlink{classX86ISA_1_1X86FaultBase_ae22cddc5ef9722fc965147e9eba686a1}{faultName}
\item 
const char $\ast$ \hyperlink{classX86ISA_1_1X86FaultBase_a7bb17f43dadf35d103ef6a25b64c4e9f}{mnem}
\item 
uint8\_\-t \hyperlink{classX86ISA_1_1X86FaultBase_ae369101f45bd256ca2745204afe38a47}{vector}
\item 
uint64\_\-t \hyperlink{classX86ISA_1_1X86FaultBase_a0569d3106ee8c4c5e61fcbf93f13379d}{errorCode}
\end{DoxyCompactItemize}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classX86ISA_1_1X86FaultBase_ac24434dc998ec2bfc13a71d8a5a52c92}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!X86FaultBase@{X86FaultBase}}
\index{X86FaultBase@{X86FaultBase}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{X86FaultBase}]{\setlength{\rightskip}{0pt plus 5cm}{\bf X86FaultBase} (const char $\ast$ {\em \_\-faultName}, \/  const char $\ast$ {\em \_\-mnem}, \/  const uint8\_\-t {\em \_\-vector}, \/  uint64\_\-t {\em \_\-errorCode} = {\ttfamily (uint64\_\-t)-\/1})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_ac24434dc998ec2bfc13a71d8a5a52c92}



\begin{DoxyCode}
63             : faultName(_faultName), mnem(_mnem),
64               vector(_vector), errorCode(_errorCode)
65         {
66         }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classX86ISA_1_1X86FaultBase_a1d7f1c12bd9a77eda766e6e8dca31e50}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!describe@{describe}}
\index{describe@{describe}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{describe}]{\setlength{\rightskip}{0pt plus 5cm}std::string describe () const\hspace{0.3cm}{\ttfamily  \mbox{[}protected, virtual\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_a1d7f1c12bd9a77eda766e6e8dca31e50}


\hyperlink{classX86ISA_1_1PageFault_a1d7f1c12bd9a77eda766e6e8dca31e50}{PageFault}で再定義されています。


\begin{DoxyCode}
97     {
98         std::stringstream ss;
99         ccprintf(ss, "%s", mnemonic());
100         if (errorCode != (uint64_t)(-1)) {
101             ccprintf(ss, "(%#x)", errorCode);
102         }
103 
104         return ss.str();
105     }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1X86FaultBase_a43ecb580ea3927f499dc82682f1b9a6a}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!getVector@{getVector}}
\index{getVector@{getVector}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{getVector}]{\setlength{\rightskip}{0pt plus 5cm}virtual uint8\_\-t getVector () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_a43ecb580ea3927f499dc82682f1b9a6a}
Get the vector of an interrupt.

\begin{DoxyReturn}{戻り値}
interrupt vector number. 
\end{DoxyReturn}



\begin{DoxyCode}
99 { return vector; }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1X86FaultBase_a2bd783b42262278d41157d428e1f8d6f}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!invoke@{invoke}}
\index{invoke@{invoke}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{invoke}]{\setlength{\rightskip}{0pt plus 5cm}void invoke ({\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf StaticInstPtr} {\em inst} = {\ttfamily {\bf StaticInst::nullStaticInstPtr}})\hspace{0.3cm}{\ttfamily  \mbox{[}protected, virtual\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_a2bd783b42262278d41157d428e1f8d6f}


\hyperlink{classFaultBase_a2bd783b42262278d41157d428e1f8d6f}{FaultBase}を再定義しています。

\hyperlink{classX86ISA_1_1X86Trap_a2bd783b42262278d41157d428e1f8d6f}{X86Trap}, \hyperlink{classX86ISA_1_1X86Abort_a2bd783b42262278d41157d428e1f8d6f}{X86Abort}, \hyperlink{classX86ISA_1_1InvalidOpcode_a2bd783b42262278d41157d428e1f8d6f}{InvalidOpcode}, \hyperlink{classX86ISA_1_1PageFault_a2bd783b42262278d41157d428e1f8d6f}{PageFault}, \hyperlink{classX86ISA_1_1InitInterrupt_a2bd783b42262278d41157d428e1f8d6f}{InitInterrupt}, と \hyperlink{classX86ISA_1_1StartupInterrupt_a2bd783b42262278d41157d428e1f8d6f}{StartupInterrupt}で再定義されています。


\begin{DoxyCode}
54     {
55         if (!FullSystem) {
56             FaultBase::invoke(tc, inst);
57             return;
58         }
59 
60         PCState pcState = tc->pcState();
61         Addr pc = pcState.pc();
62         DPRINTF(Faults, "RIP %#x: vector %d: %s\n",
63                 pc, vector, describe());
64         using namespace X86ISAInst::RomLabels;
65         HandyM5Reg m5reg = tc->readMiscRegNoEffect(MISCREG_M5_REG);
66         MicroPC entry;
67         if (m5reg.mode == LongMode) {
68             if (isSoft()) {
69                 entry = extern_label_longModeSoftInterrupt;
70             } else {
71                 entry = extern_label_longModeInterrupt;
72             }
73         } else {
74             entry = extern_label_legacyModeInterrupt;
75         }
76         tc->setIntReg(INTREG_MICRO(1), vector);
77         tc->setIntReg(INTREG_MICRO(7), pc);
78         if (errorCode != (uint64_t)(-1)) {
79             if (m5reg.mode == LongMode) {
80                 entry = extern_label_longModeInterruptWithError;
81             } else {
82                 panic("Legacy mode interrupts with error codes "
83                         "aren't implementde.\n");
84             }
85             // Software interrupts shouldn't have error codes. If one
86             // does, there would need to be microcode to set it up.
87             assert(!isSoft());
88             tc->setIntReg(INTREG_MICRO(15), errorCode);
89         }
90         pcState.upc(romMicroPC(entry));
91         pcState.nupc(romMicroPC(entry) + 1);
92         tc->pcState(pcState);
93     }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1X86FaultBase_a3f9ecaf4044752e713522ecf7d8be3b3}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!isBenign@{isBenign}}
\index{isBenign@{isBenign}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{isBenign}]{\setlength{\rightskip}{0pt plus 5cm}virtual bool isBenign ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected, virtual\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_a3f9ecaf4044752e713522ecf7d8be3b3}



\begin{DoxyCode}
74         {
75             return true;
76         }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1X86FaultBase_a097619346ac87f9db97e3fdd59b81466}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!isSoft@{isSoft}}
\index{isSoft@{isSoft}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{isSoft}]{\setlength{\rightskip}{0pt plus 5cm}virtual bool isSoft ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected, virtual\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_a097619346ac87f9db97e3fdd59b81466}


\hyperlink{classX86ISA_1_1SoftwareInterrupt_aa6fbefd34fa168be687772f1e4498220}{SoftwareInterrupt}で再定義されています。


\begin{DoxyCode}
84         {
85             return false;
86         }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1X86FaultBase_ac61515b292d6c2669e040bc32e987aaf}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!mnemonic@{mnemonic}}
\index{mnemonic@{mnemonic}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{mnemonic}]{\setlength{\rightskip}{0pt plus 5cm}virtual const char$\ast$ mnemonic () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected, virtual\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_ac61515b292d6c2669e040bc32e987aaf}



\begin{DoxyCode}
79         {
80             return mnem;
81         }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1X86FaultBase_a862958aa3c2b9bf36903f1f0f2e81c54}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!name@{name}}
\index{name@{name}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{name}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ name () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected, virtual\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_a862958aa3c2b9bf36903f1f0f2e81c54}


\hyperlink{classFaultBase_aad960357563b8b969d2dffdcc6861de7}{FaultBase}を実装しています。


\begin{DoxyCode}
69         {
70             return faultName;
71         }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classX86ISA_1_1X86FaultBase_a0569d3106ee8c4c5e61fcbf93f13379d}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!errorCode@{errorCode}}
\index{errorCode@{errorCode}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{errorCode}]{\setlength{\rightskip}{0pt plus 5cm}uint64\_\-t {\bf errorCode}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_a0569d3106ee8c4c5e61fcbf93f13379d}
\hypertarget{classX86ISA_1_1X86FaultBase_ae22cddc5ef9722fc965147e9eba686a1}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!faultName@{faultName}}
\index{faultName@{faultName}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{faultName}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ {\bf faultName}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_ae22cddc5ef9722fc965147e9eba686a1}
\hypertarget{classX86ISA_1_1X86FaultBase_a7bb17f43dadf35d103ef6a25b64c4e9f}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!mnem@{mnem}}
\index{mnem@{mnem}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{mnem}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ {\bf mnem}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_a7bb17f43dadf35d103ef6a25b64c4e9f}
\hypertarget{classX86ISA_1_1X86FaultBase_ae369101f45bd256ca2745204afe38a47}{
\index{X86ISA::X86FaultBase@{X86ISA::X86FaultBase}!vector@{vector}}
\index{vector@{vector}!X86ISA::X86FaultBase@{X86ISA::X86FaultBase}}
\subsubsection[{vector}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t {\bf vector}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1X86FaultBase_ae369101f45bd256ca2745204afe38a47}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
arch/x86/\hyperlink{arch_2x86_2faults_8hh}{faults.hh}\item 
arch/x86/\hyperlink{arch_2x86_2faults_8cc}{faults.cc}\end{DoxyCompactItemize}
