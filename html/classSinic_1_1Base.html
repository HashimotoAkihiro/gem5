<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス Base</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceSinic.html">Sinic</a>::<a class="el" href="classSinic_1_1Base.html">Base</a>
  </div>
</div>
<div class="contents">
<h1>クラス Base</h1><!-- doxytag: class="Sinic::Base" --><!-- doxytag: inherits="EtherDevBase" -->
<p><code>#include &lt;<a class="el" href="sinic_8hh_source.html">sinic.hh</a>&gt;</code></p>
<div class="dynheader">
Baseに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classSinic_1_1Base.gif" usemap="#Base_map" alt=""/>
  <map id="Base_map" name="Base_map">
<area href="classEtherDevBase.html" alt="EtherDevBase" shape="rect" coords="105,448,200,472"/>
<area href="classEtherDevice.html" alt="EtherDevice" shape="rect" coords="105,392,200,416"/>
<area href="classPciDevice.html" alt="PciDevice" shape="rect" coords="105,336,200,360"/>
<area href="classDmaDevice.html" alt="DmaDevice" shape="rect" coords="105,280,200,304"/>
<area href="classPioDevice.html" alt="PioDevice" shape="rect" coords="105,224,200,248"/>
<area href="classMemObject.html" alt="MemObject" shape="rect" coords="105,168,200,192"/>
<area href="classClockedObject.html" alt="ClockedObject" shape="rect" coords="105,112,200,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="105,56,200,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,95,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="105,0,200,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="210,0,305,24"/>
<area href="classSinic_1_1Device.html" alt="Device" shape="rect" coords="105,560,200,584"/>
</map>
 </div>
</div>

<p><a href="classSinic_1_1Base-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef SinicParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#ae32fbee6dea75ffbb01b7d869c7bedad">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#a53e036786d17361be4c7320d39c99b84">serialize</a> (std::ostream &amp;os)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classSinic_1_1Base.html#ae32fbee6dea75ffbb01b7d869c7bedad">Params</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#ae02136eda3d063396056b352cc26f7e6">Base</a> (const <a class="el" href="classSinic_1_1Base.html#ae32fbee6dea75ffbb01b7d869c7bedad">Params</a> *p)</td></tr>
<tr><td colspan="2"><h2>Protected 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classEventWrapper.html">EventWrapper</a>&lt; <a class="el" href="classSinic_1_1Base.html">Base</a>,&amp;Base::cpuInterrupt &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#a09f9d93e16b939356647836884f8f47f">IntrEvent</a></td></tr>
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#af1fc872917f4ac5efa0d55c5c139bc9a">cpuIntrPost</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> when)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#a6191ac616bb71f81aeb9a72898f5207f">cpuInterrupt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#ab1873826f52c78bed89f2ee53382a4c2">cpuIntrClear</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#a8f53e358ba260670dbc7296b35482316">cpuIntrPending</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#aa1dc801f063bc87ddb1cf8c618ec692e">cpuIntrAck</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#a62cd12a758780749d1ed0ec4d4cfbe71">rxEnable</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#a950ab5d638f497b596eacdbf60bcb3f0">txEnable</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#a2c0cc3d9993d1f77cdb0902bc5e257a9">intrDelay</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#a8bac804ce4074a5297817a10e2a11110">cpuIntrEnable</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#aa3e6b7b45f86d3fcd5565d6c960dbfa7">cpuPendingIntr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEventWrapper.html">IntrEvent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSinic_1_1Interface.html">Interface</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#a98d75f7466a1c032c9ba46044c3ad05e">interface</a></td></tr>
<tr><td colspan="2"><h2>フレンド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSinic_1_1Base.html#ae03991571cb7e9ffd0046e10275338fb">IntrEvent::process</a> ()</td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="a09f9d93e16b939356647836884f8f47f"></a><!-- doxytag: member="Sinic::Base::IntrEvent" ref="a09f9d93e16b939356647836884f8f47f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="el" href="classSinic_1_1Base.html">Base</a>, &amp;Base::cpuInterrupt&gt; <a class="el" href="classEventWrapper.html">IntrEvent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae32fbee6dea75ffbb01b7d869c7bedad"></a><!-- doxytag: member="Sinic::Base::Params" ref="ae32fbee6dea75ffbb01b7d869c7bedad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef SinicParams <a class="el" href="classSinic_1_1Base.html#ae32fbee6dea75ffbb01b7d869c7bedad">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Construction/Destruction/Parameters </p>

<p><a class="el" href="classEtherDevice.html#afcf43c7944288000e850f783bdd66b9d">EtherDevice</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="ae02136eda3d063396056b352cc26f7e6"></a><!-- doxytag: member="Sinic::Base::Base" ref="ae02136eda3d063396056b352cc26f7e6" args="(const Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSinic_1_1Base.html">Base</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSinic_1_1Base.html#ae32fbee6dea75ffbb01b7d869c7bedad">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00081"></a>00081     : <a class="code" href="classEtherDevBase.html#ab7264a855d427550154779e5d55eeab1">EtherDevBase</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>), <a class="code" href="classSinic_1_1Base.html#a62cd12a758780749d1ed0ec4d4cfbe71">rxEnable</a>(<span class="keyword">false</span>), <a class="code" href="classSinic_1_1Base.html#a950ab5d638f497b596eacdbf60bcb3f0">txEnable</a>(<span class="keyword">false</span>),
<a name="l00082"></a>00082       <a class="code" href="classSinic_1_1Base.html#a2c0cc3d9993d1f77cdb0902bc5e257a9">intrDelay</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;intr_delay), <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a>(0), <a class="code" href="classSinic_1_1Base.html#a8bac804ce4074a5297817a10e2a11110">cpuIntrEnable</a>(<span class="keyword">false</span>),
<a name="l00083"></a>00083       <a class="code" href="classSinic_1_1Base.html#aa3e6b7b45f86d3fcd5565d6c960dbfa7">cpuPendingIntr</a>(<span class="keyword">false</span>), <a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a>(0), <a class="code" href="classSinic_1_1Base.html#a98d75f7466a1c032c9ba46044c3ad05e">interface</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>)
<a name="l00084"></a>00084 {
<a name="l00085"></a>00085 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a6191ac616bb71f81aeb9a72898f5207f"></a><!-- doxytag: member="Sinic::Base::cpuInterrupt" ref="a6191ac616bb71f81aeb9a72898f5207f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpuInterrupt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00545"></a>00545 {
<a name="l00546"></a>00546     assert(<a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a> == <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>());
<a name="l00547"></a>00547 
<a name="l00548"></a>00548     <span class="comment">// Whether or not there&apos;s a pending interrupt, we don&apos;t care about</span>
<a name="l00549"></a>00549     <span class="comment">// it anymore</span>
<a name="l00550"></a>00550     <a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a> = 0;
<a name="l00551"></a>00551     <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a> = 0;
<a name="l00552"></a>00552 
<a name="l00553"></a>00553     <span class="comment">// Don&apos;t send an interrupt if there&apos;s already one</span>
<a name="l00554"></a>00554     <span class="keywordflow">if</span> (<a class="code" href="classSinic_1_1Base.html#aa3e6b7b45f86d3fcd5565d6c960dbfa7">cpuPendingIntr</a>) {
<a name="l00555"></a>00555         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(EthernetIntr,
<a name="l00556"></a>00556                 <span class="stringliteral">&quot;would send an interrupt now, but there&apos;s already pending\n&quot;</span>);
<a name="l00557"></a>00557     } <span class="keywordflow">else</span> {
<a name="l00558"></a>00558         <span class="comment">// Send interrupt</span>
<a name="l00559"></a>00559         <a class="code" href="classSinic_1_1Base.html#aa3e6b7b45f86d3fcd5565d6c960dbfa7">cpuPendingIntr</a> = <span class="keyword">true</span>;
<a name="l00560"></a>00560 
<a name="l00561"></a>00561         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(EthernetIntr, <span class="stringliteral">&quot;posting interrupt\n&quot;</span>);
<a name="l00562"></a>00562         <a class="code" href="classPciDevice.html#aba6fa755ca152cedafeb4150da6a2493">intrPost</a>();
<a name="l00563"></a>00563     }
<a name="l00564"></a>00564 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa1dc801f063bc87ddb1cf8c618ec692e"></a><!-- doxytag: member="Sinic::Base::cpuIntrAck" ref="aa1dc801f063bc87ddb1cf8c618ec692e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpuIntrAck </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00070"></a>00070 { <a class="code" href="classSinic_1_1Base.html#ab1873826f52c78bed89f2ee53382a4c2">cpuIntrClear</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab1873826f52c78bed89f2ee53382a4c2"></a><!-- doxytag: member="Sinic::Base::cpuIntrClear" ref="ab1873826f52c78bed89f2ee53382a4c2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpuIntrClear </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00568"></a>00568 {
<a name="l00569"></a>00569     <span class="keywordflow">if</span> (!<a class="code" href="classSinic_1_1Base.html#aa3e6b7b45f86d3fcd5565d6c960dbfa7">cpuPendingIntr</a>)
<a name="l00570"></a>00570         <span class="keywordflow">return</span>;
<a name="l00571"></a>00571 
<a name="l00572"></a>00572     <span class="keywordflow">if</span> (<a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a>) {
<a name="l00573"></a>00573         <a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a>-&gt;<a class="code" href="classEvent.html#a3c68c455d9207edd23ae3bcb7971e653" title="Squash the current event.">squash</a>();
<a name="l00574"></a>00574         <a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a> = 0;
<a name="l00575"></a>00575     }
<a name="l00576"></a>00576 
<a name="l00577"></a>00577     <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a> = 0;
<a name="l00578"></a>00578 
<a name="l00579"></a>00579     <a class="code" href="classSinic_1_1Base.html#aa3e6b7b45f86d3fcd5565d6c960dbfa7">cpuPendingIntr</a> = <span class="keyword">false</span>;
<a name="l00580"></a>00580 
<a name="l00581"></a>00581     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(EthernetIntr, <span class="stringliteral">&quot;clearing cchip interrupt\n&quot;</span>);
<a name="l00582"></a>00582     <a class="code" href="classPciDevice.html#ac02b8a3b8685eca8bb4b237b29dfc762">intrClear</a>();
<a name="l00583"></a>00583 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8f53e358ba260670dbc7296b35482316"></a><!-- doxytag: member="Sinic::Base::cpuIntrPending" ref="a8f53e358ba260670dbc7296b35482316" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuIntrPending </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00587"></a>00587 { <span class="keywordflow">return</span> <a class="code" href="classSinic_1_1Base.html#aa3e6b7b45f86d3fcd5565d6c960dbfa7">cpuPendingIntr</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af1fc872917f4ac5efa0d55c5c139bc9a"></a><!-- doxytag: member="Sinic::Base::cpuIntrPost" ref="af1fc872917f4ac5efa0d55c5c139bc9a" args="(Tick when)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpuIntrPost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>when</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000070">TODO:</a></b></dt><dd>this warning should be removed and the intrTick code should be fixed. </dd></dl>
</p>

<p><div class="fragment"><pre class="fragment"><a name="l00504"></a>00504 {
<a name="l00505"></a>00505     <span class="comment">// If the interrupt you want to post is later than an interrupt</span>
<a name="l00506"></a>00506     <span class="comment">// already scheduled, just let it post in the coming one and don&apos;t</span>
<a name="l00507"></a>00507     <span class="comment">// schedule another.</span>
<a name="l00508"></a>00508     <span class="comment">// HOWEVER, must be sure that the scheduled intrTick is in the</span>
<a name="l00509"></a>00509     <span class="comment">// future (this was formerly the source of a bug)</span>
<a name="l00514"></a>00514 <span class="comment"></span>    assert(when &gt;= <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>());
<a name="l00515"></a>00515     assert(<a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a> &gt;= <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() || <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a> == 0);
<a name="l00516"></a>00516     <span class="keywordflow">if</span> (!<a class="code" href="classSinic_1_1Base.html#a8bac804ce4074a5297817a10e2a11110">cpuIntrEnable</a>) {
<a name="l00517"></a>00517         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(EthernetIntr, <span class="stringliteral">&quot;interrupts not enabled.\n&quot;</span>,
<a name="l00518"></a>00518                 <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a>);
<a name="l00519"></a>00519         <span class="keywordflow">return</span>;
<a name="l00520"></a>00520     }
<a name="l00521"></a>00521 
<a name="l00522"></a>00522     <span class="keywordflow">if</span> (when &gt; <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a> &amp;&amp; <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a> != 0) {
<a name="l00523"></a>00523         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(EthernetIntr, <span class="stringliteral">&quot;don&apos;t need to schedule event...intrTick=%d\n&quot;</span>,
<a name="l00524"></a>00524                 <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a>);
<a name="l00525"></a>00525         <span class="keywordflow">return</span>;
<a name="l00526"></a>00526     }
<a name="l00527"></a>00527 
<a name="l00528"></a>00528     <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a> = when;
<a name="l00529"></a>00529     <span class="keywordflow">if</span> (<a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a> &lt; <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>()) {
<a name="l00530"></a>00530         <a class="code" href="namespaceDebug.html#a874043e2396dd8ce20ec7af3ea1e2a86">Debug::breakpoint</a>();
<a name="l00531"></a>00531         <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a> = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>();
<a name="l00532"></a>00532     }
<a name="l00533"></a>00533 
<a name="l00534"></a>00534     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(EthernetIntr, <span class="stringliteral">&quot;going to schedule an interrupt for intrTick=%d\n&quot;</span>,
<a name="l00535"></a>00535             <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a>);
<a name="l00536"></a>00536 
<a name="l00537"></a>00537     <span class="keywordflow">if</span> (<a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a>)
<a name="l00538"></a>00538         <a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a>-&gt;<a class="code" href="classEvent.html#a3c68c455d9207edd23ae3bcb7971e653" title="Squash the current event.">squash</a>();
<a name="l00539"></a>00539     <a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a> = <span class="keyword">new</span> <a class="code" href="classSinic_1_1Base.html#a09f9d93e16b939356647836884f8f47f">IntrEvent</a>(<span class="keyword">this</span>, <span class="keyword">true</span>);
<a name="l00540"></a>00540     <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a>, <a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a>);
<a name="l00541"></a>00541 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acd3c3feb78ae7a8f88fe0f110a718dff"></a><!-- doxytag: member="Sinic::Base::params" ref="acd3c3feb78ae7a8f88fe0f110a718dff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSinic_1_1Base.html#ae32fbee6dea75ffbb01b7d869c7bedad">Params</a>* params </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classEtherDevBase.html#a24c177ef5d1124c3ff3e68a7e53532cf">EtherDevBase</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00084"></a>00084 { <span class="keywordflow">return</span> (<span class="keyword">const</span> <a class="code" href="classSinic_1_1Base.html#ae32fbee6dea75ffbb01b7d869c7bedad">Params</a> *)<a class="code" href="classSimObject.html#acaf6024ae9dda44bfb1c67e05ad70aef">_params</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53e036786d17361be4c7320d39c99b84"></a><!-- doxytag: member="Sinic::Base::serialize" ref="a53e036786d17361be4c7320d39c99b84" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Serialization stuff </p>

<p><a class="el" href="classPciDevice.html#a53e036786d17361be4c7320d39c99b84">PciDevice</a>を再定義しています。</p>

<p><a class="el" href="classSinic_1_1Device.html#a53e036786d17361be4c7320d39c99b84">Device</a>で再定義されています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l01265"></a>01265 {
<a name="l01266"></a>01266     <span class="comment">// Serialize the PciDevice base class</span>
<a name="l01267"></a>01267     <a class="code" href="classSinic_1_1Base.html#a53e036786d17361be4c7320d39c99b84">PciDevice::serialize</a>(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>);
<a name="l01268"></a>01268 
<a name="l01269"></a>01269     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classSinic_1_1Base.html#a62cd12a758780749d1ed0ec4d4cfbe71">rxEnable</a>);
<a name="l01270"></a>01270     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classSinic_1_1Base.html#a950ab5d638f497b596eacdbf60bcb3f0">txEnable</a>);
<a name="l01271"></a>01271     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classSinic_1_1Base.html#a8bac804ce4074a5297817a10e2a11110">cpuIntrEnable</a>);
<a name="l01272"></a>01272 
<a name="l01273"></a>01273     <span class="comment">/*</span>
<a name="l01274"></a>01274 <span class="comment">     * Keep track of pending interrupt status.</span>
<a name="l01275"></a>01275 <span class="comment">     */</span>
<a name="l01276"></a>01276     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a>);
<a name="l01277"></a>01277     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classSinic_1_1Base.html#aa3e6b7b45f86d3fcd5565d6c960dbfa7">cpuPendingIntr</a>);
<a name="l01278"></a>01278     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> intrEventTick = 0;
<a name="l01279"></a>01279     <span class="keywordflow">if</span> (<a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a>)
<a name="l01280"></a>01280         intrEventTick = <a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a>-&gt;<a class="code" href="classEvent.html#a1883243a0117678c5695f2435dcabbdc" title="Get the time that the event is scheduled.">when</a>();
<a name="l01281"></a>01281     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(intrEventTick);
<a name="l01282"></a>01282 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af22e5d6d660b97db37003ac61ac4ee49"></a><!-- doxytag: member="Sinic::Base::unserialize" ref="af22e5d6d660b97db37003ac61ac4ee49" args="(Checkpoint *cp, const std::string &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reconstruct the state of this object from a checkpoint. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="namespacecp.html">cp</a></em>&nbsp;</td><td>The checkpoint use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>section</em>&nbsp;</td><td>The section name of this object </td></tr>
  </table>
  </dd>
</dl>

<p><a class="el" href="classPciDevice.html#af22e5d6d660b97db37003ac61ac4ee49">PciDevice</a>を再定義しています。</p>

<p><a class="el" href="classSinic_1_1Device.html#af22e5d6d660b97db37003ac61ac4ee49">Device</a>で再定義されています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l01286"></a>01286 {
<a name="l01287"></a>01287     <span class="comment">// Unserialize the PciDevice base class</span>
<a name="l01288"></a>01288     <a class="code" href="classSinic_1_1Base.html#af22e5d6d660b97db37003ac61ac4ee49">PciDevice::unserialize</a>(cp, section);
<a name="l01289"></a>01289 
<a name="l01290"></a>01290     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classSinic_1_1Base.html#a62cd12a758780749d1ed0ec4d4cfbe71">rxEnable</a>);
<a name="l01291"></a>01291     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classSinic_1_1Base.html#a950ab5d638f497b596eacdbf60bcb3f0">txEnable</a>);
<a name="l01292"></a>01292     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classSinic_1_1Base.html#a8bac804ce4074a5297817a10e2a11110">cpuIntrEnable</a>);
<a name="l01293"></a>01293 
<a name="l01294"></a>01294     <span class="comment">/*</span>
<a name="l01295"></a>01295 <span class="comment">     * Keep track of pending interrupt status.</span>
<a name="l01296"></a>01296 <span class="comment">     */</span>
<a name="l01297"></a>01297     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a>);
<a name="l01298"></a>01298     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classSinic_1_1Base.html#aa3e6b7b45f86d3fcd5565d6c960dbfa7">cpuPendingIntr</a>);
<a name="l01299"></a>01299     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> intrEventTick;
<a name="l01300"></a>01300     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(intrEventTick);
<a name="l01301"></a>01301     <span class="keywordflow">if</span> (intrEventTick) {
<a name="l01302"></a>01302         <a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a> = <span class="keyword">new</span> <a class="code" href="classSinic_1_1Base.html#a09f9d93e16b939356647836884f8f47f">IntrEvent</a>(<span class="keyword">this</span>, <span class="keyword">true</span>);
<a name="l01303"></a>01303         <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a>, intrEventTick);
<a name="l01304"></a>01304     }
<a name="l01305"></a>01305 }
</pre></div></p>

</div>
</div>
<hr/><h2>フレンドと関連する関数</h2>
<a class="anchor" id="ae03991571cb7e9ffd0046e10275338fb"></a><!-- doxytag: member="Sinic::Base::IntrEvent::process" ref="ae03991571cb7e9ffd0046e10275338fb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IntrEvent::process </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a8bac804ce4074a5297817a10e2a11110"></a><!-- doxytag: member="Sinic::Base::cpuIntrEnable" ref="a8bac804ce4074a5297817a10e2a11110" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSinic_1_1Base.html#a8bac804ce4074a5297817a10e2a11110">cpuIntrEnable</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa3e6b7b45f86d3fcd5565d6c960dbfa7"></a><!-- doxytag: member="Sinic::Base::cpuPendingIntr" ref="aa3e6b7b45f86d3fcd5565d6c960dbfa7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSinic_1_1Base.html#aa3e6b7b45f86d3fcd5565d6c960dbfa7">cpuPendingIntr</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a98d75f7466a1c032c9ba46044c3ad05e"></a><!-- doxytag: member="Sinic::Base::interface" ref="a98d75f7466a1c032c9ba46044c3ad05e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSinic_1_1Interface.html">Interface</a>* <a class="el" href="classSinic_1_1Base.html#a98d75f7466a1c032c9ba46044c3ad05e">interface</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2c0cc3d9993d1f77cdb0902bc5e257a9"></a><!-- doxytag: member="Sinic::Base::intrDelay" ref="a2c0cc3d9993d1f77cdb0902bc5e257a9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classSinic_1_1Base.html#a2c0cc3d9993d1f77cdb0902bc5e257a9">intrDelay</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3839fcc574c7379ba7ec297aba0396e2"></a><!-- doxytag: member="Sinic::Base::intrEvent" ref="a3839fcc574c7379ba7ec297aba0396e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEventWrapper.html">IntrEvent</a>* <a class="el" href="classSinic_1_1Base.html#a3839fcc574c7379ba7ec297aba0396e2">intrEvent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad967cc729c22843df7961315b2fdab72"></a><!-- doxytag: member="Sinic::Base::intrTick" ref="ad967cc729c22843df7961315b2fdab72" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classSinic_1_1Base.html#ad967cc729c22843df7961315b2fdab72">intrTick</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a62cd12a758780749d1ed0ec4d4cfbe71"></a><!-- doxytag: member="Sinic::Base::rxEnable" ref="a62cd12a758780749d1ed0ec4d4cfbe71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSinic_1_1Base.html#a62cd12a758780749d1ed0ec4d4cfbe71">rxEnable</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a950ab5d638f497b596eacdbf60bcb3f0"></a><!-- doxytag: member="Sinic::Base::txEnable" ref="a950ab5d638f497b596eacdbf60bcb3f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSinic_1_1Base.html#a950ab5d638f497b596eacdbf60bcb3f0">txEnable</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>dev/<a class="el" href="sinic_8hh_source.html">sinic.hh</a></li>
<li>dev/<a class="el" href="sinic_8cc.html">sinic.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
