\hypertarget{classRangeAddrMapper}{
\section{クラス RangeAddrMapper}
\label{classRangeAddrMapper}\index{RangeAddrMapper@{RangeAddrMapper}}
}


{\ttfamily \#include $<$addr\_\-mapper.hh$>$}RangeAddrMapperに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=6cm]{classRangeAddrMapper}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classRangeAddrMapper_a89f471283bbf7e257496688bb009e9e3}{RangeAddrMapper} (const RangeAddrMapperParams $\ast$p)
\item 
\hyperlink{classRangeAddrMapper_a5c60978309e5438ca580ba4cb9bd9a9e}{$\sim$RangeAddrMapper} ()
\item 
\hyperlink{classstd_1_1list}{AddrRangeList} \hyperlink{classRangeAddrMapper_a36cf113d5e5e091ebddb32306c098fae}{getAddrRanges} () const 
\end{DoxyCompactItemize}
\subsection*{Protected メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classRangeAddrMapper_a0991da7dcb180722b611eb4a58a397a6}{remapAddr} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} addr) const 
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classAddrRange}{AddrRange} $>$ \hyperlink{classRangeAddrMapper_a55137437ddf514203433b70c0c435aa0}{originalRanges}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classAddrRange}{AddrRange} $>$ \hyperlink{classRangeAddrMapper_aa478e59bbb23c79ab49039bfc312ab8e}{remappedRanges}
\end{DoxyCompactItemize}


\subsection{説明}
Range address mapper that maps a set of original ranges to a set of remapped ranges, where a specific range is of the same size (original and remapped), only with an offset. It's useful for cases where memory is mapped to two different locations 

\subsection{コンストラクタとデストラクタ}
\hypertarget{classRangeAddrMapper_a89f471283bbf7e257496688bb009e9e3}{
\index{RangeAddrMapper@{RangeAddrMapper}!RangeAddrMapper@{RangeAddrMapper}}
\index{RangeAddrMapper@{RangeAddrMapper}!RangeAddrMapper@{RangeAddrMapper}}
\subsubsection[{RangeAddrMapper}]{\setlength{\rightskip}{0pt plus 5cm}{\bf RangeAddrMapper} (const RangeAddrMapperParams $\ast$ {\em p})}}
\label{classRangeAddrMapper_a89f471283bbf7e257496688bb009e9e3}



\begin{DoxyCode}
210                                                                :
211     AddrMapper(p),
212     originalRanges(p->original_ranges),
213     remappedRanges(p->remapped_ranges)
214 {
215     if (originalRanges.size() != remappedRanges.size())
216         fatal("AddrMapper: original and shadowed range list must "
217               "be same size\n");
218 
219     for (size_t x = 0; x < originalRanges.size(); x++) {
220         if (originalRanges[x].size() != remappedRanges[x].size())
221             fatal("AddrMapper: original and shadowed range list elements"
222                   " aren't all of the same size\n");
223     }
224 }

\end{DoxyCode}
\hypertarget{classRangeAddrMapper_a5c60978309e5438ca580ba4cb9bd9a9e}{
\index{RangeAddrMapper@{RangeAddrMapper}!$\sim$RangeAddrMapper@{$\sim$RangeAddrMapper}}
\index{$\sim$RangeAddrMapper@{$\sim$RangeAddrMapper}!RangeAddrMapper@{RangeAddrMapper}}
\subsubsection[{$\sim$RangeAddrMapper}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf RangeAddrMapper} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classRangeAddrMapper_a5c60978309e5438ca580ba4cb9bd9a9e}



\begin{DoxyCode}
250 { }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classRangeAddrMapper_a36cf113d5e5e091ebddb32306c098fae}{
\index{RangeAddrMapper@{RangeAddrMapper}!getAddrRanges@{getAddrRanges}}
\index{getAddrRanges@{getAddrRanges}!RangeAddrMapper@{RangeAddrMapper}}
\subsubsection[{getAddrRanges}]{\setlength{\rightskip}{0pt plus 5cm}{\bf AddrRangeList} getAddrRanges () const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classRangeAddrMapper_a36cf113d5e5e091ebddb32306c098fae}


\hyperlink{classAddrMapper_a6e967f8921e80748eb2be35b6b481a7e}{AddrMapper}を実装しています。


\begin{DoxyCode}
247 {
248     // Simply return the original ranges as given by the parameters
249     AddrRangeList ranges(originalRanges.begin(), originalRanges.end());
250     return ranges;
251 }
\end{DoxyCode}
\hypertarget{classRangeAddrMapper_a0991da7dcb180722b611eb4a58a397a6}{
\index{RangeAddrMapper@{RangeAddrMapper}!remapAddr@{remapAddr}}
\index{remapAddr@{remapAddr}!RangeAddrMapper@{RangeAddrMapper}}
\subsubsection[{remapAddr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} remapAddr ({\bf Addr} {\em addr}) const\hspace{0.3cm}{\ttfamily  \mbox{[}protected, virtual\mbox{]}}}}
\label{classRangeAddrMapper_a0991da7dcb180722b611eb4a58a397a6}
This function does the actual remapping of one address to another. It is pure virtual in this case to to allow any implementation required. 
\begin{DoxyParams}{引数}
\item[{\em addr}]the address to remap \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
the new address (can be unchanged) 
\end{DoxyReturn}


\hyperlink{classAddrMapper_a07fe2c0e12fc8be8a245306df09f1b2d}{AddrMapper}を実装しています。


\begin{DoxyCode}
234 {
235     for (int i = 0; i < originalRanges.size(); ++i) {
236         if (originalRanges[i].contains(addr)) {
237             Addr offset = addr - originalRanges[i].start();
238             return offset + remappedRanges[i].start();
239         }
240     }
241 
242     return addr;
243 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classRangeAddrMapper_a55137437ddf514203433b70c0c435aa0}{
\index{RangeAddrMapper@{RangeAddrMapper}!originalRanges@{originalRanges}}
\index{originalRanges@{originalRanges}!RangeAddrMapper@{RangeAddrMapper}}
\subsubsection[{originalRanges}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf AddrRange}$>$ {\bf originalRanges}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classRangeAddrMapper_a55137437ddf514203433b70c0c435aa0}
This contains a list of ranges the should be remapped. It must be the exact same length as remappedRanges which describes what manipulation should be done to each range. \hypertarget{classRangeAddrMapper_aa478e59bbb23c79ab49039bfc312ab8e}{
\index{RangeAddrMapper@{RangeAddrMapper}!remappedRanges@{remappedRanges}}
\index{remappedRanges@{remappedRanges}!RangeAddrMapper@{RangeAddrMapper}}
\subsubsection[{remappedRanges}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf AddrRange}$>$ {\bf remappedRanges}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classRangeAddrMapper_aa478e59bbb23c79ab49039bfc312ab8e}
This contains a list of ranges that addresses should be remapped to. See the description for originalRanges above 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/\hyperlink{addr__mapper_8hh}{addr\_\-mapper.hh}\item 
mem/\hyperlink{addr__mapper_8cc}{addr\_\-mapper.cc}\end{DoxyCompactItemize}
