<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス HDLcd</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス HDLcd</h1><!-- doxytag: class="HDLcd" --><!-- doxytag: inherits="AmbaDmaDevice" -->
<p><code>#include &lt;<a class="el" href="hdlcd_8hh_source.html">hdlcd.hh</a>&gt;</code></p>
<div class="dynheader">
HDLcdに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classHDLcd.gif" usemap="#HDLcd_map" alt=""/>
  <map id="HDLcd_map" name="HDLcd_map">
<area href="classAmbaDmaDevice.html" alt="AmbaDmaDevice" shape="rect" coords="178,336,287,360"/>
<area href="classDmaDevice.html" alt="DmaDevice" shape="rect" coords="119,280,228,304"/>
<area href="classAmbaDevice.html" alt="AmbaDevice" shape="rect" coords="238,280,347,304"/>
<area href="classPioDevice.html" alt="PioDevice" shape="rect" coords="119,224,228,248"/>
<area href="classMemObject.html" alt="MemObject" shape="rect" coords="119,168,228,192"/>
<area href="classClockedObject.html" alt="ClockedObject" shape="rect" coords="119,112,228,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="119,56,228,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,109,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="119,0,228,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="238,0,347,24"/>
</map>
 </div>
</div>

<p><a href="classHDLcd-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd_1_1DmaDoneEvent.html">DmaDoneEvent</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef HDLcdParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">Params</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a02114caff8968787e64ab481aeb6ae09">HDLcd</a> (const <a class="el" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">Params</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#af9e41a7cf9baf266c10c60ea6fb4b529">~HDLcd</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a613ec7d5e1ec64f8d21fec78ae8e568e">read</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a4cefab464e72b5dd42c003a0a4341802">write</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a53e036786d17361be4c7320d39c99b84">serialize</a> (std::ostream &amp;os)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">AddrRangeList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a36cf113d5e5e091ebddb32306c098fae">getAddrRanges</a> () const </td></tr>
<tr><td colspan="2"><h2>Protected 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167a">RegisterOffset</a> { <br/>
&nbsp;&nbsp;<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaaecf3eedf8cb9291bcba326089c9508a">Version</a> =  0x0000, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1be27d857bb87a9ae6813b06cdcbab49">Int_RawStat</a> =  0x0010, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafcaf90f877eec92e9d06f667da4ef93a">Int_Clear</a> =  0x0014, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa41681a9749cd3e11f4e1a1981dda1c7f">Int_Mask</a> =  0x0018, 
<br/>
&nbsp;&nbsp;<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa0d141ad1f9a40ed4a7f80aed471dde27">Int_Status</a> =  0x001C, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aae73e315a15940c9ec92665d532b0ec3f">Fb_Base</a> =  0x0100, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa4bb8d9aadacffc879da4c56a479deb50">Fb_Line_Length</a> =  0x0104, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aab622dfd78db0239caba70c2465460563">Fb_Line_Count</a> =  0x0108, 
<br/>
&nbsp;&nbsp;<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1a1fed2414dcc0ebf810a266630dc615">Fb_Line_Pitch</a> =  0x010C, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8ecde41db7d43d0f947af7a4990cadd8">Bus_Options</a> =  0x0110, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa388f28a3d8b85e71937474d347f4e24d">V_Sync</a> =  0x0200, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaf788d81eab9ff4992ff5550983392df7">V_Back_Porch</a> =  0x0204, 
<br/>
&nbsp;&nbsp;<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa068573e257c781b4e4eb0af5fb26178e">V_Data</a> =  0x0208, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa69c77a38764fbc5b5567f13b5eb4267b">V_Front_Porch</a> =  0x020C, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafad2bb41d868c428adc9f68b275fb34a">H_Sync</a> =  0x0210, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa22ed0ca08a37a1c7a4a6266a3e90363f">H_Back_Porch</a> =  0x0214, 
<br/>
&nbsp;&nbsp;<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafdec0d05c0c1116a7462d36544894da5">H_Data</a> =  0x0218, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8139349b5f0b13a4b21053d61c043f13">H_Front_Porch</a> =  0x021C, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa080ddbafa8544f5e1f9838d62cea53b5">Polarities</a> =  0x0220, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafe3054aee03156c2553151700236dc9c">Command</a> =  0x0230, 
<br/>
&nbsp;&nbsp;<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aad92abc727f017e41476afd828019fd6f">Pixel_Format</a> =  0x0240, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa3c14c44e84578139168434c48cff7ae4">Red_Select</a> =  0x0244, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa35c8bdcdce89f753d2e287a46bd09528">Green_Select</a> =  0x0248, 
<a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa7866c291b06c767b524c00d58fd7e0da">Blue_Select</a> =  0x024C
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ac032891f1184bb5cfedef5c07217b0e9">maxOutstandingDma</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a83badcd3087541a2fd96f093739247cb">bytesFreeInPixelBuffer</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#addfe179a028990a8ef8df5d347b5b7a9">dmaBurstLength</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a7b7fa24d6d051f77c5554b18b422f016">PClksPerLine</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a0eb6ee93145ff20e40a51ae7b8e4debf">updateVideoParams</a> (bool unserializing)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ab251ef5c4d9e1f0239542a9d8aa0dc3e">generateInterrupt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a24932aa8063bd34ee82a44b55990fc56">startFrame</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a275cb0fc5850b339346d533d2e65aaa8">endFrame</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a8b6bacaad93cdca1a4f0697be74311c1">fillPixelBuffer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#aa86bef1e89693640a33feac9f6871f35">dmaDone</a> (<a class="el" href="classHDLcd_1_1DmaDoneEvent.html">DmaDoneEvent</a> *event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a0a49e224296b89d614be23179d98d6a3">renderPixel</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classVncInput.html">VncInput</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBitmap.html">Bitmap</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::ostream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#af724472dcdfb49ce72ef865c101a1c0d">pic</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a9c95baa754410596ad866c39aba696f4">frameReadStartTime</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ae74c38d13416c4966fdd5c7db4678607">dmaStartAddr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">dmaMaxAddr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a2c55466de4118724cb375f5d1c7844e8">frameUnderrun</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">pixelIndex</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ad49d02ec4064ddf6d7055dcdc6128e20">doUpdateParams</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt; <a class="el" href="classHDLcd.html">HDLcd</a>,&amp;HDLcd::startFrame &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ac7738466b6b60afeb71551c4f830d4fa">startFrameEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt; <a class="el" href="classHDLcd.html">HDLcd</a>,&amp;HDLcd::endFrame &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#afec13618cf33587eef480a7e70dece76">endFrameEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt; <a class="el" href="classHDLcd.html">HDLcd</a>,&amp;HDLcd::renderPixel &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#af37803439ed3050f73510b0f8e0523fc">renderPixelEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt; <a class="el" href="classHDLcd.html">HDLcd</a>,&amp;HDLcd::fillPixelBuffer &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">fillPixelBufferEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt; <a class="el" href="classHDLcd.html">HDLcd</a>,&amp;HDLcd::generateInterrupt &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a5ae08b242f478669f0686028d558332a">intEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#abf8ed1a0152ea70d689ffce800cd32fd">enableCapture</a></td></tr>
<tr><td colspan="2"><div class="groupHeader">HDLCDRegisters</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp3601e4e51ceca70a1552af1813e558c3"></a> HDLCD register contents. </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">InterruptReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">int_rawstat</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">InterruptReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ab96a978a299a4bf65839845c1c33f414">int_clear</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">InterruptReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a8343af5ba122012f4b5b3515d8675b7e">int_mask</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">InterruptReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a814b02fed91486dd6000055cd1c43e1d">int_status</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ad9fd5ba71c5b40acdb6fd9adc4fa408b">fb_base</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ab09d20d3fb341f97725e4f27efbee0bd">fb_line_length</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">FbLineCountReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a91b3e136cdfa6ff77cbb933239223919">fb_line_count</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a4f20b06285d7a67e4182c190c282ab9b">fb_line_pitch</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BusOptsReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TimingReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ac1d1b9a4346f8ab7231a25ba0524ac99">v_sync</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TimingReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a47ccc8b58ab3dffa549476540cfff908">v_back_porch</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TimingReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a5a46b3a3d299f421a250c4ca6ca7d17c">v_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TimingReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ad663411b973f7cad0938ca048f683088">v_front_porch</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TimingReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TimingReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TimingReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a3610505ba43835b9d3dd548e1848644e">h_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TimingReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">h_front_porch</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PolaritiesReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a1b4fe6c75f98c50fad2eebc75f143dd2">polarities</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structCommandReg.html">CommandReg</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a9c5f330aee81c99b318a53af189fbc98">command</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PixelFormatReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ColorSelectReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ColorSelectReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ColorSelectReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classHDLcd_1_1DmaDoneEvent.html">DmaDoneEvent</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classHDLcd_1_1DmaDoneEvent.html">DmaDoneEvent</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a></td></tr>
<tr><td colspan="2"><h2>Static Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ae438dff5177bb7a98567cd94061edab4">AMBA_ID</a> = ULL(0xb105f00d00141000)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#aaf19ce46531fc85edba07a0a76b30a5f">BUS_OPTIONS_RESETV</a> = 0x408</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a0cd2a036c21a49eadcc056ff0f20f8dd">VERSION_RESETV</a> = 0x1CDC0000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a> = 16</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#aace62e6eea905bd83b1d848acf8e39c9">MAX_BURST_LEN</a> = 16</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a43f658311547cdd328f725c29f629d43">PIXEL_BUFFER_CAPACITY</a> = 2048</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a707d5982e8851aee47eb1250db1c4c3b">AXI_PORT_WIDTH</a> = 8</td></tr>
<tr><td colspan="2"><h2>RegisterFieldLayouts</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9ce006e68f89a3acc0c2edded41390ec"></a> Bit layout declarations for multi-field registers. </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a4f40fa952becdbdacf7434cd3c404b7d">version_minor</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 15, 8 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a74571fc488367403e0193898d0a5367e">version_major</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 31, 16 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ac95f3b4958485c9925b2cb7f0302921f">product_id</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ad92f2664318eb7510c5ef4ed537fff93">bus_error</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 2 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#aacc2f986e357e2a77bd80683f3c976aa">vsync</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 3 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a7db18d8a83ae23e4d06cf8d21379b664">underrun</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 31, 12 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a582dec2bf3d914fb5d2ddb8feaa38111">reserved_31_12</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a74212c0c2707c7e25bad89d6ac3004c9">burst_len</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 7, 5 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ada612a1f3eac7720c95c8b754b004b62">reserved_7_5</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 11, 8 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a5f39b2e7351f4500ef1eb5babcb10381">max_outstanding</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#acb906433e1289aa1c251dc5057746a88">val</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ae1b5cd178099ce9f30eafb12ccf1bde8">hsync_polarity</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 2 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a2e88cca6e78a84d49d34de5407d3d048">dataen_polarity</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 3 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a82bbce2c586afda0822949bce915be7c">data_polarity</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 4 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a4fa9bf08d013c014d2e73e86607b4bed">pxlclk_polarity</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 31, 5 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a1ac4b70cb79ab9e24b9a264c8b8be6e4">reserved_31_5</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 31, 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a8b3d3dd450f66100b4fc3ee67662400f">reserved_31_1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ad1c96f2932104796b8b9c1dced5ea441">reserved_2_0</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 4, 3 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a6d40f0125f53451c936adc705f608a2b">bytes_per_pixel</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 30, 5 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ac7a399166fd9782945b54c1218b6aa3f">reserved_30_5</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 31 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#adba5c1ae8473b445f9be0125676b2852">big_endian</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a7a229a4786deeddd59c6091247a8c8a6">offset</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 11, 8 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a9165522b50dc058c1a097ae26260fc61">size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 15, 12 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#aead24f2eb2742ac7708882a7d9616412">reserved_15_12</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 23, 16 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a8ff8f961eef85324f222954cc8ba53ee">default_color</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 31, 24 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a55b96b8eb8acba57e5ed38854674db7e">reserved_31_24</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#aec6571bbae7a34d8f4acc94770b38fad">BitUnion32</a> (VersionReg) Bitfield&lt;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ae86db13e164e3134cde1780b881b5a2b">EndBitUnion</a> (VersionReg) BitUnion32(InterruptReg) Bitfield&lt; 0 &gt; dma_end</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#aab67db2435979ade75800819a6694c70">EndBitUnion</a> (InterruptReg) BitUnion32(FbLineCountReg) Bitfield&lt; 11</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#aea5d211b3a25fc73ea615aef16360155">EndBitUnion</a> (FbLineCountReg) BitUnion32(BusOptsReg) Bitfield&lt;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a6d14e80c9f7e2901c07bcb2971c9128f">EndBitUnion</a> (BusOptsReg) BitUnion32(TimingReg) Bitfield&lt; 11</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a77fc9b81e2f21847dd26ae5dfa7e7e2f">EndBitUnion</a> (TimingReg) BitUnion32(PolaritiesReg) Bitfield&lt; 0 &gt; vsync_polarity</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#a15872640ef504c5434a0d6d2f8d1370f">EndBitUnion</a> (PolaritiesReg) BitUnion32(<a class="el" href="structCommandReg.html">CommandReg</a>) Bitfield&lt; 0 &gt; enable</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#ad18895590b07f37749435b9fcab06a1b">EndBitUnion</a> (<a class="el" href="structCommandReg.html">CommandReg</a>) BitUnion32(PixelFormatReg) Bitfield&lt;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHDLcd.html#af0dba6bcb7a2dfa9fffb850df381fb35">EndBitUnion</a> (PixelFormatReg) BitUnion32(ColorSelectReg) Bitfield&lt;4</td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="a31ccb03af3b5962a67bed42eca6ce2f0"></a><!-- doxytag: member="HDLcd::Params" ref="a31ccb03af3b5962a67bed42eca6ce2f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef HDLcdParams <a class="el" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classAmbaDmaDevice.html#ab612ceb7381438552927b7ed0aed5099">AmbaDmaDevice</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>列挙型</h2>
<a class="anchor" id="a5589603d1462868f128ddcda455b167a"></a><!-- doxytag: member="HDLcd::RegisterOffset" ref="a5589603d1462868f128ddcda455b167a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classHDLcd.html#a5589603d1462868f128ddcda455b167a">RegisterOffset</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ARM <a class="el" href="classHDLcd.html">HDLcd</a> register offsets </p>
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aaaecf3eedf8cb9291bcba326089c9508a"></a><!-- doxytag: member="Version" ref="a5589603d1462868f128ddcda455b167aaaecf3eedf8cb9291bcba326089c9508a" args="" -->Version</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa1be27d857bb87a9ae6813b06cdcbab49"></a><!-- doxytag: member="Int_RawStat" ref="a5589603d1462868f128ddcda455b167aa1be27d857bb87a9ae6813b06cdcbab49" args="" -->Int_RawStat</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aafcaf90f877eec92e9d06f667da4ef93a"></a><!-- doxytag: member="Int_Clear" ref="a5589603d1462868f128ddcda455b167aafcaf90f877eec92e9d06f667da4ef93a" args="" -->Int_Clear</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa41681a9749cd3e11f4e1a1981dda1c7f"></a><!-- doxytag: member="Int_Mask" ref="a5589603d1462868f128ddcda455b167aa41681a9749cd3e11f4e1a1981dda1c7f" args="" -->Int_Mask</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa0d141ad1f9a40ed4a7f80aed471dde27"></a><!-- doxytag: member="Int_Status" ref="a5589603d1462868f128ddcda455b167aa0d141ad1f9a40ed4a7f80aed471dde27" args="" -->Int_Status</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aae73e315a15940c9ec92665d532b0ec3f"></a><!-- doxytag: member="Fb_Base" ref="a5589603d1462868f128ddcda455b167aae73e315a15940c9ec92665d532b0ec3f" args="" -->Fb_Base</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa4bb8d9aadacffc879da4c56a479deb50"></a><!-- doxytag: member="Fb_Line_Length" ref="a5589603d1462868f128ddcda455b167aa4bb8d9aadacffc879da4c56a479deb50" args="" -->Fb_Line_Length</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aab622dfd78db0239caba70c2465460563"></a><!-- doxytag: member="Fb_Line_Count" ref="a5589603d1462868f128ddcda455b167aab622dfd78db0239caba70c2465460563" args="" -->Fb_Line_Count</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa1a1fed2414dcc0ebf810a266630dc615"></a><!-- doxytag: member="Fb_Line_Pitch" ref="a5589603d1462868f128ddcda455b167aa1a1fed2414dcc0ebf810a266630dc615" args="" -->Fb_Line_Pitch</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa8ecde41db7d43d0f947af7a4990cadd8"></a><!-- doxytag: member="Bus_Options" ref="a5589603d1462868f128ddcda455b167aa8ecde41db7d43d0f947af7a4990cadd8" args="" -->Bus_Options</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa388f28a3d8b85e71937474d347f4e24d"></a><!-- doxytag: member="V_Sync" ref="a5589603d1462868f128ddcda455b167aa388f28a3d8b85e71937474d347f4e24d" args="" -->V_Sync</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aaf788d81eab9ff4992ff5550983392df7"></a><!-- doxytag: member="V_Back_Porch" ref="a5589603d1462868f128ddcda455b167aaf788d81eab9ff4992ff5550983392df7" args="" -->V_Back_Porch</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa068573e257c781b4e4eb0af5fb26178e"></a><!-- doxytag: member="V_Data" ref="a5589603d1462868f128ddcda455b167aa068573e257c781b4e4eb0af5fb26178e" args="" -->V_Data</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa69c77a38764fbc5b5567f13b5eb4267b"></a><!-- doxytag: member="V_Front_Porch" ref="a5589603d1462868f128ddcda455b167aa69c77a38764fbc5b5567f13b5eb4267b" args="" -->V_Front_Porch</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aafad2bb41d868c428adc9f68b275fb34a"></a><!-- doxytag: member="H_Sync" ref="a5589603d1462868f128ddcda455b167aafad2bb41d868c428adc9f68b275fb34a" args="" -->H_Sync</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa22ed0ca08a37a1c7a4a6266a3e90363f"></a><!-- doxytag: member="H_Back_Porch" ref="a5589603d1462868f128ddcda455b167aa22ed0ca08a37a1c7a4a6266a3e90363f" args="" -->H_Back_Porch</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aafdec0d05c0c1116a7462d36544894da5"></a><!-- doxytag: member="H_Data" ref="a5589603d1462868f128ddcda455b167aafdec0d05c0c1116a7462d36544894da5" args="" -->H_Data</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa8139349b5f0b13a4b21053d61c043f13"></a><!-- doxytag: member="H_Front_Porch" ref="a5589603d1462868f128ddcda455b167aa8139349b5f0b13a4b21053d61c043f13" args="" -->H_Front_Porch</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa080ddbafa8544f5e1f9838d62cea53b5"></a><!-- doxytag: member="Polarities" ref="a5589603d1462868f128ddcda455b167aa080ddbafa8544f5e1f9838d62cea53b5" args="" -->Polarities</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aafe3054aee03156c2553151700236dc9c"></a><!-- doxytag: member="Command" ref="a5589603d1462868f128ddcda455b167aafe3054aee03156c2553151700236dc9c" args="" -->Command</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aad92abc727f017e41476afd828019fd6f"></a><!-- doxytag: member="Pixel_Format" ref="a5589603d1462868f128ddcda455b167aad92abc727f017e41476afd828019fd6f" args="" -->Pixel_Format</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa3c14c44e84578139168434c48cff7ae4"></a><!-- doxytag: member="Red_Select" ref="a5589603d1462868f128ddcda455b167aa3c14c44e84578139168434c48cff7ae4" args="" -->Red_Select</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa35c8bdcdce89f753d2e287a46bd09528"></a><!-- doxytag: member="Green_Select" ref="a5589603d1462868f128ddcda455b167aa35c8bdcdce89f753d2e287a46bd09528" args="" -->Green_Select</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5589603d1462868f128ddcda455b167aa7866c291b06c767b524c00d58fd7e0da"></a><!-- doxytag: member="Blue_Select" ref="a5589603d1462868f128ddcda455b167aa7866c291b06c767b524c00d58fd7e0da" args="" -->Blue_Select</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00101"></a>00101                         {
<a name="l00102"></a>00102         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaaecf3eedf8cb9291bcba326089c9508a">Version</a>          = 0x0000,
<a name="l00103"></a>00103         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1be27d857bb87a9ae6813b06cdcbab49">Int_RawStat</a>      = 0x0010,
<a name="l00104"></a>00104         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafcaf90f877eec92e9d06f667da4ef93a">Int_Clear</a>        = 0x0014,
<a name="l00105"></a>00105         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa41681a9749cd3e11f4e1a1981dda1c7f">Int_Mask</a>         = 0x0018,
<a name="l00106"></a>00106         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa0d141ad1f9a40ed4a7f80aed471dde27">Int_Status</a>       = 0x001C,
<a name="l00107"></a>00107         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aae73e315a15940c9ec92665d532b0ec3f">Fb_Base</a>          = 0x0100,
<a name="l00108"></a>00108         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa4bb8d9aadacffc879da4c56a479deb50">Fb_Line_Length</a>   = 0x0104,
<a name="l00109"></a>00109         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aab622dfd78db0239caba70c2465460563">Fb_Line_Count</a>    = 0x0108,
<a name="l00110"></a>00110         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1a1fed2414dcc0ebf810a266630dc615">Fb_Line_Pitch</a>    = 0x010C,
<a name="l00111"></a>00111         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8ecde41db7d43d0f947af7a4990cadd8">Bus_Options</a>      = 0x0110,
<a name="l00112"></a>00112         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa388f28a3d8b85e71937474d347f4e24d">V_Sync</a>           = 0x0200,
<a name="l00113"></a>00113         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaf788d81eab9ff4992ff5550983392df7">V_Back_Porch</a>     = 0x0204,
<a name="l00114"></a>00114         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa068573e257c781b4e4eb0af5fb26178e">V_Data</a>           = 0x0208,
<a name="l00115"></a>00115         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa69c77a38764fbc5b5567f13b5eb4267b">V_Front_Porch</a>    = 0x020C,
<a name="l00116"></a>00116         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafad2bb41d868c428adc9f68b275fb34a">H_Sync</a>           = 0x0210,
<a name="l00117"></a>00117         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa22ed0ca08a37a1c7a4a6266a3e90363f">H_Back_Porch</a>     = 0x0214,
<a name="l00118"></a>00118         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafdec0d05c0c1116a7462d36544894da5">H_Data</a>           = 0x0218,
<a name="l00119"></a>00119         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8139349b5f0b13a4b21053d61c043f13">H_Front_Porch</a>    = 0x021C,
<a name="l00120"></a>00120         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa080ddbafa8544f5e1f9838d62cea53b5">Polarities</a>       = 0x0220,
<a name="l00121"></a>00121         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafe3054aee03156c2553151700236dc9c">Command</a>          = 0x0230,
<a name="l00122"></a>00122         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aad92abc727f017e41476afd828019fd6f">Pixel_Format</a>     = 0x0240,
<a name="l00123"></a>00123         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa3c14c44e84578139168434c48cff7ae4">Red_Select</a>       = 0x0244,
<a name="l00124"></a>00124         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa35c8bdcdce89f753d2e287a46bd09528">Green_Select</a>     = 0x0248,
<a name="l00125"></a>00125         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa7866c291b06c767b524c00d58fd7e0da">Blue_Select</a>      = 0x024C };
</pre></div></p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a02114caff8968787e64ab481aeb6ae09"></a><!-- doxytag: member="HDLcd::HDLcd" ref="a02114caff8968787e64ab481aeb6ae09" args="(const Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHDLcd.html">HDLcd</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00058"></a>00058     : <a class="code" href="classAmbaDmaDevice.html#a5dc78ee7b28b4b3effe7e28b09e6db48">AmbaDmaDevice</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>), <a class="code" href="namespaceslicc_1_1main.html#af9c8593b58583463efe6932e24c9d6e6">version</a>(<a class="code" href="classHDLcd.html#a0cd2a036c21a49eadcc056ff0f20f8dd">VERSION_RESETV</a>),
<a name="l00059"></a>00059       <a class="code" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">int_rawstat</a>(0), <a class="code" href="classHDLcd.html#ab96a978a299a4bf65839845c1c33f414">int_clear</a>(0), <a class="code" href="classHDLcd.html#a8343af5ba122012f4b5b3515d8675b7e">int_mask</a>(0), <a class="code" href="classHDLcd.html#a814b02fed91486dd6000055cd1c43e1d">int_status</a>(0),
<a name="l00060"></a>00060       <a class="code" href="classHDLcd.html#ad9fd5ba71c5b40acdb6fd9adc4fa408b">fb_base</a>(0), <a class="code" href="classHDLcd.html#ab09d20d3fb341f97725e4f27efbee0bd">fb_line_length</a>(0), <a class="code" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a>(0), <a class="code" href="classHDLcd.html#a4f20b06285d7a67e4182c190c282ab9b">fb_line_pitch</a>(0),
<a name="l00061"></a>00061       <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>(<a class="code" href="classHDLcd.html#aaf19ce46531fc85edba07a0a76b30a5f">BUS_OPTIONS_RESETV</a>),
<a name="l00062"></a>00062       <a class="code" href="classHDLcd.html#ac1d1b9a4346f8ab7231a25ba0524ac99">v_sync</a>(0), <a class="code" href="classHDLcd.html#a47ccc8b58ab3dffa549476540cfff908">v_back_porch</a>(0), <a class="code" href="classHDLcd.html#a5a46b3a3d299f421a250c4ca6ca7d17c">v_data</a>(0), <a class="code" href="classHDLcd.html#ad663411b973f7cad0938ca048f683088">v_front_porch</a>(0),
<a name="l00063"></a>00063       <a class="code" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a>(0), <a class="code" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a>(0), <a class="code" href="classHDLcd.html#a3610505ba43835b9d3dd548e1848644e">h_data</a>(0), <a class="code" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">h_front_porch</a>(0),
<a name="l00064"></a>00064       <a class="code" href="classHDLcd.html#a1b4fe6c75f98c50fad2eebc75f143dd2">polarities</a>(0), <a class="code" href="classHDLcd.html#a9c5f330aee81c99b318a53af189fbc98">command</a>(0), <a class="code" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a>(0),
<a name="l00065"></a>00065       <a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a>(0), <a class="code" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a>(0), <a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a>(0),
<a name="l00066"></a>00066       <a class="code" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;pixel_clock), <a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;vnc), <a class="code" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>), <a class="code" href="classHDLcd.html#af724472dcdfb49ce72ef865c101a1c0d">pic</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>),
<a name="l00067"></a>00067       <a class="code" href="classHDLcd.html#a9c95baa754410596ad866c39aba696f4">frameReadStartTime</a>(0),
<a name="l00068"></a>00068       <a class="code" href="classHDLcd.html#ae74c38d13416c4966fdd5c7db4678607">dmaStartAddr</a>(0), <a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a>(0), <a class="code" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">dmaMaxAddr</a>(0), <a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a>(0),
<a name="l00069"></a>00069       <a class="code" href="classHDLcd.html#a2c55466de4118724cb375f5d1c7844e8">frameUnderrun</a>(<span class="keyword">false</span>), <a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>), <a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a>(0),
<a name="l00070"></a>00070       <a class="code" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">pixelIndex</a>(0), <a class="code" href="classHDLcd.html#ad49d02ec4064ddf6d7055dcdc6128e20">doUpdateParams</a>(<span class="keyword">false</span>), <a class="code" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a>(<span class="keyword">false</span>),
<a name="l00071"></a>00071       <a class="code" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a>(0),
<a name="l00072"></a>00072       <a class="code" href="classHDLcd.html#ac7738466b6b60afeb71551c4f830d4fa">startFrameEvent</a>(<span class="keyword">this</span>), <a class="code" href="classHDLcd.html#afec13618cf33587eef480a7e70dece76">endFrameEvent</a>(<span class="keyword">this</span>), <a class="code" href="classHDLcd.html#af37803439ed3050f73510b0f8e0523fc">renderPixelEvent</a>(<span class="keyword">this</span>),
<a name="l00073"></a>00073       <a class="code" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">fillPixelBufferEvent</a>(<span class="keyword">this</span>), <a class="code" href="classHDLcd.html#a5ae08b242f478669f0686028d558332a">intEvent</a>(<span class="keyword">this</span>),
<a name="l00074"></a>00074       <a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>(<a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a>, <span class="keyword">this</span>),
<a name="l00075"></a>00075       <a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>(<a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a>),
<a name="l00076"></a>00076       <a class="code" href="classHDLcd.html#abf8ed1a0152ea70d689ffce800cd32fd">enableCapture</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;enable_capture)
<a name="l00077"></a>00077 {
<a name="l00078"></a>00078     <a class="code" href="classAmbaDmaDevice.html#a390529fe683187c290621e1822e0d5d1">pioSize</a> = 0xFFFF;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a>; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>)
<a name="l00081"></a>00081         <a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = &amp;<a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>];
<a name="l00082"></a>00082 
<a name="l00083"></a>00083     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>)
<a name="l00084"></a>00084         <a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>-&gt;<a class="code" href="classVncInput.html#a54024497bf1e639ca5a4534d43329c0d">setFramebufferAddr</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00085"></a>00085 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af9e41a7cf9baf266c10c60ea6fb4b529"></a><!-- doxytag: member="HDLcd::~HDLcd" ref="af9e41a7cf9baf266c10c60ea6fb4b529" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classHDLcd.html">HDLcd</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00088"></a>00088 {
<a name="l00089"></a>00089     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>)
<a name="l00090"></a>00090         <span class="keyword">delete</span> [] <a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>;
<a name="l00091"></a>00091 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="aec6571bbae7a34d8f4acc94770b38fad"></a><!-- doxytag: member="HDLcd::BitUnion32" ref="aec6571bbae7a34d8f4acc94770b38fad" args="(VersionReg) Bitfield&lt;7" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BitUnion32 </td>
          <td>(</td>
          <td class="paramtype">VersionReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a83badcd3087541a2fd96f093739247cb"></a><!-- doxytag: member="HDLcd::bytesFreeInPixelBuffer" ref="a83badcd3087541a2fd96f093739247cb" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> bytesFreeInPixelBuffer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the number of bytes free in the pixel buffer.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of bytes free in the internal pixel buffer </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00364"></a>00364                                                    {
<a name="l00365"></a>00365         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#a43f658311547cdd328f725c29f629d43">PIXEL_BUFFER_CAPACITY</a> - (<a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a> + <a class="code" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a>);
<a name="l00366"></a>00366     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aceeb8e7b68e5186d2459b6ec91a71169"></a><!-- doxytag: member="HDLcd::bytesPerPixel" ref="aceeb8e7b68e5186d2459b6ec91a71169" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bytesPerPixel </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the number of bytes per pixel.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>bytes per pixel </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00383"></a>00383                                         {
<a name="l00384"></a>00384         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a>.bytes_per_pixel + 1;
<a name="l00385"></a>00385     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="addfe179a028990a8ef8df5d347b5b7a9"></a><!-- doxytag: member="HDLcd::dmaBurstLength" ref="addfe179a028990a8ef8df5d347b5b7a9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t dmaBurstLength </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the number of beats-per-burst for bus transactions.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of beats-per-burst per <a class="el" href="classHDLcd.html">HDLcd</a> DMA transaction </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00373"></a>00373                                          {
<a name="l00374"></a>00374         assert(<a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>.burst_len &lt;= <a class="code" href="classHDLcd.html#aace62e6eea905bd83b1d848acf8e39c9">MAX_BURST_LEN</a>);
<a name="l00375"></a>00375         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>.burst_len;
<a name="l00376"></a>00376     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa86bef1e89693640a33feac9f6871f35"></a><!-- doxytag: member="HDLcd::dmaDone" ref="aa86bef1e89693640a33feac9f6871f35" args="(DmaDoneEvent *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dmaDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classHDLcd_1_1DmaDoneEvent.html">DmaDoneEvent</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>DMA done event </p>

<p><div class="fragment"><pre class="fragment"><a name="l00581"></a>00581 {
<a name="l00582"></a>00582     <span class="keyword">const</span> <span class="keywordtype">size_t</span> transactionLength = <span class="keyword">event</span>-&gt;getTransactionSize();
<a name="l00583"></a>00583     assert(<a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a> + transactionLength &lt; <a class="code" href="classHDLcd.html#a43f658311547cdd328f725c29f629d43">PIXEL_BUFFER_CAPACITY</a>);
<a name="l00584"></a>00584     assert(<a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a> &lt;= <a class="code" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">dmaMaxAddr</a>);
<a name="l00585"></a>00585 
<a name="l00586"></a>00586     <a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>.push_back(<a class="code" href="namespaceMipsISA.html#aa3b803f4777161a2825178dabfb154f0">event</a>);
<a name="l00587"></a>00587     --<a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a>;
<a name="l00588"></a>00588     assert(<a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a> - <a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>.size() ==
<a name="l00589"></a>00589             <a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a>);
<a name="l00590"></a>00590 
<a name="l00591"></a>00591     <span class="comment">// add the data to the pixel buffer</span>
<a name="l00592"></a>00592     <a class="code" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a> -= transactionLength;
<a name="l00593"></a>00593     <a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a> += transactionLength;
<a name="l00594"></a>00594 
<a name="l00595"></a>00595     <span class="comment">// schedule another dma transaction if:</span>
<a name="l00596"></a>00596     <span class="comment">// - we&apos;re not done reading the frame</span>
<a name="l00597"></a>00597     <span class="comment">// - there is sufficient room in the pixel buffer for another transaction</span>
<a name="l00598"></a>00598     <span class="comment">// - another fillPixelBufferEvent is not already scheduled</span>
<a name="l00599"></a>00599     <span class="keyword">const</span> <span class="keywordtype">size_t</span> targetTransSize = <a class="code" href="classHDLcd.html#addfe179a028990a8ef8df5d347b5b7a9">dmaBurstLength</a>() * <a class="code" href="classHDLcd.html#a707d5982e8851aee47eb1250db1c4c3b">AXI_PORT_WIDTH</a>;
<a name="l00600"></a>00600     <span class="keywordflow">if</span> ((<a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a> &lt; <a class="code" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">dmaMaxAddr</a>) &amp;&amp;
<a name="l00601"></a>00601         (<a class="code" href="classHDLcd.html#a83badcd3087541a2fd96f093739247cb">bytesFreeInPixelBuffer</a>() + targetTransSize &lt; <a class="code" href="classHDLcd.html#a43f658311547cdd328f725c29f629d43">PIXEL_BUFFER_CAPACITY</a>) &amp;&amp;
<a name="l00602"></a>00602         !<a class="code" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">fillPixelBufferEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>()) {
<a name="l00603"></a>00603         <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">fillPixelBufferEvent</a>, <a class="code" href="classClockedObject.html#a773956693f216cafb7d4cad92ad582e5">clockEdge</a>());
<a name="l00604"></a>00604     }
<a name="l00605"></a>00605 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af0dba6bcb7a2dfa9fffb850df381fb35"></a><!-- doxytag: member="HDLcd::EndBitUnion" ref="af0dba6bcb7a2dfa9fffb850df381fb35" args="(PixelFormatReg) BitUnion32(ColorSelectReg) Bitfield&lt;4" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">PixelFormatReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad18895590b07f37749435b9fcab06a1b"></a><!-- doxytag: member="HDLcd::EndBitUnion" ref="ad18895590b07f37749435b9fcab06a1b" args="(CommandReg) BitUnion32(PixelFormatReg) Bitfield&lt;2" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCommandReg.html">CommandReg</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a15872640ef504c5434a0d6d2f8d1370f"></a><!-- doxytag: member="HDLcd::EndBitUnion" ref="a15872640ef504c5434a0d6d2f8d1370f" args="(PolaritiesReg) BitUnion32(CommandReg) Bitfield&lt; 0 &gt; enable" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">PolaritiesReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a77fc9b81e2f21847dd26ae5dfa7e7e2f"></a><!-- doxytag: member="HDLcd::EndBitUnion" ref="a77fc9b81e2f21847dd26ae5dfa7e7e2f" args="(TimingReg) BitUnion32(PolaritiesReg) Bitfield&lt; 0 &gt; vsync_polarity" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">TimingReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6d14e80c9f7e2901c07bcb2971c9128f"></a><!-- doxytag: member="HDLcd::EndBitUnion" ref="a6d14e80c9f7e2901c07bcb2971c9128f" args="(BusOptsReg) BitUnion32(TimingReg) Bitfield&lt; 11" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">BusOptsReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aea5d211b3a25fc73ea615aef16360155"></a><!-- doxytag: member="HDLcd::EndBitUnion" ref="aea5d211b3a25fc73ea615aef16360155" args="(FbLineCountReg) BitUnion32(BusOptsReg) Bitfield&lt;4" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">FbLineCountReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aab67db2435979ade75800819a6694c70"></a><!-- doxytag: member="HDLcd::EndBitUnion" ref="aab67db2435979ade75800819a6694c70" args="(InterruptReg) BitUnion32(FbLineCountReg) Bitfield&lt; 11" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">InterruptReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae86db13e164e3134cde1780b881b5a2b"></a><!-- doxytag: member="HDLcd::EndBitUnion" ref="ae86db13e164e3134cde1780b881b5a2b" args="(VersionReg) BitUnion32(InterruptReg) Bitfield&lt; 0 &gt; dma_end" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">VersionReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a275cb0fc5850b339346d533d2e65aaa8"></a><!-- doxytag: member="HDLcd::endFrame" ref="a275cb0fc5850b339346d533d2e65aaa8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void endFrame </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>End of frame reached </p>

<p><div class="fragment"><pre class="fragment"><a name="l00555"></a>00555                 {
<a name="l00556"></a>00556     assert(<a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a> == 0);
<a name="l00557"></a>00557     assert(<a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a> == 0);
<a name="l00558"></a>00558     assert(<a class="code" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a> == 0);
<a name="l00559"></a>00559     assert(<a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>.size() == <a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>.size());
<a name="l00560"></a>00560 
<a name="l00561"></a>00561     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>)
<a name="l00562"></a>00562         <a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>-&gt;<a class="code" href="classVncInput.html#ad7eac728ea55298c7691e7d1c165719b">setDirty</a>();
<a name="l00563"></a>00563 
<a name="l00564"></a>00564     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#abf8ed1a0152ea70d689ffce800cd32fd">enableCapture</a>) {
<a name="l00565"></a>00565         <span class="keywordflow">if</span> (!<a class="code" href="classHDLcd.html#af724472dcdfb49ce72ef865c101a1c0d">pic</a>)
<a name="l00566"></a>00566             <a class="code" href="classHDLcd.html#af724472dcdfb49ce72ef865c101a1c0d">pic</a> = <a class="code" href="output_8cc.html#a08819d32c217c58b155584845ddadd4a">simout</a>.<a class="code" href="classOutputDirectory.html#a22e4aa8ec29a265a1c299a1a009c85cc">create</a>(<a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.framebuffer.bmp&quot;</span>, <a class="code" href="classPioDevice.html#a8ae37465ba84acfef6af3e9b9e6dbbd5">sys</a>-&gt;<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>()), <span class="keyword">true</span>);
<a name="l00567"></a>00567 
<a name="l00568"></a>00568         assert(<a class="code" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a>);
<a name="l00569"></a>00569         assert(<a class="code" href="classHDLcd.html#af724472dcdfb49ce72ef865c101a1c0d">pic</a>);
<a name="l00570"></a>00570         <a class="code" href="classHDLcd.html#af724472dcdfb49ce72ef865c101a1c0d">pic</a>-&gt;seekp(0);
<a name="l00571"></a>00571         <a class="code" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a>-&gt;<a class="code" href="classBitmap.html#a45a62e70b01ae32e2815ab26cc8219f5">write</a>(<a class="code" href="classHDLcd.html#af724472dcdfb49ce72ef865c101a1c0d">pic</a>);
<a name="l00572"></a>00572     }
<a name="l00573"></a>00573 
<a name="l00574"></a>00574     <span class="comment">// start the next frame</span>
<a name="l00575"></a>00575     <a class="code" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a> = <span class="keyword">false</span>;
<a name="l00576"></a>00576     <a class="code" href="classHDLcd.html#a24932aa8063bd34ee82a44b55990fc56">startFrame</a>();
<a name="l00577"></a>00577 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8b6bacaad93cdca1a4f0697be74311c1"></a><!-- doxytag: member="HDLcd::fillPixelBuffer" ref="a8b6bacaad93cdca1a4f0697be74311c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fillPixelBuffer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generate DMA read requests from frame buffer into pixel buffer </p>

<p><div class="fragment"><pre class="fragment"><a name="l00458"></a>00458 {
<a name="l00459"></a>00459     <span class="comment">// - am I under the LCD dma transaction total?</span>
<a name="l00460"></a>00460     <span class="comment">// - do I have more data to transfer?</span>
<a name="l00461"></a>00461     <span class="comment">// - have I not yet underrun for this frame?</span>
<a name="l00462"></a>00462     <span class="comment">// - is there room to put the data in the pixel buffer including any</span>
<a name="l00463"></a>00463     <span class="comment">//   outstanding dma transfers in flight?</span>
<a name="l00464"></a>00464     <span class="keywordflow">while</span> ((<a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a> &lt; <a class="code" href="classHDLcd.html#ac032891f1184bb5cfedef5c07217b0e9">maxOutstandingDma</a>()) &amp;&amp;
<a name="l00465"></a>00465            (<a class="code" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">dmaMaxAddr</a> &gt; <a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a>) &amp;&amp;
<a name="l00466"></a>00466            !<a class="code" href="classHDLcd.html#a2c55466de4118724cb375f5d1c7844e8">frameUnderrun</a> &amp;&amp;
<a name="l00467"></a>00467            <a class="code" href="classHDLcd.html#a83badcd3087541a2fd96f093739247cb">bytesFreeInPixelBuffer</a>() &gt; <a class="code" href="classHDLcd.html#addfe179a028990a8ef8df5d347b5b7a9">dmaBurstLength</a>() * <a class="code" href="classHDLcd.html#a707d5982e8851aee47eb1250db1c4c3b">AXI_PORT_WIDTH</a>) {
<a name="l00468"></a>00468         <span class="comment">// try largest transaction size allowed first but switch to smaller</span>
<a name="l00469"></a>00469         <span class="comment">// sizes for trailing bytes</span>
<a name="l00470"></a>00470         <span class="keywordtype">size_t</span> transaction_size = <a class="code" href="classHDLcd.html#addfe179a028990a8ef8df5d347b5b7a9">dmaBurstLength</a>() * <a class="code" href="classHDLcd.html#a707d5982e8851aee47eb1250db1c4c3b">AXI_PORT_WIDTH</a>;
<a name="l00471"></a>00471         <span class="keywordflow">while</span> (transaction_size &gt; (<a class="code" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">dmaMaxAddr</a> - <a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a>))
<a name="l00472"></a>00472             transaction_size &gt;&gt;= 1;
<a name="l00473"></a>00473         assert(transaction_size &gt; 0);
<a name="l00474"></a>00474 
<a name="l00475"></a>00475         <span class="comment">// concurrent dma reads need different dma done events</span>
<a name="l00476"></a>00476         <span class="comment">// due to assertion in scheduling state</span>
<a name="l00477"></a>00477         ++<a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a>;
<a name="l00478"></a>00478 
<a name="l00479"></a>00479         assert(!<a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>.empty());
<a name="l00480"></a>00480         DmaDoneEvent *<a class="code" href="namespaceMipsISA.html#aa3b803f4777161a2825178dabfb154f0">event</a>(<a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>.back());
<a name="l00481"></a>00481         <a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>.pop_back();
<a name="l00482"></a>00482         assert(<a class="code" href="namespaceMipsISA.html#aa3b803f4777161a2825178dabfb154f0">event</a>);
<a name="l00483"></a>00483         assert(!<a class="code" href="namespaceMipsISA.html#aa3b803f4777161a2825178dabfb154f0">event</a>-&gt;scheduled());
<a name="l00484"></a>00484 
<a name="l00485"></a>00485         <span class="comment">// We use a uncachable request here because the requests from the CPU</span>
<a name="l00486"></a>00486         <span class="comment">// will be uncacheable as well. If we have uncacheable and cacheable</span>
<a name="l00487"></a>00487         <span class="comment">// requests in the memory system for the same address it won&apos;t be</span>
<a name="l00488"></a>00488         <span class="comment">// pleased</span>
<a name="l00489"></a>00489         <span class="keyword">event</span>-&gt;setTransactionSize(transaction_size);
<a name="l00490"></a>00490         <a class="code" href="classDmaDevice.html#a0e844de222006d2f1aadb8f01d8f383b">dmaPort</a>.<a class="code" href="classDmaPort.html#ac9a04fe85b8cb0292631680073eddb86">dmaAction</a>(<a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a96120c772a9cb695fe62ca81ec93a53b">MemCmd::ReadReq</a>, <a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a>, transaction_size, <a class="code" href="namespaceMipsISA.html#aa3b803f4777161a2825178dabfb154f0">event</a>,
<a name="l00491"></a>00491                           <a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a> + <a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a> - <a class="code" href="classHDLcd.html#ae74c38d13416c4966fdd5c7db4678607">dmaStartAddr</a>,
<a name="l00492"></a>00492                           0, <a class="code" href="classRequest.html#a0fc1d6bc92a0567b05130468e04f05f8">Request::UNCACHEABLE</a>);
<a name="l00493"></a>00493         <a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a> += transaction_size;
<a name="l00494"></a>00494         <a class="code" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a> += transaction_size;
<a name="l00495"></a>00495     }
<a name="l00496"></a>00496 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab251ef5c4d9e1f0239542a9d8aa0dc3e"></a><!-- doxytag: member="HDLcd::generateInterrupt" ref="ab251ef5c4d9e1f0239542a9d8aa0dc3e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void generateInterrupt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generates an interrupt </p>

<p><div class="fragment"><pre class="fragment"><a name="l00835"></a>00835 {
<a name="l00836"></a>00836     <a class="code" href="classHDLcd.html#a814b02fed91486dd6000055cd1c43e1d">int_status</a> = <a class="code" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">int_rawstat</a> &amp; <a class="code" href="classHDLcd.html#a8343af5ba122012f4b5b3515d8675b7e">int_mask</a>;
<a name="l00837"></a>00837     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;Generate Interrupt: int_rawstat=0x%08x int_mask=0x%08x &quot;</span>
<a name="l00838"></a>00838             <span class="stringliteral">&quot;int_status=0x%08x\n&quot;</span>,
<a name="l00839"></a>00839             (<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">int_rawstat</a>, (<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)int_mask, (<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code" href="classHDLcd.html#a814b02fed91486dd6000055cd1c43e1d">int_status</a>);
<a name="l00840"></a>00840 
<a name="l00841"></a>00841     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a814b02fed91486dd6000055cd1c43e1d">int_status</a> != 0) {
<a name="l00842"></a>00842         <a class="code" href="classAmbaDmaDevice.html#a2e2266dca56928f63667e994933169ee">gic</a>-&gt;<a class="code" href="classBaseGic.html#ad6b2cb6b9a108c3852cb5a88126e5320">sendInt</a>(<a class="code" href="classAmbaDmaDevice.html#a9bd4d49b818d8cf1a6dee0576d2ff039">intNum</a>);
<a name="l00843"></a>00843         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot; -- Generated\n&quot;</span>);
<a name="l00844"></a>00844     }
<a name="l00845"></a>00845 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a36cf113d5e5e091ebddb32306c098fae"></a><!-- doxytag: member="HDLcd::getAddrRanges" ref="a36cf113d5e5e091ebddb32306c098fae" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">AddrRangeList</a> getAddrRanges </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determine the address ranges that this device responds to.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>a list of non-overlapping address ranges </dd></dl>

<p><a class="el" href="classPioDevice.html#a6e967f8921e80748eb2be35b6b481a7e">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00849"></a>00849 {
<a name="l00850"></a>00850     <a class="code" href="classstd_1_1list.html">AddrRangeList</a> ranges;
<a name="l00851"></a>00851     ranges.push_back(<a class="code" href="addr__range_8hh.html#a59cd089c5b2fbc6eecd8507757432740">RangeSize</a>(<a class="code" href="classAmbaDmaDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a>, <a class="code" href="classAmbaDmaDevice.html#a390529fe683187c290621e1822e0d5d1">pioSize</a>));
<a name="l00852"></a>00852     <span class="keywordflow">return</span> ranges;
<a name="l00853"></a>00853 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac0e3c6ba1d3f8a8e50aa3e3897210a2b"></a><!-- doxytag: member="HDLcd::height" ref="ac0e3c6ba1d3f8a8e50aa3e3897210a2b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t height </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets frame buffer height.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>frame buffer height (lines per panel) </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00401"></a>00401                                  {
<a name="l00402"></a>00402         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a>.fb_line_count;
<a name="l00403"></a>00403     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac032891f1184bb5cfedef5c07217b0e9"></a><!-- doxytag: member="HDLcd::maxOutstandingDma" ref="ac032891f1184bb5cfedef5c07217b0e9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t maxOutstandingDma </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the number of oustanding DMA transactions allowed on the bus at a time.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>gets the driver-specified number of outstanding DMA transactions from the hdlcd controller that are allowed on the bus at a time </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00355"></a>00355                                               {
<a name="l00356"></a>00356         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>.max_outstanding;
<a name="l00357"></a>00357     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acd3c3feb78ae7a8f88fe0f110a718dff"></a><!-- doxytag: member="HDLcd::params" ref="acd3c3feb78ae7a8f88fe0f110a718dff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">Params</a>* params </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classPioDevice.html#acd3c3feb78ae7a8f88fe0f110a718dff">PioDevice</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00484"></a>00484     {
<a name="l00485"></a>00485         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">Params</a> *<span class="keyword">&gt;</span>(<a class="code" href="classSimObject.html#acaf6024ae9dda44bfb1c67e05ad70aef">_params</a>);
<a name="l00486"></a>00486     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7b7fa24d6d051f77c5554b18b422f016"></a><!-- doxytag: member="HDLcd::PClksPerLine" ref="a7b7fa24d6d051f77c5554b18b422f016" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t PClksPerLine </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the total number of pixel clocks per display line.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of pixel clocks per display line including porch delays and horizontal sync time </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00411"></a>00411                                          {
<a name="l00412"></a>00412         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a>.val + 1 +
<a name="l00413"></a>00413                <a class="code" href="classHDLcd.html#a3610505ba43835b9d3dd548e1848644e">h_data</a>.val + 1 +
<a name="l00414"></a>00414                <a class="code" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">h_front_porch</a>.val + 1 +
<a name="l00415"></a>00415                <a class="code" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a>.val + 1;
<a name="l00416"></a>00416     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a613ec7d5e1ec64f8d21fec78ae8e568e"></a><!-- doxytag: member="HDLcd::read" ref="a613ec7d5e1ec64f8d21fec78ae8e568e" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pure virtual function that the device must implement. Called when a read command is recieved by the port. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html">Packet</a> describing this request </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of ticks it took to complete </dd></dl>

<p><a class="el" href="classPioDevice.html#a842312590432036092c422c87a442358">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00096"></a>00096 {
<a name="l00097"></a>00097     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> data = 0;
<a name="l00098"></a>00098     <span class="keyword">const</span> <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> daddr = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() - <a class="code" href="classAmbaDmaDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a>;
<a name="l00099"></a>00099 
<a name="l00100"></a>00100     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;read register BASE+0x%04x size=%d\n&quot;</span>, daddr,
<a name="l00101"></a>00101             pkt-&gt;<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>());
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     assert(pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() &gt;= <a class="code" href="classAmbaDmaDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a> &amp;&amp;
<a name="l00104"></a>00104             pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() &lt; <a class="code" href="classAmbaDmaDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a> + <a class="code" href="classAmbaDmaDevice.html#a390529fe683187c290621e1822e0d5d1">pioSize</a> &amp;&amp;
<a name="l00105"></a>00105             pkt-&gt;<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>() == 4);
<a name="l00106"></a>00106 
<a name="l00107"></a>00107     pkt-&gt;<a class="code" href="classPacket.html#acaefe811b78a2fdc4a0dba0c4029c3ef">allocate</a>();
<a name="l00108"></a>00108 
<a name="l00109"></a>00109     <span class="keywordflow">switch</span> (daddr) {
<a name="l00110"></a>00110       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaaecf3eedf8cb9291bcba326089c9508a">Version</a>:
<a name="l00111"></a>00111         data = <a class="code" href="namespaceslicc_1_1main.html#af9c8593b58583463efe6932e24c9d6e6">version</a>;
<a name="l00112"></a>00112         <span class="keywordflow">break</span>;
<a name="l00113"></a>00113       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1be27d857bb87a9ae6813b06cdcbab49">Int_RawStat</a>:
<a name="l00114"></a>00114         data = <a class="code" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">int_rawstat</a>;
<a name="l00115"></a>00115         <span class="keywordflow">break</span>;
<a name="l00116"></a>00116       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafcaf90f877eec92e9d06f667da4ef93a">Int_Clear</a>:
<a name="l00117"></a>00117         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;HDLCD INT_CLEAR register is Write-Only\n&quot;</span>);
<a name="l00118"></a>00118         <span class="keywordflow">break</span>;
<a name="l00119"></a>00119       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa41681a9749cd3e11f4e1a1981dda1c7f">Int_Mask</a>:
<a name="l00120"></a>00120         data = <a class="code" href="classHDLcd.html#a8343af5ba122012f4b5b3515d8675b7e">int_mask</a>;
<a name="l00121"></a>00121         <span class="keywordflow">break</span>;
<a name="l00122"></a>00122       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa0d141ad1f9a40ed4a7f80aed471dde27">Int_Status</a>:
<a name="l00123"></a>00123         data = <a class="code" href="classHDLcd.html#a814b02fed91486dd6000055cd1c43e1d">int_status</a>;
<a name="l00124"></a>00124         <span class="keywordflow">break</span>;
<a name="l00125"></a>00125       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aae73e315a15940c9ec92665d532b0ec3f">Fb_Base</a>:
<a name="l00126"></a>00126         data = <a class="code" href="classHDLcd.html#ad9fd5ba71c5b40acdb6fd9adc4fa408b">fb_base</a>;
<a name="l00127"></a>00127         <span class="keywordflow">break</span>;
<a name="l00128"></a>00128       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa4bb8d9aadacffc879da4c56a479deb50">Fb_Line_Length</a>:
<a name="l00129"></a>00129         data = <a class="code" href="classHDLcd.html#ab09d20d3fb341f97725e4f27efbee0bd">fb_line_length</a>;
<a name="l00130"></a>00130         <span class="keywordflow">break</span>;
<a name="l00131"></a>00131       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aab622dfd78db0239caba70c2465460563">Fb_Line_Count</a>:
<a name="l00132"></a>00132         data = <a class="code" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a>;
<a name="l00133"></a>00133         <span class="keywordflow">break</span>;
<a name="l00134"></a>00134       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1a1fed2414dcc0ebf810a266630dc615">Fb_Line_Pitch</a>:
<a name="l00135"></a>00135         data = <a class="code" href="classHDLcd.html#a4f20b06285d7a67e4182c190c282ab9b">fb_line_pitch</a>;
<a name="l00136"></a>00136         <span class="keywordflow">break</span>;
<a name="l00137"></a>00137       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8ecde41db7d43d0f947af7a4990cadd8">Bus_Options</a>:
<a name="l00138"></a>00138         data = <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>;
<a name="l00139"></a>00139         <span class="keywordflow">break</span>;
<a name="l00140"></a>00140       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa388f28a3d8b85e71937474d347f4e24d">V_Sync</a>:
<a name="l00141"></a>00141         data = <a class="code" href="classHDLcd.html#ac1d1b9a4346f8ab7231a25ba0524ac99">v_sync</a>;
<a name="l00142"></a>00142         <span class="keywordflow">break</span>;
<a name="l00143"></a>00143       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaf788d81eab9ff4992ff5550983392df7">V_Back_Porch</a>:
<a name="l00144"></a>00144         data = <a class="code" href="classHDLcd.html#a47ccc8b58ab3dffa549476540cfff908">v_back_porch</a>;
<a name="l00145"></a>00145         <span class="keywordflow">break</span>;
<a name="l00146"></a>00146       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa068573e257c781b4e4eb0af5fb26178e">V_Data</a>:
<a name="l00147"></a>00147         data = <a class="code" href="classHDLcd.html#a5a46b3a3d299f421a250c4ca6ca7d17c">v_data</a>;
<a name="l00148"></a>00148         <span class="keywordflow">break</span>;
<a name="l00149"></a>00149       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa69c77a38764fbc5b5567f13b5eb4267b">V_Front_Porch</a>:
<a name="l00150"></a>00150         data = <a class="code" href="classHDLcd.html#ad663411b973f7cad0938ca048f683088">v_front_porch</a>;
<a name="l00151"></a>00151         <span class="keywordflow">break</span>;
<a name="l00152"></a>00152       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafad2bb41d868c428adc9f68b275fb34a">H_Sync</a>:
<a name="l00153"></a>00153         data = <a class="code" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a>;
<a name="l00154"></a>00154         <span class="keywordflow">break</span>;
<a name="l00155"></a>00155       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa22ed0ca08a37a1c7a4a6266a3e90363f">H_Back_Porch</a>:
<a name="l00156"></a>00156         data = <a class="code" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a>;
<a name="l00157"></a>00157         <span class="keywordflow">break</span>;
<a name="l00158"></a>00158       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafdec0d05c0c1116a7462d36544894da5">H_Data</a>:
<a name="l00159"></a>00159         data = <a class="code" href="classHDLcd.html#a3610505ba43835b9d3dd548e1848644e">h_data</a>;
<a name="l00160"></a>00160         <span class="keywordflow">break</span>;
<a name="l00161"></a>00161       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8139349b5f0b13a4b21053d61c043f13">H_Front_Porch</a>:
<a name="l00162"></a>00162         data = <a class="code" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">h_front_porch</a>;
<a name="l00163"></a>00163         <span class="keywordflow">break</span>;
<a name="l00164"></a>00164       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa080ddbafa8544f5e1f9838d62cea53b5">Polarities</a>:
<a name="l00165"></a>00165         data = <a class="code" href="classHDLcd.html#a1b4fe6c75f98c50fad2eebc75f143dd2">polarities</a>;
<a name="l00166"></a>00166         <span class="keywordflow">break</span>;
<a name="l00167"></a>00167       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafe3054aee03156c2553151700236dc9c">Command</a>:
<a name="l00168"></a>00168         data = <a class="code" href="classHDLcd.html#a9c5f330aee81c99b318a53af189fbc98">command</a>;
<a name="l00169"></a>00169         <span class="keywordflow">break</span>;
<a name="l00170"></a>00170       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aad92abc727f017e41476afd828019fd6f">Pixel_Format</a>:
<a name="l00171"></a>00171         data = <a class="code" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a>;
<a name="l00172"></a>00172         <span class="keywordflow">break</span>;
<a name="l00173"></a>00173       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa3c14c44e84578139168434c48cff7ae4">Red_Select</a>:
<a name="l00174"></a>00174         data = <a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a>;
<a name="l00175"></a>00175         <span class="keywordflow">break</span>;
<a name="l00176"></a>00176       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa35c8bdcdce89f753d2e287a46bd09528">Green_Select</a>:
<a name="l00177"></a>00177         data = <a class="code" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a>;
<a name="l00178"></a>00178         <span class="keywordflow">break</span>;
<a name="l00179"></a>00179       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa7866c291b06c767b524c00d58fd7e0da">Blue_Select</a>:
<a name="l00180"></a>00180         data = <a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a>;
<a name="l00181"></a>00181         <span class="keywordflow">break</span>;
<a name="l00182"></a>00182       <span class="keywordflow">default</span>:
<a name="l00183"></a>00183         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Tried to read HDLCD register that doesn&apos;t  exist\n&quot;</span>, daddr);
<a name="l00184"></a>00184         <span class="keywordflow">break</span>;
<a name="l00185"></a>00185     }
<a name="l00186"></a>00186 
<a name="l00187"></a>00187     pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(data);
<a name="l00188"></a>00188     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00189"></a>00189     <span class="keywordflow">return</span> <a class="code" href="classAmbaDmaDevice.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>;
<a name="l00190"></a>00190 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0a49e224296b89d614be23179d98d6a3"></a><!-- doxytag: member="HDLcd::renderPixel" ref="a0a49e224296b89d614be23179d98d6a3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void renderPixel </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when it is time to render a pixel </p>

<p><div class="fragment"><pre class="fragment"><a name="l00500"></a>00500 {
<a name="l00501"></a>00501     <span class="comment">// try to handle multiple pixels at a time; doing so reduces the accuracy</span>
<a name="l00502"></a>00502     <span class="comment">//   of the underrun detection but lowers simulation overhead</span>
<a name="l00503"></a>00503     <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="namespaceX86ISA.html#a668f84c330035fdb72824eb18e09cd09">count</a> = 32;
<a name="l00504"></a>00504     assert(<a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>() % count == 0); <span class="comment">// not set up to handle trailing pixels</span>
<a name="l00505"></a>00505 
<a name="l00506"></a>00506     <span class="comment">// have we underrun on this frame anytime before?</span>
<a name="l00507"></a>00507     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a2c55466de4118724cb375f5d1c7844e8">frameUnderrun</a>) {
<a name="l00508"></a>00508         <span class="comment">// the LCD controller gives up on a frame if an underrun occurs and</span>
<a name="l00509"></a>00509         <span class="comment">//   resumes regular operation on the next frame</span>
<a name="l00510"></a>00510         <a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a> = 0;
<a name="l00511"></a>00511     } <span class="keywordflow">else</span> {
<a name="l00512"></a>00512         <span class="comment">// did we underrun on this set of pixels?</span>
<a name="l00513"></a>00513         <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a> &lt; <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>() * count) {
<a name="l00514"></a>00514             <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a>(<span class="stringliteral">&quot;HDLcd controller buffer underrun\n&quot;</span>);
<a name="l00515"></a>00515             <a class="code" href="classHDLcd.html#a2c55466de4118724cb375f5d1c7844e8">frameUnderrun</a> = <span class="keyword">true</span>;
<a name="l00516"></a>00516             <a class="code" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">int_rawstat</a>.underrun = 1;
<a name="l00517"></a>00517             <span class="keywordflow">if</span> (!<a class="code" href="classHDLcd.html#a5ae08b242f478669f0686028d558332a">intEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>())
<a name="l00518"></a>00518                 <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#a5ae08b242f478669f0686028d558332a">intEvent</a>, <a class="code" href="classClockedObject.html#a773956693f216cafb7d4cad92ad582e5">clockEdge</a>());
<a name="l00519"></a>00519         } <span class="keywordflow">else</span> {
<a name="l00520"></a>00520             <span class="comment">// emulate the pixel read from the internal buffer</span>
<a name="l00521"></a>00521             <a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a> -= <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>() * count;
<a name="l00522"></a>00522         }
<a name="l00523"></a>00523     }
<a name="l00524"></a>00524 
<a name="l00525"></a>00525     <span class="comment">// the DMA may have previously stalled due to the buffer being full;</span>
<a name="l00526"></a>00526     <span class="comment">//   give it a kick; it knows not to fill if at end of frame, underrun, etc</span>
<a name="l00527"></a>00527     <span class="keywordflow">if</span> (!<a class="code" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">fillPixelBufferEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>())
<a name="l00528"></a>00528         <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">fillPixelBufferEvent</a>, <a class="code" href="classClockedObject.html#a773956693f216cafb7d4cad92ad582e5">clockEdge</a>());
<a name="l00529"></a>00529 
<a name="l00530"></a>00530     <span class="comment">// schedule the next pixel read according to where it is in the frame</span>
<a name="l00531"></a>00531     <a class="code" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">pixelIndex</a> += count;
<a name="l00532"></a>00532     assert(<a class="code" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">pixelIndex</a> &lt;= <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>() * <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>());
<a name="l00533"></a>00533     <span class="keywordtype">size_t</span> <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a> = <a class="code" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">pixelIndex</a> % <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>();
<a name="l00534"></a>00534     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> nextEventTick = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>();
<a name="l00535"></a>00535     <span class="keywordflow">if</span> (x == 0) {
<a name="l00536"></a>00536         <span class="comment">// start of new line</span>
<a name="l00537"></a>00537         nextEventTick += <a class="code" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a> * ((<a class="code" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">h_front_porch</a>.val + 1) +
<a name="l00538"></a>00538                                        (<a class="code" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a>.val + 1) +
<a name="l00539"></a>00539                                        (<a class="code" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a>.val + 1));
<a name="l00540"></a>00540         <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">pixelIndex</a> == <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>() * <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>()) {
<a name="l00541"></a>00541             <span class="comment">// end of frame</span>
<a name="l00542"></a>00542             nextEventTick += <a class="code" href="classHDLcd.html#a7b7fa24d6d051f77c5554b18b422f016">PClksPerLine</a>() * (<a class="code" href="classHDLcd.html#ad663411b973f7cad0938ca048f683088">v_front_porch</a>.val + 1) *
<a name="l00543"></a>00543                              <a class="code" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a>;
<a name="l00544"></a>00544             <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#afec13618cf33587eef480a7e70dece76">endFrameEvent</a>, nextEventTick);
<a name="l00545"></a>00545             <span class="keywordflow">return</span>;
<a name="l00546"></a>00546         }
<a name="l00547"></a>00547     } <span class="keywordflow">else</span> {
<a name="l00548"></a>00548         nextEventTick += <a class="code" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a> * count;
<a name="l00549"></a>00549     }
<a name="l00550"></a>00550 
<a name="l00551"></a>00551     <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#af37803439ed3050f73510b0f8e0523fc">renderPixelEvent</a>, nextEventTick);
<a name="l00552"></a>00552 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53e036786d17361be4c7320d39c99b84"></a><!-- doxytag: member="HDLcd::serialize" ref="a53e036786d17361be4c7320d39c99b84" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#ad6272f80ae37e8331e3969b3f072a801">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00609"></a>00609 {
<a name="l00610"></a>00610     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;Serializing ARM HDLCD\n&quot;</span>);
<a name="l00611"></a>00611 
<a name="l00612"></a>00612     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> version_serial = <a class="code" href="namespaceslicc_1_1main.html#af9c8593b58583463efe6932e24c9d6e6">version</a>;
<a name="l00613"></a>00613     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(version_serial);
<a name="l00614"></a>00614     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> int_rawstat_serial = <a class="code" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">int_rawstat</a>;
<a name="l00615"></a>00615     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(int_rawstat_serial);
<a name="l00616"></a>00616     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> int_clear_serial = <a class="code" href="classHDLcd.html#ab96a978a299a4bf65839845c1c33f414">int_clear</a>;
<a name="l00617"></a>00617     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(int_clear_serial);
<a name="l00618"></a>00618     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> int_mask_serial = <a class="code" href="classHDLcd.html#a8343af5ba122012f4b5b3515d8675b7e">int_mask</a>;
<a name="l00619"></a>00619     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(int_mask_serial);
<a name="l00620"></a>00620     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> int_status_serial = <a class="code" href="classHDLcd.html#a814b02fed91486dd6000055cd1c43e1d">int_status</a>;
<a name="l00621"></a>00621     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(int_status_serial);
<a name="l00622"></a>00622 
<a name="l00623"></a>00623     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#ad9fd5ba71c5b40acdb6fd9adc4fa408b">fb_base</a>);
<a name="l00624"></a>00624     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#ab09d20d3fb341f97725e4f27efbee0bd">fb_line_length</a>);
<a name="l00625"></a>00625 
<a name="l00626"></a>00626     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> fb_line_count_serial = <a class="code" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a>;
<a name="l00627"></a>00627     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(fb_line_count_serial);
<a name="l00628"></a>00628 
<a name="l00629"></a>00629     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a4f20b06285d7a67e4182c190c282ab9b">fb_line_pitch</a>);
<a name="l00630"></a>00630 
<a name="l00631"></a>00631     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> bus_options_serial = <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>;
<a name="l00632"></a>00632     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(bus_options_serial);
<a name="l00633"></a>00633     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> v_sync_serial = <a class="code" href="classHDLcd.html#ac1d1b9a4346f8ab7231a25ba0524ac99">v_sync</a>;
<a name="l00634"></a>00634     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(v_sync_serial);
<a name="l00635"></a>00635     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> v_back_porch_serial = <a class="code" href="classHDLcd.html#a47ccc8b58ab3dffa549476540cfff908">v_back_porch</a>;
<a name="l00636"></a>00636     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(v_back_porch_serial);
<a name="l00637"></a>00637     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> v_data_serial = <a class="code" href="classHDLcd.html#a5a46b3a3d299f421a250c4ca6ca7d17c">v_data</a>;
<a name="l00638"></a>00638     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(v_data_serial);
<a name="l00639"></a>00639     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> v_front_porch_serial = <a class="code" href="classHDLcd.html#ad663411b973f7cad0938ca048f683088">v_front_porch</a>;
<a name="l00640"></a>00640     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(v_front_porch_serial);
<a name="l00641"></a>00641     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> h_sync_serial = <a class="code" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a>;
<a name="l00642"></a>00642     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(h_sync_serial);
<a name="l00643"></a>00643     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> h_back_porch_serial = <a class="code" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a>;
<a name="l00644"></a>00644     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(h_back_porch_serial);
<a name="l00645"></a>00645     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> h_data_serial = <a class="code" href="classHDLcd.html#a3610505ba43835b9d3dd548e1848644e">h_data</a>;
<a name="l00646"></a>00646     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(h_data_serial);
<a name="l00647"></a>00647     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> h_front_porch_serial = <a class="code" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">h_front_porch</a>;
<a name="l00648"></a>00648     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(h_front_porch_serial);
<a name="l00649"></a>00649     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> polarities_serial = <a class="code" href="classHDLcd.html#a1b4fe6c75f98c50fad2eebc75f143dd2">polarities</a>;
<a name="l00650"></a>00650     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(polarities_serial);
<a name="l00651"></a>00651     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> command_serial = <a class="code" href="classHDLcd.html#a9c5f330aee81c99b318a53af189fbc98">command</a>;
<a name="l00652"></a>00652     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(command_serial);
<a name="l00653"></a>00653     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> pixel_format_serial = <a class="code" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a>;
<a name="l00654"></a>00654     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(pixel_format_serial);
<a name="l00655"></a>00655     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> red_select_serial = <a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a>;
<a name="l00656"></a>00656     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(red_select_serial);
<a name="l00657"></a>00657     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> green_select_serial = <a class="code" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a>;
<a name="l00658"></a>00658     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(green_select_serial);
<a name="l00659"></a>00659     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> blue_select_serial = <a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a>;
<a name="l00660"></a>00660     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(blue_select_serial);
<a name="l00661"></a>00661 
<a name="l00662"></a>00662     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a9c95baa754410596ad866c39aba696f4">frameReadStartTime</a>);
<a name="l00663"></a>00663     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#ae74c38d13416c4966fdd5c7db4678607">dmaStartAddr</a>);
<a name="l00664"></a>00664     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a>);
<a name="l00665"></a>00665     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">dmaMaxAddr</a>);
<a name="l00666"></a>00666     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a>);
<a name="l00667"></a>00667     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a2c55466de4118724cb375f5d1c7844e8">frameUnderrun</a>);
<a name="l00668"></a>00668 
<a name="l00669"></a>00669     <span class="keyword">const</span> <span class="keywordtype">size_t</span> buffer_size = <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>() * <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>() * <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>();
<a name="l00670"></a>00670     <a class="code" href="serialize_8hh.html#a9aa03522128bc19a3bc0294501226f8b">SERIALIZE_ARRAY</a>(<a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>, buffer_size);
<a name="l00671"></a>00671 
<a name="l00672"></a>00672     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a>);
<a name="l00673"></a>00673     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">pixelIndex</a>);
<a name="l00674"></a>00674     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#ad49d02ec4064ddf6d7055dcdc6128e20">doUpdateParams</a>);
<a name="l00675"></a>00675     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a>);
<a name="l00676"></a>00676     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a>);
<a name="l00677"></a>00677 
<a name="l00678"></a>00678     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> start_event_time = 0;
<a name="l00679"></a>00679     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> end_event_time = 0;
<a name="l00680"></a>00680     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> render_pixel_event_time = 0;
<a name="l00681"></a>00681     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> fill_pixel_buffer_event_time = 0;
<a name="l00682"></a>00682     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> int_event_time = 0;
<a name="l00683"></a>00683     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#ac7738466b6b60afeb71551c4f830d4fa">startFrameEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>())
<a name="l00684"></a>00684         start_event_time = <a class="code" href="classHDLcd.html#ac7738466b6b60afeb71551c4f830d4fa">startFrameEvent</a>.<a class="code" href="classEvent.html#a1883243a0117678c5695f2435dcabbdc" title="Get the time that the event is scheduled.">when</a>();
<a name="l00685"></a>00685     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#afec13618cf33587eef480a7e70dece76">endFrameEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>())
<a name="l00686"></a>00686         end_event_time = <a class="code" href="classHDLcd.html#afec13618cf33587eef480a7e70dece76">endFrameEvent</a>.<a class="code" href="classEvent.html#a1883243a0117678c5695f2435dcabbdc" title="Get the time that the event is scheduled.">when</a>();
<a name="l00687"></a>00687     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#af37803439ed3050f73510b0f8e0523fc">renderPixelEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>())
<a name="l00688"></a>00688         render_pixel_event_time = <a class="code" href="classHDLcd.html#af37803439ed3050f73510b0f8e0523fc">renderPixelEvent</a>.<a class="code" href="classEvent.html#a1883243a0117678c5695f2435dcabbdc" title="Get the time that the event is scheduled.">when</a>();
<a name="l00689"></a>00689     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">fillPixelBufferEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>())
<a name="l00690"></a>00690         fill_pixel_buffer_event_time = <a class="code" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">fillPixelBufferEvent</a>.<a class="code" href="classEvent.html#a1883243a0117678c5695f2435dcabbdc" title="Get the time that the event is scheduled.">when</a>();
<a name="l00691"></a>00691     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a5ae08b242f478669f0686028d558332a">intEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>())
<a name="l00692"></a>00692         int_event_time = <a class="code" href="classHDLcd.html#a5ae08b242f478669f0686028d558332a">intEvent</a>.<a class="code" href="classEvent.html#a1883243a0117678c5695f2435dcabbdc" title="Get the time that the event is scheduled.">when</a>();
<a name="l00693"></a>00693     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(start_event_time);
<a name="l00694"></a>00694     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(end_event_time);
<a name="l00695"></a>00695     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(render_pixel_event_time);
<a name="l00696"></a>00696     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(fill_pixel_buffer_event_time);
<a name="l00697"></a>00697     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(int_event_time);
<a name="l00698"></a>00698 
<a name="l00699"></a>00699     <a class="code" href="classstd_1_1vector.html">vector&lt;Tick&gt;</a> dma_done_event_tick(<a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a>);
<a name="l00700"></a>00700     <a class="code" href="classstd_1_1vector.html">vector&lt;size_t&gt;</a> dma_done_event_burst_len(<a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a>);
<a name="l00701"></a>00701     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a> = 0; <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a> &lt; <a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a>; ++<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>) {
<a name="l00702"></a>00702         dma_done_event_tick[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>] = <a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>].scheduled() ?
<a name="l00703"></a>00703             <a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>].when() : 0;
<a name="l00704"></a>00704         dma_done_event_burst_len[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>] = <a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>].scheduled() ?
<a name="l00705"></a>00705             <a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>].getTransactionSize() : 0;
<a name="l00706"></a>00706     }
<a name="l00707"></a>00707     <a class="code" href="serialize_8cc.html#a1dfe0fd5d936a18e30db1851b378bb41">arrayParamOut</a>(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>, <span class="stringliteral">&quot;dma_done_event_tick&quot;</span>, dma_done_event_tick);
<a name="l00708"></a>00708     <a class="code" href="serialize_8cc.html#a1dfe0fd5d936a18e30db1851b378bb41">arrayParamOut</a>(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>, <span class="stringliteral">&quot;dma_done_event_burst_length&quot;</span>, dma_done_event_burst_len);
<a name="l00709"></a>00709 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a24932aa8063bd34ee82a44b55990fc56"></a><!-- doxytag: member="HDLcd::startFrame" ref="a24932aa8063bd34ee82a44b55990fc56" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void startFrame </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Start reading the next frame </p>

<p><div class="fragment"><pre class="fragment"><a name="l00418"></a>00418 {
<a name="l00419"></a>00419     <span class="comment">// 0. Check that we are in the appropriate state</span>
<a name="l00420"></a>00420     assert(!<a class="code" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a>);
<a name="l00421"></a>00421     <span class="keywordflow">if</span> (!<a class="code" href="classHDLcd.html#a9c5f330aee81c99b318a53af189fbc98">command</a>.enable)
<a name="l00422"></a>00422         <span class="keywordflow">return</span>;
<a name="l00423"></a>00423     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;Frame read started\n&quot;</span>);
<a name="l00424"></a>00424     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#ad49d02ec4064ddf6d7055dcdc6128e20">doUpdateParams</a>) {
<a name="l00425"></a>00425         <a class="code" href="classHDLcd.html#a0eb6ee93145ff20e40a51ae7b8e4debf">updateVideoParams</a>();
<a name="l00426"></a>00426         <a class="code" href="classHDLcd.html#ad49d02ec4064ddf6d7055dcdc6128e20">doUpdateParams</a> = <span class="keyword">false</span>;
<a name="l00427"></a>00427     }
<a name="l00428"></a>00428     <a class="code" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a> = <span class="keyword">true</span>;
<a name="l00429"></a>00429     assert(<a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>);
<a name="l00430"></a>00430     assert(<a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a> == 0);
<a name="l00431"></a>00431     assert(<a class="code" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a> == 0);
<a name="l00432"></a>00432     assert(<a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a> == 0);
<a name="l00433"></a>00433     assert(<a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>.size() == <a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>.size());
<a name="l00434"></a>00434     assert(!<a class="code" href="classHDLcd.html#af37803439ed3050f73510b0f8e0523fc">renderPixelEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>());
<a name="l00435"></a>00435     <span class="comment">// currently only support positive line pitches equal to the line length</span>
<a name="l00436"></a>00436     assert(<a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>() * <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>() == <a class="code" href="classHDLcd.html#a4f20b06285d7a67e4182c190c282ab9b">fb_line_pitch</a>);
<a name="l00437"></a>00437 
<a name="l00438"></a>00438     <span class="comment">// 1. Start DMA&apos;ing the frame; subsequent transactions created as we go</span>
<a name="l00439"></a>00439     <a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a> = <a class="code" href="classHDLcd.html#ae74c38d13416c4966fdd5c7db4678607">dmaStartAddr</a> = <a class="code" href="classHDLcd.html#ad9fd5ba71c5b40acdb6fd9adc4fa408b">fb_base</a>;
<a name="l00440"></a>00440     <a class="code" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">dmaMaxAddr</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a><span class="keyword">&gt;</span>(<a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>() * <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>() * <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>()) +
<a name="l00441"></a>00441                     <a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a>;
<a name="l00442"></a>00442     <a class="code" href="classHDLcd.html#a9c95baa754410596ad866c39aba696f4">frameReadStartTime</a> = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>();
<a name="l00443"></a>00443     <a class="code" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">pixelIndex</a> = 0;
<a name="l00444"></a>00444     <a class="code" href="classHDLcd.html#a2c55466de4118724cb375f5d1c7844e8">frameUnderrun</a> = <span class="keyword">false</span>;
<a name="l00445"></a>00445     <a class="code" href="classHDLcd.html#a8b6bacaad93cdca1a4f0697be74311c1">fillPixelBuffer</a>();
<a name="l00446"></a>00446 
<a name="l00447"></a>00447     <span class="comment">// 2. Schedule first pixelclock read; subsequent reads generated as we go</span>
<a name="l00448"></a>00448     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> firstPixelReadTick = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() + <a class="code" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a> * (
<a name="l00449"></a>00449                                   <a class="code" href="classHDLcd.html#a7b7fa24d6d051f77c5554b18b422f016">PClksPerLine</a>() * (<a class="code" href="classHDLcd.html#ac1d1b9a4346f8ab7231a25ba0524ac99">v_sync</a>.val + 1 +
<a name="l00450"></a>00450                                                     <a class="code" href="classHDLcd.html#a47ccc8b58ab3dffa549476540cfff908">v_back_porch</a>.val + 1) +
<a name="l00451"></a>00451                                   <a class="code" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a>.val + 1 +
<a name="l00452"></a>00452                                   <a class="code" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a>.val + 1);
<a name="l00453"></a>00453     <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#af37803439ed3050f73510b0f8e0523fc">renderPixelEvent</a>, firstPixelReadTick);
<a name="l00454"></a>00454 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af22e5d6d660b97db37003ac61ac4ee49"></a><!-- doxytag: member="HDLcd::unserialize" ref="af22e5d6d660b97db37003ac61ac4ee49" args="(Checkpoint *cp, const std::string &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#af100c4e9feabf3cd918619c88c718387">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00713"></a>00713 {
<a name="l00714"></a>00714     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> version_serial, int_rawstat_serial, int_clear_serial,
<a name="l00715"></a>00715             int_mask_serial, int_status_serial, fb_line_count_serial,
<a name="l00716"></a>00716             bus_options_serial, v_sync_serial, v_back_porch_serial,
<a name="l00717"></a>00717             v_data_serial, v_front_porch_serial, h_sync_serial,
<a name="l00718"></a>00718             h_back_porch_serial, h_data_serial, h_front_porch_serial,
<a name="l00719"></a>00719             polarities_serial, command_serial, pixel_format_serial,
<a name="l00720"></a>00720             red_select_serial, green_select_serial, blue_select_serial;
<a name="l00721"></a>00721 
<a name="l00722"></a>00722     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;Unserializing ARM HDLCD\n&quot;</span>);
<a name="l00723"></a>00723 
<a name="l00724"></a>00724     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(version_serial);
<a name="l00725"></a>00725     <a class="code" href="namespaceslicc_1_1main.html#af9c8593b58583463efe6932e24c9d6e6">version</a> = version_serial;
<a name="l00726"></a>00726     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(int_rawstat_serial);
<a name="l00727"></a>00727     <a class="code" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">int_rawstat</a> = int_rawstat_serial;
<a name="l00728"></a>00728     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(int_clear_serial);
<a name="l00729"></a>00729     <a class="code" href="classHDLcd.html#ab96a978a299a4bf65839845c1c33f414">int_clear</a> = int_clear_serial;
<a name="l00730"></a>00730     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(int_mask_serial);
<a name="l00731"></a>00731     <a class="code" href="classHDLcd.html#a8343af5ba122012f4b5b3515d8675b7e">int_mask</a> = int_mask_serial;
<a name="l00732"></a>00732     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(int_status_serial);
<a name="l00733"></a>00733     <a class="code" href="classHDLcd.html#a814b02fed91486dd6000055cd1c43e1d">int_status</a> = int_status_serial;
<a name="l00734"></a>00734 
<a name="l00735"></a>00735     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#ad9fd5ba71c5b40acdb6fd9adc4fa408b">fb_base</a>);
<a name="l00736"></a>00736     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#ab09d20d3fb341f97725e4f27efbee0bd">fb_line_length</a>);
<a name="l00737"></a>00737 
<a name="l00738"></a>00738     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(fb_line_count_serial);
<a name="l00739"></a>00739     <a class="code" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a> = fb_line_count_serial;
<a name="l00740"></a>00740 
<a name="l00741"></a>00741     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a4f20b06285d7a67e4182c190c282ab9b">fb_line_pitch</a>);
<a name="l00742"></a>00742 
<a name="l00743"></a>00743     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(bus_options_serial);
<a name="l00744"></a>00744     <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a> = bus_options_serial;
<a name="l00745"></a>00745     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(v_sync_serial);
<a name="l00746"></a>00746     <a class="code" href="classHDLcd.html#ac1d1b9a4346f8ab7231a25ba0524ac99">v_sync</a> = v_sync_serial;
<a name="l00747"></a>00747     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(v_back_porch_serial);
<a name="l00748"></a>00748     <a class="code" href="classHDLcd.html#a47ccc8b58ab3dffa549476540cfff908">v_back_porch</a> = v_back_porch_serial;
<a name="l00749"></a>00749     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(v_data_serial);
<a name="l00750"></a>00750     <a class="code" href="classHDLcd.html#a5a46b3a3d299f421a250c4ca6ca7d17c">v_data</a> = v_data_serial;
<a name="l00751"></a>00751     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(v_front_porch_serial);
<a name="l00752"></a>00752     <a class="code" href="classHDLcd.html#ad663411b973f7cad0938ca048f683088">v_front_porch</a> = v_front_porch_serial;
<a name="l00753"></a>00753     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(h_sync_serial);
<a name="l00754"></a>00754     <a class="code" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a> = h_sync_serial;
<a name="l00755"></a>00755     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(h_back_porch_serial);
<a name="l00756"></a>00756     <a class="code" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a> = h_back_porch_serial;
<a name="l00757"></a>00757     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(h_data_serial);
<a name="l00758"></a>00758     <a class="code" href="classHDLcd.html#a3610505ba43835b9d3dd548e1848644e">h_data</a> = h_data_serial;
<a name="l00759"></a>00759     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(h_front_porch_serial);
<a name="l00760"></a>00760     <a class="code" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">h_front_porch</a> = h_front_porch_serial;
<a name="l00761"></a>00761     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(polarities_serial);
<a name="l00762"></a>00762     <a class="code" href="classHDLcd.html#a1b4fe6c75f98c50fad2eebc75f143dd2">polarities</a> = polarities_serial;
<a name="l00763"></a>00763     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(command_serial);
<a name="l00764"></a>00764     <a class="code" href="classHDLcd.html#a9c5f330aee81c99b318a53af189fbc98">command</a> = command_serial;
<a name="l00765"></a>00765     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(pixel_format_serial);
<a name="l00766"></a>00766     <a class="code" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a> = pixel_format_serial;
<a name="l00767"></a>00767     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(red_select_serial);
<a name="l00768"></a>00768     <a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a> = red_select_serial;
<a name="l00769"></a>00769     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(green_select_serial);
<a name="l00770"></a>00770     <a class="code" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a> = green_select_serial;
<a name="l00771"></a>00771     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(blue_select_serial);
<a name="l00772"></a>00772     <a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a> = blue_select_serial;
<a name="l00773"></a>00773 
<a name="l00774"></a>00774     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a9c95baa754410596ad866c39aba696f4">frameReadStartTime</a>);
<a name="l00775"></a>00775     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#ae74c38d13416c4966fdd5c7db4678607">dmaStartAddr</a>);
<a name="l00776"></a>00776     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a>);
<a name="l00777"></a>00777     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">dmaMaxAddr</a>);
<a name="l00778"></a>00778     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a>);
<a name="l00779"></a>00779     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a2c55466de4118724cb375f5d1c7844e8">frameUnderrun</a>);
<a name="l00780"></a>00780     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a>);
<a name="l00781"></a>00781 
<a name="l00782"></a>00782     <span class="keyword">const</span> <span class="keywordtype">size_t</span> buffer_size = <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>() * <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>() * <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>();
<a name="l00783"></a>00783     <a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a> = <span class="keyword">new</span> uint8_t[buffer_size];
<a name="l00784"></a>00784     <a class="code" href="serialize_8hh.html#a8de12bf68d0f92f7ab8585820607932e">UNSERIALIZE_ARRAY</a>(<a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>, buffer_size);
<a name="l00785"></a>00785 
<a name="l00786"></a>00786     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a>);
<a name="l00787"></a>00787     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">pixelIndex</a>);
<a name="l00788"></a>00788     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#ad49d02ec4064ddf6d7055dcdc6128e20">doUpdateParams</a>);
<a name="l00789"></a>00789     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a>);
<a name="l00790"></a>00790 
<a name="l00791"></a>00791     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> start_event_time = 0;
<a name="l00792"></a>00792     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> end_event_time = 0;
<a name="l00793"></a>00793     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> render_pixel_event_time = 0;
<a name="l00794"></a>00794     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> fill_pixel_buffer_event_time = 0;
<a name="l00795"></a>00795     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> int_event_time = 0;
<a name="l00796"></a>00796     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(start_event_time);
<a name="l00797"></a>00797     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(end_event_time);
<a name="l00798"></a>00798     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(render_pixel_event_time);
<a name="l00799"></a>00799     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(fill_pixel_buffer_event_time);
<a name="l00800"></a>00800     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(int_event_time);
<a name="l00801"></a>00801     <span class="keywordflow">if</span> (start_event_time)
<a name="l00802"></a>00802         <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#ac7738466b6b60afeb71551c4f830d4fa">startFrameEvent</a>, start_event_time);
<a name="l00803"></a>00803     <span class="keywordflow">if</span> (end_event_time)
<a name="l00804"></a>00804         <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#afec13618cf33587eef480a7e70dece76">endFrameEvent</a>, end_event_time);
<a name="l00805"></a>00805     <span class="keywordflow">if</span> (render_pixel_event_time)
<a name="l00806"></a>00806         <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#af37803439ed3050f73510b0f8e0523fc">renderPixelEvent</a>, render_pixel_event_time);
<a name="l00807"></a>00807     <span class="keywordflow">if</span> (fill_pixel_buffer_event_time)
<a name="l00808"></a>00808         <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">fillPixelBufferEvent</a>, fill_pixel_buffer_event_time);
<a name="l00809"></a>00809     <span class="keywordflow">if</span> (int_event_time)
<a name="l00810"></a>00810         <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#a5ae08b242f478669f0686028d558332a">intEvent</a>, int_event_time);
<a name="l00811"></a>00811 
<a name="l00812"></a>00812     <a class="code" href="classstd_1_1vector.html">vector&lt;Tick&gt;</a> dma_done_event_tick(<a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a>);
<a name="l00813"></a>00813     <a class="code" href="classstd_1_1vector.html">vector&lt;Tick&gt;</a> dma_done_event_burst_len(<a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a>);
<a name="l00814"></a>00814     <a class="code" href="serialize_8cc.html#a20ca99a4b0b51976ea5acc22dbf034b1">arrayParamIn</a>(cp, section, <span class="stringliteral">&quot;dma_done_event_tick&quot;</span>, dma_done_event_tick);
<a name="l00815"></a>00815     <a class="code" href="serialize_8cc.html#a20ca99a4b0b51976ea5acc22dbf034b1">arrayParamIn</a>(cp, section, <span class="stringliteral">&quot;dma_done_event_burst_length&quot;</span>, dma_done_event_burst_len);
<a name="l00816"></a>00816     <a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>.clear();
<a name="l00817"></a>00817     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a> = 0; <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a> &lt; <a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a>; ++<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>) {
<a name="l00818"></a>00818         <span class="keywordflow">if</span> (dma_done_event_tick[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>]) {
<a name="l00819"></a>00819             <a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>[x].setTransactionSize(dma_done_event_burst_len[x]);
<a name="l00820"></a>00820             <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>[x], dma_done_event_tick[x]);
<a name="l00821"></a>00821         } <span class="keywordflow">else</span>
<a name="l00822"></a>00822             <a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>.push_back(&amp;<a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>[x]);
<a name="l00823"></a>00823     }
<a name="l00824"></a>00824     assert(MAX_OUTSTANDING_DMA_REQ_CAPACITY - <a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>.size() == <a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a>);
<a name="l00825"></a>00825 
<a name="l00826"></a>00826     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a>) {
<a name="l00827"></a>00827         <a class="code" href="classHDLcd.html#a0eb6ee93145ff20e40a51ae7b8e4debf">updateVideoParams</a>(<span class="keyword">true</span>);
<a name="l00828"></a>00828         <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>)
<a name="l00829"></a>00829             <a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>-&gt;<a class="code" href="classVncInput.html#ad7eac728ea55298c7691e7d1c165719b">setDirty</a>();
<a name="l00830"></a>00830     }
<a name="l00831"></a>00831 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0eb6ee93145ff20e40a51ae7b8e4debf"></a><!-- doxytag: member="HDLcd::updateVideoParams" ref="a0eb6ee93145ff20e40a51ae7b8e4debf" args="(bool unserializing)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateVideoParams </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>unserializing</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send updated parameters to the vnc server </p>

<p><div class="fragment"><pre class="fragment"><a name="l00319"></a>00319 {
<a name="l00320"></a>00320     <span class="keyword">const</span> uint16_t bpp = <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>() &lt;&lt; 3;
<a name="l00321"></a>00321     <span class="keyword">const</span> <span class="keywordtype">size_t</span> buffer_size = <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>() * <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>() * <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>();
<a name="l00322"></a>00322 
<a name="l00323"></a>00323     <span class="comment">// updating these parameters while LCD is enabled is not supported</span>
<a name="l00324"></a>00324     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a> &amp;&amp; !unserializing)
<a name="l00325"></a>00325         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Attempting to change some HDLCD parameters while the controller&quot;</span>
<a name="l00326"></a>00326                 <span class="stringliteral">&quot; is active is not allowed&quot;</span>);
<a name="l00327"></a>00327 
<a name="l00328"></a>00328     <span class="comment">// resize the virtualDisplayBuffer unless we are unserializing - it may</span>
<a name="l00329"></a>00329     <span class="comment">//   have changed size</span>
<a name="l00330"></a>00330     <span class="comment">// there must be no outstanding DMA transactions for this to work</span>
<a name="l00331"></a>00331     <span class="keywordflow">if</span> (!unserializing) {
<a name="l00332"></a>00332         assert(<a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a> == 0);
<a name="l00333"></a>00333         <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>)
<a name="l00334"></a>00334             <span class="keyword">delete</span> [] <a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>;
<a name="l00335"></a>00335         <a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a> = <span class="keyword">new</span> uint8_t[buffer_size];
<a name="l00336"></a>00336         memset(<a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>, 0, buffer_size);
<a name="l00337"></a>00337     }
<a name="l00338"></a>00338 
<a name="l00339"></a>00339     assert(<a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>);
<a name="l00340"></a>00340     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>)
<a name="l00341"></a>00341         <a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>-&gt;<a class="code" href="classVncInput.html#a54024497bf1e639ca5a4534d43329c0d">setFramebufferAddr</a>(<a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>);
<a name="l00342"></a>00342 
<a name="l00343"></a>00343     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a>)
<a name="l00344"></a>00344         <span class="keyword">delete</span> <a class="code" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a>;
<a name="l00345"></a>00345 
<a name="l00346"></a>00346     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;bpp = %d\n&quot;</span>, bpp);
<a name="l00347"></a>00347     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;display size = %d x %d\n&quot;</span>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(), <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>());
<a name="l00348"></a>00348 <span class="preprocessor">#if TRACING_ON</span>
<a name="l00349"></a>00349 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> totalLinesPerFrame = <a class="code" href="classHDLcd.html#a47ccc8b58ab3dffa549476540cfff908">v_back_porch</a>.val + 1 +
<a name="l00350"></a>00350                                       <a class="code" href="classHDLcd.html#a5a46b3a3d299f421a250c4ca6ca7d17c">v_data</a>.val + 1 +
<a name="l00351"></a>00351                                       <a class="code" href="classHDLcd.html#ad663411b973f7cad0938ca048f683088">v_front_porch</a>.val + 1 +
<a name="l00352"></a>00352                                       <a class="code" href="classHDLcd.html#ac1d1b9a4346f8ab7231a25ba0524ac99">v_sync</a>.val + 1;
<a name="l00353"></a>00353     <span class="keyword">const</span> <span class="keywordtype">double</span> fps = (double)<a class="code" href="namespaceSimClock.html#af196276bdf8e65836e88981a33d57943" title="The simulated frequency of curTick(). (In ticks per second).">SimClock::Frequency</a> /
<a name="l00354"></a>00354             (<span class="keywordtype">double</span>)(<a class="code" href="classHDLcd.html#a7b7fa24d6d051f77c5554b18b422f016">PClksPerLine</a>() * totalLinesPerFrame * <a class="code" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a>);
<a name="l00355"></a>00355 <span class="preprocessor">#endif</span>
<a name="l00356"></a>00356 <span class="preprocessor"></span>    <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;simulated refresh rate ~ %.1ffps generating ~ %.1fMB/s &quot;</span>
<a name="l00357"></a>00357             <span class="stringliteral">&quot;traffic ([%.1fMHz, T=%d sim clocks] pclk, %d bpp =&gt; %.1fMB/s peak requirement)\n&quot;</span>,
<a name="l00358"></a>00358             fps,
<a name="l00359"></a>00359             fps * buffer_size / 1024 / 1024,
<a name="l00360"></a>00360             (<span class="keywordtype">double</span>)<a class="code" href="namespaceSimClock.html#af196276bdf8e65836e88981a33d57943" title="The simulated frequency of curTick(). (In ticks per second).">SimClock::Frequency</a> / <a class="code" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a> / 1000000.0,
<a name="l00361"></a>00361             <a class="code" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a>,
<a name="l00362"></a>00362             bpp,
<a name="l00363"></a>00363             (<span class="keywordtype">double</span>)(<a class="code" href="namespaceSimClock.html#af196276bdf8e65836e88981a33d57943" title="The simulated frequency of curTick(). (In ticks per second).">SimClock::Frequency</a> / <a class="code" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a> * (bpp / 8)) / 1024 / 1024);
<a name="l00364"></a>00364 
<a name="l00365"></a>00365     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a>.big_endian)
<a name="l00366"></a>00366         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Big Endian pixel format not implemented by HDLcd controller&quot;</span>);
<a name="l00367"></a>00367 
<a name="l00368"></a>00368     <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>) {
<a name="l00369"></a>00369         <span class="keywordflow">if</span> ((bpp == 24) &amp;&amp;
<a name="l00370"></a>00370                 (<a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a>.size == 8) &amp;&amp;
<a name="l00371"></a>00371                 (<a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a>.size == 8) &amp;&amp;
<a name="l00372"></a>00372                 (<a class="code" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a>.size == 8) &amp;&amp;
<a name="l00373"></a>00373                 (<a class="code" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a>.offset == 8)) {
<a name="l00374"></a>00374             <span class="keywordflow">if</span> ((<a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a>.offset == 0) &amp;&amp;
<a name="l00375"></a>00375                     (<a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a>.offset == 16)) {
<a name="l00376"></a>00376                 <a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>-&gt;<a class="code" href="classVncInput.html#a9abef13e07371ccf4a89883649f1bcc5">setFrameBufferParams</a>(<a class="code" href="classVideoConvert.html#a46c8a310cf4c094f8c80e1cb8dc1f911a02835285ca4c01833175d4821e5f596d">VideoConvert::rgb8888</a>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(),
<a name="l00377"></a>00377                         <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>());
<a name="l00378"></a>00378                 <a class="code" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a> = <span class="keyword">new</span> <a class="code" href="classBitmap.html">Bitmap</a>(<a class="code" href="classVideoConvert.html#a46c8a310cf4c094f8c80e1cb8dc1f911a02835285ca4c01833175d4821e5f596d">VideoConvert::rgb8888</a>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(), <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>(),
<a name="l00379"></a>00379                         <a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>);
<a name="l00380"></a>00380                 <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;color mode:  rgb888\n&quot;</span>);
<a name="l00381"></a>00381             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a>.offset == 0) &amp;&amp;
<a name="l00382"></a>00382                     (<a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a>.offset == 16)) {
<a name="l00383"></a>00383                 <a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>-&gt;<a class="code" href="classVncInput.html#a9abef13e07371ccf4a89883649f1bcc5">setFrameBufferParams</a>(<a class="code" href="classVideoConvert.html#a46c8a310cf4c094f8c80e1cb8dc1f911a9d27e4de1adadb32a97d8d5532ddf99a">VideoConvert::bgr8888</a>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(),
<a name="l00384"></a>00384                         <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>());
<a name="l00385"></a>00385                 <a class="code" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a> = <span class="keyword">new</span> <a class="code" href="classBitmap.html">Bitmap</a>(<a class="code" href="classVideoConvert.html#a46c8a310cf4c094f8c80e1cb8dc1f911a9d27e4de1adadb32a97d8d5532ddf99a">VideoConvert::bgr8888</a>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(), <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>(),
<a name="l00386"></a>00386                         <a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>);
<a name="l00387"></a>00387                 <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;color mode:  bgr888\n&quot;</span>);
<a name="l00388"></a>00388             }
<a name="l00389"></a>00389         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((bpp == 16) &amp;&amp;
<a name="l00390"></a>00390                 (<a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a>.size == 5) &amp;&amp;
<a name="l00391"></a>00391                 (<a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a>.size == 5) &amp;&amp;
<a name="l00392"></a>00392                 (<a class="code" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a>.size == 6) &amp;&amp;
<a name="l00393"></a>00393                 (<a class="code" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a>.offset == 5)) {
<a name="l00394"></a>00394             <span class="keywordflow">if</span> ((<a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a>.offset == 0) &amp;&amp;
<a name="l00395"></a>00395                     (<a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a>.offset == 11)) {
<a name="l00396"></a>00396                 <a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>-&gt;<a class="code" href="classVncInput.html#a9abef13e07371ccf4a89883649f1bcc5">setFrameBufferParams</a>(<a class="code" href="classVideoConvert.html#a46c8a310cf4c094f8c80e1cb8dc1f911ae352c9d87052bb500ec805c2fdfdb6ab">VideoConvert::rgb565</a>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(),
<a name="l00397"></a>00397                         <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>());
<a name="l00398"></a>00398                 <a class="code" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a> = <span class="keyword">new</span> <a class="code" href="classBitmap.html">Bitmap</a>(<a class="code" href="classVideoConvert.html#a46c8a310cf4c094f8c80e1cb8dc1f911ae352c9d87052bb500ec805c2fdfdb6ab">VideoConvert::rgb565</a>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(), <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>(),
<a name="l00399"></a>00399                         <a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>);
<a name="l00400"></a>00400                 <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;color mode:  rgb565\n&quot;</span>);
<a name="l00401"></a>00401             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a>.offset == 0) &amp;&amp;
<a name="l00402"></a>00402                     (<a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a>.offset == 11)) {
<a name="l00403"></a>00403                 <a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>-&gt;<a class="code" href="classVncInput.html#a9abef13e07371ccf4a89883649f1bcc5">setFrameBufferParams</a>(<a class="code" href="classVideoConvert.html#a46c8a310cf4c094f8c80e1cb8dc1f911abf3a8ec336d9e06b07cb231a3991441c">VideoConvert::bgr565</a>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(),
<a name="l00404"></a>00404                         <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>());
<a name="l00405"></a>00405                 <a class="code" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a> = <span class="keyword">new</span> <a class="code" href="classBitmap.html">Bitmap</a>(<a class="code" href="classVideoConvert.html#a46c8a310cf4c094f8c80e1cb8dc1f911abf3a8ec336d9e06b07cb231a3991441c">VideoConvert::bgr565</a>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(), <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>(),
<a name="l00406"></a>00406                         <a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>);
<a name="l00407"></a>00407                 <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;color mode:  bgr565\n&quot;</span>);
<a name="l00408"></a>00408             }
<a name="l00409"></a>00409         } <span class="keywordflow">else</span> {
<a name="l00410"></a>00410             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;color mode:  undefined\n&quot;</span>);
<a name="l00411"></a>00411             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Unimplemented video mode\n&quot;</span>);
<a name="l00412"></a>00412         }
<a name="l00413"></a>00413     }
<a name="l00414"></a>00414 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a20646dd69e82674924c6e5eb1458eefa"></a><!-- doxytag: member="HDLcd::width" ref="a20646dd69e82674924c6e5eb1458eefa" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t width </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets frame buffer width.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>frame buffer width (pixels per line) </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00392"></a>00392                                 {
<a name="l00393"></a>00393         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#ab09d20d3fb341f97725e4f27efbee0bd">fb_line_length</a> / <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>();
<a name="l00394"></a>00394     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4cefab464e72b5dd42c003a0a4341802"></a><!-- doxytag: member="HDLcd::write" ref="a4cefab464e72b5dd42c003a0a4341802" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pure virtual function that the device must implement. Called when a write command is recieved by the port. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html">Packet</a> describing this request </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of ticks it took to complete </dd></dl>

<p><a class="el" href="classPioDevice.html#afe8371668d023bb2516b286e5e399b6f">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00195"></a>00195 {
<a name="l00196"></a>00196     assert(pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() &gt;= <a class="code" href="classAmbaDmaDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a> &amp;&amp;
<a name="l00197"></a>00197            pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() &lt; <a class="code" href="classAmbaDmaDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a> + <a class="code" href="classAmbaDmaDevice.html#a390529fe683187c290621e1822e0d5d1">pioSize</a> &amp;&amp;
<a name="l00198"></a>00198            pkt-&gt;<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>() == 4);
<a name="l00199"></a>00199 
<a name="l00200"></a>00200     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> data = pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();
<a name="l00201"></a>00201     <span class="keyword">const</span> <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> daddr = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() - <a class="code" href="classAmbaDmaDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a>;
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;write register BASE+%0x04x &lt;= 0x%08x\n&quot;</span>, daddr,
<a name="l00204"></a>00204             pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;());
<a name="l00205"></a>00205 
<a name="l00206"></a>00206     <span class="keywordflow">switch</span> (daddr) {
<a name="l00207"></a>00207       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaaecf3eedf8cb9291bcba326089c9508a">Version</a>:
<a name="l00208"></a>00208         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;HDLCD VERSION register is read-Only\n&quot;</span>);
<a name="l00209"></a>00209         <span class="keywordflow">break</span>;
<a name="l00210"></a>00210       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1be27d857bb87a9ae6813b06cdcbab49">Int_RawStat</a>:
<a name="l00211"></a>00211         <a class="code" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">int_rawstat</a> = data;
<a name="l00212"></a>00212         <span class="keywordflow">break</span>;
<a name="l00213"></a>00213       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafcaf90f877eec92e9d06f667da4ef93a">Int_Clear</a>:
<a name="l00214"></a>00214         <a class="code" href="classHDLcd.html#ab96a978a299a4bf65839845c1c33f414">int_clear</a> = data;
<a name="l00215"></a>00215         <span class="keywordflow">break</span>;
<a name="l00216"></a>00216       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa41681a9749cd3e11f4e1a1981dda1c7f">Int_Mask</a>:
<a name="l00217"></a>00217         <a class="code" href="classHDLcd.html#a8343af5ba122012f4b5b3515d8675b7e">int_mask</a> = data;
<a name="l00218"></a>00218         <span class="keywordflow">break</span>;
<a name="l00219"></a>00219       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa0d141ad1f9a40ed4a7f80aed471dde27">Int_Status</a>:
<a name="l00220"></a>00220         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;HDLCD INT_STATUS register is read-Only\n&quot;</span>);
<a name="l00221"></a>00221         <span class="keywordflow">break</span>;
<a name="l00222"></a>00222       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aae73e315a15940c9ec92665d532b0ec3f">Fb_Base</a>:
<a name="l00223"></a>00223         <a class="code" href="classHDLcd.html#ad9fd5ba71c5b40acdb6fd9adc4fa408b">fb_base</a> = data;
<a name="l00224"></a>00224         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;HDLCD Frame Buffer located at addr 0x%08x\n&quot;</span>, <a class="code" href="classHDLcd.html#ad9fd5ba71c5b40acdb6fd9adc4fa408b">fb_base</a>);
<a name="l00225"></a>00225         <span class="keywordflow">break</span>;
<a name="l00226"></a>00226       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa4bb8d9aadacffc879da4c56a479deb50">Fb_Line_Length</a>:
<a name="l00227"></a>00227         <a class="code" href="classHDLcd.html#ab09d20d3fb341f97725e4f27efbee0bd">fb_line_length</a> = data;
<a name="l00228"></a>00228         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;HDLCD res = %d x %d\n&quot;</span>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(), <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>());
<a name="l00229"></a>00229         <span class="keywordflow">break</span>;
<a name="l00230"></a>00230       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aab622dfd78db0239caba70c2465460563">Fb_Line_Count</a>:
<a name="l00231"></a>00231         <a class="code" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a> = data;
<a name="l00232"></a>00232         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;HDLCD res = %d x %d\n&quot;</span>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(), <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>());
<a name="l00233"></a>00233         <span class="keywordflow">break</span>;
<a name="l00234"></a>00234       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1a1fed2414dcc0ebf810a266630dc615">Fb_Line_Pitch</a>:
<a name="l00235"></a>00235         <a class="code" href="classHDLcd.html#a4f20b06285d7a67e4182c190c282ab9b">fb_line_pitch</a> = data;
<a name="l00236"></a>00236         <span class="keywordflow">break</span>;
<a name="l00237"></a>00237       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8ecde41db7d43d0f947af7a4990cadd8">Bus_Options</a>: {
<a name="l00238"></a>00238         BusOptsReg old_bus_options;
<a name="l00239"></a>00239         old_bus_options = <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>;
<a name="l00240"></a>00240         <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a> = data;
<a name="l00241"></a>00241         <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>.max_outstanding != old_bus_options.max_outstanding)
<a name="l00242"></a>00242             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>,
<a name="l00243"></a>00243                 <span class="stringliteral">&quot;Changing HDLcd outstanding dma transactions from %d to %d\n&quot;</span>,
<a name="l00244"></a>00244                 old_bus_options.max_outstanding, <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>.max_outstanding);
<a name="l00245"></a>00245         <span class="keywordflow">if</span> (<a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>.burst_len != old_bus_options.burst_len)
<a name="l00246"></a>00246             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>,
<a name="l00247"></a>00247                 <span class="stringliteral">&quot;Changing HDLcd dma burst length from %d bytes to %d bytes\n&quot;</span>,
<a name="l00248"></a>00248                 old_bus_options.burst_len, <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>.burst_len); }
<a name="l00249"></a>00249         <span class="keywordflow">break</span>;
<a name="l00250"></a>00250       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa388f28a3d8b85e71937474d347f4e24d">V_Sync</a>:
<a name="l00251"></a>00251         <a class="code" href="classHDLcd.html#ac1d1b9a4346f8ab7231a25ba0524ac99">v_sync</a> = data;
<a name="l00252"></a>00252         <span class="keywordflow">break</span>;
<a name="l00253"></a>00253       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaf788d81eab9ff4992ff5550983392df7">V_Back_Porch</a>:
<a name="l00254"></a>00254         <a class="code" href="classHDLcd.html#a47ccc8b58ab3dffa549476540cfff908">v_back_porch</a> = data;
<a name="l00255"></a>00255         <span class="keywordflow">break</span>;
<a name="l00256"></a>00256       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa068573e257c781b4e4eb0af5fb26178e">V_Data</a>:
<a name="l00257"></a>00257         <a class="code" href="classHDLcd.html#a5a46b3a3d299f421a250c4ca6ca7d17c">v_data</a> = data;
<a name="l00258"></a>00258         <span class="keywordflow">break</span>;
<a name="l00259"></a>00259       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa69c77a38764fbc5b5567f13b5eb4267b">V_Front_Porch</a>:
<a name="l00260"></a>00260         <a class="code" href="classHDLcd.html#ad663411b973f7cad0938ca048f683088">v_front_porch</a> = data;
<a name="l00261"></a>00261         <span class="keywordflow">break</span>;
<a name="l00262"></a>00262       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafad2bb41d868c428adc9f68b275fb34a">H_Sync</a>:
<a name="l00263"></a>00263         <a class="code" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a> = data;
<a name="l00264"></a>00264         <span class="keywordflow">break</span>;
<a name="l00265"></a>00265       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa22ed0ca08a37a1c7a4a6266a3e90363f">H_Back_Porch</a>:
<a name="l00266"></a>00266         <a class="code" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a> = data;
<a name="l00267"></a>00267         <span class="keywordflow">break</span>;
<a name="l00268"></a>00268       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafdec0d05c0c1116a7462d36544894da5">H_Data</a>:
<a name="l00269"></a>00269         <a class="code" href="classHDLcd.html#a3610505ba43835b9d3dd548e1848644e">h_data</a> = data;
<a name="l00270"></a>00270         <span class="keywordflow">break</span>;
<a name="l00271"></a>00271       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8139349b5f0b13a4b21053d61c043f13">H_Front_Porch</a>:
<a name="l00272"></a>00272         <a class="code" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">h_front_porch</a> = data;
<a name="l00273"></a>00273         <span class="keywordflow">break</span>;
<a name="l00274"></a>00274       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa080ddbafa8544f5e1f9838d62cea53b5">Polarities</a>:
<a name="l00275"></a>00275         <a class="code" href="classHDLcd.html#a1b4fe6c75f98c50fad2eebc75f143dd2">polarities</a> = data;
<a name="l00276"></a>00276         <span class="keywordflow">break</span>;
<a name="l00277"></a>00277       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafe3054aee03156c2553151700236dc9c">Command</a>: {
<a name="l00278"></a>00278         <a class="code" href="structCommandReg.html">CommandReg</a> new_command;
<a name="l00279"></a>00279         new_command = data;
<a name="l00280"></a>00280         <span class="keywordflow">if</span> (new_command.enable != <a class="code" href="classHDLcd.html#a9c5f330aee81c99b318a53af189fbc98">command</a>.enable) {
<a name="l00281"></a>00281             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;HDLCD switched %s\n&quot;</span>,
<a name="l00282"></a>00282                     new_command.enable==0 ? <span class="stringliteral">&quot;off&quot;</span> : <span class="stringliteral">&quot;on&quot;</span>);
<a name="l00283"></a>00283             <span class="keywordflow">if</span> (new_command.enable) {
<a name="l00284"></a>00284                 <a class="code" href="classHDLcd.html#ad49d02ec4064ddf6d7055dcdc6128e20">doUpdateParams</a> = <span class="keyword">true</span>;
<a name="l00285"></a>00285                 <span class="keywordflow">if</span> (!<a class="code" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a>) {
<a name="l00286"></a>00286                     <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classHDLcd.html#ac7738466b6b60afeb71551c4f830d4fa">startFrameEvent</a>, <a class="code" href="classClockedObject.html#a773956693f216cafb7d4cad92ad582e5">clockEdge</a>());
<a name="l00287"></a>00287                 }
<a name="l00288"></a>00288             }
<a name="l00289"></a>00289         }
<a name="l00290"></a>00290         <a class="code" href="classHDLcd.html#a9c5f330aee81c99b318a53af189fbc98">command</a> = new_command; }
<a name="l00291"></a>00291         <span class="keywordflow">break</span>;
<a name="l00292"></a>00292       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aad92abc727f017e41476afd828019fd6f">Pixel_Format</a>:
<a name="l00293"></a>00293         <a class="code" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a> = data;
<a name="l00294"></a>00294         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;HDLCD res = %d x %d\n&quot;</span>, <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>(), <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>());
<a name="l00295"></a>00295         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;HDLCD bytes per pixel = %d\n&quot;</span>, <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>());
<a name="l00296"></a>00296         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classHDLcd.html">HDLcd</a>, <span class="stringliteral">&quot;HDLCD endianness = %s\n&quot;</span>,
<a name="l00297"></a>00297                 <a class="code" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a>.big_endian ? <span class="stringliteral">&quot;big&quot;</span> : <span class="stringliteral">&quot;little&quot;</span>);
<a name="l00298"></a>00298         <span class="keywordflow">break</span>;
<a name="l00299"></a>00299       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa3c14c44e84578139168434c48cff7ae4">Red_Select</a>:
<a name="l00300"></a>00300         <a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a> = data;
<a name="l00301"></a>00301         <span class="keywordflow">break</span>;
<a name="l00302"></a>00302       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa35c8bdcdce89f753d2e287a46bd09528">Green_Select</a>:
<a name="l00303"></a>00303         <a class="code" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a> = data;
<a name="l00304"></a>00304         <span class="keywordflow">break</span>;
<a name="l00305"></a>00305       <span class="keywordflow">case</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa7866c291b06c767b524c00d58fd7e0da">Blue_Select</a>:
<a name="l00306"></a>00306         <a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a> = data;
<a name="l00307"></a>00307         <span class="keywordflow">break</span>;
<a name="l00308"></a>00308       <span class="keywordflow">default</span>:
<a name="l00309"></a>00309         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Tried to write HDLCD register that doesn&apos;t exist\n&quot;</span>, daddr);
<a name="l00310"></a>00310         <span class="keywordflow">break</span>;
<a name="l00311"></a>00311     }
<a name="l00312"></a>00312 
<a name="l00313"></a>00313     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00314"></a>00314     <span class="keywordflow">return</span> <a class="code" href="classAmbaDmaDevice.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>;
<a name="l00315"></a>00315 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="ae438dff5177bb7a98567cd94061edab4"></a><!-- doxytag: member="HDLcd::AMBA_ID" ref="ae438dff5177bb7a98567cd94061edab4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint64_t <a class="el" href="classHDLcd.html#ae438dff5177bb7a98567cd94061edab4">AMBA_ID</a> = ULL(0xb105f00d00141000)<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fake AMBA ID -- unused </p>

</div>
</div>
<a class="anchor" id="a707d5982e8851aee47eb1250db1c4c3b"></a><!-- doxytag: member="HDLcd::AXI_PORT_WIDTH" ref="a707d5982e8851aee47eb1250db1c4c3b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t <a class="el" href="classHDLcd.html#a707d5982e8851aee47eb1250db1c4c3b">AXI_PORT_WIDTH</a> = 8<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>AXI port width in bytes </p>

</div>
</div>
<a class="anchor" id="adba5c1ae8473b445f9be0125676b2852"></a><!-- doxytag: member="HDLcd::big_endian" ref="adba5c1ae8473b445f9be0125676b2852" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;31&gt; <a class="el" href="classHDLcd.html#adba5c1ae8473b445f9be0125676b2852">big_endian</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af7a5fa704ed84e7d98a264c3ddd8b794"></a><!-- doxytag: member="HDLcd::blue_select" ref="af7a5fa704ed84e7d98a264c3ddd8b794" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ColorSelectReg <a class="el" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Blue color select register </p>

</div>
</div>
<a class="anchor" id="ada429bf89af3356a338f9532d68623cc"></a><!-- doxytag: member="HDLcd::bmp" ref="ada429bf89af3356a338f9532d68623cc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBitmap.html">Bitmap</a>* <a class="el" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Helper to write out bitmaps </p>

</div>
</div>
<a class="anchor" id="a74212c0c2707c7e25bad89d6ac3004c9"></a><!-- doxytag: member="HDLcd::burst_len" ref="a74212c0c2707c7e25bad89d6ac3004c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHDLcd.html#a74212c0c2707c7e25bad89d6ac3004c9">burst_len</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad92f2664318eb7510c5ef4ed537fff93"></a><!-- doxytag: member="HDLcd::bus_error" ref="ad92f2664318eb7510c5ef4ed537fff93" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;1&gt; <a class="el" href="classHDLcd.html#ad92f2664318eb7510c5ef4ed537fff93">bus_error</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afdc67b9cdc0c178e0855cbe989449577"></a><!-- doxytag: member="HDLcd::bus_options" ref="afdc67b9cdc0c178e0855cbe989449577" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BusOptsReg <a class="el" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="namespaceBus.html">Bus</a> options register </p>

</div>
</div>
<a class="anchor" id="aaf19ce46531fc85edba07a0a76b30a5f"></a><!-- doxytag: member="HDLcd::BUS_OPTIONS_RESETV" ref="aaf19ce46531fc85edba07a0a76b30a5f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t <a class="el" href="classHDLcd.html#aaf19ce46531fc85edba07a0a76b30a5f">BUS_OPTIONS_RESETV</a> = 0x408<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset value for Bus_Options register </p>

</div>
</div>
<a class="anchor" id="a6d40f0125f53451c936adc705f608a2b"></a><!-- doxytag: member="HDLcd::bytes_per_pixel" ref="a6d40f0125f53451c936adc705f608a2b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;4,3&gt; <a class="el" href="classHDLcd.html#a6d40f0125f53451c936adc705f608a2b">bytes_per_pixel</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9c5f330aee81c99b318a53af189fbc98"></a><!-- doxytag: member="HDLcd::command" ref="a9c5f330aee81c99b318a53af189fbc98" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCommandReg.html">CommandReg</a> <a class="el" href="classHDLcd.html#a9c5f330aee81c99b318a53af189fbc98">command</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Command register </p>

</div>
</div>
<a class="anchor" id="a82bbce2c586afda0822949bce915be7c"></a><!-- doxytag: member="HDLcd::data_polarity" ref="a82bbce2c586afda0822949bce915be7c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;3&gt; <a class="el" href="classHDLcd.html#a82bbce2c586afda0822949bce915be7c">data_polarity</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e88cca6e78a84d49d34de5407d3d048"></a><!-- doxytag: member="HDLcd::dataen_polarity" ref="a2e88cca6e78a84d49d34de5407d3d048" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;2&gt; <a class="el" href="classHDLcd.html#a2e88cca6e78a84d49d34de5407d3d048">dataen_polarity</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8ff8f961eef85324f222954cc8ba53ee"></a><!-- doxytag: member="HDLcd::default_color" ref="a8ff8f961eef85324f222954cc8ba53ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;23,16&gt; <a class="el" href="classHDLcd.html#a8ff8f961eef85324f222954cc8ba53ee">default_color</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afea33d6bd5ce3008fa372e08f27ca95e"></a><!-- doxytag: member="HDLcd::dmaBytesInFlight" ref="afea33d6bd5ce3008fa372e08f27ca95e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of bytes in flight from DMA that have not reached the pixel buffer yet </p>

</div>
</div>
<a class="anchor" id="afff19aa29c60ac58e1bfa8689c58b923"></a><!-- doxytag: member="HDLcd::dmaCurAddr" ref="afff19aa29c60ac58e1bfa8689c58b923" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Next address the dma should read from </p>

</div>
</div>
<a class="anchor" id="aa50a0179a2d530a0a45d74b014c425fe"></a><!-- doxytag: member="HDLcd::dmaDoneEventAll" ref="aa50a0179a2d530a0a45d74b014c425fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classHDLcd_1_1DmaDoneEvent.html">DmaDoneEvent</a>&gt; <a class="el" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>All pre-allocated DMA done events</p>
<p>The HDLCD model preallocates <a class="el" href="classHDLcd.html#ac032891f1184bb5cfedef5c07217b0e9">maxOutstandingDma()</a> number of DmaDoneEvents to avoid having to heap allocate every single event when it is needed. In order to keep track of which events are in flight and which are ready to be used, we use two different vectors. dmaDoneEventAll contains <em>all</em> DmaDoneEvents that the object may use, while dmaDoneEventFree contains a list of currently <em>unused</em> events. When an event needs to be scheduled, the last element of the dmaDoneEventFree is used and removed from the list. When an event fires, it is added to the end of the dmaEventFreeList. dmaDoneEventAll is never used except for in initialization and serialization. </p>

</div>
</div>
<a class="anchor" id="ada9c1832b166debd201f034b2fcb4ab2"></a><!-- doxytag: member="HDLcd::dmaDoneEventFree" ref="ada9c1832b166debd201f034b2fcb4ab2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classHDLcd_1_1DmaDoneEvent.html">DmaDoneEvent</a> *&gt; <a class="el" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unused DMA done events that are ready to be scheduled </p>

</div>
</div>
<a class="anchor" id="a49db4d0a53163e636aa5a9e23b93b50c"></a><!-- doxytag: member="HDLcd::dmaMaxAddr" ref="a49db4d0a53163e636aa5a9e23b93b50c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">dmaMaxAddr</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>One byte past the address of the last byte the dma should read from </p>

</div>
</div>
<a class="anchor" id="a4f93e5868d1229f860a8ca2bfeaa5a12"></a><!-- doxytag: member="HDLcd::dmaPendingNum" ref="a4f93e5868d1229f860a8ca2bfeaa5a12" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of pending dma reads </p>

</div>
</div>
<a class="anchor" id="ae74c38d13416c4966fdd5c7db4678607"></a><!-- doxytag: member="HDLcd::dmaStartAddr" ref="ae74c38d13416c4966fdd5c7db4678607" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classHDLcd.html#ae74c38d13416c4966fdd5c7db4678607">dmaStartAddr</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Starting address for the current frame </p>

</div>
</div>
<a class="anchor" id="ad49d02ec4064ddf6d7055dcdc6128e20"></a><!-- doxytag: member="HDLcd::doUpdateParams" ref="ad49d02ec4064ddf6d7055dcdc6128e20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classHDLcd.html#ad49d02ec4064ddf6d7055dcdc6128e20">doUpdateParams</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Flag indicating whether video parameters need updating </p>

</div>
</div>
<a class="anchor" id="abf8ed1a0152ea70d689ffce800cd32fd"></a><!-- doxytag: member="HDLcd::enableCapture" ref="abf8ed1a0152ea70d689ffce800cd32fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classHDLcd.html#abf8ed1a0152ea70d689ffce800cd32fd">enableCapture</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afec13618cf33587eef480a7e70dece76"></a><!-- doxytag: member="HDLcd::endFrameEvent" ref="afec13618cf33587eef480a7e70dece76" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="el" href="classHDLcd.html">HDLcd</a>, &amp;HDLcd::endFrame&gt; <a class="el" href="classHDLcd.html#afec13618cf33587eef480a7e70dece76">endFrameEvent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>End of frame event </p>

</div>
</div>
<a class="anchor" id="ad9fd5ba71c5b40acdb6fd9adc4fa408b"></a><!-- doxytag: member="HDLcd::fb_base" ref="ad9fd5ba71c5b40acdb6fd9adc4fa408b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classHDLcd.html#ad9fd5ba71c5b40acdb6fd9adc4fa408b">fb_base</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frame buffer base address register </p>

</div>
</div>
<a class="anchor" id="a91b3e136cdfa6ff77cbb933239223919"></a><!-- doxytag: member="HDLcd::fb_line_count" ref="a91b3e136cdfa6ff77cbb933239223919" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FbLineCountReg <a class="el" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frame buffer Line count register </p>

</div>
</div>
<a class="anchor" id="adeb07f49b4b2b8898397dbec03f22bb3"></a><!-- doxytag: member="HDLcd::fb_line_count" ref="adeb07f49b4b2b8898397dbec03f22bb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab09d20d3fb341f97725e4f27efbee0bd"></a><!-- doxytag: member="HDLcd::fb_line_length" ref="ab09d20d3fb341f97725e4f27efbee0bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classHDLcd.html#ab09d20d3fb341f97725e4f27efbee0bd">fb_line_length</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frame buffer Line length register </p>

</div>
</div>
<a class="anchor" id="a4f20b06285d7a67e4182c190c282ab9b"></a><!-- doxytag: member="HDLcd::fb_line_pitch" ref="a4f20b06285d7a67e4182c190c282ab9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classHDLcd.html#a4f20b06285d7a67e4182c190c282ab9b">fb_line_pitch</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frame buffer Line pitch register </p>

</div>
</div>
<a class="anchor" id="a1735216e127216309b2b871f35b62fc7"></a><!-- doxytag: member="HDLcd::fillPixelBufferEvent" ref="a1735216e127216309b2b871f35b62fc7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="el" href="classHDLcd.html">HDLcd</a>, &amp;HDLcd::fillPixelBuffer&gt; <a class="el" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">fillPixelBufferEvent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Fill fifo </p>

</div>
</div>
<a class="anchor" id="a9c95baa754410596ad866c39aba696f4"></a><!-- doxytag: member="HDLcd::frameReadStartTime" ref="a9c95baa754410596ad866c39aba696f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classHDLcd.html#a9c95baa754410596ad866c39aba696f4">frameReadStartTime</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Start time for frame buffer dma read </p>

</div>
</div>
<a class="anchor" id="a2c55466de4118724cb375f5d1c7844e8"></a><!-- doxytag: member="HDLcd::frameUnderrun" ref="a2c55466de4118724cb375f5d1c7844e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classHDLcd.html#a2c55466de4118724cb375f5d1c7844e8">frameUnderrun</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Flag indicating whether current frame has underrun </p>

</div>
</div>
<a class="anchor" id="a36c69169afb7a9e1f41eb2b5fc7516c5"></a><!-- doxytag: member="HDLcd::frameUnderway" ref="a36c69169afb7a9e1f41eb2b5fc7516c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Flag indicating whether a frame read / display is in progress </p>

</div>
</div>
<a class="anchor" id="abe59898cf9345a10d5927b545e832923"></a><!-- doxytag: member="HDLcd::green_select" ref="abe59898cf9345a10d5927b545e832923" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ColorSelectReg <a class="el" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Green color select register </p>

</div>
</div>
<a class="anchor" id="a2bafb13ce63125c580ceb36a81af2817"></a><!-- doxytag: member="HDLcd::h_back_porch" ref="a2bafb13ce63125c580ceb36a81af2817" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimingReg <a class="el" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Horizontal back porch width register </p>

</div>
</div>
<a class="anchor" id="a3610505ba43835b9d3dd548e1848644e"></a><!-- doxytag: member="HDLcd::h_data" ref="a3610505ba43835b9d3dd548e1848644e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimingReg <a class="el" href="classHDLcd.html#a3610505ba43835b9d3dd548e1848644e">h_data</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Horizontal data width register </p>

</div>
</div>
<a class="anchor" id="ab4874d5422f23d038b1a7274da8f43e7"></a><!-- doxytag: member="HDLcd::h_front_porch" ref="ab4874d5422f23d038b1a7274da8f43e7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimingReg <a class="el" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">h_front_porch</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Horizontal front porch width reg </p>

</div>
</div>
<a class="anchor" id="a91efa037cb143bc92279f190b4423748"></a><!-- doxytag: member="HDLcd::h_sync" ref="a91efa037cb143bc92279f190b4423748" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimingReg <a class="el" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Horizontal sync width register </p>

</div>
</div>
<a class="anchor" id="ae1b5cd178099ce9f30eafb12ccf1bde8"></a><!-- doxytag: member="HDLcd::hsync_polarity" ref="ae1b5cd178099ce9f30eafb12ccf1bde8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;1&gt; <a class="el" href="classHDLcd.html#ae1b5cd178099ce9f30eafb12ccf1bde8">hsync_polarity</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab96a978a299a4bf65839845c1c33f414"></a><!-- doxytag: member="HDLcd::int_clear" ref="ab96a978a299a4bf65839845c1c33f414" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InterruptReg <a class="el" href="classHDLcd.html#ab96a978a299a4bf65839845c1c33f414">int_clear</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Interrupt clear register </p>

</div>
</div>
<a class="anchor" id="a8343af5ba122012f4b5b3515d8675b7e"></a><!-- doxytag: member="HDLcd::int_mask" ref="a8343af5ba122012f4b5b3515d8675b7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InterruptReg <a class="el" href="classHDLcd.html#a8343af5ba122012f4b5b3515d8675b7e">int_mask</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Interrupt mask register </p>

</div>
</div>
<a class="anchor" id="af1d60d459d94a3bef2f6e83bdc4c1c43"></a><!-- doxytag: member="HDLcd::int_rawstat" ref="af1d60d459d94a3bef2f6e83bdc4c1c43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InterruptReg <a class="el" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">int_rawstat</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Interrupt raw status register </p>

</div>
</div>
<a class="anchor" id="a814b02fed91486dd6000055cd1c43e1d"></a><!-- doxytag: member="HDLcd::int_status" ref="a814b02fed91486dd6000055cd1c43e1d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InterruptReg <a class="el" href="classHDLcd.html#a814b02fed91486dd6000055cd1c43e1d">int_status</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Interrupt status register </p>

</div>
</div>
<a class="anchor" id="a5ae08b242f478669f0686028d558332a"></a><!-- doxytag: member="HDLcd::intEvent" ref="a5ae08b242f478669f0686028d558332a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="el" href="classHDLcd.html">HDLcd</a>, &amp;HDLcd::generateInterrupt&gt; <a class="el" href="classHDLcd.html#a5ae08b242f478669f0686028d558332a">intEvent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Wrapper to create an event out of the interrupt </p>

</div>
</div>
<a class="anchor" id="aace62e6eea905bd83b1d848acf8e39c9"></a><!-- doxytag: member="HDLcd::MAX_BURST_LEN" ref="aace62e6eea905bd83b1d848acf8e39c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t <a class="el" href="classHDLcd.html#aace62e6eea905bd83b1d848acf8e39c9">MAX_BURST_LEN</a> = 16<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>max number of beats delivered in one dma burst </p>

</div>
</div>
<a class="anchor" id="a5f39b2e7351f4500ef1eb5babcb10381"></a><!-- doxytag: member="HDLcd::max_outstanding" ref="a5f39b2e7351f4500ef1eb5babcb10381" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;11,8&gt; <a class="el" href="classHDLcd.html#a5f39b2e7351f4500ef1eb5babcb10381">max_outstanding</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5f08b80b40d4315ead7617e660bab910"></a><!-- doxytag: member="HDLcd::MAX_OUTSTANDING_DMA_REQ_CAPACITY" ref="a5f08b80b40d4315ead7617e660bab910" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t <a class="el" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a> = 16<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>max number of outstanding DMA requests possible </p>

</div>
</div>
<a class="anchor" id="a7a229a4786deeddd59c6091247a8c8a6"></a><!-- doxytag: member="HDLcd::offset" ref="a7a229a4786deeddd59c6091247a8c8a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHDLcd.html#a7a229a4786deeddd59c6091247a8c8a6">offset</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af724472dcdfb49ce72ef865c101a1c0d"></a><!-- doxytag: member="HDLcd::pic" ref="af724472dcdfb49ce72ef865c101a1c0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream* <a class="el" href="classHDLcd.html#af724472dcdfb49ce72ef865c101a1c0d">pic</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Picture of what the current frame buffer looks like </p>

</div>
</div>
<a class="anchor" id="a43f658311547cdd328f725c29f629d43"></a><!-- doxytag: member="HDLcd::PIXEL_BUFFER_CAPACITY" ref="a43f658311547cdd328f725c29f629d43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t <a class="el" href="classHDLcd.html#a43f658311547cdd328f725c29f629d43">PIXEL_BUFFER_CAPACITY</a> = 2048<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>size of internal buffer in bytes </p>

</div>
</div>
<a class="anchor" id="aadff074534cd557dcaa412b3a5860be5"></a><!-- doxytag: member="HDLcd::pixel_format" ref="aadff074534cd557dcaa412b3a5860be5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PixelFormatReg <a class="el" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pixel format register </p>

</div>
</div>
<a class="anchor" id="a77d3768993df37b5ded2ce8a0567db9e"></a><!-- doxytag: member="HDLcd::pixelBufferSize" ref="a77d3768993df37b5ded2ce8a0567db9e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Size of the pixel buffer </p>

</div>
</div>
<a class="anchor" id="a1482911218ac61eabec3de2d904b8274"></a><!-- doxytag: member="HDLcd::pixelClock" ref="a1482911218ac61eabec3de2d904b8274" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pixel clock period </p>

</div>
</div>
<a class="anchor" id="a9b265584471f3f05939bd3891884ba23"></a><!-- doxytag: member="HDLcd::pixelIndex" ref="a9b265584471f3f05939bd3891884ba23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">pixelIndex</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Index of the next pixel to render </p>

</div>
</div>
<a class="anchor" id="a1b4fe6c75f98c50fad2eebc75f143dd2"></a><!-- doxytag: member="HDLcd::polarities" ref="a1b4fe6c75f98c50fad2eebc75f143dd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PolaritiesReg <a class="el" href="classHDLcd.html#a1b4fe6c75f98c50fad2eebc75f143dd2">polarities</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Polarities register </p>

</div>
</div>
<a class="anchor" id="ac95f3b4958485c9925b2cb7f0302921f"></a><!-- doxytag: member="HDLcd::product_id" ref="ac95f3b4958485c9925b2cb7f0302921f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;31,16&gt; <a class="el" href="classHDLcd.html#ac95f3b4958485c9925b2cb7f0302921f">product_id</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4fa9bf08d013c014d2e73e86607b4bed"></a><!-- doxytag: member="HDLcd::pxlclk_polarity" ref="a4fa9bf08d013c014d2e73e86607b4bed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;4&gt; <a class="el" href="classHDLcd.html#a4fa9bf08d013c014d2e73e86607b4bed">pxlclk_polarity</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afd72c0120af049b009667393e8d7ce77"></a><!-- doxytag: member="HDLcd::red_select" ref="afd72c0120af049b009667393e8d7ce77" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ColorSelectReg <a class="el" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Red color select register </p>

</div>
</div>
<a class="anchor" id="af37803439ed3050f73510b0f8e0523fc"></a><!-- doxytag: member="HDLcd::renderPixelEvent" ref="af37803439ed3050f73510b0f8e0523fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="el" href="classHDLcd.html">HDLcd</a>, &amp;HDLcd::renderPixel&gt; <a class="el" href="classHDLcd.html#af37803439ed3050f73510b0f8e0523fc">renderPixelEvent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pixel render event </p>

</div>
</div>
<a class="anchor" id="aead24f2eb2742ac7708882a7d9616412"></a><!-- doxytag: member="HDLcd::reserved_15_12" ref="aead24f2eb2742ac7708882a7d9616412" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;15,12&gt; <a class="el" href="classHDLcd.html#aead24f2eb2742ac7708882a7d9616412">reserved_15_12</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad1c96f2932104796b8b9c1dced5ea441"></a><!-- doxytag: member="HDLcd::reserved_2_0" ref="ad1c96f2932104796b8b9c1dced5ea441" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHDLcd.html#ad1c96f2932104796b8b9c1dced5ea441">reserved_2_0</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac7a399166fd9782945b54c1218b6aa3f"></a><!-- doxytag: member="HDLcd::reserved_30_5" ref="ac7a399166fd9782945b54c1218b6aa3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;30,5&gt; <a class="el" href="classHDLcd.html#ac7a399166fd9782945b54c1218b6aa3f">reserved_30_5</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8b3d3dd450f66100b4fc3ee67662400f"></a><!-- doxytag: member="HDLcd::reserved_31_1" ref="a8b3d3dd450f66100b4fc3ee67662400f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;31,1&gt; <a class="el" href="classHDLcd.html#a8b3d3dd450f66100b4fc3ee67662400f">reserved_31_1</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a582dec2bf3d914fb5d2ddb8feaa38111"></a><!-- doxytag: member="HDLcd::reserved_31_12" ref="a582dec2bf3d914fb5d2ddb8feaa38111" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt; 31, 12 &gt; <a class="el" href="classHDLcd.html#a582dec2bf3d914fb5d2ddb8feaa38111">reserved_31_12</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a55b96b8eb8acba57e5ed38854674db7e"></a><!-- doxytag: member="HDLcd::reserved_31_24" ref="a55b96b8eb8acba57e5ed38854674db7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;31,24&gt; <a class="el" href="classHDLcd.html#a55b96b8eb8acba57e5ed38854674db7e">reserved_31_24</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1ac4b70cb79ab9e24b9a264c8b8be6e4"></a><!-- doxytag: member="HDLcd::reserved_31_5" ref="a1ac4b70cb79ab9e24b9a264c8b8be6e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;31,5&gt; <a class="el" href="classHDLcd.html#a1ac4b70cb79ab9e24b9a264c8b8be6e4">reserved_31_5</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ada612a1f3eac7720c95c8b754b004b62"></a><!-- doxytag: member="HDLcd::reserved_7_5" ref="ada612a1f3eac7720c95c8b754b004b62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt; 7, 5 &gt; <a class="el" href="classHDLcd.html#ada612a1f3eac7720c95c8b754b004b62">reserved_7_5</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9165522b50dc058c1a097ae26260fc61"></a><!-- doxytag: member="HDLcd::size" ref="a9165522b50dc058c1a097ae26260fc61" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;11,8&gt; <a class="el" href="classHDLcd.html#a9165522b50dc058c1a097ae26260fc61">size</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac7738466b6b60afeb71551c4f830d4fa"></a><!-- doxytag: member="HDLcd::startFrameEvent" ref="ac7738466b6b60afeb71551c4f830d4fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEventWrapper.html">EventWrapper</a>&lt;<a class="el" href="classHDLcd.html">HDLcd</a>, &amp;HDLcd::startFrame&gt; <a class="el" href="classHDLcd.html#ac7738466b6b60afeb71551c4f830d4fa">startFrameEvent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Start of frame event </p>

</div>
</div>
<a class="anchor" id="a7db18d8a83ae23e4d06cf8d21379b664"></a><!-- doxytag: member="HDLcd::underrun" ref="a7db18d8a83ae23e4d06cf8d21379b664" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;3&gt; <a class="el" href="classHDLcd.html#a7db18d8a83ae23e4d06cf8d21379b664">underrun</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a47ccc8b58ab3dffa549476540cfff908"></a><!-- doxytag: member="HDLcd::v_back_porch" ref="a47ccc8b58ab3dffa549476540cfff908" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimingReg <a class="el" href="classHDLcd.html#a47ccc8b58ab3dffa549476540cfff908">v_back_porch</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Vertical back porch width register </p>

</div>
</div>
<a class="anchor" id="a5a46b3a3d299f421a250c4ca6ca7d17c"></a><!-- doxytag: member="HDLcd::v_data" ref="a5a46b3a3d299f421a250c4ca6ca7d17c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimingReg <a class="el" href="classHDLcd.html#a5a46b3a3d299f421a250c4ca6ca7d17c">v_data</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Vertical data width register </p>

</div>
</div>
<a class="anchor" id="ad663411b973f7cad0938ca048f683088"></a><!-- doxytag: member="HDLcd::v_front_porch" ref="ad663411b973f7cad0938ca048f683088" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimingReg <a class="el" href="classHDLcd.html#ad663411b973f7cad0938ca048f683088">v_front_porch</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Vertical front porch width register </p>

</div>
</div>
<a class="anchor" id="ac1d1b9a4346f8ab7231a25ba0524ac99"></a><!-- doxytag: member="HDLcd::v_sync" ref="ac1d1b9a4346f8ab7231a25ba0524ac99" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimingReg <a class="el" href="classHDLcd.html#ac1d1b9a4346f8ab7231a25ba0524ac99">v_sync</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Vertical sync width register </p>

</div>
</div>
<a class="anchor" id="acb906433e1289aa1c251dc5057746a88"></a><!-- doxytag: member="HDLcd::val" ref="acb906433e1289aa1c251dc5057746a88" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHDLcd.html#acb906433e1289aa1c251dc5057746a88">val</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a74571fc488367403e0193898d0a5367e"></a><!-- doxytag: member="HDLcd::version_major" ref="a74571fc488367403e0193898d0a5367e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;15,8&gt; <a class="el" href="classHDLcd.html#a74571fc488367403e0193898d0a5367e">version_major</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4f40fa952becdbdacf7434cd3c404b7d"></a><!-- doxytag: member="HDLcd::version_minor" ref="a4f40fa952becdbdacf7434cd3c404b7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHDLcd.html#a4f40fa952becdbdacf7434cd3c404b7d">version_minor</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0cd2a036c21a49eadcc056ff0f20f8dd"></a><!-- doxytag: member="HDLcd::VERSION_RESETV" ref="a0cd2a036c21a49eadcc056ff0f20f8dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t <a class="el" href="classHDLcd.html#a0cd2a036c21a49eadcc056ff0f20f8dd">VERSION_RESETV</a> = 0x1CDC0000<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset value for Version register </p>

</div>
</div>
<a class="anchor" id="af1670e6105cdc695dd52fdde8c18f3e1"></a><!-- doxytag: member="HDLcd::virtualDisplayBuffer" ref="af1670e6105cdc695dd52fdde8c18f3e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* <a class="el" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classHDLcd.html">HDLcd</a> virtual display buffer </p>

</div>
</div>
<a class="anchor" id="a52d1b5d3426a30e18a452cd67d87ec13"></a><!-- doxytag: member="HDLcd::vnc" ref="a52d1b5d3426a30e18a452cd67d87ec13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVncInput.html">VncInput</a>* <a class="el" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>VNC server </p>

</div>
</div>
<a class="anchor" id="aacc2f986e357e2a77bd80683f3c976aa"></a><!-- doxytag: member="HDLcd::vsync" ref="aacc2f986e357e2a77bd80683f3c976aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;2&gt; <a class="el" href="classHDLcd.html#aacc2f986e357e2a77bd80683f3c976aa">vsync</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>dev/arm/<a class="el" href="hdlcd_8hh_source.html">hdlcd.hh</a></li>
<li>dev/arm/<a class="el" href="hdlcd_8cc.html">hdlcd.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
