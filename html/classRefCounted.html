<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス RefCounted</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス RefCounted</h1><!-- doxytag: class="RefCounted" -->
<p><code>#include &lt;<a class="el" href="refcnt_8hh_source.html">refcnt.hh</a>&gt;</code></p>
<div class="dynheader">
RefCountedに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classRefCounted.gif" usemap="#RefCounted_map" alt=""/>
  <map id="RefCounted_map" name="RefCounted_map">
<area href="classArguments_1_1Data.html" alt="Data" shape="rect" coords="175,56,340,80"/>
<area href="classBaseDynInst.html" alt="BaseDynInst&lt; Impl &gt;" shape="rect" coords="175,112,340,136"/>
<area href="classBaseDynInst.html" alt="BaseDynInst&lt; OzoneImpl &gt;" shape="rect" coords="175,168,340,192"/>
<area href="classEthPacketData.html" alt="EthPacketData" shape="rect" coords="175,224,340,248"/>
<area href="classFaultBase.html" alt="FaultBase" shape="rect" coords="175,280,340,304"/>
<area href="classInOrderDynInst.html" alt="InOrderDynInst" shape="rect" coords="175,336,340,360"/>
<area href="classMemDepUnit_1_1MemDepEntry.html" alt="MemDepEntry" shape="rect" coords="175,392,340,416"/>
<area href="classMessage.html" alt="Message" shape="rect" coords="175,448,340,472"/>
<area href="classStaticInst.html" alt="StaticInst" shape="rect" coords="175,504,340,528"/>
<area href="classStats_1_1Node.html" alt="Node" shape="rect" coords="175,560,340,584"/>
<area href="structVarArgs_1_1Base.html" alt="Base&lt; RECV &gt;" shape="rect" coords="175,616,340,640"/>
</map>
 </div>
</div>

<p><a href="classRefCounted-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefCounted.html#aebb1990f519367c00c1861b5b3b3e0a5">RefCounted</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefCounted.html#ae6cca02ff208ebb8704f20b56e6de02b">~RefCounted</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefCounted.html#ad16d34c97e8d6a988fd2b5ea36bccbf4">incref</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Increment the reference count.  <a href="#ad16d34c97e8d6a988fd2b5ea36bccbf4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefCounted.html#a0ff5c4fba5e67643030a3e2f5b70a737">decref</a> ()</td></tr>
<tr><td colspan="2"><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefCounted.html#af66f84bd2408304143da35229d0a7d3e">RefCounted</a> (const <a class="el" href="classRefCounted.html">RefCounted</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCounted.html">RefCounted</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefCounted.html#a6d93b6225e8065317a03fd3eff362552">operator=</a> (const <a class="el" href="classRefCounted.html">RefCounted</a> &amp;)</td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefCounted.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<p>Derive from <a class="el" href="classRefCounted.html">RefCounted</a> if you want to enable reference counting of this class. If you want to use automatic reference counting, you should use RefCountingPtr&lt;T&gt; instead of regular pointers. </p>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="af66f84bd2408304143da35229d0a7d3e"></a><!-- doxytag: member="RefCounted::RefCounted" ref="af66f84bd2408304143da35229d0a7d3e" args="(const RefCounted &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCounted.html">RefCounted</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRefCounted.html">RefCounted</a> &amp;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aebb1990f519367c00c1861b5b3b3e0a5"></a><!-- doxytag: member="RefCounted::RefCounted" ref="aebb1990f519367c00c1861b5b3b3e0a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCounted.html">RefCounted</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>We initialize the reference count to zero and the first object to take ownership of it must increment it to one.</p>
<dl class="attention"><dt><b>注意:</b></dt><dd>A memory leak will occur if you never assign a newly constructed object to a reference counting pointer. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00069"></a>00069 : <a class="code" href="classRefCounted.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>(0) {}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae6cca02ff208ebb8704f20b56e6de02b"></a><!-- doxytag: member="RefCounted::~RefCounted" ref="ae6cca02ff208ebb8704f20b56e6de02b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classRefCounted.html">RefCounted</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>We make the destructor virtual because we're likely to have virtual functions on reference counted objects.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">TODO:</a></b></dt><dd>Even if this were true, does it matter? Shouldn't the derived class indicate this? This only matters if we would ever choose to delete a "RefCounted *" which I doubt we'd ever do. We don't ever delete a "void *". </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00080"></a>00080 {}
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a0ff5c4fba5e67643030a3e2f5b70a737"></a><!-- doxytag: member="RefCounted::decref" ref="a0ff5c4fba5e67643030a3e2f5b70a737" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void decref </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Decrement the reference count and destroy the object if all references are gone. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00087"></a>00087 { <span class="keywordflow">if</span> (--<a class="code" href="classRefCounted.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> &lt;= 0) <span class="keyword">delete</span> <span class="keyword">this</span>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad16d34c97e8d6a988fd2b5ea36bccbf4"></a><!-- doxytag: member="RefCounted::incref" ref="ad16d34c97e8d6a988fd2b5ea36bccbf4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void incref </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Increment the reference count. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00083"></a>00083 { ++<a class="code" href="classRefCounted.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6d93b6225e8065317a03fd3eff362552"></a><!-- doxytag: member="RefCounted::operator=" ref="a6d93b6225e8065317a03fd3eff362552" args="(const RefCounted &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCounted.html">RefCounted</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRefCounted.html">RefCounted</a> &amp;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="ad43c3812e6d13e0518d9f8b8f463ffcf"></a><!-- doxytag: member="RefCounted::count" ref="ad43c3812e6d13e0518d9f8b8f463ffcf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRefCounted.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>base/<a class="el" href="refcnt_8hh_source.html">refcnt.hh</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
