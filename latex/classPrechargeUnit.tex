\hypertarget{classPrechargeUnit}{
\section{クラス PrechargeUnit}
\label{classPrechargeUnit}\index{PrechargeUnit@{PrechargeUnit}}
}


{\ttfamily \#include $<$PrechargeUnit.hh$>$}\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classPrechargeUnit_a6180eb16d57b141633059448fde14938}{PrechargeModel} \{ \hyperlink{classPrechargeUnit_a6180eb16d57b141633059448fde14938abab57b6e2c553e4d983f415a1f4ea75b}{NO\_\-MODEL} =  0, 
\hyperlink{classPrechargeUnit_a6180eb16d57b141633059448fde14938aff12ef7afbc7067f06d6f3f611a1d8d9}{SINGLE\_\-BITLINE}, 
\hyperlink{classPrechargeUnit_a6180eb16d57b141633059448fde14938ada797519f6f3beaf968b93bff7c0891a}{EQU\_\-BITLINE}, 
\hyperlink{classPrechargeUnit_a6180eb16d57b141633059448fde14938a43382a95830a4cb188a50d3eef7d54f3}{SINGLE\_\-OTHER}
 \}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classPrechargeUnit_aceac0549b000908f120a643ad18fed72}{PrechargeUnit} (const string \&pre\_\-model\_\-str\_\-, double pre\_\-load\_\-, const \hyperlink{classSRAM}{SRAM} $\ast$sram\_\-ptr\_\-, const \hyperlink{classTechParameter}{TechParameter} $\ast$tech\_\-param\_\-ptr\_\-)
\item 
\hyperlink{classPrechargeUnit_a59c1c2c5b77e6304677d6f5750a31556}{$\sim$PrechargeUnit} ()
\item 
double \hyperlink{classPrechargeUnit_a699c98317420ea768a113c525e522bca}{get\_\-e\_\-charge\_\-gate} () const 
\item 
double \hyperlink{classPrechargeUnit_a2b5dce20f79e9bff15c7f8d75a6ef27a}{get\_\-e\_\-charge\_\-drain} () const 
\item 
double \hyperlink{classPrechargeUnit_af4ce13e52cccc034f4f0bb0f0a6c9468}{get\_\-i\_\-static} () const 
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classPrechargeUnit_a02fd73d861ef2e4aabb38c0c9ff82947}{init} ()
\item 
\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \hyperlink{classPrechargeUnit_aa7632b627f168ac293810ce062a2c849}{calc\_\-num\_\-pre\_\-gate} ()
\item 
\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \hyperlink{classPrechargeUnit_adf0eb6048a8f92a38c67dd1deb385dd0}{calc\_\-num\_\-pre\_\-drain} ()
\item 
double \hyperlink{classPrechargeUnit_a1cca7b8a2920e2de2a2e11241a35a4c4}{calc\_\-pre\_\-cap} (double width\_\-, double length\_\-)
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classPrechargeUnit_a6180eb16d57b141633059448fde14938}{PrechargeModel} \hyperlink{classPrechargeUnit_ad066eb2d564a668078dbdf1ac6236c5e}{m\_\-pre\_\-model}
\item 
double \hyperlink{classPrechargeUnit_a0ab919f80d0ba7b69d7bbbe332f5a6e7}{m\_\-pre\_\-load}
\item 
const \hyperlink{classSRAM}{SRAM} $\ast$ \hyperlink{classPrechargeUnit_aab5dce4213ab482c5e1909bfc96d62af}{m\_\-sram\_\-ptr}
\item 
const \hyperlink{classTechParameter}{TechParameter} $\ast$ \hyperlink{classPrechargeUnit_a11d1644aa2bfe0e16783dface6fadf13}{m\_\-tech\_\-param\_\-ptr}
\item 
double \hyperlink{classPrechargeUnit_a1f5999661eb253d9493b6020b6525802}{m\_\-pre\_\-size}
\item 
double \hyperlink{classPrechargeUnit_a7594d6475a22c66df7305a68b6227309}{m\_\-e\_\-charge\_\-gate}
\item 
double \hyperlink{classPrechargeUnit_a4ce26f0ae278a8df4466fe5e41e7002f}{m\_\-e\_\-charge\_\-drain}
\item 
double \hyperlink{classPrechargeUnit_a16f0c9e5942378eab4d83da3c61aba7f}{m\_\-i\_\-static}
\end{DoxyCompactItemize}


\subsection{列挙型}
\hypertarget{classPrechargeUnit_a6180eb16d57b141633059448fde14938}{
\index{PrechargeUnit@{PrechargeUnit}!PrechargeModel@{PrechargeModel}}
\index{PrechargeModel@{PrechargeModel}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{PrechargeModel}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf PrechargeModel}}}
\label{classPrechargeUnit_a6180eb16d57b141633059448fde14938}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{NO\_\-MODEL@{NO\_\-MODEL}!PrechargeUnit@{PrechargeUnit}}\index{PrechargeUnit@{PrechargeUnit}!NO\_\-MODEL@{NO\_\-MODEL}}\item[{\em 
\hypertarget{classPrechargeUnit_a6180eb16d57b141633059448fde14938abab57b6e2c553e4d983f415a1f4ea75b}{
NO\_\-MODEL}
\label{classPrechargeUnit_a6180eb16d57b141633059448fde14938abab57b6e2c553e4d983f415a1f4ea75b}
}]\index{SINGLE\_\-BITLINE@{SINGLE\_\-BITLINE}!PrechargeUnit@{PrechargeUnit}}\index{PrechargeUnit@{PrechargeUnit}!SINGLE\_\-BITLINE@{SINGLE\_\-BITLINE}}\item[{\em 
\hypertarget{classPrechargeUnit_a6180eb16d57b141633059448fde14938aff12ef7afbc7067f06d6f3f611a1d8d9}{
SINGLE\_\-BITLINE}
\label{classPrechargeUnit_a6180eb16d57b141633059448fde14938aff12ef7afbc7067f06d6f3f611a1d8d9}
}]\index{EQU\_\-BITLINE@{EQU\_\-BITLINE}!PrechargeUnit@{PrechargeUnit}}\index{PrechargeUnit@{PrechargeUnit}!EQU\_\-BITLINE@{EQU\_\-BITLINE}}\item[{\em 
\hypertarget{classPrechargeUnit_a6180eb16d57b141633059448fde14938ada797519f6f3beaf968b93bff7c0891a}{
EQU\_\-BITLINE}
\label{classPrechargeUnit_a6180eb16d57b141633059448fde14938ada797519f6f3beaf968b93bff7c0891a}
}]\index{SINGLE\_\-OTHER@{SINGLE\_\-OTHER}!PrechargeUnit@{PrechargeUnit}}\index{PrechargeUnit@{PrechargeUnit}!SINGLE\_\-OTHER@{SINGLE\_\-OTHER}}\item[{\em 
\hypertarget{classPrechargeUnit_a6180eb16d57b141633059448fde14938a43382a95830a4cb188a50d3eef7d54f3}{
SINGLE\_\-OTHER}
\label{classPrechargeUnit_a6180eb16d57b141633059448fde14938a43382a95830a4cb188a50d3eef7d54f3}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
48     {
49       NO_MODEL = 0,
50       SINGLE_BITLINE,
51       EQU_BITLINE,
52       SINGLE_OTHER
53     };
\end{DoxyCode}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classPrechargeUnit_aceac0549b000908f120a643ad18fed72}{
\index{PrechargeUnit@{PrechargeUnit}!PrechargeUnit@{PrechargeUnit}}
\index{PrechargeUnit@{PrechargeUnit}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{PrechargeUnit}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PrechargeUnit} (const string \& {\em pre\_\-model\_\-str\_\-}, \/  double {\em pre\_\-load\_\-}, \/  const {\bf SRAM} $\ast$ {\em sram\_\-ptr\_\-}, \/  const {\bf TechParameter} $\ast$ {\em tech\_\-param\_\-ptr\_\-})}}
\label{classPrechargeUnit_aceac0549b000908f120a643ad18fed72}



\begin{DoxyCode}
47 {
48     if (pre_model_str_ == "SINGLE_BITLINE")
49     {
50         m_pre_model = SINGLE_BITLINE;
51     }
52     else if (pre_model_str_ == "EQU_BITLINE")
53     {
54         m_pre_model = EQU_BITLINE;
55     }
56     else if (pre_model_str_ == "SINGLE_OTHER")
57     {
58         m_pre_model = SINGLE_OTHER;
59     }
60     else
61     {
62         m_pre_model = NO_MODEL;
63     }
64 
65     if (m_pre_model != NO_MODEL)
66     {
67         m_pre_load = pre_load_;
68         m_sram_ptr = sram_ptr_;
69         m_tech_param_ptr = tech_param_ptr_;
70 
71         init();
72     }
73 }
\end{DoxyCode}
\hypertarget{classPrechargeUnit_a59c1c2c5b77e6304677d6f5750a31556}{
\index{PrechargeUnit@{PrechargeUnit}!$\sim$PrechargeUnit@{$\sim$PrechargeUnit}}
\index{$\sim$PrechargeUnit@{$\sim$PrechargeUnit}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{$\sim$PrechargeUnit}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf PrechargeUnit} ()}}
\label{classPrechargeUnit_a59c1c2c5b77e6304677d6f5750a31556}



\begin{DoxyCode}
76 {
77 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classPrechargeUnit_adf0eb6048a8f92a38c67dd1deb385dd0}{
\index{PrechargeUnit@{PrechargeUnit}!calc\_\-num\_\-pre\_\-drain@{calc\_\-num\_\-pre\_\-drain}}
\index{calc\_\-num\_\-pre\_\-drain@{calc\_\-num\_\-pre\_\-drain}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{calc\_\-num\_\-pre\_\-drain}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\_\-t} calc\_\-num\_\-pre\_\-drain ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_adf0eb6048a8f92a38c67dd1deb385dd0}



\begin{DoxyCode}
123 {
124     switch(m_pre_model)
125     {
126         case SINGLE_BITLINE: return 1;
127         case EQU_BITLINE:    return 2;
128         case SINGLE_OTHER:   return 1;
129         default: fatal("Incorrect Precharge Unit model.\n");
130     }
131 }
\end{DoxyCode}
\hypertarget{classPrechargeUnit_aa7632b627f168ac293810ce062a2c849}{
\index{PrechargeUnit@{PrechargeUnit}!calc\_\-num\_\-pre\_\-gate@{calc\_\-num\_\-pre\_\-gate}}
\index{calc\_\-num\_\-pre\_\-gate@{calc\_\-num\_\-pre\_\-gate}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{calc\_\-num\_\-pre\_\-gate}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\_\-t} calc\_\-num\_\-pre\_\-gate ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_aa7632b627f168ac293810ce062a2c849}



\begin{DoxyCode}
112 {
113     switch(m_pre_model)
114     {
115         case SINGLE_BITLINE: return 2;
116         case EQU_BITLINE:    return 3;
117         case SINGLE_OTHER:   return 1;
118         default: fatal("Incorrect Precharge Unit model.\n");
119     }
120 }
\end{DoxyCode}
\hypertarget{classPrechargeUnit_a1cca7b8a2920e2de2a2e11241a35a4c4}{
\index{PrechargeUnit@{PrechargeUnit}!calc\_\-pre\_\-cap@{calc\_\-pre\_\-cap}}
\index{calc\_\-pre\_\-cap@{calc\_\-pre\_\-cap}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{calc\_\-pre\_\-cap}]{\setlength{\rightskip}{0pt plus 5cm}double calc\_\-pre\_\-cap (double {\em width\_\-}, \/  double {\em length\_\-})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_a1cca7b8a2920e2de2a2e11241a35a4c4}



\begin{DoxyCode}
134 {
135     return m_tech_param_ptr->calc_gatecap(width_, length_);
136 }
\end{DoxyCode}
\hypertarget{classPrechargeUnit_a2b5dce20f79e9bff15c7f8d75a6ef27a}{
\index{PrechargeUnit@{PrechargeUnit}!get\_\-e\_\-charge\_\-drain@{get\_\-e\_\-charge\_\-drain}}
\index{get\_\-e\_\-charge\_\-drain@{get\_\-e\_\-charge\_\-drain}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{get\_\-e\_\-charge\_\-drain}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-e\_\-charge\_\-drain () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classPrechargeUnit_a2b5dce20f79e9bff15c7f8d75a6ef27a}



\begin{DoxyCode}
66 { return m_e_charge_drain; }
\end{DoxyCode}
\hypertarget{classPrechargeUnit_a699c98317420ea768a113c525e522bca}{
\index{PrechargeUnit@{PrechargeUnit}!get\_\-e\_\-charge\_\-gate@{get\_\-e\_\-charge\_\-gate}}
\index{get\_\-e\_\-charge\_\-gate@{get\_\-e\_\-charge\_\-gate}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{get\_\-e\_\-charge\_\-gate}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-e\_\-charge\_\-gate () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classPrechargeUnit_a699c98317420ea768a113c525e522bca}



\begin{DoxyCode}
65 { return m_e_charge_gate; }
\end{DoxyCode}
\hypertarget{classPrechargeUnit_af4ce13e52cccc034f4f0bb0f0a6c9468}{
\index{PrechargeUnit@{PrechargeUnit}!get\_\-i\_\-static@{get\_\-i\_\-static}}
\index{get\_\-i\_\-static@{get\_\-i\_\-static}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{get\_\-i\_\-static}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-i\_\-static () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classPrechargeUnit_af4ce13e52cccc034f4f0bb0f0a6c9468}



\begin{DoxyCode}
67 { return m_i_static; }
\end{DoxyCode}
\hypertarget{classPrechargeUnit_a02fd73d861ef2e4aabb38c0c9ff82947}{
\index{PrechargeUnit@{PrechargeUnit}!init@{init}}
\index{init@{init}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void init ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_a02fd73d861ef2e4aabb38c0c9ff82947}



\begin{DoxyCode}
80 {
81     double period = m_tech_param_ptr->get_period();
82     m_pre_size = m_tech_param_ptr->calc_driver_psize(m_pre_load, period/8.0);
83     //FIXME - shouldn't be added
84     double Wdecinvn = m_tech_param_ptr->get_Wdecinvn();
85     double Wdecinvp = m_tech_param_ptr->get_Wdecinvp();
86     m_pre_size += m_pre_size*Wdecinvn/Wdecinvp;
87 
88     uint32_t num_gate = calc_num_pre_gate();
89 
90     // WHS: 10 should go to PARM 
91     double e_factor = m_tech_param_ptr->get_EnergyFactor();
92     m_e_charge_gate = calc_pre_cap(m_pre_size, 10) * num_gate * e_factor;
93 
94     uint32_t num_data_end = m_sram_ptr->get_num_data_end();
95     if (num_data_end == 2)
96     {
97         e_factor = m_tech_param_ptr->get_SenseEnergyFactor();
98     }
99     else
100     {
101         e_factor = m_tech_param_ptr->get_EnergyFactor();
102     }
103     uint32_t num_drain = calc_num_pre_drain();
104     m_e_charge_drain = m_tech_param_ptr->calc_draincap(m_pre_size, 
      TechParameter::PCH, 1)*num_drain*e_factor;
105 
106     // static power
107     double PMOS_TAB_0 = m_tech_param_ptr->get_PMOS_TAB(0);
108     m_i_static = num_gate*m_pre_size*PMOS_TAB_0;
109 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classPrechargeUnit_a4ce26f0ae278a8df4466fe5e41e7002f}{
\index{PrechargeUnit@{PrechargeUnit}!m\_\-e\_\-charge\_\-drain@{m\_\-e\_\-charge\_\-drain}}
\index{m\_\-e\_\-charge\_\-drain@{m\_\-e\_\-charge\_\-drain}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{m\_\-e\_\-charge\_\-drain}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-e\_\-charge\_\-drain}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_a4ce26f0ae278a8df4466fe5e41e7002f}
\hypertarget{classPrechargeUnit_a7594d6475a22c66df7305a68b6227309}{
\index{PrechargeUnit@{PrechargeUnit}!m\_\-e\_\-charge\_\-gate@{m\_\-e\_\-charge\_\-gate}}
\index{m\_\-e\_\-charge\_\-gate@{m\_\-e\_\-charge\_\-gate}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{m\_\-e\_\-charge\_\-gate}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-e\_\-charge\_\-gate}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_a7594d6475a22c66df7305a68b6227309}
\hypertarget{classPrechargeUnit_a16f0c9e5942378eab4d83da3c61aba7f}{
\index{PrechargeUnit@{PrechargeUnit}!m\_\-i\_\-static@{m\_\-i\_\-static}}
\index{m\_\-i\_\-static@{m\_\-i\_\-static}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{m\_\-i\_\-static}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-i\_\-static}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_a16f0c9e5942378eab4d83da3c61aba7f}
\hypertarget{classPrechargeUnit_a0ab919f80d0ba7b69d7bbbe332f5a6e7}{
\index{PrechargeUnit@{PrechargeUnit}!m\_\-pre\_\-load@{m\_\-pre\_\-load}}
\index{m\_\-pre\_\-load@{m\_\-pre\_\-load}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{m\_\-pre\_\-load}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-pre\_\-load}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_a0ab919f80d0ba7b69d7bbbe332f5a6e7}
\hypertarget{classPrechargeUnit_ad066eb2d564a668078dbdf1ac6236c5e}{
\index{PrechargeUnit@{PrechargeUnit}!m\_\-pre\_\-model@{m\_\-pre\_\-model}}
\index{m\_\-pre\_\-model@{m\_\-pre\_\-model}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{m\_\-pre\_\-model}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PrechargeModel} {\bf m\_\-pre\_\-model}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_ad066eb2d564a668078dbdf1ac6236c5e}
\hypertarget{classPrechargeUnit_a1f5999661eb253d9493b6020b6525802}{
\index{PrechargeUnit@{PrechargeUnit}!m\_\-pre\_\-size@{m\_\-pre\_\-size}}
\index{m\_\-pre\_\-size@{m\_\-pre\_\-size}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{m\_\-pre\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-pre\_\-size}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_a1f5999661eb253d9493b6020b6525802}
\hypertarget{classPrechargeUnit_aab5dce4213ab482c5e1909bfc96d62af}{
\index{PrechargeUnit@{PrechargeUnit}!m\_\-sram\_\-ptr@{m\_\-sram\_\-ptr}}
\index{m\_\-sram\_\-ptr@{m\_\-sram\_\-ptr}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{m\_\-sram\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf SRAM}$\ast$ {\bf m\_\-sram\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_aab5dce4213ab482c5e1909bfc96d62af}
\hypertarget{classPrechargeUnit_a11d1644aa2bfe0e16783dface6fadf13}{
\index{PrechargeUnit@{PrechargeUnit}!m\_\-tech\_\-param\_\-ptr@{m\_\-tech\_\-param\_\-ptr}}
\index{m\_\-tech\_\-param\_\-ptr@{m\_\-tech\_\-param\_\-ptr}!PrechargeUnit@{PrechargeUnit}}
\subsubsection[{m\_\-tech\_\-param\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf TechParameter}$\ast$ {\bf m\_\-tech\_\-param\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classPrechargeUnit_a11d1644aa2bfe0e16783dface6fadf13}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/ruby/network/orion/Buffer/\hyperlink{PrechargeUnit_8hh}{PrechargeUnit.hh}\item 
mem/ruby/network/orion/Buffer/\hyperlink{PrechargeUnit_8cc}{PrechargeUnit.cc}\end{DoxyCompactItemize}
