<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス テンプレート InstructionQueue&lt; Impl &gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス テンプレート InstructionQueue&lt; Impl &gt;</h1><!-- doxytag: class="InstructionQueue" -->
<p><code>#include &lt;<a class="el" href="o3_2inst__queue_8hh_source.html">inst_queue.hh</a>&gt;</code></p>

<p><a href="classInstructionQueue-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue_1_1FUCompletion.html">FUCompletion</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structInstructionQueue_1_1ListOrderEntry.html">ListOrderEntry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structInstructionQueue_1_1pqCompare.html">pqCompare</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::O3CPU&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a44622cf06940413482836cb62931ac3f">O3CPU</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::DynInstPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::CPUPol::IEW&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::CPUPol::MemDepUnit&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a2e16eb5b46c2a1d3fed4c6bd5f99e368">MemDepUnit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::CPUPol::IssueStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#aa56c7524890b3a6337668c507be0f272">IssueStruct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::CPUPol::TimeStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ab6d04a6276f6c61ee6a3a74902e7681b">TimeStruct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;<br class="typebreak"/>
::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a70773a251ef988cdd7b3fa494aed7a72">InstructionQueue</a> (<a class="el" href="classInstructionQueue.html#a44622cf06940413482836cb62931ac3f">O3CPU</a> *cpu_ptr, <a class="el" href="classInstructionQueue.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a> *iew_ptr, DerivO3CPUParams *params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a80656aa048fa902ea6e652373a9d4c58">~InstructionQueue</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a755ee993c2d4e9d422c37990b15afa37">resetState</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#aab96bdacf8bd420402cbb543f994e054">setActiveThreads</a> (<a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> &gt; *at_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a7cbe625b8c47621898e7ca92d70c826b">setIssueToExecuteQueue</a> (<a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structIssueStruct.html">IssueStruct</a> &gt; *i2eQueue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a2b521ea5f191fff72265f60d4ed5187b">setTimeBuffer</a> (<a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structTimeStruct.html">TimeStruct</a> &gt; *tb_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a0240eb42fa57fe5d3788093f62b77347">drainSanityCheck</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a8674059ce345e23aac5086b2c3e24a43">takeOverFrom</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a5d2b0e4e7d98ea4ebd9fb98ac0d91e2f">entryAmount</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> num_threads)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#aaf9a05771a835f9f8d634cef36e24d40">resetEntries</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a028971a565aca048c67ea1c36a6a9d51">numFreeEntries</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#acc878f608deead5b5319a6a3f98b50c8">numFreeEntries</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a3e70330939fdfc4dbc2f60c1a660584d">isFull</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a30fac732df9b3fda011c7329a112cb31">isFull</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ae59aad9cee1e45b5817a9d96553e4567">hasReadyInsts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a786595aecf8ab7aae40868b5ac4a79a7">insert</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;new_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a4f7523e76440d88096a4eac14f2e0dd3">insertNonSpec</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;new_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ae556f19566bae9c4f55350eab17abacd">insertBarrier</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;barr_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#acf940a475d9687f26e8ab8a98c244f08">getInstToExecute</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ae2aedd3b5257ee38cb5a4e307d2d50a5">getDeferredMemInstToExecute</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ae43022d3677118a4ab40113712045f64">recordProducer</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ad118e191396cf75b93afd066a6a3f486">processFUCompletion</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;inst, int fu_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a3694e72427d3a616808797f9343d1fc4">scheduleReadyInsts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a15ca5aaeab5bd4c2169ed41bbc7fb79c">scheduleNonSpec</a> (const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a04f8d2acf3cd0b90a1efc69b528f91bc">commit</a> (const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;inst, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#aab5cfade3ce4bb4addbf52c7464676d9">wakeDependents</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;completed_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a76bcc078140b3e79923f7b5be8b302fb">addReadyMemInst</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;ready_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#afdf61c4d00a7c48449b14c6f525e3869">rescheduleMemInst</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;resched_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#af6c215567b7a5a496ef245cd86df2e62">replayMemInst</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;replay_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#aad2715729f71f220e9cf9b99515384ca">completeMemInst</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;completed_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ab1617ebdf253a795f97a7936a598e151">deferMemInst</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;deferred_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#aeea40175042f18a63a90cbbd7dd451bc">violation</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;store, <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;faulting_load)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ad33d65c18c323d90695d7c2355b49af9">squash</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#aaf7eb96b7ab2a8240d043b7d82494d15">getCount</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#afc9c0c90c27fe0dc8bd4da915596bc21">printInsts</a> ()</td></tr>
<tr><td colspan="2"><h2>Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a80520cf10aa5e634d9e3fb6cdc0aef2f">intInstQueueReads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a095bbdf62a50bf39e824e7187cde5191">intInstQueueWrites</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#afd00a0a956c7aeab072e57a3927ee148">intInstQueueWakeupAccesses</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ac72607fe25b1d8aefd4ca2dda8533bb2">fpInstQueueReads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a462728858d9c7392da1a4e3695a10c3c">fpInstQueueWrites</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a666c1c2a3552ee13d2f8185434c9552b">fpInstQueueWakeupQccesses</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#aec28ae6ca74e00e9b5eb0bd8bb9e1176">intAluAccesses</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a1dd5fc6a847750f4294e41e801b47bf4">fpAluAccesses</a></td></tr>
<tr><td colspan="2"><h2>Private 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31b">IQPolicy</a> { <a class="el" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31ba96535b1625776102bcc13f7dfb598dcb">Dynamic</a>, 
<a class="el" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31badd8dfa69b567f90d3f13d819109ab74e">Partitioned</a>, 
<a class="el" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31ba267544c4de8ecc66bd0fed6310af63be">Threshold</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::priority_queue<br class="typebreak"/>
&lt; <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>, <a class="el" href="classstd_1_1vector.html">std::vector</a><br class="typebreak"/>
&lt; <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;, <a class="el" href="structInstructionQueue_1_1pqCompare.html">pqCompare</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a60636ae8f3b649078c4f1bdd3b20dcad">ReadyInstQueue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>, <br class="typebreak"/>
<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a0e9597437fae9e60d5449933949416ec">NonSpecMapIt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classstd_1_1list.html">std::list</a><br class="typebreak"/>
&lt; <a class="el" href="structInstructionQueue_1_1ListOrderEntry.html">ListOrderEntry</a> &gt;::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a></td></tr>
<tr><td colspan="2"><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a06cf52c4f09162bea03ec848f247151a">doSquash</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#aa1de4a5c314cc1d0efaf045e05e47165">addToOrderList</a> (OpClass op_class)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ae4cc92176e08b27989bb2838e4e32b1c">moveToYoungerInst</a> (<a class="el" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a> age_order_it)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#abeb630fedb38de020599d2a1abd4b02d">addToDependents</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;new_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#af89be5ea301621fdfb44941b4db60339">addToProducers</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;new_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a7e3f1fa43ca939ed6fd9b3abcc47f06e">addIfReady</a> (<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ab654970f03abd90f0c397bba8e218bc9">countInsts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a3d1dae45e8e0b5cf7c1f4f8c796d070e">dumpLists</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a80587b4fe043bbe1995536cb3b361588">dumpInsts</a> ()</td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstructionQueue.html#a44622cf06940413482836cb62931ac3f">O3CPU</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MemInterface *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a22dc8294eecb144fbdd951d2e32e9330">dcacheInterface</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstructionQueue.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a4e9ef25d8913b270d432be4bbfe4965c">iewStage</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMemDepUnit.html">MemDepUnit</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structIssueStruct.html">IssueStruct</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#af5c55240e63d9a13358eede4eb5352f1">issueToExecuteQueue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structTimeStruct.html">TimeStruct</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a83f9ee976e732665aeb08dbc19acfd45">timeBuffer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structTimeStruct.html">TimeStruct</a> &gt;::wire&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFUPool.html">FUPool</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a480782fc1cfd21fd9748b26f2a08b97a">fuPool</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a494cb455333d9f34ee4a3ab8ca5e50fd">instsToExecute</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a6ea0c1a972364b789a8b6831cf7828cf">deferredMemInsts</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstructionQueue.html#a60636ae8f3b649078c4f1bdd3b20dcad">ReadyInstQueue</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a> [<a class="el" href="op__class_8hh.html#a5e0e351c8afca390ef0a05a7dbb68b1b">Num_OpClasses</a>]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>, <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="structInstructionQueue_1_1ListOrderEntry.html">ListOrderEntry</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#abd5388bcfcc78ba7299f0178672b4ac2">queueOnList</a> [<a class="el" href="op__class_8hh.html#a5e0e351c8afca390ef0a05a7dbb68b1b">Num_OpClasses</a>]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ac6c2d86489eaee465f91586553c3593f">readyIt</a> [<a class="el" href="op__class_8hh.html#a5e0e351c8afca390ef0a05a7dbb68b1b">Num_OpClasses</a>]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDependencyGraph.html">DependencyGraph</a>&lt; <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31b">IQPolicy</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a558c2854c6103193667179fa6ac0ac20">iqPolicy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ac638062ba1de6609f143c5ee3a601109">count</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a51e5f9f0cb40d61e95b1518f1be90b73">maxEntries</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ab3c3a8cd00248d9cd6acad330da902a7">totalWidth</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a0d2a78a8e887f06150904000b2beb6cd">numPhysRegs</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a6b6fe1148ed7c40758e45f351c375552">commitToIEWDelay</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a97d5a7e4630ad1d017909f7504b9ec32">squashedSeqNum</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; bool &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a61aeb86b87d1e105337b5a8973ce61f3">regScoreboard</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a435e1ce10c3a7f54a60941e583adeb09">iqInstsAdded</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#adf890a08fae50ea8249171b07c40adac">iqNonSpecInstsAdded</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#accc6261a817718dbb727c65f310df357">iqInstsIssued</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a735f2023e70e53b7889a3a316bd3d57f">iqIntInstsIssued</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#aa9f2fa124c9f0b4b22461b6717449d9a">iqFloatInstsIssued</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a928f22a2c6ce592adc40e5242c9d6572">iqBranchInstsIssued</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a5e7d55d3f07e86e389ca3a715766e108">iqMemInstsIssued</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ad234890bc414fffe7ed71840c51be5cb">iqMiscInstsIssued</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ac91799c895e5aff3af0afdbd7691a163">iqSquashedInstsIssued</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a8312e8984bcfab5a77de40e1738103db">iqSquashedInstsExamined</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a4398b6005b81008bd163bbba78dfd929">iqSquashedOperandsExamined</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a6c0b47431b6e84536fd9bb61624d6d97">iqSquashedNonSpecRemoved</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Distribution.html">Stats::Distribution</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a90810f5beb7dff46f4b45f96620474b6">numIssuedDist</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Vector.html">Stats::Vector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a92266bfdbc9a6de5005fc3f1654e0b3e">statFuBusy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Vector2d.html">Stats::Vector2d</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#abb8998de49604769ec252fbd0ac1ed2b">statIssuedInstType</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a6a9ed0564894e83d4c3c5784f667c5e0">issueRate</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Vector.html">Stats::Vector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#a54dbf1e1683507aefb83115910feb26b">fuBusy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstructionQueue.html#ab1ecb3744ca63dcec2b9b7d80c319c69">fuBusyRate</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<h3>template&lt;class Impl&gt;<br/>
 class InstructionQueue&lt; Impl &gt;</h3>

<p>A standard instruction queue class. It holds ready instructions, in order, in seperate priority queues to facilitate the scheduling of instructions. The IQ uses a separate linked list to track dependencies. Similar to the rename map and the free list, it expects that floating point registers have their indices start after the integer registers (ie with 96 int and 96 fp registers, regs 0-95 are integer and 96-191 are fp). This remains true even for both logical and physical register indices. The IQ depends on the memory dependence unit to track when memory operations are ready in terms of ordering; register dependencies are tracked normally. Right now the IQ also handles the execution timing; this is mainly to allow back-to-back scheduling without requiring IEW to be able to peek into the IQ. At the end of the execution latency, the instruction is put into the queue to execute, where it will have the execute() function called on it. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000030">TODO:</a></b></dt><dd>: Make IQ able to handle multiple FU pools. </dd></dl>
<hr/><h2>型定義</h2>
<a class="anchor" id="a028ce10889c5f6450239d9e9a7347976"></a><!-- doxytag: member="InstructionQueue::DynInstPtr" ref="a028ce10889c5f6450239d9e9a7347976" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::DynInstPtr <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a23f60a4095b5240dfcb18a4ec40210a9"></a><!-- doxytag: member="InstructionQueue::IEW" ref="a23f60a4095b5240dfcb18a4ec40210a9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::CPUPol::IEW <a class="el" href="classInstructionQueue.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa56c7524890b3a6337668c507be0f272"></a><!-- doxytag: member="InstructionQueue::IssueStruct" ref="aa56c7524890b3a6337668c507be0f272" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::CPUPol::IssueStruct <a class="el" href="structIssueStruct.html">IssueStruct</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a184cb829e22cc656acb41864f68f51ea"></a><!-- doxytag: member="InstructionQueue::ListIt" ref="a184cb829e22cc656acb41864f68f51ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt;::iterator <a class="el" href="classInstructionQueue.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a120a1fba4fe015f7201e896580df164c"></a><!-- doxytag: member="InstructionQueue::ListOrderIt" ref="a120a1fba4fe015f7201e896580df164c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="structInstructionQueue_1_1ListOrderEntry.html">ListOrderEntry</a>&gt;::iterator <a class="el" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e16eb5b46c2a1d3fed4c6bd5f99e368"></a><!-- doxytag: member="InstructionQueue::MemDepUnit" ref="a2e16eb5b46c2a1d3fed4c6bd5f99e368" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::CPUPol::MemDepUnit <a class="el" href="classMemDepUnit.html">MemDepUnit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0e9597437fae9e60d5449933949416ec"></a><!-- doxytag: member="InstructionQueue::NonSpecMapIt" ref="a0e9597437fae9e60d5449933949416ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;<a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>, <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt;::iterator <a class="el" href="classInstructionQueue.html#a0e9597437fae9e60d5449933949416ec">NonSpecMapIt</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a44622cf06940413482836cb62931ac3f"></a><!-- doxytag: member="InstructionQueue::O3CPU" ref="a44622cf06940413482836cb62931ac3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::O3CPU <a class="el" href="classInstructionQueue.html#a44622cf06940413482836cb62931ac3f">O3CPU</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a60636ae8f3b649078c4f1bdd3b20dcad"></a><!-- doxytag: member="InstructionQueue::ReadyInstQueue" ref="a60636ae8f3b649078c4f1bdd3b20dcad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::priority_queue&lt;<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>, <a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt;, <a class="el" href="structInstructionQueue_1_1pqCompare.html">pqCompare</a>&gt; <a class="el" href="classInstructionQueue.html#a60636ae8f3b649078c4f1bdd3b20dcad">ReadyInstQueue</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab6d04a6276f6c61ee6a3a74902e7681b"></a><!-- doxytag: member="InstructionQueue::TimeStruct" ref="ab6d04a6276f6c61ee6a3a74902e7681b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::CPUPol::TimeStruct <a class="el" href="structTimeStruct.html">TimeStruct</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>列挙型</h2>
<a class="anchor" id="a6af49ff20e9c3b3f7ef7b8fa74c0e31b"></a><!-- doxytag: member="InstructionQueue::IQPolicy" ref="a6af49ff20e9c3b3f7ef7b8fa74c0e31b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31b">IQPolicy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>IQ <a class="el" href="classResource.html">Resource</a> Sharing Policy </p>
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a6af49ff20e9c3b3f7ef7b8fa74c0e31ba96535b1625776102bcc13f7dfb598dcb"></a><!-- doxytag: member="Dynamic" ref="a6af49ff20e9c3b3f7ef7b8fa74c0e31ba96535b1625776102bcc13f7dfb598dcb" args="" -->Dynamic</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6af49ff20e9c3b3f7ef7b8fa74c0e31badd8dfa69b567f90d3f13d819109ab74e"></a><!-- doxytag: member="Partitioned" ref="a6af49ff20e9c3b3f7ef7b8fa74c0e31badd8dfa69b567f90d3f13d819109ab74e" args="" -->Partitioned</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6af49ff20e9c3b3f7ef7b8fa74c0e31ba267544c4de8ecc66bd0fed6310af63be"></a><!-- doxytag: member="Threshold" ref="a6af49ff20e9c3b3f7ef7b8fa74c0e31ba267544c4de8ecc66bd0fed6310af63be" args="" -->Threshold</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00385"></a>00385                   {
<a name="l00386"></a>00386         <a class="code" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31ba96535b1625776102bcc13f7dfb598dcb">Dynamic</a>,
<a name="l00387"></a>00387         <a class="code" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31badd8dfa69b567f90d3f13d819109ab74e">Partitioned</a>,
<a name="l00388"></a>00388         <a class="code" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31ba267544c4de8ecc66bd0fed6310af63be">Threshold</a>
<a name="l00389"></a>00389     };
</pre></div></p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a70773a251ef988cdd7b3fa494aed7a72"></a><!-- doxytag: member="InstructionQueue::InstructionQueue" ref="a70773a251ef988cdd7b3fa494aed7a72" args="(O3CPU *cpu_ptr, IEW *iew_ptr, DerivO3CPUParams *params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInstructionQueue.html">InstructionQueue</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a44622cf06940413482836cb62931ac3f">O3CPU</a> *&nbsp;</td>
          <td class="paramname"> <em>cpu_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a> *&nbsp;</td>
          <td class="paramname"> <em>iew_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DerivO3CPUParams *&nbsp;</td>
          <td class="paramname"> <em>params</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs an IQ. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00089"></a>00089     : <a class="code" href="classInstructionQueue.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>(cpu_ptr),
<a name="l00090"></a>00090       <a class="code" href="classInstructionQueue.html#a4e9ef25d8913b270d432be4bbfe4965c">iewStage</a>(iew_ptr),
<a name="l00091"></a>00091       <a class="code" href="classInstructionQueue.html#a480782fc1cfd21fd9748b26f2a08b97a">fuPool</a>(params-&gt;fuPool),
<a name="l00092"></a>00092       <a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a>(params-&gt;numIQEntries),
<a name="l00093"></a>00093       <a class="code" href="classInstructionQueue.html#ab3c3a8cd00248d9cd6acad330da902a7">totalWidth</a>(params-&gt;issueWidth),
<a name="l00094"></a>00094       <a class="code" href="classInstructionQueue.html#a6b6fe1148ed7c40758e45f351c375552">commitToIEWDelay</a>(params-&gt;commitToIEWDelay)
<a name="l00095"></a>00095 {
<a name="l00096"></a>00096     assert(<a class="code" href="classInstructionQueue.html#a480782fc1cfd21fd9748b26f2a08b97a">fuPool</a>);
<a name="l00097"></a>00097 
<a name="l00098"></a>00098     <a class="code" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a> = params-&gt;numThreads;
<a name="l00099"></a>00099 
<a name="l00100"></a>00100     <span class="comment">// Set the number of total physical registers</span>
<a name="l00101"></a>00101     <a class="code" href="classInstructionQueue.html#a0d2a78a8e887f06150904000b2beb6cd">numPhysRegs</a> = params-&gt;numPhysIntRegs + params-&gt;numPhysFloatRegs +
<a name="l00102"></a>00102         params-&gt;numPhysCCRegs;
<a name="l00103"></a>00103 
<a name="l00104"></a>00104     <span class="comment">//Create an entry for each physical register within the</span>
<a name="l00105"></a>00105     <span class="comment">//dependency graph.</span>
<a name="l00106"></a>00106     <a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.resize(<a class="code" href="classInstructionQueue.html#a0d2a78a8e887f06150904000b2beb6cd">numPhysRegs</a>);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108     <span class="comment">// Resize the register scoreboard.</span>
<a name="l00109"></a>00109     <a class="code" href="classInstructionQueue.html#a61aeb86b87d1e105337b5a8973ce61f3">regScoreboard</a>.resize(<a class="code" href="classInstructionQueue.html#a0d2a78a8e887f06150904000b2beb6cd">numPhysRegs</a>);
<a name="l00110"></a>00110 
<a name="l00111"></a>00111     <span class="comment">//Initialize Mem Dependence Units</span>
<a name="l00112"></a>00112     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l00113"></a>00113         <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[tid].<a class="code" href="classMemDepUnit.html#a0b3a45df958cbefd5455ff2aa1418bb4">init</a>(params, tid);
<a name="l00114"></a>00114         <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[tid].<a class="code" href="classMemDepUnit.html#a9f2164f7d32d0906f0818ac724921840">setIQ</a>(<span class="keyword">this</span>);
<a name="l00115"></a>00115     }
<a name="l00116"></a>00116 
<a name="l00117"></a>00117     <a class="code" href="classInstructionQueue.html#a755ee993c2d4e9d422c37990b15afa37">resetState</a>();
<a name="l00118"></a>00118 
<a name="l00119"></a>00119     std::string policy = params-&gt;smtIQPolicy;
<a name="l00120"></a>00120 
<a name="l00121"></a>00121     <span class="comment">//Convert string to lowercase</span>
<a name="l00122"></a>00122     std::transform(policy.begin(), policy.end(), policy.begin(),
<a name="l00123"></a>00123                    (int(*)(int)) tolower);
<a name="l00124"></a>00124 
<a name="l00125"></a>00125     <span class="comment">//Figure out resource sharing policy</span>
<a name="l00126"></a>00126     <span class="keywordflow">if</span> (policy == <span class="stringliteral">&quot;dynamic&quot;</span>) {
<a name="l00127"></a>00127         <a class="code" href="classInstructionQueue.html#a558c2854c6103193667179fa6ac0ac20">iqPolicy</a> = <a class="code" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31ba96535b1625776102bcc13f7dfb598dcb">Dynamic</a>;
<a name="l00128"></a>00128 
<a name="l00129"></a>00129         <span class="comment">//Set Max Entries to Total ROB Capacity</span>
<a name="l00130"></a>00130         <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; numThreads; tid++) {
<a name="l00131"></a>00131             <a class="code" href="classInstructionQueue.html#a51e5f9f0cb40d61e95b1518f1be90b73">maxEntries</a>[tid] = <a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a>;
<a name="l00132"></a>00132         }
<a name="l00133"></a>00133 
<a name="l00134"></a>00134     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (policy == <span class="stringliteral">&quot;partitioned&quot;</span>) {
<a name="l00135"></a>00135         <a class="code" href="classInstructionQueue.html#a558c2854c6103193667179fa6ac0ac20">iqPolicy</a> = <a class="code" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31badd8dfa69b567f90d3f13d819109ab74e">Partitioned</a>;
<a name="l00136"></a>00136 
<a name="l00137"></a>00137         <span class="comment">//@todo:make work if part_amt doesnt divide evenly.</span>
<a name="l00138"></a>00138         <span class="keywordtype">int</span> part_amt = <a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a> / numThreads;
<a name="l00139"></a>00139 
<a name="l00140"></a>00140         <span class="comment">//Divide ROB up evenly</span>
<a name="l00141"></a>00141         <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; numThreads; tid++) {
<a name="l00142"></a>00142             <a class="code" href="classInstructionQueue.html#a51e5f9f0cb40d61e95b1518f1be90b73">maxEntries</a>[tid] = part_amt;
<a name="l00143"></a>00143         }
<a name="l00144"></a>00144 
<a name="l00145"></a>00145         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;IQ sharing policy set to Partitioned:&quot;</span>
<a name="l00146"></a>00146                 <span class="stringliteral">&quot;%i entries per thread.\n&quot;</span>,part_amt);
<a name="l00147"></a>00147     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (policy == <span class="stringliteral">&quot;threshold&quot;</span>) {
<a name="l00148"></a>00148         <a class="code" href="classInstructionQueue.html#a558c2854c6103193667179fa6ac0ac20">iqPolicy</a> = <a class="code" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31ba267544c4de8ecc66bd0fed6310af63be">Threshold</a>;
<a name="l00149"></a>00149 
<a name="l00150"></a>00150         <span class="keywordtype">double</span> threshold =  (double)params-&gt;smtIQThreshold / 100;
<a name="l00151"></a>00151 
<a name="l00152"></a>00152         <span class="keywordtype">int</span> thresholdIQ = (<span class="keywordtype">int</span>)((double)threshold * <a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a>);
<a name="l00153"></a>00153 
<a name="l00154"></a>00154         <span class="comment">//Divide up by threshold amount</span>
<a name="l00155"></a>00155         <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; numThreads; tid++) {
<a name="l00156"></a>00156             <a class="code" href="classInstructionQueue.html#a51e5f9f0cb40d61e95b1518f1be90b73">maxEntries</a>[tid] = thresholdIQ;
<a name="l00157"></a>00157         }
<a name="l00158"></a>00158 
<a name="l00159"></a>00159         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;IQ sharing policy set to Threshold:&quot;</span>
<a name="l00160"></a>00160                 <span class="stringliteral">&quot;%i entries per thread.\n&quot;</span>,thresholdIQ);
<a name="l00161"></a>00161    } <span class="keywordflow">else</span> {
<a name="l00162"></a>00162        assert(0 &amp;&amp; <span class="stringliteral">&quot;Invalid IQ Sharing Policy.Options Are:{Dynamic,&quot;</span>
<a name="l00163"></a>00163               <span class="stringliteral">&quot;Partitioned, Threshold}&quot;</span>);
<a name="l00164"></a>00164    }
<a name="l00165"></a>00165 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a80656aa048fa902ea6e652373a9d4c58"></a><!-- doxytag: member="InstructionQueue::~InstructionQueue" ref="a80656aa048fa902ea6e652373a9d4c58" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classInstructionQueue.html">InstructionQueue</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructs the IQ. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00169"></a>00169 {
<a name="l00170"></a>00170     <a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.reset();
<a name="l00171"></a>00171 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span>    <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Nodes traversed: %i, removed: %i\n&quot;</span>,
<a name="l00173"></a>00173             <a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.nodesTraversed, <a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.nodesRemoved);
<a name="l00174"></a>00174 <span class="preprocessor">#endif</span>
<a name="l00175"></a>00175 <span class="preprocessor"></span>}
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a7e3f1fa43ca939ed6fd9b3abcc47f06e"></a><!-- doxytag: member="InstructionQueue::addIfReady" ref="a7e3f1fa43ca939ed6fd9b3abcc47f06e" args="(DynInstPtr &amp;inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addIfReady </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Moves an instruction to the ready queue if it is ready. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01327"></a>01327 {
<a name="l01328"></a>01328     <span class="comment">// If the instruction now has all of its source registers</span>
<a name="l01329"></a>01329     <span class="comment">// available, then add it to the list of ready instructions.</span>
<a name="l01330"></a>01330     <span class="keywordflow">if</span> (inst-&gt;readyToIssue()) {
<a name="l01331"></a>01331 
<a name="l01332"></a>01332         <span class="comment">//Add the instruction to the proper ready list.</span>
<a name="l01333"></a>01333         <span class="keywordflow">if</span> (inst-&gt;isMemRef()) {
<a name="l01334"></a>01334 
<a name="l01335"></a>01335             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Checking if memory instruction can issue.\n&quot;</span>);
<a name="l01336"></a>01336 
<a name="l01337"></a>01337             <span class="comment">// Message to the mem dependence unit that this instruction has</span>
<a name="l01338"></a>01338             <span class="comment">// its registers ready.</span>
<a name="l01339"></a>01339             <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[inst-&gt;threadNumber].<a class="code" href="classMemDepUnit.html#a386af6dbeff30f5152fd5dc076143ff6">regsReady</a>(inst);
<a name="l01340"></a>01340 
<a name="l01341"></a>01341             <span class="keywordflow">return</span>;
<a name="l01342"></a>01342         }
<a name="l01343"></a>01343 
<a name="l01344"></a>01344         OpClass op_class = inst-&gt;opClass();
<a name="l01345"></a>01345 
<a name="l01346"></a>01346         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Instruction is ready to issue, putting it onto &quot;</span>
<a name="l01347"></a>01347                 <span class="stringliteral">&quot;the ready list, PC %s opclass:%i [sn:%lli].\n&quot;</span>,
<a name="l01348"></a>01348                 inst-&gt;pcState(), op_class, inst-&gt;seqNum);
<a name="l01349"></a>01349 
<a name="l01350"></a>01350         <a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].push(inst);
<a name="l01351"></a>01351 
<a name="l01352"></a>01352         <span class="comment">// Will need to reorder the list if either a queue is not on the list,</span>
<a name="l01353"></a>01353         <span class="comment">// or it has an older instruction than last time.</span>
<a name="l01354"></a>01354         <span class="keywordflow">if</span> (!<a class="code" href="classInstructionQueue.html#abd5388bcfcc78ba7299f0178672b4ac2">queueOnList</a>[op_class]) {
<a name="l01355"></a>01355             <a class="code" href="classInstructionQueue.html#aa1de4a5c314cc1d0efaf045e05e47165">addToOrderList</a>(op_class);
<a name="l01356"></a>01356         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].top()-&gt;seqNum  &lt;
<a name="l01357"></a>01357                    (*<a class="code" href="classInstructionQueue.html#ac6c2d86489eaee465f91586553c3593f">readyIt</a>[op_class]).oldestInst) {
<a name="l01358"></a>01358             <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.erase(<a class="code" href="classInstructionQueue.html#ac6c2d86489eaee465f91586553c3593f">readyIt</a>[op_class]);
<a name="l01359"></a>01359             <a class="code" href="classInstructionQueue.html#aa1de4a5c314cc1d0efaf045e05e47165">addToOrderList</a>(op_class);
<a name="l01360"></a>01360         }
<a name="l01361"></a>01361     }
<a name="l01362"></a>01362 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a76bcc078140b3e79923f7b5be8b302fb"></a><!-- doxytag: member="InstructionQueue::addReadyMemInst" ref="a76bcc078140b3e79923f7b5be8b302fb" args="(DynInstPtr &amp;ready_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addReadyMemInst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ready_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a ready memory instruction to the ready list. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01017"></a>01017 {
<a name="l01018"></a>01018     OpClass op_class = ready_inst-&gt;opClass();
<a name="l01019"></a>01019 
<a name="l01020"></a>01020     <a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].push(ready_inst);
<a name="l01021"></a>01021 
<a name="l01022"></a>01022     <span class="comment">// Will need to reorder the list if either a queue is not on the list,</span>
<a name="l01023"></a>01023     <span class="comment">// or it has an older instruction than last time.</span>
<a name="l01024"></a>01024     <span class="keywordflow">if</span> (!<a class="code" href="classInstructionQueue.html#abd5388bcfcc78ba7299f0178672b4ac2">queueOnList</a>[op_class]) {
<a name="l01025"></a>01025         <a class="code" href="classInstructionQueue.html#aa1de4a5c314cc1d0efaf045e05e47165">addToOrderList</a>(op_class);
<a name="l01026"></a>01026     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].top()-&gt;seqNum  &lt;
<a name="l01027"></a>01027                (*<a class="code" href="classInstructionQueue.html#ac6c2d86489eaee465f91586553c3593f">readyIt</a>[op_class]).oldestInst) {
<a name="l01028"></a>01028         <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.erase(<a class="code" href="classInstructionQueue.html#ac6c2d86489eaee465f91586553c3593f">readyIt</a>[op_class]);
<a name="l01029"></a>01029         <a class="code" href="classInstructionQueue.html#aa1de4a5c314cc1d0efaf045e05e47165">addToOrderList</a>(op_class);
<a name="l01030"></a>01030     }
<a name="l01031"></a>01031 
<a name="l01032"></a>01032     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Instruction is ready to issue, putting it onto &quot;</span>
<a name="l01033"></a>01033             <span class="stringliteral">&quot;the ready list, PC %s opclass:%i [sn:%lli].\n&quot;</span>,
<a name="l01034"></a>01034             ready_inst-&gt;pcState(), op_class, ready_inst-&gt;seqNum);
<a name="l01035"></a>01035 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abeb630fedb38de020599d2a1abd4b02d"></a><!-- doxytag: member="InstructionQueue::addToDependents" ref="abeb630fedb38de020599d2a1abd4b02d" args="(DynInstPtr &amp;new_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool addToDependents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>new_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds an instruction to the dependency graph, as a consumer. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01245"></a>01245 {
<a name="l01246"></a>01246     <span class="comment">// Loop through the instruction&apos;s source registers, adding</span>
<a name="l01247"></a>01247     <span class="comment">// them to the dependency list if they are not ready.</span>
<a name="l01248"></a>01248     int8_t total_src_regs = new_inst-&gt;numSrcRegs();
<a name="l01249"></a>01249     <span class="keywordtype">bool</span> return_val = <span class="keyword">false</span>;
<a name="l01250"></a>01250 
<a name="l01251"></a>01251     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> src_reg_idx = 0;
<a name="l01252"></a>01252          src_reg_idx &lt; total_src_regs;
<a name="l01253"></a>01253          src_reg_idx++)
<a name="l01254"></a>01254     {
<a name="l01255"></a>01255         <span class="comment">// Only add it to the dependency graph if it&apos;s not ready.</span>
<a name="l01256"></a>01256         <span class="keywordflow">if</span> (!new_inst-&gt;isReadySrcRegIdx(src_reg_idx)) {
<a name="l01257"></a>01257             <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> src_reg = new_inst-&gt;renamedSrcRegIdx(src_reg_idx);
<a name="l01258"></a>01258 
<a name="l01259"></a>01259             <span class="comment">// Check the IQ&apos;s scoreboard to make sure the register</span>
<a name="l01260"></a>01260             <span class="comment">// hasn&apos;t become ready while the instruction was in flight</span>
<a name="l01261"></a>01261             <span class="comment">// between stages.  Only if it really isn&apos;t ready should</span>
<a name="l01262"></a>01262             <span class="comment">// it be added to the dependency graph.</span>
<a name="l01263"></a>01263             <span class="keywordflow">if</span> (src_reg &gt;= <a class="code" href="classInstructionQueue.html#a0d2a78a8e887f06150904000b2beb6cd">numPhysRegs</a>) {
<a name="l01264"></a>01264                 <span class="keywordflow">continue</span>;
<a name="l01265"></a>01265             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classInstructionQueue.html#a61aeb86b87d1e105337b5a8973ce61f3">regScoreboard</a>[src_reg]) {
<a name="l01266"></a>01266                 <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Instruction PC %s has src reg %i that &quot;</span>
<a name="l01267"></a>01267                         <span class="stringliteral">&quot;is being added to the dependency chain.\n&quot;</span>,
<a name="l01268"></a>01268                         new_inst-&gt;pcState(), src_reg);
<a name="l01269"></a>01269 
<a name="l01270"></a>01270                 <a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.insert(src_reg, new_inst);
<a name="l01271"></a>01271 
<a name="l01272"></a>01272                 <span class="comment">// Change the return value to indicate that something</span>
<a name="l01273"></a>01273                 <span class="comment">// was added to the dependency graph.</span>
<a name="l01274"></a>01274                 return_val = <span class="keyword">true</span>;
<a name="l01275"></a>01275             } <span class="keywordflow">else</span> {
<a name="l01276"></a>01276                 <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Instruction PC %s has src reg %i that &quot;</span>
<a name="l01277"></a>01277                         <span class="stringliteral">&quot;became ready before it reached the IQ.\n&quot;</span>,
<a name="l01278"></a>01278                         new_inst-&gt;pcState(), src_reg);
<a name="l01279"></a>01279                 <span class="comment">// Mark a register ready within the instruction.</span>
<a name="l01280"></a>01280                 new_inst-&gt;markSrcRegReady(src_reg_idx);
<a name="l01281"></a>01281             }
<a name="l01282"></a>01282         }
<a name="l01283"></a>01283     }
<a name="l01284"></a>01284 
<a name="l01285"></a>01285     <span class="keywordflow">return</span> return_val;
<a name="l01286"></a>01286 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa1de4a5c314cc1d0efaf045e05e47165"></a><!-- doxytag: member="InstructionQueue::addToOrderList" ref="aa1de4a5c314cc1d0efaf045e05e47165" args="(OpClass op_class)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addToOrderList </td>
          <td>(</td>
          <td class="paramtype">OpClass&nbsp;</td>
          <td class="paramname"> <em>op_class</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add an op class to the age order list. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00655"></a>00655 {
<a name="l00656"></a>00656     assert(!<a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].empty());
<a name="l00657"></a>00657 
<a name="l00658"></a>00658     ListOrderEntry queue_entry;
<a name="l00659"></a>00659 
<a name="l00660"></a>00660     queue_entry.queueType = op_class;
<a name="l00661"></a>00661 
<a name="l00662"></a>00662     queue_entry.oldestInst = <a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].top()-&gt;seqNum;
<a name="l00663"></a>00663 
<a name="l00664"></a>00664     <a class="code" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a> list_it = <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.begin();
<a name="l00665"></a>00665     <a class="code" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a> list_end_it = <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.end();
<a name="l00666"></a>00666 
<a name="l00667"></a>00667     <span class="keywordflow">while</span> (list_it != list_end_it) {
<a name="l00668"></a>00668         <span class="keywordflow">if</span> ((*list_it).oldestInst &gt; queue_entry.oldestInst) {
<a name="l00669"></a>00669             <span class="keywordflow">break</span>;
<a name="l00670"></a>00670         }
<a name="l00671"></a>00671 
<a name="l00672"></a>00672         list_it++;
<a name="l00673"></a>00673     }
<a name="l00674"></a>00674 
<a name="l00675"></a>00675     <a class="code" href="classInstructionQueue.html#ac6c2d86489eaee465f91586553c3593f">readyIt</a>[op_class] = <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.insert(list_it, queue_entry);
<a name="l00676"></a>00676     <a class="code" href="classInstructionQueue.html#abd5388bcfcc78ba7299f0178672b4ac2">queueOnList</a>[op_class] = <span class="keyword">true</span>;
<a name="l00677"></a>00677 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af89be5ea301621fdfb44941b4db60339"></a><!-- doxytag: member="InstructionQueue::addToProducers" ref="af89be5ea301621fdfb44941b4db60339" args="(DynInstPtr &amp;new_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addToProducers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>new_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds an instruction to the dependency graph, as a producer. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01291"></a>01291 {
<a name="l01292"></a>01292     <span class="comment">// Nothing really needs to be marked when an instruction becomes</span>
<a name="l01293"></a>01293     <span class="comment">// the producer of a register&apos;s value, but for convenience a ptr</span>
<a name="l01294"></a>01294     <span class="comment">// to the producing instruction will be placed in the head node of</span>
<a name="l01295"></a>01295     <span class="comment">// the dependency links.</span>
<a name="l01296"></a>01296     int8_t total_dest_regs = new_inst-&gt;numDestRegs();
<a name="l01297"></a>01297 
<a name="l01298"></a>01298     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dest_reg_idx = 0;
<a name="l01299"></a>01299          dest_reg_idx &lt; total_dest_regs;
<a name="l01300"></a>01300          dest_reg_idx++)
<a name="l01301"></a>01301     {
<a name="l01302"></a>01302         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> dest_reg = new_inst-&gt;renamedDestRegIdx(dest_reg_idx);
<a name="l01303"></a>01303 
<a name="l01304"></a>01304         <span class="comment">// Instructions that use the misc regs will have a reg number</span>
<a name="l01305"></a>01305         <span class="comment">// higher than the normal physical registers.  In this case these</span>
<a name="l01306"></a>01306         <span class="comment">// registers are not renamed, and there is no need to track</span>
<a name="l01307"></a>01307         <span class="comment">// dependencies as these instructions must be executed at commit.</span>
<a name="l01308"></a>01308         <span class="keywordflow">if</span> (dest_reg &gt;= <a class="code" href="classInstructionQueue.html#a0d2a78a8e887f06150904000b2beb6cd">numPhysRegs</a>) {
<a name="l01309"></a>01309             <span class="keywordflow">continue</span>;
<a name="l01310"></a>01310         }
<a name="l01311"></a>01311 
<a name="l01312"></a>01312         <span class="keywordflow">if</span> (!<a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.empty(dest_reg)) {
<a name="l01313"></a>01313             <a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.dump();
<a name="l01314"></a>01314             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Dependency graph %i not empty!&quot;</span>, dest_reg);
<a name="l01315"></a>01315         }
<a name="l01316"></a>01316 
<a name="l01317"></a>01317         <a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.setInst(dest_reg, new_inst);
<a name="l01318"></a>01318 
<a name="l01319"></a>01319         <span class="comment">// Mark the scoreboard to say it&apos;s not yet ready.</span>
<a name="l01320"></a>01320         <a class="code" href="classInstructionQueue.html#a61aeb86b87d1e105337b5a8973ce61f3">regScoreboard</a>[dest_reg] = <span class="keyword">false</span>;
<a name="l01321"></a>01321     }
<a name="l01322"></a>01322 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a04f8d2acf3cd0b90a1efc69b528f91bc"></a><!-- doxytag: member="InstructionQueue::commit" ref="a04f8d2acf3cd0b90a1efc69b528f91bc" args="(const InstSeqNum &amp;inst, ThreadID tid=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void commit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Commits all instructions up to and including the given sequence number, for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00917"></a>00917 {
<a name="l00918"></a>00918     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;[tid:%i]: Committing instructions older than [sn:%i]\n&quot;</span>,
<a name="l00919"></a>00919             tid,inst);
<a name="l00920"></a>00920 
<a name="l00921"></a>00921     <a class="code" href="classInstructionQueue.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> iq_it = <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[tid].begin();
<a name="l00922"></a>00922 
<a name="l00923"></a>00923     <span class="keywordflow">while</span> (iq_it != <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[tid].end() &amp;&amp;
<a name="l00924"></a>00924            (*iq_it)-&gt;seqNum &lt;= inst) {
<a name="l00925"></a>00925         ++iq_it;
<a name="l00926"></a>00926         <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[tid].pop_front();
<a name="l00927"></a>00927     }
<a name="l00928"></a>00928 
<a name="l00929"></a>00929     assert(<a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a> == (<a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a> - <a class="code" href="classInstructionQueue.html#ab654970f03abd90f0c397bba8e218bc9">countInsts</a>()));
<a name="l00930"></a>00930 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aad2715729f71f220e9cf9b99515384ca"></a><!-- doxytag: member="InstructionQueue::completeMemInst" ref="aad2715729f71f220e9cf9b99515384ca" args="(DynInstPtr &amp;completed_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void completeMemInst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>completed_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Completes a memory operation. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01061"></a>01061 {
<a name="l01062"></a>01062     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = completed_inst-&gt;threadNumber;
<a name="l01063"></a>01063 
<a name="l01064"></a>01064     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Completing mem instruction PC: %s [sn:%lli]\n&quot;</span>,
<a name="l01065"></a>01065             completed_inst-&gt;pcState(), completed_inst-&gt;seqNum);
<a name="l01066"></a>01066 
<a name="l01067"></a>01067     ++<a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a>;
<a name="l01068"></a>01068 
<a name="l01069"></a>01069     completed_inst-&gt;memOpDone(<span class="keyword">true</span>);
<a name="l01070"></a>01070 
<a name="l01071"></a>01071     <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[tid].<a class="code" href="classMemDepUnit.html#a4970c417e5fac50b9a28caea195717c3">completed</a>(completed_inst);
<a name="l01072"></a>01072     <a class="code" href="classInstructionQueue.html#ac638062ba1de6609f143c5ee3a601109">count</a>[tid]--;
<a name="l01073"></a>01073 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab654970f03abd90f0c397bba8e218bc9"></a><!-- doxytag: member="InstructionQueue::countInsts" ref="ab654970f03abd90f0c397bba8e218bc9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int countInsts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Debugging function to count how many entries are in the IQ. It does a linear walk through the instructions, so do not call this function during normal execution. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01367"></a>01367 {
<a name="l01368"></a>01368 <span class="preprocessor">#if 0</span>
<a name="l01369"></a>01369 <span class="preprocessor"></span>    <span class="comment">//ksewell:This works but definitely could use a cleaner write</span>
<a name="l01370"></a>01370     <span class="comment">//with a more intuitive way of counting. Right now it&apos;s</span>
<a name="l01371"></a>01371     <span class="comment">//just brute force ....</span>
<a name="l01372"></a>01372     <span class="comment">// Change the #if if you want to use this method.</span>
<a name="l01373"></a>01373     <span class="keywordtype">int</span> total_insts = 0;
<a name="l01374"></a>01374 
<a name="l01375"></a>01375     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; ++tid) {
<a name="l01376"></a>01376         <a class="code" href="classInstructionQueue.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> count_it = <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[tid].begin();
<a name="l01377"></a>01377 
<a name="l01378"></a>01378         <span class="keywordflow">while</span> (count_it != <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[tid].end()) {
<a name="l01379"></a>01379             <span class="keywordflow">if</span> (!(*count_it)-&gt;isSquashed() &amp;&amp; !(*count_it)-&gt;isSquashedInIQ()) {
<a name="l01380"></a>01380                 <span class="keywordflow">if</span> (!(*count_it)-&gt;isIssued()) {
<a name="l01381"></a>01381                     ++total_insts;
<a name="l01382"></a>01382                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((*count_it)-&gt;isMemRef() &amp;&amp;
<a name="l01383"></a>01383                            !(*count_it)-&gt;memOpDone) {
<a name="l01384"></a>01384                     <span class="comment">// Loads that have not been marked as executed still count</span>
<a name="l01385"></a>01385                     <span class="comment">// towards the total instructions.</span>
<a name="l01386"></a>01386                     ++total_insts;
<a name="l01387"></a>01387                 }
<a name="l01388"></a>01388             }
<a name="l01389"></a>01389 
<a name="l01390"></a>01390             ++count_it;
<a name="l01391"></a>01391         }
<a name="l01392"></a>01392     }
<a name="l01393"></a>01393 
<a name="l01394"></a>01394     <span class="keywordflow">return</span> total_insts;
<a name="l01395"></a>01395 <span class="preprocessor">#else</span>
<a name="l01396"></a>01396 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a> - <a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a>;
<a name="l01397"></a>01397 <span class="preprocessor">#endif</span>
<a name="l01398"></a>01398 <span class="preprocessor"></span>}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab1617ebdf253a795f97a7936a598e151"></a><!-- doxytag: member="InstructionQueue::deferMemInst" ref="ab1617ebdf253a795f97a7936a598e151" args="(DynInstPtr &amp;deferred_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deferMemInst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>deferred_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Defers a memory instruction when its DTB translation incurs a hw page table walk. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01078"></a>01078 {
<a name="l01079"></a>01079     <a class="code" href="classInstructionQueue.html#a6ea0c1a972364b789a8b6831cf7828cf">deferredMemInsts</a>.push_back(deferred_inst);
<a name="l01080"></a>01080 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a06cf52c4f09162bea03ec848f247151a"></a><!-- doxytag: member="InstructionQueue::doSquash" ref="a06cf52c4f09162bea03ec848f247151a" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void doSquash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Does the actual squashing. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01129"></a>01129 {
<a name="l01130"></a>01130     <span class="comment">// Start at the tail.</span>
<a name="l01131"></a>01131     <a class="code" href="classInstructionQueue.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> squash_it = <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[tid].end();
<a name="l01132"></a>01132     --squash_it;
<a name="l01133"></a>01133 
<a name="l01134"></a>01134     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;[tid:%i]: Squashing until sequence number %i!\n&quot;</span>,
<a name="l01135"></a>01135             tid, <a class="code" href="classInstructionQueue.html#a97d5a7e4630ad1d017909f7504b9ec32">squashedSeqNum</a>[tid]);
<a name="l01136"></a>01136 
<a name="l01137"></a>01137     <span class="comment">// Squash any instructions younger than the squashed sequence number</span>
<a name="l01138"></a>01138     <span class="comment">// given.</span>
<a name="l01139"></a>01139     <span class="keywordflow">while</span> (squash_it != <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[tid].end() &amp;&amp;
<a name="l01140"></a>01140            (*squash_it)-&gt;seqNum &gt; <a class="code" href="classInstructionQueue.html#a97d5a7e4630ad1d017909f7504b9ec32">squashedSeqNum</a>[tid]) {
<a name="l01141"></a>01141 
<a name="l01142"></a>01142         <a class="code" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> squashed_inst = (*squash_it);
<a name="l01143"></a>01143         squashed_inst-&gt;isFloating() ? <a class="code" href="classInstructionQueue.html#a462728858d9c7392da1a4e3695a10c3c">fpInstQueueWrites</a>++ : <a class="code" href="classInstructionQueue.html#a095bbdf62a50bf39e824e7187cde5191">intInstQueueWrites</a>++;
<a name="l01144"></a>01144 
<a name="l01145"></a>01145         <span class="comment">// Only handle the instruction if it actually is in the IQ and</span>
<a name="l01146"></a>01146         <span class="comment">// hasn&apos;t already been squashed in the IQ.</span>
<a name="l01147"></a>01147         <span class="keywordflow">if</span> (squashed_inst-&gt;threadNumber != tid ||
<a name="l01148"></a>01148             squashed_inst-&gt;isSquashedInIQ()) {
<a name="l01149"></a>01149             --squash_it;
<a name="l01150"></a>01150             <span class="keywordflow">continue</span>;
<a name="l01151"></a>01151         }
<a name="l01152"></a>01152 
<a name="l01153"></a>01153         <span class="keywordflow">if</span> (!squashed_inst-&gt;isIssued() ||
<a name="l01154"></a>01154             (squashed_inst-&gt;isMemRef() &amp;&amp;
<a name="l01155"></a>01155              !squashed_inst-&gt;memOpDone())) {
<a name="l01156"></a>01156 
<a name="l01157"></a>01157             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;[tid:%i]: Instruction [sn:%lli] PC %s squashed.\n&quot;</span>,
<a name="l01158"></a>01158                     tid, squashed_inst-&gt;seqNum, squashed_inst-&gt;pcState());
<a name="l01159"></a>01159 
<a name="l01160"></a>01160             <span class="keywordtype">bool</span> is_acq_rel = squashed_inst-&gt;isMemBarrier() &amp;&amp;
<a name="l01161"></a>01161                          (squashed_inst-&gt;isLoad() ||
<a name="l01162"></a>01162                            (squashed_inst-&gt;isStore() &amp;&amp;
<a name="l01163"></a>01163                              !squashed_inst-&gt;isStoreConditional()));
<a name="l01164"></a>01164 
<a name="l01165"></a>01165             <span class="comment">// Remove the instruction from the dependency list.</span>
<a name="l01166"></a>01166             <span class="keywordflow">if</span> (is_acq_rel ||
<a name="l01167"></a>01167                 (!squashed_inst-&gt;isNonSpeculative() &amp;&amp;
<a name="l01168"></a>01168                  !squashed_inst-&gt;isStoreConditional() &amp;&amp;
<a name="l01169"></a>01169                  !squashed_inst-&gt;isMemBarrier() &amp;&amp;
<a name="l01170"></a>01170                  !squashed_inst-&gt;isWriteBarrier())) {
<a name="l01171"></a>01171 
<a name="l01172"></a>01172                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> src_reg_idx = 0;
<a name="l01173"></a>01173                      src_reg_idx &lt; squashed_inst-&gt;numSrcRegs();
<a name="l01174"></a>01174                      src_reg_idx++)
<a name="l01175"></a>01175                 {
<a name="l01176"></a>01176                     <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> src_reg =
<a name="l01177"></a>01177                         squashed_inst-&gt;renamedSrcRegIdx(src_reg_idx);
<a name="l01178"></a>01178 
<a name="l01179"></a>01179                     <span class="comment">// Only remove it from the dependency graph if it</span>
<a name="l01180"></a>01180                     <span class="comment">// was placed there in the first place.</span>
<a name="l01181"></a>01181 
<a name="l01182"></a>01182                     <span class="comment">// Instead of doing a linked list traversal, we</span>
<a name="l01183"></a>01183                     <span class="comment">// can just remove these squashed instructions</span>
<a name="l01184"></a>01184                     <span class="comment">// either at issue time, or when the register is</span>
<a name="l01185"></a>01185                     <span class="comment">// overwritten.  The only downside to this is it</span>
<a name="l01186"></a>01186                     <span class="comment">// leaves more room for error.</span>
<a name="l01187"></a>01187 
<a name="l01188"></a>01188                     <span class="keywordflow">if</span> (!squashed_inst-&gt;isReadySrcRegIdx(src_reg_idx) &amp;&amp;
<a name="l01189"></a>01189                         src_reg &lt; <a class="code" href="classInstructionQueue.html#a0d2a78a8e887f06150904000b2beb6cd">numPhysRegs</a>) {
<a name="l01190"></a>01190                         <a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.remove(src_reg, squashed_inst);
<a name="l01191"></a>01191                     }
<a name="l01192"></a>01192 
<a name="l01193"></a>01193 
<a name="l01194"></a>01194                     ++<a class="code" href="classInstructionQueue.html#a4398b6005b81008bd163bbba78dfd929">iqSquashedOperandsExamined</a>;
<a name="l01195"></a>01195                 }
<a name="l01196"></a>01196             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!squashed_inst-&gt;isStoreConditional() ||
<a name="l01197"></a>01197                        !squashed_inst-&gt;isCompleted()) {
<a name="l01198"></a>01198                 <a class="code" href="classInstructionQueue.html#a0e9597437fae9e60d5449933949416ec">NonSpecMapIt</a> ns_inst_it =
<a name="l01199"></a>01199                     <a class="code" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a>.find(squashed_inst-&gt;seqNum);
<a name="l01200"></a>01200 
<a name="l01201"></a>01201                 <span class="comment">// we remove non-speculative instructions from</span>
<a name="l01202"></a>01202                 <span class="comment">// nonSpecInsts already when they are ready, and so we</span>
<a name="l01203"></a>01203                 <span class="comment">// cannot always expect to find them</span>
<a name="l01204"></a>01204                 <span class="keywordflow">if</span> (ns_inst_it == <a class="code" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a>.end()) {
<a name="l01205"></a>01205                     <span class="comment">// loads that became ready but stalled on a</span>
<a name="l01206"></a>01206                     <span class="comment">// blocked cache are alreayd removed from</span>
<a name="l01207"></a>01207                     <span class="comment">// nonSpecInsts, and have not faulted</span>
<a name="l01208"></a>01208                     assert(squashed_inst-&gt;getFault() != <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a> ||
<a name="l01209"></a>01209                            squashed_inst-&gt;isMemRef());
<a name="l01210"></a>01210                 } <span class="keywordflow">else</span> {
<a name="l01211"></a>01211 
<a name="l01212"></a>01212                     (*ns_inst_it).second = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l01213"></a>01213 
<a name="l01214"></a>01214                     <a class="code" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a>.erase(ns_inst_it);
<a name="l01215"></a>01215 
<a name="l01216"></a>01216                     ++<a class="code" href="classInstructionQueue.html#a6c0b47431b6e84536fd9bb61624d6d97">iqSquashedNonSpecRemoved</a>;
<a name="l01217"></a>01217                 }
<a name="l01218"></a>01218             }
<a name="l01219"></a>01219 
<a name="l01220"></a>01220             <span class="comment">// Might want to also clear out the head of the dependency graph.</span>
<a name="l01221"></a>01221 
<a name="l01222"></a>01222             <span class="comment">// Mark it as squashed within the IQ.</span>
<a name="l01223"></a>01223             squashed_inst-&gt;setSquashedInIQ();
<a name="l01224"></a>01224 
<a name="l01225"></a>01225             <span class="comment">// @todo: Remove this hack where several statuses are set so the</span>
<a name="l01226"></a>01226             <span class="comment">// inst will flow through the rest of the pipeline.</span>
<a name="l01227"></a>01227             squashed_inst-&gt;setIssued();
<a name="l01228"></a>01228             squashed_inst-&gt;setCanCommit();
<a name="l01229"></a>01229             squashed_inst-&gt;clearInIQ();
<a name="l01230"></a>01230 
<a name="l01231"></a>01231             <span class="comment">//Update Thread IQ Count</span>
<a name="l01232"></a>01232             <a class="code" href="classInstructionQueue.html#ac638062ba1de6609f143c5ee3a601109">count</a>[squashed_inst-&gt;threadNumber]--;
<a name="l01233"></a>01233 
<a name="l01234"></a>01234             ++<a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a>;
<a name="l01235"></a>01235         }
<a name="l01236"></a>01236 
<a name="l01237"></a>01237         <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[tid].erase(squash_it--);
<a name="l01238"></a>01238         ++<a class="code" href="classInstructionQueue.html#a8312e8984bcfab5a77de40e1738103db">iqSquashedInstsExamined</a>;
<a name="l01239"></a>01239     }
<a name="l01240"></a>01240 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0240eb42fa57fe5d3788093f62b77347"></a><!-- doxytag: member="InstructionQueue::drainSanityCheck" ref="a0240eb42fa57fe5d3788093f62b77347" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drainSanityCheck </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform sanity checks after a drain. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00444"></a>00444 {
<a name="l00445"></a>00445     assert(<a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.empty());
<a name="l00446"></a>00446     assert(<a class="code" href="classInstructionQueue.html#a494cb455333d9f34ee4a3ab8ca5e50fd">instsToExecute</a>.empty());
<a name="l00447"></a>00447     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; ++tid)
<a name="l00448"></a>00448         <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[tid].<a class="code" href="classInstructionQueue.html#a0240eb42fa57fe5d3788093f62b77347">drainSanityCheck</a>();
<a name="l00449"></a>00449 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a80587b4fe043bbe1995536cb3b361588"></a><!-- doxytag: member="InstructionQueue::dumpInsts" ref="a80587b4fe043bbe1995536cb3b361588" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dumpInsts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Debugging function to dump out all instructions that are in the IQ. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01446"></a>01446 {
<a name="l01447"></a>01447     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; ++tid) {
<a name="l01448"></a>01448         <span class="keywordtype">int</span> num = 0;
<a name="l01449"></a>01449         <span class="keywordtype">int</span> valid_num = 0;
<a name="l01450"></a>01450         <a class="code" href="classInstructionQueue.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> inst_list_it = <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[tid].begin();
<a name="l01451"></a>01451 
<a name="l01452"></a>01452         <span class="keywordflow">while</span> (inst_list_it != <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[tid].end()) {
<a name="l01453"></a>01453             <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Instruction:%i\n&quot;</span>, num);
<a name="l01454"></a>01454             <span class="keywordflow">if</span> (!(*inst_list_it)-&gt;isSquashed()) {
<a name="l01455"></a>01455                 <span class="keywordflow">if</span> (!(*inst_list_it)-&gt;isIssued()) {
<a name="l01456"></a>01456                     ++valid_num;
<a name="l01457"></a>01457                     <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Count:%i\n&quot;</span>, valid_num);
<a name="l01458"></a>01458                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((*inst_list_it)-&gt;isMemRef() &amp;&amp;
<a name="l01459"></a>01459                            !(*inst_list_it)-&gt;memOpDone()) {
<a name="l01460"></a>01460                     <span class="comment">// Loads that have not been marked as executed</span>
<a name="l01461"></a>01461                     <span class="comment">// still count towards the total instructions.</span>
<a name="l01462"></a>01462                     ++valid_num;
<a name="l01463"></a>01463                     <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Count:%i\n&quot;</span>, valid_num);
<a name="l01464"></a>01464                 }
<a name="l01465"></a>01465             }
<a name="l01466"></a>01466 
<a name="l01467"></a>01467             <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;PC: %s\n[sn:%lli]\n[tid:%i]\n&quot;</span>
<a name="l01468"></a>01468                     <span class="stringliteral">&quot;Issued:%i\nSquashed:%i\n&quot;</span>,
<a name="l01469"></a>01469                     (*inst_list_it)-&gt;pcState(),
<a name="l01470"></a>01470                     (*inst_list_it)-&gt;seqNum,
<a name="l01471"></a>01471                     (*inst_list_it)-&gt;threadNumber,
<a name="l01472"></a>01472                     (*inst_list_it)-&gt;isIssued(),
<a name="l01473"></a>01473                     (*inst_list_it)-&gt;isSquashed());
<a name="l01474"></a>01474 
<a name="l01475"></a>01475             <span class="keywordflow">if</span> ((*inst_list_it)-&gt;isMemRef()) {
<a name="l01476"></a>01476                 <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;MemOpDone:%i\n&quot;</span>, (*inst_list_it)-&gt;memOpDone());
<a name="l01477"></a>01477             }
<a name="l01478"></a>01478 
<a name="l01479"></a>01479             <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01480"></a>01480 
<a name="l01481"></a>01481             inst_list_it++;
<a name="l01482"></a>01482             ++num;
<a name="l01483"></a>01483         }
<a name="l01484"></a>01484     }
<a name="l01485"></a>01485 
<a name="l01486"></a>01486     <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Insts to Execute list:\n&quot;</span>);
<a name="l01487"></a>01487 
<a name="l01488"></a>01488     <span class="keywordtype">int</span> num = 0;
<a name="l01489"></a>01489     <span class="keywordtype">int</span> valid_num = 0;
<a name="l01490"></a>01490     <a class="code" href="classInstructionQueue.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> inst_list_it = <a class="code" href="classInstructionQueue.html#a494cb455333d9f34ee4a3ab8ca5e50fd">instsToExecute</a>.begin();
<a name="l01491"></a>01491 
<a name="l01492"></a>01492     <span class="keywordflow">while</span> (inst_list_it != <a class="code" href="classInstructionQueue.html#a494cb455333d9f34ee4a3ab8ca5e50fd">instsToExecute</a>.end())
<a name="l01493"></a>01493     {
<a name="l01494"></a>01494         <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Instruction:%i\n&quot;</span>,
<a name="l01495"></a>01495                 num);
<a name="l01496"></a>01496         <span class="keywordflow">if</span> (!(*inst_list_it)-&gt;isSquashed()) {
<a name="l01497"></a>01497             <span class="keywordflow">if</span> (!(*inst_list_it)-&gt;isIssued()) {
<a name="l01498"></a>01498                 ++valid_num;
<a name="l01499"></a>01499                 <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Count:%i\n&quot;</span>, valid_num);
<a name="l01500"></a>01500             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((*inst_list_it)-&gt;isMemRef() &amp;&amp;
<a name="l01501"></a>01501                        !(*inst_list_it)-&gt;memOpDone()) {
<a name="l01502"></a>01502                 <span class="comment">// Loads that have not been marked as executed</span>
<a name="l01503"></a>01503                 <span class="comment">// still count towards the total instructions.</span>
<a name="l01504"></a>01504                 ++valid_num;
<a name="l01505"></a>01505                 <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Count:%i\n&quot;</span>, valid_num);
<a name="l01506"></a>01506             }
<a name="l01507"></a>01507         }
<a name="l01508"></a>01508 
<a name="l01509"></a>01509         <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;PC: %s\n[sn:%lli]\n[tid:%i]\n&quot;</span>
<a name="l01510"></a>01510                 <span class="stringliteral">&quot;Issued:%i\nSquashed:%i\n&quot;</span>,
<a name="l01511"></a>01511                 (*inst_list_it)-&gt;pcState(),
<a name="l01512"></a>01512                 (*inst_list_it)-&gt;seqNum,
<a name="l01513"></a>01513                 (*inst_list_it)-&gt;threadNumber,
<a name="l01514"></a>01514                 (*inst_list_it)-&gt;isIssued(),
<a name="l01515"></a>01515                 (*inst_list_it)-&gt;isSquashed());
<a name="l01516"></a>01516 
<a name="l01517"></a>01517         <span class="keywordflow">if</span> ((*inst_list_it)-&gt;isMemRef()) {
<a name="l01518"></a>01518             <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;MemOpDone:%i\n&quot;</span>, (*inst_list_it)-&gt;memOpDone());
<a name="l01519"></a>01519         }
<a name="l01520"></a>01520 
<a name="l01521"></a>01521         <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01522"></a>01522 
<a name="l01523"></a>01523         inst_list_it++;
<a name="l01524"></a>01524         ++num;
<a name="l01525"></a>01525     }
<a name="l01526"></a>01526 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3d1dae45e8e0b5cf7c1f4f8c796d070e"></a><!-- doxytag: member="InstructionQueue::dumpLists" ref="a3d1dae45e8e0b5cf7c1f4f8c796d070e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dumpLists </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Debugging function to dump all the list sizes, as well as print out the list of nonspeculative instructions. Should not be used in any other capacity, but it has no harmful sideaffects. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01403"></a>01403 {
<a name="l01404"></a>01404     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="op__class_8hh.html#a5e0e351c8afca390ef0a05a7dbb68b1b">Num_OpClasses</a>; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l01405"></a>01405         <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Ready list %i size: %i\n&quot;</span>, <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>, <a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].size());
<a name="l01406"></a>01406 
<a name="l01407"></a>01407         <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01408"></a>01408     }
<a name="l01409"></a>01409 
<a name="l01410"></a>01410     <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Non speculative list size: %i\n&quot;</span>, <a class="code" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a>.size());
<a name="l01411"></a>01411 
<a name="l01412"></a>01412     <a class="code" href="classInstructionQueue.html#a0e9597437fae9e60d5449933949416ec">NonSpecMapIt</a> non_spec_it = <a class="code" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a>.begin();
<a name="l01413"></a>01413     <a class="code" href="classInstructionQueue.html#a0e9597437fae9e60d5449933949416ec">NonSpecMapIt</a> non_spec_end_it = <a class="code" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a>.end();
<a name="l01414"></a>01414 
<a name="l01415"></a>01415     <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Non speculative list: &quot;</span>);
<a name="l01416"></a>01416 
<a name="l01417"></a>01417     <span class="keywordflow">while</span> (non_spec_it != non_spec_end_it) {
<a name="l01418"></a>01418         <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;%s [sn:%lli]&quot;</span>, (*non_spec_it).second-&gt;pcState(),
<a name="l01419"></a>01419                 (*non_spec_it).second-&gt;seqNum);
<a name="l01420"></a>01420         ++non_spec_it;
<a name="l01421"></a>01421     }
<a name="l01422"></a>01422 
<a name="l01423"></a>01423     <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01424"></a>01424 
<a name="l01425"></a>01425     <a class="code" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a> list_order_it = <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.begin();
<a name="l01426"></a>01426     <a class="code" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a> list_order_end_it = <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.end();
<a name="l01427"></a>01427     <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 1;
<a name="l01428"></a>01428 
<a name="l01429"></a>01429     <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;List order: &quot;</span>);
<a name="l01430"></a>01430 
<a name="l01431"></a>01431     <span class="keywordflow">while</span> (list_order_it != list_order_end_it) {
<a name="l01432"></a>01432         <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;%i OpClass:%i [sn:%lli] &quot;</span>, i, (*list_order_it).queueType,
<a name="l01433"></a>01433                 (*list_order_it).oldestInst);
<a name="l01434"></a>01434 
<a name="l01435"></a>01435         ++list_order_it;
<a name="l01436"></a>01436         ++i;
<a name="l01437"></a>01437     }
<a name="l01438"></a>01438 
<a name="l01439"></a>01439     <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01440"></a>01440 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5d2b0e4e7d98ea4ebd9fb98ac0d91e2f"></a><!-- doxytag: member="InstructionQueue::entryAmount" ref="a5d2b0e4e7d98ea4ebd9fb98ac0d91e2f" args="(ThreadID num_threads)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int entryAmount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>num_threads</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of entries needed for given amount of threads. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00461"></a>00461 {
<a name="l00462"></a>00462     <span class="keywordflow">if</span> (<a class="code" href="classInstructionQueue.html#a558c2854c6103193667179fa6ac0ac20">iqPolicy</a> == <a class="code" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31badd8dfa69b567f90d3f13d819109ab74e">Partitioned</a>) {
<a name="l00463"></a>00463         <span class="keywordflow">return</span> <a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a> / num_threads;
<a name="l00464"></a>00464     } <span class="keywordflow">else</span> {
<a name="l00465"></a>00465         <span class="keywordflow">return</span> 0;
<a name="l00466"></a>00466     }
<a name="l00467"></a>00467 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aaf7eb96b7ab2a8240d043b7d82494d15"></a><!-- doxytag: member="InstructionQueue::getCount" ref="aaf7eb96b7ab2a8240d043b7d82494d15" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned getCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the number of used entries for a thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00255"></a>00255 { <span class="keywordflow">return</span> <a class="code" href="classInstructionQueue.html#ac638062ba1de6609f143c5ee3a601109">count</a>[tid]; };
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae2aedd3b5257ee38cb5a4e307d2d50a5"></a><!-- doxytag: member="InstructionQueue::getDeferredMemInstToExecute" ref="ae2aedd3b5257ee38cb5a4e307d2d50a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Impl::DynInstPtr getDeferredMemInstToExecute </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a memory instruction that was referred due to a delayed DTB translation if it is now ready to execute. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01085"></a>01085 {
<a name="l01086"></a>01086     <span class="keywordflow">for</span> (<a class="code" href="classInstructionQueue.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> it = <a class="code" href="classInstructionQueue.html#a6ea0c1a972364b789a8b6831cf7828cf">deferredMemInsts</a>.begin(); it != <a class="code" href="classInstructionQueue.html#a6ea0c1a972364b789a8b6831cf7828cf">deferredMemInsts</a>.end();
<a name="l01087"></a>01087          ++it) {
<a name="l01088"></a>01088         <span class="keywordflow">if</span> ((*it)-&gt;translationCompleted() || (*it)-&gt;isSquashed()) {
<a name="l01089"></a>01089             <a class="code" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> ret = *it;
<a name="l01090"></a>01090             <a class="code" href="classInstructionQueue.html#a6ea0c1a972364b789a8b6831cf7828cf">deferredMemInsts</a>.erase(it);
<a name="l01091"></a>01091             <span class="keywordflow">return</span> ret;
<a name="l01092"></a>01092         }
<a name="l01093"></a>01093     }
<a name="l01094"></a>01094     <span class="keywordflow">return</span> <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l01095"></a>01095 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acf940a475d9687f26e8ab8a98c244f08"></a><!-- doxytag: member="InstructionQueue::getInstToExecute" ref="acf940a475d9687f26e8ab8a98c244f08" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Impl::DynInstPtr getInstToExecute </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the oldest scheduled instruction, and removes it from the list of instructions waiting to execute. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00640"></a>00640 {
<a name="l00641"></a>00641     assert(!<a class="code" href="classInstructionQueue.html#a494cb455333d9f34ee4a3ab8ca5e50fd">instsToExecute</a>.empty());
<a name="l00642"></a>00642     <a class="code" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> inst = <a class="code" href="classInstructionQueue.html#a494cb455333d9f34ee4a3ab8ca5e50fd">instsToExecute</a>.front();
<a name="l00643"></a>00643     <a class="code" href="classInstructionQueue.html#a494cb455333d9f34ee4a3ab8ca5e50fd">instsToExecute</a>.pop_front();
<a name="l00644"></a>00644     <span class="keywordflow">if</span> (inst-&gt;isFloating()){
<a name="l00645"></a>00645         <a class="code" href="classInstructionQueue.html#ac72607fe25b1d8aefd4ca2dda8533bb2">fpInstQueueReads</a>++;
<a name="l00646"></a>00646     } <span class="keywordflow">else</span> {
<a name="l00647"></a>00647         <a class="code" href="classInstructionQueue.html#a80520cf10aa5e634d9e3fb6cdc0aef2f">intInstQueueReads</a>++;
<a name="l00648"></a>00648     }
<a name="l00649"></a>00649     <span class="keywordflow">return</span> inst;
<a name="l00650"></a>00650 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae59aad9cee1e45b5817a9d96553e4567"></a><!-- doxytag: member="InstructionQueue::hasReadyInsts" ref="ae59aad9cee1e45b5817a9d96553e4567" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hasReadyInsts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if there are any ready instructions in the IQ. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00533"></a>00533 {
<a name="l00534"></a>00534     <span class="keywordflow">if</span> (!<a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.empty()) {
<a name="l00535"></a>00535         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00536"></a>00536     }
<a name="l00537"></a>00537 
<a name="l00538"></a>00538     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="op__class_8hh.html#a5e0e351c8afca390ef0a05a7dbb68b1b">Num_OpClasses</a>; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00539"></a>00539         <span class="keywordflow">if</span> (!<a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].empty()) {
<a name="l00540"></a>00540             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00541"></a>00541         }
<a name="l00542"></a>00542     }
<a name="l00543"></a>00543 
<a name="l00544"></a>00544     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00545"></a>00545 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a786595aecf8ab7aae40868b5ac4a79a7"></a><!-- doxytag: member="InstructionQueue::insert" ref="a786595aecf8ab7aae40868b5ac4a79a7" args="(DynInstPtr &amp;new_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>new_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Inserts a new instruction into the IQ. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00550"></a>00550 {
<a name="l00551"></a>00551     new_inst-&gt;isFloating() ? <a class="code" href="classInstructionQueue.html#a462728858d9c7392da1a4e3695a10c3c">fpInstQueueWrites</a>++ : <a class="code" href="classInstructionQueue.html#a095bbdf62a50bf39e824e7187cde5191">intInstQueueWrites</a>++;
<a name="l00552"></a>00552     <span class="comment">// Make sure the instruction is valid</span>
<a name="l00553"></a>00553     assert(new_inst);
<a name="l00554"></a>00554 
<a name="l00555"></a>00555     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Adding instruction [sn:%lli] PC %s to the IQ.\n&quot;</span>,
<a name="l00556"></a>00556             new_inst-&gt;seqNum, new_inst-&gt;pcState());
<a name="l00557"></a>00557 
<a name="l00558"></a>00558     assert(<a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a> != 0);
<a name="l00559"></a>00559 
<a name="l00560"></a>00560     <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[new_inst-&gt;threadNumber].push_back(new_inst);
<a name="l00561"></a>00561 
<a name="l00562"></a>00562     --<a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a>;
<a name="l00563"></a>00563 
<a name="l00564"></a>00564     new_inst-&gt;setInIQ();
<a name="l00565"></a>00565 
<a name="l00566"></a>00566     <span class="comment">// Look through its source registers (physical regs), and mark any</span>
<a name="l00567"></a>00567     <span class="comment">// dependencies.</span>
<a name="l00568"></a>00568     <a class="code" href="classInstructionQueue.html#abeb630fedb38de020599d2a1abd4b02d">addToDependents</a>(new_inst);
<a name="l00569"></a>00569 
<a name="l00570"></a>00570     <span class="comment">// Have this instruction set itself as the producer of its destination</span>
<a name="l00571"></a>00571     <span class="comment">// register(s).</span>
<a name="l00572"></a>00572     <a class="code" href="classInstructionQueue.html#af89be5ea301621fdfb44941b4db60339">addToProducers</a>(new_inst);
<a name="l00573"></a>00573 
<a name="l00574"></a>00574     <span class="keywordflow">if</span> (new_inst-&gt;isMemRef()) {
<a name="l00575"></a>00575         <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[new_inst-&gt;threadNumber].<a class="code" href="classMemDepUnit.html#a773e88db1aa010c3755e603493bf40ec">insert</a>(new_inst);
<a name="l00576"></a>00576     } <span class="keywordflow">else</span> {
<a name="l00577"></a>00577         <a class="code" href="classInstructionQueue.html#a7e3f1fa43ca939ed6fd9b3abcc47f06e">addIfReady</a>(new_inst);
<a name="l00578"></a>00578     }
<a name="l00579"></a>00579 
<a name="l00580"></a>00580     ++<a class="code" href="classInstructionQueue.html#a435e1ce10c3a7f54a60941e583adeb09">iqInstsAdded</a>;
<a name="l00581"></a>00581 
<a name="l00582"></a>00582     <a class="code" href="classInstructionQueue.html#ac638062ba1de6609f143c5ee3a601109">count</a>[new_inst-&gt;threadNumber]++;
<a name="l00583"></a>00583 
<a name="l00584"></a>00584     assert(<a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a> == (<a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a> - <a class="code" href="classInstructionQueue.html#ab654970f03abd90f0c397bba8e218bc9">countInsts</a>()));
<a name="l00585"></a>00585 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae556f19566bae9c4f55350eab17abacd"></a><!-- doxytag: member="InstructionQueue::insertBarrier" ref="ae556f19566bae9c4f55350eab17abacd" args="(DynInstPtr &amp;barr_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insertBarrier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>barr_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Inserts a memory or write barrier into the IQ to make sure loads and stores are ordered properly. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00631"></a>00631 {
<a name="l00632"></a>00632     <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[barr_inst-&gt;threadNumber].<a class="code" href="classMemDepUnit.html#ae556f19566bae9c4f55350eab17abacd">insertBarrier</a>(barr_inst);
<a name="l00633"></a>00633 
<a name="l00634"></a>00634     <a class="code" href="classInstructionQueue.html#a4f7523e76440d88096a4eac14f2e0dd3">insertNonSpec</a>(barr_inst);
<a name="l00635"></a>00635 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4f7523e76440d88096a4eac14f2e0dd3"></a><!-- doxytag: member="InstructionQueue::insertNonSpec" ref="a4f7523e76440d88096a4eac14f2e0dd3" args="(DynInstPtr &amp;new_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insertNonSpec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>new_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Inserts a new, non-speculative instruction into the IQ. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00590"></a>00590 {
<a name="l00591"></a>00591     <span class="comment">// @todo: Clean up this code; can do it by setting inst as unable</span>
<a name="l00592"></a>00592     <span class="comment">// to issue, then calling normal insert on the inst.</span>
<a name="l00593"></a>00593     new_inst-&gt;isFloating() ? <a class="code" href="classInstructionQueue.html#a462728858d9c7392da1a4e3695a10c3c">fpInstQueueWrites</a>++ : <a class="code" href="classInstructionQueue.html#a095bbdf62a50bf39e824e7187cde5191">intInstQueueWrites</a>++;
<a name="l00594"></a>00594 
<a name="l00595"></a>00595     assert(new_inst);
<a name="l00596"></a>00596 
<a name="l00597"></a>00597     <a class="code" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a>[new_inst-&gt;seqNum] = new_inst;
<a name="l00598"></a>00598 
<a name="l00599"></a>00599     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Adding non-speculative instruction [sn:%lli] PC %s &quot;</span>
<a name="l00600"></a>00600             <span class="stringliteral">&quot;to the IQ.\n&quot;</span>,
<a name="l00601"></a>00601             new_inst-&gt;seqNum, new_inst-&gt;pcState());
<a name="l00602"></a>00602 
<a name="l00603"></a>00603     assert(<a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a> != 0);
<a name="l00604"></a>00604 
<a name="l00605"></a>00605     <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[new_inst-&gt;threadNumber].push_back(new_inst);
<a name="l00606"></a>00606 
<a name="l00607"></a>00607     --<a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a>;
<a name="l00608"></a>00608 
<a name="l00609"></a>00609     new_inst-&gt;setInIQ();
<a name="l00610"></a>00610 
<a name="l00611"></a>00611     <span class="comment">// Have this instruction set itself as the producer of its destination</span>
<a name="l00612"></a>00612     <span class="comment">// register(s).</span>
<a name="l00613"></a>00613     <a class="code" href="classInstructionQueue.html#af89be5ea301621fdfb44941b4db60339">addToProducers</a>(new_inst);
<a name="l00614"></a>00614 
<a name="l00615"></a>00615     <span class="comment">// If it&apos;s a memory instruction, add it to the memory dependency</span>
<a name="l00616"></a>00616     <span class="comment">// unit.</span>
<a name="l00617"></a>00617     <span class="keywordflow">if</span> (new_inst-&gt;isMemRef()) {
<a name="l00618"></a>00618         <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[new_inst-&gt;threadNumber].<a class="code" href="classMemDepUnit.html#ad7036279ba36a8cfaf65554d1a5dbaac">insertNonSpec</a>(new_inst);
<a name="l00619"></a>00619     }
<a name="l00620"></a>00620 
<a name="l00621"></a>00621     ++<a class="code" href="classInstructionQueue.html#adf890a08fae50ea8249171b07c40adac">iqNonSpecInstsAdded</a>;
<a name="l00622"></a>00622 
<a name="l00623"></a>00623     <a class="code" href="classInstructionQueue.html#ac638062ba1de6609f143c5ee3a601109">count</a>[new_inst-&gt;threadNumber]++;
<a name="l00624"></a>00624 
<a name="l00625"></a>00625     assert(<a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a> == (<a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a> - <a class="code" href="classInstructionQueue.html#ab654970f03abd90f0c397bba8e218bc9">countInsts</a>()));
<a name="l00626"></a>00626 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a30fac732df9b3fda011c7329a112cb31"></a><!-- doxytag: member="InstructionQueue::isFull" ref="a30fac732df9b3fda011c7329a112cb31" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isFull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns whether or not the IQ is full for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00522"></a>00522 {
<a name="l00523"></a>00523     <span class="keywordflow">if</span> (<a class="code" href="classInstructionQueue.html#a028971a565aca048c67ea1c36a6a9d51">numFreeEntries</a>(tid) == 0) {
<a name="l00524"></a>00524         <span class="keywordflow">return</span>(<span class="keyword">true</span>);
<a name="l00525"></a>00525     } <span class="keywordflow">else</span> {
<a name="l00526"></a>00526         <span class="keywordflow">return</span>(<span class="keyword">false</span>);
<a name="l00527"></a>00527     }
<a name="l00528"></a>00528 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3e70330939fdfc4dbc2f60c1a660584d"></a><!-- doxytag: member="InstructionQueue::isFull" ref="a3e70330939fdfc4dbc2f60c1a660584d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isFull </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns whether or not the IQ is full. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00511"></a>00511 {
<a name="l00512"></a>00512     <span class="keywordflow">if</span> (<a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a> == 0) {
<a name="l00513"></a>00513         <span class="keywordflow">return</span>(<span class="keyword">true</span>);
<a name="l00514"></a>00514     } <span class="keywordflow">else</span> {
<a name="l00515"></a>00515         <span class="keywordflow">return</span>(<span class="keyword">false</span>);
<a name="l00516"></a>00516     }
<a name="l00517"></a>00517 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae4cc92176e08b27989bb2838e4e32b1c"></a><!-- doxytag: member="InstructionQueue::moveToYoungerInst" ref="ae4cc92176e08b27989bb2838e4e32b1c" args="(ListOrderIt age_order_it)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void moveToYoungerInst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a>&nbsp;</td>
          <td class="paramname"> <em>age_order_it</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when the oldest instruction has been removed from a ready queue; this places that ready queue into the proper spot in the age order list. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00682"></a>00682 {
<a name="l00683"></a>00683     <span class="comment">// Get iterator of next item on the list</span>
<a name="l00684"></a>00684     <span class="comment">// Delete the original iterator</span>
<a name="l00685"></a>00685     <span class="comment">// Determine if the next item is either the end of the list or younger</span>
<a name="l00686"></a>00686     <span class="comment">// than the new instruction.  If so, then add in a new iterator right here.</span>
<a name="l00687"></a>00687     <span class="comment">// If not, then move along.</span>
<a name="l00688"></a>00688     ListOrderEntry queue_entry;
<a name="l00689"></a>00689     OpClass op_class = (*list_order_it).queueType;
<a name="l00690"></a>00690     <a class="code" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a> next_it = list_order_it;
<a name="l00691"></a>00691 
<a name="l00692"></a>00692     ++next_it;
<a name="l00693"></a>00693 
<a name="l00694"></a>00694     queue_entry.queueType = op_class;
<a name="l00695"></a>00695     queue_entry.oldestInst = <a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].top()-&gt;seqNum;
<a name="l00696"></a>00696 
<a name="l00697"></a>00697     <span class="keywordflow">while</span> (next_it != <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.end() &amp;&amp;
<a name="l00698"></a>00698            (*next_it).oldestInst &lt; queue_entry.oldestInst) {
<a name="l00699"></a>00699         ++next_it;
<a name="l00700"></a>00700     }
<a name="l00701"></a>00701 
<a name="l00702"></a>00702     <a class="code" href="classInstructionQueue.html#ac6c2d86489eaee465f91586553c3593f">readyIt</a>[op_class] = <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.insert(next_it, queue_entry);
<a name="l00703"></a>00703 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a37627d5d5bba7f4a8690c71c2ab3cb07"></a><!-- doxytag: member="InstructionQueue::name" ref="a37627d5d5bba7f4a8690c71c2ab3cb07" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the name of the IQ. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00180"></a>00180 {
<a name="l00181"></a>00181     <span class="keywordflow">return</span> <a class="code" href="classInstructionQueue.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>-&gt;name() + <span class="stringliteral">&quot;.iq&quot;</span>;
<a name="l00182"></a>00182 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acc878f608deead5b5319a6a3f98b50c8"></a><!-- doxytag: member="InstructionQueue::numFreeEntries" ref="acc878f608deead5b5319a6a3f98b50c8" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned numFreeEntries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns number of free entries for a thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00502"></a>00502 {
<a name="l00503"></a>00503     <span class="keywordflow">return</span> <a class="code" href="classInstructionQueue.html#a51e5f9f0cb40d61e95b1518f1be90b73">maxEntries</a>[tid] - <a class="code" href="classInstructionQueue.html#ac638062ba1de6609f143c5ee3a601109">count</a>[tid];
<a name="l00504"></a>00504 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a028971a565aca048c67ea1c36a6a9d51"></a><!-- doxytag: member="InstructionQueue::numFreeEntries" ref="a028971a565aca048c67ea1c36a6a9d51" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned numFreeEntries </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns total number of free entries. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00495"></a>00495 {
<a name="l00496"></a>00496     <span class="keywordflow">return</span> <a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a>;
<a name="l00497"></a>00497 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afc9c0c90c27fe0dc8bd4da915596bc21"></a><!-- doxytag: member="InstructionQueue::printInsts" ref="afc9c0c90c27fe0dc8bd4da915596bc21" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printInsts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="namespaceDebug.html">Debug</a> function to print all instructions. </p>

</div>
</div>
<a class="anchor" id="ad118e191396cf75b93afd066a6a3f486"></a><!-- doxytag: member="InstructionQueue::processFUCompletion" ref="ad118e191396cf75b93afd066a6a3f486" args="(DynInstPtr &amp;inst, int fu_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processFUCompletion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fu_idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classProcess.html">Process</a> FU completion event. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00708"></a>00708 {
<a name="l00709"></a>00709     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Processing FU completion [sn:%lli]\n&quot;</span>, inst-&gt;seqNum);
<a name="l00710"></a>00710     assert(!<a class="code" href="classInstructionQueue.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>-&gt;switchedOut());
<a name="l00711"></a>00711     <span class="comment">// The CPU could have been sleeping until this op completed (*extremely*</span>
<a name="l00712"></a>00712     <span class="comment">// long latency op).  Wake it if it was.  This may be overkill.</span>
<a name="l00713"></a>00713     <a class="code" href="classInstructionQueue.html#a4e9ef25d8913b270d432be4bbfe4965c">iewStage</a>-&gt;wakeCPU();
<a name="l00714"></a>00714 
<a name="l00715"></a>00715     <span class="keywordflow">if</span> (fu_idx &gt; -1)
<a name="l00716"></a>00716         <a class="code" href="classInstructionQueue.html#a480782fc1cfd21fd9748b26f2a08b97a">fuPool</a>-&gt;<a class="code" href="classFUPool.html#acc1a8526665e1f0cc2c346754ab30f4f">freeUnitNextCycle</a>(fu_idx);
<a name="l00717"></a>00717 
<a name="l00718"></a>00718     <span class="comment">// @todo: Ensure that these FU Completions happen at the beginning</span>
<a name="l00719"></a>00719     <span class="comment">// of a cycle, otherwise they could add too many instructions to</span>
<a name="l00720"></a>00720     <span class="comment">// the queue.</span>
<a name="l00721"></a>00721     <a class="code" href="classInstructionQueue.html#af5c55240e63d9a13358eede4eb5352f1">issueToExecuteQueue</a>-&gt;<a class="code" href="classTimeBuffer.html#a2c53cc1d80866083c0c997a6d685264a">access</a>(-1)-&gt;<a class="code" href="structIssueStruct.html#a439227feff9d7f55384e8780cfc2eb82">size</a>++;
<a name="l00722"></a>00722     <a class="code" href="classInstructionQueue.html#a494cb455333d9f34ee4a3ab8ca5e50fd">instsToExecute</a>.push_back(inst);
<a name="l00723"></a>00723 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae43022d3677118a4ab40113712045f64"></a><!-- doxytag: member="InstructionQueue::recordProducer" ref="ae43022d3677118a4ab40113712045f64" args="(DynInstPtr &amp;inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void recordProducer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Records the instruction as the producer of a register without adding it to the rest of the IQ. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00201"></a>00201     { <a class="code" href="classInstructionQueue.html#af89be5ea301621fdfb44941b4db60339">addToProducers</a>(inst); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4dc637449366fcdfc4e764cdf12d9b11"></a><!-- doxytag: member="InstructionQueue::regStats" ref="a4dc637449366fcdfc4e764cdf12d9b11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void regStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Registers statistics. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00187"></a>00187 {
<a name="l00188"></a>00188     <span class="keyword">using namespace </span>Stats;
<a name="l00189"></a>00189     <a class="code" href="classInstructionQueue.html#a435e1ce10c3a7f54a60941e583adeb09">iqInstsAdded</a>
<a name="l00190"></a>00190         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqInstsAdded&quot;</span>)
<a name="l00191"></a>00191         .desc(<span class="stringliteral">&quot;Number of instructions added to the IQ (excludes non-spec)&quot;</span>)
<a name="l00192"></a>00192         .prereq(<a class="code" href="classInstructionQueue.html#a435e1ce10c3a7f54a60941e583adeb09">iqInstsAdded</a>);
<a name="l00193"></a>00193 
<a name="l00194"></a>00194     <a class="code" href="classInstructionQueue.html#adf890a08fae50ea8249171b07c40adac">iqNonSpecInstsAdded</a>
<a name="l00195"></a>00195         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqNonSpecInstsAdded&quot;</span>)
<a name="l00196"></a>00196         .desc(<span class="stringliteral">&quot;Number of non-speculative instructions added to the IQ&quot;</span>)
<a name="l00197"></a>00197         .prereq(<a class="code" href="classInstructionQueue.html#adf890a08fae50ea8249171b07c40adac">iqNonSpecInstsAdded</a>);
<a name="l00198"></a>00198 
<a name="l00199"></a>00199     <a class="code" href="classInstructionQueue.html#accc6261a817718dbb727c65f310df357">iqInstsIssued</a>
<a name="l00200"></a>00200         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqInstsIssued&quot;</span>)
<a name="l00201"></a>00201         .desc(<span class="stringliteral">&quot;Number of instructions issued&quot;</span>)
<a name="l00202"></a>00202         .prereq(<a class="code" href="classInstructionQueue.html#accc6261a817718dbb727c65f310df357">iqInstsIssued</a>);
<a name="l00203"></a>00203 
<a name="l00204"></a>00204     <a class="code" href="classInstructionQueue.html#a735f2023e70e53b7889a3a316bd3d57f">iqIntInstsIssued</a>
<a name="l00205"></a>00205         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqIntInstsIssued&quot;</span>)
<a name="l00206"></a>00206         .desc(<span class="stringliteral">&quot;Number of integer instructions issued&quot;</span>)
<a name="l00207"></a>00207         .prereq(<a class="code" href="classInstructionQueue.html#a735f2023e70e53b7889a3a316bd3d57f">iqIntInstsIssued</a>);
<a name="l00208"></a>00208 
<a name="l00209"></a>00209     <a class="code" href="classInstructionQueue.html#aa9f2fa124c9f0b4b22461b6717449d9a">iqFloatInstsIssued</a>
<a name="l00210"></a>00210         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqFloatInstsIssued&quot;</span>)
<a name="l00211"></a>00211         .desc(<span class="stringliteral">&quot;Number of float instructions issued&quot;</span>)
<a name="l00212"></a>00212         .prereq(<a class="code" href="classInstructionQueue.html#aa9f2fa124c9f0b4b22461b6717449d9a">iqFloatInstsIssued</a>);
<a name="l00213"></a>00213 
<a name="l00214"></a>00214     <a class="code" href="classInstructionQueue.html#a928f22a2c6ce592adc40e5242c9d6572">iqBranchInstsIssued</a>
<a name="l00215"></a>00215         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqBranchInstsIssued&quot;</span>)
<a name="l00216"></a>00216         .desc(<span class="stringliteral">&quot;Number of branch instructions issued&quot;</span>)
<a name="l00217"></a>00217         .prereq(<a class="code" href="classInstructionQueue.html#a928f22a2c6ce592adc40e5242c9d6572">iqBranchInstsIssued</a>);
<a name="l00218"></a>00218 
<a name="l00219"></a>00219     <a class="code" href="classInstructionQueue.html#a5e7d55d3f07e86e389ca3a715766e108">iqMemInstsIssued</a>
<a name="l00220"></a>00220         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqMemInstsIssued&quot;</span>)
<a name="l00221"></a>00221         .desc(<span class="stringliteral">&quot;Number of memory instructions issued&quot;</span>)
<a name="l00222"></a>00222         .prereq(<a class="code" href="classInstructionQueue.html#a5e7d55d3f07e86e389ca3a715766e108">iqMemInstsIssued</a>);
<a name="l00223"></a>00223 
<a name="l00224"></a>00224     <a class="code" href="classInstructionQueue.html#ad234890bc414fffe7ed71840c51be5cb">iqMiscInstsIssued</a>
<a name="l00225"></a>00225         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqMiscInstsIssued&quot;</span>)
<a name="l00226"></a>00226         .desc(<span class="stringliteral">&quot;Number of miscellaneous instructions issued&quot;</span>)
<a name="l00227"></a>00227         .prereq(<a class="code" href="classInstructionQueue.html#ad234890bc414fffe7ed71840c51be5cb">iqMiscInstsIssued</a>);
<a name="l00228"></a>00228 
<a name="l00229"></a>00229     <a class="code" href="classInstructionQueue.html#ac91799c895e5aff3af0afdbd7691a163">iqSquashedInstsIssued</a>
<a name="l00230"></a>00230         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqSquashedInstsIssued&quot;</span>)
<a name="l00231"></a>00231         .desc(<span class="stringliteral">&quot;Number of squashed instructions issued&quot;</span>)
<a name="l00232"></a>00232         .prereq(<a class="code" href="classInstructionQueue.html#ac91799c895e5aff3af0afdbd7691a163">iqSquashedInstsIssued</a>);
<a name="l00233"></a>00233 
<a name="l00234"></a>00234     <a class="code" href="classInstructionQueue.html#a8312e8984bcfab5a77de40e1738103db">iqSquashedInstsExamined</a>
<a name="l00235"></a>00235         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqSquashedInstsExamined&quot;</span>)
<a name="l00236"></a>00236         .desc(<span class="stringliteral">&quot;Number of squashed instructions iterated over during squash;&quot;</span>
<a name="l00237"></a>00237               <span class="stringliteral">&quot; mainly for profiling&quot;</span>)
<a name="l00238"></a>00238         .prereq(<a class="code" href="classInstructionQueue.html#a8312e8984bcfab5a77de40e1738103db">iqSquashedInstsExamined</a>);
<a name="l00239"></a>00239 
<a name="l00240"></a>00240     <a class="code" href="classInstructionQueue.html#a4398b6005b81008bd163bbba78dfd929">iqSquashedOperandsExamined</a>
<a name="l00241"></a>00241         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqSquashedOperandsExamined&quot;</span>)
<a name="l00242"></a>00242         .desc(<span class="stringliteral">&quot;Number of squashed operands that are examined and possibly &quot;</span>
<a name="l00243"></a>00243               <span class="stringliteral">&quot;removed from graph&quot;</span>)
<a name="l00244"></a>00244         .prereq(<a class="code" href="classInstructionQueue.html#a4398b6005b81008bd163bbba78dfd929">iqSquashedOperandsExamined</a>);
<a name="l00245"></a>00245 
<a name="l00246"></a>00246     <a class="code" href="classInstructionQueue.html#a6c0b47431b6e84536fd9bb61624d6d97">iqSquashedNonSpecRemoved</a>
<a name="l00247"></a>00247         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.iqSquashedNonSpecRemoved&quot;</span>)
<a name="l00248"></a>00248         .desc(<span class="stringliteral">&quot;Number of squashed non-spec instructions that were removed&quot;</span>)
<a name="l00249"></a>00249         .prereq(<a class="code" href="classInstructionQueue.html#a6c0b47431b6e84536fd9bb61624d6d97">iqSquashedNonSpecRemoved</a>);
<a name="l00250"></a>00250 <span class="comment">/*</span>
<a name="l00251"></a>00251 <span class="comment">    queueResDist</span>
<a name="l00252"></a>00252 <span class="comment">        .init(Num_OpClasses, 0, 99, 2)</span>
<a name="l00253"></a>00253 <span class="comment">        .name(name() + &quot;.IQ:residence:&quot;)</span>
<a name="l00254"></a>00254 <span class="comment">        .desc(&quot;cycles from dispatch to issue&quot;)</span>
<a name="l00255"></a>00255 <span class="comment">        .flags(total | pdf | cdf )</span>
<a name="l00256"></a>00256 <span class="comment">        ;</span>
<a name="l00257"></a>00257 <span class="comment">    for (int i = 0; i &lt; Num_OpClasses; ++i) {</span>
<a name="l00258"></a>00258 <span class="comment">        queueResDist.subname(i, opClassStrings[i]);</span>
<a name="l00259"></a>00259 <span class="comment">    }</span>
<a name="l00260"></a>00260 <span class="comment">*/</span>
<a name="l00261"></a>00261     <a class="code" href="classInstructionQueue.html#a90810f5beb7dff46f4b45f96620474b6">numIssuedDist</a>
<a name="l00262"></a>00262         .<a class="code" href="classStats_1_1Distribution.html#a330a131f9f1614fae623ba309b61a590">init</a>(0,<a class="code" href="classInstructionQueue.html#ab3c3a8cd00248d9cd6acad330da902a7">totalWidth</a>,1)
<a name="l00263"></a>00263         .name(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.issued_per_cycle&quot;</span>)
<a name="l00264"></a>00264         .desc(<span class="stringliteral">&quot;Number of insts issued each cycle&quot;</span>)
<a name="l00265"></a>00265         .flags(<a class="code" href="namespaceStats.html#a148700bbb7b09b1ebb9d6b099155391a">pdf</a>)
<a name="l00266"></a>00266         ;
<a name="l00267"></a>00267 <span class="comment">/*</span>
<a name="l00268"></a>00268 <span class="comment">    dist_unissued</span>
<a name="l00269"></a>00269 <span class="comment">        .init(Num_OpClasses+2)</span>
<a name="l00270"></a>00270 <span class="comment">        .name(name() + &quot;.unissued_cause&quot;)</span>
<a name="l00271"></a>00271 <span class="comment">        .desc(&quot;Reason ready instruction not issued&quot;)</span>
<a name="l00272"></a>00272 <span class="comment">        .flags(pdf | dist)</span>
<a name="l00273"></a>00273 <span class="comment">        ;</span>
<a name="l00274"></a>00274 <span class="comment">    for (int i=0; i &lt; (Num_OpClasses + 2); ++i) {</span>
<a name="l00275"></a>00275 <span class="comment">        dist_unissued.subname(i, unissued_names[i]);</span>
<a name="l00276"></a>00276 <span class="comment">    }</span>
<a name="l00277"></a>00277 <span class="comment">*/</span>
<a name="l00278"></a>00278     <a class="code" href="classInstructionQueue.html#abb8998de49604769ec252fbd0ac1ed2b">statIssuedInstType</a>
<a name="l00279"></a>00279         .<a class="code" href="classStats_1_1Vector2dBase.html#ab9a02aa81f6a70a71d2dc2c155acbcac">init</a>(<a class="code" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>,Enums::Num_OpClass)
<a name="l00280"></a>00280         .name(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.FU_type&quot;</span>)
<a name="l00281"></a>00281         .desc(<span class="stringliteral">&quot;Type of FU issued&quot;</span>)
<a name="l00282"></a>00282         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a> | <a class="code" href="namespaceStats.html#a148700bbb7b09b1ebb9d6b099155391a">pdf</a> | <a class="code" href="namespaceStats.html#a25cf6f3e458aaa5fdf87fc287ef0376e">dist</a>)
<a name="l00283"></a>00283         ;
<a name="l00284"></a>00284     <a class="code" href="classInstructionQueue.html#abb8998de49604769ec252fbd0ac1ed2b">statIssuedInstType</a>.<a class="code" href="classStats_1_1DataWrapVec2d.html#af87b1ae68d8479e89e6c66bbd2e0936c">ysubnames</a>(Enums::OpClassStrings);
<a name="l00285"></a>00285 
<a name="l00286"></a>00286     <span class="comment">//</span>
<a name="l00287"></a>00287     <span class="comment">//  How long did instructions for a particular FU type wait prior to issue</span>
<a name="l00288"></a>00288     <span class="comment">//</span>
<a name="l00289"></a>00289 <span class="comment">/*</span>
<a name="l00290"></a>00290 <span class="comment">    issueDelayDist</span>
<a name="l00291"></a>00291 <span class="comment">        .init(Num_OpClasses,0,99,2)</span>
<a name="l00292"></a>00292 <span class="comment">        .name(name() + &quot;.&quot;)</span>
<a name="l00293"></a>00293 <span class="comment">        .desc(&quot;cycles from operands ready to issue&quot;)</span>
<a name="l00294"></a>00294 <span class="comment">        .flags(pdf | cdf)</span>
<a name="l00295"></a>00295 <span class="comment">        ;</span>
<a name="l00296"></a>00296 <span class="comment"></span>
<a name="l00297"></a>00297 <span class="comment">    for (int i=0; i&lt;Num_OpClasses; ++i) {</span>
<a name="l00298"></a>00298 <span class="comment">        std::stringstream subname;</span>
<a name="l00299"></a>00299 <span class="comment">        subname &lt;&lt; opClassStrings[i] &lt;&lt; &quot;_delay&quot;;</span>
<a name="l00300"></a>00300 <span class="comment">        issueDelayDist.subname(i, subname.str());</span>
<a name="l00301"></a>00301 <span class="comment">    }</span>
<a name="l00302"></a>00302 <span class="comment">*/</span>
<a name="l00303"></a>00303     <a class="code" href="classInstructionQueue.html#a6a9ed0564894e83d4c3c5784f667c5e0">issueRate</a>
<a name="l00304"></a>00304         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.rate&quot;</span>)
<a name="l00305"></a>00305         .desc(<span class="stringliteral">&quot;Inst issue rate&quot;</span>)
<a name="l00306"></a>00306         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>)
<a name="l00307"></a>00307         ;
<a name="l00308"></a>00308     <a class="code" href="classInstructionQueue.html#a6a9ed0564894e83d4c3c5784f667c5e0">issueRate</a> = <a class="code" href="classInstructionQueue.html#accc6261a817718dbb727c65f310df357">iqInstsIssued</a> / <a class="code" href="classInstructionQueue.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>-&gt;numCycles;
<a name="l00309"></a>00309 
<a name="l00310"></a>00310     <a class="code" href="classInstructionQueue.html#a92266bfdbc9a6de5005fc3f1654e0b3e">statFuBusy</a>
<a name="l00311"></a>00311         .<a class="code" href="classStats_1_1VectorBase.html#ae41cad1a02eeb7958df026d8e2cc7582">init</a>(<a class="code" href="op__class_8hh.html#a5e0e351c8afca390ef0a05a7dbb68b1b">Num_OpClasses</a>)
<a name="l00312"></a>00312         .name(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.fu_full&quot;</span>)
<a name="l00313"></a>00313         .desc(<span class="stringliteral">&quot;attempts to use FU when none available&quot;</span>)
<a name="l00314"></a>00314         .flags(<a class="code" href="namespaceStats.html#a148700bbb7b09b1ebb9d6b099155391a">pdf</a> | <a class="code" href="namespaceStats.html#a25cf6f3e458aaa5fdf87fc287ef0376e">dist</a>)
<a name="l00315"></a>00315         ;
<a name="l00316"></a>00316     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>=0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="op__class_8hh.html#a5e0e351c8afca390ef0a05a7dbb68b1b">Num_OpClasses</a>; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00317"></a>00317         <a class="code" href="classInstructionQueue.html#a92266bfdbc9a6de5005fc3f1654e0b3e">statFuBusy</a>.<a class="code" href="classStats_1_1DataWrapVec.html#a74726d23d92792c7c3cebdaf3bfd23f0">subname</a>(<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>, Enums::OpClassStrings[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]);
<a name="l00318"></a>00318     }
<a name="l00319"></a>00319 
<a name="l00320"></a>00320     <a class="code" href="classInstructionQueue.html#a54dbf1e1683507aefb83115910feb26b">fuBusy</a>
<a name="l00321"></a>00321         .<a class="code" href="classStats_1_1VectorBase.html#ae41cad1a02eeb7958df026d8e2cc7582">init</a>(<a class="code" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>)
<a name="l00322"></a>00322         .name(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.fu_busy_cnt&quot;</span>)
<a name="l00323"></a>00323         .desc(<span class="stringliteral">&quot;FU busy when requested&quot;</span>)
<a name="l00324"></a>00324         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>)
<a name="l00325"></a>00325         ;
<a name="l00326"></a>00326 
<a name="l00327"></a>00327     <a class="code" href="classInstructionQueue.html#ab1ecb3744ca63dcec2b9b7d80c319c69">fuBusyRate</a>
<a name="l00328"></a>00328         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.fu_busy_rate&quot;</span>)
<a name="l00329"></a>00329         .desc(<span class="stringliteral">&quot;FU busy rate (busy events/executed inst)&quot;</span>)
<a name="l00330"></a>00330         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>)
<a name="l00331"></a>00331         ;
<a name="l00332"></a>00332     <a class="code" href="classInstructionQueue.html#ab1ecb3744ca63dcec2b9b7d80c319c69">fuBusyRate</a> = <a class="code" href="classInstructionQueue.html#a54dbf1e1683507aefb83115910feb26b">fuBusy</a> / <a class="code" href="classInstructionQueue.html#accc6261a817718dbb727c65f310df357">iqInstsIssued</a>;
<a name="l00333"></a>00333 
<a name="l00334"></a>00334     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l00335"></a>00335         <span class="comment">// Tell mem dependence unit to reg stats as well.</span>
<a name="l00336"></a>00336         <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[tid].<a class="code" href="classMemDepUnit.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a>();
<a name="l00337"></a>00337     }
<a name="l00338"></a>00338 
<a name="l00339"></a>00339     <a class="code" href="classInstructionQueue.html#a80520cf10aa5e634d9e3fb6cdc0aef2f">intInstQueueReads</a>
<a name="l00340"></a>00340         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.int_inst_queue_reads&quot;</span>)
<a name="l00341"></a>00341         .desc(<span class="stringliteral">&quot;Number of integer instruction queue reads&quot;</span>)
<a name="l00342"></a>00342         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344     <a class="code" href="classInstructionQueue.html#a095bbdf62a50bf39e824e7187cde5191">intInstQueueWrites</a>
<a name="l00345"></a>00345         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.int_inst_queue_writes&quot;</span>)
<a name="l00346"></a>00346         .desc(<span class="stringliteral">&quot;Number of integer instruction queue writes&quot;</span>)
<a name="l00347"></a>00347         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>);
<a name="l00348"></a>00348 
<a name="l00349"></a>00349     <a class="code" href="classInstructionQueue.html#afd00a0a956c7aeab072e57a3927ee148">intInstQueueWakeupAccesses</a>
<a name="l00350"></a>00350         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.int_inst_queue_wakeup_accesses&quot;</span>)
<a name="l00351"></a>00351         .desc(<span class="stringliteral">&quot;Number of integer instruction queue wakeup accesses&quot;</span>)
<a name="l00352"></a>00352         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>);
<a name="l00353"></a>00353 
<a name="l00354"></a>00354     <a class="code" href="classInstructionQueue.html#ac72607fe25b1d8aefd4ca2dda8533bb2">fpInstQueueReads</a>
<a name="l00355"></a>00355         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.fp_inst_queue_reads&quot;</span>)
<a name="l00356"></a>00356         .desc(<span class="stringliteral">&quot;Number of floating instruction queue reads&quot;</span>)
<a name="l00357"></a>00357         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>);
<a name="l00358"></a>00358 
<a name="l00359"></a>00359     <a class="code" href="classInstructionQueue.html#a462728858d9c7392da1a4e3695a10c3c">fpInstQueueWrites</a>
<a name="l00360"></a>00360         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.fp_inst_queue_writes&quot;</span>)
<a name="l00361"></a>00361         .desc(<span class="stringliteral">&quot;Number of floating instruction queue writes&quot;</span>)
<a name="l00362"></a>00362         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>);
<a name="l00363"></a>00363 
<a name="l00364"></a>00364     <a class="code" href="classInstructionQueue.html#a666c1c2a3552ee13d2f8185434c9552b">fpInstQueueWakeupQccesses</a>
<a name="l00365"></a>00365         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.fp_inst_queue_wakeup_accesses&quot;</span>)
<a name="l00366"></a>00366         .desc(<span class="stringliteral">&quot;Number of floating instruction queue wakeup accesses&quot;</span>)
<a name="l00367"></a>00367         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>);
<a name="l00368"></a>00368 
<a name="l00369"></a>00369     <a class="code" href="classInstructionQueue.html#aec28ae6ca74e00e9b5eb0bd8bb9e1176">intAluAccesses</a>
<a name="l00370"></a>00370         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.int_alu_accesses&quot;</span>)
<a name="l00371"></a>00371         .desc(<span class="stringliteral">&quot;Number of integer alu accesses&quot;</span>)
<a name="l00372"></a>00372         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>);
<a name="l00373"></a>00373 
<a name="l00374"></a>00374     <a class="code" href="classInstructionQueue.html#a1dd5fc6a847750f4294e41e801b47bf4">fpAluAccesses</a>
<a name="l00375"></a>00375         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classInstructionQueue.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a>() + <span class="stringliteral">&quot;.fp_alu_accesses&quot;</span>)
<a name="l00376"></a>00376         .desc(<span class="stringliteral">&quot;Number of floating point alu accesses&quot;</span>)
<a name="l00377"></a>00377         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>);
<a name="l00378"></a>00378 
<a name="l00379"></a>00379 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af6c215567b7a5a496ef245cd86df2e62"></a><!-- doxytag: member="InstructionQueue::replayMemInst" ref="af6c215567b7a5a496ef245cd86df2e62" args="(DynInstPtr &amp;replay_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void replayMemInst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>replay_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Replays a memory instruction. It must be rescheduled first. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01054"></a>01054 {
<a name="l01055"></a>01055     <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[replay_inst-&gt;threadNumber].<a class="code" href="classMemDepUnit.html#ace9b968c62d08a19c21a17b57bfb52fe">replay</a>(replay_inst);
<a name="l01056"></a>01056 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afdf61c4d00a7c48449b14c6f525e3869"></a><!-- doxytag: member="InstructionQueue::rescheduleMemInst" ref="afdf61c4d00a7c48449b14c6f525e3869" args="(DynInstPtr &amp;resched_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rescheduleMemInst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>resched_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reschedules a memory instruction. It will be ready to issue once <a class="el" href="classInstructionQueue.html#af6c215567b7a5a496ef245cd86df2e62">replayMemInst()</a> is called. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01040"></a>01040 {
<a name="l01041"></a>01041     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Rescheduling mem inst [sn:%lli]\n&quot;</span>, resched_inst-&gt;seqNum);
<a name="l01042"></a>01042 
<a name="l01043"></a>01043     <span class="comment">// Reset DTB translation state</span>
<a name="l01044"></a>01044     resched_inst-&gt;translationStarted(<span class="keyword">false</span>);
<a name="l01045"></a>01045     resched_inst-&gt;translationCompleted(<span class="keyword">false</span>);
<a name="l01046"></a>01046 
<a name="l01047"></a>01047     resched_inst-&gt;clearCanIssue();
<a name="l01048"></a>01048     <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[resched_inst-&gt;threadNumber].<a class="code" href="classMemDepUnit.html#a6a8d5eec636c2815cb1bc7ca3c467412">reschedule</a>(resched_inst);
<a name="l01049"></a>01049 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aaf9a05771a835f9f8d634cef36e24d40"></a><!-- doxytag: member="InstructionQueue::resetEntries" ref="aaf9a05771a835f9f8d634cef36e24d40" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetEntries </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Resets max entries for all threads. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00473"></a>00473 {
<a name="l00474"></a>00474     <span class="keywordflow">if</span> (<a class="code" href="classInstructionQueue.html#a558c2854c6103193667179fa6ac0ac20">iqPolicy</a> != <a class="code" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31ba96535b1625776102bcc13f7dfb598dcb">Dynamic</a> || <a class="code" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a> &gt; 1) {
<a name="l00475"></a>00475         <span class="keywordtype">int</span> active_threads = <a class="code" href="classInstructionQueue.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;size();
<a name="l00476"></a>00476 
<a name="l00477"></a>00477         <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classInstructionQueue.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00478"></a>00478         <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classInstructionQueue.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00479"></a>00479 
<a name="l00480"></a>00480         <span class="keywordflow">while</span> (threads != end) {
<a name="l00481"></a>00481             <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00482"></a>00482 
<a name="l00483"></a>00483             <span class="keywordflow">if</span> (<a class="code" href="classInstructionQueue.html#a558c2854c6103193667179fa6ac0ac20">iqPolicy</a> == <a class="code" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31badd8dfa69b567f90d3f13d819109ab74e">Partitioned</a>) {
<a name="l00484"></a>00484                 <a class="code" href="classInstructionQueue.html#a51e5f9f0cb40d61e95b1518f1be90b73">maxEntries</a>[tid] = <a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a> / active_threads;
<a name="l00485"></a>00485             } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classInstructionQueue.html#a558c2854c6103193667179fa6ac0ac20">iqPolicy</a> == <a class="code" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31ba267544c4de8ecc66bd0fed6310af63be">Threshold</a> &amp;&amp; active_threads == 1) {
<a name="l00486"></a>00486                 <a class="code" href="classInstructionQueue.html#a51e5f9f0cb40d61e95b1518f1be90b73">maxEntries</a>[tid] = <a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a>;
<a name="l00487"></a>00487             }
<a name="l00488"></a>00488         }
<a name="l00489"></a>00489     }
<a name="l00490"></a>00490 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a755ee993c2d4e9d422c37990b15afa37"></a><!-- doxytag: member="InstructionQueue::resetState" ref="a755ee993c2d4e9d422c37990b15afa37" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Resets all instruction queue state. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00384"></a>00384 {
<a name="l00385"></a>00385     <span class="comment">//Initialize thread IQ counts</span>
<a name="l00386"></a>00386     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt;<a class="code" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l00387"></a>00387         <a class="code" href="classInstructionQueue.html#ac638062ba1de6609f143c5ee3a601109">count</a>[tid] = 0;
<a name="l00388"></a>00388         <a class="code" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[tid].clear();
<a name="l00389"></a>00389     }
<a name="l00390"></a>00390 
<a name="l00391"></a>00391     <span class="comment">// Initialize the number of free IQ entries.</span>
<a name="l00392"></a>00392     <a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a> = <a class="code" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a>;
<a name="l00393"></a>00393 
<a name="l00394"></a>00394     <span class="comment">// Note that in actuality, the registers corresponding to the logical</span>
<a name="l00395"></a>00395     <span class="comment">// registers start off as ready.  However this doesn&apos;t matter for the</span>
<a name="l00396"></a>00396     <span class="comment">// IQ as the instruction should have been correctly told if those</span>
<a name="l00397"></a>00397     <span class="comment">// registers are ready in rename.  Thus it can all be initialized as</span>
<a name="l00398"></a>00398     <span class="comment">// unready.</span>
<a name="l00399"></a>00399     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classInstructionQueue.html#a0d2a78a8e887f06150904000b2beb6cd">numPhysRegs</a>; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00400"></a>00400         <a class="code" href="classInstructionQueue.html#a61aeb86b87d1e105337b5a8973ce61f3">regScoreboard</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = <span class="keyword">false</span>;
<a name="l00401"></a>00401     }
<a name="l00402"></a>00402 
<a name="l00403"></a>00403     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; numThreads; ++tid) {
<a name="l00404"></a>00404         <a class="code" href="classInstructionQueue.html#a97d5a7e4630ad1d017909f7504b9ec32">squashedSeqNum</a>[tid] = 0;
<a name="l00405"></a>00405     }
<a name="l00406"></a>00406 
<a name="l00407"></a>00407     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="op__class_8hh.html#a5e0e351c8afca390ef0a05a7dbb68b1b">Num_OpClasses</a>; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00408"></a>00408         <span class="keywordflow">while</span> (!<a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].empty())
<a name="l00409"></a>00409             <a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].pop();
<a name="l00410"></a>00410         <a class="code" href="classInstructionQueue.html#abd5388bcfcc78ba7299f0178672b4ac2">queueOnList</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = <span class="keyword">false</span>;
<a name="l00411"></a>00411         <a class="code" href="classInstructionQueue.html#ac6c2d86489eaee465f91586553c3593f">readyIt</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.end();
<a name="l00412"></a>00412     }
<a name="l00413"></a>00413     <a class="code" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a>.clear();
<a name="l00414"></a>00414     <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.clear();
<a name="l00415"></a>00415     <a class="code" href="classInstructionQueue.html#a6ea0c1a972364b789a8b6831cf7828cf">deferredMemInsts</a>.clear();
<a name="l00416"></a>00416 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a15ca5aaeab5bd4c2169ed41bbc7fb79c"></a><!-- doxytag: member="InstructionQueue::scheduleNonSpec" ref="a15ca5aaeab5bd4c2169ed41bbc7fb79c" args="(const InstSeqNum &amp;inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduleNonSpec </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Schedules a single specific non-speculative instruction. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00889"></a>00889 {
<a name="l00890"></a>00890     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Marking nonspeculative instruction [sn:%lli] as ready &quot;</span>
<a name="l00891"></a>00891             <span class="stringliteral">&quot;to execute.\n&quot;</span>, inst);
<a name="l00892"></a>00892 
<a name="l00893"></a>00893     <a class="code" href="classInstructionQueue.html#a0e9597437fae9e60d5449933949416ec">NonSpecMapIt</a> inst_it = <a class="code" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a>.find(inst);
<a name="l00894"></a>00894 
<a name="l00895"></a>00895     assert(inst_it != <a class="code" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a>.end());
<a name="l00896"></a>00896 
<a name="l00897"></a>00897     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = (*inst_it).second-&gt;threadNumber;
<a name="l00898"></a>00898 
<a name="l00899"></a>00899     (*inst_it).second-&gt;setAtCommit();
<a name="l00900"></a>00900 
<a name="l00901"></a>00901     (*inst_it).second-&gt;setCanIssue();
<a name="l00902"></a>00902 
<a name="l00903"></a>00903     <span class="keywordflow">if</span> (!(*inst_it).second-&gt;isMemRef()) {
<a name="l00904"></a>00904         <a class="code" href="classInstructionQueue.html#a7e3f1fa43ca939ed6fd9b3abcc47f06e">addIfReady</a>((*inst_it).second);
<a name="l00905"></a>00905     } <span class="keywordflow">else</span> {
<a name="l00906"></a>00906         <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[tid].<a class="code" href="classMemDepUnit.html#aa85e9b95e406478a19cb070b13b89c85">nonSpecInstReady</a>((*inst_it).second);
<a name="l00907"></a>00907     }
<a name="l00908"></a>00908 
<a name="l00909"></a>00909     (*inst_it).second = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00910"></a>00910 
<a name="l00911"></a>00911     <a class="code" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a>.erase(inst_it);
<a name="l00912"></a>00912 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3694e72427d3a616808797f9343d1fc4"></a><!-- doxytag: member="InstructionQueue::scheduleReadyInsts" ref="a3694e72427d3a616808797f9343d1fc4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduleReadyInsts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Schedules ready instructions, adding the ready ones (oldest first) to the queue to execute. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00731"></a>00731 {
<a name="l00732"></a>00732     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Attempting to schedule ready instructions from &quot;</span>
<a name="l00733"></a>00733             <span class="stringliteral">&quot;the IQ.\n&quot;</span>);
<a name="l00734"></a>00734 
<a name="l00735"></a>00735     <a class="code" href="structIssueStruct.html">IssueStruct</a> *i2e_info = <a class="code" href="classInstructionQueue.html#af5c55240e63d9a13358eede4eb5352f1">issueToExecuteQueue</a>-&gt;<a class="code" href="classTimeBuffer.html#a2c53cc1d80866083c0c997a6d685264a">access</a>(0);
<a name="l00736"></a>00736 
<a name="l00737"></a>00737     <a class="code" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> deferred_mem_inst;
<a name="l00738"></a>00738     <span class="keywordtype">int</span> total_deferred_mem_issued = 0;
<a name="l00739"></a>00739     <span class="keywordflow">while</span> (total_deferred_mem_issued &lt; <a class="code" href="classInstructionQueue.html#ab3c3a8cd00248d9cd6acad330da902a7">totalWidth</a> &amp;&amp;
<a name="l00740"></a>00740            (deferred_mem_inst = <a class="code" href="classInstructionQueue.html#ae2aedd3b5257ee38cb5a4e307d2d50a5">getDeferredMemInstToExecute</a>()) != 0) {
<a name="l00741"></a>00741         <a class="code" href="classInstructionQueue.html#af5c55240e63d9a13358eede4eb5352f1">issueToExecuteQueue</a>-&gt;<a class="code" href="classTimeBuffer.html#a2c53cc1d80866083c0c997a6d685264a">access</a>(0)-&gt;<a class="code" href="structIssueStruct.html#a439227feff9d7f55384e8780cfc2eb82">size</a>++;
<a name="l00742"></a>00742         <a class="code" href="classInstructionQueue.html#a494cb455333d9f34ee4a3ab8ca5e50fd">instsToExecute</a>.push_back(deferred_mem_inst);
<a name="l00743"></a>00743         total_deferred_mem_issued++;
<a name="l00744"></a>00744     }
<a name="l00745"></a>00745 
<a name="l00746"></a>00746     <span class="comment">// Have iterator to head of the list</span>
<a name="l00747"></a>00747     <span class="comment">// While I haven&apos;t exceeded bandwidth or reached the end of the list,</span>
<a name="l00748"></a>00748     <span class="comment">// Try to get a FU that can do what this op needs.</span>
<a name="l00749"></a>00749     <span class="comment">// If successful, change the oldestInst to the new top of the list, put</span>
<a name="l00750"></a>00750     <span class="comment">// the queue in the proper place in the list.</span>
<a name="l00751"></a>00751     <span class="comment">// Increment the iterator.</span>
<a name="l00752"></a>00752     <span class="comment">// This will avoid trying to schedule a certain op class if there are no</span>
<a name="l00753"></a>00753     <span class="comment">// FUs that handle it.</span>
<a name="l00754"></a>00754     <a class="code" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a> order_it = <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.begin();
<a name="l00755"></a>00755     <a class="code" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a> order_end_it = <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.end();
<a name="l00756"></a>00756     <span class="keywordtype">int</span> total_issued = 0;
<a name="l00757"></a>00757 
<a name="l00758"></a>00758     <span class="keywordflow">while</span> (total_issued &lt; (<a class="code" href="classInstructionQueue.html#ab3c3a8cd00248d9cd6acad330da902a7">totalWidth</a> - total_deferred_mem_issued) &amp;&amp;
<a name="l00759"></a>00759            <a class="code" href="classInstructionQueue.html#a4e9ef25d8913b270d432be4bbfe4965c">iewStage</a>-&gt;canIssue() &amp;&amp;
<a name="l00760"></a>00760            order_it != order_end_it) {
<a name="l00761"></a>00761         OpClass op_class = (*order_it).queueType;
<a name="l00762"></a>00762 
<a name="l00763"></a>00763         assert(!<a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].empty());
<a name="l00764"></a>00764 
<a name="l00765"></a>00765         <a class="code" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> issuing_inst = <a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].top();
<a name="l00766"></a>00766 
<a name="l00767"></a>00767         issuing_inst-&gt;isFloating() ? <a class="code" href="classInstructionQueue.html#ac72607fe25b1d8aefd4ca2dda8533bb2">fpInstQueueReads</a>++ : <a class="code" href="classInstructionQueue.html#a80520cf10aa5e634d9e3fb6cdc0aef2f">intInstQueueReads</a>++;
<a name="l00768"></a>00768 
<a name="l00769"></a>00769         assert(issuing_inst-&gt;seqNum == (*order_it).oldestInst);
<a name="l00770"></a>00770 
<a name="l00771"></a>00771         <span class="keywordflow">if</span> (issuing_inst-&gt;isSquashed()) {
<a name="l00772"></a>00772             <a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].pop();
<a name="l00773"></a>00773 
<a name="l00774"></a>00774             <span class="keywordflow">if</span> (!<a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].empty()) {
<a name="l00775"></a>00775                 <a class="code" href="classInstructionQueue.html#ae4cc92176e08b27989bb2838e4e32b1c">moveToYoungerInst</a>(order_it);
<a name="l00776"></a>00776             } <span class="keywordflow">else</span> {
<a name="l00777"></a>00777                 <a class="code" href="classInstructionQueue.html#ac6c2d86489eaee465f91586553c3593f">readyIt</a>[op_class] = <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.end();
<a name="l00778"></a>00778                 <a class="code" href="classInstructionQueue.html#abd5388bcfcc78ba7299f0178672b4ac2">queueOnList</a>[op_class] = <span class="keyword">false</span>;
<a name="l00779"></a>00779             }
<a name="l00780"></a>00780 
<a name="l00781"></a>00781             <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.erase(order_it++);
<a name="l00782"></a>00782 
<a name="l00783"></a>00783             ++<a class="code" href="classInstructionQueue.html#ac91799c895e5aff3af0afdbd7691a163">iqSquashedInstsIssued</a>;
<a name="l00784"></a>00784 
<a name="l00785"></a>00785             <span class="keywordflow">continue</span>;
<a name="l00786"></a>00786         }
<a name="l00787"></a>00787 
<a name="l00788"></a>00788         <span class="keywordtype">int</span> idx = -2;
<a name="l00789"></a>00789         <a class="code" href="classCycles.html">Cycles</a> op_latency = <a class="code" href="classCycles.html">Cycles</a>(1);
<a name="l00790"></a>00790         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = issuing_inst-&gt;threadNumber;
<a name="l00791"></a>00791 
<a name="l00792"></a>00792         <span class="keywordflow">if</span> (op_class != No_OpClass) {
<a name="l00793"></a>00793             idx = <a class="code" href="classInstructionQueue.html#a480782fc1cfd21fd9748b26f2a08b97a">fuPool</a>-&gt;<a class="code" href="classFUPool.html#afe4fb1c0e25607723658c1051ff3b0bf">getUnit</a>(op_class);
<a name="l00794"></a>00794             issuing_inst-&gt;isFloating() ? <a class="code" href="classInstructionQueue.html#a1dd5fc6a847750f4294e41e801b47bf4">fpAluAccesses</a>++ : <a class="code" href="classInstructionQueue.html#aec28ae6ca74e00e9b5eb0bd8bb9e1176">intAluAccesses</a>++;
<a name="l00795"></a>00795             <span class="keywordflow">if</span> (idx &gt; -1) {
<a name="l00796"></a>00796                 op_latency = <a class="code" href="classInstructionQueue.html#a480782fc1cfd21fd9748b26f2a08b97a">fuPool</a>-&gt;<a class="code" href="classFUPool.html#af6d130ca8a17818dbea697b65927e9ec">getOpLatency</a>(op_class);
<a name="l00797"></a>00797             }
<a name="l00798"></a>00798         }
<a name="l00799"></a>00799 
<a name="l00800"></a>00800         <span class="comment">// If we have an instruction that doesn&apos;t require a FU, or a</span>
<a name="l00801"></a>00801         <span class="comment">// valid FU, then schedule for execution.</span>
<a name="l00802"></a>00802         <span class="keywordflow">if</span> (idx == -2 || idx != -1) {
<a name="l00803"></a>00803             <span class="keywordflow">if</span> (op_latency == <a class="code" href="classCycles.html">Cycles</a>(1)) {
<a name="l00804"></a>00804                 i2e_info-&gt;<a class="code" href="structIssueStruct.html#a439227feff9d7f55384e8780cfc2eb82">size</a>++;
<a name="l00805"></a>00805                 <a class="code" href="classInstructionQueue.html#a494cb455333d9f34ee4a3ab8ca5e50fd">instsToExecute</a>.push_back(issuing_inst);
<a name="l00806"></a>00806 
<a name="l00807"></a>00807                 <span class="comment">// Add the FU onto the list of FU&apos;s to be freed next</span>
<a name="l00808"></a>00808                 <span class="comment">// cycle if we used one.</span>
<a name="l00809"></a>00809                 <span class="keywordflow">if</span> (idx &gt;= 0)
<a name="l00810"></a>00810                     <a class="code" href="classInstructionQueue.html#a480782fc1cfd21fd9748b26f2a08b97a">fuPool</a>-&gt;<a class="code" href="classFUPool.html#acc1a8526665e1f0cc2c346754ab30f4f">freeUnitNextCycle</a>(idx);
<a name="l00811"></a>00811             } <span class="keywordflow">else</span> {
<a name="l00812"></a>00812                 <a class="code" href="classCycles.html">Cycles</a> issue_latency = <a class="code" href="classInstructionQueue.html#a480782fc1cfd21fd9748b26f2a08b97a">fuPool</a>-&gt;<a class="code" href="classFUPool.html#a99e4f990eca3fd57c7728cfdb6c95b4c">getIssueLatency</a>(op_class);
<a name="l00813"></a>00813                 <span class="comment">// Generate completion event for the FU</span>
<a name="l00814"></a>00814                 FUCompletion *execution = <span class="keyword">new</span> FUCompletion(issuing_inst,
<a name="l00815"></a>00815                                                            idx, <span class="keyword">this</span>);
<a name="l00816"></a>00816 
<a name="l00817"></a>00817                 <a class="code" href="classInstructionQueue.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>-&gt;schedule(execution,
<a name="l00818"></a>00818                               <a class="code" href="classInstructionQueue.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>-&gt;clockEdge(<a class="code" href="classCycles.html">Cycles</a>(op_latency - 1)));
<a name="l00819"></a>00819 
<a name="l00820"></a>00820                 <span class="comment">// @todo: Enforce that issue_latency == 1 or op_latency</span>
<a name="l00821"></a>00821                 <span class="keywordflow">if</span> (issue_latency &gt; <a class="code" href="classCycles.html">Cycles</a>(1)) {
<a name="l00822"></a>00822                     <span class="comment">// If FU isn&apos;t pipelined, then it must be freed</span>
<a name="l00823"></a>00823                     <span class="comment">// upon the execution completing.</span>
<a name="l00824"></a>00824                     execution-&gt;setFreeFU();
<a name="l00825"></a>00825                 } <span class="keywordflow">else</span> {
<a name="l00826"></a>00826                     <span class="comment">// Add the FU onto the list of FU&apos;s to be freed next cycle.</span>
<a name="l00827"></a>00827                     <a class="code" href="classInstructionQueue.html#a480782fc1cfd21fd9748b26f2a08b97a">fuPool</a>-&gt;<a class="code" href="classFUPool.html#acc1a8526665e1f0cc2c346754ab30f4f">freeUnitNextCycle</a>(idx);
<a name="l00828"></a>00828                 }
<a name="l00829"></a>00829             }
<a name="l00830"></a>00830 
<a name="l00831"></a>00831             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Thread %i: Issuing instruction PC %s &quot;</span>
<a name="l00832"></a>00832                     <span class="stringliteral">&quot;[sn:%lli]\n&quot;</span>,
<a name="l00833"></a>00833                     tid, issuing_inst-&gt;pcState(),
<a name="l00834"></a>00834                     issuing_inst-&gt;seqNum);
<a name="l00835"></a>00835 
<a name="l00836"></a>00836             <a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].pop();
<a name="l00837"></a>00837 
<a name="l00838"></a>00838             <span class="keywordflow">if</span> (!<a class="code" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[op_class].empty()) {
<a name="l00839"></a>00839                 <a class="code" href="classInstructionQueue.html#ae4cc92176e08b27989bb2838e4e32b1c">moveToYoungerInst</a>(order_it);
<a name="l00840"></a>00840             } <span class="keywordflow">else</span> {
<a name="l00841"></a>00841                 <a class="code" href="classInstructionQueue.html#ac6c2d86489eaee465f91586553c3593f">readyIt</a>[op_class] = <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.end();
<a name="l00842"></a>00842                 <a class="code" href="classInstructionQueue.html#abd5388bcfcc78ba7299f0178672b4ac2">queueOnList</a>[op_class] = <span class="keyword">false</span>;
<a name="l00843"></a>00843             }
<a name="l00844"></a>00844 
<a name="l00845"></a>00845             issuing_inst-&gt;setIssued();
<a name="l00846"></a>00846             ++total_issued;
<a name="l00847"></a>00847 
<a name="l00848"></a>00848 <span class="preprocessor">#if TRACING_ON</span>
<a name="l00849"></a>00849 <span class="preprocessor"></span>            issuing_inst-&gt;issueTick = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() - issuing_inst-&gt;fetchTick;
<a name="l00850"></a>00850 <span class="preprocessor">#endif</span>
<a name="l00851"></a>00851 <span class="preprocessor"></span>
<a name="l00852"></a>00852             <span class="keywordflow">if</span> (!issuing_inst-&gt;isMemRef()) {
<a name="l00853"></a>00853                 <span class="comment">// Memory instructions can not be freed from the IQ until they</span>
<a name="l00854"></a>00854                 <span class="comment">// complete.</span>
<a name="l00855"></a>00855                 ++<a class="code" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a>;
<a name="l00856"></a>00856                 <a class="code" href="classInstructionQueue.html#ac638062ba1de6609f143c5ee3a601109">count</a>[tid]--;
<a name="l00857"></a>00857                 issuing_inst-&gt;clearInIQ();
<a name="l00858"></a>00858             } <span class="keywordflow">else</span> {
<a name="l00859"></a>00859                 <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[tid].<a class="code" href="classMemDepUnit.html#a6abd0e2390123c2fe82ab377b76b5347">issue</a>(issuing_inst);
<a name="l00860"></a>00860             }
<a name="l00861"></a>00861 
<a name="l00862"></a>00862             <a class="code" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a>.erase(order_it++);
<a name="l00863"></a>00863             <a class="code" href="classInstructionQueue.html#abb8998de49604769ec252fbd0ac1ed2b">statIssuedInstType</a>[tid][op_class]++;
<a name="l00864"></a>00864             <a class="code" href="classInstructionQueue.html#a4e9ef25d8913b270d432be4bbfe4965c">iewStage</a>-&gt;incrWb(issuing_inst-&gt;seqNum);
<a name="l00865"></a>00865         } <span class="keywordflow">else</span> {
<a name="l00866"></a>00866             <a class="code" href="classInstructionQueue.html#a92266bfdbc9a6de5005fc3f1654e0b3e">statFuBusy</a>[op_class]++;
<a name="l00867"></a>00867             <a class="code" href="classInstructionQueue.html#a54dbf1e1683507aefb83115910feb26b">fuBusy</a>[tid]++;
<a name="l00868"></a>00868             ++order_it;
<a name="l00869"></a>00869         }
<a name="l00870"></a>00870     }
<a name="l00871"></a>00871 
<a name="l00872"></a>00872     <a class="code" href="classInstructionQueue.html#a90810f5beb7dff46f4b45f96620474b6">numIssuedDist</a>.<a class="code" href="classStats_1_1DistBase.html#afed4e1e09f566c5aa9e972d8c17b5a27">sample</a>(total_issued);
<a name="l00873"></a>00873     <a class="code" href="classInstructionQueue.html#accc6261a817718dbb727c65f310df357">iqInstsIssued</a>+= total_issued;
<a name="l00874"></a>00874 
<a name="l00875"></a>00875     <span class="comment">// If we issued any instructions, tell the CPU we had activity.</span>
<a name="l00876"></a>00876     <span class="comment">// @todo If the way deferred memory instructions are handeled due to</span>
<a name="l00877"></a>00877     <span class="comment">// translation changes then the deferredMemInsts condition should be removed</span>
<a name="l00878"></a>00878     <span class="comment">// from the code below.</span>
<a name="l00879"></a>00879     <span class="keywordflow">if</span> (total_issued || total_deferred_mem_issued || <a class="code" href="classInstructionQueue.html#a6ea0c1a972364b789a8b6831cf7828cf">deferredMemInsts</a>.size()) {
<a name="l00880"></a>00880         <a class="code" href="classInstructionQueue.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>-&gt;activityThisCycle();
<a name="l00881"></a>00881     } <span class="keywordflow">else</span> {
<a name="l00882"></a>00882         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Not able to schedule any instructions.\n&quot;</span>);
<a name="l00883"></a>00883     }
<a name="l00884"></a>00884 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aab96bdacf8bd420402cbb543f994e054"></a><!-- doxytag: member="InstructionQueue::setActiveThreads" ref="aab96bdacf8bd420402cbb543f994e054" args="(std::list&lt; ThreadID &gt; *at_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setActiveThreads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>at_ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets active threads list. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00421"></a>00421 {
<a name="l00422"></a>00422     <a class="code" href="classInstructionQueue.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a> = at_ptr;
<a name="l00423"></a>00423 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7cbe625b8c47621898e7ca92d70c826b"></a><!-- doxytag: member="InstructionQueue::setIssueToExecuteQueue" ref="a7cbe625b8c47621898e7ca92d70c826b" args="(TimeBuffer&lt; IssueStruct &gt; *i2eQueue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setIssueToExecuteQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structIssueStruct.html">IssueStruct</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>i2eQueue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the timer buffer between issue and execute. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00428"></a>00428 {
<a name="l00429"></a>00429       <a class="code" href="classInstructionQueue.html#af5c55240e63d9a13358eede4eb5352f1">issueToExecuteQueue</a> = i2e_ptr;
<a name="l00430"></a>00430 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2b521ea5f191fff72265f60d4ed5187b"></a><!-- doxytag: member="InstructionQueue::setTimeBuffer" ref="a2b521ea5f191fff72265f60d4ed5187b" args="(TimeBuffer&lt; TimeStruct &gt; *tb_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setTimeBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structTimeStruct.html">TimeStruct</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>tb_ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the global time buffer. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00435"></a>00435 {
<a name="l00436"></a>00436     <a class="code" href="classInstructionQueue.html#a83f9ee976e732665aeb08dbc19acfd45">timeBuffer</a> = tb_ptr;
<a name="l00437"></a>00437 
<a name="l00438"></a>00438     <a class="code" href="classInstructionQueue.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a> = <a class="code" href="classInstructionQueue.html#a83f9ee976e732665aeb08dbc19acfd45">timeBuffer</a>-&gt;<a class="code" href="classTimeBuffer.html#ab1c801fd9d022ce4339cc62f4a0625dd">getWire</a>(-<a class="code" href="classInstructionQueue.html#a6b6fe1148ed7c40758e45f351c375552">commitToIEWDelay</a>);
<a name="l00439"></a>00439 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad33d65c18c323d90695d7c2355b49af9"></a><!-- doxytag: member="InstructionQueue::squash" ref="ad33d65c18c323d90695d7c2355b49af9" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Squashes instructions for a thread. Squashing information is obtained from the time buffer. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01109"></a>01109 {
<a name="l01110"></a>01110     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;[tid:%i]: Starting to squash instructions in &quot;</span>
<a name="l01111"></a>01111             <span class="stringliteral">&quot;the IQ.\n&quot;</span>, tid);
<a name="l01112"></a>01112 
<a name="l01113"></a>01113     <span class="comment">// Read instruction sequence number of last instruction out of the</span>
<a name="l01114"></a>01114     <span class="comment">// time buffer.</span>
<a name="l01115"></a>01115     <a class="code" href="classInstructionQueue.html#a97d5a7e4630ad1d017909f7504b9ec32">squashedSeqNum</a>[tid] = <a class="code" href="classInstructionQueue.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a>-&gt;commitInfo[tid].doneSeqNum;
<a name="l01116"></a>01116 
<a name="l01117"></a>01117     <span class="comment">// Call doSquash if there are insts in the IQ</span>
<a name="l01118"></a>01118     <span class="keywordflow">if</span> (<a class="code" href="classInstructionQueue.html#ac638062ba1de6609f143c5ee3a601109">count</a>[tid] &gt; 0) {
<a name="l01119"></a>01119         <a class="code" href="classInstructionQueue.html#a06cf52c4f09162bea03ec848f247151a">doSquash</a>(tid);
<a name="l01120"></a>01120     }
<a name="l01121"></a>01121 
<a name="l01122"></a>01122     <span class="comment">// Also tell the memory dependence unit to squash.</span>
<a name="l01123"></a>01123     <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[tid].<a class="code" href="classMemDepUnit.html#a74283dfde2ab06c84e10bd85000c168b">squash</a>(<a class="code" href="classInstructionQueue.html#a97d5a7e4630ad1d017909f7504b9ec32">squashedSeqNum</a>[tid], tid);
<a name="l01124"></a>01124 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8674059ce345e23aac5086b2c3e24a43"></a><!-- doxytag: member="InstructionQueue::takeOverFrom" ref="a8674059ce345e23aac5086b2c3e24a43" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void takeOverFrom </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Takes over execution from another CPU's thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00454"></a>00454 {
<a name="l00455"></a>00455     <a class="code" href="classInstructionQueue.html#a755ee993c2d4e9d422c37990b15afa37">resetState</a>();
<a name="l00456"></a>00456 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aeea40175042f18a63a90cbbd7dd451bc"></a><!-- doxytag: member="InstructionQueue::violation" ref="aeea40175042f18a63a90cbbd7dd451bc" args="(DynInstPtr &amp;store, DynInstPtr &amp;faulting_load)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void violation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>faulting_load</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Indicates an ordering violation between a store and a load. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01101"></a>01101 {
<a name="l01102"></a>01102     <a class="code" href="classInstructionQueue.html#a095bbdf62a50bf39e824e7187cde5191">intInstQueueWrites</a>++;
<a name="l01103"></a>01103     <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[store-&gt;threadNumber].<a class="code" href="classMemDepUnit.html#aac3ab1b2d6cc44bd1e7c42bf39538316">violation</a>(store, faulting_load);
<a name="l01104"></a>01104 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aab5cfade3ce4bb4addbf52c7464676d9"></a><!-- doxytag: member="InstructionQueue::wakeDependents" ref="aab5cfade3ce4bb4addbf52c7464676d9" args="(DynInstPtr &amp;completed_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wakeDependents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>completed_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Wakes all dependents of a completed instruction. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00935"></a>00935 {
<a name="l00936"></a>00936     <span class="keywordtype">int</span> dependents = 0;
<a name="l00937"></a>00937 
<a name="l00938"></a>00938     <span class="comment">// The instruction queue here takes care of both floating and int ops</span>
<a name="l00939"></a>00939     <span class="keywordflow">if</span> (completed_inst-&gt;isFloating()) {
<a name="l00940"></a>00940         <a class="code" href="classInstructionQueue.html#a666c1c2a3552ee13d2f8185434c9552b">fpInstQueueWakeupQccesses</a>++;
<a name="l00941"></a>00941     } <span class="keywordflow">else</span> {
<a name="l00942"></a>00942         <a class="code" href="classInstructionQueue.html#afd00a0a956c7aeab072e57a3927ee148">intInstQueueWakeupAccesses</a>++;
<a name="l00943"></a>00943     }
<a name="l00944"></a>00944 
<a name="l00945"></a>00945     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Waking dependents of completed instruction.\n&quot;</span>);
<a name="l00946"></a>00946 
<a name="l00947"></a>00947     assert(!completed_inst-&gt;isSquashed());
<a name="l00948"></a>00948 
<a name="l00949"></a>00949     <span class="comment">// Tell the memory dependence unit to wake any dependents on this</span>
<a name="l00950"></a>00950     <span class="comment">// instruction if it is a memory instruction.  Also complete the memory</span>
<a name="l00951"></a>00951     <span class="comment">// instruction at this point since we know it executed without issues.</span>
<a name="l00952"></a>00952     <span class="comment">// @todo: Might want to rename &quot;completeMemInst&quot; to something that</span>
<a name="l00953"></a>00953     <span class="comment">// indicates that it won&apos;t need to be replayed, and call this</span>
<a name="l00954"></a>00954     <span class="comment">// earlier.  Might not be a big deal.</span>
<a name="l00955"></a>00955     <span class="keywordflow">if</span> (completed_inst-&gt;isMemRef()) {
<a name="l00956"></a>00956         <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[completed_inst-&gt;threadNumber].<a class="code" href="classMemDepUnit.html#a84834d31005dcede47e334bfee5b52d3">wakeDependents</a>(completed_inst);
<a name="l00957"></a>00957         <a class="code" href="classInstructionQueue.html#aad2715729f71f220e9cf9b99515384ca">completeMemInst</a>(completed_inst);
<a name="l00958"></a>00958     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (completed_inst-&gt;isMemBarrier() ||
<a name="l00959"></a>00959                completed_inst-&gt;isWriteBarrier()) {
<a name="l00960"></a>00960         <a class="code" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[completed_inst-&gt;threadNumber].<a class="code" href="classMemDepUnit.html#a9debd021c4b533f5bbd174890037d2dd">completeBarrier</a>(completed_inst);
<a name="l00961"></a>00961     }
<a name="l00962"></a>00962 
<a name="l00963"></a>00963     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dest_reg_idx = 0;
<a name="l00964"></a>00964          dest_reg_idx &lt; completed_inst-&gt;numDestRegs();
<a name="l00965"></a>00965          dest_reg_idx++)
<a name="l00966"></a>00966     {
<a name="l00967"></a>00967         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> dest_reg =
<a name="l00968"></a>00968             completed_inst-&gt;renamedDestRegIdx(dest_reg_idx);
<a name="l00969"></a>00969 
<a name="l00970"></a>00970         <span class="comment">// Special case of uniq or control registers.  They are not</span>
<a name="l00971"></a>00971         <span class="comment">// handled by the IQ and thus have no dependency graph entry.</span>
<a name="l00972"></a>00972         <span class="comment">// @todo Figure out a cleaner way to handle this.</span>
<a name="l00973"></a>00973         <span class="keywordflow">if</span> (dest_reg &gt;= <a class="code" href="classInstructionQueue.html#a0d2a78a8e887f06150904000b2beb6cd">numPhysRegs</a>) {
<a name="l00974"></a>00974             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;dest_reg :%d, numPhysRegs: %d\n&quot;</span>, dest_reg,
<a name="l00975"></a>00975                     <a class="code" href="classInstructionQueue.html#a0d2a78a8e887f06150904000b2beb6cd">numPhysRegs</a>);
<a name="l00976"></a>00976             <span class="keywordflow">continue</span>;
<a name="l00977"></a>00977         }
<a name="l00978"></a>00978 
<a name="l00979"></a>00979         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Waking any dependents on register %i.\n&quot;</span>,
<a name="l00980"></a>00980                 (<span class="keywordtype">int</span>) dest_reg);
<a name="l00981"></a>00981 
<a name="l00982"></a>00982         <span class="comment">//Go through the dependency chain, marking the registers as</span>
<a name="l00983"></a>00983         <span class="comment">//ready within the waiting instructions.</span>
<a name="l00984"></a>00984         <a class="code" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> dep_inst = <a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.pop(dest_reg);
<a name="l00985"></a>00985 
<a name="l00986"></a>00986         <span class="keywordflow">while</span> (dep_inst) {
<a name="l00987"></a>00987             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(IQ, <span class="stringliteral">&quot;Waking up a dependent instruction, [sn:%lli] &quot;</span>
<a name="l00988"></a>00988                     <span class="stringliteral">&quot;PC %s.\n&quot;</span>, dep_inst-&gt;seqNum, dep_inst-&gt;pcState());
<a name="l00989"></a>00989 
<a name="l00990"></a>00990             <span class="comment">// Might want to give more information to the instruction</span>
<a name="l00991"></a>00991             <span class="comment">// so that it knows which of its source registers is</span>
<a name="l00992"></a>00992             <span class="comment">// ready.  However that would mean that the dependency</span>
<a name="l00993"></a>00993             <span class="comment">// graph entries would need to hold the src_reg_idx.</span>
<a name="l00994"></a>00994             dep_inst-&gt;markSrcRegReady();
<a name="l00995"></a>00995 
<a name="l00996"></a>00996             <a class="code" href="classInstructionQueue.html#a7e3f1fa43ca939ed6fd9b3abcc47f06e">addIfReady</a>(dep_inst);
<a name="l00997"></a>00997 
<a name="l00998"></a>00998             dep_inst = <a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.pop(dest_reg);
<a name="l00999"></a>00999 
<a name="l01000"></a>01000             ++dependents;
<a name="l01001"></a>01001         }
<a name="l01002"></a>01002 
<a name="l01003"></a>01003         <span class="comment">// Reset the head node now that all of its dependents have</span>
<a name="l01004"></a>01004         <span class="comment">// been woken up.</span>
<a name="l01005"></a>01005         assert(<a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.empty(dest_reg));
<a name="l01006"></a>01006         <a class="code" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a>.clearInst(dest_reg);
<a name="l01007"></a>01007 
<a name="l01008"></a>01008         <span class="comment">// Mark the scoreboard as having that register ready.</span>
<a name="l01009"></a>01009         <a class="code" href="classInstructionQueue.html#a61aeb86b87d1e105337b5a8973ce61f3">regScoreboard</a>[dest_reg] = <span class="keyword">true</span>;
<a name="l01010"></a>01010     }
<a name="l01011"></a>01011     <span class="keywordflow">return</span> dependents;
<a name="l01012"></a>01012 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="af6eaea53db532812052f71bf0380dab5"></a><!-- doxytag: member="InstructionQueue::activeThreads" ref="af6eaea53db532812052f71bf0380dab5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&gt;* <a class="el" href="classInstructionQueue.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to list of active threads. </p>

</div>
</div>
<a class="anchor" id="a6b6fe1148ed7c40758e45f351c375552"></a><!-- doxytag: member="InstructionQueue::commitToIEWDelay" ref="a6b6fe1148ed7c40758e45f351c375552" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCycles.html">Cycles</a> <a class="el" href="classInstructionQueue.html#a6b6fe1148ed7c40758e45f351c375552">commitToIEWDelay</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delay between commit stage and the IQ. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000032">TODO:</a></b></dt><dd>: Make there be a distinction between the delays within IEW. </dd></dl>

</div>
</div>
<a class="anchor" id="ac638062ba1de6609f143c5ee3a601109"></a><!-- doxytag: member="InstructionQueue::count" ref="ac638062ba1de6609f143c5ee3a601109" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classInstructionQueue.html#ac638062ba1de6609f143c5ee3a601109">count</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Per Thread IQ count </p>

</div>
</div>
<a class="anchor" id="a1379cf882a12ac6fc9eba5da7c84b18b"></a><!-- doxytag: member="InstructionQueue::cpu" ref="a1379cf882a12ac6fc9eba5da7c84b18b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInstructionQueue.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>* <a class="el" href="classInstructionQueue.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to the CPU. </p>

</div>
</div>
<a class="anchor" id="a22dc8294eecb144fbdd951d2e32e9330"></a><!-- doxytag: member="InstructionQueue::dcacheInterface" ref="a22dc8294eecb144fbdd951d2e32e9330" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MemInterface* <a class="el" href="classInstructionQueue.html#a22dc8294eecb144fbdd951d2e32e9330">dcacheInterface</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCache.html">Cache</a> interface. </p>

</div>
</div>
<a class="anchor" id="a6ea0c1a972364b789a8b6831cf7828cf"></a><!-- doxytag: member="InstructionQueue::deferredMemInsts" ref="a6ea0c1a972364b789a8b6831cf7828cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt; <a class="el" href="classInstructionQueue.html#a6ea0c1a972364b789a8b6831cf7828cf">deferredMemInsts</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List of instructions waiting for their DTB translation to complete (hw page table walk in progress). </p>

</div>
</div>
<a class="anchor" id="a23fbbb46c9bdd183c06095cc0398fdc4"></a><!-- doxytag: member="InstructionQueue::dependGraph" ref="a23fbbb46c9bdd183c06095cc0398fdc4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDependencyGraph.html">DependencyGraph</a>&lt;<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt; <a class="el" href="classInstructionQueue.html#a23fbbb46c9bdd183c06095cc0398fdc4">dependGraph</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1dd5fc6a847750f4294e41e801b47bf4"></a><!-- doxytag: member="InstructionQueue::fpAluAccesses" ref="a1dd5fc6a847750f4294e41e801b47bf4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a1dd5fc6a847750f4294e41e801b47bf4">fpAluAccesses</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac72607fe25b1d8aefd4ca2dda8533bb2"></a><!-- doxytag: member="InstructionQueue::fpInstQueueReads" ref="ac72607fe25b1d8aefd4ca2dda8533bb2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#ac72607fe25b1d8aefd4ca2dda8533bb2">fpInstQueueReads</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a666c1c2a3552ee13d2f8185434c9552b"></a><!-- doxytag: member="InstructionQueue::fpInstQueueWakeupQccesses" ref="a666c1c2a3552ee13d2f8185434c9552b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a666c1c2a3552ee13d2f8185434c9552b">fpInstQueueWakeupQccesses</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a462728858d9c7392da1a4e3695a10c3c"></a><!-- doxytag: member="InstructionQueue::fpInstQueueWrites" ref="a462728858d9c7392da1a4e3695a10c3c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a462728858d9c7392da1a4e3695a10c3c">fpInstQueueWrites</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac2281ff630f82397bda33269f4ee8796"></a><!-- doxytag: member="InstructionQueue::freeEntries" ref="ac2281ff630f82397bda33269f4ee8796" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classInstructionQueue.html#ac2281ff630f82397bda33269f4ee8796">freeEntries</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of free IQ entries left. </p>

</div>
</div>
<a class="anchor" id="a0055a92bd94eda21c2641d46ff013dac"></a><!-- doxytag: member="InstructionQueue::fromCommit" ref="a0055a92bd94eda21c2641d46ff013dac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="structTimeStruct.html">TimeStruct</a>&gt;::wire <a class="el" href="classInstructionQueue.html#a0055a92bd94eda21c2641d46ff013dac">fromCommit</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classWire.html">Wire</a> to read information from timebuffer. </p>

</div>
</div>
<a class="anchor" id="a54dbf1e1683507aefb83115910feb26b"></a><!-- doxytag: member="InstructionQueue::fuBusy" ref="a54dbf1e1683507aefb83115910feb26b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Vector.html">Stats::Vector</a> <a class="el" href="classInstructionQueue.html#a54dbf1e1683507aefb83115910feb26b">fuBusy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of times the FU was busy. </p>

</div>
</div>
<a class="anchor" id="ab1ecb3744ca63dcec2b9b7d80c319c69"></a><!-- doxytag: member="InstructionQueue::fuBusyRate" ref="ab1ecb3744ca63dcec2b9b7d80c319c69" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a> <a class="el" href="classInstructionQueue.html#ab1ecb3744ca63dcec2b9b7d80c319c69">fuBusyRate</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of times the FU was busy per instruction issued. </p>

</div>
</div>
<a class="anchor" id="a480782fc1cfd21fd9748b26f2a08b97a"></a><!-- doxytag: member="InstructionQueue::fuPool" ref="a480782fc1cfd21fd9748b26f2a08b97a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFUPool.html">FUPool</a>* <a class="el" href="classInstructionQueue.html#a480782fc1cfd21fd9748b26f2a08b97a">fuPool</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function unit pool. </p>

</div>
</div>
<a class="anchor" id="a4e9ef25d8913b270d432be4bbfe4965c"></a><!-- doxytag: member="InstructionQueue::iewStage" ref="a4e9ef25d8913b270d432be4bbfe4965c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInstructionQueue.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a>* <a class="el" href="classInstructionQueue.html#a4e9ef25d8913b270d432be4bbfe4965c">iewStage</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to IEW stage. </p>

</div>
</div>
<a class="anchor" id="a7f2828a4f877a4a4d4b85a6788536b82"></a><!-- doxytag: member="InstructionQueue::instList" ref="a7f2828a4f877a4a4d4b85a6788536b82" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt; <a class="el" href="classInstructionQueue.html#a7f2828a4f877a4a4d4b85a6788536b82">instList</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List of all the instructions in the IQ (some of which may be issued). </p>

</div>
</div>
<a class="anchor" id="a494cb455333d9f34ee4a3ab8ca5e50fd"></a><!-- doxytag: member="InstructionQueue::instsToExecute" ref="a494cb455333d9f34ee4a3ab8ca5e50fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt; <a class="el" href="classInstructionQueue.html#a494cb455333d9f34ee4a3ab8ca5e50fd">instsToExecute</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List of instructions that are ready to be executed. </p>

</div>
</div>
<a class="anchor" id="aec28ae6ca74e00e9b5eb0bd8bb9e1176"></a><!-- doxytag: member="InstructionQueue::intAluAccesses" ref="aec28ae6ca74e00e9b5eb0bd8bb9e1176" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#aec28ae6ca74e00e9b5eb0bd8bb9e1176">intAluAccesses</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a80520cf10aa5e634d9e3fb6cdc0aef2f"></a><!-- doxytag: member="InstructionQueue::intInstQueueReads" ref="a80520cf10aa5e634d9e3fb6cdc0aef2f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a80520cf10aa5e634d9e3fb6cdc0aef2f">intInstQueueReads</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afd00a0a956c7aeab072e57a3927ee148"></a><!-- doxytag: member="InstructionQueue::intInstQueueWakeupAccesses" ref="afd00a0a956c7aeab072e57a3927ee148" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#afd00a0a956c7aeab072e57a3927ee148">intInstQueueWakeupAccesses</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a095bbdf62a50bf39e824e7187cde5191"></a><!-- doxytag: member="InstructionQueue::intInstQueueWrites" ref="a095bbdf62a50bf39e824e7187cde5191" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a095bbdf62a50bf39e824e7187cde5191">intInstQueueWrites</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a928f22a2c6ce592adc40e5242c9d6572"></a><!-- doxytag: member="InstructionQueue::iqBranchInstsIssued" ref="a928f22a2c6ce592adc40e5242c9d6572" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a928f22a2c6ce592adc40e5242c9d6572">iqBranchInstsIssued</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for number of branch instructions issued. </p>

</div>
</div>
<a class="anchor" id="aa9f2fa124c9f0b4b22461b6717449d9a"></a><!-- doxytag: member="InstructionQueue::iqFloatInstsIssued" ref="aa9f2fa124c9f0b4b22461b6717449d9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#aa9f2fa124c9f0b4b22461b6717449d9a">iqFloatInstsIssued</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for number of floating point instructions issued. </p>

</div>
</div>
<a class="anchor" id="a435e1ce10c3a7f54a60941e583adeb09"></a><!-- doxytag: member="InstructionQueue::iqInstsAdded" ref="a435e1ce10c3a7f54a60941e583adeb09" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a435e1ce10c3a7f54a60941e583adeb09">iqInstsAdded</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for number of instructions added. </p>

</div>
</div>
<a class="anchor" id="accc6261a817718dbb727c65f310df357"></a><!-- doxytag: member="InstructionQueue::iqInstsIssued" ref="accc6261a817718dbb727c65f310df357" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#accc6261a817718dbb727c65f310df357">iqInstsIssued</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a735f2023e70e53b7889a3a316bd3d57f"></a><!-- doxytag: member="InstructionQueue::iqIntInstsIssued" ref="a735f2023e70e53b7889a3a316bd3d57f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a735f2023e70e53b7889a3a316bd3d57f">iqIntInstsIssued</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for number of integer instructions issued. </p>

</div>
</div>
<a class="anchor" id="a5e7d55d3f07e86e389ca3a715766e108"></a><!-- doxytag: member="InstructionQueue::iqMemInstsIssued" ref="a5e7d55d3f07e86e389ca3a715766e108" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a5e7d55d3f07e86e389ca3a715766e108">iqMemInstsIssued</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for number of memory instructions issued. </p>

</div>
</div>
<a class="anchor" id="ad234890bc414fffe7ed71840c51be5cb"></a><!-- doxytag: member="InstructionQueue::iqMiscInstsIssued" ref="ad234890bc414fffe7ed71840c51be5cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#ad234890bc414fffe7ed71840c51be5cb">iqMiscInstsIssued</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for number of miscellaneous instructions issued. </p>

</div>
</div>
<a class="anchor" id="adf890a08fae50ea8249171b07c40adac"></a><!-- doxytag: member="InstructionQueue::iqNonSpecInstsAdded" ref="adf890a08fae50ea8249171b07c40adac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#adf890a08fae50ea8249171b07c40adac">iqNonSpecInstsAdded</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for number of non-speculative instructions added. </p>

</div>
</div>
<a class="anchor" id="a558c2854c6103193667179fa6ac0ac20"></a><!-- doxytag: member="InstructionQueue::iqPolicy" ref="a558c2854c6103193667179fa6ac0ac20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInstructionQueue.html#a6af49ff20e9c3b3f7ef7b8fa74c0e31b">IQPolicy</a> <a class="el" href="classInstructionQueue.html#a558c2854c6103193667179fa6ac0ac20">iqPolicy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>IQ sharing policy for SMT. </p>

</div>
</div>
<a class="anchor" id="a8312e8984bcfab5a77de40e1738103db"></a><!-- doxytag: member="InstructionQueue::iqSquashedInstsExamined" ref="a8312e8984bcfab5a77de40e1738103db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a8312e8984bcfab5a77de40e1738103db">iqSquashedInstsExamined</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for number of squashed instructions examined when squashing. </p>

</div>
</div>
<a class="anchor" id="ac91799c895e5aff3af0afdbd7691a163"></a><!-- doxytag: member="InstructionQueue::iqSquashedInstsIssued" ref="ac91799c895e5aff3af0afdbd7691a163" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#ac91799c895e5aff3af0afdbd7691a163">iqSquashedInstsIssued</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for number of squashed instructions that were ready to issue. </p>

</div>
</div>
<a class="anchor" id="a6c0b47431b6e84536fd9bb61624d6d97"></a><!-- doxytag: member="InstructionQueue::iqSquashedNonSpecRemoved" ref="a6c0b47431b6e84536fd9bb61624d6d97" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a6c0b47431b6e84536fd9bb61624d6d97">iqSquashedNonSpecRemoved</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for number of non-speculative instructions removed due to a squash. </p>

</div>
</div>
<a class="anchor" id="a4398b6005b81008bd163bbba78dfd929"></a><!-- doxytag: member="InstructionQueue::iqSquashedOperandsExamined" ref="a4398b6005b81008bd163bbba78dfd929" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classInstructionQueue.html#a4398b6005b81008bd163bbba78dfd929">iqSquashedOperandsExamined</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for number of squashed instruction operands examined when squashing. </p>

</div>
</div>
<a class="anchor" id="a6a9ed0564894e83d4c3c5784f667c5e0"></a><!-- doxytag: member="InstructionQueue::issueRate" ref="a6a9ed0564894e83d4c3c5784f667c5e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a> <a class="el" href="classInstructionQueue.html#a6a9ed0564894e83d4c3c5784f667c5e0">issueRate</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of instructions issued per cycle. </p>

</div>
</div>
<a class="anchor" id="af5c55240e63d9a13358eede4eb5352f1"></a><!-- doxytag: member="InstructionQueue::issueToExecuteQueue" ref="af5c55240e63d9a13358eede4eb5352f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="structIssueStruct.html">IssueStruct</a>&gt;* <a class="el" href="classInstructionQueue.html#af5c55240e63d9a13358eede4eb5352f1">issueToExecuteQueue</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The queue to the execute stage. Issued instructions will be written into it. </p>

</div>
</div>
<a class="anchor" id="afd5860c9cc9c225411df38dd3dc89b87"></a><!-- doxytag: member="InstructionQueue::listOrder" ref="afd5860c9cc9c225411df38dd3dc89b87" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="structInstructionQueue_1_1ListOrderEntry.html">ListOrderEntry</a>&gt; <a class="el" href="classInstructionQueue.html#afd5860c9cc9c225411df38dd3dc89b87">listOrder</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List that contains the age order of the oldest instruction of each ready queue. Used to select the oldest instruction available among op classes. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000031">TODO:</a></b></dt><dd>: Might be better to just move these entries around instead of creating new ones every time the position changes due to an instruction issuing. Not sure <a class="el" href="classstd_1_1list.html">std::list</a> supports this. </dd></dl>

</div>
</div>
<a class="anchor" id="a51e5f9f0cb40d61e95b1518f1be90b73"></a><!-- doxytag: member="InstructionQueue::maxEntries" ref="a51e5f9f0cb40d61e95b1518f1be90b73" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classInstructionQueue.html#a51e5f9f0cb40d61e95b1518f1be90b73">maxEntries</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Max IQ Entries Per Thread </p>

</div>
</div>
<a class="anchor" id="a8cb80ccbf6ed6c1029c6d9ebeaa40f6e"></a><!-- doxytag: member="InstructionQueue::memDepUnit" ref="a8cb80ccbf6ed6c1029c6d9ebeaa40f6e" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMemDepUnit.html">MemDepUnit</a> <a class="el" href="classInstructionQueue.html#a8cb80ccbf6ed6c1029c6d9ebeaa40f6e">memDepUnit</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The memory dependence unit, which tracks/predicts memory dependences between instructions. </p>

</div>
</div>
<a class="anchor" id="ac0ba4d07026aaf6386c001a68d059cbf"></a><!-- doxytag: member="InstructionQueue::nonSpecInsts" ref="ac0ba4d07026aaf6386c001a68d059cbf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>, <a class="el" href="classInstructionQueue.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt; <a class="el" href="classInstructionQueue.html#ac0ba4d07026aaf6386c001a68d059cbf">nonSpecInsts</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List of non-speculative instructions that will be scheduled once the IQ gets a signal from commit. While it's redundant to have the key be a part of the value (the sequence number is stored inside of DynInst), when these instructions are woken up only the sequence number will be available. Thus it is most efficient to be able to search by the sequence number alone. </p>

</div>
</div>
<a class="anchor" id="a325de474a9f6652329339d9fc2ea09c0"></a><!-- doxytag: member="InstructionQueue::numEntries" ref="a325de474a9f6652329339d9fc2ea09c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classInstructionQueue.html#a325de474a9f6652329339d9fc2ea09c0">numEntries</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of entries in the instruction queue. </p>

</div>
</div>
<a class="anchor" id="a90810f5beb7dff46f4b45f96620474b6"></a><!-- doxytag: member="InstructionQueue::numIssuedDist" ref="a90810f5beb7dff46f4b45f96620474b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Distribution.html">Stats::Distribution</a> <a class="el" href="classInstructionQueue.html#a90810f5beb7dff46f4b45f96620474b6">numIssuedDist</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Distribution of number of instructions in the queue. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000033">TODO:</a></b></dt><dd>: Need to create struct to track the entry time for each instruction. </dd></dl>
<p>Distribution of the number of instructions issued. </p>

</div>
</div>
<a class="anchor" id="a0d2a78a8e887f06150904000b2beb6cd"></a><!-- doxytag: member="InstructionQueue::numPhysRegs" ref="a0d2a78a8e887f06150904000b2beb6cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classInstructionQueue.html#a0d2a78a8e887f06150904000b2beb6cd">numPhysRegs</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of physical registers in the CPU. </p>

</div>
</div>
<a class="anchor" id="a88377f855dbf5adeeecb06b5bb821d35"></a><!-- doxytag: member="InstructionQueue::numThreads" ref="a88377f855dbf5adeeecb06b5bb821d35" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> <a class="el" href="classInstructionQueue.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of Total Threads </p>

</div>
</div>
<a class="anchor" id="abd5388bcfcc78ba7299f0178672b4ac2"></a><!-- doxytag: member="InstructionQueue::queueOnList" ref="abd5388bcfcc78ba7299f0178672b4ac2" args="[Num_OpClasses]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classInstructionQueue.html#abd5388bcfcc78ba7299f0178672b4ac2">queueOnList</a>[<a class="el" href="op__class_8hh.html#a5e0e351c8afca390ef0a05a7dbb68b1b">Num_OpClasses</a>]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Tracks if each ready queue is on the age order list. </p>

</div>
</div>
<a class="anchor" id="a84f7fc18dadb9ea3ef6ed7dd9f375c46"></a><!-- doxytag: member="InstructionQueue::readyInsts" ref="a84f7fc18dadb9ea3ef6ed7dd9f375c46" args="[Num_OpClasses]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInstructionQueue.html#a60636ae8f3b649078c4f1bdd3b20dcad">ReadyInstQueue</a> <a class="el" href="classInstructionQueue.html#a84f7fc18dadb9ea3ef6ed7dd9f375c46">readyInsts</a>[<a class="el" href="op__class_8hh.html#a5e0e351c8afca390ef0a05a7dbb68b1b">Num_OpClasses</a>]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List of ready instructions, per op class. They are separated by op class to allow for easy mapping to FUs. </p>

</div>
</div>
<a class="anchor" id="ac6c2d86489eaee465f91586553c3593f"></a><!-- doxytag: member="InstructionQueue::readyIt" ref="ac6c2d86489eaee465f91586553c3593f" args="[Num_OpClasses]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInstructionQueue.html#a120a1fba4fe015f7201e896580df164c">ListOrderIt</a> <a class="el" href="classInstructionQueue.html#ac6c2d86489eaee465f91586553c3593f">readyIt</a>[<a class="el" href="op__class_8hh.html#a5e0e351c8afca390ef0a05a7dbb68b1b">Num_OpClasses</a>]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Iterators of each ready queue. Points to their spot in the age order list. </p>

</div>
</div>
<a class="anchor" id="a61aeb86b87d1e105337b5a8973ce61f3"></a><!-- doxytag: member="InstructionQueue::regScoreboard" ref="a61aeb86b87d1e105337b5a8973ce61f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;bool&gt; <a class="el" href="classInstructionQueue.html#a61aeb86b87d1e105337b5a8973ce61f3">regScoreboard</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A cache of the recently woken registers. It is 1 if the register has been woken up recently, and 0 if the register has been added to the dependency graph and has not yet received its value. It is basically a secondary scoreboard, and should pretty much mirror the scoreboard that exists in the rename map. </p>

</div>
</div>
<a class="anchor" id="a97d5a7e4630ad1d017909f7504b9ec32"></a><!-- doxytag: member="InstructionQueue::squashedSeqNum" ref="a97d5a7e4630ad1d017909f7504b9ec32" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> <a class="el" href="classInstructionQueue.html#a97d5a7e4630ad1d017909f7504b9ec32">squashedSeqNum</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The sequence number of the squashed instruction. </p>

</div>
</div>
<a class="anchor" id="a92266bfdbc9a6de5005fc3f1654e0b3e"></a><!-- doxytag: member="InstructionQueue::statFuBusy" ref="a92266bfdbc9a6de5005fc3f1654e0b3e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Vector.html">Stats::Vector</a> <a class="el" href="classInstructionQueue.html#a92266bfdbc9a6de5005fc3f1654e0b3e">statFuBusy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Distribution of the cycles it takes to issue an instruction. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000034">TODO:</a></b></dt><dd>: Need to create struct to track the ready time for each instruction. </dd></dl>
<p>Number of times an instruction could not be issued because a FU was busy. </p>

</div>
</div>
<a class="anchor" id="abb8998de49604769ec252fbd0ac1ed2b"></a><!-- doxytag: member="InstructionQueue::statIssuedInstType" ref="abb8998de49604769ec252fbd0ac1ed2b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Vector2d.html">Stats::Vector2d</a> <a class="el" href="classInstructionQueue.html#abb8998de49604769ec252fbd0ac1ed2b">statIssuedInstType</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number issued for each instruction type. </p>

</div>
</div>
<a class="anchor" id="a83f9ee976e732665aeb08dbc19acfd45"></a><!-- doxytag: member="InstructionQueue::timeBuffer" ref="a83f9ee976e732665aeb08dbc19acfd45" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="structTimeStruct.html">TimeStruct</a>&gt;* <a class="el" href="classInstructionQueue.html#a83f9ee976e732665aeb08dbc19acfd45">timeBuffer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The backwards time buffer. </p>

</div>
</div>
<a class="anchor" id="ab3c3a8cd00248d9cd6acad330da902a7"></a><!-- doxytag: member="InstructionQueue::totalWidth" ref="ab3c3a8cd00248d9cd6acad330da902a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classInstructionQueue.html#ab3c3a8cd00248d9cd6acad330da902a7">totalWidth</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The total number of instructions that can be issued in one cycle. </p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>cpu/o3/<a class="el" href="o3_2inst__queue_8hh_source.html">inst_queue.hh</a></li>
<li>cpu/o3/<a class="el" href="o3_2inst__queue__impl_8hh_source.html">inst_queue_impl.hh</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
