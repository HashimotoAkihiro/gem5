<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス VGic</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス VGic</h1><!-- doxytag: class="VGic" --><!-- doxytag: inherits="PioDevice" -->
<p><code>#include &lt;<a class="el" href="vgic_8hh_source.html">vgic.hh</a>&gt;</code></p>
<div class="dynheader">
VGicに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classVGic.gif" usemap="#VGic_map" alt=""/>
  <map id="VGic_map" name="VGic_map">
<area href="classPioDevice.html" alt="PioDevice" shape="rect" coords="105,224,200,248"/>
<area href="classMemObject.html" alt="MemObject" shape="rect" coords="105,168,200,192"/>
<area href="classClockedObject.html" alt="ClockedObject" shape="rect" coords="105,112,200,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="105,56,200,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,95,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="105,0,200,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="210,0,305,24"/>
</map>
 </div>
</div>

<p><a href="classVGic-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic_1_1PostVIntEvent.html">PostVIntEvent</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef VGicParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#aba305d5be632386ad18939cafec46fee">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classVGic.html#aba305d5be632386ad18939cafec46fee">Params</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a8c1d925f2ffb272c08d5a830d171877e">VGic</a> (const <a class="el" href="classVGic.html#aba305d5be632386ad18939cafec46fee">Params</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classstd_1_1list.html">AddrRangeList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a36cf113d5e5e091ebddb32306c098fae">getAddrRanges</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a613ec7d5e1ec64f8d21fec78ae8e568e">read</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a4cefab464e72b5dd42c003a0a4341802">write</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a53e036786d17361be4c7320d39c99b84">serialize</a> (std::ostream &amp;os)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section)</td></tr>
<tr><td colspan="2"><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a1e2e8270e48d9bf2f00ad8e46726eced">BitUnion32</a> (ListReg) Bitfield&lt; 31 &gt; HW</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#aa0158cd1ea3c86fc81b16a8d77b8520b">EndBitUnion</a> (ListReg) BitUnion32(HCR) Bitfield&lt; 31</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ab5911b67b4abc330297af4d4c7e24204">EndBitUnion</a> (HCR) BitUnion32(VCTLR) Bitfield&lt; 9 &gt; EOImode</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a6fc0955a2336f0716e82db0f8ede0101">EndBitUnion</a> (VCTLR) struct vcpuIntData</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ae1f51e39d49a7c6129c9092a9fc1f304">readVCpu</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a45a7fc6132e09486475eca0302ab4981">readCtrl</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a289d8279acf224a8745658b053b0c16c">writeVCpu</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ab75ecb383e0dfa786c92077803100348">writeCtrl</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#aa1847a7ae392ebc8637b9ab5d25c4c4b">updateIntState</a> (int ctx_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#aef2af82ff4c26ce727729ce60f587ee3">getMISR</a> (struct vcpuIntData *vid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a8974d873942f37d74bede520fc0d1f1a">postVInt</a> (<a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> cpu, <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> when)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a483dd48f21752d469dcd36f3e331184a">unPostVInt</a> (<a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> cpu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ad86c8e2cfb589fee04dfc050013963af">postMaintInt</a> (<a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> cpu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ae2afe0f63a211fe5f6cc56bbe8b4d79a">unPostMaintInt</a> (<a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> cpu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ae75cd8cf3bee8ac63664bc65d393bee8">lrPending</a> (struct vcpuIntData *vid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#acd87d736497b629fc35abea04a8d838e">lrValid</a> (struct vcpuIntData *vid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ac8cda0aa85dee9a4e2f352b46d5efea8">findHighestPendingLR</a> (struct vcpuIntData *vid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a8498dbf7b539714834568e7284487cbe">findLRForVIRQ</a> (struct vcpuIntData *vid, int virq, int vcpu)</td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classVGic_1_1PostVIntEvent.html">PostVIntEvent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a391a6d3a21ceaa229791a17f58d2e0ae">postVIntEvent</a> [<a class="el" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#afc202b126ba5621ec4dae742b51889d0">maintIntPosted</a> [<a class="el" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a4108a1761c811efd10f4bd705fab8581">vIntPosted</a> [<a class="el" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPlatform.html">Platform</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a75b48f1787959a4617f2a599d7c09aab">platform</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseGic.html">BaseGic</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a2e2266dca56928f63667e994933169ee">gic</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a39c00dce99eb5fe8a22703e2286661f5">maintInt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 30 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a8c9d4553eb4294402cbe8b77c7be7d43">Grp1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 29, 28 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a4ad4e2a479baf0de8e8cdcb0c84276db">State</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 27, 23 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a26c7f4132225aed6b8d4356c1601d689">Priority</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 19 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ace587c95d7c7ae411d6f8791e02acfb0">EOI</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 12, 10 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#af2592449a23aee37bc8cf6be36d2efc3">CpuID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 9, 0 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a309cc4782346e985de8920752d7caf2a">VirtualID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a76289f30955e28466cc690ccf6001e61">EOICount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 7 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a3055f44714481212195dd4c9b77302ee">VGrp1DIE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 6 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ad5d876b0f8095008474757f67bf975e4">VGrp1EIE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 5 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#affc0c4742ef1d61df5a0e8e8b2cee33b">VGrp0DIE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 4 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a76012350e6bb46dfdc7240afc726d949">VGrp0EIE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 3 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#aa24f9f3124265bcdf1cea24165b2b0b9">NPIE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 2 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ab0faa2c980aa53ef7c92002af04c332b">LRENPIE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a0adbea6aeb62d30f03ddc9a25fe11b40">UIE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 0 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a6c33fee90de41b22938ac6bf2bbf0b37">En</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 4 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a08a6b10064e3d9e0c614063665d33c54">CPBR</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 3 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#afa8693ab3b402c4d83774143fa804e3b">FIQEn</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 2 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a66b61167f5695385dad02f2b536d0184">AckCtl</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#abd1b3356359eb92893a437944f5a292f">EnGrp1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct vcpuIntData&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a> [<a class="el" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>]</td></tr>
<tr><td colspan="2"><h2>Static Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a> = 256</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a> = 4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a85a1239e9b48c54a4342993df2743e13">GICH_SIZE</a> = 0x200</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a2ca8a33991e94727efb46a8bba9e1e2a">GICH_REG_SIZE</a> = 0x2000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a05157a03988a41b46b78b6d9d5a49bf6">GICH_HCR</a> = 0x000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ac1961ca86b5c402d101577a495694f42">GICH_VTR</a> = 0x004</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a10bf121a0b670d835ede0ba151cb62bd">GICH_VMCR</a> = 0x008</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a8f6ba28cb22381782c786778de9236a7">GICH_MISR</a> = 0x010</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a6377986cfc790adf7f3274de63f840a5">GICH_EISR0</a> = 0x020</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ad2d40266f69c1beee09c888281738df1">GICH_EISR1</a> = 0x024</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#af16152e073dd9ed6e6ce3515c99301c9">GICH_ELSR0</a> = 0x030</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a1dc31e7d69166471775d43e3729228b4">GICH_ELSR1</a> = 0x034</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ae799770adf4da02abcc790d891238aec">GICH_APR0</a> = 0x0f0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a75e35ac1eddd88a77229bf915b48273f">GICH_LR0</a> = 0x100</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ace36c2959f314bca6c1f53ef7b471011">GICH_LR1</a> = 0x104</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a58f68d484460b5ba7753425a306db71e">GICH_LR2</a> = 0x108</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a630c33972a6516ce8617656424902292">GICH_LR3</a> = 0x10c</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a327649260109afc17ff86a3a8371cb95">GICV_SIZE</a> = 0x2000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ab4280dfa561ca960d58d341662849f7b">GICV_CTLR</a> = 0x000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a25c57288ef4b1aad4afbc584a92b8391">GICV_PMR</a> = 0x004</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ab87c04cb10d6d7d4dc9bfdb41e67bd55">GICV_BPR</a> = 0x008</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a132fc471769307b51fb6ee13cd852835">GICV_IAR</a> = 0x00c</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ae75c9bc58bd94b6dfc83ecc0ea89e767">GICV_EOIR</a> = 0x010</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a1f4656693af03dc9ad24b55cf12eaaca">GICV_RPR</a> = 0x014</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#adeb087954f3f7141cc49dd6236b4aa4c">GICV_HPPIR</a> = 0x018</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#ac2262138aebc47d7e32b347f6cb580a6">GICV_ABPR</a> = 0x01c</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a471e427964bbc593aee5f4ce918b6ce2">GICV_AIAR</a> = 0x020</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a91ec09125f0759c2d32fa7bba32f3b03">GICV_AEOIR</a> = 0x024</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a95e1cf51d24aa765e82dd89f10321062">GICV_AHPPIR</a> = 0x028</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#aa0efd17f14c57d720c184ee92b83ee05">GICV_APR0</a> = 0x0d0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a40aac9b1ed27436f1ef04ff0f4b03f66">GICV_IIDR</a> = 0x0fc</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a806d487cfebc43c0536726f39a340463">GICV_DIR</a> = 0x1000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a0494deefa99c7f4fd9b8f3ee52a56cee">LR_PENDING</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVGic.html#a8c71200f07eaae9cd4292f5c4438ec0b">LR_ACTIVE</a> = 2</td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="aba305d5be632386ad18939cafec46fee"></a><!-- doxytag: member="VGic::Params" ref="aba305d5be632386ad18939cafec46fee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef VGicParams <a class="el" href="classVGic.html#aba305d5be632386ad18939cafec46fee">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classPioDevice.html#a9cdbda5b5cc24147ce82b7d07bf03cd1">PioDevice</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a8c1d925f2ffb272c08d5a830d171877e"></a><!-- doxytag: member="VGic::VGic" ref="a8c1d925f2ffb272c08d5a830d171877e" args="(const Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVGic.html">VGic</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVGic.html#aba305d5be632386ad18939cafec46fee">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00050"></a>00050     : <a class="code" href="classPioDevice.html#a0070809b25a5a5f3b3195a0fe94a2121">PioDevice</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>), <a class="code" href="classVGic.html#a75b48f1787959a4617f2a599d7c09aab">platform</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;platform), <a class="code" href="classVGic.html#a2e2266dca56928f63667e994933169ee">gic</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;gic), <a class="code" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;vcpu_addr),
<a name="l00051"></a>00051       <a class="code" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;hv_addr), <a class="code" href="classVGic.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;pio_delay),
<a name="l00052"></a>00052       <a class="code" href="classVGic.html#a39c00dce99eb5fe8a22703e2286661f5">maintInt</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;ppint)
<a name="l00053"></a>00053 {
<a name="l00054"></a>00054     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a> = 0; <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a> &lt; <a class="code" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>; <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>++) {
<a name="l00055"></a>00055         <a class="code" href="classVGic.html#a391a6d3a21ceaa229791a17f58d2e0ae">postVIntEvent</a>[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>] = <span class="keyword">new</span> PostVIntEvent(<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>, <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;platform);
<a name="l00056"></a>00056         <a class="code" href="classVGic.html#afc202b126ba5621ec4dae742b51889d0">maintIntPosted</a>[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>] = <span class="keyword">false</span>;
<a name="l00057"></a>00057         <a class="code" href="classVGic.html#a4108a1761c811efd10f4bd705fab8581">vIntPosted</a>[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>] = <span class="keyword">false</span>;
<a name="l00058"></a>00058     }
<a name="l00059"></a>00059     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a29b9f05234a93d5391014a3cfc5658b1">c</a> = 0; <a class="code" href="namespaceArmISA.html#a29b9f05234a93d5391014a3cfc5658b1">c</a> &lt; VGIC_CPU_MAX; <a class="code" href="namespaceArmISA.html#a29b9f05234a93d5391014a3cfc5658b1">c</a>++) {
<a name="l00060"></a>00060         memset(&amp;<a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[<a class="code" href="namespaceArmISA.html#a29b9f05234a93d5391014a3cfc5658b1">c</a>], 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> vcpuIntData));
<a name="l00061"></a>00061     }
<a name="l00062"></a>00062     assert(<a class="code" href="classPioDevice.html#a8ae37465ba84acfef6af3e9b9e6dbbd5">sys</a>-&gt;<a class="code" href="classSystem.html#af17f73eb71dfedfb91e4f39e7bb732ce">numRunningContexts</a>() &lt;= VGIC_CPU_MAX);
<a name="l00063"></a>00063 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a1e2e8270e48d9bf2f00ad8e46726eced"></a><!-- doxytag: member="VGic::BitUnion32" ref="a1e2e8270e48d9bf2f00ad8e46726eced" args="(ListReg) Bitfield&lt; 31 &gt; HW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BitUnion32 </td>
          <td>(</td>
          <td class="paramtype">ListReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6fc0955a2336f0716e82db0f8ede0101"></a><!-- doxytag: member="VGic::EndBitUnion" ref="a6fc0955a2336f0716e82db0f8ede0101" args="(VCTLR) struct vcpuIntData" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">VCTLR&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00165"></a>00165                        {
<a name="l00166"></a>00166         ListReg LR[<a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a>];
<a name="l00167"></a>00167         VCTLR vctrl;
<a name="l00168"></a>00168 
<a name="l00169"></a>00169         HCR hcr;
<a name="l00170"></a>00170         uint64_t eisr;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172         <span class="comment">/* Host info, guest info (should be 100% accessible via GICH_* regs!) */</span>
<a name="l00173"></a>00173         uint8_t VMGrp0En;
<a name="l00174"></a>00174         uint8_t VMGrp1En;
<a name="l00175"></a>00175         uint8_t VMAckCtl;
<a name="l00176"></a>00176         uint8_t VMFiqEn;
<a name="l00177"></a>00177         uint8_t VMCBPR;
<a name="l00178"></a>00178         uint8_t VEM;
<a name="l00179"></a>00179         uint8_t VMABP;
<a name="l00180"></a>00180         uint8_t VMBP;
<a name="l00181"></a>00181         uint8_t VMPriMask;
<a name="l00182"></a>00182     };
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab5911b67b4abc330297af4d4c7e24204"></a><!-- doxytag: member="VGic::EndBitUnion" ref="ab5911b67b4abc330297af4d4c7e24204" args="(HCR) BitUnion32(VCTLR) Bitfield&lt; 9 &gt; EOImode" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">HCR&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa0158cd1ea3c86fc81b16a8d77b8520b"></a><!-- doxytag: member="VGic::EndBitUnion" ref="aa0158cd1ea3c86fc81b16a8d77b8520b" args="(ListReg) BitUnion32(HCR) Bitfield&lt; 31" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">ListReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac8cda0aa85dee9a4e2f352b46d5efea8"></a><!-- doxytag: member="VGic::findHighestPendingLR" ref="ac8cda0aa85dee9a4e2f352b46d5efea8" args="(struct vcpuIntData *vid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int findHighestPendingLR </td>
          <td>(</td>
          <td class="paramtype">struct vcpuIntData *&nbsp;</td>
          <td class="paramname"> <em>vid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns LR index or -1 if none pending </p>

<p><div class="fragment"><pre class="fragment"><a name="l00238"></a>00238     {
<a name="l00239"></a>00239         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> prio = 0xff;
<a name="l00240"></a>00240         <span class="keywordtype">int</span> <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a> = -1;
<a name="l00241"></a>00241         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00242"></a>00242             <span class="keywordflow">if</span> ((vid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].State &amp; <a class="code" href="classVGic.html#a0494deefa99c7f4fd9b8f3ee52a56cee">LR_PENDING</a>) &amp;&amp; (vid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].Priority &lt; prio)) {
<a name="l00243"></a>00243                 p = <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>;
<a name="l00244"></a>00244                 prio = vid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].Priority;
<a name="l00245"></a>00245             }
<a name="l00246"></a>00246         }
<a name="l00247"></a>00247         <span class="keywordflow">return</span> p;
<a name="l00248"></a>00248     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8498dbf7b539714834568e7284487cbe"></a><!-- doxytag: member="VGic::findLRForVIRQ" ref="a8498dbf7b539714834568e7284487cbe" args="(struct vcpuIntData *vid, int virq, int vcpu)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int findLRForVIRQ </td>
          <td>(</td>
          <td class="paramtype">struct vcpuIntData *&nbsp;</td>
          <td class="paramname"> <em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>virq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>vcpu</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00251"></a>00251     {
<a name="l00252"></a>00252         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00253"></a>00253             <span class="keywordflow">if</span> (vid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].State &amp;&amp;
<a name="l00254"></a>00254                 vid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].VirtualID == virq &amp;&amp;
<a name="l00255"></a>00255                 vid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].CpuID == vcpu)
<a name="l00256"></a>00256                 <span class="keywordflow">return</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>;
<a name="l00257"></a>00257         }
<a name="l00258"></a>00258         <span class="keywordflow">return</span> -1;
<a name="l00259"></a>00259     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a36cf113d5e5e091ebddb32306c098fae"></a><!-- doxytag: member="VGic::getAddrRanges" ref="a36cf113d5e5e091ebddb32306c098fae" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">AddrRangeList</a> getAddrRanges </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Every PIO device is obliged to provide an implementation that returns the address ranges the device responds to.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>a list of non-overlapping address ranges </dd></dl>

<p><a class="el" href="classPioDevice.html#a6e967f8921e80748eb2be35b6b481a7e">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00436"></a>00436 {
<a name="l00437"></a>00437     <a class="code" href="classstd_1_1list.html">AddrRangeList</a> ranges;
<a name="l00438"></a>00438     ranges.push_back(<a class="code" href="addr__range_8hh.html#a59cd089c5b2fbc6eecd8507757432740">RangeSize</a>(<a class="code" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a>, <a class="code" href="classVGic.html#a2ca8a33991e94727efb46a8bba9e1e2a">GICH_REG_SIZE</a>));
<a name="l00439"></a>00439     ranges.push_back(<a class="code" href="addr__range_8hh.html#a59cd089c5b2fbc6eecd8507757432740">RangeSize</a>(<a class="code" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a>, <a class="code" href="classVGic.html#a327649260109afc17ff86a3a8371cb95">GICV_SIZE</a>));
<a name="l00440"></a>00440     <span class="keywordflow">return</span> ranges;
<a name="l00441"></a>00441 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aef2af82ff4c26ce727729ce60f587ee3"></a><!-- doxytag: member="VGic::getMISR" ref="aef2af82ff4c26ce727729ce60f587ee3" args="(struct vcpuIntData *vid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> getMISR </td>
          <td>(</td>
          <td class="paramtype">struct vcpuIntData *&nbsp;</td>
          <td class="paramname"> <em>vid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00345"></a>00345 {
<a name="l00346"></a>00346     <span class="keywordflow">return</span> (!!vid-&gt;hcr.VGrp1DIE &amp;&amp; !vid-&gt;VMGrp1En ? 0x80 : 0) |
<a name="l00347"></a>00347         (!!vid-&gt;hcr.VGrp1EIE &amp;&amp;  vid-&gt;VMGrp1En ? 0x40 : 0) |
<a name="l00348"></a>00348         (!!vid-&gt;hcr.VGrp0DIE &amp;&amp; !vid-&gt;VMGrp0En ? 0x20 : 0) |
<a name="l00349"></a>00349         (!!vid-&gt;hcr.VGrp0EIE &amp;&amp;  vid-&gt;VMGrp0En ? 0x10 : 0) |
<a name="l00350"></a>00350         (!!vid-&gt;hcr.NPIE &amp;&amp; !<a class="code" href="classVGic.html#ae75cd8cf3bee8ac63664bc65d393bee8">lrPending</a>(vid) ? 0x08 : 0) |
<a name="l00351"></a>00351         (!!vid-&gt;hcr.LRENPIE &amp;&amp; vid-&gt;hcr.EOICount ? 0x04 : 0) |
<a name="l00352"></a>00352         (!!vid-&gt;hcr.UIE &amp;&amp; <a class="code" href="classVGic.html#acd87d736497b629fc35abea04a8d838e">lrValid</a>(vid) &lt;= 1 ? 0x02 : 0) |
<a name="l00353"></a>00353         (vid-&gt;eisr ? 0x01 : 0);
<a name="l00354"></a>00354 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae75cd8cf3bee8ac63664bc65d393bee8"></a><!-- doxytag: member="VGic::lrPending" ref="ae75cd8cf3bee8ac63664bc65d393bee8" args="(struct vcpuIntData *vid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int lrPending </td>
          <td>(</td>
          <td class="paramtype">struct vcpuIntData *&nbsp;</td>
          <td class="paramname"> <em>vid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00218"></a>00218     {
<a name="l00219"></a>00219         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pend = 0;
<a name="l00220"></a>00220         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00221"></a>00221             <span class="keywordflow">if</span> (vid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].State &amp; <a class="code" href="classVGic.html#a0494deefa99c7f4fd9b8f3ee52a56cee">LR_PENDING</a>)
<a name="l00222"></a>00222                 pend++;
<a name="l00223"></a>00223         }
<a name="l00224"></a>00224         <span class="keywordflow">return</span> pend;
<a name="l00225"></a>00225     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acd87d736497b629fc35abea04a8d838e"></a><!-- doxytag: member="VGic::lrValid" ref="acd87d736497b629fc35abea04a8d838e" args="(struct vcpuIntData *vid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int lrValid </td>
          <td>(</td>
          <td class="paramtype">struct vcpuIntData *&nbsp;</td>
          <td class="paramname"> <em>vid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00227"></a>00227     {
<a name="l00228"></a>00228         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> valid = 0;
<a name="l00229"></a>00229         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00230"></a>00230             <span class="keywordflow">if</span> (vid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].State)
<a name="l00231"></a>00231                 valid++;
<a name="l00232"></a>00232         }
<a name="l00233"></a>00233         <span class="keywordflow">return</span> valid;
<a name="l00234"></a>00234     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acd3c3feb78ae7a8f88fe0f110a718dff"></a><!-- doxytag: member="VGic::params" ref="acd3c3feb78ae7a8f88fe0f110a718dff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classVGic.html#aba305d5be632386ad18939cafec46fee">Params</a>* params </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classPioDevice.html#acd3c3feb78ae7a8f88fe0f110a718dff">PioDevice</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00190"></a>00190     {
<a name="l00191"></a>00191         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classVGic.html#aba305d5be632386ad18939cafec46fee">Params</a> *<span class="keyword">&gt;</span>(<a class="code" href="classSimObject.html#acaf6024ae9dda44bfb1c67e05ad70aef">_params</a>);
<a name="l00192"></a>00192     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad86c8e2cfb589fee04dfc050013963af"></a><!-- doxytag: member="VGic::postMaintInt" ref="ad86c8e2cfb589fee04dfc050013963af" args="(uint32_t cpu)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void postMaintInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>cpu</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00373"></a>00373 {
<a name="l00374"></a>00374     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(VGIC, <span class="stringliteral">&quot;Posting maintenance PPI to GIC/cpu%d\n&quot;</span>, cpu);
<a name="l00375"></a>00375     <span class="comment">// Linux DT configures this as Level.</span>
<a name="l00376"></a>00376     <a class="code" href="classVGic.html#a2e2266dca56928f63667e994933169ee">gic</a>-&gt;<a class="code" href="classBaseGic.html#a89cc9c4f60c3456dca807a71da1e04a8">sendPPInt</a>(<a class="code" href="classVGic.html#a39c00dce99eb5fe8a22703e2286661f5">maintInt</a>, cpu);
<a name="l00377"></a>00377 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8974d873942f37d74bede520fc0d1f1a"></a><!-- doxytag: member="VGic::postVInt" ref="a8974d873942f37d74bede520fc0d1f1a" args="(uint32_t cpu, Tick when)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void postVInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>cpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>when</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00358"></a>00358 {
<a name="l00359"></a>00359     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(VGIC, <span class="stringliteral">&quot;Posting VIRQ to %d\n&quot;</span>, cpu);
<a name="l00360"></a>00360     <span class="keywordflow">if</span> (!(<a class="code" href="classVGic.html#a391a6d3a21ceaa229791a17f58d2e0ae">postVIntEvent</a>[cpu]-&gt;scheduled()))
<a name="l00361"></a>00361         <a class="code" href="classEventManager.html#acfd644007a0f188b7f221e67a6b453aa">eventq</a>-&gt;<a class="code" href="classEventQueue.html#a6e13c0d68fbc26df6eff27313813b8a4">schedule</a>(<a class="code" href="classVGic.html#a391a6d3a21ceaa229791a17f58d2e0ae">postVIntEvent</a>[cpu], when);
<a name="l00362"></a>00362 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a613ec7d5e1ec64f8d21fec78ae8e568e"></a><!-- doxytag: member="VGic::read" ref="a613ec7d5e1ec64f8d21fec78ae8e568e" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pure virtual function that the device must implement. Called when a read command is recieved by the port. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html">Packet</a> describing this request </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of ticks it took to complete </dd></dl>

<p><a class="el" href="classPioDevice.html#a842312590432036092c422c87a442358">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00067"></a>00067 {
<a name="l00068"></a>00068     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a> = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>();
<a name="l00069"></a>00069 
<a name="l00070"></a>00070     <span class="keywordflow">if</span> (addr &gt;= <a class="code" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a> &amp;&amp; addr &lt; <a class="code" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a> + <a class="code" href="classVGic.html#a327649260109afc17ff86a3a8371cb95">GICV_SIZE</a>)
<a name="l00071"></a>00071         <span class="keywordflow">return</span> <a class="code" href="classVGic.html#ae1f51e39d49a7c6129c9092a9fc1f304">readVCpu</a>(pkt);
<a name="l00072"></a>00072     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addr &gt;= <a class="code" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a> &amp;&amp; addr &lt; <a class="code" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a> + <a class="code" href="classVGic.html#a2ca8a33991e94727efb46a8bba9e1e2a">GICH_REG_SIZE</a>)
<a name="l00073"></a>00073         <span class="keywordflow">return</span> <a class="code" href="classVGic.html#a45a7fc6132e09486475eca0302ab4981">readCtrl</a>(pkt);
<a name="l00074"></a>00074     <span class="keywordflow">else</span>
<a name="l00075"></a>00075         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Read to unknown address %#x\n&quot;</span>, pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>());
<a name="l00076"></a>00076 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a45a7fc6132e09486475eca0302ab4981"></a><!-- doxytag: member="VGic::readCtrl" ref="a45a7fc6132e09486475eca0302ab4981" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> readCtrl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00138"></a>00138 {
<a name="l00139"></a>00139     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> daddr = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() - <a class="code" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a>;
<a name="l00140"></a>00140     pkt-&gt;<a class="code" href="classPacket.html#acaefe811b78a2fdc4a0dba0c4029c3ef">allocate</a>();
<a name="l00141"></a>00141 
<a name="l00142"></a>00142     <span class="keywordtype">int</span> ctx_id = pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a651d5d14e7a4e95ebe6d7f5b8ee5a107">contextId</a>();
<a name="l00143"></a>00143 
<a name="l00144"></a>00144     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(VGIC, <span class="stringliteral">&quot;VGIC HVCtrl read register %#x\n&quot;</span>, daddr);
<a name="l00145"></a>00145 
<a name="l00146"></a>00146     <span class="comment">/* Munge the address: 0-0xfff is the usual space banked by requester CPU.</span>
<a name="l00147"></a>00147 <span class="comment">     * Anything &gt; that is 0x200-sized slices of &apos;per CPU&apos; regs.</span>
<a name="l00148"></a>00148 <span class="comment">     */</span>
<a name="l00149"></a>00149     <span class="keywordflow">if</span> (daddr &amp; ~0x1ff) {
<a name="l00150"></a>00150         ctx_id = (daddr &gt;&gt; 9);
<a name="l00151"></a>00151         <span class="keywordflow">if</span> (ctx_id &gt; 8)
<a name="l00152"></a>00152             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;VGIC: Weird unbanked hv ctrl address %#x!\n&quot;</span>, daddr);
<a name="l00153"></a>00153         daddr &amp;= ~0x1ff;
<a name="l00154"></a>00154     }
<a name="l00155"></a>00155     assert(ctx_id &lt; <a class="code" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>);
<a name="l00156"></a>00156     <span class="keyword">struct </span>vcpuIntData *vid = &amp;<a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[ctx_id];
<a name="l00157"></a>00157 
<a name="l00158"></a>00158     <span class="keywordflow">switch</span> (daddr) {
<a name="l00159"></a>00159       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a05157a03988a41b46b78b6d9d5a49bf6">GICH_HCR</a>:
<a name="l00160"></a>00160         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(vid-&gt;hcr);
<a name="l00161"></a>00161         <span class="keywordflow">break</span>;
<a name="l00162"></a>00162 
<a name="l00163"></a>00163       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#ac1961ca86b5c402d101577a495694f42">GICH_VTR</a>:
<a name="l00164"></a>00164         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(0x44000000 | (<a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a> - 1));
<a name="l00165"></a>00165         <span class="keywordflow">break</span>;
<a name="l00166"></a>00166 
<a name="l00167"></a>00167       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a10bf121a0b670d835ede0ba151cb62bd">GICH_VMCR</a>:
<a name="l00168"></a>00168         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(
<a name="l00169"></a>00169             ((<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)vid-&gt;VMPriMask &lt;&lt; 27) |
<a name="l00170"></a>00170             ((<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)vid-&gt;VMBP &lt;&lt; 21) |
<a name="l00171"></a>00171             ((<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)vid-&gt;VMABP &lt;&lt; 18) |
<a name="l00172"></a>00172             ((<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)vid-&gt;VEM &lt;&lt; 9) |
<a name="l00173"></a>00173             ((<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)vid-&gt;VMCBPR &lt;&lt; 4) |
<a name="l00174"></a>00174             ((<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)vid-&gt;VMFiqEn &lt;&lt; 3) |
<a name="l00175"></a>00175             ((<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)vid-&gt;VMAckCtl &lt;&lt; 2) |
<a name="l00176"></a>00176             ((<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)vid-&gt;VMGrp1En &lt;&lt; 1) |
<a name="l00177"></a>00177             ((<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)vid-&gt;VMGrp0En &lt;&lt; 0)
<a name="l00178"></a>00178             );
<a name="l00179"></a>00179         <span class="keywordflow">break</span>;
<a name="l00180"></a>00180 
<a name="l00181"></a>00181       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a8f6ba28cb22381782c786778de9236a7">GICH_MISR</a>:
<a name="l00182"></a>00182         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(<a class="code" href="classVGic.html#aef2af82ff4c26ce727729ce60f587ee3">getMISR</a>(vid));
<a name="l00183"></a>00183         <span class="keywordflow">break</span>;
<a name="l00184"></a>00184 
<a name="l00185"></a>00185       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a6377986cfc790adf7f3274de63f840a5">GICH_EISR0</a>:
<a name="l00186"></a>00186         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(vid-&gt;eisr &amp; 0xffffffff);
<a name="l00187"></a>00187         <span class="keywordflow">break</span>;
<a name="l00188"></a>00188 
<a name="l00189"></a>00189       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#ad2d40266f69c1beee09c888281738df1">GICH_EISR1</a>:
<a name="l00190"></a>00190         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(vid-&gt;eisr &gt;&gt; 32);
<a name="l00191"></a>00191         <span class="keywordflow">break</span>;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#af16152e073dd9ed6e6ce3515c99301c9">GICH_ELSR0</a>: {
<a name="l00194"></a>00194           <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> bm = 0;
<a name="l00195"></a>00195           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; ((<a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a> &lt; 32) ? <a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a> : 32); <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00196"></a>00196               <span class="keywordflow">if</span> (!vid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].State)
<a name="l00197"></a>00197                   bm |= 1 &lt;&lt; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>;
<a name="l00198"></a>00198           }
<a name="l00199"></a>00199           pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(bm);
<a name="l00200"></a>00200       } <span class="keywordflow">break</span>;
<a name="l00201"></a>00201 
<a name="l00202"></a>00202       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a1dc31e7d69166471775d43e3729228b4">GICH_ELSR1</a>: {
<a name="l00203"></a>00203           <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> bm = 0;
<a name="l00204"></a>00204           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 32; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00205"></a>00205               <span class="keywordflow">if</span> (!vid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].State)
<a name="l00206"></a>00206                   bm |= 1 &lt;&lt; (<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>-32);
<a name="l00207"></a>00207           }
<a name="l00208"></a>00208           pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(bm);
<a name="l00209"></a>00209       } <span class="keywordflow">break</span>;
<a name="l00210"></a>00210 
<a name="l00211"></a>00211       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#ae799770adf4da02abcc790d891238aec">GICH_APR0</a>:
<a name="l00212"></a>00212         <a class="code" href="base_2misc_8hh.html#abb243c15dfbeedf4ae64aa213f4f18c7">warn_once</a>(<span class="stringliteral">&quot;VGIC GICH_APR read!\n&quot;</span>);
<a name="l00213"></a>00213         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(0);
<a name="l00214"></a>00214         <span class="keywordflow">break</span>;
<a name="l00215"></a>00215 
<a name="l00216"></a>00216       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a75e35ac1eddd88a77229bf915b48273f">GICH_LR0</a>:
<a name="l00217"></a>00217       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#ace36c2959f314bca6c1f53ef7b471011">GICH_LR1</a>:
<a name="l00218"></a>00218       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a58f68d484460b5ba7753425a306db71e">GICH_LR2</a>:
<a name="l00219"></a>00219       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a630c33972a6516ce8617656424902292">GICH_LR3</a>:
<a name="l00220"></a>00220         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(vid-&gt;LR[(daddr - <a class="code" href="classVGic.html#a75e35ac1eddd88a77229bf915b48273f">GICH_LR0</a>) &gt;&gt; 2]);
<a name="l00221"></a>00221         <span class="keywordflow">break</span>;
<a name="l00222"></a>00222 
<a name="l00223"></a>00223       <span class="keywordflow">default</span>:
<a name="l00224"></a>00224         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;VGIC HVCtrl read of bad address %#x\n&quot;</span>, daddr);
<a name="l00225"></a>00225     }
<a name="l00226"></a>00226 
<a name="l00227"></a>00227     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00228"></a>00228     <span class="keywordflow">return</span> <a class="code" href="classVGic.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>;
<a name="l00229"></a>00229 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae1f51e39d49a7c6129c9092a9fc1f304"></a><!-- doxytag: member="VGic::readVCpu" ref="ae1f51e39d49a7c6129c9092a9fc1f304" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> readVCpu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00093"></a>00093 {
<a name="l00094"></a>00094     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> daddr = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() - <a class="code" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a>;
<a name="l00095"></a>00095     pkt-&gt;<a class="code" href="classPacket.html#acaefe811b78a2fdc4a0dba0c4029c3ef">allocate</a>();
<a name="l00096"></a>00096 
<a name="l00097"></a>00097     <span class="keywordtype">int</span> ctx_id = pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a651d5d14e7a4e95ebe6d7f5b8ee5a107">contextId</a>();
<a name="l00098"></a>00098     assert(ctx_id &lt; <a class="code" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>);
<a name="l00099"></a>00099     <span class="keyword">struct </span>vcpuIntData *vid = &amp;<a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[ctx_id];
<a name="l00100"></a>00100 
<a name="l00101"></a>00101     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(VGIC, <span class="stringliteral">&quot;VGIC VCPU read register %#x\n&quot;</span>, daddr);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     <span class="keywordflow">switch</span> (daddr) {
<a name="l00104"></a>00104       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#ab4280dfa561ca960d58d341662849f7b">GICV_CTLR</a>:
<a name="l00105"></a>00105         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(vid-&gt;vctrl);
<a name="l00106"></a>00106         <span class="keywordflow">break</span>;
<a name="l00107"></a>00107       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a132fc471769307b51fb6ee13cd852835">GICV_IAR</a>: {
<a name="l00108"></a>00108           <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = <a class="code" href="classVGic.html#ac8cda0aa85dee9a4e2f352b46d5efea8">findHighestPendingLR</a>(vid);
<a name="l00109"></a>00109           <span class="keywordflow">if</span> (i &lt; 0 || !vid-&gt;vctrl.En) {
<a name="l00110"></a>00110               pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(1023); <span class="comment">// &quot;No int&quot; marker</span>
<a name="l00111"></a>00111           } <span class="keywordflow">else</span> {
<a name="l00112"></a>00112               ListReg *lr = &amp;vid-&gt;LR[i];
<a name="l00113"></a>00113 
<a name="l00114"></a>00114               pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(lr-&gt;VirtualID |
<a name="l00115"></a>00115                                  (((int)lr-&gt;CpuID) &lt;&lt; 10));
<a name="l00116"></a>00116               <span class="comment">// We don&apos;t support auto-EOI of HW interrupts via real GIC!</span>
<a name="l00117"></a>00117               <span class="comment">// Fortunately, KVM doesn&apos;t use this.  How about Xen...? Ulp!</span>
<a name="l00118"></a>00118               <span class="keywordflow">if</span> (lr-&gt;HW)
<a name="l00119"></a>00119                   <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;VGIC does not support &apos;HW&apos; List Register feature (LR %#x)!\n&quot;</span>,
<a name="l00120"></a>00120                         *lr);
<a name="l00121"></a>00121               lr-&gt;State = <a class="code" href="classVGic.html#a8c71200f07eaae9cd4292f5c4438ec0b">LR_ACTIVE</a>;
<a name="l00122"></a>00122               <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(VGIC, <span class="stringliteral">&quot;Consumed interrupt %d (cpu%d) from LR%d (EOI%d)\n&quot;</span>,
<a name="l00123"></a>00123                       lr-&gt;VirtualID, lr-&gt;CpuID, i, lr-&gt;EOI);
<a name="l00124"></a>00124           }
<a name="l00125"></a>00125       } <span class="keywordflow">break</span>;
<a name="l00126"></a>00126       <span class="keywordflow">default</span>:
<a name="l00127"></a>00127         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;VGIC VCPU read of bad address %#x\n&quot;</span>, daddr);
<a name="l00128"></a>00128     }
<a name="l00129"></a>00129 
<a name="l00130"></a>00130     <a class="code" href="classVGic.html#aa1847a7ae392ebc8637b9ab5d25c4c4b">updateIntState</a>(ctx_id);
<a name="l00131"></a>00131 
<a name="l00132"></a>00132     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00133"></a>00133     <span class="keywordflow">return</span> <a class="code" href="classVGic.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>;
<a name="l00134"></a>00134 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53e036786d17361be4c7320d39c99b84"></a><!-- doxytag: member="VGic::serialize" ref="a53e036786d17361be4c7320d39c99b84" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#ad6272f80ae37e8331e3969b3f072a801">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00445"></a>00445 {
<a name="l00446"></a>00446     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> interrupt_time[<a class="code" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>];
<a name="l00447"></a>00447     <span class="keywordflow">for</span> (<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> cpu = 0; cpu &lt; <a class="code" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>; cpu++) {
<a name="l00448"></a>00448         interrupt_time[cpu] = 0;
<a name="l00449"></a>00449         <span class="keywordflow">if</span> (<a class="code" href="classVGic.html#a391a6d3a21ceaa229791a17f58d2e0ae">postVIntEvent</a>[cpu]-&gt;scheduled()) {
<a name="l00450"></a>00450             interrupt_time[cpu] = <a class="code" href="classVGic.html#a391a6d3a21ceaa229791a17f58d2e0ae">postVIntEvent</a>[cpu]-&gt;<a class="code" href="classEvent.html#a1883243a0117678c5695f2435dcabbdc" title="Get the time that the event is scheduled.">when</a>();
<a name="l00451"></a>00451         }
<a name="l00452"></a>00452     }
<a name="l00453"></a>00453 
<a name="l00454"></a>00454     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classCheckpoint.html">Checkpoint</a>, <span class="stringliteral">&quot;Serializing VGIC\n&quot;</span>);
<a name="l00455"></a>00455 
<a name="l00456"></a>00456     <a class="code" href="serialize_8hh.html#a9aa03522128bc19a3bc0294501226f8b">SERIALIZE_ARRAY</a>(interrupt_time, VGIC_CPU_MAX);
<a name="l00457"></a>00457     <a class="code" href="serialize_8hh.html#a9aa03522128bc19a3bc0294501226f8b">SERIALIZE_ARRAY</a>(<a class="code" href="classVGic.html#afc202b126ba5621ec4dae742b51889d0">maintIntPosted</a>, VGIC_CPU_MAX);
<a name="l00458"></a>00458     <a class="code" href="serialize_8hh.html#a9aa03522128bc19a3bc0294501226f8b">SERIALIZE_ARRAY</a>(<a class="code" href="classVGic.html#a4108a1761c811efd10f4bd705fab8581">vIntPosted</a>, VGIC_CPU_MAX);
<a name="l00459"></a>00459     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a>);
<a name="l00460"></a>00460     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a>);
<a name="l00461"></a>00461     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classVGic.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>);
<a name="l00462"></a>00462     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classVGic.html#a39c00dce99eb5fe8a22703e2286661f5">maintInt</a>);
<a name="l00463"></a>00463 
<a name="l00464"></a>00464     <span class="keywordflow">for</span> (<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> cpu = 0; cpu &lt; VGIC_CPU_MAX; cpu++) {
<a name="l00465"></a>00465         <a class="code" href="classSerializable.html#a02882ba301442518e82872ad4574a3f0">nameOut</a>(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, <a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>(), cpu));
<a name="l00466"></a>00466         <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> vctrl_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].vctrl;
<a name="l00467"></a>00467         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(vctrl_val);
<a name="l00468"></a>00468         <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> hcr_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].hcr;
<a name="l00469"></a>00469         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(hcr_val);
<a name="l00470"></a>00470         uint64_t eisr_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].eisr;
<a name="l00471"></a>00471         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(eisr_val);
<a name="l00472"></a>00472         uint8_t VMGrp0En_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMGrp0En;
<a name="l00473"></a>00473         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(VMGrp0En_val);
<a name="l00474"></a>00474         uint8_t VMGrp1En_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMGrp1En;
<a name="l00475"></a>00475         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(VMGrp1En_val);
<a name="l00476"></a>00476         uint8_t VMAckCtl_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMAckCtl;
<a name="l00477"></a>00477         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(VMAckCtl_val);
<a name="l00478"></a>00478         uint8_t VMFiqEn_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMFiqEn;
<a name="l00479"></a>00479         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(VMFiqEn_val);
<a name="l00480"></a>00480         uint8_t VMCBPR_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMCBPR;
<a name="l00481"></a>00481         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(VMCBPR_val);
<a name="l00482"></a>00482         uint8_t VEM_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VEM;
<a name="l00483"></a>00483         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(VEM_val);
<a name="l00484"></a>00484         uint8_t VMABP_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMABP;
<a name="l00485"></a>00485         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(VMABP_val);
<a name="l00486"></a>00486         uint8_t VMBP_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMBP;
<a name="l00487"></a>00487         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(VMBP_val);
<a name="l00488"></a>00488         uint8_t VMPriMask_val = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMPriMask;
<a name="l00489"></a>00489         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(VMPriMask_val);
<a name="l00490"></a>00490 
<a name="l00491"></a>00491         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00492"></a>00492             <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> lr = <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>];
<a name="l00493"></a>00493             <a class="code" href="classSerializable.html#a02882ba301442518e82872ad4574a3f0">nameOut</a>(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d.LR%d&quot;</span>, <a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>(), cpu, <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>));
<a name="l00494"></a>00494             <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(lr);
<a name="l00495"></a>00495         }
<a name="l00496"></a>00496     }
<a name="l00497"></a>00497 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae2afe0f63a211fe5f6cc56bbe8b4d79a"></a><!-- doxytag: member="VGic::unPostMaintInt" ref="ae2afe0f63a211fe5f6cc56bbe8b4d79a" args="(uint32_t cpu)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unPostMaintInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>cpu</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00381"></a>00381 {
<a name="l00382"></a>00382     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(VGIC, <span class="stringliteral">&quot;Unposting maintenance PPI to GIC/cpu%d\n&quot;</span>, cpu);
<a name="l00383"></a>00383     <a class="code" href="classVGic.html#a2e2266dca56928f63667e994933169ee">gic</a>-&gt;<a class="code" href="classBaseGic.html#ad6b86158511bccf53411efea34fb8b9a">clearPPInt</a>(<a class="code" href="classVGic.html#a39c00dce99eb5fe8a22703e2286661f5">maintInt</a>, cpu);
<a name="l00384"></a>00384 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a483dd48f21752d469dcd36f3e331184a"></a><!-- doxytag: member="VGic::unPostVInt" ref="a483dd48f21752d469dcd36f3e331184a" args="(uint32_t cpu)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unPostVInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>cpu</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00366"></a>00366 {
<a name="l00367"></a>00367     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(VGIC, <span class="stringliteral">&quot;Unposting VIRQ to %d\n&quot;</span>, cpu);
<a name="l00368"></a>00368     <a class="code" href="classVGic.html#a75b48f1787959a4617f2a599d7c09aab">platform</a>-&gt;<a class="code" href="classPlatform.html#aab4191dd66c041ed67fb31d758ab705e">intrctrl</a>-&gt;<a class="code" href="classIntrControl.html#a82089f360a335ee396b89d844c278968">clear</a>(cpu, <a class="code" href="namespaceArmISA.html#acdad6d81b9a94402ce3979d531ae4f40ae451b226c8257315d10d046fa3aefe6a">ArmISA::INT_VIRT_IRQ</a>, 0);
<a name="l00369"></a>00369 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af22e5d6d660b97db37003ac61ac4ee49"></a><!-- doxytag: member="VGic::unserialize" ref="af22e5d6d660b97db37003ac61ac4ee49" args="(Checkpoint *cp, const std::string &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#af100c4e9feabf3cd918619c88c718387">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00500"></a>00500 {
<a name="l00501"></a>00501     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classCheckpoint.html">Checkpoint</a>, <span class="stringliteral">&quot;Unserializing Arm GIC\n&quot;</span>);
<a name="l00502"></a>00502 
<a name="l00503"></a>00503     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> interrupt_time[<a class="code" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>];
<a name="l00504"></a>00504     <a class="code" href="serialize_8hh.html#a8de12bf68d0f92f7ab8585820607932e">UNSERIALIZE_ARRAY</a>(interrupt_time, <a class="code" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>);
<a name="l00505"></a>00505     <span class="keywordflow">for</span> (<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> cpu = 0; cpu &lt; <a class="code" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>; cpu++) {
<a name="l00506"></a>00506         <span class="keywordflow">if</span> (interrupt_time[cpu])
<a name="l00507"></a>00507             <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classVGic.html#a391a6d3a21ceaa229791a17f58d2e0ae">postVIntEvent</a>[cpu], interrupt_time[cpu]);
<a name="l00508"></a>00508 
<a name="l00509"></a>00509         <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> tmp;
<a name="l00510"></a>00510         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, section, cpu),
<a name="l00511"></a>00511                 <span class="stringliteral">&quot;vctrl_val&quot;</span>, tmp);
<a name="l00512"></a>00512         <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].vctrl = tmp;
<a name="l00513"></a>00513         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, section, cpu),
<a name="l00514"></a>00514                 <span class="stringliteral">&quot;hcr_val&quot;</span>, tmp);
<a name="l00515"></a>00515         <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].hcr = tmp;
<a name="l00516"></a>00516         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, section, cpu),
<a name="l00517"></a>00517                 <span class="stringliteral">&quot;eisr_val&quot;</span>, <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].eisr);
<a name="l00518"></a>00518         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, section, cpu),
<a name="l00519"></a>00519                 <span class="stringliteral">&quot;VMGrp0En_val&quot;</span>, <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMGrp0En);
<a name="l00520"></a>00520         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, section, cpu),
<a name="l00521"></a>00521                 <span class="stringliteral">&quot;VMGrp1En_val&quot;</span>, <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMGrp1En);
<a name="l00522"></a>00522         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, section, cpu),
<a name="l00523"></a>00523                 <span class="stringliteral">&quot;VMAckCtl_val&quot;</span>, <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMAckCtl);
<a name="l00524"></a>00524         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, section, cpu),
<a name="l00525"></a>00525                 <span class="stringliteral">&quot;VMFiqEn_val&quot;</span>, <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMFiqEn);
<a name="l00526"></a>00526         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, section, cpu),
<a name="l00527"></a>00527                 <span class="stringliteral">&quot;VMCBPR_val&quot;</span>, <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMCBPR);
<a name="l00528"></a>00528         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, section, cpu),
<a name="l00529"></a>00529                 <span class="stringliteral">&quot;VEM_val&quot;</span>, <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VEM);
<a name="l00530"></a>00530         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, section, cpu),
<a name="l00531"></a>00531                 <span class="stringliteral">&quot;VMABP_val&quot;</span>, <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMABP);
<a name="l00532"></a>00532         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d&quot;</span>, section, cpu),
<a name="l00533"></a>00533                 <span class="stringliteral">&quot;VMPriMask_val&quot;</span>, <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].VMPriMask);
<a name="l00534"></a>00534 
<a name="l00535"></a>00535         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00536"></a>00536             <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.vcpuData%d.LR%d&quot;</span>, section, cpu, <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>),
<a name="l00537"></a>00537                     <span class="stringliteral">&quot;lr&quot;</span>, tmp);
<a name="l00538"></a>00538             <a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[cpu].LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = tmp;
<a name="l00539"></a>00539         }
<a name="l00540"></a>00540     }
<a name="l00541"></a>00541     <a class="code" href="serialize_8hh.html#a8de12bf68d0f92f7ab8585820607932e">UNSERIALIZE_ARRAY</a>(<a class="code" href="classVGic.html#afc202b126ba5621ec4dae742b51889d0">maintIntPosted</a>, VGIC_CPU_MAX);
<a name="l00542"></a>00542     <a class="code" href="serialize_8hh.html#a8de12bf68d0f92f7ab8585820607932e">UNSERIALIZE_ARRAY</a>(<a class="code" href="classVGic.html#a4108a1761c811efd10f4bd705fab8581">vIntPosted</a>, VGIC_CPU_MAX);
<a name="l00543"></a>00543     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a>);
<a name="l00544"></a>00544     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a>);
<a name="l00545"></a>00545     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classVGic.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>);
<a name="l00546"></a>00546     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classVGic.html#a39c00dce99eb5fe8a22703e2286661f5">maintInt</a>);
<a name="l00547"></a>00547 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa1847a7ae392ebc8637b9ab5d25c4c4b"></a><!-- doxytag: member="VGic::updateIntState" ref="aa1847a7ae392ebc8637b9ab5d25c4c4b" args="(int ctx_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateIntState </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ctx_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00391"></a>00391 {
<a name="l00392"></a>00392     <span class="comment">// @todo This should update APRs!</span>
<a name="l00393"></a>00393 
<a name="l00394"></a>00394     <span class="comment">// Build EISR contents:</span>
<a name="l00395"></a>00395     <span class="comment">// (Cached so that regs can read them without messing about again)</span>
<a name="l00396"></a>00396     <span class="keyword">struct </span>vcpuIntData *tvid = &amp;<a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[ctx_id];
<a name="l00397"></a>00397 
<a name="l00398"></a>00398     tvid-&gt;eisr = 0;
<a name="l00399"></a>00399     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00400"></a>00400         <span class="keywordflow">if</span> (!tvid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].State &amp;&amp; tvid-&gt;LR[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].EOI) {
<a name="l00401"></a>00401             tvid-&gt;eisr |= 1 &lt;&lt; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>;
<a name="l00402"></a>00402         }
<a name="l00403"></a>00403     }
<a name="l00404"></a>00404 
<a name="l00405"></a>00405     assert(<a class="code" href="classPioDevice.html#a8ae37465ba84acfef6af3e9b9e6dbbd5">sys</a>-&gt;<a class="code" href="classSystem.html#af17f73eb71dfedfb91e4f39e7bb732ce">numRunningContexts</a>() &lt;= <a class="code" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>);
<a name="l00406"></a>00406     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classPioDevice.html#a8ae37465ba84acfef6af3e9b9e6dbbd5">sys</a>-&gt;<a class="code" href="classSystem.html#af17f73eb71dfedfb91e4f39e7bb732ce">numRunningContexts</a>(); <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00407"></a>00407         <span class="keyword">struct </span>vcpuIntData *vid = &amp;<a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>];
<a name="l00408"></a>00408         <span class="comment">// Are any LRs active that weren&apos;t before?</span>
<a name="l00409"></a>00409         <span class="keywordflow">if</span> (!<a class="code" href="classVGic.html#a4108a1761c811efd10f4bd705fab8581">vIntPosted</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]) {
<a name="l00410"></a>00410             <span class="keywordflow">if</span> (<a class="code" href="classVGic.html#ae75cd8cf3bee8ac63664bc65d393bee8">lrPending</a>(vid) &amp;&amp; vid-&gt;vctrl.En) {
<a name="l00411"></a>00411                 <a class="code" href="classVGic.html#a4108a1761c811efd10f4bd705fab8581">vIntPosted</a>[i] = <span class="keyword">true</span>;
<a name="l00412"></a>00412                 <a class="code" href="classVGic.html#a8974d873942f37d74bede520fc0d1f1a">postVInt</a>(i, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() + 1);
<a name="l00413"></a>00413             }
<a name="l00414"></a>00414         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classVGic.html#ae75cd8cf3bee8ac63664bc65d393bee8">lrPending</a>(vid)) {
<a name="l00415"></a>00415             <a class="code" href="classVGic.html#a4108a1761c811efd10f4bd705fab8581">vIntPosted</a>[i] = <span class="keyword">false</span>;
<a name="l00416"></a>00416             <a class="code" href="classVGic.html#a483dd48f21752d469dcd36f3e331184a">unPostVInt</a>(i);
<a name="l00417"></a>00417         }
<a name="l00418"></a>00418 
<a name="l00419"></a>00419         <span class="comment">// Any maintenance ints to send?</span>
<a name="l00420"></a>00420         <span class="keywordflow">if</span> (!<a class="code" href="classVGic.html#afc202b126ba5621ec4dae742b51889d0">maintIntPosted</a>[i]) {
<a name="l00421"></a>00421             <span class="keywordflow">if</span> (vid-&gt;hcr.En &amp;&amp; <a class="code" href="classVGic.html#aef2af82ff4c26ce727729ce60f587ee3">getMISR</a>(vid)) {
<a name="l00422"></a>00422                 <a class="code" href="classVGic.html#afc202b126ba5621ec4dae742b51889d0">maintIntPosted</a>[i] = <span class="keyword">true</span>;
<a name="l00423"></a>00423                 <a class="code" href="classVGic.html#ad86c8e2cfb589fee04dfc050013963af">postMaintInt</a>(i);
<a name="l00424"></a>00424             }
<a name="l00425"></a>00425         } <span class="keywordflow">else</span> {
<a name="l00426"></a>00426             <span class="keywordflow">if</span> (!vid-&gt;hcr.En || !<a class="code" href="classVGic.html#aef2af82ff4c26ce727729ce60f587ee3">getMISR</a>(vid)) {
<a name="l00427"></a>00427                 <a class="code" href="classVGic.html#ae2afe0f63a211fe5f6cc56bbe8b4d79a">unPostMaintInt</a>(i);
<a name="l00428"></a>00428                 <a class="code" href="classVGic.html#afc202b126ba5621ec4dae742b51889d0">maintIntPosted</a>[i] = <span class="keyword">false</span>;
<a name="l00429"></a>00429             }
<a name="l00430"></a>00430         }
<a name="l00431"></a>00431     }
<a name="l00432"></a>00432 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4cefab464e72b5dd42c003a0a4341802"></a><!-- doxytag: member="VGic::write" ref="a4cefab464e72b5dd42c003a0a4341802" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pure virtual function that the device must implement. Called when a write command is recieved by the port. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html">Packet</a> describing this request </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of ticks it took to complete </dd></dl>

<p><a class="el" href="classPioDevice.html#afe8371668d023bb2516b286e5e399b6f">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00080"></a>00080 {
<a name="l00081"></a>00081     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a> = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>();
<a name="l00082"></a>00082 
<a name="l00083"></a>00083     <span class="keywordflow">if</span> (addr &gt;= <a class="code" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a> &amp;&amp; addr &lt; <a class="code" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a> + <a class="code" href="classVGic.html#a327649260109afc17ff86a3a8371cb95">GICV_SIZE</a>)
<a name="l00084"></a>00084         <span class="keywordflow">return</span> <a class="code" href="classVGic.html#a289d8279acf224a8745658b053b0c16c">writeVCpu</a>(pkt);
<a name="l00085"></a>00085     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addr &gt;= <a class="code" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a> &amp;&amp; addr &lt; <a class="code" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a> + <a class="code" href="classVGic.html#a2ca8a33991e94727efb46a8bba9e1e2a">GICH_REG_SIZE</a>)
<a name="l00086"></a>00086         <span class="keywordflow">return</span> <a class="code" href="classVGic.html#ab75ecb383e0dfa786c92077803100348">writeCtrl</a>(pkt);
<a name="l00087"></a>00087     <span class="keywordflow">else</span>
<a name="l00088"></a>00088         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Write to unknown address %#x\n&quot;</span>, pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>());
<a name="l00089"></a>00089 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab75ecb383e0dfa786c92077803100348"></a><!-- doxytag: member="VGic::writeCtrl" ref="ab75ecb383e0dfa786c92077803100348" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> writeCtrl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00281"></a>00281 {
<a name="l00282"></a>00282     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> daddr = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() - <a class="code" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a>;
<a name="l00283"></a>00283     pkt-&gt;<a class="code" href="classPacket.html#acaefe811b78a2fdc4a0dba0c4029c3ef">allocate</a>();
<a name="l00284"></a>00284 
<a name="l00285"></a>00285     <span class="keywordtype">int</span> ctx_id = pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a651d5d14e7a4e95ebe6d7f5b8ee5a107">contextId</a>();
<a name="l00286"></a>00286 
<a name="l00287"></a>00287     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(VGIC, <span class="stringliteral">&quot;VGIC HVCtrl write register %#x &lt;= %#x\n&quot;</span>, daddr, pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;());
<a name="l00288"></a>00288 
<a name="l00289"></a>00289     <span class="comment">/* Munge the address: 0-0xfff is the usual space banked by requester CPU.</span>
<a name="l00290"></a>00290 <span class="comment">     * Anything &gt; that is 0x200-sized slices of &apos;per CPU&apos; regs.</span>
<a name="l00291"></a>00291 <span class="comment">     */</span>
<a name="l00292"></a>00292     <span class="keywordflow">if</span> (daddr &amp; ~0x1ff) {
<a name="l00293"></a>00293         ctx_id = (daddr &gt;&gt; 9);
<a name="l00294"></a>00294         <span class="keywordflow">if</span> (ctx_id &gt; 8)
<a name="l00295"></a>00295             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;VGIC: Weird unbanked hv ctrl address %#x!\n&quot;</span>, daddr);
<a name="l00296"></a>00296         daddr &amp;= ~0x1ff;
<a name="l00297"></a>00297     }
<a name="l00298"></a>00298     assert(ctx_id &lt; <a class="code" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>);
<a name="l00299"></a>00299     <span class="keyword">struct </span>vcpuIntData *vid = &amp;<a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[ctx_id];
<a name="l00300"></a>00300 
<a name="l00301"></a>00301     <span class="keywordflow">switch</span> (daddr) {
<a name="l00302"></a>00302       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a05157a03988a41b46b78b6d9d5a49bf6">GICH_HCR</a>:
<a name="l00303"></a>00303         vid-&gt;hcr = pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();
<a name="l00304"></a>00304         <span class="comment">// update int state</span>
<a name="l00305"></a>00305         <span class="keywordflow">break</span>;
<a name="l00306"></a>00306 
<a name="l00307"></a>00307       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a10bf121a0b670d835ede0ba151cb62bd">GICH_VMCR</a>: {
<a name="l00308"></a>00308           <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="namespaceArmISA.html#a780d191da4f56c853452d790bddbacb1">d</a> = pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();
<a name="l00309"></a>00309           vid-&gt;VMPriMask = d &gt;&gt; 27;
<a name="l00310"></a>00310           vid-&gt;VMBP = (d &gt;&gt; 21) &amp; 7;
<a name="l00311"></a>00311           vid-&gt;VMABP = (d &gt;&gt; 18) &amp; 7;
<a name="l00312"></a>00312           vid-&gt;VEM = (d &gt;&gt; 9) &amp; 1;
<a name="l00313"></a>00313           vid-&gt;VMCBPR = (d &gt;&gt; 4) &amp; 1;
<a name="l00314"></a>00314           vid-&gt;VMFiqEn = (d &gt;&gt; 3) &amp; 1;
<a name="l00315"></a>00315           vid-&gt;VMAckCtl = (d &gt;&gt; 2) &amp; 1;
<a name="l00316"></a>00316           vid-&gt;VMGrp1En = (d &gt;&gt; 1) &amp; 1;
<a name="l00317"></a>00317           vid-&gt;VMGrp0En = d &amp; 1;
<a name="l00318"></a>00318       } <span class="keywordflow">break</span>;
<a name="l00319"></a>00319 
<a name="l00320"></a>00320       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#ae799770adf4da02abcc790d891238aec">GICH_APR0</a>:
<a name="l00321"></a>00321         <a class="code" href="base_2misc_8hh.html#abb243c15dfbeedf4ae64aa213f4f18c7">warn_once</a>(<span class="stringliteral">&quot;VGIC GICH_APR0 written, ignored\n&quot;</span>);
<a name="l00322"></a>00322         <span class="keywordflow">break</span>;
<a name="l00323"></a>00323 
<a name="l00324"></a>00324       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a75e35ac1eddd88a77229bf915b48273f">GICH_LR0</a>:
<a name="l00325"></a>00325       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#ace36c2959f314bca6c1f53ef7b471011">GICH_LR1</a>:
<a name="l00326"></a>00326       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a58f68d484460b5ba7753425a306db71e">GICH_LR2</a>:
<a name="l00327"></a>00327       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a630c33972a6516ce8617656424902292">GICH_LR3</a>:
<a name="l00328"></a>00328         vid-&gt;LR[(daddr - <a class="code" href="classVGic.html#a75e35ac1eddd88a77229bf915b48273f">GICH_LR0</a>) &gt;&gt; 2] = pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();
<a name="l00329"></a>00329         <span class="comment">// update int state</span>
<a name="l00330"></a>00330         <span class="keywordflow">break</span>;
<a name="l00331"></a>00331 
<a name="l00332"></a>00332       <span class="keywordflow">default</span>:
<a name="l00333"></a>00333         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;VGIC HVCtrl write to bad address %#x\n&quot;</span>, daddr);
<a name="l00334"></a>00334     }
<a name="l00335"></a>00335 
<a name="l00336"></a>00336     <a class="code" href="classVGic.html#aa1847a7ae392ebc8637b9ab5d25c4c4b">updateIntState</a>(ctx_id);
<a name="l00337"></a>00337 
<a name="l00338"></a>00338     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00339"></a>00339     <span class="keywordflow">return</span> <a class="code" href="classVGic.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>;
<a name="l00340"></a>00340 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a289d8279acf224a8745658b053b0c16c"></a><!-- doxytag: member="VGic::writeVCpu" ref="a289d8279acf224a8745658b053b0c16c" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> writeVCpu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00233"></a>00233 {
<a name="l00234"></a>00234     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> daddr = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() - <a class="code" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a>;
<a name="l00235"></a>00235     pkt-&gt;<a class="code" href="classPacket.html#acaefe811b78a2fdc4a0dba0c4029c3ef">allocate</a>();
<a name="l00236"></a>00236 
<a name="l00237"></a>00237     <span class="keywordtype">int</span> ctx_id = pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a651d5d14e7a4e95ebe6d7f5b8ee5a107">contextId</a>();
<a name="l00238"></a>00238     assert(ctx_id &lt; <a class="code" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>);
<a name="l00239"></a>00239     <span class="keyword">struct </span>vcpuIntData *vid = &amp;<a class="code" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[ctx_id];
<a name="l00240"></a>00240 
<a name="l00241"></a>00241     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(VGIC, <span class="stringliteral">&quot;VGIC VCPU write register %#x &lt;= %#x\n&quot;</span>, daddr, pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;());
<a name="l00242"></a>00242 
<a name="l00243"></a>00243     <span class="keywordflow">switch</span> (daddr) {
<a name="l00244"></a>00244       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#ab4280dfa561ca960d58d341662849f7b">GICV_CTLR</a>:
<a name="l00245"></a>00245         vid-&gt;vctrl = pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();
<a name="l00246"></a>00246         <span class="keywordflow">break</span>;
<a name="l00247"></a>00247       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#a25c57288ef4b1aad4afbc584a92b8391">GICV_PMR</a>:
<a name="l00248"></a>00248         vid-&gt;VMPriMask = pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();
<a name="l00249"></a>00249         <span class="keywordflow">break</span>;
<a name="l00250"></a>00250       <span class="keywordflow">case</span> <a class="code" href="classVGic.html#ae75c9bc58bd94b6dfc83ecc0ea89e767">GICV_EOIR</a>: {
<a name="l00251"></a>00251           <span class="comment">// We don&apos;t handle the split EOI-then-DIR mode.  Linux (guest)</span>
<a name="l00252"></a>00252           <span class="comment">// doesn&apos;t need it though.</span>
<a name="l00253"></a>00253           assert(!vid-&gt;vctrl.EOImode);
<a name="l00254"></a>00254           <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="namespaceMipsISA.html#a3c9d192cc8aebe4b3d22912a4604e08d">w</a> = pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();
<a name="l00255"></a>00255           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> virq = w &amp; 0x3ff;
<a name="l00256"></a>00256           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vcpu = (w &gt;&gt; 10) &amp; 7;
<a name="l00257"></a>00257           <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = <a class="code" href="classVGic.html#a8498dbf7b539714834568e7284487cbe">findLRForVIRQ</a>(vid, virq, vcpu);
<a name="l00258"></a>00258           <span class="keywordflow">if</span> (i &lt; 0) {
<a name="l00259"></a>00259               <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(VGIC, <span class="stringliteral">&quot;EOIR: No LR for irq %d(cpu%d)\n&quot;</span>, virq, vcpu);
<a name="l00260"></a>00260           } <span class="keywordflow">else</span> {
<a name="l00261"></a>00261               <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(VGIC, <span class="stringliteral">&quot;EOIR: Found LR%d for irq %d(cpu%d)\n&quot;</span>, i, virq, vcpu);
<a name="l00262"></a>00262               ListReg *lr = &amp;vid-&gt;LR[i];
<a name="l00263"></a>00263               lr-&gt;State = 0;
<a name="l00264"></a>00264               <span class="comment">// Maintenance interrupt -- via eisr -- is flagged when</span>
<a name="l00265"></a>00265               <span class="comment">// LRs have EOI=1 and State=INVALID!</span>
<a name="l00266"></a>00266           }
<a name="l00267"></a>00267       } <span class="keywordflow">break</span>;
<a name="l00268"></a>00268       <span class="keywordflow">default</span>:
<a name="l00269"></a>00269         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;VGIC VCPU write %#x to unk address %#x\n&quot;</span>, pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(), daddr);
<a name="l00270"></a>00270     }
<a name="l00271"></a>00271 
<a name="l00272"></a>00272     <span class="comment">// This updates the EISRs and flags IRQs:</span>
<a name="l00273"></a>00273     <a class="code" href="classVGic.html#aa1847a7ae392ebc8637b9ab5d25c4c4b">updateIntState</a>(ctx_id);
<a name="l00274"></a>00274 
<a name="l00275"></a>00275     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00276"></a>00276     <span class="keywordflow">return</span> <a class="code" href="classVGic.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>;
<a name="l00277"></a>00277 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a66b61167f5695385dad02f2b536d0184"></a><!-- doxytag: member="VGic::AckCtl" ref="a66b61167f5695385dad02f2b536d0184" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;2&gt; <a class="el" href="classVGic.html#a66b61167f5695385dad02f2b536d0184">AckCtl</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a08a6b10064e3d9e0c614063665d33c54"></a><!-- doxytag: member="VGic::CPBR" ref="a08a6b10064e3d9e0c614063665d33c54" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;4&gt; <a class="el" href="classVGic.html#a08a6b10064e3d9e0c614063665d33c54">CPBR</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af2592449a23aee37bc8cf6be36d2efc3"></a><!-- doxytag: member="VGic::CpuID" ref="af2592449a23aee37bc8cf6be36d2efc3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;12,10&gt; <a class="el" href="classVGic.html#af2592449a23aee37bc8cf6be36d2efc3">CpuID</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6c33fee90de41b22938ac6bf2bbf0b37"></a><!-- doxytag: member="VGic::En" ref="a6c33fee90de41b22938ac6bf2bbf0b37" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt; 0 &gt; <a class="el" href="classVGic.html#a6c33fee90de41b22938ac6bf2bbf0b37">En</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abd1b3356359eb92893a437944f5a292f"></a><!-- doxytag: member="VGic::EnGrp1" ref="abd1b3356359eb92893a437944f5a292f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;1&gt; <a class="el" href="classVGic.html#abd1b3356359eb92893a437944f5a292f">EnGrp1</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ace587c95d7c7ae411d6f8791e02acfb0"></a><!-- doxytag: member="VGic::EOI" ref="ace587c95d7c7ae411d6f8791e02acfb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;19&gt; <a class="el" href="classVGic.html#ace587c95d7c7ae411d6f8791e02acfb0">EOI</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a76289f30955e28466cc690ccf6001e61"></a><!-- doxytag: member="VGic::EOICount" ref="a76289f30955e28466cc690ccf6001e61" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVGic.html#a76289f30955e28466cc690ccf6001e61">EOICount</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afa8693ab3b402c4d83774143fa804e3b"></a><!-- doxytag: member="VGic::FIQEn" ref="afa8693ab3b402c4d83774143fa804e3b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;3&gt; <a class="el" href="classVGic.html#afa8693ab3b402c4d83774143fa804e3b">FIQEn</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e2266dca56928f63667e994933169ee"></a><!-- doxytag: member="VGic::gic" ref="a2e2266dca56928f63667e994933169ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseGic.html">BaseGic</a>* <a class="el" href="classVGic.html#a2e2266dca56928f63667e994933169ee">gic</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae799770adf4da02abcc790d891238aec"></a><!-- doxytag: member="VGic::GICH_APR0" ref="ae799770adf4da02abcc790d891238aec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#ae799770adf4da02abcc790d891238aec">GICH_APR0</a> = 0x0f0<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6377986cfc790adf7f3274de63f840a5"></a><!-- doxytag: member="VGic::GICH_EISR0" ref="a6377986cfc790adf7f3274de63f840a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a6377986cfc790adf7f3274de63f840a5">GICH_EISR0</a> = 0x020<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad2d40266f69c1beee09c888281738df1"></a><!-- doxytag: member="VGic::GICH_EISR1" ref="ad2d40266f69c1beee09c888281738df1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#ad2d40266f69c1beee09c888281738df1">GICH_EISR1</a> = 0x024<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af16152e073dd9ed6e6ce3515c99301c9"></a><!-- doxytag: member="VGic::GICH_ELSR0" ref="af16152e073dd9ed6e6ce3515c99301c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#af16152e073dd9ed6e6ce3515c99301c9">GICH_ELSR0</a> = 0x030<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1dc31e7d69166471775d43e3729228b4"></a><!-- doxytag: member="VGic::GICH_ELSR1" ref="a1dc31e7d69166471775d43e3729228b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a1dc31e7d69166471775d43e3729228b4">GICH_ELSR1</a> = 0x034<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a05157a03988a41b46b78b6d9d5a49bf6"></a><!-- doxytag: member="VGic::GICH_HCR" ref="a05157a03988a41b46b78b6d9d5a49bf6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a05157a03988a41b46b78b6d9d5a49bf6">GICH_HCR</a> = 0x000<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a75e35ac1eddd88a77229bf915b48273f"></a><!-- doxytag: member="VGic::GICH_LR0" ref="a75e35ac1eddd88a77229bf915b48273f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a75e35ac1eddd88a77229bf915b48273f">GICH_LR0</a> = 0x100<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ace36c2959f314bca6c1f53ef7b471011"></a><!-- doxytag: member="VGic::GICH_LR1" ref="ace36c2959f314bca6c1f53ef7b471011" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#ace36c2959f314bca6c1f53ef7b471011">GICH_LR1</a> = 0x104<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a58f68d484460b5ba7753425a306db71e"></a><!-- doxytag: member="VGic::GICH_LR2" ref="a58f68d484460b5ba7753425a306db71e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a58f68d484460b5ba7753425a306db71e">GICH_LR2</a> = 0x108<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a630c33972a6516ce8617656424902292"></a><!-- doxytag: member="VGic::GICH_LR3" ref="a630c33972a6516ce8617656424902292" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a630c33972a6516ce8617656424902292">GICH_LR3</a> = 0x10c<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8f6ba28cb22381782c786778de9236a7"></a><!-- doxytag: member="VGic::GICH_MISR" ref="a8f6ba28cb22381782c786778de9236a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a8f6ba28cb22381782c786778de9236a7">GICH_MISR</a> = 0x010<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2ca8a33991e94727efb46a8bba9e1e2a"></a><!-- doxytag: member="VGic::GICH_REG_SIZE" ref="a2ca8a33991e94727efb46a8bba9e1e2a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a2ca8a33991e94727efb46a8bba9e1e2a">GICH_REG_SIZE</a> = 0x2000<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a85a1239e9b48c54a4342993df2743e13"></a><!-- doxytag: member="VGic::GICH_SIZE" ref="a85a1239e9b48c54a4342993df2743e13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a85a1239e9b48c54a4342993df2743e13">GICH_SIZE</a> = 0x200<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a10bf121a0b670d835ede0ba151cb62bd"></a><!-- doxytag: member="VGic::GICH_VMCR" ref="a10bf121a0b670d835ede0ba151cb62bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a10bf121a0b670d835ede0ba151cb62bd">GICH_VMCR</a> = 0x008<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac1961ca86b5c402d101577a495694f42"></a><!-- doxytag: member="VGic::GICH_VTR" ref="ac1961ca86b5c402d101577a495694f42" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#ac1961ca86b5c402d101577a495694f42">GICH_VTR</a> = 0x004<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac2262138aebc47d7e32b347f6cb580a6"></a><!-- doxytag: member="VGic::GICV_ABPR" ref="ac2262138aebc47d7e32b347f6cb580a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#ac2262138aebc47d7e32b347f6cb580a6">GICV_ABPR</a> = 0x01c<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a91ec09125f0759c2d32fa7bba32f3b03"></a><!-- doxytag: member="VGic::GICV_AEOIR" ref="a91ec09125f0759c2d32fa7bba32f3b03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a91ec09125f0759c2d32fa7bba32f3b03">GICV_AEOIR</a> = 0x024<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a95e1cf51d24aa765e82dd89f10321062"></a><!-- doxytag: member="VGic::GICV_AHPPIR" ref="a95e1cf51d24aa765e82dd89f10321062" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a95e1cf51d24aa765e82dd89f10321062">GICV_AHPPIR</a> = 0x028<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a471e427964bbc593aee5f4ce918b6ce2"></a><!-- doxytag: member="VGic::GICV_AIAR" ref="a471e427964bbc593aee5f4ce918b6ce2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a471e427964bbc593aee5f4ce918b6ce2">GICV_AIAR</a> = 0x020<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa0efd17f14c57d720c184ee92b83ee05"></a><!-- doxytag: member="VGic::GICV_APR0" ref="aa0efd17f14c57d720c184ee92b83ee05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#aa0efd17f14c57d720c184ee92b83ee05">GICV_APR0</a> = 0x0d0<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab87c04cb10d6d7d4dc9bfdb41e67bd55"></a><!-- doxytag: member="VGic::GICV_BPR" ref="ab87c04cb10d6d7d4dc9bfdb41e67bd55" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#ab87c04cb10d6d7d4dc9bfdb41e67bd55">GICV_BPR</a> = 0x008<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab4280dfa561ca960d58d341662849f7b"></a><!-- doxytag: member="VGic::GICV_CTLR" ref="ab4280dfa561ca960d58d341662849f7b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#ab4280dfa561ca960d58d341662849f7b">GICV_CTLR</a> = 0x000<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a806d487cfebc43c0536726f39a340463"></a><!-- doxytag: member="VGic::GICV_DIR" ref="a806d487cfebc43c0536726f39a340463" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a806d487cfebc43c0536726f39a340463">GICV_DIR</a> = 0x1000<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae75c9bc58bd94b6dfc83ecc0ea89e767"></a><!-- doxytag: member="VGic::GICV_EOIR" ref="ae75c9bc58bd94b6dfc83ecc0ea89e767" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#ae75c9bc58bd94b6dfc83ecc0ea89e767">GICV_EOIR</a> = 0x010<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adeb087954f3f7141cc49dd6236b4aa4c"></a><!-- doxytag: member="VGic::GICV_HPPIR" ref="adeb087954f3f7141cc49dd6236b4aa4c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#adeb087954f3f7141cc49dd6236b4aa4c">GICV_HPPIR</a> = 0x018<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a132fc471769307b51fb6ee13cd852835"></a><!-- doxytag: member="VGic::GICV_IAR" ref="a132fc471769307b51fb6ee13cd852835" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a132fc471769307b51fb6ee13cd852835">GICV_IAR</a> = 0x00c<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a40aac9b1ed27436f1ef04ff0f4b03f66"></a><!-- doxytag: member="VGic::GICV_IIDR" ref="a40aac9b1ed27436f1ef04ff0f4b03f66" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a40aac9b1ed27436f1ef04ff0f4b03f66">GICV_IIDR</a> = 0x0fc<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a25c57288ef4b1aad4afbc584a92b8391"></a><!-- doxytag: member="VGic::GICV_PMR" ref="a25c57288ef4b1aad4afbc584a92b8391" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a25c57288ef4b1aad4afbc584a92b8391">GICV_PMR</a> = 0x004<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1f4656693af03dc9ad24b55cf12eaaca"></a><!-- doxytag: member="VGic::GICV_RPR" ref="a1f4656693af03dc9ad24b55cf12eaaca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a1f4656693af03dc9ad24b55cf12eaaca">GICV_RPR</a> = 0x014<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a327649260109afc17ff86a3a8371cb95"></a><!-- doxytag: member="VGic::GICV_SIZE" ref="a327649260109afc17ff86a3a8371cb95" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a327649260109afc17ff86a3a8371cb95">GICV_SIZE</a> = 0x2000<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c9d4553eb4294402cbe8b77c7be7d43"></a><!-- doxytag: member="VGic::Grp1" ref="a8c9d4553eb4294402cbe8b77c7be7d43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;30&gt; <a class="el" href="classVGic.html#a8c9d4553eb4294402cbe8b77c7be7d43">Grp1</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a382afc2ed37622bb0da354e863a9c121"></a><!-- doxytag: member="VGic::hvAddr" ref="a382afc2ed37622bb0da354e863a9c121" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classVGic.html#a382afc2ed37622bb0da354e863a9c121">hvAddr</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c71200f07eaae9cd4292f5c4438ec0b"></a><!-- doxytag: member="VGic::LR_ACTIVE" ref="a8c71200f07eaae9cd4292f5c4438ec0b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classVGic.html#a8c71200f07eaae9cd4292f5c4438ec0b">LR_ACTIVE</a> = 2<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0494deefa99c7f4fd9b8f3ee52a56cee"></a><!-- doxytag: member="VGic::LR_PENDING" ref="a0494deefa99c7f4fd9b8f3ee52a56cee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classVGic.html#a0494deefa99c7f4fd9b8f3ee52a56cee">LR_PENDING</a> = 1<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab0faa2c980aa53ef7c92002af04c332b"></a><!-- doxytag: member="VGic::LRENPIE" ref="ab0faa2c980aa53ef7c92002af04c332b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;2&gt; <a class="el" href="classVGic.html#ab0faa2c980aa53ef7c92002af04c332b">LRENPIE</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a39c00dce99eb5fe8a22703e2286661f5"></a><!-- doxytag: member="VGic::maintInt" ref="a39c00dce99eb5fe8a22703e2286661f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classVGic.html#a39c00dce99eb5fe8a22703e2286661f5">maintInt</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afc202b126ba5621ec4dae742b51889d0"></a><!-- doxytag: member="VGic::maintIntPosted" ref="afc202b126ba5621ec4dae742b51889d0" args="[VGIC_CPU_MAX]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classVGic.html#afc202b126ba5621ec4dae742b51889d0">maintIntPosted</a>[<a class="el" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa24f9f3124265bcdf1cea24165b2b0b9"></a><!-- doxytag: member="VGic::NPIE" ref="aa24f9f3124265bcdf1cea24165b2b0b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;3&gt; <a class="el" href="classVGic.html#aa24f9f3124265bcdf1cea24165b2b0b9">NPIE</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4729ce082ccbd9fef9a9131c6b194204"></a><!-- doxytag: member="VGic::NUM_LR" ref="a4729ce082ccbd9fef9a9131c6b194204" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#a4729ce082ccbd9fef9a9131c6b194204">NUM_LR</a> = 4<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac8e969635a78ab9ab123904ccca434cc"></a><!-- doxytag: member="VGic::pioDelay" ref="ac8e969635a78ab9ab123904ccca434cc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classVGic.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a75b48f1787959a4617f2a599d7c09aab"></a><!-- doxytag: member="VGic::platform" ref="a75b48f1787959a4617f2a599d7c09aab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPlatform.html">Platform</a>* <a class="el" href="classVGic.html#a75b48f1787959a4617f2a599d7c09aab">platform</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a391a6d3a21ceaa229791a17f58d2e0ae"></a><!-- doxytag: member="VGic::postVIntEvent" ref="a391a6d3a21ceaa229791a17f58d2e0ae" args="[VGIC_CPU_MAX]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVGic_1_1PostVIntEvent.html">PostVIntEvent</a>* <a class="el" href="classVGic.html#a391a6d3a21ceaa229791a17f58d2e0ae">postVIntEvent</a>[<a class="el" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a26c7f4132225aed6b8d4356c1601d689"></a><!-- doxytag: member="VGic::Priority" ref="a26c7f4132225aed6b8d4356c1601d689" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;27,23&gt; <a class="el" href="classVGic.html#a26c7f4132225aed6b8d4356c1601d689">Priority</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4ad4e2a479baf0de8e8cdcb0c84276db"></a><!-- doxytag: member="VGic::State" ref="a4ad4e2a479baf0de8e8cdcb0c84276db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;29,28&gt; <a class="el" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8">State</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Object drain/handover states</p>
<p>An object starts out in the Running state. When the simulator prepares to take a snapshot or prepares a CPU for handover, it calls the <a class="el" href="classPioDevice.html#a6bf479c521c7c3eb473822d953275b26">drain()</a> method to transfer the object into the Draining or Drained state. If any object enters the Draining state (<a class="el" href="classPioDevice.html#a6bf479c521c7c3eb473822d953275b26">drain()</a> returning &gt;0), simulation continues until it all objects have entered the Drained state.</p>
<p>Before resuming simulation, the simulator calls <a class="el" href="namespacem5_1_1simulate.html#a2985608bac11887a6ae3df9b068b10fe">resume()</a> to transfer the object to the Running state.</p>
<dl class="note"><dt><b>覚え書き:</b></dt><dd>Even though the state of an object (visible to the rest of the world through getState()) could be used to determine if all objects have entered the Drained state, the protocol is actually a bit more elaborate. See <a class="el" href="classPioDevice.html#a6bf479c521c7c3eb473822d953275b26">drain()</a> for details. </dd></dl>

<p><a class="el" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8">Drainable</a>を再定義しています。</p>

</div>
</div>
<a class="anchor" id="a0adbea6aeb62d30f03ddc9a25fe11b40"></a><!-- doxytag: member="VGic::UIE" ref="a0adbea6aeb62d30f03ddc9a25fe11b40" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;1&gt; <a class="el" href="classVGic.html#a0adbea6aeb62d30f03ddc9a25fe11b40">UIE</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6967a675bb97fef5858618111567aba0"></a><!-- doxytag: member="VGic::vcpuAddr" ref="a6967a675bb97fef5858618111567aba0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classVGic.html#a6967a675bb97fef5858618111567aba0">vcpuAddr</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a98b5031733bb2cb7d20cf68a3a1ac460"></a><!-- doxytag: member="VGic::vcpuData" ref="a98b5031733bb2cb7d20cf68a3a1ac460" args="[VGIC_CPU_MAX]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct vcpuIntData <a class="el" href="classVGic.html#a98b5031733bb2cb7d20cf68a3a1ac460">vcpuData</a>[<a class="el" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>]<code> [read, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abdf6630d700683c52d9cd03f11d660ac"></a><!-- doxytag: member="VGic::VGIC_CPU_MAX" ref="abdf6630d700683c52d9cd03f11d660ac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a> = 256<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="affc0c4742ef1d61df5a0e8e8b2cee33b"></a><!-- doxytag: member="VGic::VGrp0DIE" ref="affc0c4742ef1d61df5a0e8e8b2cee33b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;5&gt; <a class="el" href="classVGic.html#affc0c4742ef1d61df5a0e8e8b2cee33b">VGrp0DIE</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a76012350e6bb46dfdc7240afc726d949"></a><!-- doxytag: member="VGic::VGrp0EIE" ref="a76012350e6bb46dfdc7240afc726d949" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;4&gt; <a class="el" href="classVGic.html#a76012350e6bb46dfdc7240afc726d949">VGrp0EIE</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3055f44714481212195dd4c9b77302ee"></a><!-- doxytag: member="VGic::VGrp1DIE" ref="a3055f44714481212195dd4c9b77302ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;7&gt; <a class="el" href="classVGic.html#a3055f44714481212195dd4c9b77302ee">VGrp1DIE</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad5d876b0f8095008474757f67bf975e4"></a><!-- doxytag: member="VGic::VGrp1EIE" ref="ad5d876b0f8095008474757f67bf975e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;6&gt; <a class="el" href="classVGic.html#ad5d876b0f8095008474757f67bf975e4">VGrp1EIE</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4108a1761c811efd10f4bd705fab8581"></a><!-- doxytag: member="VGic::vIntPosted" ref="a4108a1761c811efd10f4bd705fab8581" args="[VGIC_CPU_MAX]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classVGic.html#a4108a1761c811efd10f4bd705fab8581">vIntPosted</a>[<a class="el" href="classVGic.html#abdf6630d700683c52d9cd03f11d660ac">VGIC_CPU_MAX</a>]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a309cc4782346e985de8920752d7caf2a"></a><!-- doxytag: member="VGic::VirtualID" ref="a309cc4782346e985de8920752d7caf2a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;9,0&gt; <a class="el" href="classVGic.html#a309cc4782346e985de8920752d7caf2a">VirtualID</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>dev/arm/<a class="el" href="vgic_8hh_source.html">vgic.hh</a></li>
<li>dev/arm/<a class="el" href="vgic_8cc.html">vgic.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
