\hypertarget{classRubyDirectedTester}{
\section{クラス RubyDirectedTester}
\label{classRubyDirectedTester}\index{RubyDirectedTester@{RubyDirectedTester}}
}


{\ttfamily \#include $<$RubyDirectedTester.hh$>$}RubyDirectedTesterに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5cm]{classRubyDirectedTester}
\end{center}
\end{figure}
\subsection*{構成}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classRubyDirectedTester_1_1CpuPort}{CpuPort}
\item 
class \hyperlink{classRubyDirectedTester_1_1DirectedGenerator}{DirectedGenerator}
\item 
class \hyperlink{classRubyDirectedTester_1_1DirectedStartEvent}{DirectedStartEvent}
\item 
class \hyperlink{classRubyDirectedTester_1_1InvalidateGenerator}{InvalidateGenerator}
\item 
class \hyperlink{classRubyDirectedTester_1_1RubyDirectedTester}{RubyDirectedTester}
\item 
class \hyperlink{classRubyDirectedTester_1_1SeriesRequestGenerator}{SeriesRequestGenerator}
\end{DoxyCompactItemize}
\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
typedef RubyDirectedTesterParams \hyperlink{classRubyDirectedTester_af24daccceb54fc519ecd978200efef2d}{Params}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classRubyDirectedTester_af56e86da68a0ae2168e4a4da7db4d3dd}{RubyDirectedTester} (const \hyperlink{classRubyDirectedTester_af24daccceb54fc519ecd978200efef2d}{Params} $\ast$p)
\item 
\hyperlink{classRubyDirectedTester_acdd0dcac0bc534b5d325cf0f16cf7d33}{$\sim$RubyDirectedTester} ()
\item 
virtual \hyperlink{classBaseMasterPort}{BaseMasterPort} \& \hyperlink{classRubyDirectedTester_adc4e675e51defbdd1e354dac729d0703}{getMasterPort} (const std::string \&if\_\-name, \hyperlink{base_2types_8hh_acef4d7d41cb21fdc252e20c04cd7bb8e}{PortID} idx=\hyperlink{base_2types_8hh_a65bf40f138cf863f0c5e2d8ca1144126}{InvalidPortID})
\item 
\hyperlink{classMasterPort}{MasterPort} $\ast$ \hyperlink{classRubyDirectedTester_afb2179270e6e95e49bca0e058322dcfe}{getCpuPort} (int idx)
\item 
virtual void \hyperlink{classRubyDirectedTester_a02fd73d861ef2e4aabb38c0c9ff82947}{init} ()
\item 
void \hyperlink{classRubyDirectedTester_ae674290a26ecbd622c5160e38e8a4fe9}{wakeup} ()
\item 
void \hyperlink{classRubyDirectedTester_a54b25b6592260a8ab819b318e46213b9}{incrementCycleCompletions} ()
\item 
void \hyperlink{classRubyDirectedTester_a38f932a0a623730fe10783f46d243cef}{printStats} (std::ostream \&out) const 
\item 
void \hyperlink{classRubyDirectedTester_ac7ec7476159db4e2bb0372e30010fc9e}{clearStats} ()
\item 
void \hyperlink{classRubyDirectedTester_a773d0e977425600264039f8941f18496}{printConfig} (std::ostream \&out) const 
\item 
void \hyperlink{classRubyDirectedTester_ac55fe386a101fbae38c716067c9966a0}{print} (std::ostream \&out) const 
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classRubyDirectedTester_1_1DirectedStartEvent}{DirectedStartEvent} \hyperlink{classRubyDirectedTester_a6dcecbde02795db3382deedbc3b3b6bd}{directedStartEvent}
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classRubyDirectedTester_a875ac440c302467e1c727800d0dc2c3c}{hitCallback} (\hyperlink{TypeDefines_8hh_a83c14b4ae37e80071f6b3506a6c46151}{NodeID} proc, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} addr)
\item 
void \hyperlink{classRubyDirectedTester_a514b854b1aebca4ab64690855d9588b9}{checkForDeadlock} ()
\item 
\hyperlink{classRubyDirectedTester_a77546a6ae770d1afd25e330d3643721f}{RubyDirectedTester} (const \hyperlink{classRubyDirectedTester_1_1RubyDirectedTester}{RubyDirectedTester} \&obj)
\item 
\hyperlink{classRubyDirectedTester_1_1RubyDirectedTester}{RubyDirectedTester} \& \hyperlink{classRubyDirectedTester_aeeec8bf132659d6d6fd269419c117f89}{operator=} (const \hyperlink{classRubyDirectedTester_1_1RubyDirectedTester}{RubyDirectedTester} \&obj)
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{TypeDefines_8hh_a29940ae63ec06c9998bba873e25407ad}{uint64} \hyperlink{classRubyDirectedTester_a76225f51f5fe6a376fa794f2e7b0a1c3}{m\_\-requests\_\-completed}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classMasterPort}{MasterPort} $\ast$ $>$ \hyperlink{classRubyDirectedTester_a9b3aedb8e244949f057468d6ba55c41a}{ports}
\item 
\hyperlink{TypeDefines_8hh_a29940ae63ec06c9998bba873e25407ad}{uint64} \hyperlink{classRubyDirectedTester_aaebdb8b9bebab829bd0d1863bd3cfd1d}{m\_\-requests\_\-to\_\-complete}
\item 
\hyperlink{classRubyDirectedTester_1_1DirectedGenerator}{DirectedGenerator} $\ast$ \hyperlink{classRubyDirectedTester_a85bfc687ecf39da27bff2f25c39043c9}{generator}
\end{DoxyCompactItemize}


\subsection{型定義}
\hypertarget{classRubyDirectedTester_af24daccceb54fc519ecd978200efef2d}{
\index{RubyDirectedTester@{RubyDirectedTester}!Params@{Params}}
\index{Params@{Params}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef RubyDirectedTesterParams {\bf Params}}}
\label{classRubyDirectedTester_af24daccceb54fc519ecd978200efef2d}


\hyperlink{classMemObject_a905bbc621eeec0ed08859e21c8c95412}{MemObject}を再定義しています。

\subsection{コンストラクタとデストラクタ}
\hypertarget{classRubyDirectedTester_af56e86da68a0ae2168e4a4da7db4d3dd}{
\index{RubyDirectedTester@{RubyDirectedTester}!RubyDirectedTester@{RubyDirectedTester}}
\index{RubyDirectedTester@{RubyDirectedTester}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{RubyDirectedTester}]{\setlength{\rightskip}{0pt plus 5cm}{\bf RubyDirectedTester} (const {\bf Params} $\ast$ {\em p})}}
\label{classRubyDirectedTester_af56e86da68a0ae2168e4a4da7db4d3dd}



\begin{DoxyCode}
48   : MemObject(p), directedStartEvent(this),
49     m_requests_to_complete(p->requests_to_complete),
50     generator(p->generator)
51 {
52     m_requests_completed = 0;
53 
54     // create the ports
55     for (int i = 0; i < p->port_cpuPort_connection_count; ++i) {
56         ports.push_back(new CpuPort(csprintf("%s-port%d", name(), i),
57                                     this, i));
58     }
59 
60     // add the check start event to the event queue
61     schedule(directedStartEvent, 1);
62 }
\end{DoxyCode}
\hypertarget{classRubyDirectedTester_acdd0dcac0bc534b5d325cf0f16cf7d33}{
\index{RubyDirectedTester@{RubyDirectedTester}!$\sim$RubyDirectedTester@{$\sim$RubyDirectedTester}}
\index{$\sim$RubyDirectedTester@{$\sim$RubyDirectedTester}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{$\sim$RubyDirectedTester}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf RubyDirectedTester} ()}}
\label{classRubyDirectedTester_acdd0dcac0bc534b5d325cf0f16cf7d33}



\begin{DoxyCode}
65 {
66     for (int i = 0; i < ports.size(); i++)
67         delete ports[i];
68 }
\end{DoxyCode}
\hypertarget{classRubyDirectedTester_a77546a6ae770d1afd25e330d3643721f}{
\index{RubyDirectedTester@{RubyDirectedTester}!RubyDirectedTester@{RubyDirectedTester}}
\index{RubyDirectedTester@{RubyDirectedTester}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{RubyDirectedTester}]{\setlength{\rightskip}{0pt plus 5cm}{\bf RubyDirectedTester} (const {\bf RubyDirectedTester} \& {\em obj})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classRubyDirectedTester_a77546a6ae770d1afd25e330d3643721f}


\subsection{関数}
\hypertarget{classRubyDirectedTester_a514b854b1aebca4ab64690855d9588b9}{
\index{RubyDirectedTester@{RubyDirectedTester}!checkForDeadlock@{checkForDeadlock}}
\index{checkForDeadlock@{checkForDeadlock}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{checkForDeadlock}]{\setlength{\rightskip}{0pt plus 5cm}void checkForDeadlock ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classRubyDirectedTester_a514b854b1aebca4ab64690855d9588b9}
\hypertarget{classRubyDirectedTester_ac7ec7476159db4e2bb0372e30010fc9e}{
\index{RubyDirectedTester@{RubyDirectedTester}!clearStats@{clearStats}}
\index{clearStats@{clearStats}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{clearStats}]{\setlength{\rightskip}{0pt plus 5cm}void clearStats ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classRubyDirectedTester_ac7ec7476159db4e2bb0372e30010fc9e}



\begin{DoxyCode}
83 {}
\end{DoxyCode}
\hypertarget{classRubyDirectedTester_afb2179270e6e95e49bca0e058322dcfe}{
\index{RubyDirectedTester@{RubyDirectedTester}!getCpuPort@{getCpuPort}}
\index{getCpuPort@{getCpuPort}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{getCpuPort}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MasterPort} $\ast$ getCpuPort (int {\em idx})}}
\label{classRubyDirectedTester_afb2179270e6e95e49bca0e058322dcfe}



\begin{DoxyCode}
107 {
108     assert(idx >= 0 && idx < ports.size());
109 
110     return ports[idx];
111 }
\end{DoxyCode}
\hypertarget{classRubyDirectedTester_adc4e675e51defbdd1e354dac729d0703}{
\index{RubyDirectedTester@{RubyDirectedTester}!getMasterPort@{getMasterPort}}
\index{getMasterPort@{getMasterPort}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{getMasterPort}]{\setlength{\rightskip}{0pt plus 5cm}{\bf BaseMasterPort} \& getMasterPort (const std::string \& {\em if\_\-name}, \/  {\bf PortID} {\em idx} = {\ttfamily {\bf InvalidPortID}})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classRubyDirectedTester_adc4e675e51defbdd1e354dac729d0703}
Get a master port with a given name and index. This is used at binding time and returns a reference to a protocol-\/agnostic base master port.


\begin{DoxyParams}{引数}
\item[{\em if\_\-name}]\hyperlink{classPort}{Port} name \item[{\em idx}]Index in the case of a VectorPort\end{DoxyParams}
\begin{DoxyReturn}{戻り値}
A reference to the given port 
\end{DoxyReturn}


\hyperlink{classMemObject_adc4e675e51defbdd1e354dac729d0703}{MemObject}を再定義しています。


\begin{DoxyCode}
79 {
80     if (if_name != "cpuPort") {
81         // pass it along to our super class
82         return MemObject::getMasterPort(if_name, idx);
83     } else {
84         if (idx >= static_cast<int>(ports.size())) {
85             panic("RubyDirectedTester::getMasterPort: unknown index %d\n", idx);
86         }
87 
88         return *ports[idx];
89     }
90 }
\end{DoxyCode}
\hypertarget{classRubyDirectedTester_a875ac440c302467e1c727800d0dc2c3c}{
\index{RubyDirectedTester@{RubyDirectedTester}!hitCallback@{hitCallback}}
\index{hitCallback@{hitCallback}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{hitCallback}]{\setlength{\rightskip}{0pt plus 5cm}void hitCallback ({\bf NodeID} {\em proc}, \/  {\bf Addr} {\em addr})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classRubyDirectedTester_a875ac440c302467e1c727800d0dc2c3c}



\begin{DoxyCode}
115 {
116     DPRINTF(DirectedTest,
117             "completed request for proc: %d addr: 0x%x\n",
118             proc,
119             addr);
120 
121     generator->performCallback(proc, addr);    
122     schedule(directedStartEvent, curTick());
123 }
\end{DoxyCode}
\hypertarget{classRubyDirectedTester_a54b25b6592260a8ab819b318e46213b9}{
\index{RubyDirectedTester@{RubyDirectedTester}!incrementCycleCompletions@{incrementCycleCompletions}}
\index{incrementCycleCompletions@{incrementCycleCompletions}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{incrementCycleCompletions}]{\setlength{\rightskip}{0pt plus 5cm}void incrementCycleCompletions ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classRubyDirectedTester_a54b25b6592260a8ab819b318e46213b9}



\begin{DoxyCode}
80 { m_requests_completed++; }
\end{DoxyCode}
\hypertarget{classRubyDirectedTester_a02fd73d861ef2e4aabb38c0c9ff82947}{
\index{RubyDirectedTester@{RubyDirectedTester}!init@{init}}
\index{init@{init}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void init ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classRubyDirectedTester_a02fd73d861ef2e4aabb38c0c9ff82947}
\hyperlink{classRubyDirectedTester_a02fd73d861ef2e4aabb38c0c9ff82947}{init()} is called after all C++ SimObjects have been created and all ports are connected. Initializations that are independent of unserialization but rely on a fully instantiated and connected \hyperlink{classSimObject}{SimObject} graph should be done here. 

\hyperlink{classSimObject_a02fd73d861ef2e4aabb38c0c9ff82947}{SimObject}を再定義しています。


\begin{DoxyCode}
72 {
73     assert(ports.size() > 0);
74     generator->setDirectedTester(this);
75 }
\end{DoxyCode}
\hypertarget{classRubyDirectedTester_aeeec8bf132659d6d6fd269419c117f89}{
\index{RubyDirectedTester@{RubyDirectedTester}!operator=@{operator=}}
\index{operator=@{operator=}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{operator=}]{\setlength{\rightskip}{0pt plus 5cm}{\bf RubyDirectedTester}\& operator= (const {\bf RubyDirectedTester} \& {\em obj})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classRubyDirectedTester_aeeec8bf132659d6d6fd269419c117f89}
\hypertarget{classRubyDirectedTester_ac55fe386a101fbae38c716067c9966a0}{
\index{RubyDirectedTester@{RubyDirectedTester}!print@{print}}
\index{print@{print}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{print}]{\setlength{\rightskip}{0pt plus 5cm}void print (std::ostream \& {\em out}) const}}
\label{classRubyDirectedTester_ac55fe386a101fbae38c716067c9966a0}
\hypertarget{classRubyDirectedTester_a773d0e977425600264039f8941f18496}{
\index{RubyDirectedTester@{RubyDirectedTester}!printConfig@{printConfig}}
\index{printConfig@{printConfig}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{printConfig}]{\setlength{\rightskip}{0pt plus 5cm}void printConfig (std::ostream \& {\em out}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classRubyDirectedTester_a773d0e977425600264039f8941f18496}



\begin{DoxyCode}
84 {}
\end{DoxyCode}
\hypertarget{classRubyDirectedTester_a38f932a0a623730fe10783f46d243cef}{
\index{RubyDirectedTester@{RubyDirectedTester}!printStats@{printStats}}
\index{printStats@{printStats}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{printStats}]{\setlength{\rightskip}{0pt plus 5cm}void printStats (std::ostream \& {\em out}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classRubyDirectedTester_a38f932a0a623730fe10783f46d243cef}



\begin{DoxyCode}
82 {}
\end{DoxyCode}
\hypertarget{classRubyDirectedTester_ae674290a26ecbd622c5160e38e8a4fe9}{
\index{RubyDirectedTester@{RubyDirectedTester}!wakeup@{wakeup}}
\index{wakeup@{wakeup}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{wakeup}]{\setlength{\rightskip}{0pt plus 5cm}void wakeup ()}}
\label{classRubyDirectedTester_ae674290a26ecbd622c5160e38e8a4fe9}



\begin{DoxyCode}
127 {
128     if (m_requests_completed < m_requests_to_complete) {
129         if (!generator->initiate()) {
130             schedule(directedStartEvent, curTick() + 1);
131         }
132     } else {
133         exitSimLoop("Ruby DirectedTester completed");
134     }
135 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classRubyDirectedTester_a6dcecbde02795db3382deedbc3b3b6bd}{
\index{RubyDirectedTester@{RubyDirectedTester}!directedStartEvent@{directedStartEvent}}
\index{directedStartEvent@{directedStartEvent}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{directedStartEvent}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DirectedStartEvent} {\bf directedStartEvent}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classRubyDirectedTester_a6dcecbde02795db3382deedbc3b3b6bd}
\hypertarget{classRubyDirectedTester_a85bfc687ecf39da27bff2f25c39043c9}{
\index{RubyDirectedTester@{RubyDirectedTester}!generator@{generator}}
\index{generator@{generator}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{generator}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DirectedGenerator}$\ast$ {\bf generator}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classRubyDirectedTester_a85bfc687ecf39da27bff2f25c39043c9}
\hypertarget{classRubyDirectedTester_a76225f51f5fe6a376fa794f2e7b0a1c3}{
\index{RubyDirectedTester@{RubyDirectedTester}!m\_\-requests\_\-completed@{m\_\-requests\_\-completed}}
\index{m\_\-requests\_\-completed@{m\_\-requests\_\-completed}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{m\_\-requests\_\-completed}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint64} {\bf m\_\-requests\_\-completed}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classRubyDirectedTester_a76225f51f5fe6a376fa794f2e7b0a1c3}
\hypertarget{classRubyDirectedTester_aaebdb8b9bebab829bd0d1863bd3cfd1d}{
\index{RubyDirectedTester@{RubyDirectedTester}!m\_\-requests\_\-to\_\-complete@{m\_\-requests\_\-to\_\-complete}}
\index{m\_\-requests\_\-to\_\-complete@{m\_\-requests\_\-to\_\-complete}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{m\_\-requests\_\-to\_\-complete}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint64} {\bf m\_\-requests\_\-to\_\-complete}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classRubyDirectedTester_aaebdb8b9bebab829bd0d1863bd3cfd1d}
\hypertarget{classRubyDirectedTester_a9b3aedb8e244949f057468d6ba55c41a}{
\index{RubyDirectedTester@{RubyDirectedTester}!ports@{ports}}
\index{ports@{ports}!RubyDirectedTester@{RubyDirectedTester}}
\subsubsection[{ports}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf MasterPort}$\ast$$>$ {\bf ports}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classRubyDirectedTester_a9b3aedb8e244949f057468d6ba55c41a}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
cpu/testers/directedtest/\hyperlink{RubyDirectedTester_8hh}{RubyDirectedTester.hh}\item 
cpu/testers/directedtest/\hyperlink{RubyDirectedTester_8cc}{RubyDirectedTester.cc}\end{DoxyCompactItemize}
