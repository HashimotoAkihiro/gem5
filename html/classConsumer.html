<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス Consumer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス Consumer</h1><!-- doxytag: class="Consumer" -->
<p><code>#include &lt;<a class="el" href="Consumer_8hh_source.html">Consumer.hh</a>&gt;</code></p>
<div class="dynheader">
Consumerに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classConsumer.gif" usemap="#Consumer_map" alt=""/>
  <map id="Consumer_map" name="Consumer_map">
<area href="classAbstractController.html" alt="AbstractController" shape="rect" coords="132,56,254,80"/>
<area href="classFlexibleConsumer.html" alt="FlexibleConsumer" shape="rect" coords="132,112,254,136"/>
<area href="classInputUnit__d.html" alt="InputUnit_d" shape="rect" coords="132,168,254,192"/>
<area href="classMemoryControl.html" alt="MemoryControl" shape="rect" coords="132,224,254,248"/>
<area href="classNetworkInterface__d.html" alt="NetworkInterface_d" shape="rect" coords="132,280,254,304"/>
<area href="classNetworkLink__d.html" alt="NetworkLink_d" shape="rect" coords="132,336,254,360"/>
<area href="classOutputUnit__d.html" alt="OutputUnit_d" shape="rect" coords="132,392,254,416"/>
<area href="classPerfectSwitch.html" alt="PerfectSwitch" shape="rect" coords="132,448,254,472"/>
<area href="classSWallocator__d.html" alt="SWallocator_d" shape="rect" coords="132,504,254,528"/>
<area href="classSwitch__d.html" alt="Switch_d" shape="rect" coords="132,560,254,584"/>
<area href="classThrottle.html" alt="Throttle" shape="rect" coords="132,616,254,640"/>
<area href="classVCallocator__d.html" alt="VCallocator_d" shape="rect" coords="132,672,254,696"/>
<area href="classVCarbiter.html" alt="VCarbiter" shape="rect" coords="132,728,254,752"/>
</map>
 </div>
</div>

<p><a href="classConsumer-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer_1_1ConsumerEvent.html">ConsumerEvent</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer.html#a645ceafe42017acfa86025960f300df1">Consumer</a> (<a class="el" href="classClockedObject.html">ClockedObject</a> *_em)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer.html#afc5a9aad1f27ac3414bc75d841e848ee">~Consumer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer.html#a623e3e7d1b1c725d70009f7b01a421b9">wakeup</a> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer.html#a3ea5f7af5db62cc24f4e40df9ea5c971">print</a> (std::ostream &amp;out) const =0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer.html#a6f82fdec6e5674ac2254f16b8fa82afb">storeEventInfo</a> (int info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer.html#a995ed0e67a3f05938c1cb5c8152ac5af">alreadyScheduled</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> time)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer.html#a18f41a3442b6485c6e07f2d0440cf659">insertScheduledWakeupTime</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> time)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer.html#a0b26d8ce23c3ab271e7a746e57174721">scheduleEventAbsolute</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> timeAbs)</td></tr>
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer.html#a5a4c2856f4eb5cd5493f36dfb0675f00">scheduleEvent</a> (<a class="el" href="classCycles.html">Cycles</a> timeDelta)</td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer.html#a80158caf2e9b370c03daba358a438493">m_scheduled_wakeups</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classClockedObject.html">ClockedObject</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConsumer.html#a75e14198badfddb1422adb9833fbd275">em</a></td></tr>
</table>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a645ceafe42017acfa86025960f300df1"></a><!-- doxytag: member="Consumer::Consumer" ref="a645ceafe42017acfa86025960f300df1" args="(ClockedObject *_em)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classConsumer.html">Consumer</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classClockedObject.html">ClockedObject</a> *&nbsp;</td>
          <td class="paramname"> <em>_em</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00047"></a>00047         : <a class="code" href="classConsumer.html#a75e14198badfddb1422adb9833fbd275">em</a>(_em)
<a name="l00048"></a>00048     {
<a name="l00049"></a>00049     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afc5a9aad1f27ac3414bc75d841e848ee"></a><!-- doxytag: member="Consumer::~Consumer" ref="afc5a9aad1f27ac3414bc75d841e848ee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classConsumer.html">Consumer</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00053"></a>00053     { }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a995ed0e67a3f05938c1cb5c8152ac5af"></a><!-- doxytag: member="Consumer::alreadyScheduled" ref="a995ed0e67a3f05938c1cb5c8152ac5af" args="(Tick time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool alreadyScheduled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>time</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00061"></a>00061     {
<a name="l00062"></a>00062         <span class="keywordflow">return</span> <a class="code" href="classConsumer.html#a80158caf2e9b370c03daba358a438493">m_scheduled_wakeups</a>.find(time) != <a class="code" href="classConsumer.html#a80158caf2e9b370c03daba358a438493">m_scheduled_wakeups</a>.end();
<a name="l00063"></a>00063     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a18f41a3442b6485c6e07f2d0440cf659"></a><!-- doxytag: member="Consumer::insertScheduledWakeupTime" ref="a18f41a3442b6485c6e07f2d0440cf659" args="(Tick time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insertScheduledWakeupTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>time</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00067"></a>00067     {
<a name="l00068"></a>00068         <a class="code" href="classConsumer.html#a80158caf2e9b370c03daba358a438493">m_scheduled_wakeups</a>.insert(time);
<a name="l00069"></a>00069     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3ea5f7af5db62cc24f4e40df9ea5c971"></a><!-- doxytag: member="Consumer::print" ref="a3ea5f7af5db62cc24f4e40df9ea5c971" args="(std::ostream &amp;out) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void print </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>out</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classInputUnit__d.html#ac55fe386a101fbae38c716067c9966a0">InputUnit_d</a>, <a class="el" href="classNetworkInterface__d.html#ac55fe386a101fbae38c716067c9966a0">NetworkInterface_d</a>, <a class="el" href="classNetworkLink__d.html#ac55fe386a101fbae38c716067c9966a0">NetworkLink_d</a>, <a class="el" href="classOutputUnit__d.html#ac55fe386a101fbae38c716067c9966a0">OutputUnit_d</a>, <a class="el" href="classSWallocator__d.html#ac55fe386a101fbae38c716067c9966a0">SWallocator_d</a>, <a class="el" href="classSwitch__d.html#ac55fe386a101fbae38c716067c9966a0">Switch_d</a>, <a class="el" href="classVCallocator__d.html#ac55fe386a101fbae38c716067c9966a0">VCallocator_d</a>, <a class="el" href="classNetworkInterface.html#ac55fe386a101fbae38c716067c9966a0">NetworkInterface</a>, <a class="el" href="classNetworkLink.html#ac55fe386a101fbae38c716067c9966a0">NetworkLink</a>, <a class="el" href="classRouter.html#ac55fe386a101fbae38c716067c9966a0">Router</a>, <a class="el" href="classVCarbiter.html#ac55fe386a101fbae38c716067c9966a0">VCarbiter</a>, <a class="el" href="classPerfectSwitch.html#ac55fe386a101fbae38c716067c9966a0">PerfectSwitch</a>, <a class="el" href="classThrottle.html#ac55fe386a101fbae38c716067c9966a0">Throttle</a>, <a class="el" href="classAbstractController.html#a3ea5f7af5db62cc24f4e40df9ea5c971">AbstractController</a>, <a class="el" href="classMemoryControl.html#a3ea5f7af5db62cc24f4e40df9ea5c971">MemoryControl</a>, と <a class="el" href="classRubyMemoryControl.html#ac55fe386a101fbae38c716067c9966a0">RubyMemoryControl</a>で実装されています。</p>

</div>
</div>
<a class="anchor" id="a5a4c2856f4eb5cd5493f36dfb0675f00"></a><!-- doxytag: member="Consumer::scheduleEvent" ref="a5a4c2856f4eb5cd5493f36dfb0675f00" args="(Cycles timeDelta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduleEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td>
          <td class="paramname"> <em>timeDelta</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00035"></a>00035 {
<a name="l00036"></a>00036     <a class="code" href="classConsumer.html#a0b26d8ce23c3ab271e7a746e57174721">scheduleEventAbsolute</a>(<a class="code" href="classConsumer.html#a75e14198badfddb1422adb9833fbd275">em</a>-&gt;<a class="code" href="classClockedObject.html#a773956693f216cafb7d4cad92ad582e5">clockEdge</a>(timeDelta));
<a name="l00037"></a>00037 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0b26d8ce23c3ab271e7a746e57174721"></a><!-- doxytag: member="Consumer::scheduleEventAbsolute" ref="a0b26d8ce23c3ab271e7a746e57174721" args="(Tick timeAbs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduleEventAbsolute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>timeAbs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00041"></a>00041 {
<a name="l00042"></a>00042     <span class="keywordflow">if</span> (!<a class="code" href="classConsumer.html#a995ed0e67a3f05938c1cb5c8152ac5af">alreadyScheduled</a>(evt_time)) {
<a name="l00043"></a>00043         <span class="comment">// This wakeup is not redundant</span>
<a name="l00044"></a>00044         ConsumerEvent *evt = <span class="keyword">new</span> ConsumerEvent(<span class="keyword">this</span>);
<a name="l00045"></a>00045         <a class="code" href="classConsumer.html#a75e14198badfddb1422adb9833fbd275">em</a>-&gt;<a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(evt, evt_time);
<a name="l00046"></a>00046         <a class="code" href="classConsumer.html#a18f41a3442b6485c6e07f2d0440cf659">insertScheduledWakeupTime</a>(evt_time);
<a name="l00047"></a>00047     }
<a name="l00048"></a>00048 
<a name="l00049"></a>00049     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="code" href="namespaceArmISA.html#af5dfd7e551f8c5b461816e813dab252f">t</a> = <a class="code" href="classConsumer.html#a75e14198badfddb1422adb9833fbd275">em</a>-&gt;<a class="code" href="classClockedObject.html#a773956693f216cafb7d4cad92ad582e5">clockEdge</a>();
<a name="l00050"></a>00050     set&lt;Tick&gt;::iterator bit = <a class="code" href="classConsumer.html#a80158caf2e9b370c03daba358a438493">m_scheduled_wakeups</a>.begin();
<a name="l00051"></a>00051     set&lt;Tick&gt;::iterator eit = <a class="code" href="classConsumer.html#a80158caf2e9b370c03daba358a438493">m_scheduled_wakeups</a>.lower_bound(t);
<a name="l00052"></a>00052     <a class="code" href="classConsumer.html#a80158caf2e9b370c03daba358a438493">m_scheduled_wakeups</a>.erase(bit,eit);
<a name="l00053"></a>00053 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6f82fdec6e5674ac2254f16b8fa82afb"></a><!-- doxytag: member="Consumer::storeEventInfo" ref="a6f82fdec6e5674ac2254f16b8fa82afb" args="(int info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void storeEventInfo </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classPerfectSwitch.html#accd0665763c9caa446789b27a62f931b">PerfectSwitch</a>で再定義されています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00057"></a>00057 {}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a623e3e7d1b1c725d70009f7b01a421b9"></a><!-- doxytag: member="Consumer::wakeup" ref="a623e3e7d1b1c725d70009f7b01a421b9" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void wakeup </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classInputUnit__d.html#ae674290a26ecbd622c5160e38e8a4fe9">InputUnit_d</a>, <a class="el" href="classNetworkInterface__d.html#ae674290a26ecbd622c5160e38e8a4fe9">NetworkInterface_d</a>, <a class="el" href="classNetworkLink__d.html#ae674290a26ecbd622c5160e38e8a4fe9">NetworkLink_d</a>, <a class="el" href="classOutputUnit__d.html#ae674290a26ecbd622c5160e38e8a4fe9">OutputUnit_d</a>, <a class="el" href="classSWallocator__d.html#ae674290a26ecbd622c5160e38e8a4fe9">SWallocator_d</a>, <a class="el" href="classSwitch__d.html#ae674290a26ecbd622c5160e38e8a4fe9">Switch_d</a>, <a class="el" href="classVCallocator__d.html#ae674290a26ecbd622c5160e38e8a4fe9">VCallocator_d</a>, <a class="el" href="classNetworkInterface.html#ae674290a26ecbd622c5160e38e8a4fe9">NetworkInterface</a>, <a class="el" href="classNetworkLink.html#ae674290a26ecbd622c5160e38e8a4fe9">NetworkLink</a>, <a class="el" href="classRouter.html#ae674290a26ecbd622c5160e38e8a4fe9">Router</a>, <a class="el" href="classVCarbiter.html#ae674290a26ecbd622c5160e38e8a4fe9">VCarbiter</a>, <a class="el" href="classPerfectSwitch.html#ae674290a26ecbd622c5160e38e8a4fe9">PerfectSwitch</a>, <a class="el" href="classThrottle.html#ae674290a26ecbd622c5160e38e8a4fe9">Throttle</a>, <a class="el" href="classAbstractController.html#a623e3e7d1b1c725d70009f7b01a421b9">AbstractController</a>, <a class="el" href="classMemoryControl.html#a623e3e7d1b1c725d70009f7b01a421b9">MemoryControl</a>, と <a class="el" href="classRubyMemoryControl.html#ae674290a26ecbd622c5160e38e8a4fe9">RubyMemoryControl</a>で実装されています。</p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a75e14198badfddb1422adb9833fbd275"></a><!-- doxytag: member="Consumer::em" ref="a75e14198badfddb1422adb9833fbd275" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classClockedObject.html">ClockedObject</a>* <a class="el" href="classConsumer.html#a75e14198badfddb1422adb9833fbd275">em</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a80158caf2e9b370c03daba358a438493"></a><!-- doxytag: member="Consumer::m_scheduled_wakeups" ref="a80158caf2e9b370c03daba358a438493" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&gt; <a class="el" href="classConsumer.html#a80158caf2e9b370c03daba358a438493">m_scheduled_wakeups</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>mem/ruby/common/<a class="el" href="Consumer_8hh_source.html">Consumer.hh</a></li>
<li>mem/ruby/common/<a class="el" href="Consumer_8cc.html">Consumer.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
