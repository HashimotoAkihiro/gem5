<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス テンプレート DataTranslation&lt; ExecContextPtr &gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス テンプレート DataTranslation&lt; ExecContextPtr &gt;</h1><!-- doxytag: class="DataTranslation" --><!-- doxytag: inherits="BaseTLB::Translation" -->
<p><code>#include &lt;<a class="el" href="translation_8hh_source.html">translation.hh</a>&gt;</code></p>
<div class="dynheader">
DataTranslation&lt; ExecContextPtr &gt;に対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classDataTranslation.gif" usemap="#DataTranslation&lt; ExecContextPtr &gt;_map" alt=""/>
  <map id="DataTranslation&lt; ExecContextPtr &gt;_map" name="DataTranslation&lt; ExecContextPtr &gt;_map">
<area href="classBaseTLB_1_1Translation.html" alt="Translation" shape="rect" coords="0,0,210,24"/>
</map>
 </div>
</div>

<p><a href="classDataTranslation-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataTranslation.html#aa814ed9c851686410c9efd4a3d8c2d53">DataTranslation</a> (ExecContextPtr _xc, <a class="el" href="classWholeTranslationState.html">WholeTranslationState</a> *_state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataTranslation.html#ae8650a15b755aa7c69728323de568c2c">DataTranslation</a> (ExecContextPtr _xc, <a class="el" href="classWholeTranslationState.html">WholeTranslationState</a> *_state, int _index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataTranslation.html#ad1fd11d1e352cfc4b329d29b46a19fc4">markDelayed</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataTranslation.html#a01e7d945def8d2e5df87a169954fa89f">finish</a> (<a class="el" href="classRefCountingPtr.html">Fault</a> fault, <a class="el" href="classRequest.html">RequestPtr</a> req, <a class="el" href="classThreadContext.html">ThreadContext</a> *tc, <a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a> mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataTranslation.html#af355b62f22559090d6e3047bdf83f24f">squashed</a> () const </td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ExecContextPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataTranslation.html#a5a1319d106e664e08fe03cc819c9354d">xc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWholeTranslationState.html">WholeTranslationState</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataTranslation.html#a70366c1ef6f173eb70265992cf6495bf">state</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataTranslation.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<h3>template&lt;class ExecContextPtr&gt;<br/>
 class DataTranslation&lt; ExecContextPtr &gt;</h3>

<p>This class represents part of a data address translation. All state for the translation is held in <a class="el" href="classWholeTranslationState.html">WholeTranslationState</a> (above). Therefore this class does not need to know whether the translation is split or not. The index variable determines this but is simply passed on to the state class. When this part of the translation is completed, finish is called. If the translation state class indicate that the whole translation is complete then the execution context is informed. </p>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="aa814ed9c851686410c9efd4a3d8c2d53"></a><!-- doxytag: member="DataTranslation::DataTranslation" ref="aa814ed9c851686410c9efd4a3d8c2d53" args="(ExecContextPtr _xc, WholeTranslationState *_state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDataTranslation.html">DataTranslation</a> </td>
          <td>(</td>
          <td class="paramtype">ExecContextPtr&nbsp;</td>
          <td class="paramname"> <em>_xc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWholeTranslationState.html">WholeTranslationState</a> *&nbsp;</td>
          <td class="paramname"> <em>_state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00227"></a>00227         : <a class="code" href="classDataTranslation.html#a5a1319d106e664e08fe03cc819c9354d">xc</a>(_xc), <a class="code" href="classDataTranslation.html#a70366c1ef6f173eb70265992cf6495bf">state</a>(_state), <a class="code" href="classDataTranslation.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>(0)
<a name="l00228"></a>00228     {
<a name="l00229"></a>00229     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae8650a15b755aa7c69728323de568c2c"></a><!-- doxytag: member="DataTranslation::DataTranslation" ref="ae8650a15b755aa7c69728323de568c2c" args="(ExecContextPtr _xc, WholeTranslationState *_state, int _index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDataTranslation.html">DataTranslation</a> </td>
          <td>(</td>
          <td class="paramtype">ExecContextPtr&nbsp;</td>
          <td class="paramname"> <em>_xc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWholeTranslationState.html">WholeTranslationState</a> *&nbsp;</td>
          <td class="paramname"> <em>_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00233"></a>00233         : <a class="code" href="classDataTranslation.html#a5a1319d106e664e08fe03cc819c9354d">xc</a>(_xc), <a class="code" href="classDataTranslation.html#a70366c1ef6f173eb70265992cf6495bf">state</a>(_state), <a class="code" href="classDataTranslation.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>(_index)
<a name="l00234"></a>00234     {
<a name="l00235"></a>00235     }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a01e7d945def8d2e5df87a169954fa89f"></a><!-- doxytag: member="DataTranslation::finish" ref="a01e7d945def8d2e5df87a169954fa89f" args="(Fault fault, RequestPtr req, ThreadContext *tc, BaseTLB::Mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td>
          <td class="paramname"> <em>fault</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td>
          <td class="paramname"> <em>tc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finish this part of the translation and indicate that the whole translation is complete if the state says so. </p>

<p><a class="el" href="classBaseTLB_1_1Translation.html#a5698e0a932f298729d10355d4384e565">Translation</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00254"></a>00254     {
<a name="l00255"></a>00255         assert(<a class="code" href="classDataTranslation.html#a70366c1ef6f173eb70265992cf6495bf">state</a>);
<a name="l00256"></a>00256         assert(<a class="code" href="namespaceArmISA.html#a5f3b9b97eb2dfa29d33e74878455f90d">mode</a> == <a class="code" href="classDataTranslation.html#a70366c1ef6f173eb70265992cf6495bf">state</a>-&gt;<a class="code" href="classWholeTranslationState.html#ae9b5adf8be89a72128708c7e621e7211">mode</a>);
<a name="l00257"></a>00257         <span class="keywordflow">if</span> (<a class="code" href="classDataTranslation.html#a70366c1ef6f173eb70265992cf6495bf">state</a>-&gt;<a class="code" href="classWholeTranslationState.html#a4d0ff87d4723870a1348d1f62d15d785">finish</a>(fault, <a class="code" href="classDataTranslation.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>)) {
<a name="l00258"></a>00258             <span class="keywordflow">if</span> (<a class="code" href="classDataTranslation.html#a70366c1ef6f173eb70265992cf6495bf">state</a>-&gt;<a class="code" href="classWholeTranslationState.html#a1ac977937b0a3cf64e58ba7141e4cc11">getFault</a>() == <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>) {
<a name="l00259"></a>00259                 <span class="comment">// Don&apos;t access the request if faulted (due to squash)</span>
<a name="l00260"></a>00260                 req-&gt;<a class="code" href="classRequest.html#a619cef7b12397043980f12337b06492c">setTranslateLatency</a>();
<a name="l00261"></a>00261             }
<a name="l00262"></a>00262             <a class="code" href="classDataTranslation.html#a5a1319d106e664e08fe03cc819c9354d">xc</a>-&gt;finishTranslation(<a class="code" href="classDataTranslation.html#a70366c1ef6f173eb70265992cf6495bf">state</a>);
<a name="l00263"></a>00263         }
<a name="l00264"></a>00264         <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l00265"></a>00265     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad1fd11d1e352cfc4b329d29b46a19fc4"></a><!-- doxytag: member="DataTranslation::markDelayed" ref="ad1fd11d1e352cfc4b329d29b46a19fc4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void markDelayed </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Signal the translation state that the translation has been delayed due to a hw page table walk. Split requests are transparently handled. </p>

<p><a class="el" href="classBaseTLB_1_1Translation.html#ab88d5e1938190b55d7859d5cc4d10446">Translation</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00243"></a>00243     {
<a name="l00244"></a>00244         <a class="code" href="classDataTranslation.html#a70366c1ef6f173eb70265992cf6495bf">state</a>-&gt;<a class="code" href="classWholeTranslationState.html#acde7c910d793a8d8913d949834c8c621">delay</a> = <span class="keyword">true</span>;
<a name="l00245"></a>00245     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af355b62f22559090d6e3047bdf83f24f"></a><!-- doxytag: member="DataTranslation::squashed" ref="af355b62f22559090d6e3047bdf83f24f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool squashed </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is used by the page table walker to determine if it should translate the a pending request or if the underlying request has been squashed. @ return Is the instruction that requested this translation squashed? </p>

<p><a class="el" href="classBaseTLB_1_1Translation.html#a1c71e1db7a83ffde808111e2b1cec6c6">Translation</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00269"></a>00269     {
<a name="l00270"></a>00270         <span class="keywordflow">return</span> <a class="code" href="classDataTranslation.html#a5a1319d106e664e08fe03cc819c9354d">xc</a>-&gt;isSquashed();
<a name="l00271"></a>00271     }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a750b5d744c39a06bfb13e6eb010e35d0"></a><!-- doxytag: member="DataTranslation::index" ref="a750b5d744c39a06bfb13e6eb010e35d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDataTranslation.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a70366c1ef6f173eb70265992cf6495bf"></a><!-- doxytag: member="DataTranslation::state" ref="a70366c1ef6f173eb70265992cf6495bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWholeTranslationState.html">WholeTranslationState</a>* <a class="el" href="classDataTranslation.html#a70366c1ef6f173eb70265992cf6495bf">state</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5a1319d106e664e08fe03cc819c9354d"></a><!-- doxytag: member="DataTranslation::xc" ref="a5a1319d106e664e08fe03cc819c9354d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ExecContextPtr <a class="el" href="classDataTranslation.html#a5a1319d106e664e08fe03cc819c9354d">xc</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>cpu/<a class="el" href="translation_8hh_source.html">translation.hh</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
