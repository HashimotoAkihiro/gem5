<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス UnifiedRenameMap</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス UnifiedRenameMap</h1><!-- doxytag: class="UnifiedRenameMap" -->
<p><code>#include &lt;<a class="el" href="rename__map_8hh_source.html">rename_map.hh</a>&gt;</code></p>

<p><a href="classUnifiedRenameMap-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef TheISA::RegIndex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classstd_1_1pair.html">SimpleRenameMap::RenameInfo</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a2d31ea626004f32fc5c2aa11da776b42">RenameInfo</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#adb68a513c2ed7c97df59815528f619ba">UnifiedRenameMap</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a6ee32f6177b3a78b38df48300a3ea20e">~UnifiedRenameMap</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a6e4d0eb7c0c24f15b95cbb4b0265f2bd">init</a> (<a class="el" href="classPhysRegFile.html">PhysRegFile</a> *_regFile, <a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> _intZeroReg, <a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> _floatZeroReg, <a class="el" href="classUnifiedFreeList.html">UnifiedFreeList</a> *freeList)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1pair.html">RenameInfo</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a7942f39856cc0a6ba2479855d2a7ab53">rename</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> arch_reg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1pair.html">RenameInfo</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a73e9d8eeeeacc94d05a9cbd8524dc893">renameInt</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_arch_reg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1pair.html">RenameInfo</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a64fe4a0e62e47d9087096b285d6b8d9f">renameFloat</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_arch_reg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1pair.html">RenameInfo</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a1cebbe11de55db60d7ab86de7dbba6c7">renameCC</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_arch_reg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1pair.html">RenameInfo</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a7d34d22eeeecf2193f17c5f6124db3e8">renameMisc</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_arch_reg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a149269d2ce2fbf7e13ec91a5647bf170">lookup</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> arch_reg) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#af15380c4147afeea6a1d9675a7210244">lookupInt</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_arch_reg) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a356c0162075adeb1426a1f237da3825e">lookupFloat</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_arch_reg) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a8ce66153601d299656186b221fc1b264">lookupCC</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_arch_reg) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#aa15bfaea32a01837167598470949c063">lookupMisc</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_arch_reg) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a5c6cad04be83122ff38650d859fbf1d8">setEntry</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> arch_reg, <a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a1bd71f7635e3eba4028ce0e9e5f88552">setIntEntry</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> arch_reg, <a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a86eefa45c1ed5ce515d2e8911b3d5a9a">setFloatEntry</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> arch_reg, <a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a3d65458af1654ac17ee2ddf445858ba2">setCCEntry</a> (<a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> arch_reg, <a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a1fb7464c57712609e9d9ca38aff7fc8e">numFreeEntries</a> () const </td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimpleRenameMap.html">SimpleRenameMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a3133c6b943f6bd39859ab4544cb8099e">intMap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimpleRenameMap.html">SimpleRenameMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a0850a3bd98051c123507bd1d971f5ea5">floatMap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPhysRegFile.html">PhysRegFile</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimpleRenameMap.html">SimpleRenameMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnifiedRenameMap.html#a763b488cc757601419547ab2420f4fca">ccMap</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<p>Unified register rename map for all classes of registers. Wraps a set of class-specific rename maps. Methods that do not specify a register class (e.g., <a class="el" href="classUnifiedRenameMap.html#a7942f39856cc0a6ba2479855d2a7ab53">rename()</a>) take unified register indices, while methods that do specify a register class (e.g., <a class="el" href="classUnifiedRenameMap.html#a73e9d8eeeeacc94d05a9cbd8524dc893">renameInt()</a>) take relative register indices. See <a href="http://gem5.org/Register_Indexing.">http://gem5.org/Register_Indexing.</a> </p>
<hr/><h2>型定義</h2>
<a class="anchor" id="a36d25e03e43fa3bb4c5482cbefe5e0fb"></a><!-- doxytag: member="UnifiedRenameMap::RegIndex" ref="a36d25e03e43fa3bb4c5482cbefe5e0fb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef TheISA::RegIndex <a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2d31ea626004f32fc5c2aa11da776b42"></a><!-- doxytag: member="UnifiedRenameMap::RenameInfo" ref="a2d31ea626004f32fc5c2aa11da776b42" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classstd_1_1pair.html">SimpleRenameMap::RenameInfo</a> <a class="el" href="classstd_1_1pair.html">RenameInfo</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="adb68a513c2ed7c97df59815528f619ba"></a><!-- doxytag: member="UnifiedRenameMap::UnifiedRenameMap" ref="adb68a513c2ed7c97df59815528f619ba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classUnifiedRenameMap.html">UnifiedRenameMap</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Default constructor. <a class="el" href="classUnifiedRenameMap.html#a6e4d0eb7c0c24f15b95cbb4b0265f2bd">init()</a> must be called prior to use. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00175"></a>00175 {};
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6ee32f6177b3a78b38df48300a3ea20e"></a><!-- doxytag: member="UnifiedRenameMap::~UnifiedRenameMap" ref="a6ee32f6177b3a78b38df48300a3ea20e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classUnifiedRenameMap.html">UnifiedRenameMap</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00178"></a>00178 {};
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a6e4d0eb7c0c24f15b95cbb4b0265f2bd"></a><!-- doxytag: member="UnifiedRenameMap::init" ref="a6e4d0eb7c0c24f15b95cbb4b0265f2bd" args="(PhysRegFile *_regFile, RegIndex _intZeroReg, RegIndex _floatZeroReg, UnifiedFreeList *freeList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPhysRegFile.html">PhysRegFile</a> *&nbsp;</td>
          <td class="paramname"> <em>_regFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>_intZeroReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>_floatZeroReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classUnifiedFreeList.html">UnifiedFreeList</a> *&nbsp;</td>
          <td class="paramname"> <em>freeList</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes rename map with given parameters. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00094"></a>00094 {
<a name="l00095"></a>00095     <a class="code" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a> = _regFile;
<a name="l00096"></a>00096 
<a name="l00097"></a>00097     <a class="code" href="classUnifiedRenameMap.html#a3133c6b943f6bd39859ab4544cb8099e">intMap</a>.<a class="code" href="classSimpleRenameMap.html#a3f27b4e0339fcd39d0f73659b8c72202">init</a>(<a class="code" href="namespaceAlphaISA.html#a9c412b5118ce369570c156c4e156638a">TheISA::NumIntRegs</a>, &amp;(freeList-&gt;<a class="code" href="classUnifiedFreeList.html#aeafc736e9696de02d3195527f55b7470">intList</a>), _intZeroReg);
<a name="l00098"></a>00098 
<a name="l00099"></a>00099     <a class="code" href="classUnifiedRenameMap.html#a0850a3bd98051c123507bd1d971f5ea5">floatMap</a>.<a class="code" href="classSimpleRenameMap.html#a3f27b4e0339fcd39d0f73659b8c72202">init</a>(<a class="code" href="namespaceAlphaISA.html#a627b25288f2452be107872a138df8b85">TheISA::NumFloatRegs</a>, &amp;(freeList-&gt;<a class="code" href="classUnifiedFreeList.html#a84c2a7dcff56dcaa39aefc6e77acf461">floatList</a>), _floatZeroReg);
<a name="l00100"></a>00100 
<a name="l00101"></a>00101     <a class="code" href="classUnifiedRenameMap.html#a763b488cc757601419547ab2420f4fca">ccMap</a>.<a class="code" href="classSimpleRenameMap.html#a3f27b4e0339fcd39d0f73659b8c72202">init</a>(<a class="code" href="namespaceAlphaISA.html#a627b25288f2452be107872a138df8b85">TheISA::NumFloatRegs</a>, &amp;(freeList-&gt;<a class="code" href="classUnifiedFreeList.html#abaa0000cc485f09abf2d7877a5e0b41f">ccList</a>), (<a class="code" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>)-1);
<a name="l00102"></a>00102 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a149269d2ce2fbf7e13ec91a5647bf170"></a><!-- doxytag: member="UnifiedRenameMap::lookup" ref="a149269d2ce2fbf7e13ec91a5647bf170" args="(RegIndex arch_reg) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>arch_reg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Look up the physical register mapped to an architectural register. This version takes a unified flattened architectural register index and calls the appropriate class-specific rename table. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>arch_reg</em>&nbsp;</td><td>The unified architectural register to look up. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>The physical register it is currently mapped to. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00132"></a>00132 {
<a name="l00133"></a>00133     <a class="code" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_arch_reg;
<a name="l00134"></a>00134 
<a name="l00135"></a>00135     <span class="keywordflow">switch</span> (<a class="code" href="reg__class_8hh.html#a275a232e420c9ac198b7f942c885ecf8">regIdxToClass</a>(arch_reg, &amp;rel_arch_reg)) {
<a name="l00136"></a>00136       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0ab412c1eeaf26e79fee8922d9a479889c" title="Integer register.">IntRegClass</a>:
<a name="l00137"></a>00137         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#af15380c4147afeea6a1d9675a7210244">lookupInt</a>(rel_arch_reg);
<a name="l00138"></a>00138 
<a name="l00139"></a>00139       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0a207a831a62a5c23ac4ac6405378b125e" title="Floating-point register.">FloatRegClass</a>:
<a name="l00140"></a>00140         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#a356c0162075adeb1426a1f237da3825e">lookupFloat</a>(rel_arch_reg);
<a name="l00141"></a>00141 
<a name="l00142"></a>00142       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0a432484d211463d83c5bd364df83f82c2" title="Condition-code register.">CCRegClass</a>:
<a name="l00143"></a>00143         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#a8ce66153601d299656186b221fc1b264">lookupCC</a>(rel_arch_reg);
<a name="l00144"></a>00144 
<a name="l00145"></a>00145       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0aed057341e8e2e418632e8a03b42b3f39" title="Control (misc) register.">MiscRegClass</a>:
<a name="l00146"></a>00146         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#aa15bfaea32a01837167598470949c063">lookupMisc</a>(rel_arch_reg);
<a name="l00147"></a>00147 
<a name="l00148"></a>00148       <span class="keywordflow">default</span>:
<a name="l00149"></a>00149         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;rename lookup(): unknown reg class %s\n&quot;</span>,
<a name="l00150"></a>00150               <a class="code" href="reg__class_8cc.html#abd784c3d8b8c0aa741f47934de24f1fd" title="Map enum values to strings for debugging.">RegClassStrings</a>[<a class="code" href="reg__class_8hh.html#a275a232e420c9ac198b7f942c885ecf8">regIdxToClass</a>(arch_reg)]);
<a name="l00151"></a>00151     }
<a name="l00152"></a>00152 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8ce66153601d299656186b221fc1b264"></a><!-- doxytag: member="UnifiedRenameMap::lookupCC" ref="a8ce66153601d299656186b221fc1b264" args="(RegIndex rel_arch_reg) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> lookupCC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>rel_arch_reg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform <a class="el" href="classUnifiedRenameMap.html#a149269d2ce2fbf7e13ec91a5647bf170">lookup()</a> on a condition-code register, given a relative condition-code register index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00281"></a>00281     {
<a name="l00282"></a>00282         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classUnifiedRenameMap.html#a763b488cc757601419547ab2420f4fca">ccMap</a>.<a class="code" href="classSimpleRenameMap.html#a149269d2ce2fbf7e13ec91a5647bf170">lookup</a>(rel_arch_reg);
<a name="l00283"></a>00283         assert(<a class="code" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a>-&gt;<a class="code" href="classPhysRegFile.html#a781ae6a1156bf528a33e2489664c1dd4">isCCPhysReg</a>(phys_reg));
<a name="l00284"></a>00284         <span class="keywordflow">return</span> phys_reg;
<a name="l00285"></a>00285     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a356c0162075adeb1426a1f237da3825e"></a><!-- doxytag: member="UnifiedRenameMap::lookupFloat" ref="a356c0162075adeb1426a1f237da3825e" args="(RegIndex rel_arch_reg) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> lookupFloat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>rel_arch_reg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform <a class="el" href="classUnifiedRenameMap.html#a149269d2ce2fbf7e13ec91a5647bf170">lookup()</a> on a floating-point register, given a relative floating-point register index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00270"></a>00270     {
<a name="l00271"></a>00271         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classUnifiedRenameMap.html#a0850a3bd98051c123507bd1d971f5ea5">floatMap</a>.<a class="code" href="classSimpleRenameMap.html#a149269d2ce2fbf7e13ec91a5647bf170">lookup</a>(rel_arch_reg);
<a name="l00272"></a>00272         assert(<a class="code" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a>-&gt;<a class="code" href="classPhysRegFile.html#ad4633a6224fc5694bdf2d9558d20501f">isFloatPhysReg</a>(phys_reg));
<a name="l00273"></a>00273         <span class="keywordflow">return</span> phys_reg;
<a name="l00274"></a>00274     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af15380c4147afeea6a1d9675a7210244"></a><!-- doxytag: member="UnifiedRenameMap::lookupInt" ref="af15380c4147afeea6a1d9675a7210244" args="(RegIndex rel_arch_reg) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> lookupInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>rel_arch_reg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform <a class="el" href="classUnifiedRenameMap.html#a149269d2ce2fbf7e13ec91a5647bf170">lookup()</a> on an integer register, given a relative integer register index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00259"></a>00259     {
<a name="l00260"></a>00260         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classUnifiedRenameMap.html#a3133c6b943f6bd39859ab4544cb8099e">intMap</a>.<a class="code" href="classSimpleRenameMap.html#a149269d2ce2fbf7e13ec91a5647bf170">lookup</a>(rel_arch_reg);
<a name="l00261"></a>00261         assert(<a class="code" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a>-&gt;<a class="code" href="classPhysRegFile.html#a4484974c71716e3a2e14b8e5207a5002">isIntPhysReg</a>(phys_reg));
<a name="l00262"></a>00262         <span class="keywordflow">return</span> phys_reg;
<a name="l00263"></a>00263     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa15bfaea32a01837167598470949c063"></a><!-- doxytag: member="UnifiedRenameMap::lookupMisc" ref="aa15bfaea32a01837167598470949c063" args="(RegIndex rel_arch_reg) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> lookupMisc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>rel_arch_reg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform <a class="el" href="classUnifiedRenameMap.html#a149269d2ce2fbf7e13ec91a5647bf170">lookup()</a> on a misc register, given a relative misc register index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00292"></a>00292     {
<a name="l00293"></a>00293         <span class="comment">// misc regs aren&apos;t really renamed, just given an index</span>
<a name="l00294"></a>00294         <span class="comment">// beyond the range of actual physical registers</span>
<a name="l00295"></a>00295         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = rel_arch_reg + <a class="code" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a>-&gt;<a class="code" href="classPhysRegFile.html#ad16381c6ff3ee42d5456b1d632a52730">totalNumPhysRegs</a>();
<a name="l00296"></a>00296         <span class="keywordflow">return</span> phys_reg;
<a name="l00297"></a>00297     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1fb7464c57712609e9d9ca38aff7fc8e"></a><!-- doxytag: member="UnifiedRenameMap::numFreeEntries" ref="a1fb7464c57712609e9d9ca38aff7fc8e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned numFreeEntries </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the minimum number of free entries across all of the register classes. The minimum is used so we guarantee that this number of entries is available regardless of which class of registers is requested. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00346"></a>00346     {
<a name="l00347"></a>00347         <span class="keywordflow">return</span> std::min(<a class="code" href="classUnifiedRenameMap.html#a3133c6b943f6bd39859ab4544cb8099e">intMap</a>.<a class="code" href="classSimpleRenameMap.html#a1fb7464c57712609e9d9ca38aff7fc8e">numFreeEntries</a>(), <a class="code" href="classUnifiedRenameMap.html#a0850a3bd98051c123507bd1d971f5ea5">floatMap</a>.<a class="code" href="classSimpleRenameMap.html#a1fb7464c57712609e9d9ca38aff7fc8e">numFreeEntries</a>());
<a name="l00348"></a>00348     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7942f39856cc0a6ba2479855d2a7ab53"></a><!-- doxytag: member="UnifiedRenameMap::rename" ref="a7942f39856cc0a6ba2479855d2a7ab53" args="(RegIndex arch_reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1pair.html">UnifiedRenameMap::RenameInfo</a> rename </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>arch_reg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Tell rename map to get a new free physical register to remap the specified architectural register. This version takes a unified flattened architectural register index and calls the appropriate class-specific rename table. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>arch_reg</em>&nbsp;</td><td>The unified architectural register index to remap. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>A RenameInfo pair indicating both the new and previous physical registers. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00107"></a>00107 {
<a name="l00108"></a>00108     <a class="code" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_arch_reg;
<a name="l00109"></a>00109 
<a name="l00110"></a>00110     <span class="keywordflow">switch</span> (<a class="code" href="reg__class_8hh.html#a275a232e420c9ac198b7f942c885ecf8">regIdxToClass</a>(arch_reg, &amp;rel_arch_reg)) {
<a name="l00111"></a>00111       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0ab412c1eeaf26e79fee8922d9a479889c" title="Integer register.">IntRegClass</a>:
<a name="l00112"></a>00112         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#a73e9d8eeeeacc94d05a9cbd8524dc893">renameInt</a>(rel_arch_reg);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0a207a831a62a5c23ac4ac6405378b125e" title="Floating-point register.">FloatRegClass</a>:
<a name="l00115"></a>00115         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#a64fe4a0e62e47d9087096b285d6b8d9f">renameFloat</a>(rel_arch_reg);
<a name="l00116"></a>00116 
<a name="l00117"></a>00117       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0a432484d211463d83c5bd364df83f82c2" title="Condition-code register.">CCRegClass</a>:
<a name="l00118"></a>00118         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#a1cebbe11de55db60d7ab86de7dbba6c7">renameCC</a>(rel_arch_reg);
<a name="l00119"></a>00119 
<a name="l00120"></a>00120       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0aed057341e8e2e418632e8a03b42b3f39" title="Control (misc) register.">MiscRegClass</a>:
<a name="l00121"></a>00121         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#a7d34d22eeeecf2193f17c5f6124db3e8">renameMisc</a>(rel_arch_reg);
<a name="l00122"></a>00122 
<a name="l00123"></a>00123       <span class="keywordflow">default</span>:
<a name="l00124"></a>00124         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;rename rename(): unknown reg class %s\n&quot;</span>,
<a name="l00125"></a>00125               <a class="code" href="reg__class_8cc.html#abd784c3d8b8c0aa741f47934de24f1fd" title="Map enum values to strings for debugging.">RegClassStrings</a>[<a class="code" href="reg__class_8hh.html#a275a232e420c9ac198b7f942c885ecf8">regIdxToClass</a>(arch_reg)]);
<a name="l00126"></a>00126     }
<a name="l00127"></a>00127 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1cebbe11de55db60d7ab86de7dbba6c7"></a><!-- doxytag: member="UnifiedRenameMap::renameCC" ref="a1cebbe11de55db60d7ab86de7dbba6c7" args="(RegIndex rel_arch_reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1pair.html">RenameInfo</a> renameCC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>rel_arch_reg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform <a class="el" href="classUnifiedRenameMap.html#a7942f39856cc0a6ba2479855d2a7ab53">rename()</a> on a condition-code register, given a relative condition-code register index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00224"></a>00224     {
<a name="l00225"></a>00225         <a class="code" href="classUnifiedRenameMap.html#a2d31ea626004f32fc5c2aa11da776b42">RenameInfo</a> info = <a class="code" href="classUnifiedRenameMap.html#a763b488cc757601419547ab2420f4fca">ccMap</a>.<a class="code" href="classSimpleRenameMap.html#a18370a31dd17baa3a67d1ce3e0f43885">rename</a>(rel_arch_reg);
<a name="l00226"></a>00226         assert(<a class="code" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a>-&gt;<a class="code" href="classPhysRegFile.html#a781ae6a1156bf528a33e2489664c1dd4">isCCPhysReg</a>(info.first));
<a name="l00227"></a>00227         <span class="keywordflow">return</span> info;
<a name="l00228"></a>00228     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a64fe4a0e62e47d9087096b285d6b8d9f"></a><!-- doxytag: member="UnifiedRenameMap::renameFloat" ref="a64fe4a0e62e47d9087096b285d6b8d9f" args="(RegIndex rel_arch_reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1pair.html">RenameInfo</a> renameFloat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>rel_arch_reg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform <a class="el" href="classUnifiedRenameMap.html#a7942f39856cc0a6ba2479855d2a7ab53">rename()</a> on a floating-point register, given a relative floating-point register index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00213"></a>00213     {
<a name="l00214"></a>00214         <a class="code" href="classUnifiedRenameMap.html#a2d31ea626004f32fc5c2aa11da776b42">RenameInfo</a> info = <a class="code" href="classUnifiedRenameMap.html#a0850a3bd98051c123507bd1d971f5ea5">floatMap</a>.<a class="code" href="classSimpleRenameMap.html#a18370a31dd17baa3a67d1ce3e0f43885">rename</a>(rel_arch_reg);
<a name="l00215"></a>00215         assert(<a class="code" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a>-&gt;<a class="code" href="classPhysRegFile.html#ad4633a6224fc5694bdf2d9558d20501f">isFloatPhysReg</a>(info.first));
<a name="l00216"></a>00216         <span class="keywordflow">return</span> info;
<a name="l00217"></a>00217     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a73e9d8eeeeacc94d05a9cbd8524dc893"></a><!-- doxytag: member="UnifiedRenameMap::renameInt" ref="a73e9d8eeeeacc94d05a9cbd8524dc893" args="(RegIndex rel_arch_reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1pair.html">RenameInfo</a> renameInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>rel_arch_reg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform <a class="el" href="classUnifiedRenameMap.html#a7942f39856cc0a6ba2479855d2a7ab53">rename()</a> on an integer register, given a relative integer register index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00202"></a>00202     {
<a name="l00203"></a>00203         <a class="code" href="classUnifiedRenameMap.html#a2d31ea626004f32fc5c2aa11da776b42">RenameInfo</a> info = <a class="code" href="classUnifiedRenameMap.html#a3133c6b943f6bd39859ab4544cb8099e">intMap</a>.<a class="code" href="classSimpleRenameMap.html#a18370a31dd17baa3a67d1ce3e0f43885">rename</a>(rel_arch_reg);
<a name="l00204"></a>00204         assert(<a class="code" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a>-&gt;<a class="code" href="classPhysRegFile.html#a4484974c71716e3a2e14b8e5207a5002">isIntPhysReg</a>(info.first));
<a name="l00205"></a>00205         <span class="keywordflow">return</span> info;
<a name="l00206"></a>00206     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7d34d22eeeecf2193f17c5f6124db3e8"></a><!-- doxytag: member="UnifiedRenameMap::renameMisc" ref="a7d34d22eeeecf2193f17c5f6124db3e8" args="(RegIndex rel_arch_reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1pair.html">RenameInfo</a> renameMisc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>rel_arch_reg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform <a class="el" href="classUnifiedRenameMap.html#a7942f39856cc0a6ba2479855d2a7ab53">rename()</a> on a misc register, given a relative misc register index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00235"></a>00235     {
<a name="l00236"></a>00236         <span class="comment">// misc regs aren&apos;t really renamed, just remapped</span>
<a name="l00237"></a>00237         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classUnifiedRenameMap.html#aa15bfaea32a01837167598470949c063">lookupMisc</a>(rel_arch_reg);
<a name="l00238"></a>00238         <span class="comment">// Set the previous register to the same register; mainly it must be</span>
<a name="l00239"></a>00239         <span class="comment">// known that the prev reg was outside the range of normal registers</span>
<a name="l00240"></a>00240         <span class="comment">// so the free list can avoid adding it.</span>
<a name="l00241"></a>00241         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#a2d31ea626004f32fc5c2aa11da776b42">RenameInfo</a>(phys_reg, phys_reg);
<a name="l00242"></a>00242     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3d65458af1654ac17ee2ddf445858ba2"></a><!-- doxytag: member="UnifiedRenameMap::setCCEntry" ref="a3d65458af1654ac17ee2ddf445858ba2" args="(RegIndex arch_reg, PhysRegIndex phys_reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setCCEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>arch_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>phys_reg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform <a class="el" href="classUnifiedRenameMap.html#a5c6cad04be83122ff38650d859fbf1d8">setEntry()</a> on a condition-code register, given a relative condition-code register index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00334"></a>00334     {
<a name="l00335"></a>00335         assert(<a class="code" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a>-&gt;<a class="code" href="classPhysRegFile.html#a781ae6a1156bf528a33e2489664c1dd4">isCCPhysReg</a>(phys_reg));
<a name="l00336"></a>00336         <a class="code" href="classUnifiedRenameMap.html#a763b488cc757601419547ab2420f4fca">ccMap</a>.<a class="code" href="classSimpleRenameMap.html#a5c6cad04be83122ff38650d859fbf1d8">setEntry</a>(arch_reg, phys_reg);
<a name="l00337"></a>00337     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5c6cad04be83122ff38650d859fbf1d8"></a><!-- doxytag: member="UnifiedRenameMap::setEntry" ref="a5c6cad04be83122ff38650d859fbf1d8" args="(RegIndex arch_reg, PhysRegIndex phys_reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>arch_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>phys_reg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update rename map with a specific mapping. Generally used to roll back to old mappings on a squash. This version takes a unified flattened architectural register index and calls the appropriate class-specific rename table. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>arch_reg</em>&nbsp;</td><td>The unified architectural register to remap. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>phys_reg</em>&nbsp;</td><td>The physical register to remap it to. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00156"></a>00156 {
<a name="l00157"></a>00157     <a class="code" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> rel_arch_reg;
<a name="l00158"></a>00158 
<a name="l00159"></a>00159     <span class="keywordflow">switch</span> (<a class="code" href="reg__class_8hh.html#a275a232e420c9ac198b7f942c885ecf8">regIdxToClass</a>(arch_reg, &amp;rel_arch_reg)) {
<a name="l00160"></a>00160       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0ab412c1eeaf26e79fee8922d9a479889c" title="Integer register.">IntRegClass</a>:
<a name="l00161"></a>00161         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#a1bd71f7635e3eba4028ce0e9e5f88552">setIntEntry</a>(rel_arch_reg, phys_reg);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0a207a831a62a5c23ac4ac6405378b125e" title="Floating-point register.">FloatRegClass</a>:
<a name="l00164"></a>00164         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#a86eefa45c1ed5ce515d2e8911b3d5a9a">setFloatEntry</a>(rel_arch_reg, phys_reg);
<a name="l00165"></a>00165 
<a name="l00166"></a>00166       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0a432484d211463d83c5bd364df83f82c2" title="Condition-code register.">CCRegClass</a>:
<a name="l00167"></a>00167         <span class="keywordflow">return</span> <a class="code" href="classUnifiedRenameMap.html#a3d65458af1654ac17ee2ddf445858ba2">setCCEntry</a>(rel_arch_reg, phys_reg);
<a name="l00168"></a>00168 
<a name="l00169"></a>00169       <span class="keywordflow">case</span> <a class="code" href="reg__class_8hh.html#a3ed1e3c98353f2cc926e9d2b2a527cc0aed057341e8e2e418632e8a03b42b3f39" title="Control (misc) register.">MiscRegClass</a>:
<a name="l00170"></a>00170         <span class="comment">// Misc registers do not actually rename, so don&apos;t change</span>
<a name="l00171"></a>00171         <span class="comment">// their mappings.  We end up here when a commit or squash</span>
<a name="l00172"></a>00172         <span class="comment">// tries to update or undo a hardwired misc reg nmapping,</span>
<a name="l00173"></a>00173         <span class="comment">// which should always be setting it to what it already is.</span>
<a name="l00174"></a>00174         assert(phys_reg == <a class="code" href="classUnifiedRenameMap.html#aa15bfaea32a01837167598470949c063">lookupMisc</a>(rel_arch_reg));
<a name="l00175"></a>00175         <span class="keywordflow">return</span>;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177       <span class="keywordflow">default</span>:
<a name="l00178"></a>00178         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;rename setEntry(): unknown reg class %s\n&quot;</span>,
<a name="l00179"></a>00179               <a class="code" href="reg__class_8cc.html#abd784c3d8b8c0aa741f47934de24f1fd" title="Map enum values to strings for debugging.">RegClassStrings</a>[<a class="code" href="reg__class_8hh.html#a275a232e420c9ac198b7f942c885ecf8">regIdxToClass</a>(arch_reg)]);
<a name="l00180"></a>00180     }
<a name="l00181"></a>00181 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a86eefa45c1ed5ce515d2e8911b3d5a9a"></a><!-- doxytag: member="UnifiedRenameMap::setFloatEntry" ref="a86eefa45c1ed5ce515d2e8911b3d5a9a" args="(RegIndex arch_reg, PhysRegIndex phys_reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setFloatEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>arch_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>phys_reg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform <a class="el" href="classUnifiedRenameMap.html#a5c6cad04be83122ff38650d859fbf1d8">setEntry()</a> on a floating-point register, given a relative floating-point register index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00324"></a>00324     {
<a name="l00325"></a>00325         assert(<a class="code" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a>-&gt;<a class="code" href="classPhysRegFile.html#ad4633a6224fc5694bdf2d9558d20501f">isFloatPhysReg</a>(phys_reg));
<a name="l00326"></a>00326         <a class="code" href="classUnifiedRenameMap.html#a0850a3bd98051c123507bd1d971f5ea5">floatMap</a>.<a class="code" href="classSimpleRenameMap.html#a5c6cad04be83122ff38650d859fbf1d8">setEntry</a>(arch_reg, phys_reg);
<a name="l00327"></a>00327     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1bd71f7635e3eba4028ce0e9e5f88552"></a><!-- doxytag: member="UnifiedRenameMap::setIntEntry" ref="a1bd71f7635e3eba4028ce0e9e5f88552" args="(RegIndex arch_reg, PhysRegIndex phys_reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setIntEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnifiedRenameMap.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>arch_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>phys_reg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform <a class="el" href="classUnifiedRenameMap.html#a5c6cad04be83122ff38650d859fbf1d8">setEntry()</a> on an integer register, given a relative integer register index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00314"></a>00314     {
<a name="l00315"></a>00315         assert(<a class="code" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a>-&gt;<a class="code" href="classPhysRegFile.html#a4484974c71716e3a2e14b8e5207a5002">isIntPhysReg</a>(phys_reg));
<a name="l00316"></a>00316         <a class="code" href="classUnifiedRenameMap.html#a3133c6b943f6bd39859ab4544cb8099e">intMap</a>.<a class="code" href="classSimpleRenameMap.html#a5c6cad04be83122ff38650d859fbf1d8">setEntry</a>(arch_reg, phys_reg);
<a name="l00317"></a>00317     }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a763b488cc757601419547ab2420f4fca"></a><!-- doxytag: member="UnifiedRenameMap::ccMap" ref="a763b488cc757601419547ab2420f4fca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimpleRenameMap.html">SimpleRenameMap</a> <a class="el" href="classUnifiedRenameMap.html#a763b488cc757601419547ab2420f4fca">ccMap</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The condition-code register rename map </p>

</div>
</div>
<a class="anchor" id="a0850a3bd98051c123507bd1d971f5ea5"></a><!-- doxytag: member="UnifiedRenameMap::floatMap" ref="a0850a3bd98051c123507bd1d971f5ea5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimpleRenameMap.html">SimpleRenameMap</a> <a class="el" href="classUnifiedRenameMap.html#a0850a3bd98051c123507bd1d971f5ea5">floatMap</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The floating-point register rename map </p>

</div>
</div>
<a class="anchor" id="a3133c6b943f6bd39859ab4544cb8099e"></a><!-- doxytag: member="UnifiedRenameMap::intMap" ref="a3133c6b943f6bd39859ab4544cb8099e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimpleRenameMap.html">SimpleRenameMap</a> <a class="el" href="classUnifiedRenameMap.html#a3133c6b943f6bd39859ab4544cb8099e">intMap</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The integer register rename map </p>

</div>
</div>
<a class="anchor" id="a1cb63957414a6c5533e779b0e6e68dd7"></a><!-- doxytag: member="UnifiedRenameMap::regFile" ref="a1cb63957414a6c5533e779b0e6e68dd7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPhysRegFile.html">PhysRegFile</a>* <a class="el" href="classUnifiedRenameMap.html#a1cb63957414a6c5533e779b0e6e68dd7">regFile</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The register file object is used only to distinguish integer from floating-point physical register indices, which in turn is used only for assert statements that make sure the physical register indices that get passed in and handed out are of the proper class. </p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>cpu/o3/<a class="el" href="rename__map_8hh_source.html">rename_map.hh</a></li>
<li>cpu/o3/<a class="el" href="rename__map_8cc.html">rename_map.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
