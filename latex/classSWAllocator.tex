\hypertarget{classSWAllocator}{
\section{クラス SWAllocator}
\label{classSWAllocator}\index{SWAllocator@{SWAllocator}}
}


{\ttfamily \#include $<$SWAllocator.hh$>$}\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSWAllocator_a0d874d3eda86d00f6c979ad2c87c6414}{$\sim$SWAllocator} ()
\item 
double \hyperlink{classSWAllocator_a254acb37b83be6191773cfccdc726ca3}{get\_\-dynamic\_\-energy\_\-local\_\-sw\_\-arb} (double num\_\-req\_\-, bool is\_\-max\_\-) const 
\item 
double \hyperlink{classSWAllocator_a93eb1da62d2bce50a4b86903183e801e}{get\_\-dynamic\_\-energy\_\-global\_\-sw\_\-arb} (double num\_\-req\_\-, bool is\_\-max\_\-) const 
\item 
double \hyperlink{classSWAllocator_aeb5933543cfdeb1668baed5ce7c68351}{get\_\-static\_\-power} () const 
\item 
void \hyperlink{classSWAllocator_a8404831790e4809674f0249ef6505cd5}{print\_\-all} () const 
\end{DoxyCompactItemize}
\subsection*{Static Public メソッド}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classSWAllocator}{SWAllocator} $\ast$ \hyperlink{classSWAllocator_a3f85ab25a936f7b8df905a7822e755d2}{create\_\-swallocator} (\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} num\_\-in\_\-port\_\-, \hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} num\_\-out\_\-port\_\-, \hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} num\_\-vclass\_\-, \hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} num\_\-vchannel\_\-, const \hyperlink{classCrossbar}{Crossbar} $\ast$xbar\_\-ptr\_\-, const \hyperlink{classOrionConfig}{OrionConfig} $\ast$orion\_\-cfg\_\-ptr\_\-)
\end{DoxyCompactItemize}
\subsection*{Protected メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSWAllocator_a658f3c3ccc639bbbdd0b35825d28d381}{SWAllocator} (\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} num\_\-in\_\-port\_\-, \hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} num\_\-out\_\-port\_\-, \hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} num\_\-vclass\_\-, \hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} num\_\-vchannel\_\-, double len\_\-in\_\-wire\_\-, const string \&local\_\-arb\_\-model\_\-str\_\-, const string \&local\_\-arb\_\-ff\_\-model\_\-str\_\-, const string \&global\_\-arb\_\-model\_\-str\_\-, const string \&global\_\-arb\_\-ff\_\-model\_\-str\_\-, const \hyperlink{classTechParameter}{TechParameter} $\ast$tech\_\-param\_\-ptr\_\-)
\item 
void \hyperlink{classSWAllocator_a02fd73d861ef2e4aabb38c0c9ff82947}{init} ()
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \hyperlink{classSWAllocator_aac6d2a4ff86073212e8ef4ac53742ddc}{m\_\-num\_\-in\_\-port}
\item 
\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \hyperlink{classSWAllocator_a56cb909217f28866d2a08a40adb3ef08}{m\_\-num\_\-out\_\-port}
\item 
\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \hyperlink{classSWAllocator_ac6cc31c075b331538b0aaa0bb593b2e3}{m\_\-num\_\-vclass}
\item 
\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \hyperlink{classSWAllocator_ac0b1d8a0523e7c7ce285c7917a764c9f}{m\_\-num\_\-vchannel}
\item 
\hyperlink{classArbiter}{Arbiter} $\ast$ \hyperlink{classSWAllocator_a3fec644111569687c929cb731f8b34b6}{m\_\-local\_\-arb\_\-ptr}
\item 
\hyperlink{classArbiter}{Arbiter} $\ast$ \hyperlink{classSWAllocator_a6d083f13327cb48999835d4710329be8}{m\_\-global\_\-arb\_\-ptr}
\end{DoxyCompactItemize}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classSWAllocator_a658f3c3ccc639bbbdd0b35825d28d381}{
\index{SWAllocator@{SWAllocator}!SWAllocator@{SWAllocator}}
\index{SWAllocator@{SWAllocator}!SWAllocator@{SWAllocator}}
\subsubsection[{SWAllocator}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SWAllocator} ({\bf uint32\_\-t} {\em num\_\-in\_\-port\_\-}, \/  {\bf uint32\_\-t} {\em num\_\-out\_\-port\_\-}, \/  {\bf uint32\_\-t} {\em num\_\-vclass\_\-}, \/  {\bf uint32\_\-t} {\em num\_\-vchannel\_\-}, \/  double {\em len\_\-in\_\-wire\_\-}, \/  const string \& {\em local\_\-arb\_\-model\_\-str\_\-}, \/  const string \& {\em local\_\-arb\_\-ff\_\-model\_\-str\_\-}, \/  const string \& {\em global\_\-arb\_\-model\_\-str\_\-}, \/  const string \& {\em global\_\-arb\_\-ff\_\-model\_\-str\_\-}, \/  const {\bf TechParameter} $\ast$ {\em tech\_\-param\_\-ptr\_\-})\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classSWAllocator_a658f3c3ccc639bbbdd0b35825d28d381}



\begin{DoxyCode}
58 {
59     assert(num_in_port_ == num_in_port_);
60     assert(num_out_port_ == num_out_port_);
61     assert(num_vclass_ == num_vclass_);
62     assert(num_vchannel_ == num_vchannel_);
63     assert(len_in_wire_ == len_in_wire_);
64 
65     m_num_in_port = num_in_port_;
66     m_num_out_port = num_out_port_;
67     m_num_vclass = num_vclass_;
68     m_num_vchannel = num_vchannel_;
69 
70     if ((m_num_vclass*m_num_vchannel) > 1)
71     {
72         m_local_arb_ptr = Arbiter::create_arbiter(
73                 local_arb_model_str_, local_arb_ff_model_str_,
74                 m_num_vclass*m_num_vchannel, 0, tech_param_ptr_);
75     }
76     else
77     {
78         m_local_arb_ptr = NULL;
79     }
80 
81     if (m_num_in_port > 2)
82     {
83         m_global_arb_ptr = Arbiter::create_arbiter(
84                 global_arb_model_str_, global_arb_ff_model_str_,
85                 m_num_in_port-1, len_in_wire_, tech_param_ptr_);
86     }
87     else
88     {
89         m_global_arb_ptr = NULL;
90     }
91 }
\end{DoxyCode}
\hypertarget{classSWAllocator_a0d874d3eda86d00f6c979ad2c87c6414}{
\index{SWAllocator@{SWAllocator}!$\sim$SWAllocator@{$\sim$SWAllocator}}
\index{$\sim$SWAllocator@{$\sim$SWAllocator}!SWAllocator@{SWAllocator}}
\subsubsection[{$\sim$SWAllocator}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf SWAllocator} ()}}
\label{classSWAllocator_a0d874d3eda86d00f6c979ad2c87c6414}



\begin{DoxyCode}
94 {}
\end{DoxyCode}


\subsection{関数}
\hypertarget{classSWAllocator_a3f85ab25a936f7b8df905a7822e755d2}{
\index{SWAllocator@{SWAllocator}!create\_\-swallocator@{create\_\-swallocator}}
\index{create\_\-swallocator@{create\_\-swallocator}!SWAllocator@{SWAllocator}}
\subsubsection[{create\_\-swallocator}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SWAllocator} $\ast$ create\_\-swallocator ({\bf uint32\_\-t} {\em num\_\-in\_\-port\_\-}, \/  {\bf uint32\_\-t} {\em num\_\-out\_\-port\_\-}, \/  {\bf uint32\_\-t} {\em num\_\-vclass\_\-}, \/  {\bf uint32\_\-t} {\em num\_\-vchannel\_\-}, \/  const {\bf Crossbar} $\ast$ {\em xbar\_\-ptr\_\-}, \/  const {\bf OrionConfig} $\ast$ {\em orion\_\-cfg\_\-ptr\_\-})\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classSWAllocator_a3f85ab25a936f7b8df905a7822e755d2}



\begin{DoxyCode}
165 {
166     double len_in_wire = xbar_ptr_->get_len_req_wire();
167     const string& local_arb_model_str = orion_cfg_ptr_->get<string>("SA_IN_ARB_MO
      DEL");
168     const string& local_arb_ff_model_str = orion_cfg_ptr_->get<string>("SA_IN_ARB
      _FF_MODEL");
169     const string& global_arb_model_str = orion_cfg_ptr_->get<string>("SA_OUT_ARB_
      MODEL");
170     const string& global_arb_ff_model_str = orion_cfg_ptr_->get<string>("SA_OUT_A
      RB_FF_MODEL");
171     const TechParameter* tech_param_ptr = orion_cfg_ptr_->get_tech_param_ptr();
172     return new SWAllocator(num_in_port_, num_out_port_, num_vclass_, num_vchannel
      _, 
173             len_in_wire, local_arb_model_str, local_arb_ff_model_str, 
174             global_arb_model_str, global_arb_ff_model_str,tech_param_ptr);
175 }
\end{DoxyCode}
\hypertarget{classSWAllocator_a93eb1da62d2bce50a4b86903183e801e}{
\index{SWAllocator@{SWAllocator}!get\_\-dynamic\_\-energy\_\-global\_\-sw\_\-arb@{get\_\-dynamic\_\-energy\_\-global\_\-sw\_\-arb}}
\index{get\_\-dynamic\_\-energy\_\-global\_\-sw\_\-arb@{get\_\-dynamic\_\-energy\_\-global\_\-sw\_\-arb}!SWAllocator@{SWAllocator}}
\subsubsection[{get\_\-dynamic\_\-energy\_\-global\_\-sw\_\-arb}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-dynamic\_\-energy\_\-global\_\-sw\_\-arb (double {\em num\_\-req\_\-}, \/  bool {\em is\_\-max\_\-}) const}}
\label{classSWAllocator_a93eb1da62d2bce50a4b86903183e801e}



\begin{DoxyCode}
108 {
109     double e_global_arb = 0;
110 
111     if (m_global_arb_ptr)
112     {
113         e_global_arb = m_global_arb_ptr->calc_dynamic_energy(num_req_, is_max_);
114     }
115     return e_global_arb;
116 }
\end{DoxyCode}
\hypertarget{classSWAllocator_a254acb37b83be6191773cfccdc726ca3}{
\index{SWAllocator@{SWAllocator}!get\_\-dynamic\_\-energy\_\-local\_\-sw\_\-arb@{get\_\-dynamic\_\-energy\_\-local\_\-sw\_\-arb}}
\index{get\_\-dynamic\_\-energy\_\-local\_\-sw\_\-arb@{get\_\-dynamic\_\-energy\_\-local\_\-sw\_\-arb}!SWAllocator@{SWAllocator}}
\subsubsection[{get\_\-dynamic\_\-energy\_\-local\_\-sw\_\-arb}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-dynamic\_\-energy\_\-local\_\-sw\_\-arb (double {\em num\_\-req\_\-}, \/  bool {\em is\_\-max\_\-}) const}}
\label{classSWAllocator_a254acb37b83be6191773cfccdc726ca3}



\begin{DoxyCode}
97 {
98     double e_local_arb = 0;
99 
100     if (m_local_arb_ptr)
101     {
102         e_local_arb = m_local_arb_ptr->calc_dynamic_energy(num_req_, is_max_);
103     }
104     return e_local_arb;
105 }
\end{DoxyCode}
\hypertarget{classSWAllocator_aeb5933543cfdeb1668baed5ce7c68351}{
\index{SWAllocator@{SWAllocator}!get\_\-static\_\-power@{get\_\-static\_\-power}}
\index{get\_\-static\_\-power@{get\_\-static\_\-power}!SWAllocator@{SWAllocator}}
\subsubsection[{get\_\-static\_\-power}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-static\_\-power () const}}
\label{classSWAllocator_aeb5933543cfdeb1668baed5ce7c68351}



\begin{DoxyCode}
119 {
120     double p_va = 0;
121 
122     if (m_local_arb_ptr)
123     {
124         // FIXME: might not be m_num_in_port;
125         p_va += m_local_arb_ptr->get_static_power()*m_num_in_port;
126     }
127     if (m_global_arb_ptr)
128     {
129         p_va += m_global_arb_ptr->get_static_power()*m_num_out_port;
130     }
131     return p_va;
132 }
\end{DoxyCode}
\hypertarget{classSWAllocator_a02fd73d861ef2e4aabb38c0c9ff82947}{
\index{SWAllocator@{SWAllocator}!init@{init}}
\index{init@{init}!SWAllocator@{SWAllocator}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void init ()\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classSWAllocator_a02fd73d861ef2e4aabb38c0c9ff82947}
\hypertarget{classSWAllocator_a8404831790e4809674f0249ef6505cd5}{
\index{SWAllocator@{SWAllocator}!print\_\-all@{print\_\-all}}
\index{print\_\-all@{print\_\-all}!SWAllocator@{SWAllocator}}
\subsubsection[{print\_\-all}]{\setlength{\rightskip}{0pt plus 5cm}void print\_\-all () const}}
\label{classSWAllocator_a8404831790e4809674f0249ef6505cd5}



\begin{DoxyCode}
135 {
136     cout << "SWAllocator:" << endl;
137     if (m_local_arb_ptr)
138     {
139         for (uint32_t i = 0; i < m_num_vclass*m_num_vchannel; i++)
140         {
141             cout << "\t" << "Local arb (" << i << ") = " << 
      get_dynamic_energy_local_sw_arb(i, false) << endl;
142         }
143     }
144 
145     if (m_global_arb_ptr)
146     {
147         for (uint32_t i = 0; i < m_num_in_port-1; i++)
148         {
149             cout << "\t" << "Global arb (" << i << ") = " << 
      get_dynamic_energy_global_sw_arb(i, false) << endl;
150         }
151     }
152 
153     cout << "\t" << "Static power = " << get_static_power() << endl;
154     return;
155 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classSWAllocator_a6d083f13327cb48999835d4710329be8}{
\index{SWAllocator@{SWAllocator}!m\_\-global\_\-arb\_\-ptr@{m\_\-global\_\-arb\_\-ptr}}
\index{m\_\-global\_\-arb\_\-ptr@{m\_\-global\_\-arb\_\-ptr}!SWAllocator@{SWAllocator}}
\subsubsection[{m\_\-global\_\-arb\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Arbiter}$\ast$ {\bf m\_\-global\_\-arb\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classSWAllocator_a6d083f13327cb48999835d4710329be8}
\hypertarget{classSWAllocator_a3fec644111569687c929cb731f8b34b6}{
\index{SWAllocator@{SWAllocator}!m\_\-local\_\-arb\_\-ptr@{m\_\-local\_\-arb\_\-ptr}}
\index{m\_\-local\_\-arb\_\-ptr@{m\_\-local\_\-arb\_\-ptr}!SWAllocator@{SWAllocator}}
\subsubsection[{m\_\-local\_\-arb\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Arbiter}$\ast$ {\bf m\_\-local\_\-arb\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classSWAllocator_a3fec644111569687c929cb731f8b34b6}
\hypertarget{classSWAllocator_aac6d2a4ff86073212e8ef4ac53742ddc}{
\index{SWAllocator@{SWAllocator}!m\_\-num\_\-in\_\-port@{m\_\-num\_\-in\_\-port}}
\index{m\_\-num\_\-in\_\-port@{m\_\-num\_\-in\_\-port}!SWAllocator@{SWAllocator}}
\subsubsection[{m\_\-num\_\-in\_\-port}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\_\-t} {\bf m\_\-num\_\-in\_\-port}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classSWAllocator_aac6d2a4ff86073212e8ef4ac53742ddc}
\hypertarget{classSWAllocator_a56cb909217f28866d2a08a40adb3ef08}{
\index{SWAllocator@{SWAllocator}!m\_\-num\_\-out\_\-port@{m\_\-num\_\-out\_\-port}}
\index{m\_\-num\_\-out\_\-port@{m\_\-num\_\-out\_\-port}!SWAllocator@{SWAllocator}}
\subsubsection[{m\_\-num\_\-out\_\-port}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\_\-t} {\bf m\_\-num\_\-out\_\-port}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classSWAllocator_a56cb909217f28866d2a08a40adb3ef08}
\hypertarget{classSWAllocator_ac0b1d8a0523e7c7ce285c7917a764c9f}{
\index{SWAllocator@{SWAllocator}!m\_\-num\_\-vchannel@{m\_\-num\_\-vchannel}}
\index{m\_\-num\_\-vchannel@{m\_\-num\_\-vchannel}!SWAllocator@{SWAllocator}}
\subsubsection[{m\_\-num\_\-vchannel}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\_\-t} {\bf m\_\-num\_\-vchannel}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classSWAllocator_ac0b1d8a0523e7c7ce285c7917a764c9f}
\hypertarget{classSWAllocator_ac6cc31c075b331538b0aaa0bb593b2e3}{
\index{SWAllocator@{SWAllocator}!m\_\-num\_\-vclass@{m\_\-num\_\-vclass}}
\index{m\_\-num\_\-vclass@{m\_\-num\_\-vclass}!SWAllocator@{SWAllocator}}
\subsubsection[{m\_\-num\_\-vclass}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\_\-t} {\bf m\_\-num\_\-vclass}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classSWAllocator_ac6cc31c075b331538b0aaa0bb593b2e3}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/ruby/network/orion/Allocator/\hyperlink{SWAllocator_8hh}{SWAllocator.hh}\item 
mem/ruby/network/orion/Allocator/\hyperlink{SWAllocator_8cc}{SWAllocator.cc}\end{DoxyCompactItemize}
