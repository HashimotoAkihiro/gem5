\hypertarget{classArmISA_1_1UndefinedInstruction}{
\section{クラス UndefinedInstruction}
\label{classArmISA_1_1UndefinedInstruction}\index{ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}}
}


{\ttfamily \#include $<$faults.hh$>$}UndefinedInstructionに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5cm]{classArmISA_1_1UndefinedInstruction}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classArmISA_1_1UndefinedInstruction_a4896cdc6731c9fc601e3d5ce8ca26c6e}{UndefinedInstruction} (ExtMachInst \_\-machInst, bool \_\-unknown, const char $\ast$\_\-mnemonic=NULL, bool \_\-disabled=false)
\item 
\hyperlink{classArmISA_1_1UndefinedInstruction_a5eb139880bd865099005b05ea572a0a8}{UndefinedInstruction} (ExtMachInst \_\-machInst, \hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \_\-iss, \hyperlink{namespaceArmISA_a04034d12009cf36227f4d2abff3331a2}{ExceptionClass} \_\-overrideEc, const char $\ast$\_\-mnemonic=NULL)
\item 
void \hyperlink{classArmISA_1_1UndefinedInstruction_a2bd783b42262278d41157d428e1f8d6f}{invoke} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{namespaceArmISA_a5aff829af55e65b802d83dfcef4e9dd0}{tc}, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst=\hyperlink{classStaticInst_aa793d9793af735f09096369fb17567b6}{StaticInst::nullStaticInstPtr})
\item 
bool \hyperlink{classArmISA_1_1UndefinedInstruction_a16facd13ba8e6d15d2b865882c379d5f}{routeToHyp} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{namespaceArmISA_a5aff829af55e65b802d83dfcef4e9dd0}{tc}) const 
\item 
\hyperlink{namespaceArmISA_a04034d12009cf36227f4d2abff3331a2}{ExceptionClass} \hyperlink{classArmISA_1_1UndefinedInstruction_aefab73b22a74d7c48b8a23230906d7cd}{ec} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{namespaceArmISA_a5aff829af55e65b802d83dfcef4e9dd0}{tc}) const 
\item 
\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \hyperlink{classArmISA_1_1UndefinedInstruction_a54f4d33ac162a95fd5b3830cf7fab8ff}{iss} () const 
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classArmISA_1_1UndefinedInstruction_ac160cc61da581bdcf075273493b9f156}{unknown}
\item 
bool \hyperlink{classArmISA_1_1UndefinedInstruction_a4295e1a543aa3694e2987c6731c226ad}{disabled}
\item 
\hyperlink{namespaceArmISA_a04034d12009cf36227f4d2abff3331a2}{ExceptionClass} \hyperlink{classArmISA_1_1UndefinedInstruction_af5e67d95019a0b5aba4c42205567eda7}{overrideEc}
\item 
const char $\ast$ \hyperlink{classArmISA_1_1UndefinedInstruction_adfacb526b8ab378bf36f1324303635d0}{mnemonic}
\end{DoxyCompactItemize}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classArmISA_1_1UndefinedInstruction_a4896cdc6731c9fc601e3d5ce8ca26c6e}{
\index{ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}!UndefinedInstruction@{UndefinedInstruction}}
\index{UndefinedInstruction@{UndefinedInstruction}!ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}}
\subsubsection[{UndefinedInstruction}]{\setlength{\rightskip}{0pt plus 5cm}{\bf UndefinedInstruction} (ExtMachInst {\em \_\-machInst}, \/  bool {\em \_\-unknown}, \/  const char $\ast$ {\em \_\-mnemonic} = {\ttfamily NULL}, \/  bool {\em \_\-disabled} = {\ttfamily false})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classArmISA_1_1UndefinedInstruction_a4896cdc6731c9fc601e3d5ce8ca26c6e}



\begin{DoxyCode}
268                                                  :
269         ArmFaultVals<UndefinedInstruction>(_machInst),
270         unknown(_unknown), disabled(_disabled),
271         overrideEc(EC_INVALID), mnemonic(_mnemonic)
272     {}
    UndefinedInstruction(ExtMachInst _machInst, uint32_t _iss,
\end{DoxyCode}
\hypertarget{classArmISA_1_1UndefinedInstruction_a5eb139880bd865099005b05ea572a0a8}{
\index{ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}!UndefinedInstruction@{UndefinedInstruction}}
\index{UndefinedInstruction@{UndefinedInstruction}!ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}}
\subsubsection[{UndefinedInstruction}]{\setlength{\rightskip}{0pt plus 5cm}{\bf UndefinedInstruction} (ExtMachInst {\em \_\-machInst}, \/  {\bf uint32\_\-t} {\em \_\-iss}, \/  {\bf ExceptionClass} {\em \_\-overrideEc}, \/  const char $\ast$ {\em \_\-mnemonic} = {\ttfamily NULL})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classArmISA_1_1UndefinedInstruction_a5eb139880bd865099005b05ea572a0a8}



\begin{DoxyCode}
274                                                                       :
275         ArmFaultVals<UndefinedInstruction>(_machInst, _iss),
276         unknown(false), disabled(true), overrideEc(_overrideEc),
277         mnemonic(_mnemonic)
278     {}

\end{DoxyCode}


\subsection{関数}
\hypertarget{classArmISA_1_1UndefinedInstruction_aefab73b22a74d7c48b8a23230906d7cd}{
\index{ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}!ec@{ec}}
\index{ec@{ec}!ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}}
\subsubsection[{ec}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ExceptionClass} ec ({\bf ThreadContext} $\ast$ {\em tc}) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classArmISA_1_1UndefinedInstruction_aefab73b22a74d7c48b8a23230906d7cd}


\hyperlink{classArmISA_1_1ArmFaultVals_aa4dd5fb47a1253dbe17e692e905a8c7c}{ArmFaultVals$<$ UndefinedInstruction $>$}を再定義しています。


\begin{DoxyCode}
836 {
837     return (overrideEc != EC_INVALID) ? overrideEc : vals.ec;
838 }
\end{DoxyCode}
\hypertarget{classArmISA_1_1UndefinedInstruction_a2bd783b42262278d41157d428e1f8d6f}{
\index{ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}!invoke@{invoke}}
\index{invoke@{invoke}!ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}}
\subsubsection[{invoke}]{\setlength{\rightskip}{0pt plus 5cm}void invoke ({\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf StaticInstPtr} {\em inst} = {\ttfamily {\bf StaticInst::nullStaticInstPtr}})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classArmISA_1_1UndefinedInstruction_a2bd783b42262278d41157d428e1f8d6f}


\hyperlink{classArmISA_1_1ArmFault_a2bd783b42262278d41157d428e1f8d6f}{ArmFault}を再定義しています。


\begin{DoxyCode}
710 {
711     if (FullSystem) {
712         ArmFault::invoke(tc, inst);
713         return;
714     }
715 
716     // If the mnemonic isn't defined this has to be an unknown instruction.
717     assert(unknown || mnemonic != NULL);
718     if (disabled) {
719         panic("Attempted to execute disabled instruction "
720                 "'%s' (inst 0x%08x)", mnemonic, machInst);
721     } else if (unknown) {
722         panic("Attempted to execute unknown instruction (inst 0x%08x)",
723               machInst);
724     } else {
725         panic("Attempted to execute unimplemented instruction "
726                 "'%s' (inst 0x%08x)", mnemonic, machInst);
727     }
728 }
\end{DoxyCode}
\hypertarget{classArmISA_1_1UndefinedInstruction_a54f4d33ac162a95fd5b3830cf7fab8ff}{
\index{ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}!iss@{iss}}
\index{iss@{iss}!ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}}
\subsubsection[{iss}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\_\-t} iss () const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classArmISA_1_1UndefinedInstruction_a54f4d33ac162a95fd5b3830cf7fab8ff}


\hyperlink{classArmISA_1_1ArmFaultVals_a1049bf31f8df10c66994603055cf531d}{ArmFaultVals$<$ UndefinedInstruction $>$}を再定義しています。


\begin{DoxyCode}
748 {
749     if (overrideEc == EC_INVALID)
750         return issRaw;
751 
752     uint32_t new_iss = 0;
753     uint32_t op0, op1, op2, CRn, CRm, Rt, dir;
754 
755     dir = bits(machInst, 21, 21);
756     op0 = bits(machInst, 20, 19);
757     op1 = bits(machInst, 18, 16);
758     CRn = bits(machInst, 15, 12);
759     CRm = bits(machInst, 11, 8);
760     op2 = bits(machInst, 7, 5);
761     Rt = bits(machInst, 4, 0);
762 
763     new_iss = op0 << 20 | op2 << 17 | op1 << 14 | CRn << 10 |
764             Rt << 5 | CRm << 1 | dir;
765 
766     return new_iss;
767 }
\end{DoxyCode}
\hypertarget{classArmISA_1_1UndefinedInstruction_a16facd13ba8e6d15d2b865882c379d5f}{
\index{ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}!routeToHyp@{routeToHyp}}
\index{routeToHyp@{routeToHyp}!ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}}
\subsubsection[{routeToHyp}]{\setlength{\rightskip}{0pt plus 5cm}bool routeToHyp ({\bf ThreadContext} $\ast$ {\em tc}) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classArmISA_1_1UndefinedInstruction_a16facd13ba8e6d15d2b865882c379d5f}


\hyperlink{classArmISA_1_1ArmFault_a6fa7b734487c2a8da04a28ace414a355}{ArmFault}を再定義しています。


\begin{DoxyCode}
732 {
733     bool toHyp;
734 
735     SCR  scr  = tc->readMiscRegNoEffect(MISCREG_SCR);
736     HCR  hcr  = tc->readMiscRegNoEffect(MISCREG_HCR);
737     CPSR cpsr = tc->readMiscRegNoEffect(MISCREG_CPSR);
738 
739     // if in Hyp mode then stay in Hyp mode
740     toHyp  = scr.ns && (cpsr.mode == MODE_HYP);
741     // if HCR.TGE is set to 1, take to Hyp mode through Hyp Trap vector
742     toHyp |= !inSecureState(scr, cpsr) && hcr.tge && (cpsr.mode == MODE_USER);
743     return toHyp;
744 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classArmISA_1_1UndefinedInstruction_a4295e1a543aa3694e2987c6731c226ad}{
\index{ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}!disabled@{disabled}}
\index{disabled@{disabled}!ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}}
\subsubsection[{disabled}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf disabled}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classArmISA_1_1UndefinedInstruction_a4295e1a543aa3694e2987c6731c226ad}
\hypertarget{classArmISA_1_1UndefinedInstruction_adfacb526b8ab378bf36f1324303635d0}{
\index{ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}!mnemonic@{mnemonic}}
\index{mnemonic@{mnemonic}!ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}}
\subsubsection[{mnemonic}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ {\bf mnemonic}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classArmISA_1_1UndefinedInstruction_adfacb526b8ab378bf36f1324303635d0}
\hypertarget{classArmISA_1_1UndefinedInstruction_af5e67d95019a0b5aba4c42205567eda7}{
\index{ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}!overrideEc@{overrideEc}}
\index{overrideEc@{overrideEc}!ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}}
\subsubsection[{overrideEc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ExceptionClass} {\bf overrideEc}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classArmISA_1_1UndefinedInstruction_af5e67d95019a0b5aba4c42205567eda7}
\hypertarget{classArmISA_1_1UndefinedInstruction_ac160cc61da581bdcf075273493b9f156}{
\index{ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}!unknown@{unknown}}
\index{unknown@{unknown}!ArmISA::UndefinedInstruction@{ArmISA::UndefinedInstruction}}
\subsubsection[{unknown}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf unknown}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classArmISA_1_1UndefinedInstruction_ac160cc61da581bdcf075273493b9f156}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
arch/arm/\hyperlink{arch_2arm_2faults_8hh}{faults.hh}\item 
arch/arm/\hyperlink{arch_2arm_2faults_8cc}{faults.cc}\end{DoxyCompactItemize}
