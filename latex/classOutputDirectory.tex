\hypertarget{classOutputDirectory}{
\section{クラス OutputDirectory}
\label{classOutputDirectory}\index{OutputDirectory@{OutputDirectory}}
}


{\ttfamily \#include $<$output.hh$>$}\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classOutputDirectory_a0ccc7a2d2bdd34073949e2fbccb58a3b}{OutputDirectory} ()
\item 
\hyperlink{classOutputDirectory_a9257cd7515c7b1a88a4de758c2f00d46}{$\sim$OutputDirectory} ()
\item 
std::string \hyperlink{classOutputDirectory_abfb043ef04e73fe88fb002c53447a348}{resolve} (const std::string \&name) const 
\item 
std::ostream $\ast$ \hyperlink{classOutputDirectory_a7539f53b63a43ef7cf4df2a38b891a2e}{openFile} (const std::string \&filename, std::ios\_\-base::openmode mode=std::ios::trunc)
\item 
void \hyperlink{classOutputDirectory_a3133e5972e0fa144664a06a665c01e74}{setDirectory} (const std::string \&\hyperlink{classOutputDirectory_ae1eb8abe7f66572b89cc139ca0c841ac}{dir})
\item 
const std::string \& \hyperlink{classOutputDirectory_a89b2e59c89cc0aa42fdcdf8a6440656e}{directory} () const 
\item 
std::ostream $\ast$ \hyperlink{classOutputDirectory_a22e4aa8ec29a265a1c299a1a009c85cc}{create} (const std::string \&name, bool binary=false)
\item 
void \hyperlink{classOutputDirectory_a3cc929ea4ca094903ac826046d510634}{close} (std::ostream $\ast$openStream)
\item 
std::ostream $\ast$ \hyperlink{classOutputDirectory_a4b6800ca94a140ee14fcdb169be55027}{find} (const std::string \&name) const 
\item 
bool \hyperlink{classOutputDirectory_aef33355da98c5680209c66135f10ad2f}{isFile} (const std::string \&name) const 
\item 
std::string \hyperlink{classOutputDirectory_ac2ac87b6b1da98eb0f0fdb2ecbc34c6f}{createSubdirectory} (const std::string \&name) const 
\item 
void \hyperlink{classOutputDirectory_a6eb2aac9c800b6ab1640ec5d8e0bdec1}{remove} (const std::string \&name, bool recursive=false)
\end{DoxyCompactItemize}
\subsection*{Static Public メソッド}
\begin{DoxyCompactItemize}
\item 
static bool \hyperlink{classOutputDirectory_ae3bf295c9f17497408567e6998762d10}{isFile} (const std::ostream $\ast$os)
\item 
static bool \hyperlink{classOutputDirectory_acff271d62941cd7e36ece902ad929692}{isFile} (const std::ostream \&os)
\end{DoxyCompactItemize}
\subsection*{Protected メソッド}
\begin{DoxyCompactItemize}
\item 
std::ostream $\ast$ \hyperlink{classOutputDirectory_ab4edf1444be4d8d0a64a0361e1f555d9}{checkForStdio} (const std::string \&name) const 
\end{DoxyCompactItemize}
\subsection*{Private 型}
\begin{DoxyCompactItemize}
\item 
typedef std::map$<$ std::string, std::ostream $\ast$ $>$ \hyperlink{classOutputDirectory_a45c5e1cccd11ddd0103631655703d5e2}{map\_\-t}
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classOutputDirectory_a45c5e1cccd11ddd0103631655703d5e2}{map\_\-t} \hyperlink{classOutputDirectory_a79dfc0070f515bcd2cb6cdd5282ad4d8}{files}
\item 
std::string \hyperlink{classOutputDirectory_ae1eb8abe7f66572b89cc139ca0c841ac}{dir}
\end{DoxyCompactItemize}
\subsection*{Static Private 変数}
\begin{DoxyCompactItemize}
\item 
static const char \hyperlink{classOutputDirectory_aa3d67123ee9a3ee4b138f06e57c2a54d}{PATH\_\-SEPARATOR} = '/'
\end{DoxyCompactItemize}


\subsection{説明}
Interface for creating files in a gem5 output directory. 

\subsection{型定義}
\hypertarget{classOutputDirectory_a45c5e1cccd11ddd0103631655703d5e2}{
\index{OutputDirectory@{OutputDirectory}!map\_\-t@{map\_\-t}}
\index{map\_\-t@{map\_\-t}!OutputDirectory@{OutputDirectory}}
\subsubsection[{map\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef std::map$<$std::string, std::ostream $\ast$$>$ {\bf map\_\-t}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classOutputDirectory_a45c5e1cccd11ddd0103631655703d5e2}
File names and associated stream handles 

\subsection{コンストラクタとデストラクタ}
\hypertarget{classOutputDirectory_a0ccc7a2d2bdd34073949e2fbccb58a3b}{
\index{OutputDirectory@{OutputDirectory}!OutputDirectory@{OutputDirectory}}
\index{OutputDirectory@{OutputDirectory}!OutputDirectory@{OutputDirectory}}
\subsubsection[{OutputDirectory}]{\setlength{\rightskip}{0pt plus 5cm}{\bf OutputDirectory} ()}}
\label{classOutputDirectory_a0ccc7a2d2bdd34073949e2fbccb58a3b}
Constructor. 


\begin{DoxyCode}
55 {}
\end{DoxyCode}
\hypertarget{classOutputDirectory_a9257cd7515c7b1a88a4de758c2f00d46}{
\index{OutputDirectory@{OutputDirectory}!$\sim$OutputDirectory@{$\sim$OutputDirectory}}
\index{$\sim$OutputDirectory@{$\sim$OutputDirectory}!OutputDirectory@{OutputDirectory}}
\subsubsection[{$\sim$OutputDirectory}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf OutputDirectory} ()}}
\label{classOutputDirectory_a9257cd7515c7b1a88a4de758c2f00d46}
Destructor. 


\begin{DoxyCode}
58 {
59     for (map_t::iterator i = files.begin(); i != files.end(); i++) {
60         if (i->second)
61             delete i->second;
62     }
63 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classOutputDirectory_ab4edf1444be4d8d0a64a0361e1f555d9}{
\index{OutputDirectory@{OutputDirectory}!checkForStdio@{checkForStdio}}
\index{checkForStdio@{checkForStdio}!OutputDirectory@{OutputDirectory}}
\subsubsection[{checkForStdio}]{\setlength{\rightskip}{0pt plus 5cm}std::ostream$\ast$ checkForStdio (const std::string \& {\em name}) const\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classOutputDirectory_ab4edf1444be4d8d0a64a0361e1f555d9}
Determines whether given file name corresponds to standard output streams.


\begin{DoxyParams}{引数}
\item[{\em name}]name of file to check \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
output stream for standard output or error stream if name corresponds to one or the other; NULL otherwise 
\end{DoxyReturn}
\hypertarget{classOutputDirectory_a3cc929ea4ca094903ac826046d510634}{
\index{OutputDirectory@{OutputDirectory}!close@{close}}
\index{close@{close}!OutputDirectory@{OutputDirectory}}
\subsubsection[{close}]{\setlength{\rightskip}{0pt plus 5cm}void close (std::ostream $\ast$ {\em openStream})}}
\label{classOutputDirectory_a3cc929ea4ca094903ac826046d510634}
Closes a file stream.

Stream must have been opened through this interface, or sim will fail.


\begin{DoxyParams}{引数}
\item[{\em openStream}]open stream to close \end{DoxyParams}
\hypertarget{classOutputDirectory_a22e4aa8ec29a265a1c299a1a009c85cc}{
\index{OutputDirectory@{OutputDirectory}!create@{create}}
\index{create@{create}!OutputDirectory@{OutputDirectory}}
\subsubsection[{create}]{\setlength{\rightskip}{0pt plus 5cm}std::ostream$\ast$ create (const std::string \& {\em name}, \/  bool {\em binary} = {\ttfamily false})}}
\label{classOutputDirectory_a22e4aa8ec29a265a1c299a1a009c85cc}
Creates a file in this directory (optionally compressed).

Will open a file as a compressed stream if filename ends in .gz.


\begin{DoxyParams}{引数}
\item[{\em name}]name of file to create (without this directory's name leading it) \item[{\em binary}]true to create a binary file; false otherwise \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
stream to the opened file 
\end{DoxyReturn}
\hypertarget{classOutputDirectory_ac2ac87b6b1da98eb0f0fdb2ecbc34c6f}{
\index{OutputDirectory@{OutputDirectory}!createSubdirectory@{createSubdirectory}}
\index{createSubdirectory@{createSubdirectory}!OutputDirectory@{OutputDirectory}}
\subsubsection[{createSubdirectory}]{\setlength{\rightskip}{0pt plus 5cm}std::string createSubdirectory (const std::string \& {\em name}) const}}
\label{classOutputDirectory_ac2ac87b6b1da98eb0f0fdb2ecbc34c6f}
Creates a subdirectory within this directory. 
\begin{DoxyParams}{引数}
\item[{\em name}]name of subdirectory \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
the new subdirectory's name suffixed with a path separator 
\end{DoxyReturn}
\hypertarget{classOutputDirectory_a89b2e59c89cc0aa42fdcdf8a6440656e}{
\index{OutputDirectory@{OutputDirectory}!directory@{directory}}
\index{directory@{directory}!OutputDirectory@{OutputDirectory}}
\subsubsection[{directory}]{\setlength{\rightskip}{0pt plus 5cm}const string \& directory () const}}
\label{classOutputDirectory_a89b2e59c89cc0aa42fdcdf8a6440656e}
Gets name of this directory. \begin{DoxyReturn}{戻り値}
name of this directory 
\end{DoxyReturn}



\begin{DoxyCode}
141 {
142     if (dir.empty())
143         panic("Output directory not set!");
144 
145     return dir;
146 }
\end{DoxyCode}
\hypertarget{classOutputDirectory_a4b6800ca94a140ee14fcdb169be55027}{
\index{OutputDirectory@{OutputDirectory}!find@{find}}
\index{find@{find}!OutputDirectory@{OutputDirectory}}
\subsubsection[{find}]{\setlength{\rightskip}{0pt plus 5cm}std::ostream$\ast$ find (const std::string \& {\em name}) const}}
\label{classOutputDirectory_a4b6800ca94a140ee14fcdb169be55027}
Finds stream associated with a file. 
\begin{DoxyParams}{引数}
\item[{\em name}]of file \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
stream to specified file or NULL if file does not exist 
\end{DoxyReturn}
\hypertarget{classOutputDirectory_acff271d62941cd7e36ece902ad929692}{
\index{OutputDirectory@{OutputDirectory}!isFile@{isFile}}
\index{isFile@{isFile}!OutputDirectory@{OutputDirectory}}
\subsubsection[{isFile}]{\setlength{\rightskip}{0pt plus 5cm}static bool isFile (const std::ostream \& {\em os})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, static\mbox{]}}}}
\label{classOutputDirectory_acff271d62941cd7e36ece902ad929692}
Returns true if stream is open and not standard output or error. 
\begin{DoxyParams}{引数}
\item[{\em os}]output stream to evaluate \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
true if os is non-\/NULL and not cout or cerr 
\end{DoxyReturn}



\begin{DoxyCode}
154                                                     {
155         return isFile(&os);
156     }
\end{DoxyCode}
\hypertarget{classOutputDirectory_aef33355da98c5680209c66135f10ad2f}{
\index{OutputDirectory@{OutputDirectory}!isFile@{isFile}}
\index{isFile@{isFile}!OutputDirectory@{OutputDirectory}}
\subsubsection[{isFile}]{\setlength{\rightskip}{0pt plus 5cm}bool isFile (const std::string \& {\em name}) const}}
\label{classOutputDirectory_aef33355da98c5680209c66135f10ad2f}
Determines whether a file name corresponds to a file in this directory. 
\begin{DoxyParams}{引数}
\item[{\em name}]name of file to evaluate \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
true iff file has been opened in this directory or exists on the file system within this directory 
\end{DoxyReturn}
\hypertarget{classOutputDirectory_ae3bf295c9f17497408567e6998762d10}{
\index{OutputDirectory@{OutputDirectory}!isFile@{isFile}}
\index{isFile@{isFile}!OutputDirectory@{OutputDirectory}}
\subsubsection[{isFile}]{\setlength{\rightskip}{0pt plus 5cm}bool isFile (const std::ostream $\ast$ {\em os})\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classOutputDirectory_ae3bf295c9f17497408567e6998762d10}
Returns true if stream is open and not standard output or error. 
\begin{DoxyParams}{引数}
\item[{\em os}]output stream to evaluate \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
true if os is non-\/NULL and not cout or cerr 
\end{DoxyReturn}



\begin{DoxyCode}
186 {
187     return os && os != &cerr && os != &cout;
188 }
\end{DoxyCode}
\hypertarget{classOutputDirectory_a7539f53b63a43ef7cf4df2a38b891a2e}{
\index{OutputDirectory@{OutputDirectory}!openFile@{openFile}}
\index{openFile@{openFile}!OutputDirectory@{OutputDirectory}}
\subsubsection[{openFile}]{\setlength{\rightskip}{0pt plus 5cm}std::ostream$\ast$ openFile (const std::string \& {\em filename}, \/  std::ios\_\-base::openmode {\em mode} = {\ttfamily std::ios::trunc})}}
\label{classOutputDirectory_a7539f53b63a43ef7cf4df2a38b891a2e}
Opens a file (optionally compressed).

Will open a file as a compressed stream if filename ends in .gz.


\begin{DoxyParams}{引数}
\item[{\em filename}]file to open \item[{\em mode}]attributes to open file with \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
stream pointer to opened file; will cause sim fail on error 
\end{DoxyReturn}
\hypertarget{classOutputDirectory_a6eb2aac9c800b6ab1640ec5d8e0bdec1}{
\index{OutputDirectory@{OutputDirectory}!remove@{remove}}
\index{remove@{remove}!OutputDirectory@{OutputDirectory}}
\subsubsection[{remove}]{\setlength{\rightskip}{0pt plus 5cm}void remove (const std::string \& {\em name}, \/  bool {\em recursive} = {\ttfamily false})}}
\label{classOutputDirectory_a6eb2aac9c800b6ab1640ec5d8e0bdec1}
Removes a specified file or subdirectory.

Will cause sim to fail for most errors. However, it will only warn the user if a directory could not be removed. This is in place to accommodate slow file systems where file deletions within a subdirectory may not be recognized quickly enough thereby causing the subsequent call to remove the directory to fail (seemingly unempty directory).


\begin{DoxyParams}{引数}
\item[{\em name}]name of file or subdirectory to remove; name should not be prepended with the name of this directory object \item[{\em recursive}]set to true to attempt to recursively delete a subdirectory and its contents \end{DoxyParams}
\hypertarget{classOutputDirectory_abfb043ef04e73fe88fb002c53447a348}{
\index{OutputDirectory@{OutputDirectory}!resolve@{resolve}}
\index{resolve@{resolve}!OutputDirectory@{OutputDirectory}}
\subsubsection[{resolve}]{\setlength{\rightskip}{0pt plus 5cm}std::string resolve (const std::string \& {\em name}) const}}
\label{classOutputDirectory_abfb043ef04e73fe88fb002c53447a348}
Returns relative file names prepended with name of this directory. Returns absolute file names unaltered.


\begin{DoxyParams}{引数}
\item[{\em name}]file name to prepend with directory name \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
file name prepended with base directory name or unaltered absolute file name 
\end{DoxyReturn}
\hypertarget{classOutputDirectory_a3133e5972e0fa144664a06a665c01e74}{
\index{OutputDirectory@{OutputDirectory}!setDirectory@{setDirectory}}
\index{setDirectory@{setDirectory}!OutputDirectory@{OutputDirectory}}
\subsubsection[{setDirectory}]{\setlength{\rightskip}{0pt plus 5cm}void setDirectory (const std::string \& {\em dir})}}
\label{classOutputDirectory_a3133e5972e0fa144664a06a665c01e74}
Sets name of this directory. 
\begin{DoxyParams}{引数}
\item[{\em dir}]name of this directory \end{DoxyParams}


\subsection{変数}
\hypertarget{classOutputDirectory_ae1eb8abe7f66572b89cc139ca0c841ac}{
\index{OutputDirectory@{OutputDirectory}!dir@{dir}}
\index{dir@{dir}!OutputDirectory@{OutputDirectory}}
\subsubsection[{dir}]{\setlength{\rightskip}{0pt plus 5cm}std::string {\bf dir}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classOutputDirectory_ae1eb8abe7f66572b89cc139ca0c841ac}
Name of this directory \hypertarget{classOutputDirectory_a79dfc0070f515bcd2cb6cdd5282ad4d8}{
\index{OutputDirectory@{OutputDirectory}!files@{files}}
\index{files@{files}!OutputDirectory@{OutputDirectory}}
\subsubsection[{files}]{\setlength{\rightskip}{0pt plus 5cm}{\bf map\_\-t} {\bf files}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classOutputDirectory_a79dfc0070f515bcd2cb6cdd5282ad4d8}
Open file streams within this directory \hypertarget{classOutputDirectory_aa3d67123ee9a3ee4b138f06e57c2a54d}{
\index{OutputDirectory@{OutputDirectory}!PATH\_\-SEPARATOR@{PATH\_\-SEPARATOR}}
\index{PATH\_\-SEPARATOR@{PATH\_\-SEPARATOR}!OutputDirectory@{OutputDirectory}}
\subsubsection[{PATH\_\-SEPARATOR}]{\setlength{\rightskip}{0pt plus 5cm}const char {\bf PATH\_\-SEPARATOR} = '/'\hspace{0.3cm}{\ttfamily  \mbox{[}static, private\mbox{]}}}}
\label{classOutputDirectory_aa3d67123ee9a3ee4b138f06e57c2a54d}
System-\/specific path separator character 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
base/\hyperlink{output_8hh}{output.hh}\item 
base/\hyperlink{output_8cc}{output.cc}\end{DoxyCompactItemize}
