<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス WholeTranslationState</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス WholeTranslationState</h1><!-- doxytag: class="WholeTranslationState" -->
<p><code>#include &lt;<a class="el" href="translation_8hh_source.html">translation.hh</a>&gt;</code></p>

<p><a href="classWholeTranslationState-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#aa9330770cac55c20fba11842fb48ceb9">WholeTranslationState</a> (<a class="el" href="classRequest.html">RequestPtr</a> _req, uint8_t *_data, uint64_t *_res, <a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a> _mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a6e6163dd6e49b443f56c30800ac95b75">WholeTranslationState</a> (<a class="el" href="classRequest.html">RequestPtr</a> _req, <a class="el" href="classRequest.html">RequestPtr</a> _sreqLow, <a class="el" href="classRequest.html">RequestPtr</a> _sreqHigh, uint8_t *_data, uint64_t *_res, <a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a> _mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a4d0ff87d4723870a1348d1f62d15d785">finish</a> (<a class="el" href="classRefCountingPtr.html">Fault</a> fault, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a1ac977937b0a3cf64e58ba7141e4cc11">getFault</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a29ac402ee48ba100554ef01f2c8790c9">setNoFault</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a70c74b2809417ea8701dd6ba9e34312d">isUncacheable</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a1eef1bb814a1f77346aba1648fb6d1c9">isPrefetch</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#ad988a42a876d1cbc56556e1317e0f107">getPaddr</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a009220068577b6979aeae8fe951bd63d">getFlags</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a6dc2cbc61a85f942f081c1a136dd3585">deleteReqs</a> ()</td></tr>
<tr><td colspan="2"><h2>Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#acde7c910d793a8d8913d949834c8c621">delay</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#afd8e5886f3bd5827ade12fcaf8ea2a47">isSplit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a8c06ecd03202f5de1fc60cf6194ff285">sreqLow</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a1464e1dd7de6d5752d05938f0b3bc171">sreqHigh</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#abe222f6d3581e7920dcad5306cc906a8">data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#afd8a8bcfa588184183684cc5a1deeb5a">res</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#ae9b5adf8be89a72128708c7e621e7211">mode</a></td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a3fc62072fe6e979a41b2e68bda15893a">outstanding</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a> [2]</td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<p>This class captures the state of an address translation. A translation can be split in two if the ISA supports it and the memory access crosses a page boundary. In this case, this class is shared by two data translations (below). Otherwise it is used by a single data translation class. When each part of the translation is finished, the finish function is called which will indicate whether the whole translation is completed or not. There are also functions for accessing parts of the translation state which deal with the possible split correctly. </p>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="aa9330770cac55c20fba11842fb48ceb9"></a><!-- doxytag: member="WholeTranslationState::WholeTranslationState" ref="aa9330770cac55c20fba11842fb48ceb9" args="(RequestPtr _req, uint8_t *_data, uint64_t *_res, BaseTLB::Mode _mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWholeTranslationState.html">WholeTranslationState</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a>&nbsp;</td>
          <td class="paramname"> <em>_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Single translation state. We set the number of outstanding translations to one and indicate that it is not split. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00083"></a>00083         : <a class="code" href="classWholeTranslationState.html#a3fc62072fe6e979a41b2e68bda15893a">outstanding</a>(1), <a class="code" href="classWholeTranslationState.html#acde7c910d793a8d8913d949834c8c621">delay</a>(<span class="keyword">false</span>), <a class="code" href="classWholeTranslationState.html#afd8e5886f3bd5827ade12fcaf8ea2a47">isSplit</a>(<span class="keyword">false</span>), <a class="code" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a>(_req),
<a name="l00084"></a>00084           <a class="code" href="classWholeTranslationState.html#a8c06ecd03202f5de1fc60cf6194ff285">sreqLow</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>), <a class="code" href="classWholeTranslationState.html#a1464e1dd7de6d5752d05938f0b3bc171">sreqHigh</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>), <a class="code" href="classWholeTranslationState.html#abe222f6d3581e7920dcad5306cc906a8">data</a>(_data), <a class="code" href="classWholeTranslationState.html#afd8a8bcfa588184183684cc5a1deeb5a">res</a>(_res), <a class="code" href="classWholeTranslationState.html#ae9b5adf8be89a72128708c7e621e7211">mode</a>(_mode)
<a name="l00085"></a>00085     {
<a name="l00086"></a>00086         <a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[0] = <a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[1] = <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>;
<a name="l00087"></a>00087         assert(<a class="code" href="classWholeTranslationState.html#ae9b5adf8be89a72128708c7e621e7211">mode</a> == <a class="code" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911a809abe96853e69894bbf8e5730b31348">BaseTLB::Read</a> || <a class="code" href="classWholeTranslationState.html#ae9b5adf8be89a72128708c7e621e7211">mode</a> == <a class="code" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911aa56670174817e3fed92bfd8182d7c0d1">BaseTLB::Write</a>);
<a name="l00088"></a>00088     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6e6163dd6e49b443f56c30800ac95b75"></a><!-- doxytag: member="WholeTranslationState::WholeTranslationState" ref="a6e6163dd6e49b443f56c30800ac95b75" args="(RequestPtr _req, RequestPtr _sreqLow, RequestPtr _sreqHigh, uint8_t *_data, uint64_t *_res, BaseTLB::Mode _mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWholeTranslationState.html">WholeTranslationState</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>_sreqLow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>_sreqHigh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a>&nbsp;</td>
          <td class="paramname"> <em>_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Split translation state. We copy all state into this class, set the number of outstanding translations to two and then mark this as a split translation. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00098"></a>00098         : <a class="code" href="classWholeTranslationState.html#a3fc62072fe6e979a41b2e68bda15893a">outstanding</a>(2), <a class="code" href="classWholeTranslationState.html#acde7c910d793a8d8913d949834c8c621">delay</a>(<span class="keyword">false</span>), <a class="code" href="classWholeTranslationState.html#afd8e5886f3bd5827ade12fcaf8ea2a47">isSplit</a>(<span class="keyword">true</span>), <a class="code" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a>(_req),
<a name="l00099"></a>00099           <a class="code" href="classWholeTranslationState.html#a8c06ecd03202f5de1fc60cf6194ff285">sreqLow</a>(_sreqLow), <a class="code" href="classWholeTranslationState.html#a1464e1dd7de6d5752d05938f0b3bc171">sreqHigh</a>(_sreqHigh), <a class="code" href="classWholeTranslationState.html#abe222f6d3581e7920dcad5306cc906a8">data</a>(_data), <a class="code" href="classWholeTranslationState.html#afd8a8bcfa588184183684cc5a1deeb5a">res</a>(_res),
<a name="l00100"></a>00100           <a class="code" href="classWholeTranslationState.html#ae9b5adf8be89a72128708c7e621e7211">mode</a>(_mode)
<a name="l00101"></a>00101     {
<a name="l00102"></a>00102         <a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[0] = <a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[1] = <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>;
<a name="l00103"></a>00103         assert(<a class="code" href="classWholeTranslationState.html#ae9b5adf8be89a72128708c7e621e7211">mode</a> == <a class="code" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911a809abe96853e69894bbf8e5730b31348">BaseTLB::Read</a> || <a class="code" href="classWholeTranslationState.html#ae9b5adf8be89a72128708c7e621e7211">mode</a> == <a class="code" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911aa56670174817e3fed92bfd8182d7c0d1">BaseTLB::Write</a>);
<a name="l00104"></a>00104     }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a6dc2cbc61a85f942f081c1a136dd3585"></a><!-- doxytag: member="WholeTranslationState::deleteReqs" ref="a6dc2cbc61a85f942f081c1a136dd3585" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deleteReqs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delete all requests that make up this translation. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00198"></a>00198     {
<a name="l00199"></a>00199         <span class="keyword">delete</span> <a class="code" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a>;
<a name="l00200"></a>00200         <span class="keywordflow">if</span> (<a class="code" href="classWholeTranslationState.html#afd8e5886f3bd5827ade12fcaf8ea2a47">isSplit</a>) {
<a name="l00201"></a>00201             <span class="keyword">delete</span> <a class="code" href="classWholeTranslationState.html#a8c06ecd03202f5de1fc60cf6194ff285">sreqLow</a>;
<a name="l00202"></a>00202             <span class="keyword">delete</span> <a class="code" href="classWholeTranslationState.html#a1464e1dd7de6d5752d05938f0b3bc171">sreqHigh</a>;
<a name="l00203"></a>00203         }
<a name="l00204"></a>00204     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4d0ff87d4723870a1348d1f62d15d785"></a><!-- doxytag: member="WholeTranslationState::finish" ref="a4d0ff87d4723870a1348d1f62d15d785" args="(Fault fault, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td>
          <td class="paramname"> <em>fault</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finish part of a translation. If there is only one request then this translation is completed. If the request has been split in two then the outstanding count determines whether the translation is complete. In this case, flags from the split request are copied to the main request to make it easier to access them later on. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00115"></a>00115     {
<a name="l00116"></a>00116         assert(<a class="code" href="classWholeTranslationState.html#a3fc62072fe6e979a41b2e68bda15893a">outstanding</a>);
<a name="l00117"></a>00117         <a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[<a class="code" href="namespaceMipsISA.html#ae6714ce3c5ef82205cecbd410556edf3">index</a>] = fault;
<a name="l00118"></a>00118         <a class="code" href="classWholeTranslationState.html#a3fc62072fe6e979a41b2e68bda15893a">outstanding</a>--;
<a name="l00119"></a>00119         <span class="keywordflow">if</span> (<a class="code" href="classWholeTranslationState.html#afd8e5886f3bd5827ade12fcaf8ea2a47">isSplit</a> &amp;&amp; <a class="code" href="classWholeTranslationState.html#a3fc62072fe6e979a41b2e68bda15893a">outstanding</a> == 0) {
<a name="l00120"></a>00120 
<a name="l00121"></a>00121             <span class="comment">// For ease later, we copy some state to the main request.</span>
<a name="l00122"></a>00122             <span class="keywordflow">if</span> (<a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[0] == <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>) {
<a name="l00123"></a>00123                 <a class="code" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a>-&gt;<a class="code" href="classRequest.html#a688b841276b48f5c420569e62a090130">setPaddr</a>(<a class="code" href="classWholeTranslationState.html#a8c06ecd03202f5de1fc60cf6194ff285">sreqLow</a>-&gt;<a class="code" href="classRequest.html#a744ef11a5afe9d3651ce5f954259cb43">getPaddr</a>());
<a name="l00124"></a>00124             }
<a name="l00125"></a>00125             <a class="code" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a>-&gt;<a class="code" href="classRequest.html#a33971d22712c9c80177e4362dffd5580">setFlags</a>(<a class="code" href="classWholeTranslationState.html#a8c06ecd03202f5de1fc60cf6194ff285">sreqLow</a>-&gt;<a class="code" href="classRequest.html#a8552aa8d45c9ba10449d51ac08e7d490">getFlags</a>());
<a name="l00126"></a>00126             <a class="code" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a>-&gt;<a class="code" href="classRequest.html#a33971d22712c9c80177e4362dffd5580">setFlags</a>(<a class="code" href="classWholeTranslationState.html#a1464e1dd7de6d5752d05938f0b3bc171">sreqHigh</a>-&gt;<a class="code" href="classRequest.html#a8552aa8d45c9ba10449d51ac08e7d490">getFlags</a>());
<a name="l00127"></a>00127         }
<a name="l00128"></a>00128         <span class="keywordflow">return</span> <a class="code" href="classWholeTranslationState.html#a3fc62072fe6e979a41b2e68bda15893a">outstanding</a> == 0;
<a name="l00129"></a>00129     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1ac977937b0a3cf64e58ba7141e4cc11"></a><!-- doxytag: member="WholeTranslationState::getFault" ref="a1ac977937b0a3cf64e58ba7141e4cc11" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> getFault </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determine whether this translation produced a fault. Both parts of the translation must be checked if this is a split translation. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00137"></a>00137     {
<a name="l00138"></a>00138         <span class="keywordflow">if</span> (!<a class="code" href="classWholeTranslationState.html#afd8e5886f3bd5827ade12fcaf8ea2a47">isSplit</a>)
<a name="l00139"></a>00139             <span class="keywordflow">return</span> <a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[0];
<a name="l00140"></a>00140         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[0] != <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>)
<a name="l00141"></a>00141             <span class="keywordflow">return</span> <a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[0];
<a name="l00142"></a>00142         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[1] != <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>)
<a name="l00143"></a>00143             <span class="keywordflow">return</span> <a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[1];
<a name="l00144"></a>00144         <span class="keywordflow">else</span>
<a name="l00145"></a>00145             <span class="keywordflow">return</span> <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>;
<a name="l00146"></a>00146     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a009220068577b6979aeae8fe951bd63d"></a><!-- doxytag: member="WholeTranslationState::getFlags" ref="a009220068577b6979aeae8fe951bd63d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned getFlags </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the flags associated with this request. We only need to access the main request because the flags will have been copied here on a split translation. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00191"></a>00191     {
<a name="l00192"></a>00192         <span class="keywordflow">return</span> <a class="code" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a>-&gt;<a class="code" href="classRequest.html#a8552aa8d45c9ba10449d51ac08e7d490">getFlags</a>();
<a name="l00193"></a>00193     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad988a42a876d1cbc56556e1317e0f107"></a><!-- doxytag: member="WholeTranslationState::getPaddr" ref="ad988a42a876d1cbc56556e1317e0f107" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> getPaddr </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the physical address of this request. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00180"></a>00180     {
<a name="l00181"></a>00181         <span class="keywordflow">return</span> <a class="code" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a>-&gt;<a class="code" href="classRequest.html#a744ef11a5afe9d3651ce5f954259cb43">getPaddr</a>();
<a name="l00182"></a>00182     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1eef1bb814a1f77346aba1648fb6d1c9"></a><!-- doxytag: member="WholeTranslationState::isPrefetch" ref="a1eef1bb814a1f77346aba1648fb6d1c9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isPrefetch </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCheck.html">Check</a> if this request is a prefetch. We only need to check the main request because the flags will have been copied here on a split translation. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00173"></a>00173     {
<a name="l00174"></a>00174         <span class="keywordflow">return</span> <a class="code" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a>-&gt;<a class="code" href="classRequest.html#a1eef1bb814a1f77346aba1648fb6d1c9">isPrefetch</a>();
<a name="l00175"></a>00175     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a70c74b2809417ea8701dd6ba9e34312d"></a><!-- doxytag: member="WholeTranslationState::isUncacheable" ref="a70c74b2809417ea8701dd6ba9e34312d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isUncacheable </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCheck.html">Check</a> if this request is uncacheable. We only need to check the main request because the flags will have been copied here on a split translation. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00162"></a>00162     {
<a name="l00163"></a>00163         <span class="keywordflow">return</span> <a class="code" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a>-&gt;<a class="code" href="classRequest.html#a70c74b2809417ea8701dd6ba9e34312d">isUncacheable</a>();
<a name="l00164"></a>00164     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a29ac402ee48ba100554ef01f2c8790c9"></a><!-- doxytag: member="WholeTranslationState::setNoFault" ref="a29ac402ee48ba100554ef01f2c8790c9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setNoFault </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove all faults from the translation. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00151"></a>00151     {
<a name="l00152"></a>00152         <a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[0] = <a class="code" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[1] = <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>;
<a name="l00153"></a>00153     }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="abe222f6d3581e7920dcad5306cc906a8"></a><!-- doxytag: member="WholeTranslationState::data" ref="abe222f6d3581e7920dcad5306cc906a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* <a class="el" href="classWholeTranslationState.html#abe222f6d3581e7920dcad5306cc906a8">data</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="acde7c910d793a8d8913d949834c8c621"></a><!-- doxytag: member="WholeTranslationState::delay" ref="acde7c910d793a8d8913d949834c8c621" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classWholeTranslationState.html#acde7c910d793a8d8913d949834c8c621">delay</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a85850d6bc18d242fa1e8d4859e8d7d05"></a><!-- doxytag: member="WholeTranslationState::faults" ref="a85850d6bc18d242fa1e8d4859e8d7d05" args="[2]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> <a class="el" href="classWholeTranslationState.html#a85850d6bc18d242fa1e8d4859e8d7d05">faults</a>[2]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afd8e5886f3bd5827ade12fcaf8ea2a47"></a><!-- doxytag: member="WholeTranslationState::isSplit" ref="afd8e5886f3bd5827ade12fcaf8ea2a47" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classWholeTranslationState.html#afd8e5886f3bd5827ade12fcaf8ea2a47">isSplit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9cdcf9160e22de981af332c3f02a209"></a><!-- doxytag: member="WholeTranslationState::mainReq" ref="ae9cdcf9160e22de981af332c3f02a209" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRequest.html">RequestPtr</a> <a class="el" href="classWholeTranslationState.html#ae9cdcf9160e22de981af332c3f02a209">mainReq</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9b5adf8be89a72128708c7e621e7211"></a><!-- doxytag: member="WholeTranslationState::mode" ref="ae9b5adf8be89a72128708c7e621e7211" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a> <a class="el" href="classWholeTranslationState.html#ae9b5adf8be89a72128708c7e621e7211">mode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3fc62072fe6e979a41b2e68bda15893a"></a><!-- doxytag: member="WholeTranslationState::outstanding" ref="a3fc62072fe6e979a41b2e68bda15893a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classWholeTranslationState.html#a3fc62072fe6e979a41b2e68bda15893a">outstanding</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afd8a8bcfa588184183684cc5a1deeb5a"></a><!-- doxytag: member="WholeTranslationState::res" ref="afd8a8bcfa588184183684cc5a1deeb5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t* <a class="el" href="classWholeTranslationState.html#afd8a8bcfa588184183684cc5a1deeb5a">res</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1464e1dd7de6d5752d05938f0b3bc171"></a><!-- doxytag: member="WholeTranslationState::sreqHigh" ref="a1464e1dd7de6d5752d05938f0b3bc171" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRequest.html">RequestPtr</a> <a class="el" href="classWholeTranslationState.html#a1464e1dd7de6d5752d05938f0b3bc171">sreqHigh</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c06ecd03202f5de1fc60cf6194ff285"></a><!-- doxytag: member="WholeTranslationState::sreqLow" ref="a8c06ecd03202f5de1fc60cf6194ff285" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRequest.html">RequestPtr</a> <a class="el" href="classWholeTranslationState.html#a8c06ecd03202f5de1fc60cf6194ff285">sreqLow</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>cpu/<a class="el" href="translation_8hh_source.html">translation.hh</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
