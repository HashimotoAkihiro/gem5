\hypertarget{classX86ISA_1_1I8042}{
\section{クラス I8042}
\label{classX86ISA_1_1I8042}\index{X86ISA::I8042@{X86ISA::I8042}}
}


{\ttfamily \#include $<$i8042.hh$>$}I8042に対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=7cm]{classX86ISA_1_1I8042}
\end{center}
\end{figure}
\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
typedef I8042Params \hyperlink{classX86ISA_1_1I8042_ae70fe038127f3e2a71a81dde45f38dc5}{Params}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{classX86ISA_1_1I8042_ae70fe038127f3e2a71a81dde45f38dc5}{Params} $\ast$ \hyperlink{classX86ISA_1_1I8042_acd3c3feb78ae7a8f88fe0f110a718dff}{params} () const 
\item 
\hyperlink{classX86ISA_1_1I8042_a46a61113522fbd1946d4f58441b939bf}{I8042} (\hyperlink{classX86ISA_1_1I8042_ae70fe038127f3e2a71a81dde45f38dc5}{Params} $\ast$\hyperlink{namespaceX86ISA_af675c1d542a25b96e11164b80809a856}{p})
\item 
\hyperlink{classstd_1_1list}{AddrRangeList} \hyperlink{classX86ISA_1_1I8042_a36cf113d5e5e091ebddb32306c098fae}{getAddrRanges} () const 
\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classX86ISA_1_1I8042_a613ec7d5e1ec64f8d21fec78ae8e568e}{read} (\hyperlink{classPacket}{PacketPtr} pkt)
\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classX86ISA_1_1I8042_a4cefab464e72b5dd42c003a0a4341802}{write} (\hyperlink{classPacket}{PacketPtr} pkt)
\item 
virtual void \hyperlink{classX86ISA_1_1I8042_a53e036786d17361be4c7320d39c99b84}{serialize} (std::ostream \&\hyperlink{namespaceX86ISA_a6b6e6ba763e7eaf46ac5b6372ca98d30}{os})
\item 
virtual void \hyperlink{classX86ISA_1_1I8042_af22e5d6d660b97db37003ac61ac4ee49}{unserialize} (\hyperlink{classCheckpoint}{Checkpoint} $\ast$cp, const std::string \&section)
\end{DoxyCompactItemize}
\subsection*{Protected 型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153}{Command} \{ \par
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a23d5de50ab3986c273f16d27873759b8}{GetCommandByte} =  0x20, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a9b0985cd9d73a7881a7453e9287fc020}{ReadControllerRamBase} =  0x20, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153ab1dea94380ecd4e4c89e930df17d8d47}{WriteCommandByte} =  0x60, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a05cf4c570a5283bcd19744ece80507ea}{WriteControllerRamBase} =  0x60, 
\par
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a22b61ddbb05a5f9d258cd86e4f257cca}{CheckForPassword} =  0xA4, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a2eaca5606959cbc70001d3138ceda8b6}{LoadPassword} =  0xA5, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a015a89c4c142f0f69d5ac2cb7bf56b9c}{CheckPassword} =  0xA6, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153abbe97dae342dfdf3e85a257c90a6ce60}{DisableMouse} =  0xA7, 
\par
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a16c1a67575ff1313d2c25473e8ac04e4}{EnableMouse} =  0xA8, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a6277be2e9193123b1eac49cca489fc0c}{TestMouse} =  0xA9, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a9248a447bc1c5001d5692afd5fc86f06}{SelfTest} =  0xAA, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a1c8233858c433f8bdbc3ce5185c0a101}{InterfaceTest} =  0xAB, 
\par
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a099644eade2e1c756daae13c264ba5b8}{DiagnosticDump} =  0xAC, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153aeb0e477719ae6fd34645beef2a1ad752}{DisableKeyboard} =  0xAD, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a1f7b43427403a4c6f1574b16c967cecc}{EnableKeyboard} =  0xAE, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a8509d4fd3b0205f744f648a4bc2052d7}{ReadInputPort} =  0xC0, 
\par
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a051d34b6b649514ad2cd950431393bb1}{ContinuousPollLow} =  0xC1, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a04558413a7a04cf4f5348e31f7e25d41}{ContinuousPollHigh} =  0xC2, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153aade35f253085f916a9e93b23f87d7192}{ReadOutputPort} =  0xD0, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a4f2168d3b7108d68797c401ca07dcadd}{WriteOutputPort} =  0xD1, 
\par
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a3ec3c826304679aa03f277eb6f237b78}{WriteKeyboardOutputBuff} =  0xD2, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a1472aac208d2a3be8de4ea68f2df7582}{WriteMouseOutputBuff} =  0xD3, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153aca85cf74a065e596943486095dc366ef}{WriteToMouse} =  0xD4, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a6389bcd602a97980469a0dc45b453b7c}{DisableA20} =  0xDD, 
\par
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a43a94edb97e3e43d85007fd572854b22}{EnableA20} =  0xDF, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153afcf1121396fa916967c3206c5803eb11}{ReadTestInputs} =  0xE0, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a711be2129b337131e878f1dfc6d9a79d}{PulseOutputBitBase} =  0xF0, 
\hyperlink{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a7256ac4658ec7af1eb4705b83266a603}{SystemReset} =  0xFE
 \}
\end{DoxyCompactItemize}
\subsection*{Protected メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classX86ISA_1_1I8042_ac0c09369d67be3737e41443fac983e6a}{BitUnion8} (StatusReg) Bitfield$<$ 7 $>$ parityError
\item 
\hyperlink{classX86ISA_1_1I8042_a1da145de36668df00f37d59c90f5eae2}{EndBitUnion} (StatusReg) BitUnion8(CommandByte) Bitfield$<$ 6 $>$ convertScanCodes
\item 
\hyperlink{classX86ISA_1_1I8042_ad32329bafc0b040cc55ed2025f6ed478}{EndBitUnion} (CommandByte) \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} latency
\item 
void \hyperlink{classX86ISA_1_1I8042_abc11493a3bf9f79d51f3c434c64483da}{writeData} (uint8\_\-t newData, bool \hyperlink{classX86ISA_1_1I8042_ab174297071ac5e00a17024b3ea4489a8}{mouse}=false)
\item 
uint8\_\-t \hyperlink{classX86ISA_1_1I8042_a1ba9c6a2a23bdea21924e02dc6cf9d22}{readDataOut} ()
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
Bitfield$<$ 6 $>$ \hyperlink{classX86ISA_1_1I8042_a1e751f93440ec6b2aa8aba4c7336d6ea}{timeout}
\item 
Bitfield$<$ 5 $>$ \hyperlink{classX86ISA_1_1I8042_a43270e273e78021e88be7f7afe75721c}{mouseOutputFull}
\item 
Bitfield$<$ 4 $>$ \hyperlink{classX86ISA_1_1I8042_a4f11d228c35e9d97c1cc003762735a41}{keyboardUnlocked}
\item 
Bitfield$<$ 3 $>$ \hyperlink{classX86ISA_1_1I8042_a18c2dccc45c7e23576d55985c4b23eb5}{commandLast}
\item 
Bitfield$<$ 2 $>$ \hyperlink{classX86ISA_1_1I8042_a0a84c3649aab70a73e2c963a742a4643}{passedSelfTest}
\item 
Bitfield$<$ 1 $>$ \hyperlink{classX86ISA_1_1I8042_a39b55243e60ceda31d8762352cc3748c}{inputFull}
\item 
Bitfield$<$ 0 $>$ \hyperlink{classX86ISA_1_1I8042_a7f94b3d2e2e3de211854f0645c7e0ec6}{outputFull}
\item 
Bitfield$<$ 5 $>$ \hyperlink{classX86ISA_1_1I8042_ad59723c85703511350224ef784f6a9ac}{disableMouse}
\item 
Bitfield$<$ 4 $>$ \hyperlink{classX86ISA_1_1I8042_ac82b276112510c9b2475d568d42b4d9e}{disableKeyboard}
\item 
Bitfield$<$ 1 $>$ \hyperlink{classX86ISA_1_1I8042_a38053b2dbafabea0adbbe5a36998f465}{mouseFullInt}
\item 
Bitfield$<$ 0 $>$ \hyperlink{classX86ISA_1_1I8042_a212d28c640ebffd0723d406a3e85ba13}{keyboardFullInt}
\item 
\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classX86ISA_1_1I8042_af1be5149a7fbbf84684505d8ef42f46f}{dataPort}
\item 
\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classX86ISA_1_1I8042_a922fab707fbbc527ea7d1df668c33513}{commandPort}
\item 
StatusReg \hyperlink{classX86ISA_1_1I8042_a08336c94695c08fbcf6cb02060bd9b94}{statusReg}
\item 
CommandByte \hyperlink{classX86ISA_1_1I8042_a70ba06fc42f64ee547bc6ac1d84b8605}{commandByte}
\item 
uint8\_\-t \hyperlink{classX86ISA_1_1I8042_a09dcf88896631b75dbb19f2a5be01e30}{dataReg}
\item 
uint16\_\-t \hyperlink{classX86ISA_1_1I8042_a0db1139e4bbd0a84a125c3aec0cb4334}{lastCommand}
\item 
\hyperlink{classX86ISA_1_1IntSourcePin}{IntSourcePin} $\ast$ \hyperlink{classX86ISA_1_1I8042_a43567e6650dc601b0bdbb359a639d974}{mouseIntPin}
\item 
\hyperlink{classX86ISA_1_1IntSourcePin}{IntSourcePin} $\ast$ \hyperlink{classX86ISA_1_1I8042_a93c7118e433fc446924c13e65a718473}{keyboardIntPin}
\item 
\hyperlink{classX86ISA_1_1PS2Mouse}{PS2Mouse} \hyperlink{classX86ISA_1_1I8042_ab174297071ac5e00a17024b3ea4489a8}{mouse}
\item 
\hyperlink{classX86ISA_1_1PS2Keyboard}{PS2Keyboard} \hyperlink{classX86ISA_1_1I8042_a4d45508aaea1af22f73cbd9fa5525f33}{keyboard}
\end{DoxyCompactItemize}
\subsection*{Static Protected 変数}
\begin{DoxyCompactItemize}
\item 
static const uint16\_\-t \hyperlink{classX86ISA_1_1I8042_afa7b02fd8bda5e1de413e0b8776294ad}{NoCommand} = (uint16\_\-t)(-\/1)
\end{DoxyCompactItemize}


\subsection{型定義}
\hypertarget{classX86ISA_1_1I8042_ae70fe038127f3e2a71a81dde45f38dc5}{
\index{X86ISA::I8042@{X86ISA::I8042}!Params@{Params}}
\index{Params@{Params}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef I8042Params {\bf Params}}}
\label{classX86ISA_1_1I8042_ae70fe038127f3e2a71a81dde45f38dc5}


\hyperlink{classBasicPioDevice_a2845515ac6467f10540747053c8a0449}{BasicPioDevice}を再定義しています。

\subsection{列挙型}
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153}{
\index{X86ISA::I8042@{X86ISA::I8042}!Command@{Command}}
\index{Command@{Command}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{Command}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Command}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{GetCommandByte@{GetCommandByte}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!GetCommandByte@{GetCommandByte}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a23d5de50ab3986c273f16d27873759b8}{
GetCommandByte}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a23d5de50ab3986c273f16d27873759b8}
}]\index{ReadControllerRamBase@{ReadControllerRamBase}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!ReadControllerRamBase@{ReadControllerRamBase}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a9b0985cd9d73a7881a7453e9287fc020}{
ReadControllerRamBase}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a9b0985cd9d73a7881a7453e9287fc020}
}]\index{WriteCommandByte@{WriteCommandByte}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!WriteCommandByte@{WriteCommandByte}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153ab1dea94380ecd4e4c89e930df17d8d47}{
WriteCommandByte}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153ab1dea94380ecd4e4c89e930df17d8d47}
}]\index{WriteControllerRamBase@{WriteControllerRamBase}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!WriteControllerRamBase@{WriteControllerRamBase}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a05cf4c570a5283bcd19744ece80507ea}{
WriteControllerRamBase}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a05cf4c570a5283bcd19744ece80507ea}
}]\index{CheckForPassword@{CheckForPassword}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!CheckForPassword@{CheckForPassword}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a22b61ddbb05a5f9d258cd86e4f257cca}{
CheckForPassword}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a22b61ddbb05a5f9d258cd86e4f257cca}
}]\index{LoadPassword@{LoadPassword}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!LoadPassword@{LoadPassword}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a2eaca5606959cbc70001d3138ceda8b6}{
LoadPassword}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a2eaca5606959cbc70001d3138ceda8b6}
}]\index{CheckPassword@{CheckPassword}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!CheckPassword@{CheckPassword}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a015a89c4c142f0f69d5ac2cb7bf56b9c}{
CheckPassword}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a015a89c4c142f0f69d5ac2cb7bf56b9c}
}]\index{DisableMouse@{DisableMouse}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!DisableMouse@{DisableMouse}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153abbe97dae342dfdf3e85a257c90a6ce60}{
DisableMouse}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153abbe97dae342dfdf3e85a257c90a6ce60}
}]\index{EnableMouse@{EnableMouse}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!EnableMouse@{EnableMouse}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a16c1a67575ff1313d2c25473e8ac04e4}{
EnableMouse}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a16c1a67575ff1313d2c25473e8ac04e4}
}]\index{TestMouse@{TestMouse}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!TestMouse@{TestMouse}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a6277be2e9193123b1eac49cca489fc0c}{
TestMouse}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a6277be2e9193123b1eac49cca489fc0c}
}]\index{SelfTest@{SelfTest}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!SelfTest@{SelfTest}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a9248a447bc1c5001d5692afd5fc86f06}{
SelfTest}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a9248a447bc1c5001d5692afd5fc86f06}
}]\index{InterfaceTest@{InterfaceTest}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!InterfaceTest@{InterfaceTest}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a1c8233858c433f8bdbc3ce5185c0a101}{
InterfaceTest}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a1c8233858c433f8bdbc3ce5185c0a101}
}]\index{DiagnosticDump@{DiagnosticDump}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!DiagnosticDump@{DiagnosticDump}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a099644eade2e1c756daae13c264ba5b8}{
DiagnosticDump}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a099644eade2e1c756daae13c264ba5b8}
}]\index{DisableKeyboard@{DisableKeyboard}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!DisableKeyboard@{DisableKeyboard}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153aeb0e477719ae6fd34645beef2a1ad752}{
DisableKeyboard}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153aeb0e477719ae6fd34645beef2a1ad752}
}]\index{EnableKeyboard@{EnableKeyboard}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!EnableKeyboard@{EnableKeyboard}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a1f7b43427403a4c6f1574b16c967cecc}{
EnableKeyboard}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a1f7b43427403a4c6f1574b16c967cecc}
}]\index{ReadInputPort@{ReadInputPort}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!ReadInputPort@{ReadInputPort}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a8509d4fd3b0205f744f648a4bc2052d7}{
ReadInputPort}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a8509d4fd3b0205f744f648a4bc2052d7}
}]\index{ContinuousPollLow@{ContinuousPollLow}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!ContinuousPollLow@{ContinuousPollLow}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a051d34b6b649514ad2cd950431393bb1}{
ContinuousPollLow}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a051d34b6b649514ad2cd950431393bb1}
}]\index{ContinuousPollHigh@{ContinuousPollHigh}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!ContinuousPollHigh@{ContinuousPollHigh}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a04558413a7a04cf4f5348e31f7e25d41}{
ContinuousPollHigh}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a04558413a7a04cf4f5348e31f7e25d41}
}]\index{ReadOutputPort@{ReadOutputPort}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!ReadOutputPort@{ReadOutputPort}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153aade35f253085f916a9e93b23f87d7192}{
ReadOutputPort}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153aade35f253085f916a9e93b23f87d7192}
}]\index{WriteOutputPort@{WriteOutputPort}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!WriteOutputPort@{WriteOutputPort}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a4f2168d3b7108d68797c401ca07dcadd}{
WriteOutputPort}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a4f2168d3b7108d68797c401ca07dcadd}
}]\index{WriteKeyboardOutputBuff@{WriteKeyboardOutputBuff}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!WriteKeyboardOutputBuff@{WriteKeyboardOutputBuff}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a3ec3c826304679aa03f277eb6f237b78}{
WriteKeyboardOutputBuff}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a3ec3c826304679aa03f277eb6f237b78}
}]\index{WriteMouseOutputBuff@{WriteMouseOutputBuff}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!WriteMouseOutputBuff@{WriteMouseOutputBuff}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a1472aac208d2a3be8de4ea68f2df7582}{
WriteMouseOutputBuff}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a1472aac208d2a3be8de4ea68f2df7582}
}]\index{WriteToMouse@{WriteToMouse}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!WriteToMouse@{WriteToMouse}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153aca85cf74a065e596943486095dc366ef}{
WriteToMouse}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153aca85cf74a065e596943486095dc366ef}
}]\index{DisableA20@{DisableA20}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!DisableA20@{DisableA20}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a6389bcd602a97980469a0dc45b453b7c}{
DisableA20}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a6389bcd602a97980469a0dc45b453b7c}
}]\index{EnableA20@{EnableA20}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!EnableA20@{EnableA20}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a43a94edb97e3e43d85007fd572854b22}{
EnableA20}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a43a94edb97e3e43d85007fd572854b22}
}]\index{ReadTestInputs@{ReadTestInputs}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!ReadTestInputs@{ReadTestInputs}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153afcf1121396fa916967c3206c5803eb11}{
ReadTestInputs}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153afcf1121396fa916967c3206c5803eb11}
}]\index{PulseOutputBitBase@{PulseOutputBitBase}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!PulseOutputBitBase@{PulseOutputBitBase}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a711be2129b337131e878f1dfc6d9a79d}{
PulseOutputBitBase}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a711be2129b337131e878f1dfc6d9a79d}
}]\index{SystemReset@{SystemReset}!X86ISA::I8042@{X86ISA::I8042}}\index{X86ISA::I8042@{X86ISA::I8042}!SystemReset@{SystemReset}}\item[{\em 
\hypertarget{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a7256ac4658ec7af1eb4705b83266a603}{
SystemReset}
\label{classX86ISA_1_1I8042_a2afce0a47a93eee73a314d53e4890153a7256ac4658ec7af1eb4705b83266a603}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
163     {
164         GetCommandByte = 0x20,
165         ReadControllerRamBase = 0x20,
166         WriteCommandByte = 0x60,
167         WriteControllerRamBase = 0x60,
168         CheckForPassword = 0xA4,
169         LoadPassword = 0xA5,
170         CheckPassword = 0xA6,
171         DisableMouse = 0xA7,
172         EnableMouse = 0xA8,
173         TestMouse = 0xA9,
174         SelfTest = 0xAA,
175         InterfaceTest = 0xAB,
176         DiagnosticDump = 0xAC,
177         DisableKeyboard = 0xAD,
178         EnableKeyboard = 0xAE,
179         ReadInputPort = 0xC0,
180         ContinuousPollLow = 0xC1,
181         ContinuousPollHigh = 0xC2,
182         ReadOutputPort = 0xD0,
183         WriteOutputPort = 0xD1,
184         WriteKeyboardOutputBuff = 0xD2,
185         WriteMouseOutputBuff = 0xD3,
186         WriteToMouse = 0xD4,
187         DisableA20 = 0xDD,
188         EnableA20 = 0xDF,
189         ReadTestInputs = 0xE0,
190         PulseOutputBitBase = 0xF0,
191         SystemReset = 0xFE
192     };
\end{DoxyCode}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classX86ISA_1_1I8042_a46a61113522fbd1946d4f58441b939bf}{
\index{X86ISA::I8042@{X86ISA::I8042}!I8042@{I8042}}
\index{I8042@{I8042}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{I8042}]{\setlength{\rightskip}{0pt plus 5cm}{\bf I8042} ({\bf Params} $\ast$ {\em p})}}
\label{classX86ISA_1_1I8042_a46a61113522fbd1946d4f58441b939bf}



\begin{DoxyCode}
48     : BasicPioDevice(p, 0), // pioSize arg is dummy value... not used
49       latency(p->pio_latency),
50       dataPort(p->data_port), commandPort(p->command_port),
51       statusReg(0), commandByte(0), dataReg(0), lastCommand(NoCommand),
52       mouseIntPin(p->mouse_int_pin), keyboardIntPin(p->keyboard_int_pin)
53 {
54     statusReg.passedSelfTest = 1;
55     statusReg.commandLast = 1;
56     statusReg.keyboardUnlocked = 1;
57 
58     commandByte.convertScanCodes = 1;
59     commandByte.passedSelfTest = 1;
60     commandByte.keyboardFullInt = 1;
61 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classX86ISA_1_1I8042_ac0c09369d67be3737e41443fac983e6a}{
\index{X86ISA::I8042@{X86ISA::I8042}!BitUnion8@{BitUnion8}}
\index{BitUnion8@{BitUnion8}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{BitUnion8}]{\setlength{\rightskip}{0pt plus 5cm}BitUnion8 (StatusReg)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_ac0c09369d67be3737e41443fac983e6a}
\hypertarget{classX86ISA_1_1I8042_ad32329bafc0b040cc55ed2025f6ed478}{
\index{X86ISA::I8042@{X86ISA::I8042}!EndBitUnion@{EndBitUnion}}
\index{EndBitUnion@{EndBitUnion}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{EndBitUnion}]{\setlength{\rightskip}{0pt plus 5cm}EndBitUnion (CommandByte)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_ad32329bafc0b040cc55ed2025f6ed478}
\hypertarget{classX86ISA_1_1I8042_a1da145de36668df00f37d59c90f5eae2}{
\index{X86ISA::I8042@{X86ISA::I8042}!EndBitUnion@{EndBitUnion}}
\index{EndBitUnion@{EndBitUnion}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{EndBitUnion}]{\setlength{\rightskip}{0pt plus 5cm}EndBitUnion (StatusReg)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a1da145de36668df00f37d59c90f5eae2}
\hypertarget{classX86ISA_1_1I8042_a36cf113d5e5e091ebddb32306c098fae}{
\index{X86ISA::I8042@{X86ISA::I8042}!getAddrRanges@{getAddrRanges}}
\index{getAddrRanges@{getAddrRanges}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{getAddrRanges}]{\setlength{\rightskip}{0pt plus 5cm}{\bf AddrRangeList} getAddrRanges () const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classX86ISA_1_1I8042_a36cf113d5e5e091ebddb32306c098fae}
Determine the address ranges that this device responds to.

\begin{DoxyReturn}{戻り値}
a list of non-\/overlapping address ranges 
\end{DoxyReturn}


\hyperlink{classBasicPioDevice_a36cf113d5e5e091ebddb32306c098fae}{BasicPioDevice}を再定義しています。


\begin{DoxyCode}
66 {
67     AddrRangeList ranges;
68     // TODO: Are these really supposed to be a single byte and not 4?
69     ranges.push_back(RangeSize(dataPort, 1));
70     ranges.push_back(RangeSize(commandPort, 1));
71     return ranges;
72 }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1I8042_acd3c3feb78ae7a8f88fe0f110a718dff}{
\index{X86ISA::I8042@{X86ISA::I8042}!params@{params}}
\index{params@{params}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{params}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Params}$\ast$ params () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classX86ISA_1_1I8042_acd3c3feb78ae7a8f88fe0f110a718dff}


\hyperlink{classBasicPioDevice_acd3c3feb78ae7a8f88fe0f110a718dff}{BasicPioDevice}を再定義しています。


\begin{DoxyCode}
240     {
241         return dynamic_cast<const Params *>(_params);
242     }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1I8042_a613ec7d5e1ec64f8d21fec78ae8e568e}{
\index{X86ISA::I8042@{X86ISA::I8042}!read@{read}}
\index{read@{read}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{read}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} read ({\bf PacketPtr} {\em pkt})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classX86ISA_1_1I8042_a613ec7d5e1ec64f8d21fec78ae8e568e}
Pure virtual function that the device must implement. Called when a read command is recieved by the port. 
\begin{DoxyParams}{引数}
\item[{\em pkt}]\hyperlink{classPacket}{Packet} describing this request \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
number of ticks it took to complete 
\end{DoxyReturn}


\hyperlink{classPioDevice_a842312590432036092c422c87a442358}{PioDevice}を実装しています。


\begin{DoxyCode}
314 {
315     assert(pkt->getSize() == 1);
316     Addr addr = pkt->getAddr();
317     if (addr == dataPort) {
318         uint8_t data = readDataOut();
319         //DPRINTF(I8042, "Read from data port got %#02x.\n", data);
320         pkt->set<uint8_t>(data);
321     } else if (addr == commandPort) {
322         //DPRINTF(I8042, "Read status as %#02x.\n", (uint8_t)statusReg);
323         pkt->set<uint8_t>((uint8_t)statusReg);
324     } else {
325         panic("Read from unrecognized port %#x.\n", addr);
326     }
327     pkt->makeAtomicResponse();
328     return latency;
329 }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1I8042_a1ba9c6a2a23bdea21924e02dc6cf9d22}{
\index{X86ISA::I8042@{X86ISA::I8042}!readDataOut@{readDataOut}}
\index{readDataOut@{readDataOut}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{readDataOut}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t readDataOut ()\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a1ba9c6a2a23bdea21924e02dc6cf9d22}



\begin{DoxyCode}
118 {
119     uint8_t data = dataReg;
120     statusReg.outputFull = 0;
121     statusReg.mouseOutputFull = 0;
122     if (keyboard.hasData()) {
123         writeData(keyboard.getData(), false);
124     } else if (mouse.hasData()) {
125         writeData(mouse.getData(), true);
126     }
127     return data;
128 }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1I8042_a53e036786d17361be4c7320d39c99b84}{
\index{X86ISA::I8042@{X86ISA::I8042}!serialize@{serialize}}
\index{serialize@{serialize}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{serialize}]{\setlength{\rightskip}{0pt plus 5cm}void serialize (std::ostream \& {\em os})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classX86ISA_1_1I8042_a53e036786d17361be4c7320d39c99b84}


\hyperlink{classSerializable_ad6272f80ae37e8331e3969b3f072a801}{Serializable}を再定義しています。


\begin{DoxyCode}
467 {
468     uint8_t statusRegData = statusReg.__data;
469     uint8_t commandByteData = commandByte.__data;
470     
471     SERIALIZE_SCALAR(dataPort);
472     SERIALIZE_SCALAR(commandPort);
473     SERIALIZE_SCALAR(statusRegData);
474     SERIALIZE_SCALAR(commandByteData);
475     SERIALIZE_SCALAR(dataReg);
476     SERIALIZE_SCALAR(lastCommand);
477     mouse.serialize("mouse", os);
478     keyboard.serialize("keyboard", os);
479 }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1I8042_af22e5d6d660b97db37003ac61ac4ee49}{
\index{X86ISA::I8042@{X86ISA::I8042}!unserialize@{unserialize}}
\index{unserialize@{unserialize}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{unserialize}]{\setlength{\rightskip}{0pt plus 5cm}void unserialize ({\bf Checkpoint} $\ast$ {\em cp}, \/  const std::string \& {\em section})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classX86ISA_1_1I8042_af22e5d6d660b97db37003ac61ac4ee49}


\hyperlink{classSerializable_af100c4e9feabf3cd918619c88c718387}{Serializable}を再定義しています。


\begin{DoxyCode}
483 {
484     uint8_t statusRegData;
485     uint8_t commandByteData;
486 
487     UNSERIALIZE_SCALAR(dataPort);
488     UNSERIALIZE_SCALAR(commandPort);
489     UNSERIALIZE_SCALAR(statusRegData);
490     UNSERIALIZE_SCALAR(commandByteData);
491     UNSERIALIZE_SCALAR(dataReg);
492     UNSERIALIZE_SCALAR(lastCommand);
493     mouse.unserialize("mouse", cp, section);
494     keyboard.unserialize("keyboard", cp, section);
495 
496     statusReg.__data = statusRegData;
497     commandByte.__data = commandByteData;
498 }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1I8042_a4cefab464e72b5dd42c003a0a4341802}{
\index{X86ISA::I8042@{X86ISA::I8042}!write@{write}}
\index{write@{write}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} write ({\bf PacketPtr} {\em pkt})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classX86ISA_1_1I8042_a4cefab464e72b5dd42c003a0a4341802}
Pure virtual function that the device must implement. Called when a write command is recieved by the port. 
\begin{DoxyParams}{引数}
\item[{\em pkt}]\hyperlink{classPacket}{Packet} describing this request \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
number of ticks it took to complete 
\end{DoxyReturn}


\hyperlink{classPioDevice_afe8371668d023bb2516b286e5e399b6f}{PioDevice}を実装しています。


\begin{DoxyCode}
333 {
334     assert(pkt->getSize() == 1);
335     Addr addr = pkt->getAddr();
336     uint8_t data = pkt->get<uint8_t>();
337     if (addr == dataPort) {
338         statusReg.commandLast = 0;
339         switch (lastCommand) {
340           case NoCommand:
341             if (keyboard.processData(data)) {
342                 writeData(keyboard.getData(), false);
343             }
344             break;
345           case WriteToMouse:
346             if (mouse.processData(data)) {
347                 writeData(mouse.getData(), true);
348             }
349             break;
350           case WriteCommandByte:
351             commandByte = data;
352             DPRINTF(I8042, "Got data %#02x for \"Write "
353                     "command byte\" command.\n", data);
354             statusReg.passedSelfTest = (uint8_t)commandByte.passedSelfTest;
355             break;
356           case WriteMouseOutputBuff:
357             DPRINTF(I8042, "Got data %#02x for \"Write "
358                     "mouse output buffer\" command.\n", data);
359             writeData(data, true);
360             break;
361           default:
362             panic("Data written for unrecognized "
363                     "command %#02x\n", lastCommand);
364         }
365         lastCommand = NoCommand;
366     } else if (addr == commandPort) {
367         DPRINTF(I8042, "Got command %#02x.\n", data);
368         statusReg.commandLast = 1;
369         // These purposefully leave off the first byte of the controller RAM
370         // so it can be handled specially.
371         if (data > ReadControllerRamBase &&
372                 data < ReadControllerRamBase + RamSize) {
373             panic("Attempted to use i8042 read controller RAM command to "
374                     "get byte %d.\n", data - ReadControllerRamBase);
375         } else if (data > WriteControllerRamBase &&
376                 data < WriteControllerRamBase + RamSize) {
377             panic("Attempted to use i8042 read controller RAM command to "
378                     "get byte %d.\n", data - ReadControllerRamBase);
379         } else if (data >= PulseOutputBitBase &&
380                 data < PulseOutputBitBase + NumOutputBits) {
381             panic("Attempted to use i8042 pulse output bit command to "
382                     "to pulse bit %d.\n", data - PulseOutputBitBase);
383         }
384         switch (data) {
385           case GetCommandByte:
386             DPRINTF(I8042, "Getting command byte.\n");
387             writeData(commandByte);
388             break;
389           case WriteCommandByte:
390             DPRINTF(I8042, "Setting command byte.\n");
391             lastCommand = WriteCommandByte;
392             break;
393           case CheckForPassword:
394             panic("i8042 \"Check for password\" command not implemented.\n");
395           case LoadPassword:
396             panic("i8042 \"Load password\" command not implemented.\n");
397           case CheckPassword:
398             panic("i8042 \"Check password\" command not implemented.\n");
399           case DisableMouse:
400             DPRINTF(I8042, "Disabling mouse at controller.\n");
401             commandByte.disableMouse = 1;
402             break;
403           case EnableMouse:
404             DPRINTF(I8042, "Enabling mouse at controller.\n");
405             commandByte.disableMouse = 0;
406             break;
407           case TestMouse:
408             panic("i8042 \"Test mouse\" command not implemented.\n");
409           case SelfTest:
410             panic("i8042 \"Self test\" command not implemented.\n");
411           case InterfaceTest:
412             panic("i8042 \"Interface test\" command not implemented.\n");
413           case DiagnosticDump:
414             panic("i8042 \"Diagnostic dump\" command not implemented.\n");
415           case DisableKeyboard:
416             DPRINTF(I8042, "Disabling keyboard at controller.\n");
417             commandByte.disableKeyboard = 1;
418             break;
419           case EnableKeyboard:
420             DPRINTF(I8042, "Enabling keyboard at controller.\n");
421             commandByte.disableKeyboard = 0;
422             break;
423           case ReadInputPort:
424             panic("i8042 \"Read input port\" command not implemented.\n");
425           case ContinuousPollLow:
426             panic("i8042 \"Continuous poll low\" command not implemented.\n");
427           case ContinuousPollHigh:
428             panic("i8042 \"Continuous poll high\" command not implemented.\n");
429           case ReadOutputPort:
430             panic("i8042 \"Read output port\" command not implemented.\n");
431           case WriteOutputPort:
432             warn("i8042 \"Write output port\" command not implemented.\n");
433             lastCommand = WriteOutputPort;
434           case WriteKeyboardOutputBuff:
435             warn("i8042 \"Write keyboard output buffer\" "
436                     "command not implemented.\n");
437             lastCommand = WriteKeyboardOutputBuff;
438           case WriteMouseOutputBuff:
439             DPRINTF(I8042, "Got command to write to mouse output buffer.\n");
440             lastCommand = WriteMouseOutputBuff;
441             break;
442           case WriteToMouse:
443             DPRINTF(I8042, "Expecting mouse command.\n");
444             lastCommand = WriteToMouse;
445             break;
446           case DisableA20:
447             panic("i8042 \"Disable A20\" command not implemented.\n");
448           case EnableA20:
449             panic("i8042 \"Enable A20\" command not implemented.\n");
450           case ReadTestInputs:
451             panic("i8042 \"Read test inputs\" command not implemented.\n");
452           case SystemReset:
453             panic("i8042 \"System reset\" command not implemented.\n");
454           default:
455             warn("Write to unknown i8042 "
456                     "(keyboard controller) command port.\n");
457         }
458     } else {
459         panic("Write to unrecognized port %#x.\n", addr);
460     }
461     pkt->makeAtomicResponse();
462     return latency;
463 }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1I8042_abc11493a3bf9f79d51f3c434c64483da}{
\index{X86ISA::I8042@{X86ISA::I8042}!writeData@{writeData}}
\index{writeData@{writeData}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{writeData}]{\setlength{\rightskip}{0pt plus 5cm}void writeData (uint8\_\-t {\em newData}, \/  bool {\em mouse} = {\ttfamily false})\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_abc11493a3bf9f79d51f3c434c64483da}



\begin{DoxyCode}
76 {
77     DPRINTF(I8042, "Set data %#02x.\n", newData);
78     dataReg = newData;
79     statusReg.outputFull = 1;
80     statusReg.mouseOutputFull = (mouse ? 1 : 0);
81     if (!mouse && commandByte.keyboardFullInt) {
82         DPRINTF(I8042, "Sending keyboard interrupt.\n");
83         keyboardIntPin->raise();
84         //This is a hack
85         keyboardIntPin->lower();
86     } else if (mouse && commandByte.mouseFullInt) {
87         DPRINTF(I8042, "Sending mouse interrupt.\n");
88         mouseIntPin->raise();
89         //This is a hack
90         mouseIntPin->lower();
91     }
92 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classX86ISA_1_1I8042_a70ba06fc42f64ee547bc6ac1d84b8605}{
\index{X86ISA::I8042@{X86ISA::I8042}!commandByte@{commandByte}}
\index{commandByte@{commandByte}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{commandByte}]{\setlength{\rightskip}{0pt plus 5cm}CommandByte {\bf commandByte}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a70ba06fc42f64ee547bc6ac1d84b8605}
\hypertarget{classX86ISA_1_1I8042_a18c2dccc45c7e23576d55985c4b23eb5}{
\index{X86ISA::I8042@{X86ISA::I8042}!commandLast@{commandLast}}
\index{commandLast@{commandLast}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{commandLast}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$3$>$ {\bf commandLast}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a18c2dccc45c7e23576d55985c4b23eb5}
\hypertarget{classX86ISA_1_1I8042_a922fab707fbbc527ea7d1df668c33513}{
\index{X86ISA::I8042@{X86ISA::I8042}!commandPort@{commandPort}}
\index{commandPort@{commandPort}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{commandPort}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} {\bf commandPort}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a922fab707fbbc527ea7d1df668c33513}
\hypertarget{classX86ISA_1_1I8042_af1be5149a7fbbf84684505d8ef42f46f}{
\index{X86ISA::I8042@{X86ISA::I8042}!dataPort@{dataPort}}
\index{dataPort@{dataPort}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{dataPort}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} {\bf dataPort}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_af1be5149a7fbbf84684505d8ef42f46f}
\hypertarget{classX86ISA_1_1I8042_a09dcf88896631b75dbb19f2a5be01e30}{
\index{X86ISA::I8042@{X86ISA::I8042}!dataReg@{dataReg}}
\index{dataReg@{dataReg}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{dataReg}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t {\bf dataReg}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a09dcf88896631b75dbb19f2a5be01e30}
\hypertarget{classX86ISA_1_1I8042_ac82b276112510c9b2475d568d42b4d9e}{
\index{X86ISA::I8042@{X86ISA::I8042}!disableKeyboard@{disableKeyboard}}
\index{disableKeyboard@{disableKeyboard}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{disableKeyboard}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$4$>$ {\bf disableKeyboard}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_ac82b276112510c9b2475d568d42b4d9e}
\hypertarget{classX86ISA_1_1I8042_ad59723c85703511350224ef784f6a9ac}{
\index{X86ISA::I8042@{X86ISA::I8042}!disableMouse@{disableMouse}}
\index{disableMouse@{disableMouse}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{disableMouse}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$5$>$ {\bf disableMouse}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_ad59723c85703511350224ef784f6a9ac}
\hypertarget{classX86ISA_1_1I8042_a39b55243e60ceda31d8762352cc3748c}{
\index{X86ISA::I8042@{X86ISA::I8042}!inputFull@{inputFull}}
\index{inputFull@{inputFull}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{inputFull}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$1$>$ {\bf inputFull}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a39b55243e60ceda31d8762352cc3748c}
\hypertarget{classX86ISA_1_1I8042_a4d45508aaea1af22f73cbd9fa5525f33}{
\index{X86ISA::I8042@{X86ISA::I8042}!keyboard@{keyboard}}
\index{keyboard@{keyboard}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{keyboard}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PS2Keyboard} {\bf keyboard}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a4d45508aaea1af22f73cbd9fa5525f33}
\hypertarget{classX86ISA_1_1I8042_a212d28c640ebffd0723d406a3e85ba13}{
\index{X86ISA::I8042@{X86ISA::I8042}!keyboardFullInt@{keyboardFullInt}}
\index{keyboardFullInt@{keyboardFullInt}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{keyboardFullInt}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$0$>$ {\bf keyboardFullInt}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a212d28c640ebffd0723d406a3e85ba13}
\hypertarget{classX86ISA_1_1I8042_a93c7118e433fc446924c13e65a718473}{
\index{X86ISA::I8042@{X86ISA::I8042}!keyboardIntPin@{keyboardIntPin}}
\index{keyboardIntPin@{keyboardIntPin}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{keyboardIntPin}]{\setlength{\rightskip}{0pt plus 5cm}{\bf IntSourcePin}$\ast$ {\bf keyboardIntPin}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a93c7118e433fc446924c13e65a718473}
\hypertarget{classX86ISA_1_1I8042_a4f11d228c35e9d97c1cc003762735a41}{
\index{X86ISA::I8042@{X86ISA::I8042}!keyboardUnlocked@{keyboardUnlocked}}
\index{keyboardUnlocked@{keyboardUnlocked}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{keyboardUnlocked}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$4$>$ {\bf keyboardUnlocked}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a4f11d228c35e9d97c1cc003762735a41}
\hypertarget{classX86ISA_1_1I8042_a0db1139e4bbd0a84a125c3aec0cb4334}{
\index{X86ISA::I8042@{X86ISA::I8042}!lastCommand@{lastCommand}}
\index{lastCommand@{lastCommand}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{lastCommand}]{\setlength{\rightskip}{0pt plus 5cm}uint16\_\-t {\bf lastCommand}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a0db1139e4bbd0a84a125c3aec0cb4334}
\hypertarget{classX86ISA_1_1I8042_ab174297071ac5e00a17024b3ea4489a8}{
\index{X86ISA::I8042@{X86ISA::I8042}!mouse@{mouse}}
\index{mouse@{mouse}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{mouse}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PS2Mouse} {\bf mouse}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_ab174297071ac5e00a17024b3ea4489a8}
\hypertarget{classX86ISA_1_1I8042_a38053b2dbafabea0adbbe5a36998f465}{
\index{X86ISA::I8042@{X86ISA::I8042}!mouseFullInt@{mouseFullInt}}
\index{mouseFullInt@{mouseFullInt}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{mouseFullInt}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$1$>$ {\bf mouseFullInt}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a38053b2dbafabea0adbbe5a36998f465}
\hypertarget{classX86ISA_1_1I8042_a43567e6650dc601b0bdbb359a639d974}{
\index{X86ISA::I8042@{X86ISA::I8042}!mouseIntPin@{mouseIntPin}}
\index{mouseIntPin@{mouseIntPin}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{mouseIntPin}]{\setlength{\rightskip}{0pt plus 5cm}{\bf IntSourcePin}$\ast$ {\bf mouseIntPin}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a43567e6650dc601b0bdbb359a639d974}
\hypertarget{classX86ISA_1_1I8042_a43270e273e78021e88be7f7afe75721c}{
\index{X86ISA::I8042@{X86ISA::I8042}!mouseOutputFull@{mouseOutputFull}}
\index{mouseOutputFull@{mouseOutputFull}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{mouseOutputFull}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$5$>$ {\bf mouseOutputFull}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a43270e273e78021e88be7f7afe75721c}
\hypertarget{classX86ISA_1_1I8042_afa7b02fd8bda5e1de413e0b8776294ad}{
\index{X86ISA::I8042@{X86ISA::I8042}!NoCommand@{NoCommand}}
\index{NoCommand@{NoCommand}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{NoCommand}]{\setlength{\rightskip}{0pt plus 5cm}const uint16\_\-t {\bf NoCommand} = (uint16\_\-t)(-\/1)\hspace{0.3cm}{\ttfamily  \mbox{[}static, protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_afa7b02fd8bda5e1de413e0b8776294ad}
\hypertarget{classX86ISA_1_1I8042_a7f94b3d2e2e3de211854f0645c7e0ec6}{
\index{X86ISA::I8042@{X86ISA::I8042}!outputFull@{outputFull}}
\index{outputFull@{outputFull}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{outputFull}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$0$>$ {\bf outputFull}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a7f94b3d2e2e3de211854f0645c7e0ec6}
\hypertarget{classX86ISA_1_1I8042_a0a84c3649aab70a73e2c963a742a4643}{
\index{X86ISA::I8042@{X86ISA::I8042}!passedSelfTest@{passedSelfTest}}
\index{passedSelfTest@{passedSelfTest}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{passedSelfTest}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$ 2 $>$ {\bf passedSelfTest}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a0a84c3649aab70a73e2c963a742a4643}
\hypertarget{classX86ISA_1_1I8042_a08336c94695c08fbcf6cb02060bd9b94}{
\index{X86ISA::I8042@{X86ISA::I8042}!statusReg@{statusReg}}
\index{statusReg@{statusReg}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{statusReg}]{\setlength{\rightskip}{0pt plus 5cm}StatusReg {\bf statusReg}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a08336c94695c08fbcf6cb02060bd9b94}
\hypertarget{classX86ISA_1_1I8042_a1e751f93440ec6b2aa8aba4c7336d6ea}{
\index{X86ISA::I8042@{X86ISA::I8042}!timeout@{timeout}}
\index{timeout@{timeout}!X86ISA::I8042@{X86ISA::I8042}}
\subsubsection[{timeout}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$6$>$ {\bf timeout}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8042_a1e751f93440ec6b2aa8aba4c7336d6ea}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
dev/x86/\hyperlink{i8042_8hh}{i8042.hh}\item 
dev/x86/\hyperlink{i8042_8cc}{i8042.cc}\end{DoxyCompactItemize}
