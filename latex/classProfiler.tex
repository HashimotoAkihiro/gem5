\hypertarget{classProfiler}{
\section{クラス Profiler}
\label{classProfiler}\index{Profiler@{Profiler}}
}


{\ttfamily \#include $<$Profiler.hh$>$}\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classProfiler_ab2c59c9f25786669282690a23306cd69}{Profiler} (const RubySystemParams $\ast$)
\item 
\hyperlink{classProfiler_aa0f87e10a29a76f6358f43b09621df51}{$\sim$Profiler} ()
\item 
void \hyperlink{classProfiler_ae674290a26ecbd622c5160e38e8a4fe9}{wakeup} ()
\item 
void \hyperlink{classProfiler_a3dd3443357312bcb75580eaa508c48a4}{regStats} (const std::string \&name)
\item 
void \hyperlink{classProfiler_a208669cbc0bb1d52565956ca8c690c55}{collateStats} ()
\item 
\hyperlink{classAddressProfiler}{AddressProfiler} $\ast$ \hyperlink{classProfiler_a380304db5e7667dff1ac27da6e26a220}{getAddressProfiler} ()
\item 
\hyperlink{classAddressProfiler}{AddressProfiler} $\ast$ \hyperlink{classProfiler_a5dc719d0d14855b6886f05bf4f1806e2}{getInstructionProfiler} ()
\item 
void \hyperlink{classProfiler_a0a3e52657e723b58457b1dca1c10e01c}{addAddressTraceSample} (const \hyperlink{classRubyRequest}{RubyRequest} \&msg, \hyperlink{TypeDefines_8hh_a83c14b4ae37e80071f6b3506a6c46151}{NodeID} id)
\item 
bool \hyperlink{classProfiler_a51d84ccca8b5f090c1f01ce24d53895c}{getHotLines} ()
\item 
bool \hyperlink{classProfiler_a2468f3f3e9df68e9adff81a531e78795}{getAllInstructions} ()
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classProfiler_a790e796e0ecb72b0d281875555505219}{Profiler} (const \hyperlink{classProfiler}{Profiler} \&obj)
\item 
\hyperlink{classProfiler}{Profiler} \& \hyperlink{classProfiler_a60b8f0ed1eda481bdc0c0652cb27a7bf}{operator=} (const \hyperlink{classProfiler}{Profiler} \&obj)
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classAddressProfiler}{AddressProfiler} $\ast$ \hyperlink{classProfiler_a81f2770561a80c04d016aa328e512a2f}{m\_\-address\_\-profiler\_\-ptr}
\item 
\hyperlink{classAddressProfiler}{AddressProfiler} $\ast$ \hyperlink{classProfiler_a32ef2b97dac1a15df5891cb079a0f1b3}{m\_\-inst\_\-profiler\_\-ptr}
\item 
\hyperlink{classStats_1_1Histogram}{Stats::Histogram} \hyperlink{classProfiler_a9acbf121d28a34ab1b05049791522314}{delayHistogram}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ \hyperlink{classProfiler_a0a78c2d2a792ab4ce77627c1465ec4e8}{delayVCHistogram}
\item 
\hyperlink{classStats_1_1Histogram}{Stats::Histogram} \hyperlink{classProfiler_a24e9160c0860bc93a5f57de63544fe65}{m\_\-outstandReqHist}
\begin{DoxyCompactList}\small\item\em \hyperlink{classHistogram}{Histogram} for number of outstanding requests per cycle. \item\end{DoxyCompactList}\item 
\hyperlink{classStats_1_1Histogram}{Stats::Histogram} \hyperlink{classProfiler_aeb3fc96d5f4638c5599ed141c6c6bda7}{m\_\-latencyHist}
\begin{DoxyCompactList}\small\item\em \hyperlink{classHistogram}{Histogram} for holding latency profile of all requests. \item\end{DoxyCompactList}\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ \hyperlink{classProfiler_a21453ca0672126e1c0e204b7c60b3340}{m\_\-typeLatencyHist}
\item 
\hyperlink{classStats_1_1Histogram}{Stats::Histogram} \hyperlink{classProfiler_aa7b4f1cb2f6f69fac85f5fa0be12f95a}{m\_\-hitLatencyHist}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ \hyperlink{classProfiler_aeecaf5411cd3b34435f621db03387b67}{m\_\-hitTypeLatencyHist}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ \hyperlink{classProfiler_add8e2c73ddfe42f1b177e641a0e626d5}{m\_\-hitMachLatencyHist}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ $>$ \hyperlink{classProfiler_aaf855f02483dc21743651007a759ea77}{m\_\-hitTypeMachLatencyHist}
\item 
\hyperlink{classStats_1_1Histogram}{Stats::Histogram} \hyperlink{classProfiler_aff6841cbe8b6a9be485b4c45a8208f93}{m\_\-missLatencyHist}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ \hyperlink{classProfiler_ac5a934c0abe9f0185357eb76de27dee3}{m\_\-missTypeLatencyHist}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ \hyperlink{classProfiler_a55e994bce4da18f7600be6cbf7a4a3b5}{m\_\-missMachLatencyHist}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ $>$ \hyperlink{classProfiler_a8e022aebc37a4b83df56956874befd75}{m\_\-missTypeMachLatencyHist}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ \hyperlink{classProfiler_a503562ca3d885333c87da80d05ee612a}{m\_\-IssueToInitialDelayHist}
\begin{DoxyCompactList}\small\item\em Histograms for recording the breakdown of miss latency. \item\end{DoxyCompactList}\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ \hyperlink{classProfiler_a0dbfb83f6edf61cad3d0aebdc89ed370}{m\_\-InitialToForwardDelayHist}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ \hyperlink{classProfiler_ae9bea11c9b001a155e7f7a0f39ac7bf9}{m\_\-ForwardToFirstResponseDelayHist}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classStats_1_1Histogram}{Stats::Histogram} $\ast$ $>$ \hyperlink{classProfiler_a6236c49462f2162310ca62569ec869ac}{m\_\-FirstResponseToCompletionDelayHist}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classProfiler_a4646ee2cafcbe46b66af5d8253eac92f}{m\_\-IncompleteTimes} \mbox{[}MachineType\_\-NUM\mbox{]}
\item 
bool \hyperlink{classProfiler_a3b63dfc643f2cf98e6d5deff9fce467e}{m\_\-hot\_\-lines}
\item 
bool \hyperlink{classProfiler_a32e2ae13dc24a9bd92b83fa9e02477ff}{m\_\-all\_\-instructions}
\end{DoxyCompactItemize}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classProfiler_ab2c59c9f25786669282690a23306cd69}{
\index{Profiler@{Profiler}!Profiler@{Profiler}}
\index{Profiler@{Profiler}!Profiler@{Profiler}}
\subsubsection[{Profiler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Profiler} (const RubySystemParams $\ast$ {\em p})}}
\label{classProfiler_ab2c59c9f25786669282690a23306cd69}



\begin{DoxyCode}
65 {
66     m_hot_lines = p->hot_lines;
67     m_all_instructions = p->all_instructions;
68 
69     m_address_profiler_ptr = new AddressProfiler(p->num_of_sequencers);
70     m_address_profiler_ptr->setHotLines(m_hot_lines);
71     m_address_profiler_ptr->setAllInstructions(m_all_instructions);
72 
73     if (m_all_instructions) {
74         m_inst_profiler_ptr = new AddressProfiler(p->num_of_sequencers);
75         m_inst_profiler_ptr->setHotLines(m_hot_lines);
76         m_inst_profiler_ptr->setAllInstructions(m_all_instructions);
77     }
78 }
\end{DoxyCode}
\hypertarget{classProfiler_aa0f87e10a29a76f6358f43b09621df51}{
\index{Profiler@{Profiler}!$\sim$Profiler@{$\sim$Profiler}}
\index{$\sim$Profiler@{$\sim$Profiler}!Profiler@{Profiler}}
\subsubsection[{$\sim$Profiler}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf Profiler} ()}}
\label{classProfiler_aa0f87e10a29a76f6358f43b09621df51}



\begin{DoxyCode}
81 {
82 }
\end{DoxyCode}
\hypertarget{classProfiler_a790e796e0ecb72b0d281875555505219}{
\index{Profiler@{Profiler}!Profiler@{Profiler}}
\index{Profiler@{Profiler}!Profiler@{Profiler}}
\subsubsection[{Profiler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Profiler} (const {\bf Profiler} \& {\em obj})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a790e796e0ecb72b0d281875555505219}


\subsection{関数}
\hypertarget{classProfiler_a0a3e52657e723b58457b1dca1c10e01c}{
\index{Profiler@{Profiler}!addAddressTraceSample@{addAddressTraceSample}}
\index{addAddressTraceSample@{addAddressTraceSample}!Profiler@{Profiler}}
\subsubsection[{addAddressTraceSample}]{\setlength{\rightskip}{0pt plus 5cm}void addAddressTraceSample (const {\bf RubyRequest} \& {\em msg}, \/  {\bf NodeID} {\em id})}}
\label{classProfiler_a0a3e52657e723b58457b1dca1c10e01c}



\begin{DoxyCode}
343 {
344     if (msg.getType() != RubyRequestType_IFETCH) {
345         // Note: The following line should be commented out if you
346         // want to use the special profiling that is part of the GS320
347         // protocol
348 
349         // NOTE: Unless PROFILE_HOT_LINES is enabled, nothing will be
350         // profiled by the AddressProfiler
351         m_address_profiler_ptr->
352             addTraceSample(msg.getLineAddress(), msg.getProgramCounter(),
353                            msg.getType(), msg.getAccessMode(), id, false);
354     }
355 }
\end{DoxyCode}
\hypertarget{classProfiler_a208669cbc0bb1d52565956ca8c690c55}{
\index{Profiler@{Profiler}!collateStats@{collateStats}}
\index{collateStats@{collateStats}!Profiler@{Profiler}}
\subsubsection[{collateStats}]{\setlength{\rightskip}{0pt plus 5cm}void collateStats ()}}
\label{classProfiler_a208669cbc0bb1d52565956ca8c690c55}



\begin{DoxyCode}
245 {
246     if (!m_all_instructions) {
247         m_address_profiler_ptr->collateStats();
248     }
249 
250     if (m_all_instructions) {
251         m_inst_profiler_ptr->collateStats();
252     }
253 
254     uint32_t numVNets = Network::getNumberOfVirtualNetworks();
255     for (uint32_t i = 0; i < MachineType_NUM; i++) {
256         for (map<uint32_t, AbstractController*>::iterator it =
257                   g_abs_controls[i].begin();
258              it != g_abs_controls[i].end(); ++it) {
259 
260             AbstractController *ctr = (*it).second;
261             delayHistogram.add(ctr->getDelayHist());
262 
263             for (uint32_t i = 0; i < numVNets; i++) {
264                 delayVCHistogram[i]->add(ctr->getDelayVCHist(i));
265             }
266         }
267     }
268 
269     for (uint32_t i = 0; i < MachineType_NUM; i++) {
270         for (map<uint32_t, AbstractController*>::iterator it =
271                 g_abs_controls[i].begin();
272                 it != g_abs_controls[i].end(); ++it) {
273 
274             AbstractController *ctr = (*it).second;
275             Sequencer *seq = ctr->getSequencer();
276             if (seq != NULL) {
277                 m_outstandReqHist.add(seq->getOutstandReqHist());
278             }
279         }
280     }
281 
282     for (uint32_t i = 0; i < MachineType_NUM; i++) {
283         for (map<uint32_t, AbstractController*>::iterator it =
284                 g_abs_controls[i].begin();
285                 it != g_abs_controls[i].end(); ++it) {
286 
287             AbstractController *ctr = (*it).second;
288             Sequencer *seq = ctr->getSequencer();
289             if (seq != NULL) {
290                 // add all the latencies
291                 m_latencyHist.add(seq->getLatencyHist());
292                 m_hitLatencyHist.add(seq->getHitLatencyHist());
293                 m_missLatencyHist.add(seq->getMissLatencyHist());
294 
295                 // add the per request type latencies
296                 for (uint32_t j = 0; j < RubyRequestType_NUM; ++j) {
297                     m_typeLatencyHist[j]
298                         ->add(seq->getTypeLatencyHist(j));
299                     m_hitTypeLatencyHist[j]
300                         ->add(seq->getHitTypeLatencyHist(j));
301                     m_missTypeLatencyHist[j]
302                         ->add(seq->getMissTypeLatencyHist(j));
303                 }
304 
305                 // add the per machine type miss latencies
306                 for (uint32_t j = 0; j < MachineType_NUM; ++j) {
307                     m_hitMachLatencyHist[j]
308                         ->add(seq->getHitMachLatencyHist(j));
309                     m_missMachLatencyHist[j]
310                         ->add(seq->getMissMachLatencyHist(j));
311 
312                     m_IssueToInitialDelayHist[j]->add(
313                         seq->getIssueToInitialDelayHist(MachineType(j)));
314 
315                     m_InitialToForwardDelayHist[j]->add(
316                         seq->getInitialToForwardDelayHist(MachineType(j)));
317                     m_ForwardToFirstResponseDelayHist[j]->add(seq->
318                         getForwardRequestToFirstResponseHist(MachineType(j)));
319 
320                     m_FirstResponseToCompletionDelayHist[j]->add(seq->
321                         getFirstResponseToCompletionDelayHist(
322                             MachineType(j)));
323                     m_IncompleteTimes[j] +=
324                         seq->getIncompleteTimes(MachineType(j));
325                 }
326 
327                 // add the per (request, machine) type miss latencies
328                 for (uint32_t j = 0; j < RubyRequestType_NUM; j++) {
329                     for (uint32_t k = 0; k < MachineType_NUM; k++) {
330                         m_hitTypeMachLatencyHist[j][k]->add(
331                                 seq->getHitTypeMachLatencyHist(j,k));
332                         m_missTypeMachLatencyHist[j][k]->add(
333                                 seq->getMissTypeMachLatencyHist(j,k));
334                     }
335                 }
336             }
337         }
338     }
339 }
\end{DoxyCode}
\hypertarget{classProfiler_a380304db5e7667dff1ac27da6e26a220}{
\index{Profiler@{Profiler}!getAddressProfiler@{getAddressProfiler}}
\index{getAddressProfiler@{getAddressProfiler}!Profiler@{Profiler}}
\subsubsection[{getAddressProfiler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf AddressProfiler}$\ast$ getAddressProfiler ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classProfiler_a380304db5e7667dff1ac27da6e26a220}



\begin{DoxyCode}
76 { return m_address_profiler_ptr; }
\end{DoxyCode}
\hypertarget{classProfiler_a2468f3f3e9df68e9adff81a531e78795}{
\index{Profiler@{Profiler}!getAllInstructions@{getAllInstructions}}
\index{getAllInstructions@{getAllInstructions}!Profiler@{Profiler}}
\subsubsection[{getAllInstructions}]{\setlength{\rightskip}{0pt plus 5cm}bool getAllInstructions ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classProfiler_a2468f3f3e9df68e9adff81a531e78795}



\begin{DoxyCode}
83 { return m_all_instructions; }
\end{DoxyCode}
\hypertarget{classProfiler_a51d84ccca8b5f090c1f01ce24d53895c}{
\index{Profiler@{Profiler}!getHotLines@{getHotLines}}
\index{getHotLines@{getHotLines}!Profiler@{Profiler}}
\subsubsection[{getHotLines}]{\setlength{\rightskip}{0pt plus 5cm}bool getHotLines ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classProfiler_a51d84ccca8b5f090c1f01ce24d53895c}



\begin{DoxyCode}
82 { return m_hot_lines; }
\end{DoxyCode}
\hypertarget{classProfiler_a5dc719d0d14855b6886f05bf4f1806e2}{
\index{Profiler@{Profiler}!getInstructionProfiler@{getInstructionProfiler}}
\index{getInstructionProfiler@{getInstructionProfiler}!Profiler@{Profiler}}
\subsubsection[{getInstructionProfiler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf AddressProfiler}$\ast$ getInstructionProfiler ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classProfiler_a5dc719d0d14855b6886f05bf4f1806e2}



\begin{DoxyCode}
77 { return m_inst_profiler_ptr; }
\end{DoxyCode}
\hypertarget{classProfiler_a60b8f0ed1eda481bdc0c0652cb27a7bf}{
\index{Profiler@{Profiler}!operator=@{operator=}}
\index{operator=@{operator=}!Profiler@{Profiler}}
\subsubsection[{operator=}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Profiler}\& operator= (const {\bf Profiler} \& {\em obj})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a60b8f0ed1eda481bdc0c0652cb27a7bf}
\hypertarget{classProfiler_a3dd3443357312bcb75580eaa508c48a4}{
\index{Profiler@{Profiler}!regStats@{regStats}}
\index{regStats@{regStats}!Profiler@{Profiler}}
\subsubsection[{regStats}]{\setlength{\rightskip}{0pt plus 5cm}void regStats (const std::string \& {\em name})}}
\label{classProfiler_a3dd3443357312bcb75580eaa508c48a4}



\begin{DoxyCode}
86 {
87     if (!m_all_instructions) {
88         m_address_profiler_ptr->regStats(pName);
89     }
90 
91     if (m_all_instructions) {
92         m_inst_profiler_ptr->regStats(pName);
93     }
94 
95     delayHistogram
96         .init(10)
97         .name(pName + ".delayHist")
98         .desc("delay histogram for all message")
99         .flags(Stats::nozero | Stats::pdf | Stats::oneline);
100 
101     uint32_t numVNets = Network::getNumberOfVirtualNetworks();
102     for (int i = 0; i < numVNets; i++) {
103         delayVCHistogram.push_back(new Stats::Histogram());
104         delayVCHistogram[i]
105             ->init(10)
106             .name(pName + csprintf(".delayVCHist.vnet_%i", i))
107             .desc(csprintf("delay histogram for vnet_%i", i))
108             .flags(Stats::nozero | Stats::pdf | Stats::oneline);
109     }
110 
111     m_outstandReqHist
112         .init(10)
113         .name(pName + ".outstanding_req_hist")
114         .desc("")
115         .flags(Stats::nozero | Stats::pdf | Stats::oneline);
116 
117     m_latencyHist
118         .init(10)
119         .name(pName + ".latency_hist")
120         .desc("")
121         .flags(Stats::nozero | Stats::pdf | Stats::oneline);
122 
123     m_hitLatencyHist
124         .init(10)
125         .name(pName + ".hit_latency_hist")
126         .desc("")
127         .flags(Stats::nozero | Stats::pdf | Stats::oneline);
128 
129     m_missLatencyHist
130         .init(10)
131         .name(pName + ".miss_latency_hist")
132         .desc("")
133         .flags(Stats::nozero | Stats::pdf | Stats::oneline);
134 
135     for (int i = 0; i < RubyRequestType_NUM; i++) {
136         m_typeLatencyHist.push_back(new Stats::Histogram());
137         m_typeLatencyHist[i]
138             ->init(10)
139             .name(pName + csprintf(".%s.latency_hist",
140                                     RubyRequestType(i)))
141             .desc("")
142             .flags(Stats::nozero | Stats::pdf | Stats::oneline);
143 
144         m_hitTypeLatencyHist.push_back(new Stats::Histogram());
145         m_hitTypeLatencyHist[i]
146             ->init(10)
147             .name(pName + csprintf(".%s.hit_latency_hist",
148                                     RubyRequestType(i)))
149             .desc("")
150             .flags(Stats::nozero | Stats::pdf | Stats::oneline);
151 
152         m_missTypeLatencyHist.push_back(new Stats::Histogram());
153         m_missTypeLatencyHist[i]
154             ->init(10)
155             .name(pName + csprintf(".%s.miss_latency_hist",
156                                     RubyRequestType(i)))
157             .desc("")
158             .flags(Stats::nozero | Stats::pdf | Stats::oneline);
159     }
160 
161     for (int i = 0; i < MachineType_NUM; i++) {
162         m_hitMachLatencyHist.push_back(new Stats::Histogram());
163         m_hitMachLatencyHist[i]
164             ->init(10)
165             .name(pName + csprintf(".%s.hit_mach_latency_hist",
166                                     MachineType(i)))
167             .desc("")
168             .flags(Stats::nozero | Stats::pdf | Stats::oneline);
169 
170         m_missMachLatencyHist.push_back(new Stats::Histogram());
171         m_missMachLatencyHist[i]
172             ->init(10)
173             .name(pName + csprintf(".%s.miss_mach_latency_hist",
174                                     MachineType(i)))
175             .desc("")
176             .flags(Stats::nozero | Stats::pdf | Stats::oneline);
177 
178         m_IssueToInitialDelayHist.push_back(new Stats::Histogram());
179         m_IssueToInitialDelayHist[i]
180             ->init(10)
181             .name(pName + csprintf(
182                 ".%s.miss_latency_hist.issue_to_initial_request",
183                 MachineType(i)))
184             .desc("")
185             .flags(Stats::nozero | Stats::pdf | Stats::oneline);
186 
187         m_InitialToForwardDelayHist.push_back(new Stats::Histogram());
188         m_InitialToForwardDelayHist[i]
189             ->init(10)
190             .name(pName + csprintf(".%s.miss_latency_hist.initial_to_forward",
191                                    MachineType(i)))
192             .desc("")
193             .flags(Stats::nozero | Stats::pdf | Stats::oneline);
194 
195         m_ForwardToFirstResponseDelayHist.push_back(new Stats::Histogram());
196         m_ForwardToFirstResponseDelayHist[i]
197             ->init(10)
198             .name(pName + csprintf(
199                 ".%s.miss_latency_hist.forward_to_first_response",
200                 MachineType(i)))
201             .desc("")
202             .flags(Stats::nozero | Stats::pdf | Stats::oneline);
203 
204         m_FirstResponseToCompletionDelayHist.push_back(new Stats::Histogram());
205         m_FirstResponseToCompletionDelayHist[i]
206             ->init(10)
207             .name(pName + csprintf(
208                 ".%s.miss_latency_hist.first_response_to_completion",
209                 MachineType(i)))
210             .desc("")
211             .flags(Stats::nozero | Stats::pdf | Stats::oneline);
212 
213         m_IncompleteTimes[i]
214             .name(pName + csprintf(".%s.incomplete_times", MachineType(i)))
215             .desc("")
216             .flags(Stats::nozero);
217     }
218 
219     for (int i = 0; i < RubyRequestType_NUM; i++) {
220         m_hitTypeMachLatencyHist.push_back(std::vector<Stats::Histogram *>());
221         m_missTypeMachLatencyHist.push_back(std::vector<Stats::Histogram *>());
222 
223         for (int j = 0; j < MachineType_NUM; j++) {
224             m_hitTypeMachLatencyHist[i].push_back(new Stats::Histogram());
225             m_hitTypeMachLatencyHist[i][j]
226                 ->init(10)
227                 .name(pName + csprintf(".%s.%s.hit_type_mach_latency_hist",
228                                        RubyRequestType(i), MachineType(j)))
229                 .desc("")
230                 .flags(Stats::nozero | Stats::pdf | Stats::oneline);
231 
232             m_missTypeMachLatencyHist[i].push_back(new Stats::Histogram());
233             m_missTypeMachLatencyHist[i][j]
234                 ->init(10)
235                 .name(pName + csprintf(".%s.%s.miss_type_mach_latency_hist",
236                                        RubyRequestType(i), MachineType(j)))
237                 .desc("")
238                 .flags(Stats::nozero | Stats::pdf | Stats::oneline);
239         }
240     }
241 }
\end{DoxyCode}
\hypertarget{classProfiler_ae674290a26ecbd622c5160e38e8a4fe9}{
\index{Profiler@{Profiler}!wakeup@{wakeup}}
\index{wakeup@{wakeup}!Profiler@{Profiler}}
\subsubsection[{wakeup}]{\setlength{\rightskip}{0pt plus 5cm}void wakeup ()}}
\label{classProfiler_ae674290a26ecbd622c5160e38e8a4fe9}


\subsection{変数}
\hypertarget{classProfiler_a9acbf121d28a34ab1b05049791522314}{
\index{Profiler@{Profiler}!delayHistogram@{delayHistogram}}
\index{delayHistogram@{delayHistogram}!Profiler@{Profiler}}
\subsubsection[{delayHistogram}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Histogram} {\bf delayHistogram}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a9acbf121d28a34ab1b05049791522314}
\hypertarget{classProfiler_a0a78c2d2a792ab4ce77627c1465ec4e8}{
\index{Profiler@{Profiler}!delayVCHistogram@{delayVCHistogram}}
\index{delayVCHistogram@{delayVCHistogram}!Profiler@{Profiler}}
\subsubsection[{delayVCHistogram}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ {\bf delayVCHistogram}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a0a78c2d2a792ab4ce77627c1465ec4e8}
\hypertarget{classProfiler_a81f2770561a80c04d016aa328e512a2f}{
\index{Profiler@{Profiler}!m\_\-address\_\-profiler\_\-ptr@{m\_\-address\_\-profiler\_\-ptr}}
\index{m\_\-address\_\-profiler\_\-ptr@{m\_\-address\_\-profiler\_\-ptr}!Profiler@{Profiler}}
\subsubsection[{m\_\-address\_\-profiler\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf AddressProfiler}$\ast$ {\bf m\_\-address\_\-profiler\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a81f2770561a80c04d016aa328e512a2f}
\hypertarget{classProfiler_a32e2ae13dc24a9bd92b83fa9e02477ff}{
\index{Profiler@{Profiler}!m\_\-all\_\-instructions@{m\_\-all\_\-instructions}}
\index{m\_\-all\_\-instructions@{m\_\-all\_\-instructions}!Profiler@{Profiler}}
\subsubsection[{m\_\-all\_\-instructions}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf m\_\-all\_\-instructions}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a32e2ae13dc24a9bd92b83fa9e02477ff}
\hypertarget{classProfiler_a6236c49462f2162310ca62569ec869ac}{
\index{Profiler@{Profiler}!m\_\-FirstResponseToCompletionDelayHist@{m\_\-FirstResponseToCompletionDelayHist}}
\index{m\_\-FirstResponseToCompletionDelayHist@{m\_\-FirstResponseToCompletionDelayHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-FirstResponseToCompletionDelayHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ {\bf m\_\-FirstResponseToCompletionDelayHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a6236c49462f2162310ca62569ec869ac}
\hypertarget{classProfiler_ae9bea11c9b001a155e7f7a0f39ac7bf9}{
\index{Profiler@{Profiler}!m\_\-ForwardToFirstResponseDelayHist@{m\_\-ForwardToFirstResponseDelayHist}}
\index{m\_\-ForwardToFirstResponseDelayHist@{m\_\-ForwardToFirstResponseDelayHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-ForwardToFirstResponseDelayHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ {\bf m\_\-ForwardToFirstResponseDelayHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_ae9bea11c9b001a155e7f7a0f39ac7bf9}
\hypertarget{classProfiler_aa7b4f1cb2f6f69fac85f5fa0be12f95a}{
\index{Profiler@{Profiler}!m\_\-hitLatencyHist@{m\_\-hitLatencyHist}}
\index{m\_\-hitLatencyHist@{m\_\-hitLatencyHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-hitLatencyHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Histogram} {\bf m\_\-hitLatencyHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_aa7b4f1cb2f6f69fac85f5fa0be12f95a}
\hyperlink{classHistogram}{Histogram} for holding latency profile of all requests that hit in the controller connected to this sequencer. \hypertarget{classProfiler_add8e2c73ddfe42f1b177e641a0e626d5}{
\index{Profiler@{Profiler}!m\_\-hitMachLatencyHist@{m\_\-hitMachLatencyHist}}
\index{m\_\-hitMachLatencyHist@{m\_\-hitMachLatencyHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-hitMachLatencyHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ {\bf m\_\-hitMachLatencyHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_add8e2c73ddfe42f1b177e641a0e626d5}
Histograms for profiling the latencies for requests that did not required external messages. \hypertarget{classProfiler_aeecaf5411cd3b34435f621db03387b67}{
\index{Profiler@{Profiler}!m\_\-hitTypeLatencyHist@{m\_\-hitTypeLatencyHist}}
\index{m\_\-hitTypeLatencyHist@{m\_\-hitTypeLatencyHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-hitTypeLatencyHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ {\bf m\_\-hitTypeLatencyHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_aeecaf5411cd3b34435f621db03387b67}
\hypertarget{classProfiler_aaf855f02483dc21743651007a759ea77}{
\index{Profiler@{Profiler}!m\_\-hitTypeMachLatencyHist@{m\_\-hitTypeMachLatencyHist}}
\index{m\_\-hitTypeMachLatencyHist@{m\_\-hitTypeMachLatencyHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-hitTypeMachLatencyHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<$ {\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ $>$ {\bf m\_\-hitTypeMachLatencyHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_aaf855f02483dc21743651007a759ea77}
\hypertarget{classProfiler_a3b63dfc643f2cf98e6d5deff9fce467e}{
\index{Profiler@{Profiler}!m\_\-hot\_\-lines@{m\_\-hot\_\-lines}}
\index{m\_\-hot\_\-lines@{m\_\-hot\_\-lines}!Profiler@{Profiler}}
\subsubsection[{m\_\-hot\_\-lines}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf m\_\-hot\_\-lines}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a3b63dfc643f2cf98e6d5deff9fce467e}
\hypertarget{classProfiler_a4646ee2cafcbe46b66af5d8253eac92f}{
\index{Profiler@{Profiler}!m\_\-IncompleteTimes@{m\_\-IncompleteTimes}}
\index{m\_\-IncompleteTimes@{m\_\-IncompleteTimes}!Profiler@{Profiler}}
\subsubsection[{m\_\-IncompleteTimes}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf m\_\-IncompleteTimes}\mbox{[}MachineType\_\-NUM\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a4646ee2cafcbe46b66af5d8253eac92f}
\hypertarget{classProfiler_a0dbfb83f6edf61cad3d0aebdc89ed370}{
\index{Profiler@{Profiler}!m\_\-InitialToForwardDelayHist@{m\_\-InitialToForwardDelayHist}}
\index{m\_\-InitialToForwardDelayHist@{m\_\-InitialToForwardDelayHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-InitialToForwardDelayHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ {\bf m\_\-InitialToForwardDelayHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a0dbfb83f6edf61cad3d0aebdc89ed370}
\hypertarget{classProfiler_a32ef2b97dac1a15df5891cb079a0f1b3}{
\index{Profiler@{Profiler}!m\_\-inst\_\-profiler\_\-ptr@{m\_\-inst\_\-profiler\_\-ptr}}
\index{m\_\-inst\_\-profiler\_\-ptr@{m\_\-inst\_\-profiler\_\-ptr}!Profiler@{Profiler}}
\subsubsection[{m\_\-inst\_\-profiler\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf AddressProfiler}$\ast$ {\bf m\_\-inst\_\-profiler\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a32ef2b97dac1a15df5891cb079a0f1b3}
\hypertarget{classProfiler_a503562ca3d885333c87da80d05ee612a}{
\index{Profiler@{Profiler}!m\_\-IssueToInitialDelayHist@{m\_\-IssueToInitialDelayHist}}
\index{m\_\-IssueToInitialDelayHist@{m\_\-IssueToInitialDelayHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-IssueToInitialDelayHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ {\bf m\_\-IssueToInitialDelayHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a503562ca3d885333c87da80d05ee612a}


Histograms for recording the breakdown of miss latency. \hypertarget{classProfiler_aeb3fc96d5f4638c5599ed141c6c6bda7}{
\index{Profiler@{Profiler}!m\_\-latencyHist@{m\_\-latencyHist}}
\index{m\_\-latencyHist@{m\_\-latencyHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-latencyHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Histogram} {\bf m\_\-latencyHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_aeb3fc96d5f4638c5599ed141c6c6bda7}


\hyperlink{classHistogram}{Histogram} for holding latency profile of all requests. \hypertarget{classProfiler_aff6841cbe8b6a9be485b4c45a8208f93}{
\index{Profiler@{Profiler}!m\_\-missLatencyHist@{m\_\-missLatencyHist}}
\index{m\_\-missLatencyHist@{m\_\-missLatencyHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-missLatencyHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Histogram} {\bf m\_\-missLatencyHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_aff6841cbe8b6a9be485b4c45a8208f93}
\hyperlink{classHistogram}{Histogram} for holding latency profile of all requests that miss in the controller connected to this sequencer. \hypertarget{classProfiler_a55e994bce4da18f7600be6cbf7a4a3b5}{
\index{Profiler@{Profiler}!m\_\-missMachLatencyHist@{m\_\-missMachLatencyHist}}
\index{m\_\-missMachLatencyHist@{m\_\-missMachLatencyHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-missMachLatencyHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ {\bf m\_\-missMachLatencyHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a55e994bce4da18f7600be6cbf7a4a3b5}
Histograms for profiling the latencies for requests that required external messages. \hypertarget{classProfiler_ac5a934c0abe9f0185357eb76de27dee3}{
\index{Profiler@{Profiler}!m\_\-missTypeLatencyHist@{m\_\-missTypeLatencyHist}}
\index{m\_\-missTypeLatencyHist@{m\_\-missTypeLatencyHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-missTypeLatencyHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ {\bf m\_\-missTypeLatencyHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_ac5a934c0abe9f0185357eb76de27dee3}
\hypertarget{classProfiler_a8e022aebc37a4b83df56956874befd75}{
\index{Profiler@{Profiler}!m\_\-missTypeMachLatencyHist@{m\_\-missTypeMachLatencyHist}}
\index{m\_\-missTypeMachLatencyHist@{m\_\-missTypeMachLatencyHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-missTypeMachLatencyHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<$ {\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ $>$ {\bf m\_\-missTypeMachLatencyHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a8e022aebc37a4b83df56956874befd75}
\hypertarget{classProfiler_a24e9160c0860bc93a5f57de63544fe65}{
\index{Profiler@{Profiler}!m\_\-outstandReqHist@{m\_\-outstandReqHist}}
\index{m\_\-outstandReqHist@{m\_\-outstandReqHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-outstandReqHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Histogram} {\bf m\_\-outstandReqHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a24e9160c0860bc93a5f57de63544fe65}


\hyperlink{classHistogram}{Histogram} for number of outstanding requests per cycle. \hypertarget{classProfiler_a21453ca0672126e1c0e204b7c60b3340}{
\index{Profiler@{Profiler}!m\_\-typeLatencyHist@{m\_\-typeLatencyHist}}
\index{m\_\-typeLatencyHist@{m\_\-typeLatencyHist}!Profiler@{Profiler}}
\subsubsection[{m\_\-typeLatencyHist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Stats::Histogram} $\ast$$>$ {\bf m\_\-typeLatencyHist}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProfiler_a21453ca0672126e1c0e204b7c60b3340}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/ruby/profiler/\hyperlink{Profiler_8hh}{Profiler.hh}\item 
mem/ruby/profiler/\hyperlink{Profiler_8cc}{Profiler.cc}\end{DoxyCompactItemize}
