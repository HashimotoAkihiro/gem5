<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: ネームスペース micro_asm</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li class="current"><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="namespaces.html"><span>ネームスペース一覧</span></a></li>
      <li><a href="namespacemembers.html"><span>ネームスペースメンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ネームスペース micro_asm</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicro__asm_1_1Micro__Container.html">Micro_Container</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicro__asm_1_1Combinational__Macroop.html">Combinational_Macroop</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicro__asm_1_1Rom__Macroop.html">Rom_Macroop</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicro__asm_1_1Rom.html">Rom</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicro__asm_1_1Label.html">Label</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicro__asm_1_1Block.html">Block</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicro__asm_1_1Statement.html">Statement</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicro__asm_1_1Microop.html">Microop</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicro__asm_1_1Directive.html">Directive</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicro__asm_1_1MicroAssembler.html">MicroAssembler</a></td></tr>
<tr><td colspan="2"><h2>関数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a96434e74020a56392cf780137ed37e97">print_error</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a1eb3d34a205235b95d352afbdc605c4d">handle_statement</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#aac1c7ff3716ce006fcaf70d6764ce105">error</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#aebcbdea8d15279a91facd2b15955adee">t_ANY_COMMENT</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a8f356658252996771cbfeff5f1e22598">t_ANY_MULTILINECOMMENT</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a3848d5690974e3ec07f038ea017bf8bc">t_params_COLON</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a95021a4fe487544ac75a27dd642332bc">t_params_PARAMS</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a5392547f3aa663a26f335c12f5e1d90a">t_asm_ID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a8bd1b1ba139acf81145c33e6585aae5d">t_ANY_ID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#aa2c06c393c224afce043356650406e53">t_INITIAL_LBRACE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a76fb1d4218c5b61b6da97a71c50cf2a6">t_asm_RBRACE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a01568e4c45abbf86a0d13ed07b788a73">t_INITIAL_NEWLINE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#adc4f9c72cba5be242bb93df6c49c3bc5">t_asm_NEWLINE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a466b4ac51d5f9226e723240cdb1b809d">t_params_NEWLINE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a771bc622a40e7ad0bccc1715a303dff0">t_params_SEMI</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a8a27a0ed21dc2158cf69643547032d6c">t_ANY_error</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a61564c360e71827a5ab5edf7e138e4c1">p_file</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a428b8086af1d1528aff7252fa2990344">p_opt_rom_or_macros_0</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#af9fedecba85a450dedbeba1844439c48">p_opt_rom_or_macros_1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a964484247cb0adbfa617df2dc18412f9">p_rom_or_macros_0</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a98a28e21d8935d0509b0eeab16cb1054">p_rom_or_macros_1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a1074e10937aa3b2c8c2a43b95ecb89bc">p_rom_or_macro_0</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a85628206b0efb164296ad31d33c4e6c1">p_rom_block</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#aa06e96f1559d9d801fc212792e8b6f9a">p_macroop_def_0</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a6d0e75a8c27d4a8f7e9bd8d1e20459b6">p_macroop_def_1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a02f1dabdaa8180367d76047e8d85ecfb">p_block</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a6cd716f332ee4919811fe6ade94e75c5">p_statements_0</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a33c1a47687c46c90cb9435de8cb17c32">p_statements_1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#aa6bc8ecb9428878bec6bcc95b1cb0f4c">p_statement</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a3e7c407b8a54e83439195cad9357af30">p_content_of_statement_0</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a84b621725f0a85e7f52bfaeb974fedb7">p_content_of_statement_1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#af9a07c99f70584eecf19c3bfc4fb8e26">p_end_of_statement</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a0f05ebd0fd8134f90eab4087d7e71fb2">p_microop_0</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#aabbc3564c9f11e69915460e13e307b07">p_microop_1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a3bf613ee79e6c58586b467556274fc84">p_microop_2</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a86065607f7f81cdbb6bbf1375e32c2c2">p_microop_3</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a9cb8e2ba66d91a1d4dfb7cb3a90c1cf7">p_labels_0</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a14c2988a6cdde6544b11178ffa1ac4e1">p_labels_1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a16e86f7b82ae8abcb138c274ff0743b8">p_labels_2</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#aa02e5ebc42f155c23b13bfd0eb35bd9d">p_label_0</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a7e3b6c397967ee0c9f541f8c1b388cd5">p_label_1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a8521fe516e58d23df8a9a00ffa804d91">p_directive_0</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a4b5544c13f30d1f1b1be7d9ac1642ae6">p_directive_1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a7e0282385fe8587f1136e99fb97817f2">p_error</a></td></tr>
<tr><td colspan="2"><h2>変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a7c0da508b820c6b4db51430d694f6d8b">reserved</a> = ('DEF', 'MACROOP', 'ROM', 'EXTERN')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a8949ccb05d719d97020ab994d6044eef">tokens</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a998242a7605823c08ad1630923b570d5">states</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">dictionary&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a2fce270f6ee4bafd620b1b2f00cd9b79">reserved_map</a> = { }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#adddd3644d1c96a6ff6c697f82c5c6fe9">t_ANY_LPAREN</a> = r'\('</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a48eea5b8a8376860f8538dafed3cc105">t_ANY_RPAREN</a> = r'\)'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a5a4b0779a63cf66d21e5a48374083ab4">t_ANY_SEMI</a> = r';'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a552c7d03bd35ff56963494e8cdd840c1">t_ANY_DOT</a> = r'\.'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemicro__asm.html#a65d7419bbffa21f7c4406f5518092c9b">t_ANY_ignore</a> = ' \t\x0c'</td></tr>
</table>
<hr/><h2>関数</h2>
<a class="anchor" id="aac1c7ff3716ce006fcaf70d6764ce105"></a><!-- doxytag: member="micro_asm::error" ref="aac1c7ff3716ce006fcaf70d6764ce105" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::error </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>print_traceback</em> = <code>False</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00171"></a><a class="code" href="namespacemicro__asm.html#aac1c7ff3716ce006fcaf70d6764ce105">00171</a>                                                   :
<a name="l00172"></a>00172     <span class="comment"># Print a Python stack backtrace if requested.</span>
<a name="l00173"></a>00173     <span class="keywordflow">if</span> (print_traceback):
<a name="l00174"></a>00174         traceback.print_exc()
<a name="l00175"></a>00175     <span class="keywordflow">if</span> lineno != 0:
<a name="l00176"></a>00176         line_str = <span class="stringliteral">&quot;%d:&quot;</span> % lineno
<a name="l00177"></a>00177     <span class="keywordflow">else</span>:
<a name="l00178"></a>00178         line_str = <span class="stringliteral">&quot;&quot;</span>
<a name="l00179"></a>00179     sys.exit(<span class="stringliteral">&quot;%s %s&quot;</span> % (line_str, string))
<a name="l00180"></a>00180 
reserved = (<span class="stringliteral">&apos;DEF&apos;</span>, <span class="stringliteral">&apos;MACROOP&apos;</span>, <span class="stringliteral">&apos;ROM&apos;</span>, <span class="stringliteral">&apos;EXTERN&apos;</span>)
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1eb3d34a205235b95d352afbdc605c4d"></a><!-- doxytag: member="micro_asm::handle_statement" ref="a1eb3d34a205235b95d352afbdc605c4d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::handle_statement </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>statement</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00124"></a><a class="code" href="namespacemicro__asm.html#a1eb3d34a205235b95d352afbdc605c4d">00124</a>                                                   :
<a name="l00125"></a>00125     <span class="keywordflow">if</span> statement.is_microop:
<a name="l00126"></a>00126         <span class="keywordflow">if</span> statement.mnemonic <span class="keywordflow">not</span> <span class="keywordflow">in</span> parser.microops.keys():
<a name="l00127"></a>00127             <span class="keywordflow">raise</span> Exception, <span class="stringliteral">&quot;Unrecognized mnemonic: %s&quot;</span> % statement.mnemonic
<a name="l00128"></a>00128         parser.symbols[<span class="stringliteral">&quot;__microopClassFromInsideTheAssembler&quot;</span>] = \
<a name="l00129"></a>00129             parser.microops[statement.mnemonic]
<a name="l00130"></a>00130         <span class="keywordflow">try</span>:
<a name="l00131"></a>00131             microop = eval(<span class="stringliteral">&apos;__microopClassFromInsideTheAssembler(%s)&apos;</span> %
<a name="l00132"></a>00132                     statement.params, {}, parser.symbols)
<a name="l00133"></a>00133         <span class="keywordflow">except</span>:
<a name="l00134"></a>00134             print_error(<span class="stringliteral">&quot;Error creating microop object with mnemonic %s.&quot;</span> % \
<a name="l00135"></a>00135                     statement.mnemonic)
<a name="l00136"></a>00136             <span class="keywordflow">raise</span>
<a name="l00137"></a>00137         <span class="keywordflow">try</span>:
<a name="l00138"></a>00138             <span class="keywordflow">for</span> label <span class="keywordflow">in</span> statement.labels:
<a name="l00139"></a>00139                 container.labels[label.text] = microop
<a name="l00140"></a>00140                 <span class="keywordflow">if</span> label.is_extern:
<a name="l00141"></a>00141                     container.externs[label.text] = microop
<a name="l00142"></a>00142             container.add_microop(statement.mnemonic, microop)
<a name="l00143"></a>00143         <span class="keywordflow">except</span>:
<a name="l00144"></a>00144             print_error(<span class="stringliteral">&quot;Error adding microop.&quot;</span>)
<a name="l00145"></a>00145             <span class="keywordflow">raise</span>
<a name="l00146"></a>00146     <span class="keywordflow">elif</span> statement.is_directive:
<a name="l00147"></a>00147         <span class="keywordflow">if</span> statement.name <span class="keywordflow">not</span> <span class="keywordflow">in</span> container.directives.keys():
<a name="l00148"></a>00148             <span class="keywordflow">raise</span> Exception, <span class="stringliteral">&quot;Unrecognized directive: %s&quot;</span> % statement.name
<a name="l00149"></a>00149         parser.symbols[<span class="stringliteral">&quot;__directiveFunctionFromInsideTheAssembler&quot;</span>] = \
<a name="l00150"></a>00150             container.directives[statement.name]
<a name="l00151"></a>00151         <span class="keywordflow">try</span>:
<a name="l00152"></a>00152             eval(<span class="stringliteral">&apos;__directiveFunctionFromInsideTheAssembler(%s)&apos;</span> %
<a name="l00153"></a>00153                     statement.params, {}, parser.symbols)
<a name="l00154"></a>00154         <span class="keywordflow">except</span>:
<a name="l00155"></a>00155             print_error(<span class="stringliteral">&quot;Error executing directive.&quot;</span>)
<a name="l00156"></a>00156             <span class="keywordflow">print</span> container.directives
<a name="l00157"></a>00157             <span class="keywordflow">raise</span>
<a name="l00158"></a>00158     <span class="keywordflow">else</span>:
<a name="l00159"></a>00159         <span class="keywordflow">raise</span> Exception, <span class="stringliteral">&quot;Didn&apos;t recognize the type of statement&quot;</span>, statement
<a name="l00160"></a>00160 
<span class="comment">##########################################################################</span>
</pre></div></p>

</div>
</div>
<a class="anchor" id="a02f1dabdaa8180367d76047e8d85ecfb"></a><!-- doxytag: member="micro_asm::p_block" ref="a02f1dabdaa8180367d76047e8d85ecfb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_block </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00362"></a><a class="code" href="namespacemicro__asm.html#a02f1dabdaa8180367d76047e8d85ecfb">00362</a>               :
<a name="l00363"></a>00363     <span class="stringliteral">&apos;block : LBRACE statements RBRACE&apos;</span>
<a name="l00364"></a>00364     block = Block()
<a name="l00365"></a>00365     block.statements = t[2]
<a name="l00366"></a>00366     t[0] = block
<a name="l00367"></a>00367 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a6cd716f332ee4919811fe6ade94e75c5">p_statements_0</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3e7c407b8a54e83439195cad9357af30"></a><!-- doxytag: member="micro_asm::p_content_of_statement_0" ref="a3e7c407b8a54e83439195cad9357af30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_content_of_statement_0 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">content_of_statement : microop
                        | directive</pre></div> 
<p><div class="fragment"><pre class="fragment"><a name="l00386"></a><a class="code" href="namespacemicro__asm.html#a3e7c407b8a54e83439195cad9357af30">00386</a>                                :
<a name="l00387"></a>00387     <span class="stringliteral">&apos;&apos;&apos;content_of_statement : microop</span>
<a name="l00388"></a>00388 <span class="stringliteral">                            | directive&apos;&apos;&apos;</span>
<a name="l00389"></a>00389     t[0] = t[1]
<a name="l00390"></a>00390 
<a name="l00391"></a>00391 <span class="comment"># Ignore empty statements</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a84b621725f0a85e7f52bfaeb974fedb7">p_content_of_statement_1</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a84b621725f0a85e7f52bfaeb974fedb7"></a><!-- doxytag: member="micro_asm::p_content_of_statement_1" ref="a84b621725f0a85e7f52bfaeb974fedb7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_content_of_statement_1 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00392"></a><a class="code" href="namespacemicro__asm.html#a84b621725f0a85e7f52bfaeb974fedb7">00392</a>                                :
<a name="l00393"></a>00393     <span class="stringliteral">&apos;content_of_statement : &apos;</span>
<a name="l00394"></a>00394     <span class="keywordflow">pass</span>
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="comment"># Statements are ended by newlines or a semi colon</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#af9a07c99f70584eecf19c3bfc4fb8e26">p_end_of_statement</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8521fe516e58d23df8a9a00ffa804d91"></a><!-- doxytag: member="micro_asm::p_directive_0" ref="a8521fe516e58d23df8a9a00ffa804d91" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_directive_0 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00461"></a><a class="code" href="namespacemicro__asm.html#a8521fe516e58d23df8a9a00ffa804d91">00461</a>                     :
<a name="l00462"></a>00462     <span class="stringliteral">&apos;directive : DOT ID&apos;</span>
<a name="l00463"></a>00463     directive = Directive()
<a name="l00464"></a>00464     directive.name = t[2]
<a name="l00465"></a>00465     t[0] = directive
<a name="l00466"></a>00466 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a4b5544c13f30d1f1b1be7d9ac1642ae6">p_directive_1</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4b5544c13f30d1f1b1be7d9ac1642ae6"></a><!-- doxytag: member="micro_asm::p_directive_1" ref="a4b5544c13f30d1f1b1be7d9ac1642ae6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_directive_1 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00467"></a><a class="code" href="namespacemicro__asm.html#a4b5544c13f30d1f1b1be7d9ac1642ae6">00467</a>                     :
<a name="l00468"></a>00468     <span class="stringliteral">&apos;directive : DOT ID PARAMS&apos;</span>
<a name="l00469"></a>00469     directive = Directive()
<a name="l00470"></a>00470     directive.name = t[2]
<a name="l00471"></a>00471     directive.params = t[3]
<a name="l00472"></a>00472     t[0] = directive
<a name="l00473"></a>00473 
<a name="l00474"></a>00474 <span class="comment"># Parse error handler.  Note that the argument here is the offending</span>
<a name="l00475"></a>00475 <span class="comment"># *token*, not a grammar symbol (hence the need to use t.value)</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a7e0282385fe8587f1136e99fb97817f2">p_error</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="af9a07c99f70584eecf19c3bfc4fb8e26"></a><!-- doxytag: member="micro_asm::p_end_of_statement" ref="af9a07c99f70584eecf19c3bfc4fb8e26" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_end_of_statement </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">end_of_statement : NEWLINE
                    | SEMI</pre></div> 
<p><div class="fragment"><pre class="fragment"><a name="l00397"></a><a class="code" href="namespacemicro__asm.html#af9a07c99f70584eecf19c3bfc4fb8e26">00397</a>                          :
<a name="l00398"></a>00398     <span class="stringliteral">&apos;&apos;&apos;end_of_statement : NEWLINE</span>
<a name="l00399"></a>00399 <span class="stringliteral">                        | SEMI&apos;&apos;&apos;</span>
<a name="l00400"></a>00400     <span class="keywordflow">pass</span>
<a name="l00401"></a>00401 
<a name="l00402"></a>00402 <span class="comment"># Different flavors of microop to avoid shift/reduce errors</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a0f05ebd0fd8134f90eab4087d7e71fb2">p_microop_0</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7e0282385fe8587f1136e99fb97817f2"></a><!-- doxytag: member="micro_asm::p_error" ref="a7e0282385fe8587f1136e99fb97817f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_error </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00476"></a><a class="code" href="namespacemicro__asm.html#a7e0282385fe8587f1136e99fb97817f2">00476</a>               :
<a name="l00477"></a>00477     <span class="keywordflow">if</span> t:
<a name="l00478"></a>00478         error(t.lineno, <span class="stringliteral">&quot;syntax error at &apos;%s&apos;&quot;</span> % t.value)
<a name="l00479"></a>00479     <span class="keywordflow">else</span>:
<a name="l00480"></a>00480         error(0, <span class="stringliteral">&quot;unknown syntax error&quot;</span>, <span class="keyword">True</span>)
<a name="l00481"></a>00481 
<span class="keyword">class </span><a class="code" href="classmicro__asm_1_1MicroAssembler.html">MicroAssembler</a>(object):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a61564c360e71827a5ab5edf7e138e4c1"></a><!-- doxytag: member="micro_asm::p_file" ref="a61564c360e71827a5ab5edf7e138e4c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_file </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00310"></a><a class="code" href="namespacemicro__asm.html#a61564c360e71827a5ab5edf7e138e4c1">00310</a>              :
<a name="l00311"></a>00311     <span class="stringliteral">&apos;file : opt_rom_or_macros&apos;</span>
<a name="l00312"></a>00312 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a428b8086af1d1528aff7252fa2990344">p_opt_rom_or_macros_0</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa02e5ebc42f155c23b13bfd0eb35bd9d"></a><!-- doxytag: member="micro_asm::p_label_0" ref="aa02e5ebc42f155c23b13bfd0eb35bd9d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_label_0 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00446"></a><a class="code" href="namespacemicro__asm.html#aa02e5ebc42f155c23b13bfd0eb35bd9d">00446</a>                 :
<a name="l00447"></a>00447     <span class="stringliteral">&apos;label : ID COLON&apos;</span>
<a name="l00448"></a>00448     label = Label()
<a name="l00449"></a>00449     label.is_extern = <span class="keyword">False</span>
<a name="l00450"></a>00450     label.text = t[1]
<a name="l00451"></a>00451     t[0] = label
<a name="l00452"></a>00452 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a7e3b6c397967ee0c9f541f8c1b388cd5">p_label_1</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7e3b6c397967ee0c9f541f8c1b388cd5"></a><!-- doxytag: member="micro_asm::p_label_1" ref="a7e3b6c397967ee0c9f541f8c1b388cd5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_label_1 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00453"></a><a class="code" href="namespacemicro__asm.html#a7e3b6c397967ee0c9f541f8c1b388cd5">00453</a>                 :
<a name="l00454"></a>00454     <span class="stringliteral">&apos;label : EXTERN ID COLON&apos;</span>
<a name="l00455"></a>00455     label = Label()
<a name="l00456"></a>00456     label.is_extern = <span class="keyword">True</span>
<a name="l00457"></a>00457     label.text = t[2]
<a name="l00458"></a>00458     t[0] = label
<a name="l00459"></a>00459 
<a name="l00460"></a>00460 <span class="comment"># Directives for the macroop</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a8521fe516e58d23df8a9a00ffa804d91">p_directive_0</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9cb8e2ba66d91a1d4dfb7cb3a90c1cf7"></a><!-- doxytag: member="micro_asm::p_labels_0" ref="a9cb8e2ba66d91a1d4dfb7cb3a90c1cf7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_labels_0 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00432"></a><a class="code" href="namespacemicro__asm.html#a9cb8e2ba66d91a1d4dfb7cb3a90c1cf7">00432</a>                  :
<a name="l00433"></a>00433     <span class="stringliteral">&apos;labels : label&apos;</span>
<a name="l00434"></a>00434     t[0] = [t[1]]
<a name="l00435"></a>00435 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a14c2988a6cdde6544b11178ffa1ac4e1">p_labels_1</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a14c2988a6cdde6544b11178ffa1ac4e1"></a><!-- doxytag: member="micro_asm::p_labels_1" ref="a14c2988a6cdde6544b11178ffa1ac4e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_labels_1 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00436"></a><a class="code" href="namespacemicro__asm.html#a14c2988a6cdde6544b11178ffa1ac4e1">00436</a>                  :
<a name="l00437"></a>00437     <span class="stringliteral">&apos;labels : labels label&apos;</span>
<a name="l00438"></a>00438     t[1].append(t[2])
<a name="l00439"></a>00439     t[0] = t[1]
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 <span class="comment"># labels on lines by themselves are attached to the following instruction.</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a16e86f7b82ae8abcb138c274ff0743b8">p_labels_2</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a16e86f7b82ae8abcb138c274ff0743b8"></a><!-- doxytag: member="micro_asm::p_labels_2" ref="a16e86f7b82ae8abcb138c274ff0743b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_labels_2 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00442"></a><a class="code" href="namespacemicro__asm.html#a16e86f7b82ae8abcb138c274ff0743b8">00442</a>                  :
<a name="l00443"></a>00443     <span class="stringliteral">&apos;labels : labels NEWLINE&apos;</span>
<a name="l00444"></a>00444     t[0] = t[1]
<a name="l00445"></a>00445 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#aa02e5ebc42f155c23b13bfd0eb35bd9d">p_label_0</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa06e96f1559d9d801fc212792e8b6f9a"></a><!-- doxytag: member="micro_asm::p_macroop_def_0" ref="aa06e96f1559d9d801fc212792e8b6f9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_macroop_def_0 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00340"></a><a class="code" href="namespacemicro__asm.html#aa06e96f1559d9d801fc212792e8b6f9a">00340</a>                       :
<a name="l00341"></a>00341     <span class="stringliteral">&apos;macroop_def : DEF MACROOP ID LPAREN ID RPAREN SEMI&apos;</span>
<a name="l00342"></a>00342     <span class="keywordflow">if</span> <span class="keywordflow">not</span> t.parser.rom_macroop_type:
<a name="l00343"></a>00343         print_error(<span class="stringliteral">&quot;ROM based macroop found, but no ROM macroop class was specified.&quot;</span>)
<a name="l00344"></a>00344         <span class="keywordflow">raise</span> TypeError, <span class="stringliteral">&quot;ROM based macroop found, but no ROM macroop class was specified.&quot;</span>
<a name="l00345"></a>00345     macroop = t.parser.rom_macroop_type(t[3], t[5])
<a name="l00346"></a>00346     t.parser.macroops[t[3]] = macroop
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 
<a name="l00349"></a>00349 <span class="comment"># Defines a macroop that is combinationally generated</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a6d0e75a8c27d4a8f7e9bd8d1e20459b6">p_macroop_def_1</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6d0e75a8c27d4a8f7e9bd8d1e20459b6"></a><!-- doxytag: member="micro_asm::p_macroop_def_1" ref="a6d0e75a8c27d4a8f7e9bd8d1e20459b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_macroop_def_1 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00350"></a><a class="code" href="namespacemicro__asm.html#a6d0e75a8c27d4a8f7e9bd8d1e20459b6">00350</a>                       :
<a name="l00351"></a>00351     <span class="stringliteral">&apos;macroop_def : DEF MACROOP ID block SEMI&apos;</span>
<a name="l00352"></a>00352     <span class="keywordflow">try</span>:
<a name="l00353"></a>00353         curop = t.parser.macro_type(t[3])
<a name="l00354"></a>00354     <span class="keywordflow">except</span> TypeError:
<a name="l00355"></a>00355         print_error(<span class="stringliteral">&quot;Error creating macroop object.&quot;</span>)
<a name="l00356"></a>00356         <span class="keywordflow">raise</span>
<a name="l00357"></a>00357     <span class="keywordflow">for</span> statement <span class="keywordflow">in</span> t[4].statements:
<a name="l00358"></a>00358         handle_statement(t.parser, curop, statement)
<a name="l00359"></a>00359     t.parser.macroops[t[3]] = curop
<a name="l00360"></a>00360 
<a name="l00361"></a>00361 <span class="comment"># A block of statements</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a02f1dabdaa8180367d76047e8d85ecfb">p_block</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0f05ebd0fd8134f90eab4087d7e71fb2"></a><!-- doxytag: member="micro_asm::p_microop_0" ref="a0f05ebd0fd8134f90eab4087d7e71fb2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_microop_0 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00403"></a><a class="code" href="namespacemicro__asm.html#a0f05ebd0fd8134f90eab4087d7e71fb2">00403</a>                   :
<a name="l00404"></a>00404     <span class="stringliteral">&apos;microop : labels ID&apos;</span>
<a name="l00405"></a>00405     microop = Microop()
<a name="l00406"></a>00406     microop.labels = t[1]
<a name="l00407"></a>00407     microop.mnemonic = t[2]
<a name="l00408"></a>00408     t[0] = microop
<a name="l00409"></a>00409 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#aabbc3564c9f11e69915460e13e307b07">p_microop_1</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="aabbc3564c9f11e69915460e13e307b07"></a><!-- doxytag: member="micro_asm::p_microop_1" ref="aabbc3564c9f11e69915460e13e307b07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_microop_1 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00410"></a><a class="code" href="namespacemicro__asm.html#aabbc3564c9f11e69915460e13e307b07">00410</a>                   :
<a name="l00411"></a>00411     <span class="stringliteral">&apos;microop : ID&apos;</span>
<a name="l00412"></a>00412     microop = Microop()
<a name="l00413"></a>00413     microop.mnemonic = t[1]
<a name="l00414"></a>00414     t[0] = microop
<a name="l00415"></a>00415 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a3bf613ee79e6c58586b467556274fc84">p_microop_2</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3bf613ee79e6c58586b467556274fc84"></a><!-- doxytag: member="micro_asm::p_microop_2" ref="a3bf613ee79e6c58586b467556274fc84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_microop_2 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00416"></a><a class="code" href="namespacemicro__asm.html#a3bf613ee79e6c58586b467556274fc84">00416</a>                   :
<a name="l00417"></a>00417     <span class="stringliteral">&apos;microop : labels ID PARAMS&apos;</span>
<a name="l00418"></a>00418     microop = Microop()
<a name="l00419"></a>00419     microop.labels = t[1]
<a name="l00420"></a>00420     microop.mnemonic = t[2]
<a name="l00421"></a>00421     microop.params = t[3]
<a name="l00422"></a>00422     t[0] = microop
<a name="l00423"></a>00423 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a86065607f7f81cdbb6bbf1375e32c2c2">p_microop_3</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a86065607f7f81cdbb6bbf1375e32c2c2"></a><!-- doxytag: member="micro_asm::p_microop_3" ref="a86065607f7f81cdbb6bbf1375e32c2c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_microop_3 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00424"></a><a class="code" href="namespacemicro__asm.html#a86065607f7f81cdbb6bbf1375e32c2c2">00424</a>                   :
<a name="l00425"></a>00425     <span class="stringliteral">&apos;microop : ID PARAMS&apos;</span>
<a name="l00426"></a>00426     microop = Microop()
<a name="l00427"></a>00427     microop.mnemonic = t[1]
<a name="l00428"></a>00428     microop.params = t[2]
<a name="l00429"></a>00429     t[0] = microop
<a name="l00430"></a>00430 
<a name="l00431"></a>00431 <span class="comment"># Labels in the microcode</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a9cb8e2ba66d91a1d4dfb7cb3a90c1cf7">p_labels_0</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a428b8086af1d1528aff7252fa2990344"></a><!-- doxytag: member="micro_asm::p_opt_rom_or_macros_0" ref="a428b8086af1d1528aff7252fa2990344" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_opt_rom_or_macros_0 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00313"></a><a class="code" href="namespacemicro__asm.html#a428b8086af1d1528aff7252fa2990344">00313</a>                             :
<a name="l00314"></a>00314     <span class="stringliteral">&apos;opt_rom_or_macros : &apos;</span>
<a name="l00315"></a>00315 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#af9fedecba85a450dedbeba1844439c48">p_opt_rom_or_macros_1</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="af9fedecba85a450dedbeba1844439c48"></a><!-- doxytag: member="micro_asm::p_opt_rom_or_macros_1" ref="af9fedecba85a450dedbeba1844439c48" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_opt_rom_or_macros_1 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00316"></a><a class="code" href="namespacemicro__asm.html#af9fedecba85a450dedbeba1844439c48">00316</a>                             :
<a name="l00317"></a>00317     <span class="stringliteral">&apos;opt_rom_or_macros : rom_or_macros&apos;</span>
<a name="l00318"></a>00318 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a964484247cb0adbfa617df2dc18412f9">p_rom_or_macros_0</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a85628206b0efb164296ad31d33c4e6c1"></a><!-- doxytag: member="micro_asm::p_rom_block" ref="a85628206b0efb164296ad31d33c4e6c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_rom_block </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00330"></a><a class="code" href="namespacemicro__asm.html#a85628206b0efb164296ad31d33c4e6c1">00330</a>                   :
<a name="l00331"></a>00331     <span class="stringliteral">&apos;rom_block : DEF ROM block SEMI&apos;</span>
<a name="l00332"></a>00332     <span class="keywordflow">if</span> <span class="keywordflow">not</span> t.parser.rom:
<a name="l00333"></a>00333         print_error(<span class="stringliteral">&quot;Rom block found, but no Rom object specified.&quot;</span>)
<a name="l00334"></a>00334         <span class="keywordflow">raise</span> TypeError, <span class="stringliteral">&quot;Rom block found, but no Rom object was specified.&quot;</span>
<a name="l00335"></a>00335     <span class="keywordflow">for</span> statement <span class="keywordflow">in</span> t[3].statements:
<a name="l00336"></a>00336         handle_statement(t.parser, t.parser.rom, statement)
<a name="l00337"></a>00337     t[0] = t.parser.rom
<a name="l00338"></a>00338 
<a name="l00339"></a>00339 <span class="comment"># Defines a macroop that jumps to an external label in the ROM</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#aa06e96f1559d9d801fc212792e8b6f9a">p_macroop_def_0</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1074e10937aa3b2c8c2a43b95ecb89bc"></a><!-- doxytag: member="micro_asm::p_rom_or_macro_0" ref="a1074e10937aa3b2c8c2a43b95ecb89bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_rom_or_macro_0 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">rom_or_macro : rom_block
                | macroop_def</pre></div> 
<p><div class="fragment"><pre class="fragment"><a name="l00325"></a><a class="code" href="namespacemicro__asm.html#a1074e10937aa3b2c8c2a43b95ecb89bc">00325</a>                        :
<a name="l00326"></a>00326     <span class="stringliteral">&apos;&apos;&apos;rom_or_macro : rom_block</span>
<a name="l00327"></a>00327 <span class="stringliteral">                    | macroop_def&apos;&apos;&apos;</span>
<a name="l00328"></a>00328 
<a name="l00329"></a>00329 <span class="comment"># Defines a section of microcode that should go in the current ROM</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a85628206b0efb164296ad31d33c4e6c1">p_rom_block</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a964484247cb0adbfa617df2dc18412f9"></a><!-- doxytag: member="micro_asm::p_rom_or_macros_0" ref="a964484247cb0adbfa617df2dc18412f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_rom_or_macros_0 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00319"></a><a class="code" href="namespacemicro__asm.html#a964484247cb0adbfa617df2dc18412f9">00319</a>                         :
<a name="l00320"></a>00320     <span class="stringliteral">&apos;rom_or_macros : rom_or_macro&apos;</span>
<a name="l00321"></a>00321 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a98a28e21d8935d0509b0eeab16cb1054">p_rom_or_macros_1</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a98a28e21d8935d0509b0eeab16cb1054"></a><!-- doxytag: member="micro_asm::p_rom_or_macros_1" ref="a98a28e21d8935d0509b0eeab16cb1054" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_rom_or_macros_1 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00322"></a><a class="code" href="namespacemicro__asm.html#a98a28e21d8935d0509b0eeab16cb1054">00322</a>                         :
<a name="l00323"></a>00323     <span class="stringliteral">&apos;rom_or_macros : rom_or_macros rom_or_macro&apos;</span>
<a name="l00324"></a>00324 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a1074e10937aa3b2c8c2a43b95ecb89bc">p_rom_or_macro_0</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa6bc8ecb9428878bec6bcc95b1cb0f4c"></a><!-- doxytag: member="micro_asm::p_statement" ref="aa6bc8ecb9428878bec6bcc95b1cb0f4c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_statement </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00381"></a><a class="code" href="namespacemicro__asm.html#aa6bc8ecb9428878bec6bcc95b1cb0f4c">00381</a>                   :
<a name="l00382"></a>00382     <span class="stringliteral">&apos;statement : content_of_statement end_of_statement&apos;</span>
<a name="l00383"></a>00383     t[0] = t[1]
<a name="l00384"></a>00384 
<a name="l00385"></a>00385 <span class="comment"># A statement can be a microop or an assembler directive</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a3e7c407b8a54e83439195cad9357af30">p_content_of_statement_0</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6cd716f332ee4919811fe6ade94e75c5"></a><!-- doxytag: member="micro_asm::p_statements_0" ref="a6cd716f332ee4919811fe6ade94e75c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_statements_0 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00368"></a><a class="code" href="namespacemicro__asm.html#a6cd716f332ee4919811fe6ade94e75c5">00368</a>                      :
<a name="l00369"></a>00369     <span class="stringliteral">&apos;statements : statement&apos;</span>
<a name="l00370"></a>00370     <span class="keywordflow">if</span> t[1]:
<a name="l00371"></a>00371         t[0] = [t[1]]
<a name="l00372"></a>00372     <span class="keywordflow">else</span>:
<a name="l00373"></a>00373         t[0] = []
<a name="l00374"></a>00374 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a33c1a47687c46c90cb9435de8cb17c32">p_statements_1</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a33c1a47687c46c90cb9435de8cb17c32"></a><!-- doxytag: member="micro_asm::p_statements_1" ref="a33c1a47687c46c90cb9435de8cb17c32" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::p_statements_1 </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00375"></a><a class="code" href="namespacemicro__asm.html#a33c1a47687c46c90cb9435de8cb17c32">00375</a>                      :
<a name="l00376"></a>00376     <span class="stringliteral">&apos;statements : statements statement&apos;</span>
<a name="l00377"></a>00377     <span class="keywordflow">if</span> t[2]:
<a name="l00378"></a>00378         t[1].append(t[2])
<a name="l00379"></a>00379     t[0] = t[1]
<a name="l00380"></a>00380 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#aa6bc8ecb9428878bec6bcc95b1cb0f4c">p_statement</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a96434e74020a56392cf780137ed37e97"></a><!-- doxytag: member="micro_asm::print_error" ref="a96434e74020a56392cf780137ed37e97" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::print_error </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>message</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00119"></a><a class="code" href="namespacemicro__asm.html#a96434e74020a56392cf780137ed37e97">00119</a>                         :
<a name="l00120"></a>00120     <span class="keywordflow">print</span>
<a name="l00121"></a>00121     <span class="keywordflow">print</span> <span class="stringliteral">&quot;*** %s&quot;</span> % message
<a name="l00122"></a>00122     <span class="keywordflow">print</span>
<a name="l00123"></a>00123 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a1eb3d34a205235b95d352afbdc605c4d">handle_statement</a>(parser, container, statement):
</pre></div></p>

</div>
</div>
<a class="anchor" id="aebcbdea8d15279a91facd2b15955adee"></a><!-- doxytag: member="micro_asm::t_ANY_COMMENT" ref="aebcbdea8d15279a91facd2b15955adee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_ANY_COMMENT </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00207"></a><a class="code" href="namespacemicro__asm.html#aebcbdea8d15279a91facd2b15955adee">00207</a>                     :
<a name="l00208"></a>00208     <span class="stringliteral">r&apos;\#[^\n]*(?=\n)&apos;</span>
<a name="l00209"></a>00209 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a8f356658252996771cbfeff5f1e22598">t_ANY_MULTILINECOMMENT</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8a27a0ed21dc2158cf69643547032d6c"></a><!-- doxytag: member="micro_asm::t_ANY_error" ref="a8a27a0ed21dc2158cf69643547032d6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_ANY_error </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00298"></a><a class="code" href="namespacemicro__asm.html#a8a27a0ed21dc2158cf69643547032d6c">00298</a>                   :
<a name="l00299"></a>00299     error(t.lineno, <span class="stringliteral">&quot;illegal character &apos;%s&apos;&quot;</span> % t.value[0])
<a name="l00300"></a>00300     t.skip(1)
<a name="l00301"></a>00301 
<span class="comment">##########################################################################</span>
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8bd1b1ba139acf81145c33e6585aae5d"></a><!-- doxytag: member="micro_asm::t_ANY_ID" ref="a8bd1b1ba139acf81145c33e6585aae5d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_ANY_ID </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00249"></a><a class="code" href="namespacemicro__asm.html#a8bd1b1ba139acf81145c33e6585aae5d">00249</a>                :
<a name="l00250"></a>00250     <span class="stringliteral">r&apos;[A-Za-z_]\w*&apos;</span>
<a name="l00251"></a>00251     t.type = reserved_map.get(t.value, <span class="stringliteral">&apos;ID&apos;</span>)
<a name="l00252"></a>00252     <span class="keywordflow">return</span> t
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 <span class="comment"># Braces enter and exit micro assembly</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#aa2c06c393c224afce043356650406e53">t_INITIAL_LBRACE</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8f356658252996771cbfeff5f1e22598"></a><!-- doxytag: member="micro_asm::t_ANY_MULTILINECOMMENT" ref="a8f356658252996771cbfeff5f1e22598" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_ANY_MULTILINECOMMENT </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00210"></a><a class="code" href="namespacemicro__asm.html#a8f356658252996771cbfeff5f1e22598">00210</a>                              :
<a name="l00211"></a>00211     <span class="stringliteral">r&apos;/\*([^/]|((?&lt;!\*)/))*\*/&apos;</span>
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 <span class="comment"># A colon marks the end of a label. It should follow an ID which will</span>
<a name="l00214"></a>00214 <span class="comment"># put the lexer in the &quot;params&quot; state. Seeing the colon will put it back</span>
<a name="l00215"></a>00215 <span class="comment"># in the &quot;asm&quot; state since it knows it saw a label and not a mnemonic.</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a3848d5690974e3ec07f038ea017bf8bc">t_params_COLON</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5392547f3aa663a26f335c12f5e1d90a"></a><!-- doxytag: member="micro_asm::t_asm_ID" ref="a5392547f3aa663a26f335c12f5e1d90a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_asm_ID </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00238"></a><a class="code" href="namespacemicro__asm.html#a5392547f3aa663a26f335c12f5e1d90a">00238</a>                :
<a name="l00239"></a>00239     <span class="stringliteral">r&apos;[A-Za-z_]\w*&apos;</span>
<a name="l00240"></a>00240     t.type = reserved_map.get(t.value, <span class="stringliteral">&apos;ID&apos;</span>)
<a name="l00241"></a>00241     <span class="comment"># If the ID is really &quot;extern&quot;, we shouldn&apos;t start looking for parameters</span>
<a name="l00242"></a>00242     <span class="comment"># yet. The real ID, the label itself, is coming up.</span>
<a name="l00243"></a>00243     <span class="keywordflow">if</span> t.type != <span class="stringliteral">&apos;EXTERN&apos;</span>:
<a name="l00244"></a>00244         t.lexer.begin(<span class="stringliteral">&apos;params&apos;</span>)
<a name="l00245"></a>00245     <span class="keywordflow">return</span> t
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 <span class="comment"># If there is a label and you&apos;re -not- in the assembler (which would be caught</span>
<a name="l00248"></a>00248 <span class="comment"># above), don&apos;t start looking for parameters.</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a8bd1b1ba139acf81145c33e6585aae5d">t_ANY_ID</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="adc4f9c72cba5be242bb93df6c49c3bc5"></a><!-- doxytag: member="micro_asm::t_asm_NEWLINE" ref="adc4f9c72cba5be242bb93df6c49c3bc5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_asm_NEWLINE </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00272"></a><a class="code" href="namespacemicro__asm.html#adc4f9c72cba5be242bb93df6c49c3bc5">00272</a>                     :
<a name="l00273"></a>00273     <span class="stringliteral">r&apos;\n+&apos;</span>
<a name="l00274"></a>00274     t.lineno += t.value.count(<span class="stringliteral">&apos;\n&apos;</span>)
<a name="l00275"></a>00275     <span class="keywordflow">return</span> t
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 <span class="comment"># A newline or semi colon when looking for params signals that the statement</span>
<a name="l00278"></a>00278 <span class="comment"># is over and the lexer should go back to looking for regular assembly.</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a466b4ac51d5f9226e723240cdb1b809d">t_params_NEWLINE</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a76fb1d4218c5b61b6da97a71c50cf2a6"></a><!-- doxytag: member="micro_asm::t_asm_RBRACE" ref="a76fb1d4218c5b61b6da97a71c50cf2a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_asm_RBRACE </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00260"></a><a class="code" href="namespacemicro__asm.html#a76fb1d4218c5b61b6da97a71c50cf2a6">00260</a>                    :
<a name="l00261"></a>00261     <span class="stringliteral">r&apos;\}&apos;</span>
<a name="l00262"></a>00262     t.lexer.begin(<span class="stringliteral">&apos;INITIAL&apos;</span>)
<a name="l00263"></a>00263     <span class="keywordflow">return</span> t
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 <span class="comment"># At the top level, keep track of newlines only for line counting.</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a01568e4c45abbf86a0d13ed07b788a73">t_INITIAL_NEWLINE</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa2c06c393c224afce043356650406e53"></a><!-- doxytag: member="micro_asm::t_INITIAL_LBRACE" ref="aa2c06c393c224afce043356650406e53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_INITIAL_LBRACE </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00255"></a><a class="code" href="namespacemicro__asm.html#aa2c06c393c224afce043356650406e53">00255</a>                        :
<a name="l00256"></a>00256     <span class="stringliteral">r&apos;\{&apos;</span>
<a name="l00257"></a>00257     t.lexer.begin(<span class="stringliteral">&apos;asm&apos;</span>)
<a name="l00258"></a>00258     <span class="keywordflow">return</span> t
<a name="l00259"></a>00259 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a76fb1d4218c5b61b6da97a71c50cf2a6">t_asm_RBRACE</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a01568e4c45abbf86a0d13ed07b788a73"></a><!-- doxytag: member="micro_asm::t_INITIAL_NEWLINE" ref="a01568e4c45abbf86a0d13ed07b788a73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_INITIAL_NEWLINE </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00266"></a><a class="code" href="namespacemicro__asm.html#a01568e4c45abbf86a0d13ed07b788a73">00266</a>                         :
<a name="l00267"></a>00267     <span class="stringliteral">r&apos;\n+&apos;</span>
<a name="l00268"></a>00268     t.lineno += t.value.count(<span class="stringliteral">&apos;\n&apos;</span>)
<a name="l00269"></a>00269 
<a name="l00270"></a>00270 <span class="comment"># In the micro assembler, do line counting but also return a token. The</span>
<a name="l00271"></a>00271 <span class="comment"># token is needed by the parser to detect the end of a statement.</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#adc4f9c72cba5be242bb93df6c49c3bc5">t_asm_NEWLINE</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3848d5690974e3ec07f038ea017bf8bc"></a><!-- doxytag: member="micro_asm::t_params_COLON" ref="a3848d5690974e3ec07f038ea017bf8bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_params_COLON </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00216"></a><a class="code" href="namespacemicro__asm.html#a3848d5690974e3ec07f038ea017bf8bc">00216</a>                      :
<a name="l00217"></a>00217     <span class="stringliteral">r&apos;:&apos;</span>
<a name="l00218"></a>00218     t.lexer.begin(<span class="stringliteral">&apos;asm&apos;</span>)
<a name="l00219"></a>00219     <span class="keywordflow">return</span> t
<a name="l00220"></a>00220 
<a name="l00221"></a>00221 <span class="comment"># Parameters are a string of text which don&apos;t contain an unescaped statement</span>
<a name="l00222"></a>00222 <span class="comment"># statement terminator, ie a newline or semi colon.</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a95021a4fe487544ac75a27dd642332bc">t_params_PARAMS</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a466b4ac51d5f9226e723240cdb1b809d"></a><!-- doxytag: member="micro_asm::t_params_NEWLINE" ref="a466b4ac51d5f9226e723240cdb1b809d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_params_NEWLINE </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00279"></a><a class="code" href="namespacemicro__asm.html#a466b4ac51d5f9226e723240cdb1b809d">00279</a>                        :
<a name="l00280"></a>00280     <span class="stringliteral">r&apos;\n+&apos;</span>
<a name="l00281"></a>00281     t.lineno += t.value.count(<span class="stringliteral">&apos;\n&apos;</span>)
<a name="l00282"></a>00282     t.lexer.begin(<span class="stringliteral">&apos;asm&apos;</span>)
<a name="l00283"></a>00283     <span class="keywordflow">return</span> t
<a name="l00284"></a>00284 
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a771bc622a40e7ad0bccc1715a303dff0">t_params_SEMI</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a95021a4fe487544ac75a27dd642332bc"></a><!-- doxytag: member="micro_asm::t_params_PARAMS" ref="a95021a4fe487544ac75a27dd642332bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_params_PARAMS </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00223"></a><a class="code" href="namespacemicro__asm.html#a95021a4fe487544ac75a27dd642332bc">00223</a>                       :
<a name="l00224"></a>00224     <span class="stringliteral">r&apos;([^\n;\\]|(\\[\n;\\]))+&apos;</span>
<a name="l00225"></a>00225     t.lineno += t.value.count(<span class="stringliteral">&apos;\n&apos;</span>)
<a name="l00226"></a>00226     unescapeParamsRE = re.compile(<span class="stringliteral">r&apos;(\\[\n;\\])&apos;</span>)
<a name="l00227"></a>00227     <span class="keyword">def </span>unescapeParams(mo):
<a name="l00228"></a>00228         val = mo.group(0)
<a name="l00229"></a>00229         <span class="keywordflow">return</span> val[1]
<a name="l00230"></a>00230     t.value = unescapeParamsRE.sub(unescapeParams, t.value)
<a name="l00231"></a>00231     t.lexer.begin(<span class="stringliteral">&apos;asm&apos;</span>)
<a name="l00232"></a>00232     <span class="keywordflow">return</span> t
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 <span class="comment"># An &quot;ID&quot; in the micro assembler is either a label, directive, or mnemonic</span>
<a name="l00235"></a>00235 <span class="comment"># If it&apos;s either a directive or a mnemonic, it will be optionally followed by</span>
<a name="l00236"></a>00236 <span class="comment"># parameters. If it&apos;s a label, the following colon will make the lexer stop</span>
<a name="l00237"></a>00237 <span class="comment"># looking for parameters.</span>
<span class="keyword">def </span><a class="code" href="namespacemicro__asm.html#a5392547f3aa663a26f335c12f5e1d90a">t_asm_ID</a>(t):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a771bc622a40e7ad0bccc1715a303dff0"></a><!-- doxytag: member="micro_asm::t_params_SEMI" ref="a771bc622a40e7ad0bccc1715a303dff0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def micro_asm::t_params_SEMI </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00285"></a><a class="code" href="namespacemicro__asm.html#a771bc622a40e7ad0bccc1715a303dff0">00285</a>                     :
<a name="l00286"></a>00286     <span class="stringliteral">r&apos;;&apos;</span>
<a name="l00287"></a>00287     t.lexer.begin(<span class="stringliteral">&apos;asm&apos;</span>)
<a name="l00288"></a>00288     <span class="keywordflow">return</span> t
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 <span class="comment"># Basic regular expressions to pick out simple tokens</span>
t_ANY_LPAREN = <span class="stringliteral">r&apos;\(&apos;</span>
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a7c0da508b820c6b4db51430d694f6d8b"></a><!-- doxytag: member="micro_asm::reserved" ref="a7c0da508b820c6b4db51430d694f6d8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple <a class="el" href="namespacemicro__asm.html#a7c0da508b820c6b4db51430d694f6d8b">reserved</a> = ('DEF', 'MACROOP', 'ROM', 'EXTERN')</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2fce270f6ee4bafd620b1b2f00cd9b79"></a><!-- doxytag: member="micro_asm::reserved_map" ref="a2fce270f6ee4bafd620b1b2f00cd9b79" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary <a class="el" href="namespacemicro__asm.html#a2fce270f6ee4bafd620b1b2f00cd9b79">reserved_map</a> = { }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a998242a7605823c08ad1630923b570d5"></a><!-- doxytag: member="micro_asm::states" ref="a998242a7605823c08ad1630923b570d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple <a class="el" href="namespacemicro__asm.html#a998242a7605823c08ad1630923b570d5">states</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>初期値:</b><div class="fragment"><pre class="fragment">(
    (<span class="stringliteral">&apos;asm&apos;</span>, <span class="stringliteral">&apos;exclusive&apos;</span>),
    (<span class="stringliteral">&apos;params&apos;</span>, <span class="stringliteral">&apos;exclusive&apos;</span>),
)
</pre></div>
</div>
</div>
<a class="anchor" id="a552c7d03bd35ff56963494e8cdd840c1"></a><!-- doxytag: member="micro_asm::t_ANY_DOT" ref="a552c7d03bd35ff56963494e8cdd840c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="namespacemicro__asm.html#a552c7d03bd35ff56963494e8cdd840c1">t_ANY_DOT</a> = r'\.'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a65d7419bbffa21f7c4406f5518092c9b"></a><!-- doxytag: member="micro_asm::t_ANY_ignore" ref="a65d7419bbffa21f7c4406f5518092c9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="namespacemicro__asm.html#a65d7419bbffa21f7c4406f5518092c9b">t_ANY_ignore</a> = ' \t\x0c'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adddd3644d1c96a6ff6c697f82c5c6fe9"></a><!-- doxytag: member="micro_asm::t_ANY_LPAREN" ref="adddd3644d1c96a6ff6c697f82c5c6fe9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="namespacemicro__asm.html#adddd3644d1c96a6ff6c697f82c5c6fe9">t_ANY_LPAREN</a> = r'\('</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a48eea5b8a8376860f8538dafed3cc105"></a><!-- doxytag: member="micro_asm::t_ANY_RPAREN" ref="a48eea5b8a8376860f8538dafed3cc105" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="namespacemicro__asm.html#a48eea5b8a8376860f8538dafed3cc105">t_ANY_RPAREN</a> = r'\)'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5a4b0779a63cf66d21e5a48374083ab4"></a><!-- doxytag: member="micro_asm::t_ANY_SEMI" ref="a5a4b0779a63cf66d21e5a48374083ab4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="namespacemicro__asm.html#a5a4b0779a63cf66d21e5a48374083ab4">t_ANY_SEMI</a> = r';'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8949ccb05d719d97020ab994d6044eef"></a><!-- doxytag: member="micro_asm::tokens" ref="a8949ccb05d719d97020ab994d6044eef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple <a class="el" href="namespacemicro__asm.html#a8949ccb05d719d97020ab994d6044eef">tokens</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>初期値:</b><div class="fragment"><pre class="fragment">reserved+(
        <span class="comment"># identifier</span>
        <span class="stringliteral">&apos;ID&apos;</span>,
        <span class="comment"># arguments for microops and directives</span>
        <span class="stringliteral">&apos;PARAMS&apos;</span>,

        <span class="stringliteral">&apos;LPAREN&apos;</span>, <span class="stringliteral">&apos;RPAREN&apos;</span>,
        <span class="stringliteral">&apos;LBRACE&apos;</span>, <span class="stringliteral">&apos;RBRACE&apos;</span>,
        <span class="stringliteral">&apos;COLON&apos;</span>, <span class="stringliteral">&apos;SEMI&apos;</span>, <span class="stringliteral">&apos;DOT&apos;</span>,
        <span class="stringliteral">&apos;NEWLINE&apos;</span>
        )
</pre></div>
</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
