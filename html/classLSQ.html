<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス テンプレート LSQ&lt; Impl &gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス テンプレート LSQ&lt; Impl &gt;</h1><!-- doxytag: class="LSQ" -->
<p><code>#include &lt;<a class="el" href="lsq_8hh_source.html">lsq.hh</a>&gt;</code></p>

<p><a href="classLSQ-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599">LSQPolicy</a> { <a class="el" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a96535b1625776102bcc13f7dfb598dcb">Dynamic</a>, 
<a class="el" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599add8dfa69b567f90d3f13d819109ab74e">Partitioned</a>, 
<a class="el" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a267544c4de8ecc66bd0fed6310af63be">Threshold</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::O3CPU&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a44622cf06940413482836cb62931ac3f">O3CPU</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::DynInstPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::CPUPol::IEW&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::CPUPol::LSQUnit&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a978eac36269e7f814c4b396c9e4bf51e">LSQUnit</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a268c66c8da0a95e3c0778a5e454ba669">LSQ</a> (<a class="el" href="classLSQ.html#a44622cf06940413482836cb62931ac3f">O3CPU</a> *cpu_ptr, <a class="el" href="classLSQ.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a> *iew_ptr, DerivO3CPUParams *params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#aacb0af998a42267ae15bb83ec2b0753a">~LSQ</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a37627d5d5bba7f4a8690c71c2ab3cb07">name</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#aab96bdacf8bd420402cbb543f994e054">setActiveThreads</a> (<a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> &gt; *at_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a0240eb42fa57fe5d3788093f62b77347">drainSanityCheck</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#adf5473c18a3d7c1e88c4a2072bce5526">isDrained</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a8674059ce345e23aac5086b2c3e24a43">takeOverFrom</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a5d2b0e4e7d98ea4ebd9fb98ac0d91e2f">entryAmount</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> num_threads)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a53a4e3e73adce8cf2b544117971131c5">removeEntries</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#aaf9a05771a835f9f8d634cef36e24d40">resetEntries</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a3672feee3a3eaad63f2e96d46385a099">resizeEntries</a> (unsigned size, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a873dd91783f9efb4a590aded1f70d6b0">tick</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a6968bcfead3fa275f8a1e740c1e337e8">tick</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#ad22b3ecafed2bcd9c59fcab049a1cb98">insertLoad</a> (<a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;load_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a6a4b4e51bfff3639932ebaba45e8a282">insertStore</a> (<a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;store_inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a30c6332142c2ecca389ed6ee463c692b">executeLoad</a> (<a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#aad78b8a37ee5c61e47df58dd39980340">executeStore</a> (<a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#af03ccef8cb6360230dd0060c8996be2d">commitLoads</a> (<a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;youngest_inst, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a096edcd9c962aec4ad10871da44aa5b9">commitStores</a> (<a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;youngest_inst, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a5f04e29d6f6feb8b86460491f2ba7547">writebackStores</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#aebf9f82a83e61cd390df68a2fb7a8641">writebackStores</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a74283dfde2ab06c84e10bd85000c168b">squash</a> (const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;squashed_num, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a4f720bbfb5fdefdb23516500eeb0b4de">violation</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a24dee29bada56cd1c98a7c3d80e77b6e">violation</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a95b69602ad810ff8ec5d2b0ea2619945">loadBlocked</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a27440751be2f0a382983e7077342f2fe">isLoadBlockedHandled</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a30c462e914644ddba59b0d769941b5dd">setLoadBlockedHandled</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a62fec9ff095a709800a97ac7a3d27c78">getMemDepViolator</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#afa7f4e992343baa21a2580e2243e71e0">getLoadHead</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a190e0bb202a3dc8a203e18c67b334729">getLoadHeadSeqNum</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a0645614312b9a74b4adb8bc83b4f34ef">getStoreHead</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a12f6a1158c09e1531b46d0aafb4e2ae4">getStoreHeadSeqNum</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#ae452b1c7e00c383f2916c4a530fab737">getCount</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#aa2a7dc807b5a961bae06a5aa5b348448">getCount</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a54460b759fb06e2b18e26657279a6f49">numLoads</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#adcdafd05eb96f01fa490a847d57d0bec">numLoads</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#aa0fc32a4a9d77696f5907f4d25e7d07f">numStores</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a12346c097127dd67f1f9e8d28e12858f">numStores</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a028971a565aca048c67ea1c36a6a9d51">numFreeEntries</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#acc878f608deead5b5319a6a3f98b50c8">numFreeEntries</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a3e70330939fdfc4dbc2f60c1a660584d">isFull</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a30fac732df9b3fda011c7329a112cb31">isFull</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a479432127ee77145cc19d6a2d1590821">isEmpty</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a01d2807c1345befcffd168a2a9dbdbf2">lqEmpty</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a5761e9640bec8ba8474945cce57b6501">sqEmpty</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a5893daf623130be826f492bbff58f757">lqFull</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#afa1d531e5f388b1cdc3af03100f63061">lqFull</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a477981d1f905d2d398a1527f7149e3c4">sqFull</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a6a3501ebb06c38938a3b0ebcea2b6a8b">sqFull</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#af8eb8590fbfa6ecd2f796390677a4c00">isStalled</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a5532c6a5a314b05c9d29a319aa3a76a6">isStalled</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#ad2e4b46255cfb53e85522adeed4e2089">hasStoresToWB</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a7e6f40e5ef3dbfe9d3d8da2dbeaf2b91">hasStoresToWB</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a4115edd209f7e5e51c3a17d40edd9e7a">numStoresToWB</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a338be821734603396bfef8d9fb8f04b0">willWB</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a71ae97788e6b1230662807e1b03f47b3">willWB</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a050e3736ea48bf74bd0c216b1cd3f494">cacheBlocked</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#aca00d390ba2ada0daf6e0c0a7cf75f57">setRetryTid</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#ad0dcc54f6823ec37a9ab4eef289e2305">dumpInsts</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a720e1bd0f477c100c9c9ca0b6ced109f">dumpInsts</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a206ad0283d431e78e6f38bb9b54b23ee">read</a> (<a class="el" href="classRequest.html">RequestPtr</a> req, <a class="el" href="classRequest.html">RequestPtr</a> sreqLow, <a class="el" href="classRequest.html">RequestPtr</a> sreqHigh, uint8_t *data, int load_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a1be8f3ccb9b2787a2c92bfab3fda9675">write</a> (<a class="el" href="classRequest.html">RequestPtr</a> req, <a class="el" href="classRequest.html">RequestPtr</a> sreqLow, <a class="el" href="classRequest.html">RequestPtr</a> sreqHigh, uint8_t *data, int store_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a29cb5a4f98063ce6e9210eacbdb35298">recvRetry</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a482dba5588f4bee43e498875a61e5e0b">recvTimingResp</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#aff3031c56fc4947a19695c868bb8233e">recvTimingSnoopReq</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td colspan="2"><h2>Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLSQ.html#a44622cf06940413482836cb62931ac3f">O3CPU</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLSQ.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a4e9ef25d8913b270d432be4bbfe4965c">iewStage</a></td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599">LSQPolicy</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLSQUnit.html">LSQUnit</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#aafa99d800d574095881acbacdbbbcc47">LQEntries</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a38c8af5392da70119dc5cce4e3637cbc">SQEntries</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#ad2f4fd027fe71a87d5ee2d798ec19ac3">maxLQEntries</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a0e9eef7cd7598f554f1f89c35cb08128">maxSQEntries</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSQ.html#a865aaad70625f17392c717930860d386">retryTid</a></td></tr>
</table>
<h3>template&lt;class Impl&gt;<br/>
 class LSQ&lt; Impl &gt;</h3>

<hr/><h2>型定義</h2>
<a class="anchor" id="a028ce10889c5f6450239d9e9a7347976"></a><!-- doxytag: member="LSQ::DynInstPtr" ref="a028ce10889c5f6450239d9e9a7347976" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::DynInstPtr <a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a23f60a4095b5240dfcb18a4ec40210a9"></a><!-- doxytag: member="LSQ::IEW" ref="a23f60a4095b5240dfcb18a4ec40210a9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::CPUPol::IEW <a class="el" href="classLSQ.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a978eac36269e7f814c4b396c9e4bf51e"></a><!-- doxytag: member="LSQ::LSQUnit" ref="a978eac36269e7f814c4b396c9e4bf51e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::CPUPol::LSQUnit <a class="el" href="classLSQUnit.html">LSQUnit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a44622cf06940413482836cb62931ac3f"></a><!-- doxytag: member="LSQ::O3CPU" ref="a44622cf06940413482836cb62931ac3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::O3CPU <a class="el" href="classLSQ.html#a44622cf06940413482836cb62931ac3f">O3CPU</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>列挙型</h2>
<a class="anchor" id="a2ecb54b28634ef872a820651cce92599"></a><!-- doxytag: member="LSQ::LSQPolicy" ref="a2ecb54b28634ef872a820651cce92599" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599">LSQPolicy</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>SMT policy. </p>
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a2ecb54b28634ef872a820651cce92599a96535b1625776102bcc13f7dfb598dcb"></a><!-- doxytag: member="Dynamic" ref="a2ecb54b28634ef872a820651cce92599a96535b1625776102bcc13f7dfb598dcb" args="" -->Dynamic</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2ecb54b28634ef872a820651cce92599add8dfa69b567f90d3f13d819109ab74e"></a><!-- doxytag: member="Partitioned" ref="a2ecb54b28634ef872a820651cce92599add8dfa69b567f90d3f13d819109ab74e" args="" -->Partitioned</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2ecb54b28634ef872a820651cce92599a267544c4de8ecc66bd0fed6310af63be"></a><!-- doxytag: member="Threshold" ref="a2ecb54b28634ef872a820651cce92599a267544c4de8ecc66bd0fed6310af63be" args="" -->Threshold</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00065"></a>00065                    {
<a name="l00066"></a>00066         <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a96535b1625776102bcc13f7dfb598dcb">Dynamic</a>,
<a name="l00067"></a>00067         <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599add8dfa69b567f90d3f13d819109ab74e">Partitioned</a>,
<a name="l00068"></a>00068         <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a267544c4de8ecc66bd0fed6310af63be">Threshold</a>
<a name="l00069"></a>00069     };
</pre></div></p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a268c66c8da0a95e3c0778a5e454ba669"></a><!-- doxytag: member="LSQ::LSQ" ref="a268c66c8da0a95e3c0778a5e454ba669" args="(O3CPU *cpu_ptr, IEW *iew_ptr, DerivO3CPUParams *params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLSQ.html">LSQ</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLSQ.html#a44622cf06940413482836cb62931ac3f">O3CPU</a> *&nbsp;</td>
          <td class="paramname"> <em>cpu_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLSQ.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a> *&nbsp;</td>
          <td class="paramname"> <em>iew_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DerivO3CPUParams *&nbsp;</td>
          <td class="paramname"> <em>params</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs an <a class="el" href="classLSQ.html">LSQ</a> with the given parameters. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00061"></a>00061     : <a class="code" href="classLSQ.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>(cpu_ptr), <a class="code" href="classLSQ.html#a4e9ef25d8913b270d432be4bbfe4965c">iewStage</a>(iew_ptr),
<a name="l00062"></a>00062       <a class="code" href="classLSQ.html#aafa99d800d574095881acbacdbbbcc47">LQEntries</a>(params-&gt;LQEntries),
<a name="l00063"></a>00063       <a class="code" href="classLSQ.html#a38c8af5392da70119dc5cce4e3637cbc">SQEntries</a>(params-&gt;SQEntries),
<a name="l00064"></a>00064       <a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>(params-&gt;numThreads),
<a name="l00065"></a>00065       <a class="code" href="classLSQ.html#a865aaad70625f17392c717930860d386">retryTid</a>(-1)
<a name="l00066"></a>00066 {
<a name="l00067"></a>00067     assert(<a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a> &gt; 0 &amp;&amp; <a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a> &lt;= <a class="code" href="namespaceThePipeline.html#ac9c0bbe9cf27d93e08ea8ccc4096e633">Impl::MaxThreads</a>);
<a name="l00068"></a>00068 
<a name="l00069"></a>00069     <span class="comment">//**********************************************/</span>
<a name="l00070"></a>00070     <span class="comment">//************ Handle SMT Parameters ***********/</span>
<a name="l00071"></a>00071     <span class="comment">//**********************************************/</span>
<a name="l00072"></a>00072     std::string policy = params-&gt;smtLSQPolicy;
<a name="l00073"></a>00073 
<a name="l00074"></a>00074     <span class="comment">//Convert string to lowercase</span>
<a name="l00075"></a>00075     std::transform(policy.begin(), policy.end(), policy.begin(),
<a name="l00076"></a>00076                    (int(*)(int)) tolower);
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <span class="comment">//Figure out fetch policy</span>
<a name="l00079"></a>00079     <span class="keywordflow">if</span> (policy == <span class="stringliteral">&quot;dynamic&quot;</span>) {
<a name="l00080"></a>00080         <a class="code" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a> = <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a96535b1625776102bcc13f7dfb598dcb">Dynamic</a>;
<a name="l00081"></a>00081 
<a name="l00082"></a>00082         <a class="code" href="classLSQ.html#ad2f4fd027fe71a87d5ee2d798ec19ac3">maxLQEntries</a> = <a class="code" href="classLSQ.html#aafa99d800d574095881acbacdbbbcc47">LQEntries</a>;
<a name="l00083"></a>00083         <a class="code" href="classLSQ.html#a0e9eef7cd7598f554f1f89c35cb08128">maxSQEntries</a> = <a class="code" href="classLSQ.html#a38c8af5392da70119dc5cce4e3637cbc">SQEntries</a>;
<a name="l00084"></a>00084 
<a name="l00085"></a>00085         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classLSQ.html">LSQ</a>, <span class="stringliteral">&quot;LSQ sharing policy set to Dynamic\n&quot;</span>);
<a name="l00086"></a>00086     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (policy == <span class="stringliteral">&quot;partitioned&quot;</span>) {
<a name="l00087"></a>00087         <a class="code" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a> = <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599add8dfa69b567f90d3f13d819109ab74e">Partitioned</a>;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089         <span class="comment">//@todo:make work if part_amt doesnt divide evenly.</span>
<a name="l00090"></a>00090         <a class="code" href="classLSQ.html#ad2f4fd027fe71a87d5ee2d798ec19ac3">maxLQEntries</a> = <a class="code" href="classLSQ.html#aafa99d800d574095881acbacdbbbcc47">LQEntries</a> / <a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>;
<a name="l00091"></a>00091         <a class="code" href="classLSQ.html#a0e9eef7cd7598f554f1f89c35cb08128">maxSQEntries</a> = <a class="code" href="classLSQ.html#a38c8af5392da70119dc5cce4e3637cbc">SQEntries</a> / <a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>;
<a name="l00092"></a>00092 
<a name="l00093"></a>00093         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Fetch, <span class="stringliteral">&quot;LSQ sharing policy set to Partitioned: &quot;</span>
<a name="l00094"></a>00094                 <span class="stringliteral">&quot;%i entries per LQ | %i entries per SQ\n&quot;</span>,
<a name="l00095"></a>00095                 <a class="code" href="classLSQ.html#ad2f4fd027fe71a87d5ee2d798ec19ac3">maxLQEntries</a>,<a class="code" href="classLSQ.html#a0e9eef7cd7598f554f1f89c35cb08128">maxSQEntries</a>);
<a name="l00096"></a>00096     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (policy == <span class="stringliteral">&quot;threshold&quot;</span>) {
<a name="l00097"></a>00097         <a class="code" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a> = <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a267544c4de8ecc66bd0fed6310af63be">Threshold</a>;
<a name="l00098"></a>00098 
<a name="l00099"></a>00099         assert(params-&gt;smtLSQThreshold &gt; <a class="code" href="classLSQ.html#aafa99d800d574095881acbacdbbbcc47">LQEntries</a>);
<a name="l00100"></a>00100         assert(params-&gt;smtLSQThreshold &gt; <a class="code" href="classLSQ.html#a38c8af5392da70119dc5cce4e3637cbc">SQEntries</a>);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102         <span class="comment">//Divide up by threshold amount</span>
<a name="l00103"></a>00103         <span class="comment">//@todo: Should threads check the max and the total</span>
<a name="l00104"></a>00104         <span class="comment">//amount of the LSQ</span>
<a name="l00105"></a>00105         <a class="code" href="classLSQ.html#ad2f4fd027fe71a87d5ee2d798ec19ac3">maxLQEntries</a>  = params-&gt;smtLSQThreshold;
<a name="l00106"></a>00106         <a class="code" href="classLSQ.html#a0e9eef7cd7598f554f1f89c35cb08128">maxSQEntries</a>  = params-&gt;smtLSQThreshold;
<a name="l00107"></a>00107 
<a name="l00108"></a>00108         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classLSQ.html">LSQ</a>, <span class="stringliteral">&quot;LSQ sharing policy set to Threshold: &quot;</span>
<a name="l00109"></a>00109                 <span class="stringliteral">&quot;%i entries per LQ | %i entries per SQ\n&quot;</span>,
<a name="l00110"></a>00110                 <a class="code" href="classLSQ.html#ad2f4fd027fe71a87d5ee2d798ec19ac3">maxLQEntries</a>,<a class="code" href="classLSQ.html#a0e9eef7cd7598f554f1f89c35cb08128">maxSQEntries</a>);
<a name="l00111"></a>00111     } <span class="keywordflow">else</span> {
<a name="l00112"></a>00112         assert(0 &amp;&amp; <span class="stringliteral">&quot;Invalid LSQ Sharing Policy.Options Are:{Dynamic,&quot;</span>
<a name="l00113"></a>00113                     <span class="stringliteral">&quot;Partitioned, Threshold}&quot;</span>);
<a name="l00114"></a>00114     }
<a name="l00115"></a>00115 
<a name="l00116"></a>00116     <span class="comment">//Initialize LSQs</span>
<a name="l00117"></a>00117     <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a> = <span class="keyword">new</span> <a class="code" href="classLSQUnit.html">LSQUnit</a>[<a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>];
<a name="l00118"></a>00118     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l00119"></a>00119         <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a45b3b65ba551c17c3b200db265611a4c">init</a>(<a class="code" href="classLSQ.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>, iew_ptr, params, <span class="keyword">this</span>,
<a name="l00120"></a>00120                          <a class="code" href="classLSQ.html#ad2f4fd027fe71a87d5ee2d798ec19ac3">maxLQEntries</a>, <a class="code" href="classLSQ.html#a0e9eef7cd7598f554f1f89c35cb08128">maxSQEntries</a>, tid);
<a name="l00121"></a>00121         <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a8d77cc755c7a424f4eb80130fb627012">setDcachePort</a>(&amp;cpu_ptr-&gt;getDataPort());
<a name="l00122"></a>00122     }
<a name="l00123"></a>00123 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aacb0af998a42267ae15bb83ec2b0753a"></a><!-- doxytag: member="LSQ::~LSQ" ref="aacb0af998a42267ae15bb83ec2b0753a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classLSQ.html">LSQ</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00073"></a>00073            {
<a name="l00074"></a>00074         <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>) <span class="keyword">delete</span> [] <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>;
<a name="l00075"></a>00075     }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a050e3736ea48bf74bd0c216b1cd3f494"></a><!-- doxytag: member="LSQ::cacheBlocked" ref="a050e3736ea48bf74bd0c216b1cd3f494" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cacheBlocked </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if the cache is currently blocked. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00271"></a>00271     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a865aaad70625f17392c717930860d386">retryTid</a> != <a class="code" href="base_2types_8hh.html#a192b210a26f038691d0f095d85dc0953">InvalidThreadID</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af03ccef8cb6360230dd0060c8996be2d"></a><!-- doxytag: member="LSQ::commitLoads" ref="af03ccef8cb6360230dd0060c8996be2d" args="(InstSeqNum &amp;youngest_inst, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void commitLoads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>youngest_inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Commits loads up until the given sequence number for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00122"></a>00122     { <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a1ae517a923a864a4e3a5aa1eeb2dd2d6">commitLoads</a>(youngest_inst); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a096edcd9c962aec4ad10871da44aa5b9"></a><!-- doxytag: member="LSQ::commitStores" ref="a096edcd9c962aec4ad10871da44aa5b9" args="(InstSeqNum &amp;youngest_inst, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void commitStores </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>youngest_inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Commits stores up until the given sequence number for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00128"></a>00128     { <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a954ce1ce58b67cae49ba127d5ea40701">commitStores</a>(youngest_inst); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0240eb42fa57fe5d3788093f62b77347"></a><!-- doxytag: member="LSQ::drainSanityCheck" ref="a0240eb42fa57fe5d3788093f62b77347" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drainSanityCheck </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform sanity checks after a drain. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00154"></a>00154 {
<a name="l00155"></a>00155     assert(<a class="code" href="classLSQ.html#adf5473c18a3d7c1e88c4a2072bce5526">isDrained</a>());
<a name="l00156"></a>00156 
<a name="l00157"></a>00157     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++)
<a name="l00158"></a>00158         <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQ.html#a0240eb42fa57fe5d3788093f62b77347">drainSanityCheck</a>();
<a name="l00159"></a>00159 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a720e1bd0f477c100c9c9ca0b6ced109f"></a><!-- doxytag: member="LSQ::dumpInsts" ref="a720e1bd0f477c100c9c9ca0b6ced109f" args="(ThreadID tid) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dumpInsts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Debugging function to print out instructions from a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00282"></a>00282     { <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#ad0dcc54f6823ec37a9ab4eef289e2305">dumpInsts</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad0dcc54f6823ec37a9ab4eef289e2305"></a><!-- doxytag: member="LSQ::dumpInsts" ref="ad0dcc54f6823ec37a9ab4eef289e2305" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dumpInsts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Debugging function to print out all instructions. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00654"></a>00654 {
<a name="l00655"></a>00655     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::const_iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00656"></a>00656     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::const_iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00657"></a>00657 
<a name="l00658"></a>00658     <span class="keywordflow">while</span> (threads != end) {
<a name="l00659"></a>00659         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00660"></a>00660 
<a name="l00661"></a>00661         <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#ad0dcc54f6823ec37a9ab4eef289e2305">dumpInsts</a>();
<a name="l00662"></a>00662     }
<a name="l00663"></a>00663 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5d2b0e4e7d98ea4ebd9fb98ac0d91e2f"></a><!-- doxytag: member="LSQ::entryAmount" ref="a5d2b0e4e7d98ea4ebd9fb98ac0d91e2f" args="(ThreadID num_threads)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int entryAmount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>num_threads</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of entries needed for the given amount of threads. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00197"></a>00197 {
<a name="l00198"></a>00198     <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a> == <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599add8dfa69b567f90d3f13d819109ab74e">Partitioned</a>) {
<a name="l00199"></a>00199         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#aafa99d800d574095881acbacdbbbcc47">LQEntries</a> / num_threads;
<a name="l00200"></a>00200     } <span class="keywordflow">else</span> {
<a name="l00201"></a>00201         <span class="keywordflow">return</span> 0;
<a name="l00202"></a>00202     }
<a name="l00203"></a>00203 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a30c6332142c2ecca389ed6ee463c692b"></a><!-- doxytag: member="LSQ::executeLoad" ref="a30c6332142c2ecca389ed6ee463c692b" args="(DynInstPtr &amp;inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> executeLoad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes a load. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00284"></a>00284 {
<a name="l00285"></a>00285     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = inst-&gt;threadNumber;
<a name="l00286"></a>00286 
<a name="l00287"></a>00287     <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a30c6332142c2ecca389ed6ee463c692b">executeLoad</a>(inst);
<a name="l00288"></a>00288 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aad78b8a37ee5c61e47df58dd39980340"></a><!-- doxytag: member="LSQ::executeStore" ref="aad78b8a37ee5c61e47df58dd39980340" args="(DynInstPtr &amp;inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> executeStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes a store. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00293"></a>00293 {
<a name="l00294"></a>00294     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = inst-&gt;threadNumber;
<a name="l00295"></a>00295 
<a name="l00296"></a>00296     <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#aad78b8a37ee5c61e47df58dd39980340">executeStore</a>(inst);
<a name="l00297"></a>00297 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa2a7dc807b5a961bae06a5aa5b348448"></a><!-- doxytag: member="LSQ::getCount" ref="aa2a7dc807b5a961bae06a5aa5b348448" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the number of instructions in the queues of one thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00193"></a>00193     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a24ba9cb3fa1e726321780a20a960c8cd">getCount</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae452b1c7e00c383f2916c4a530fab737"></a><!-- doxytag: member="LSQ::getCount" ref="ae452b1c7e00c383f2916c4a530fab737" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getCount </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the number of instructions in all of the queues. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00383"></a>00383 {
<a name="l00384"></a>00384     <span class="keywordtype">unsigned</span> <a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a> = 0;
<a name="l00385"></a>00385 
<a name="l00386"></a>00386     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00387"></a>00387     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00388"></a>00388 
<a name="l00389"></a>00389     <span class="keywordflow">while</span> (threads != end) {
<a name="l00390"></a>00390         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00391"></a>00391 
<a name="l00392"></a>00392         total += <a class="code" href="classLSQ.html#ae452b1c7e00c383f2916c4a530fab737">getCount</a>(tid);
<a name="l00393"></a>00393     }
<a name="l00394"></a>00394 
<a name="l00395"></a>00395     <span class="keywordflow">return</span> total;
<a name="l00396"></a>00396 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afa7f4e992343baa21a2580e2243e71e0"></a><!-- doxytag: member="LSQ::getLoadHead" ref="afa7f4e992343baa21a2580e2243e71e0" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getLoadHead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the head index of the load queue for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00171"></a>00171     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#ad43a7408f4e1c1e181bc40ecab6dc593">getLoadHead</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a190e0bb202a3dc8a203e18c67b334729"></a><!-- doxytag: member="LSQ::getLoadHeadSeqNum" ref="a190e0bb202a3dc8a203e18c67b334729" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> getLoadHeadSeqNum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the sequence number of the head of the load queue. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00175"></a>00175     {
<a name="l00176"></a>00176         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#aee7352adadc6b43b7ce36a8c052eb222">getLoadHeadSeqNum</a>();
<a name="l00177"></a>00177     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a62fec9ff095a709800a97ac7a3d27c78"></a><!-- doxytag: member="LSQ::getMemDepViolator" ref="a62fec9ff095a709800a97ac7a3d27c78" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> getMemDepViolator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the instruction that caused the memory ordering violation. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00167"></a>00167     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a30adaf6f5fb6b38b5747f35c419e3f31">getMemDepViolator</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0645614312b9a74b4adb8bc83b4f34ef"></a><!-- doxytag: member="LSQ::getStoreHead" ref="a0645614312b9a74b4adb8bc83b4f34ef" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getStoreHead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the head index of the store queue. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00181"></a>00181     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#ab9d14b0deb8ab44dc09ac784b162e774">getStoreHead</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a12f6a1158c09e1531b46d0aafb4e2ae4"></a><!-- doxytag: member="LSQ::getStoreHeadSeqNum" ref="a12f6a1158c09e1531b46d0aafb4e2ae4" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> getStoreHeadSeqNum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the sequence number of the head of the store queue. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00185"></a>00185     {
<a name="l00186"></a>00186         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a1813b58ab7569d6aeefb5d4e235cceda">getStoreHeadSeqNum</a>();
<a name="l00187"></a>00187     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7e6f40e5ef3dbfe9d3d8da2dbeaf2b91"></a><!-- doxytag: member="LSQ::hasStoresToWB" ref="a7e6f40e5ef3dbfe9d3d8da2dbeaf2b91" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hasStoresToWB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns whether or not a specific thread has any stores to write back to memory. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00255"></a>00255     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#ad2e4b46255cfb53e85522adeed4e2089">hasStoresToWB</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad2e4b46255cfb53e85522adeed4e2089"></a><!-- doxytag: member="LSQ::hasStoresToWB" ref="ad2e4b46255cfb53e85522adeed4e2089" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hasStoresToWB </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns whether or not there are any stores to write back to memory. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00620"></a>00620 {
<a name="l00621"></a>00621     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00622"></a>00622     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00623"></a>00623 
<a name="l00624"></a>00624     <span class="keywordflow">while</span> (threads != end) {
<a name="l00625"></a>00625         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00626"></a>00626 
<a name="l00627"></a>00627         <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#ad2e4b46255cfb53e85522adeed4e2089">hasStoresToWB</a>(tid))
<a name="l00628"></a>00628             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00629"></a>00629     }
<a name="l00630"></a>00630 
<a name="l00631"></a>00631     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00632"></a>00632 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad22b3ecafed2bcd9c59fcab049a1cb98"></a><!-- doxytag: member="LSQ::insertLoad" ref="ad22b3ecafed2bcd9c59fcab049a1cb98" args="(DynInstPtr &amp;load_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insertLoad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>load_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Inserts a load into the <a class="el" href="classLSQ.html">LSQ</a>. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00266"></a>00266 {
<a name="l00267"></a>00267     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = load_inst-&gt;threadNumber;
<a name="l00268"></a>00268 
<a name="l00269"></a>00269     <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#ad22b3ecafed2bcd9c59fcab049a1cb98">insertLoad</a>(load_inst);
<a name="l00270"></a>00270 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6a4b4e51bfff3639932ebaba45e8a282"></a><!-- doxytag: member="LSQ::insertStore" ref="a6a4b4e51bfff3639932ebaba45e8a282" args="(DynInstPtr &amp;store_inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insertStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLSQ.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>store_inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Inserts a store into the <a class="el" href="classLSQ.html">LSQ</a>. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00275"></a>00275 {
<a name="l00276"></a>00276     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = store_inst-&gt;threadNumber;
<a name="l00277"></a>00277 
<a name="l00278"></a>00278     <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a6a4b4e51bfff3639932ebaba45e8a282">insertStore</a>(store_inst);
<a name="l00279"></a>00279 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adf5473c18a3d7c1e88c4a2072bce5526"></a><!-- doxytag: member="LSQ::isDrained" ref="adf5473c18a3d7c1e88c4a2072bce5526" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isDrained </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Has the <a class="el" href="classLSQ.html">LSQ</a> drained? </p>

<p><div class="fragment"><pre class="fragment"><a name="l00164"></a>00164 {
<a name="l00165"></a>00165     <span class="keywordtype">bool</span> drained(<span class="keyword">true</span>);
<a name="l00166"></a>00166 
<a name="l00167"></a>00167     <span class="keywordflow">if</span> (!<a class="code" href="classLSQ.html#a01d2807c1345befcffd168a2a9dbdbf2">lqEmpty</a>()) {
<a name="l00168"></a>00168         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;Not drained, LQ not empty.\n&quot;</span>);
<a name="l00169"></a>00169         drained = <span class="keyword">false</span>;
<a name="l00170"></a>00170     }
<a name="l00171"></a>00171 
<a name="l00172"></a>00172     <span class="keywordflow">if</span> (!<a class="code" href="classLSQ.html#a5761e9640bec8ba8474945cce57b6501">sqEmpty</a>()) {
<a name="l00173"></a>00173         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;Not drained, SQ not empty.\n&quot;</span>);
<a name="l00174"></a>00174         drained = <span class="keyword">false</span>;
<a name="l00175"></a>00175     }
<a name="l00176"></a>00176 
<a name="l00177"></a>00177     <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a865aaad70625f17392c717930860d386">retryTid</a> != <a class="code" href="base_2types_8hh.html#a192b210a26f038691d0f095d85dc0953">InvalidThreadID</a>) {
<a name="l00178"></a>00178         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;Not drained, the LSQ has blocked the caches.\n&quot;</span>);
<a name="l00179"></a>00179         drained = <span class="keyword">false</span>;
<a name="l00180"></a>00180     }
<a name="l00181"></a>00181 
<a name="l00182"></a>00182     <span class="keywordflow">return</span> drained;
<a name="l00183"></a>00183 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a479432127ee77145cc19d6a2d1590821"></a><!-- doxytag: member="LSQ::isEmpty" ref="a479432127ee77145cc19d6a2d1590821" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isEmpty </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if the <a class="el" href="classLSQ.html">LSQ</a> is empty (both LQ and SQ are empty). </p>

<p><div class="fragment"><pre class="fragment"><a name="l00494"></a>00494 {
<a name="l00495"></a>00495     <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a01d2807c1345befcffd168a2a9dbdbf2">lqEmpty</a>() &amp;&amp; <a class="code" href="classLSQ.html#a5761e9640bec8ba8474945cce57b6501">sqEmpty</a>();
<a name="l00496"></a>00496 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a30fac732df9b3fda011c7329a112cb31"></a><!-- doxytag: member="LSQ::isFull" ref="a30fac732df9b3fda011c7329a112cb31" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isFull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if the <a class="el" href="classLSQ.html">LSQ</a> is full for a specific thread (either LQ or SQ is full). </p>

<p><div class="fragment"><pre class="fragment"><a name="l00482"></a>00482 {
<a name="l00483"></a>00483     <span class="comment">//@todo: Change to Calculate All Entries for</span>
<a name="l00484"></a>00484     <span class="comment">//Dynamic Policy</span>
<a name="l00485"></a>00485     <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a> == <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a96535b1625776102bcc13f7dfb598dcb">Dynamic</a>)
<a name="l00486"></a>00486         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a3e70330939fdfc4dbc2f60c1a660584d">isFull</a>();
<a name="l00487"></a>00487     <span class="keywordflow">else</span>
<a name="l00488"></a>00488         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a5893daf623130be826f492bbff58f757">lqFull</a>() || <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a477981d1f905d2d398a1527f7149e3c4">sqFull</a>();
<a name="l00489"></a>00489 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3e70330939fdfc4dbc2f60c1a660584d"></a><!-- doxytag: member="LSQ::isFull" ref="a3e70330939fdfc4dbc2f60c1a660584d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isFull </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if the <a class="el" href="classLSQ.html">LSQ</a> is full (either LQ or SQ is full). </p>

<p><div class="fragment"><pre class="fragment"><a name="l00465"></a>00465 {
<a name="l00466"></a>00466     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00467"></a>00467     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00468"></a>00468 
<a name="l00469"></a>00469     <span class="keywordflow">while</span> (threads != end) {
<a name="l00470"></a>00470         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00471"></a>00471 
<a name="l00472"></a>00472         <span class="keywordflow">if</span> (!(<a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQ.html#a5893daf623130be826f492bbff58f757">lqFull</a>() || <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQ.html#a477981d1f905d2d398a1527f7149e3c4">sqFull</a>()))
<a name="l00473"></a>00473             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00474"></a>00474     }
<a name="l00475"></a>00475 
<a name="l00476"></a>00476     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00477"></a>00477 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a27440751be2f0a382983e7077342f2fe"></a><!-- doxytag: member="LSQ::isLoadBlockedHandled" ref="a27440751be2f0a382983e7077342f2fe" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isLoadBlockedHandled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00160"></a>00160     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#ad0aa91a7b51ca925abf9c9992abad314">isLoadBlockedHandled</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5532c6a5a314b05c9d29a319aa3a76a6"></a><!-- doxytag: member="LSQ::isStalled" ref="a5532c6a5a314b05c9d29a319aa3a76a6" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isStalled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if the <a class="el" href="classLSQ.html">LSQ</a> of a specific thread is stalled due to a memory operation that must be replayed. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00610"></a>00610 {
<a name="l00611"></a>00611     <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a> == <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a96535b1625776102bcc13f7dfb598dcb">Dynamic</a>)
<a name="l00612"></a>00612         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#af8eb8590fbfa6ecd2f796390677a4c00">isStalled</a>();
<a name="l00613"></a>00613     <span class="keywordflow">else</span>
<a name="l00614"></a>00614         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#af8eb8590fbfa6ecd2f796390677a4c00">isStalled</a>();
<a name="l00615"></a>00615 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af8eb8590fbfa6ecd2f796390677a4c00"></a><!-- doxytag: member="LSQ::isStalled" ref="af8eb8590fbfa6ecd2f796390677a4c00" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isStalled </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if the <a class="el" href="classLSQ.html">LSQ</a> is stalled due to a memory operation that must be replayed. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00593"></a>00593 {
<a name="l00594"></a>00594     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00595"></a>00595     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00596"></a>00596 
<a name="l00597"></a>00597     <span class="keywordflow">while</span> (threads != end) {
<a name="l00598"></a>00598         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00599"></a>00599 
<a name="l00600"></a>00600         <span class="keywordflow">if</span> (!<a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQ.html#af8eb8590fbfa6ecd2f796390677a4c00">isStalled</a>())
<a name="l00601"></a>00601             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00602"></a>00602     }
<a name="l00603"></a>00603 
<a name="l00604"></a>00604     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00605"></a>00605 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a95b69602ad810ff8ec5d2b0ea2619945"></a><!-- doxytag: member="LSQ::loadBlocked" ref="a95b69602ad810ff8ec5d2b0ea2619945" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool loadBlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if a load is blocked due to the memory system for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00157"></a>00157     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a05c413ba417c6453e99f75d87c958590">loadBlocked</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a01d2807c1345befcffd168a2a9dbdbf2"></a><!-- doxytag: member="LSQ::lqEmpty" ref="a01d2807c1345befcffd168a2a9dbdbf2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lqEmpty </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if all of the LQs are empty. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00501"></a>00501 {
<a name="l00502"></a>00502     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::const_iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00503"></a>00503     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::const_iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00504"></a>00504 
<a name="l00505"></a>00505     <span class="keywordflow">while</span> (threads != end) {
<a name="l00506"></a>00506         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00507"></a>00507 
<a name="l00508"></a>00508         <span class="keywordflow">if</span> (!<a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQ.html#a01d2807c1345befcffd168a2a9dbdbf2">lqEmpty</a>())
<a name="l00509"></a>00509             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00510"></a>00510     }
<a name="l00511"></a>00511 
<a name="l00512"></a>00512     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00513"></a>00513 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afa1d531e5f388b1cdc3af03100f63061"></a><!-- doxytag: member="LSQ::lqFull" ref="afa1d531e5f388b1cdc3af03100f63061" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lqFull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if the LQ of a given thread is full. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00552"></a>00552 {
<a name="l00553"></a>00553     <span class="comment">//@todo: Change to Calculate All Entries for</span>
<a name="l00554"></a>00554     <span class="comment">//Dynamic Policy</span>
<a name="l00555"></a>00555     <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a> == <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a96535b1625776102bcc13f7dfb598dcb">Dynamic</a>)
<a name="l00556"></a>00556         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5893daf623130be826f492bbff58f757">lqFull</a>();
<a name="l00557"></a>00557     <span class="keywordflow">else</span>
<a name="l00558"></a>00558         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a5893daf623130be826f492bbff58f757">lqFull</a>();
<a name="l00559"></a>00559 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5893daf623130be826f492bbff58f757"></a><!-- doxytag: member="LSQ::lqFull" ref="a5893daf623130be826f492bbff58f757" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lqFull </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if any of the LQs are full. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00535"></a>00535 {
<a name="l00536"></a>00536     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00537"></a>00537     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00538"></a>00538 
<a name="l00539"></a>00539     <span class="keywordflow">while</span> (threads != end) {
<a name="l00540"></a>00540         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00541"></a>00541 
<a name="l00542"></a>00542         <span class="keywordflow">if</span> (!<a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQ.html#a5893daf623130be826f492bbff58f757">lqFull</a>())
<a name="l00543"></a>00543             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00544"></a>00544     }
<a name="l00545"></a>00545 
<a name="l00546"></a>00546     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00547"></a>00547 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a37627d5d5bba7f4a8690c71c2ab3cb07"></a><!-- doxytag: member="LSQ::name" ref="a37627d5d5bba7f4a8690c71c2ab3cb07" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the name of the <a class="el" href="classLSQ.html">LSQ</a>. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00129"></a>00129 {
<a name="l00130"></a>00130     <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a4e9ef25d8913b270d432be4bbfe4965c">iewStage</a>-&gt;name() + <span class="stringliteral">&quot;.lsq&quot;</span>;
<a name="l00131"></a>00131 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acc878f608deead5b5319a6a3f98b50c8"></a><!-- doxytag: member="LSQ::numFreeEntries" ref="acc878f608deead5b5319a6a3f98b50c8" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned numFreeEntries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the number of free entries for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00455"></a>00455 {
<a name="l00456"></a>00456     <span class="comment">//if (lsqPolicy == Dynamic)</span>
<a name="l00457"></a>00457     <span class="comment">//return numFreeEntries();</span>
<a name="l00458"></a>00458     <span class="comment">//else</span>
<a name="l00459"></a>00459         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a028971a565aca048c67ea1c36a6a9d51">numFreeEntries</a>();
<a name="l00460"></a>00460 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a028971a565aca048c67ea1c36a6a9d51"></a><!-- doxytag: member="LSQ::numFreeEntries" ref="a028971a565aca048c67ea1c36a6a9d51" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned numFreeEntries </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the number of free entries. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00437"></a>00437 {
<a name="l00438"></a>00438     <span class="keywordtype">unsigned</span> <a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a> = 0;
<a name="l00439"></a>00439 
<a name="l00440"></a>00440     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00441"></a>00441     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00442"></a>00442 
<a name="l00443"></a>00443     <span class="keywordflow">while</span> (threads != end) {
<a name="l00444"></a>00444         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00445"></a>00445 
<a name="l00446"></a>00446         total += <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a028971a565aca048c67ea1c36a6a9d51">numFreeEntries</a>();
<a name="l00447"></a>00447     }
<a name="l00448"></a>00448 
<a name="l00449"></a>00449     <span class="keywordflow">return</span> total;
<a name="l00450"></a>00450 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adcdafd05eb96f01fa490a847d57d0bec"></a><!-- doxytag: member="LSQ::numLoads" ref="adcdafd05eb96f01fa490a847d57d0bec" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int numLoads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the total number of loads for a single thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00199"></a>00199     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a54460b759fb06e2b18e26657279a6f49">numLoads</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a54460b759fb06e2b18e26657279a6f49"></a><!-- doxytag: member="LSQ::numLoads" ref="a54460b759fb06e2b18e26657279a6f49" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int numLoads </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the total number of loads in the load queue. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00401"></a>00401 {
<a name="l00402"></a>00402     <span class="keywordtype">unsigned</span> <a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a> = 0;
<a name="l00403"></a>00403 
<a name="l00404"></a>00404     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00405"></a>00405     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00406"></a>00406 
<a name="l00407"></a>00407     <span class="keywordflow">while</span> (threads != end) {
<a name="l00408"></a>00408         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00409"></a>00409 
<a name="l00410"></a>00410         total += <a class="code" href="classLSQ.html#a54460b759fb06e2b18e26657279a6f49">numLoads</a>(tid);
<a name="l00411"></a>00411     }
<a name="l00412"></a>00412 
<a name="l00413"></a>00413     <span class="keywordflow">return</span> total;
<a name="l00414"></a>00414 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a12346c097127dd67f1f9e8d28e12858f"></a><!-- doxytag: member="LSQ::numStores" ref="a12346c097127dd67f1f9e8d28e12858f" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int numStores </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the total number of stores for a single thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00205"></a>00205     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#aa0fc32a4a9d77696f5907f4d25e7d07f">numStores</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa0fc32a4a9d77696f5907f4d25e7d07f"></a><!-- doxytag: member="LSQ::numStores" ref="aa0fc32a4a9d77696f5907f4d25e7d07f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int numStores </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the total number of stores in the store queue. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00419"></a>00419 {
<a name="l00420"></a>00420     <span class="keywordtype">unsigned</span> <a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a> = 0;
<a name="l00421"></a>00421 
<a name="l00422"></a>00422     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00423"></a>00423     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00424"></a>00424 
<a name="l00425"></a>00425     <span class="keywordflow">while</span> (threads != end) {
<a name="l00426"></a>00426         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00427"></a>00427 
<a name="l00428"></a>00428         total += <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#aa0fc32a4a9d77696f5907f4d25e7d07f">numStores</a>();
<a name="l00429"></a>00429     }
<a name="l00430"></a>00430 
<a name="l00431"></a>00431     <span class="keywordflow">return</span> total;
<a name="l00432"></a>00432 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4115edd209f7e5e51c3a17d40edd9e7a"></a><!-- doxytag: member="LSQ::numStoresToWB" ref="a4115edd209f7e5e51c3a17d40edd9e7a" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int numStoresToWB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the number of stores a specific thread has to write back. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00259"></a>00259     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a276cdbdaf4551f1b846c4e2535c5f882">numStoresToWB</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a206ad0283d431e78e6f38bb9b54b23ee"></a><!-- doxytag: member="LSQ::read" ref="a206ad0283d431e78e6f38bb9b54b23ee" args="(RequestPtr req, RequestPtr sreqLow, RequestPtr sreqHigh, uint8_t *data, int load_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>sreqLow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>sreqHigh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>load_idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes a read operation, using the load specified at the load index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00350"></a>00350 {
<a name="l00351"></a>00351     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = req-&gt;<a class="code" href="classRequest.html#afc38d04c77e7b5fc3bbb0dd00fc87742">threadId</a>();
<a name="l00352"></a>00352 
<a name="l00353"></a>00353     <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a6f61d3e96e7ebc628121a63027d9c106">read</a>(req, sreqLow, sreqHigh, data, load_idx);
<a name="l00354"></a>00354 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a29cb5a4f98063ce6e9210eacbdb35298"></a><!-- doxytag: member="LSQ::recvRetry" ref="a29cb5a4f98063ce6e9210eacbdb35298" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void recvRetry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retry the previous send that failed. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00339"></a>00339 {
<a name="l00340"></a>00340     <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a865aaad70625f17392c717930860d386">retryTid</a> == <a class="code" href="base_2types_8hh.html#a192b210a26f038691d0f095d85dc0953">InvalidThreadID</a>)
<a name="l00341"></a>00341     {
<a name="l00342"></a>00342         <span class="comment">//Squashed, so drop it</span>
<a name="l00343"></a>00343         <span class="keywordflow">return</span>;
<a name="l00344"></a>00344     }
<a name="l00345"></a>00345     <span class="keywordtype">int</span> curr_retry_tid = <a class="code" href="classLSQ.html#a865aaad70625f17392c717930860d386">retryTid</a>;
<a name="l00346"></a>00346     <span class="comment">// Speculatively clear the retry Tid.  This will get set again if</span>
<a name="l00347"></a>00347     <span class="comment">// the LSQUnit was unable to complete its access.</span>
<a name="l00348"></a>00348     <a class="code" href="classLSQ.html#a865aaad70625f17392c717930860d386">retryTid</a> = -1;
<a name="l00349"></a>00349     <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[curr_retry_tid].<a class="code" href="classLSQUnit.html#a29cb5a4f98063ce6e9210eacbdb35298">recvRetry</a>();
<a name="l00350"></a>00350 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a482dba5588f4bee43e498875a61e5e0b"></a><!-- doxytag: member="LSQ::recvTimingResp" ref="a482dba5588f4bee43e498875a61e5e0b" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool recvTimingResp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handles writing back and completing the load or store that has returned from memory.</p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td>Response packet from the memory sub-system </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00355"></a>00355 {
<a name="l00356"></a>00356     <span class="keywordflow">if</span> (pkt-&gt;<a class="code" href="classPacket.html#a32759931a1b2d6380407c6a18abd46e3">isError</a>())
<a name="l00357"></a>00357         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classLSQ.html">LSQ</a>, <span class="stringliteral">&quot;Got error packet back for address: %#X\n&quot;</span>,
<a name="l00358"></a>00358                 pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>());
<a name="l00359"></a>00359     <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#afc38d04c77e7b5fc3bbb0dd00fc87742">threadId</a>()].<a class="code" href="classLSQUnit.html#a0f7f0d3412bbf494cd3d0c0f48e5fcf2">completeDataAccess</a>(pkt);
<a name="l00360"></a>00360     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00361"></a>00361 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aff3031c56fc4947a19695c868bb8233e"></a><!-- doxytag: member="LSQ::recvTimingSnoopReq" ref="aff3031c56fc4947a19695c868bb8233e" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void recvTimingSnoopReq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00366"></a>00366 {
<a name="l00367"></a>00367     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classLSQ.html">LSQ</a>, <span class="stringliteral">&quot;received pkt for addr:%#x %s\n&quot;</span>, pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>(),
<a name="l00368"></a>00368             pkt-&gt;<a class="code" href="classPacket.html#a863af57e28a01258236ea303155fc7ff">cmdString</a>());
<a name="l00369"></a>00369 
<a name="l00370"></a>00370     <span class="comment">// must be a snoop</span>
<a name="l00371"></a>00371     <span class="keywordflow">if</span> (pkt-&gt;<a class="code" href="classPacket.html#a4a1a39b8ffab2d6266cd9d794ca332e3">isInvalidate</a>()) {
<a name="l00372"></a>00372         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classLSQ.html">LSQ</a>, <span class="stringliteral">&quot;received invalidation for addr:%#x\n&quot;</span>,
<a name="l00373"></a>00373                 pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>());
<a name="l00374"></a>00374         <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l00375"></a>00375             <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a35b89a864d3af33a4b045b7fe0aa6b5a">checkSnoop</a>(pkt);
<a name="l00376"></a>00376         }
<a name="l00377"></a>00377     }
<a name="l00378"></a>00378 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4dc637449366fcdfc4e764cdf12d9b11"></a><!-- doxytag: member="LSQ::regStats" ref="a4dc637449366fcdfc4e764cdf12d9b11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void regStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Registers statistics of each <a class="el" href="classLSQ.html">LSQ</a> unit. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00136"></a>00136 {
<a name="l00137"></a>00137     <span class="comment">//Initialize LSQs</span>
<a name="l00138"></a>00138     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l00139"></a>00139         <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a>();
<a name="l00140"></a>00140     }
<a name="l00141"></a>00141 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53a4e3e73adce8cf2b544117971131c5"></a><!-- doxytag: member="LSQ::removeEntries" ref="a53a4e3e73adce8cf2b544117971131c5" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void removeEntries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00236"></a>00236 {
<a name="l00237"></a>00237     <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#ae3af532345dbe6519e8272d9cd677230">clearLQ</a>();
<a name="l00238"></a>00238     <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a171cd7891063f418b1ee217f5c03537b">clearSQ</a>();
<a name="l00239"></a>00239 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aaf9a05771a835f9f8d634cef36e24d40"></a><!-- doxytag: member="LSQ::resetEntries" ref="aaf9a05771a835f9f8d634cef36e24d40" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetEntries </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset the max entries for each thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00208"></a>00208 {
<a name="l00209"></a>00209     <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a> != <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a96535b1625776102bcc13f7dfb598dcb">Dynamic</a> || <a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a> &gt; 1) {
<a name="l00210"></a>00210         <span class="keywordtype">int</span> active_threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;size();
<a name="l00211"></a>00211 
<a name="l00212"></a>00212         <span class="keywordtype">int</span> maxEntries;
<a name="l00213"></a>00213 
<a name="l00214"></a>00214         <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a> == <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599add8dfa69b567f90d3f13d819109ab74e">Partitioned</a>) {
<a name="l00215"></a>00215             maxEntries = <a class="code" href="classLSQ.html#aafa99d800d574095881acbacdbbbcc47">LQEntries</a> / active_threads;
<a name="l00216"></a>00216         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a> == <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a267544c4de8ecc66bd0fed6310af63be">Threshold</a> &amp;&amp; active_threads == 1) {
<a name="l00217"></a>00217             maxEntries = <a class="code" href="classLSQ.html#aafa99d800d574095881acbacdbbbcc47">LQEntries</a>;
<a name="l00218"></a>00218         } <span class="keywordflow">else</span> {
<a name="l00219"></a>00219             maxEntries = <a class="code" href="classLSQ.html#aafa99d800d574095881acbacdbbbcc47">LQEntries</a>;
<a name="l00220"></a>00220         }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222         <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads  = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00223"></a>00223         <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00224"></a>00224 
<a name="l00225"></a>00225         <span class="keywordflow">while</span> (threads != end) {
<a name="l00226"></a>00226             <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228             <a class="code" href="classLSQ.html#a3672feee3a3eaad63f2e96d46385a099">resizeEntries</a>(maxEntries, tid);
<a name="l00229"></a>00229         }
<a name="l00230"></a>00230     }
<a name="l00231"></a>00231 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3672feee3a3eaad63f2e96d46385a099"></a><!-- doxytag: member="LSQ::resizeEntries" ref="a3672feee3a3eaad63f2e96d46385a099" args="(unsigned size, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resizeEntries </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Resize the max entries for a thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00244"></a>00244 {
<a name="l00245"></a>00245     <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a3bc9500810cb2d5615e29206e2d6499f">resizeLQ</a>(size);
<a name="l00246"></a>00246     <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a341dd6a3bd8d240659fd9d698c3b5c65">resizeSQ</a>(size);
<a name="l00247"></a>00247 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aab96bdacf8bd420402cbb543f994e054"></a><!-- doxytag: member="LSQ::setActiveThreads" ref="aab96bdacf8bd420402cbb543f994e054" args="(std::list&lt; ThreadID &gt; *at_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setActiveThreads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>at_ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the pointer to the list of active threads. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00146"></a>00146 {
<a name="l00147"></a>00147     <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a> = at_ptr;
<a name="l00148"></a>00148     assert(<a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a> != 0);
<a name="l00149"></a>00149 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a30c462e914644ddba59b0d769941b5dd"></a><!-- doxytag: member="LSQ::setLoadBlockedHandled" ref="a30c462e914644ddba59b0d769941b5dd" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setLoadBlockedHandled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00163"></a>00163     { <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#ac8bfb1e163f7ba2261d702623226973d">setLoadBlockedHandled</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aca00d390ba2ada0daf6e0c0a7cf75f57"></a><!-- doxytag: member="LSQ::setRetryTid" ref="aca00d390ba2ada0daf6e0c0a7cf75f57" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setRetryTid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the retry thread id, indicating that one of the LSQUnits tried to access the cache but the cache was blocked. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00276"></a>00276     { <a class="code" href="classLSQ.html#a865aaad70625f17392c717930860d386">retryTid</a> = tid; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5761e9640bec8ba8474945cce57b6501"></a><!-- doxytag: member="LSQ::sqEmpty" ref="a5761e9640bec8ba8474945cce57b6501" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sqEmpty </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if all of the SQs are empty. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00518"></a>00518 {
<a name="l00519"></a>00519     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::const_iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00520"></a>00520     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::const_iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00521"></a>00521 
<a name="l00522"></a>00522     <span class="keywordflow">while</span> (threads != end) {
<a name="l00523"></a>00523         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00524"></a>00524 
<a name="l00525"></a>00525         <span class="keywordflow">if</span> (!<a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQ.html#a5761e9640bec8ba8474945cce57b6501">sqEmpty</a>())
<a name="l00526"></a>00526             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00527"></a>00527     }
<a name="l00528"></a>00528 
<a name="l00529"></a>00529     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00530"></a>00530 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6a3501ebb06c38938a3b0ebcea2b6a8b"></a><!-- doxytag: member="LSQ::sqFull" ref="a6a3501ebb06c38938a3b0ebcea2b6a8b" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sqFull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if the SQ of a given thread is full. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00581"></a>00581 {
<a name="l00582"></a>00582      <span class="comment">//@todo: Change to Calculate All Entries for</span>
<a name="l00583"></a>00583     <span class="comment">//Dynamic Policy</span>
<a name="l00584"></a>00584     <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a> == <a class="code" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599a96535b1625776102bcc13f7dfb598dcb">Dynamic</a>)
<a name="l00585"></a>00585         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a477981d1f905d2d398a1527f7149e3c4">sqFull</a>();
<a name="l00586"></a>00586     <span class="keywordflow">else</span>
<a name="l00587"></a>00587         <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a477981d1f905d2d398a1527f7149e3c4">sqFull</a>();
<a name="l00588"></a>00588 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a477981d1f905d2d398a1527f7149e3c4"></a><!-- doxytag: member="LSQ::sqFull" ref="a477981d1f905d2d398a1527f7149e3c4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sqFull </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if any of the SQs are full. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00564"></a>00564 {
<a name="l00565"></a>00565     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00566"></a>00566     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00567"></a>00567 
<a name="l00568"></a>00568     <span class="keywordflow">while</span> (threads != end) {
<a name="l00569"></a>00569         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00570"></a>00570 
<a name="l00571"></a>00571         <span class="keywordflow">if</span> (!<a class="code" href="classLSQ.html#a477981d1f905d2d398a1527f7149e3c4">sqFull</a>(tid))
<a name="l00572"></a>00572             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00573"></a>00573     }
<a name="l00574"></a>00574 
<a name="l00575"></a>00575     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00576"></a>00576 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a74283dfde2ab06c84e10bd85000c168b"></a><!-- doxytag: member="LSQ::squash" ref="a74283dfde2ab06c84e10bd85000c168b" args="(const InstSeqNum &amp;squashed_num, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>squashed_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Squash instructions from a thread until the specified sequence number. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00142"></a>00142     { <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a51dd7e304d5413447717826fac6f4921">squash</a>(squashed_num); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8674059ce345e23aac5086b2c3e24a43"></a><!-- doxytag: member="LSQ::takeOverFrom" ref="a8674059ce345e23aac5086b2c3e24a43" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void takeOverFrom </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Takes over execution from another CPU's thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00188"></a>00188 {
<a name="l00189"></a>00189     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a>; tid++) {
<a name="l00190"></a>00190         <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a8674059ce345e23aac5086b2c3e24a43">takeOverFrom</a>();
<a name="l00191"></a>00191     }
<a name="l00192"></a>00192 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6968bcfead3fa275f8a1e740c1e337e8"></a><!-- doxytag: member="LSQ::tick" ref="a6968bcfead3fa275f8a1e740c1e337e8" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Ticks a specific <a class="el" href="classLSQ.html">LSQ</a> Unit. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00105"></a>00105     { <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a873dd91783f9efb4a590aded1f70d6b0">tick</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a873dd91783f9efb4a590aded1f70d6b0"></a><!-- doxytag: member="LSQ::tick" ref="a873dd91783f9efb4a590aded1f70d6b0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tick </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Ticks the <a class="el" href="classLSQ.html">LSQ</a>. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00252"></a>00252 {
<a name="l00253"></a>00253     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00254"></a>00254     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00255"></a>00255 
<a name="l00256"></a>00256     <span class="keywordflow">while</span> (threads != end) {
<a name="l00257"></a>00257         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00258"></a>00258 
<a name="l00259"></a>00259         <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a873dd91783f9efb4a590aded1f70d6b0">tick</a>();
<a name="l00260"></a>00260     }
<a name="l00261"></a>00261 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a24dee29bada56cd1c98a7c3d80e77b6e"></a><!-- doxytag: member="LSQ::violation" ref="a24dee29bada56cd1c98a7c3d80e77b6e" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool violation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns whether or not there was a memory ordering violation for a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00151"></a>00151     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a4f720bbfb5fdefdb23516500eeb0b4de">violation</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4f720bbfb5fdefdb23516500eeb0b4de"></a><!-- doxytag: member="LSQ::violation" ref="a4f720bbfb5fdefdb23516500eeb0b4de" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool violation </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns whether or not there was a memory ordering violation. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00321"></a>00321 {
<a name="l00322"></a>00322     <span class="comment">/* Answers: Does Anybody Have a Violation?*/</span>
<a name="l00323"></a>00323     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00324"></a>00324     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00325"></a>00325 
<a name="l00326"></a>00326     <span class="keywordflow">while</span> (threads != end) {
<a name="l00327"></a>00327         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00328"></a>00328 
<a name="l00329"></a>00329         <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQ.html#a4f720bbfb5fdefdb23516500eeb0b4de">violation</a>())
<a name="l00330"></a>00330             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00331"></a>00331     }
<a name="l00332"></a>00332 
<a name="l00333"></a>00333     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00334"></a>00334 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a71ae97788e6b1230662807e1b03f47b3"></a><!-- doxytag: member="LSQ::willWB" ref="a71ae97788e6b1230662807e1b03f47b3" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool willWB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if the <a class="el" href="classLSQ.html">LSQ</a> of a specific thread will write back to memory this cycle. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00267"></a>00267     { <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a338be821734603396bfef8d9fb8f04b0">willWB</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a338be821734603396bfef8d9fb8f04b0"></a><!-- doxytag: member="LSQ::willWB" ref="a338be821734603396bfef8d9fb8f04b0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool willWB </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns if the <a class="el" href="classLSQ.html">LSQ</a> will write back to memory this cycle. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00637"></a>00637 {
<a name="l00638"></a>00638     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00639"></a>00639     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00640"></a>00640 
<a name="l00641"></a>00641     <span class="keywordflow">while</span> (threads != end) {
<a name="l00642"></a>00642         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00643"></a>00643 
<a name="l00644"></a>00644         <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a338be821734603396bfef8d9fb8f04b0">willWB</a>(tid))
<a name="l00645"></a>00645             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00646"></a>00646     }
<a name="l00647"></a>00647 
<a name="l00648"></a>00648     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00649"></a>00649 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1be8f3ccb9b2787a2c92bfab3fda9675"></a><!-- doxytag: member="LSQ::write" ref="a1be8f3ccb9b2787a2c92bfab3fda9675" args="(RequestPtr req, RequestPtr sreqLow, RequestPtr sreqHigh, uint8_t *data, int store_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>sreqLow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>sreqHigh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>store_idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes a store operation, using the store specified at the store index. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00360"></a>00360 {
<a name="l00361"></a>00361     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = req-&gt;<a class="code" href="classRequest.html#afc38d04c77e7b5fc3bbb0dd00fc87742">threadId</a>();
<a name="l00362"></a>00362 
<a name="l00363"></a>00363     <span class="keywordflow">return</span> <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a8910d991217dd388c788727f8ebbb267">write</a>(req, sreqLow, sreqHigh, data, store_idx);
<a name="l00364"></a>00364 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aebf9f82a83e61cd390df68a2fb7a8641"></a><!-- doxytag: member="LSQ::writebackStores" ref="aebf9f82a83e61cd390df68a2fb7a8641" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writebackStores </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Same as above, but only for one thread. </p>

</div>
</div>
<a class="anchor" id="a5f04e29d6f6feb8b86460491f2ba7547"></a><!-- doxytag: member="LSQ::writebackStores" ref="a5f04e29d6f6feb8b86460491f2ba7547" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writebackStores </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Attempts to write back stores until all cache ports are used or the interface becomes blocked. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00302"></a>00302 {
<a name="l00303"></a>00303     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> threads = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;begin();
<a name="l00304"></a>00304     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> end = <a class="code" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a>-&gt;end();
<a name="l00305"></a>00305 
<a name="l00306"></a>00306     <span class="keywordflow">while</span> (threads != end) {
<a name="l00307"></a>00307         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = *threads++;
<a name="l00308"></a>00308 
<a name="l00309"></a>00309         <span class="keywordflow">if</span> (<a class="code" href="classLSQ.html#a4115edd209f7e5e51c3a17d40edd9e7a">numStoresToWB</a>(tid) &gt; 0) {
<a name="l00310"></a>00310             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Writeback,<span class="stringliteral">&quot;[tid:%i] Writing back stores. %i stores &quot;</span>
<a name="l00311"></a>00311                 <span class="stringliteral">&quot;available for Writeback.\n&quot;</span>, tid, <a class="code" href="classLSQ.html#a4115edd209f7e5e51c3a17d40edd9e7a">numStoresToWB</a>(tid));
<a name="l00312"></a>00312         }
<a name="l00313"></a>00313 
<a name="l00314"></a>00314         <a class="code" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a>[tid].<a class="code" href="classLSQUnit.html#a5f04e29d6f6feb8b86460491f2ba7547">writebackStores</a>();
<a name="l00315"></a>00315     }
<a name="l00316"></a>00316 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="af6eaea53db532812052f71bf0380dab5"></a><!-- doxytag: member="LSQ::activeThreads" ref="af6eaea53db532812052f71bf0380dab5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&gt;* <a class="el" href="classLSQ.html#af6eaea53db532812052f71bf0380dab5">activeThreads</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List of Active Threads in <a class="el" href="classSystem.html">System</a>. </p>

</div>
</div>
<a class="anchor" id="a1379cf882a12ac6fc9eba5da7c84b18b"></a><!-- doxytag: member="LSQ::cpu" ref="a1379cf882a12ac6fc9eba5da7c84b18b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLSQ.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>* <a class="el" href="classLSQ.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The CPU pointer. </p>

</div>
</div>
<a class="anchor" id="a4e9ef25d8913b270d432be4bbfe4965c"></a><!-- doxytag: member="LSQ::iewStage" ref="a4e9ef25d8913b270d432be4bbfe4965c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLSQ.html#a23f60a4095b5240dfcb18a4ec40210a9">IEW</a>* <a class="el" href="classLSQ.html#a4e9ef25d8913b270d432be4bbfe4965c">iewStage</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The IEW stage pointer. </p>

</div>
</div>
<a class="anchor" id="aafa99d800d574095881acbacdbbbcc47"></a><!-- doxytag: member="LSQ::LQEntries" ref="aafa99d800d574095881acbacdbbbcc47" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classLSQ.html#aafa99d800d574095881acbacdbbbcc47">LQEntries</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Total Size of LQ Entries. </p>

</div>
</div>
<a class="anchor" id="a28ca1f0961b84f3386b592d1e3e1b411"></a><!-- doxytag: member="LSQ::lsqPolicy" ref="a28ca1f0961b84f3386b592d1e3e1b411" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLSQ.html#a2ecb54b28634ef872a820651cce92599">LSQPolicy</a> <a class="el" href="classLSQ.html#a28ca1f0961b84f3386b592d1e3e1b411">lsqPolicy</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The <a class="el" href="classLSQ.html">LSQ</a> policy for SMT mode. </p>

</div>
</div>
<a class="anchor" id="ad2f4fd027fe71a87d5ee2d798ec19ac3"></a><!-- doxytag: member="LSQ::maxLQEntries" ref="ad2f4fd027fe71a87d5ee2d798ec19ac3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classLSQ.html#ad2f4fd027fe71a87d5ee2d798ec19ac3">maxLQEntries</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Max LQ Size - Used to Enforce Sharing Policies. </p>

</div>
</div>
<a class="anchor" id="a0e9eef7cd7598f554f1f89c35cb08128"></a><!-- doxytag: member="LSQ::maxSQEntries" ref="a0e9eef7cd7598f554f1f89c35cb08128" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classLSQ.html#a0e9eef7cd7598f554f1f89c35cb08128">maxSQEntries</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Max SQ Size - Used to Enforce Sharing Policies. </p>

</div>
</div>
<a class="anchor" id="a88377f855dbf5adeeecb06b5bb821d35"></a><!-- doxytag: member="LSQ::numThreads" ref="a88377f855dbf5adeeecb06b5bb821d35" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> <a class="el" href="classLSQ.html#a88377f855dbf5adeeecb06b5bb821d35">numThreads</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of Threads. </p>

</div>
</div>
<a class="anchor" id="a865aaad70625f17392c717930860d386"></a><!-- doxytag: member="LSQ::retryTid" ref="a865aaad70625f17392c717930860d386" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> <a class="el" href="classLSQ.html#a865aaad70625f17392c717930860d386">retryTid</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The thread id of the <a class="el" href="classLSQ.html">LSQ</a> Unit that is currently waiting for a retry. </p>

</div>
</div>
<a class="anchor" id="a38c8af5392da70119dc5cce4e3637cbc"></a><!-- doxytag: member="LSQ::SQEntries" ref="a38c8af5392da70119dc5cce4e3637cbc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classLSQ.html#a38c8af5392da70119dc5cce4e3637cbc">SQEntries</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Total Size of SQ Entries. </p>

</div>
</div>
<a class="anchor" id="a5709dc03226b4fc5a49a4c6a41ff50ad"></a><!-- doxytag: member="LSQ::thread" ref="a5709dc03226b4fc5a49a4c6a41ff50ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLSQUnit.html">LSQUnit</a>* <a class="el" href="classLSQ.html#a5709dc03226b4fc5a49a4c6a41ff50ad">thread</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The <a class="el" href="classLSQ.html">LSQ</a> units for individual threads. </p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>cpu/o3/<a class="el" href="lsq_8hh_source.html">lsq.hh</a></li>
<li>cpu/o3/<a class="el" href="lsq__impl_8hh_source.html">lsq_impl.hh</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
