\hypertarget{classDrainManager}{
\section{クラス DrainManager}
\label{classDrainManager}\index{DrainManager@{DrainManager}}
}


{\ttfamily \#include $<$drain.hh$>$}\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDrainManager_a506f93f39ee1dafe8f3c8c2a52750690}{DrainManager} ()
\item 
virtual \hyperlink{classDrainManager_a62f756d150df3c855b036af9c2e16d51}{$\sim$DrainManager} ()
\item 
unsigned int \hyperlink{classDrainManager_ab5eefd157f1a652223437e06c6148169}{getCount} () const 
\item 
void \hyperlink{classDrainManager_a768ed4108d4a470957ab9bffef1f9181}{setCount} (int count)
\item 
void \hyperlink{classDrainManager_ab89d10e368d2e82061eddb9e40022382}{signalDrainDone} ()
\end{DoxyCompactItemize}
\subsection*{Protected メソッド}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classDrainManager_ac5e51d21241b750913609915d78e7dcc}{drainCycleDone} ()
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
unsigned int \hyperlink{classDrainManager_a9f6ec1ea6f54a85f7a9130fb4f468a23}{\_\-count}
\end{DoxyCompactItemize}


\subsection{説明}
This class coordinates draining of a \hyperlink{classSystem}{System}.

When draining a \hyperlink{classSystem}{System}, we need to make sure that all SimObjects in that system have drained their state before declaring the operation to be successful. This class keeps track of how many objects are still in the process of draining their state. Once it determines that all objects have drained their state, it exits the simulation loop.

\begin{DoxyNote}{覚え書き}
A \hyperlink{classSystem}{System} might not be completely drained even though the \hyperlink{classDrainManager}{DrainManager} has caused the simulation loop to exit. Draining needs to be restarted until all \hyperlink{classDrainable}{Drainable} objects declare that they don't need further simulation to be completely drained. See \hyperlink{classDrainable}{Drainable} for more information. 
\end{DoxyNote}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classDrainManager_a506f93f39ee1dafe8f3c8c2a52750690}{
\index{DrainManager@{DrainManager}!DrainManager@{DrainManager}}
\index{DrainManager@{DrainManager}!DrainManager@{DrainManager}}
\subsubsection[{DrainManager}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DrainManager} ()}}
\label{classDrainManager_a506f93f39ee1dafe8f3c8c2a52750690}



\begin{DoxyCode}
44     : _count(0)
45 {
46 }
\end{DoxyCode}
\hypertarget{classDrainManager_a62f756d150df3c855b036af9c2e16d51}{
\index{DrainManager@{DrainManager}!$\sim$DrainManager@{$\sim$DrainManager}}
\index{$\sim$DrainManager@{$\sim$DrainManager}!DrainManager@{DrainManager}}
\subsubsection[{$\sim$DrainManager}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf DrainManager} ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classDrainManager_a62f756d150df3c855b036af9c2e16d51}



\begin{DoxyCode}
49 {
50 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classDrainManager_ac5e51d21241b750913609915d78e7dcc}{
\index{DrainManager@{DrainManager}!drainCycleDone@{drainCycleDone}}
\index{drainCycleDone@{drainCycleDone}!DrainManager@{DrainManager}}
\subsubsection[{drainCycleDone}]{\setlength{\rightskip}{0pt plus 5cm}void drainCycleDone ()\hspace{0.3cm}{\ttfamily  \mbox{[}protected, virtual\mbox{]}}}}
\label{classDrainManager_ac5e51d21241b750913609915d78e7dcc}
\hyperlink{classCallback}{Callback} when all registered \hyperlink{classDrainable}{Drainable} objects have completed a drain cycle. 


\begin{DoxyCode}
54 {
55     exitSimLoop("Finished drain", 0);
56 }
\end{DoxyCode}
\hypertarget{classDrainManager_ab5eefd157f1a652223437e06c6148169}{
\index{DrainManager@{DrainManager}!getCount@{getCount}}
\index{getCount@{getCount}!DrainManager@{DrainManager}}
\subsubsection[{getCount}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int getCount () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classDrainManager_ab5eefd157f1a652223437e06c6148169}
Get the number of objects registered with this \hyperlink{classDrainManager}{DrainManager} that are currently draining their state.

\begin{DoxyReturn}{戻り値}
Number of objects currently draining. 
\end{DoxyReturn}



\begin{DoxyCode}
78 { return _count; }
\end{DoxyCode}
\hypertarget{classDrainManager_a768ed4108d4a470957ab9bffef1f9181}{
\index{DrainManager@{DrainManager}!setCount@{setCount}}
\index{setCount@{setCount}!DrainManager@{DrainManager}}
\subsubsection[{setCount}]{\setlength{\rightskip}{0pt plus 5cm}void setCount (int {\em count})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classDrainManager_a768ed4108d4a470957ab9bffef1f9181}



\begin{DoxyCode}
80 { _count = count; }
\end{DoxyCode}
\hypertarget{classDrainManager_ab89d10e368d2e82061eddb9e40022382}{
\index{DrainManager@{DrainManager}!signalDrainDone@{signalDrainDone}}
\index{signalDrainDone@{signalDrainDone}!DrainManager@{DrainManager}}
\subsubsection[{signalDrainDone}]{\setlength{\rightskip}{0pt plus 5cm}void signalDrainDone ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classDrainManager_ab89d10e368d2e82061eddb9e40022382}
Notify the \hyperlink{classDrainManager}{DrainManager} that a \hyperlink{classDrainable}{Drainable} object has finished draining. 


\begin{DoxyCode}
86                            {
87         assert(_count > 0);
88         if (--_count == 0)
89             drainCycleDone();
90     }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classDrainManager_a9f6ec1ea6f54a85f7a9130fb4f468a23}{
\index{DrainManager@{DrainManager}!\_\-count@{\_\-count}}
\index{\_\-count@{\_\-count}!DrainManager@{DrainManager}}
\subsubsection[{\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int {\bf \_\-count}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classDrainManager_a9f6ec1ea6f54a85f7a9130fb4f468a23}
Number of objects still draining. 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
sim/\hyperlink{drain_8hh}{drain.hh}\item 
sim/\hyperlink{drain_8cc}{drain.cc}\end{DoxyCompactItemize}
