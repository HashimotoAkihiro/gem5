<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス VldSingleOp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceArmISA.html">ArmISA</a>::<a class="el" href="classArmISA_1_1VldSingleOp.html">VldSingleOp</a>
  </div>
</div>
<div class="contents">
<h1>クラス VldSingleOp</h1><!-- doxytag: class="ArmISA::VldSingleOp" --><!-- doxytag: inherits="ArmISA::PredMacroOp" -->
<p><code>#include &lt;<a class="el" href="macromem_8hh_source.html">macromem.hh</a>&gt;</code></p>
<div class="dynheader">
VldSingleOpに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classArmISA_1_1VldSingleOp.gif" usemap="#VldSingleOp_map" alt=""/>
  <map id="VldSingleOp_map" name="VldSingleOp_map">
<area href="classArmISA_1_1PredMacroOp.html" alt="PredMacroOp" shape="rect" coords="0,224,93,248"/>
<area href="classArmISA_1_1PredOp.html" alt="PredOp" shape="rect" coords="0,168,93,192"/>
<area href="classArmISA_1_1ArmStaticInst.html" alt="ArmStaticInst" shape="rect" coords="0,112,93,136"/>
<area href="classStaticInst.html" alt="StaticInst" shape="rect" coords="0,56,93,80"/>
<area href="classRefCounted.html" alt="RefCounted" shape="rect" coords="0,0,93,24"/>
</map>
 </div>
</div>

<p><a href="classArmISA_1_1VldSingleOp-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArmISA_1_1VldSingleOp.html#a2047790d9f83b99ba811392cb8b947b4">VldSingleOp</a> (const char *mnem, <a class="el" href="classStaticInst.html#a5605d4fc727eae9e595325c90c0ec108">ExtMachInst</a> <a class="el" href="classStaticInst.html#a744598b194ca3d4201d9414ce4cc4af4">machInst</a>, OpClass __opClass, bool all, unsigned elems, <a class="el" href="classStaticInst.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> <a class="el" href="namespaceArmISA.html#adf8c6c579ad8729095a637a4f2181211">rn</a>, <a class="el" href="classStaticInst.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> vd, unsigned regs, unsigned inc, <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> size, <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> align, <a class="el" href="classStaticInst.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a> <a class="el" href="namespaceArmISA.html#ad546c2cf2168cf2d8ac21b2a9f485e82">rm</a>, unsigned lane)</td></tr>
</table>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a2047790d9f83b99ba811392cb8b947b4"></a><!-- doxytag: member="ArmISA::VldSingleOp::VldSingleOp" ref="a2047790d9f83b99ba811392cb8b947b4" args="(const char *mnem, ExtMachInst machInst, OpClass __opClass, bool all, unsigned elems, RegIndex rn, RegIndex vd, unsigned regs, unsigned inc, uint32_t size, uint32_t align, RegIndex rm, unsigned lane)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArmISA_1_1VldSingleOp.html">VldSingleOp</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>mnem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classStaticInst.html#a5605d4fc727eae9e595325c90c0ec108">ExtMachInst</a>&nbsp;</td>
          <td class="paramname"> <em>machInst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OpClass&nbsp;</td>
          <td class="paramname"> <em>__opClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>all</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>elems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classStaticInst.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>rn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classStaticInst.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>vd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>regs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>inc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>align</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classStaticInst.html#a36d25e03e43fa3bb4c5482cbefe5e0fb">RegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>rm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>lane</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00496"></a>00496                                                      :
<a name="l00497"></a>00497     <a class="code" href="classArmISA_1_1PredMacroOp.html#a4d1de434734e67db31db5b479940c0cc" title="Constructor.">PredMacroOp</a>(mnem, <a class="code" href="classStaticInst.html#a744598b194ca3d4201d9414ce4cc4af4" title="The binary machine instruction.">machInst</a>, __opClass)
<a name="l00498"></a>00498 {
<a name="l00499"></a>00499     assert(regs &gt; 0 &amp;&amp; regs &lt;= 4);
<a name="l00500"></a>00500     assert(regs % elems == 0);
<a name="l00501"></a>00501 
<a name="l00502"></a>00502     <span class="keywordtype">unsigned</span> eBytes = (1 &lt;&lt; size);
<a name="l00503"></a>00503     <span class="keywordtype">unsigned</span> loadSize = eBytes * elems;
<a name="l00504"></a>00504     <span class="keywordtype">unsigned</span> loadRegs M5_VAR_USED = (loadSize + <span class="keyword">sizeof</span>(<a class="code" href="namespaceArmISA.html#acc2693113a7cf1a4ff1c9d63b7de6451">FloatRegBits</a>) - 1) /
<a name="l00505"></a>00505                         <span class="keyword">sizeof</span>(<a class="code" href="namespaceArmISA.html#acc2693113a7cf1a4ff1c9d63b7de6451">FloatRegBits</a>);
<a name="l00506"></a>00506 
<a name="l00507"></a>00507     assert(loadRegs &gt; 0 &amp;&amp; loadRegs &lt;= 4);
<a name="l00508"></a>00508 
<a name="l00509"></a>00509     <a class="code" href="classArmISA_1_1PredMacroOp.html#a19b588f64e88c4ef1ef5fd836415e6f5">numMicroops</a> = 1;
<a name="l00510"></a>00510     <span class="keywordtype">bool</span> wb = (<a class="code" href="namespaceArmISA.html#ad546c2cf2168cf2d8ac21b2a9f485e82">rm</a> != 15);
<a name="l00511"></a>00511 
<a name="l00512"></a>00512     <span class="keywordflow">if</span> (wb) <a class="code" href="classArmISA_1_1PredMacroOp.html#a19b588f64e88c4ef1ef5fd836415e6f5">numMicroops</a>++;
<a name="l00513"></a>00513     <a class="code" href="classArmISA_1_1PredMacroOp.html#a19b588f64e88c4ef1ef5fd836415e6f5">numMicroops</a> += (regs / elems);
<a name="l00514"></a>00514     <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a> = <span class="keyword">new</span> <a class="code" href="classRefCountingPtr.html">StaticInstPtr</a>[<a class="code" href="classArmISA_1_1PredMacroOp.html#a19b588f64e88c4ef1ef5fd836415e6f5">numMicroops</a>];
<a name="l00515"></a>00515 
<a name="l00516"></a>00516     <a class="code" href="classStaticInst.html#a36d25e03e43fa3bb4c5482cbefe5e0fb" title="Logical register index type.">RegIndex</a> ufp0 = <a class="code" href="namespaceArmISA.html#ac5bd0125daa93dac8dfda6a9fcd0fdf7">NumFloatV7ArchRegs</a>;
<a name="l00517"></a>00517 
<a name="l00518"></a>00518     <span class="keywordtype">unsigned</span> uopIdx = 0;
<a name="l00519"></a>00519     <span class="keywordflow">switch</span> (loadSize) {
<a name="l00520"></a>00520       <span class="keywordflow">case</span> 1:
<a name="l00521"></a>00521         <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon1Uop&lt;uint8_t&gt;(
<a name="l00522"></a>00522                 <a class="code" href="classStaticInst.html#a744598b194ca3d4201d9414ce4cc4af4" title="The binary machine instruction.">machInst</a>, ufp0, <a class="code" href="namespaceArmISA.html#adf8c6c579ad8729095a637a4f2181211">rn</a>, 0, align);
<a name="l00523"></a>00523         <span class="keywordflow">break</span>;
<a name="l00524"></a>00524       <span class="keywordflow">case</span> 2:
<a name="l00525"></a>00525         <span class="keywordflow">if</span> (eBytes == 2) {
<a name="l00526"></a>00526             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon2Uop&lt;uint16_t&gt;(
<a name="l00527"></a>00527                     machInst, ufp0, rn, 0, align);
<a name="l00528"></a>00528         } <span class="keywordflow">else</span> {
<a name="l00529"></a>00529             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon2Uop&lt;uint8_t&gt;(
<a name="l00530"></a>00530                     machInst, ufp0, rn, 0, align);
<a name="l00531"></a>00531         }
<a name="l00532"></a>00532         <span class="keywordflow">break</span>;
<a name="l00533"></a>00533       <span class="keywordflow">case</span> 3:
<a name="l00534"></a>00534         <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon3Uop&lt;uint8_t&gt;(
<a name="l00535"></a>00535                 machInst, ufp0, rn, 0, align);
<a name="l00536"></a>00536         <span class="keywordflow">break</span>;
<a name="l00537"></a>00537       <span class="keywordflow">case</span> 4:
<a name="l00538"></a>00538         <span class="keywordflow">switch</span> (eBytes) {
<a name="l00539"></a>00539           <span class="keywordflow">case</span> 1:
<a name="l00540"></a>00540             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon4Uop&lt;uint8_t&gt;(
<a name="l00541"></a>00541                     machInst, ufp0, rn, 0, align);
<a name="l00542"></a>00542             <span class="keywordflow">break</span>;
<a name="l00543"></a>00543           <span class="keywordflow">case</span> 2:
<a name="l00544"></a>00544             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon4Uop&lt;uint16_t&gt;(
<a name="l00545"></a>00545                     machInst, ufp0, rn, 0, align);
<a name="l00546"></a>00546             <span class="keywordflow">break</span>;
<a name="l00547"></a>00547           <span class="keywordflow">case</span> 4:
<a name="l00548"></a>00548             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon4Uop&lt;uint32_t&gt;(
<a name="l00549"></a>00549                     machInst, ufp0, rn, 0, align);
<a name="l00550"></a>00550             <span class="keywordflow">break</span>;
<a name="l00551"></a>00551         }
<a name="l00552"></a>00552         <span class="keywordflow">break</span>;
<a name="l00553"></a>00553       <span class="keywordflow">case</span> 6:
<a name="l00554"></a>00554         <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon6Uop&lt;uint16_t&gt;(
<a name="l00555"></a>00555                 machInst, ufp0, rn, 0, align);
<a name="l00556"></a>00556         <span class="keywordflow">break</span>;
<a name="l00557"></a>00557       <span class="keywordflow">case</span> 8:
<a name="l00558"></a>00558         <span class="keywordflow">switch</span> (eBytes) {
<a name="l00559"></a>00559           <span class="keywordflow">case</span> 2:
<a name="l00560"></a>00560             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon8Uop&lt;uint16_t&gt;(
<a name="l00561"></a>00561                     machInst, ufp0, rn, 0, align);
<a name="l00562"></a>00562             <span class="keywordflow">break</span>;
<a name="l00563"></a>00563           <span class="keywordflow">case</span> 4:
<a name="l00564"></a>00564             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon8Uop&lt;uint32_t&gt;(
<a name="l00565"></a>00565                     machInst, ufp0, rn, 0, align);
<a name="l00566"></a>00566             <span class="keywordflow">break</span>;
<a name="l00567"></a>00567         }
<a name="l00568"></a>00568         <span class="keywordflow">break</span>;
<a name="l00569"></a>00569       <span class="keywordflow">case</span> 12:
<a name="l00570"></a>00570         <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon12Uop&lt;uint32_t&gt;(
<a name="l00571"></a>00571                 machInst, ufp0, rn, 0, align);
<a name="l00572"></a>00572         <span class="keywordflow">break</span>;
<a name="l00573"></a>00573       <span class="keywordflow">case</span> 16:
<a name="l00574"></a>00574         <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroLdrNeon16Uop&lt;uint32_t&gt;(
<a name="l00575"></a>00575                 machInst, ufp0, rn, 0, align);
<a name="l00576"></a>00576         <span class="keywordflow">break</span>;
<a name="l00577"></a>00577       <span class="keywordflow">default</span>:
<a name="l00578"></a>00578         <span class="comment">// Unrecognized load size</span>
<a name="l00579"></a>00579         <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> <a class="code" href="namespaceContextSwitchTaskId.html#aa8dd388981e62e592eb420a58ab290b7a4e81c184ac3ad48a389cd4454c4a05bb">Unknown</a>(machInst);
<a name="l00580"></a>00580     }
<a name="l00581"></a>00581     <span class="keywordflow">if</span> (wb) {
<a name="l00582"></a>00582         <span class="keywordflow">if</span> (<a class="code" href="namespaceArmISA.html#ad546c2cf2168cf2d8ac21b2a9f485e82">rm</a> != 15 &amp;&amp; <a class="code" href="namespaceArmISA.html#ad546c2cf2168cf2d8ac21b2a9f485e82">rm</a> != 13) {
<a name="l00583"></a>00583             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] =
<a name="l00584"></a>00584                 <span class="keyword">new</span> MicroAddUop(machInst, rn, rn, <a class="code" href="namespaceArmISA.html#ad546c2cf2168cf2d8ac21b2a9f485e82">rm</a>, 0, <a class="code" href="namespaceArmISA.html#a209d79feaaef0aa2f54ae62e53ee90dea0226b11632995cf028f321326046753e">ArmISA::LSL</a>);
<a name="l00585"></a>00585         } <span class="keywordflow">else</span> {
<a name="l00586"></a>00586             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] =
<a name="l00587"></a>00587                 <span class="keyword">new</span> MicroAddiUop(machInst, rn, rn, loadSize);
<a name="l00588"></a>00588         }
<a name="l00589"></a>00589     }
<a name="l00590"></a>00590     <span class="keywordflow">switch</span> (elems) {
<a name="l00591"></a>00591       <span class="keywordflow">case</span> 4:
<a name="l00592"></a>00592         assert(regs == 4);
<a name="l00593"></a>00593         <span class="keywordflow">switch</span> (size) {
<a name="l00594"></a>00594           <span class="keywordflow">case</span> 0:
<a name="l00595"></a>00595             <span class="keywordflow">if</span> (all) {
<a name="l00596"></a>00596                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackAllNeon2to8Uop&lt;uint8_t&gt;(
<a name="l00597"></a>00597                         machInst, vd * 2, ufp0, inc * 2);
<a name="l00598"></a>00598             } <span class="keywordflow">else</span> {
<a name="l00599"></a>00599                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackNeon2to8Uop&lt;uint8_t&gt;(
<a name="l00600"></a>00600                         machInst, vd * 2, ufp0, inc * 2, lane);
<a name="l00601"></a>00601             }
<a name="l00602"></a>00602             <span class="keywordflow">break</span>;
<a name="l00603"></a>00603           <span class="keywordflow">case</span> 1:
<a name="l00604"></a>00604             <span class="keywordflow">if</span> (all) {
<a name="l00605"></a>00605                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackAllNeon2to8Uop&lt;uint16_t&gt;(
<a name="l00606"></a>00606                         machInst, vd * 2, ufp0, inc * 2);
<a name="l00607"></a>00607             } <span class="keywordflow">else</span> {
<a name="l00608"></a>00608                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackNeon2to8Uop&lt;uint16_t&gt;(
<a name="l00609"></a>00609                         machInst, vd * 2, ufp0, inc * 2, lane);
<a name="l00610"></a>00610             }
<a name="l00611"></a>00611             <span class="keywordflow">break</span>;
<a name="l00612"></a>00612           <span class="keywordflow">case</span> 2:
<a name="l00613"></a>00613             <span class="keywordflow">if</span> (all) {
<a name="l00614"></a>00614                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackAllNeon4to8Uop&lt;uint32_t&gt;(
<a name="l00615"></a>00615                         machInst, vd * 2, ufp0, inc * 2);
<a name="l00616"></a>00616             } <span class="keywordflow">else</span> {
<a name="l00617"></a>00617                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackNeon4to8Uop&lt;uint32_t&gt;(
<a name="l00618"></a>00618                         machInst, vd * 2, ufp0, inc * 2, lane);
<a name="l00619"></a>00619             }
<a name="l00620"></a>00620             <span class="keywordflow">break</span>;
<a name="l00621"></a>00621           <span class="keywordflow">default</span>:
<a name="l00622"></a>00622             <span class="comment">// Bad size</span>
<a name="l00623"></a>00623             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> <a class="code" href="namespaceContextSwitchTaskId.html#aa8dd388981e62e592eb420a58ab290b7a4e81c184ac3ad48a389cd4454c4a05bb">Unknown</a>(machInst);
<a name="l00624"></a>00624             <span class="keywordflow">break</span>;
<a name="l00625"></a>00625         }
<a name="l00626"></a>00626         <span class="keywordflow">break</span>;
<a name="l00627"></a>00627       <span class="keywordflow">case</span> 3:
<a name="l00628"></a>00628         assert(regs == 3);
<a name="l00629"></a>00629         <span class="keywordflow">switch</span> (size) {
<a name="l00630"></a>00630           <span class="keywordflow">case</span> 0:
<a name="l00631"></a>00631             <span class="keywordflow">if</span> (all) {
<a name="l00632"></a>00632                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackAllNeon2to6Uop&lt;uint8_t&gt;(
<a name="l00633"></a>00633                         machInst, vd * 2, ufp0, inc * 2);
<a name="l00634"></a>00634             } <span class="keywordflow">else</span> {
<a name="l00635"></a>00635                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackNeon2to6Uop&lt;uint8_t&gt;(
<a name="l00636"></a>00636                         machInst, vd * 2, ufp0, inc * 2, lane);
<a name="l00637"></a>00637             }
<a name="l00638"></a>00638             <span class="keywordflow">break</span>;
<a name="l00639"></a>00639           <span class="keywordflow">case</span> 1:
<a name="l00640"></a>00640             <span class="keywordflow">if</span> (all) {
<a name="l00641"></a>00641                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackAllNeon2to6Uop&lt;uint16_t&gt;(
<a name="l00642"></a>00642                         machInst, vd * 2, ufp0, inc * 2);
<a name="l00643"></a>00643             } <span class="keywordflow">else</span> {
<a name="l00644"></a>00644                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackNeon2to6Uop&lt;uint16_t&gt;(
<a name="l00645"></a>00645                         machInst, vd * 2, ufp0, inc * 2, lane);
<a name="l00646"></a>00646             }
<a name="l00647"></a>00647             <span class="keywordflow">break</span>;
<a name="l00648"></a>00648           <span class="keywordflow">case</span> 2:
<a name="l00649"></a>00649             <span class="keywordflow">if</span> (all) {
<a name="l00650"></a>00650                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackAllNeon4to6Uop&lt;uint32_t&gt;(
<a name="l00651"></a>00651                         machInst, vd * 2, ufp0, inc * 2);
<a name="l00652"></a>00652             } <span class="keywordflow">else</span> {
<a name="l00653"></a>00653                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackNeon4to6Uop&lt;uint32_t&gt;(
<a name="l00654"></a>00654                         machInst, vd * 2, ufp0, inc * 2, lane);
<a name="l00655"></a>00655             }
<a name="l00656"></a>00656             <span class="keywordflow">break</span>;
<a name="l00657"></a>00657           <span class="keywordflow">default</span>:
<a name="l00658"></a>00658             <span class="comment">// Bad size</span>
<a name="l00659"></a>00659             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> <a class="code" href="namespaceContextSwitchTaskId.html#aa8dd388981e62e592eb420a58ab290b7a4e81c184ac3ad48a389cd4454c4a05bb">Unknown</a>(machInst);
<a name="l00660"></a>00660             <span class="keywordflow">break</span>;
<a name="l00661"></a>00661         }
<a name="l00662"></a>00662         <span class="keywordflow">break</span>;
<a name="l00663"></a>00663       <span class="keywordflow">case</span> 2:
<a name="l00664"></a>00664         assert(regs == 2);
<a name="l00665"></a>00665         assert(loadRegs &lt;= 2);
<a name="l00666"></a>00666         <span class="keywordflow">switch</span> (size) {
<a name="l00667"></a>00667           <span class="keywordflow">case</span> 0:
<a name="l00668"></a>00668             <span class="keywordflow">if</span> (all) {
<a name="l00669"></a>00669                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackAllNeon2to4Uop&lt;uint8_t&gt;(
<a name="l00670"></a>00670                         machInst, vd * 2, ufp0, inc * 2);
<a name="l00671"></a>00671             } <span class="keywordflow">else</span> {
<a name="l00672"></a>00672                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackNeon2to4Uop&lt;uint8_t&gt;(
<a name="l00673"></a>00673                         machInst, vd * 2, ufp0, inc * 2, lane);
<a name="l00674"></a>00674             }
<a name="l00675"></a>00675             <span class="keywordflow">break</span>;
<a name="l00676"></a>00676           <span class="keywordflow">case</span> 1:
<a name="l00677"></a>00677             <span class="keywordflow">if</span> (all) {
<a name="l00678"></a>00678                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackAllNeon2to4Uop&lt;uint16_t&gt;(
<a name="l00679"></a>00679                         machInst, vd * 2, ufp0, inc * 2);
<a name="l00680"></a>00680             } <span class="keywordflow">else</span> {
<a name="l00681"></a>00681                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackNeon2to4Uop&lt;uint16_t&gt;(
<a name="l00682"></a>00682                         machInst, vd * 2, ufp0, inc * 2, lane);
<a name="l00683"></a>00683             }
<a name="l00684"></a>00684             <span class="keywordflow">break</span>;
<a name="l00685"></a>00685           <span class="keywordflow">case</span> 2:
<a name="l00686"></a>00686             <span class="keywordflow">if</span> (all) {
<a name="l00687"></a>00687                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackAllNeon2to4Uop&lt;uint32_t&gt;(
<a name="l00688"></a>00688                         machInst, vd * 2, ufp0, inc * 2);
<a name="l00689"></a>00689             } <span class="keywordflow">else</span> {
<a name="l00690"></a>00690                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> MicroUnpackNeon2to4Uop&lt;uint32_t&gt;(
<a name="l00691"></a>00691                         machInst, vd * 2, ufp0, inc * 2, lane);
<a name="l00692"></a>00692             }
<a name="l00693"></a>00693             <span class="keywordflow">break</span>;
<a name="l00694"></a>00694           <span class="keywordflow">default</span>:
<a name="l00695"></a>00695             <span class="comment">// Bad size</span>
<a name="l00696"></a>00696             <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> <a class="code" href="namespaceContextSwitchTaskId.html#aa8dd388981e62e592eb420a58ab290b7a4e81c184ac3ad48a389cd4454c4a05bb">Unknown</a>(machInst);
<a name="l00697"></a>00697             <span class="keywordflow">break</span>;
<a name="l00698"></a>00698         }
<a name="l00699"></a>00699         <span class="keywordflow">break</span>;
<a name="l00700"></a>00700       <span class="keywordflow">case</span> 1:
<a name="l00701"></a>00701         assert(regs == 1 || (all &amp;&amp; regs == 2));
<a name="l00702"></a>00702         assert(loadRegs &lt;= 2);
<a name="l00703"></a>00703         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a> = 0; <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a> &lt; regs; <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a>++) {
<a name="l00704"></a>00704             <span class="keywordflow">switch</span> (size) {
<a name="l00705"></a>00705               <span class="keywordflow">case</span> 0:
<a name="l00706"></a>00706                 <span class="keywordflow">if</span> (all) {
<a name="l00707"></a>00707                     <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] =
<a name="l00708"></a>00708                         <span class="keyword">new</span> MicroUnpackAllNeon2to2Uop&lt;uint8_t&gt;(
<a name="l00709"></a>00709                             machInst, (vd + <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a>) * 2, ufp0, inc * 2);
<a name="l00710"></a>00710                 } <span class="keywordflow">else</span> {
<a name="l00711"></a>00711                     <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] =
<a name="l00712"></a>00712                         <span class="keyword">new</span> MicroUnpackNeon2to2Uop&lt;uint8_t&gt;(
<a name="l00713"></a>00713                             machInst, (vd + <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a>) * 2, ufp0, inc * 2, lane);
<a name="l00714"></a>00714                 }
<a name="l00715"></a>00715                 <span class="keywordflow">break</span>;
<a name="l00716"></a>00716               <span class="keywordflow">case</span> 1:
<a name="l00717"></a>00717                 <span class="keywordflow">if</span> (all) {
<a name="l00718"></a>00718                     <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] =
<a name="l00719"></a>00719                         <span class="keyword">new</span> MicroUnpackAllNeon2to2Uop&lt;uint16_t&gt;(
<a name="l00720"></a>00720                             machInst, (vd + <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a>) * 2, ufp0, inc * 2);
<a name="l00721"></a>00721                 } <span class="keywordflow">else</span> {
<a name="l00722"></a>00722                     <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] =
<a name="l00723"></a>00723                         <span class="keyword">new</span> MicroUnpackNeon2to2Uop&lt;uint16_t&gt;(
<a name="l00724"></a>00724                             machInst, (vd + <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a>) * 2, ufp0, inc * 2, lane);
<a name="l00725"></a>00725                 }
<a name="l00726"></a>00726                 <span class="keywordflow">break</span>;
<a name="l00727"></a>00727               <span class="keywordflow">case</span> 2:
<a name="l00728"></a>00728                 <span class="keywordflow">if</span> (all) {
<a name="l00729"></a>00729                     <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] =
<a name="l00730"></a>00730                         <span class="keyword">new</span> MicroUnpackAllNeon2to2Uop&lt;uint32_t&gt;(
<a name="l00731"></a>00731                             machInst, (vd + <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a>) * 2, ufp0, inc * 2);
<a name="l00732"></a>00732                 } <span class="keywordflow">else</span> {
<a name="l00733"></a>00733                     <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] =
<a name="l00734"></a>00734                         <span class="keyword">new</span> MicroUnpackNeon2to2Uop&lt;uint32_t&gt;(
<a name="l00735"></a>00735                             machInst, (vd + <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a>) * 2, ufp0, inc * 2, lane);
<a name="l00736"></a>00736                 }
<a name="l00737"></a>00737                 <span class="keywordflow">break</span>;
<a name="l00738"></a>00738               <span class="keywordflow">default</span>:
<a name="l00739"></a>00739                 <span class="comment">// Bad size</span>
<a name="l00740"></a>00740                 <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> <a class="code" href="namespaceContextSwitchTaskId.html#aa8dd388981e62e592eb420a58ab290b7a4e81c184ac3ad48a389cd4454c4a05bb">Unknown</a>(machInst);
<a name="l00741"></a>00741                 <span class="keywordflow">break</span>;
<a name="l00742"></a>00742             }
<a name="l00743"></a>00743         }
<a name="l00744"></a>00744         <span class="keywordflow">break</span>;
<a name="l00745"></a>00745       <span class="keywordflow">default</span>:
<a name="l00746"></a>00746         <span class="comment">// Bad number of elements to unpack</span>
<a name="l00747"></a>00747         <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[uopIdx++] = <span class="keyword">new</span> <a class="code" href="namespaceContextSwitchTaskId.html#aa8dd388981e62e592eb420a58ab290b7a4e81c184ac3ad48a389cd4454c4a05bb">Unknown</a>(machInst);
<a name="l00748"></a>00748     }
<a name="l00749"></a>00749     assert(uopIdx == <a class="code" href="classArmISA_1_1PredMacroOp.html#a19b588f64e88c4ef1ef5fd836415e6f5">numMicroops</a>);
<a name="l00750"></a>00750 
<a name="l00751"></a>00751     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classArmISA_1_1PredMacroOp.html#a19b588f64e88c4ef1ef5fd836415e6f5">numMicroops</a> - 1; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00752"></a>00752         <a class="code" href="classArmISA_1_1MicroOp.html">MicroOp</a> * uopPtr = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classArmISA_1_1MicroOp.html">MicroOp</a> *<span class="keyword">&gt;</span>(<a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].<a class="code" href="classRefCountingPtr.html#a07f851191ad3a7c5c1598ef14f710f96" title="Directly access the pointer itself without taking a reference.">get</a>());
<a name="l00753"></a>00753         assert(uopPtr);
<a name="l00754"></a>00754         uopPtr-&gt;<a class="code" href="classStaticInst.html#a962e50e6bada636e2fee41feb5650da8">setDelayedCommit</a>();
<a name="l00755"></a>00755     }
<a name="l00756"></a>00756     <a class="code" href="classArmISA_1_1PredMacroOp.html#a824cafc0dae7c0bbc33402c635074879">microOps</a>[numMicroops - 1]-&gt;setLastMicroop();
<a name="l00757"></a>00757 }

</pre></div></p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>arch/arm/insts/<a class="el" href="macromem_8hh_source.html">macromem.hh</a></li>
<li>arch/arm/insts/<a class="el" href="macromem_8cc.html">macromem.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
