\hypertarget{classX86ISA_1_1I8237}{
\section{クラス I8237}
\label{classX86ISA_1_1I8237}\index{X86ISA::I8237@{X86ISA::I8237}}
}


{\ttfamily \#include $<$i8237.hh$>$}I8237に対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=7cm]{classX86ISA_1_1I8237}
\end{center}
\end{figure}
\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
typedef I8237Params \hyperlink{classX86ISA_1_1I8237_a0e2ad01c52d44a915b5dd253a99ad175}{Params}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{classX86ISA_1_1I8237_a0e2ad01c52d44a915b5dd253a99ad175}{Params} $\ast$ \hyperlink{classX86ISA_1_1I8237_acd3c3feb78ae7a8f88fe0f110a718dff}{params} () const 
\item 
\hyperlink{classX86ISA_1_1I8237_af0eeaf391b6f5fc24806aaf7f543bac8}{I8237} (\hyperlink{classX86ISA_1_1I8237_a0e2ad01c52d44a915b5dd253a99ad175}{Params} $\ast$\hyperlink{namespaceX86ISA_af675c1d542a25b96e11164b80809a856}{p})
\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classX86ISA_1_1I8237_a613ec7d5e1ec64f8d21fec78ae8e568e}{read} (\hyperlink{classPacket}{PacketPtr} pkt)
\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classX86ISA_1_1I8237_a4cefab464e72b5dd42c003a0a4341802}{write} (\hyperlink{classPacket}{PacketPtr} pkt)
\item 
virtual void \hyperlink{classX86ISA_1_1I8237_a53e036786d17361be4c7320d39c99b84}{serialize} (std::ostream \&\hyperlink{namespaceX86ISA_a6b6e6ba763e7eaf46ac5b6372ca98d30}{os})
\item 
virtual void \hyperlink{classX86ISA_1_1I8237_af22e5d6d660b97db37003ac61ac4ee49}{unserialize} (\hyperlink{classCheckpoint}{Checkpoint} $\ast$cp, const std::string \&section)
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classX86ISA_1_1I8237_ac8d8966078cc047949fd1bca8feb21b6}{latency}
\item 
uint8\_\-t \hyperlink{classX86ISA_1_1I8237_ae379a70bda13189c6429c4478c0da614}{maskReg}
\end{DoxyCompactItemize}


\subsection{型定義}
\hypertarget{classX86ISA_1_1I8237_a0e2ad01c52d44a915b5dd253a99ad175}{
\index{X86ISA::I8237@{X86ISA::I8237}!Params@{Params}}
\index{Params@{Params}!X86ISA::I8237@{X86ISA::I8237}}
\subsubsection[{Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef I8237Params {\bf Params}}}
\label{classX86ISA_1_1I8237_a0e2ad01c52d44a915b5dd253a99ad175}


\hyperlink{classBasicPioDevice_a2845515ac6467f10540747053c8a0449}{BasicPioDevice}を再定義しています。

\subsection{コンストラクタとデストラクタ}
\hypertarget{classX86ISA_1_1I8237_af0eeaf391b6f5fc24806aaf7f543bac8}{
\index{X86ISA::I8237@{X86ISA::I8237}!I8237@{I8237}}
\index{I8237@{I8237}!X86ISA::I8237@{X86ISA::I8237}}
\subsubsection[{I8237}]{\setlength{\rightskip}{0pt plus 5cm}{\bf I8237} ({\bf Params} $\ast$ {\em p})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classX86ISA_1_1I8237_af0eeaf391b6f5fc24806aaf7f543bac8}



\begin{DoxyCode}
55                      : BasicPioDevice(p, 16), latency(p->pio_latency), maskReg(0)
      
56     {
57     }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classX86ISA_1_1I8237_acd3c3feb78ae7a8f88fe0f110a718dff}{
\index{X86ISA::I8237@{X86ISA::I8237}!params@{params}}
\index{params@{params}!X86ISA::I8237@{X86ISA::I8237}}
\subsubsection[{params}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Params}$\ast$ params () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classX86ISA_1_1I8237_acd3c3feb78ae7a8f88fe0f110a718dff}


\hyperlink{classBasicPioDevice_acd3c3feb78ae7a8f88fe0f110a718dff}{BasicPioDevice}を再定義しています。


\begin{DoxyCode}
51     {
52         return dynamic_cast<const Params *>(_params);
53     }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1I8237_a613ec7d5e1ec64f8d21fec78ae8e568e}{
\index{X86ISA::I8237@{X86ISA::I8237}!read@{read}}
\index{read@{read}!X86ISA::I8237@{X86ISA::I8237}}
\subsubsection[{read}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} read ({\bf PacketPtr} {\em pkt})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classX86ISA_1_1I8237_a613ec7d5e1ec64f8d21fec78ae8e568e}
Pure virtual function that the device must implement. Called when a read command is recieved by the port. 
\begin{DoxyParams}{引数}
\item[{\em pkt}]\hyperlink{classPacket}{Packet} describing this request \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
number of ticks it took to complete 
\end{DoxyReturn}


\hyperlink{classPioDevice_a842312590432036092c422c87a442358}{PioDevice}を実装しています。


\begin{DoxyCode}
37 {
38     assert(pkt->getSize() == 1);
39     Addr offset = pkt->getAddr() - pioAddr;
40     switch (offset) {
41       case 0x0:
42         panic("Read from i8237 channel 0 current address unimplemented.\n");
43       case 0x1:
44         panic("Read from i8237 channel 0 remaining "
45                 "word count unimplemented.\n");
46       case 0x2:
47         panic("Read from i8237 channel 1 current address unimplemented.\n");
48       case 0x3:
49         panic("Read from i8237 channel 1 remaining "
50                 "word count unimplemented.\n");
51       case 0x4:
52         panic("Read from i8237 channel 2 current address unimplemented.\n");
53       case 0x5:
54         panic("Read from i8237 channel 2 remaining "
55                 "word count unimplemented.\n");
56       case 0x6:
57         panic("Read from i8237 channel 3 current address unimplemented.\n");
58       case 0x7:
59         panic("Read from i8237 channel 3 remaining "
60                 "word count unimplemented.\n");
61       case 0x8:
62         panic("Read from i8237 status register unimplemented.\n");
63       default:
64         panic("Read from undefined i8237 register %d.\n", offset);
65     }
66     pkt->makeAtomicResponse();
67     return latency;
68 }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1I8237_a53e036786d17361be4c7320d39c99b84}{
\index{X86ISA::I8237@{X86ISA::I8237}!serialize@{serialize}}
\index{serialize@{serialize}!X86ISA::I8237@{X86ISA::I8237}}
\subsubsection[{serialize}]{\setlength{\rightskip}{0pt plus 5cm}void serialize (std::ostream \& {\em os})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classX86ISA_1_1I8237_a53e036786d17361be4c7320d39c99b84}


\hyperlink{classSerializable_ad6272f80ae37e8331e3969b3f072a801}{Serializable}を再定義しています。


\begin{DoxyCode}
130 {
131     SERIALIZE_SCALAR(maskReg);
132 }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1I8237_af22e5d6d660b97db37003ac61ac4ee49}{
\index{X86ISA::I8237@{X86ISA::I8237}!unserialize@{unserialize}}
\index{unserialize@{unserialize}!X86ISA::I8237@{X86ISA::I8237}}
\subsubsection[{unserialize}]{\setlength{\rightskip}{0pt plus 5cm}void unserialize ({\bf Checkpoint} $\ast$ {\em cp}, \/  const std::string \& {\em section})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classX86ISA_1_1I8237_af22e5d6d660b97db37003ac61ac4ee49}


\hyperlink{classSerializable_af100c4e9feabf3cd918619c88c718387}{Serializable}を再定義しています。


\begin{DoxyCode}
136 {
137     UNSERIALIZE_SCALAR(maskReg);
138 }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1I8237_a4cefab464e72b5dd42c003a0a4341802}{
\index{X86ISA::I8237@{X86ISA::I8237}!write@{write}}
\index{write@{write}!X86ISA::I8237@{X86ISA::I8237}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} write ({\bf PacketPtr} {\em pkt})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classX86ISA_1_1I8237_a4cefab464e72b5dd42c003a0a4341802}
Pure virtual function that the device must implement. Called when a write command is recieved by the port. 
\begin{DoxyParams}{引数}
\item[{\em pkt}]\hyperlink{classPacket}{Packet} describing this request \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
number of ticks it took to complete 
\end{DoxyReturn}


\hyperlink{classPioDevice_afe8371668d023bb2516b286e5e399b6f}{PioDevice}を実装しています。


\begin{DoxyCode}
72 {
73     assert(pkt->getSize() == 1);
74     Addr offset = pkt->getAddr() - pioAddr;
75     switch (offset) {
76       case 0x0:
77         panic("Write to i8237 channel 0 starting address unimplemented.\n");
78       case 0x1:
79         panic("Write to i8237 channel 0 starting "
80                 "word count unimplemented.\n");
81       case 0x2:
82         panic("Write to i8237 channel 1 starting address unimplemented.\n");
83       case 0x3:
84         panic("Write to i8237 channel 1 starting "
85                 "word count unimplemented.\n");
86       case 0x4:
87         panic("Write to i8237 channel 2 starting address unimplemented.\n");
88       case 0x5:
89         panic("Write to i8237 channel 2 starting "
90                 "word count unimplemented.\n");
91       case 0x6:
92         panic("Write to i8237 channel 3 starting address unimplemented.\n");
93       case 0x7:
94         panic("Write to i8237 channel 3 starting "
95                 "word count unimplemented.\n");
96       case 0x8:
97         panic("Write to i8237 command register unimplemented.\n");
98       case 0x9:
99         panic("Write to i8237 request register unimplemented.\n");
100       case 0xa:
101         {
102             uint8_t command = pkt->get<uint8_t>();
103             uint8_t select = bits(command, 1, 0);
104             uint8_t bitVal = bits(command, 2);
105             if (!bitVal)
106                 panic("Turning on i8237 channels unimplemented.\n");
107             replaceBits(maskReg, select, bitVal);
108         }
109         break;
110       case 0xb:
111         panic("Write to i8237 mode register unimplemented.\n");
112       case 0xc:
113         panic("Write to i8237 clear LSB/MSB flip-flop "
114                 "register unimplemented.\n");
115       case 0xd:
116         panic("Write to i8237 master clear/reset register unimplemented.\n");
117       case 0xe:
118         panic("Write to i8237 clear mask register unimplemented.\n");
119       case 0xf:
120         panic("Write to i8237 write all mask register bits unimplemented.\n");
121       default:
122         panic("Write to undefined i8237 register.\n");
123     }
124     pkt->makeAtomicResponse();
125     return latency;
126 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classX86ISA_1_1I8237_ac8d8966078cc047949fd1bca8feb21b6}{
\index{X86ISA::I8237@{X86ISA::I8237}!latency@{latency}}
\index{latency@{latency}!X86ISA::I8237@{X86ISA::I8237}}
\subsubsection[{latency}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} {\bf latency}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8237_ac8d8966078cc047949fd1bca8feb21b6}
\hypertarget{classX86ISA_1_1I8237_ae379a70bda13189c6429c4478c0da614}{
\index{X86ISA::I8237@{X86ISA::I8237}!maskReg@{maskReg}}
\index{maskReg@{maskReg}!X86ISA::I8237@{X86ISA::I8237}}
\subsubsection[{maskReg}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t {\bf maskReg}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1I8237_ae379a70bda13189c6429c4478c0da614}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
dev/x86/\hyperlink{i8237_8hh}{i8237.hh}\item 
dev/x86/\hyperlink{i8237_8cc}{i8237.cc}\end{DoxyCompactItemize}
