\hypertarget{RubySlicc__ComponentMapping_8hh}{
\section{mem/ruby/slicc\_\-interface/RubySlicc\_\-ComponentMapping.hh}
\label{RubySlicc__ComponentMapping_8hh}\index{mem/ruby/slicc\_\-interface/RubySlicc\_\-ComponentMapping.hh@{mem/ruby/slicc\_\-interface/RubySlicc\_\-ComponentMapping.hh}}
}
{\ttfamily \#include \char`\"{}mem/protocol/MachineType.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}mem/ruby/common/Address.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}mem/ruby/common/NetDest.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}mem/ruby/system/DirectoryMemory.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}mem/ruby/system/MachineID.hh\char`\"{}}\par
\subsection*{関数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{TypeDefines_8hh_a83c14b4ae37e80071f6b3506a6c46151}{NodeID} \hyperlink{RubySlicc__ComponentMapping_8hh_a4bd5481fa181d267b902fe3825117932}{map\_\-Address\_\-to\_\-DirectoryNode} (const \hyperlink{classAddress}{Address} \&addr)
\item 
\hyperlink{structMachineID}{MachineID} \hyperlink{RubySlicc__ComponentMapping_8hh_aa36e0c9a077123ca73feb9afe15b1840}{map\_\-Address\_\-to\_\-Directory} (const \hyperlink{classAddress}{Address} \&addr)
\item 
\hyperlink{classNetDest}{NetDest} \hyperlink{RubySlicc__ComponentMapping_8hh_a366bb42c15ca556679ac10b479bc4d8d}{broadcast} (MachineType type)
\item 
\hyperlink{structMachineID}{MachineID} \hyperlink{RubySlicc__ComponentMapping_8hh_ac9143afac20963e128e48ed7629da9d0}{mapAddressToRange} (const \hyperlink{classAddress}{Address} \&addr, MachineType type, int low\_\-bit, int num\_\-bits, int cluster\_\-id=0)
\item 
\hyperlink{TypeDefines_8hh_a83c14b4ae37e80071f6b3506a6c46151}{NodeID} \hyperlink{RubySlicc__ComponentMapping_8hh_ab3f39dc0ba9b41811c448c63a9dab171}{machineIDToNodeID} (\hyperlink{structMachineID}{MachineID} machID)
\item 
MachineType \hyperlink{RubySlicc__ComponentMapping_8hh_aa054eb921191818fb53a5d26e5a61338}{machineIDToMachineType} (\hyperlink{structMachineID}{MachineID} machID)
\item 
int \hyperlink{RubySlicc__ComponentMapping_8hh_a1250f76522e6deb7118fe2c84d16ed84}{machineCount} (MachineType machType)
\item 
\hyperlink{structMachineID}{MachineID} \hyperlink{RubySlicc__ComponentMapping_8hh_abf6136c785cbdaa0fc2ff047af75152b}{createMachineID} (MachineType type, \hyperlink{TypeDefines_8hh_a83c14b4ae37e80071f6b3506a6c46151}{NodeID} id)
\end{DoxyCompactItemize}


\subsection{関数}
\hypertarget{RubySlicc__ComponentMapping_8hh_a366bb42c15ca556679ac10b479bc4d8d}{
\index{RubySlicc\_\-ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}!broadcast@{broadcast}}
\index{broadcast@{broadcast}!RubySlicc_ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}}
\subsubsection[{broadcast}]{\setlength{\rightskip}{0pt plus 5cm}{\bf NetDest} broadcast (MachineType {\em type})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{RubySlicc__ComponentMapping_8hh_a366bb42c15ca556679ac10b479bc4d8d}



\begin{DoxyCode}
58 {
59     NetDest dest;
60     for (NodeID i = 0; i < MachineType_base_count(type); i++) {
61         MachineID mach = {type, i};
62         dest.add(mach);
63     }
64     return dest;
65 }
\end{DoxyCode}
\hypertarget{RubySlicc__ComponentMapping_8hh_abf6136c785cbdaa0fc2ff047af75152b}{
\index{RubySlicc\_\-ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}!createMachineID@{createMachineID}}
\index{createMachineID@{createMachineID}!RubySlicc_ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}}
\subsubsection[{createMachineID}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MachineID} createMachineID (MachineType {\em type}, \/  {\bf NodeID} {\em id})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{RubySlicc__ComponentMapping_8hh_abf6136c785cbdaa0fc2ff047af75152b}



\begin{DoxyCode}
100 {
101     MachineID mach = {type, id};
102     return mach;
103 }
\end{DoxyCode}
\hypertarget{RubySlicc__ComponentMapping_8hh_a1250f76522e6deb7118fe2c84d16ed84}{
\index{RubySlicc\_\-ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}!machineCount@{machineCount}}
\index{machineCount@{machineCount}!RubySlicc_ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}}
\subsubsection[{machineCount}]{\setlength{\rightskip}{0pt plus 5cm}int machineCount (MachineType {\em machType})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{RubySlicc__ComponentMapping_8hh_a1250f76522e6deb7118fe2c84d16ed84}



\begin{DoxyCode}
94 {
95     return MachineType_base_count(machType);
96 }
\end{DoxyCode}
\hypertarget{RubySlicc__ComponentMapping_8hh_aa054eb921191818fb53a5d26e5a61338}{
\index{RubySlicc\_\-ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}!machineIDToMachineType@{machineIDToMachineType}}
\index{machineIDToMachineType@{machineIDToMachineType}!RubySlicc_ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}}
\subsubsection[{machineIDToMachineType}]{\setlength{\rightskip}{0pt plus 5cm}MachineType machineIDToMachineType ({\bf MachineID} {\em machID})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{RubySlicc__ComponentMapping_8hh_aa054eb921191818fb53a5d26e5a61338}



\begin{DoxyCode}
88 {
89     return machID.type;
90 }
\end{DoxyCode}
\hypertarget{RubySlicc__ComponentMapping_8hh_ab3f39dc0ba9b41811c448c63a9dab171}{
\index{RubySlicc\_\-ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}!machineIDToNodeID@{machineIDToNodeID}}
\index{machineIDToNodeID@{machineIDToNodeID}!RubySlicc_ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}}
\subsubsection[{machineIDToNodeID}]{\setlength{\rightskip}{0pt plus 5cm}{\bf NodeID} machineIDToNodeID ({\bf MachineID} {\em machID})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{RubySlicc__ComponentMapping_8hh_ab3f39dc0ba9b41811c448c63a9dab171}



\begin{DoxyCode}
82 {
83     return machID.num;
84 }
\end{DoxyCode}
\hypertarget{RubySlicc__ComponentMapping_8hh_aa36e0c9a077123ca73feb9afe15b1840}{
\index{RubySlicc\_\-ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}!map\_\-Address\_\-to\_\-Directory@{map\_\-Address\_\-to\_\-Directory}}
\index{map\_\-Address\_\-to\_\-Directory@{map\_\-Address\_\-to\_\-Directory}!RubySlicc_ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}}
\subsubsection[{map\_\-Address\_\-to\_\-Directory}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MachineID} map\_\-Address\_\-to\_\-Directory (const {\bf Address} \& {\em addr})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{RubySlicc__ComponentMapping_8hh_aa36e0c9a077123ca73feb9afe15b1840}



\begin{DoxyCode}
50 {
51     MachineID mach =
52         {MachineType_Directory, map_Address_to_DirectoryNode(addr)};
53     return mach;
54 }
\end{DoxyCode}
\hypertarget{RubySlicc__ComponentMapping_8hh_a4bd5481fa181d267b902fe3825117932}{
\index{RubySlicc\_\-ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}!map\_\-Address\_\-to\_\-DirectoryNode@{map\_\-Address\_\-to\_\-DirectoryNode}}
\index{map\_\-Address\_\-to\_\-DirectoryNode@{map\_\-Address\_\-to\_\-DirectoryNode}!RubySlicc_ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}}
\subsubsection[{map\_\-Address\_\-to\_\-DirectoryNode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf NodeID} map\_\-Address\_\-to\_\-DirectoryNode (const {\bf Address} \& {\em addr})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{RubySlicc__ComponentMapping_8hh_a4bd5481fa181d267b902fe3825117932}



\begin{DoxyCode}
42 {
43     return DirectoryMemory::mapAddressToDirectoryVersion(addr);
44 }
\end{DoxyCode}
\hypertarget{RubySlicc__ComponentMapping_8hh_ac9143afac20963e128e48ed7629da9d0}{
\index{RubySlicc\_\-ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}!mapAddressToRange@{mapAddressToRange}}
\index{mapAddressToRange@{mapAddressToRange}!RubySlicc_ComponentMapping.hh@{RubySlicc\_\-ComponentMapping.hh}}
\subsubsection[{mapAddressToRange}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MachineID} mapAddressToRange (const {\bf Address} \& {\em addr}, \/  MachineType {\em type}, \/  int {\em low\_\-bit}, \/  int {\em num\_\-bits}, \/  int {\em cluster\_\-id} = {\ttfamily 0})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{RubySlicc__ComponentMapping_8hh_ac9143afac20963e128e48ed7629da9d0}



\begin{DoxyCode}
70 {
71     MachineID mach = {type, 0};
72     if (num_bits == 0)
73         mach.num = cluster_id;
74     else
75         mach.num = addr.bitSelect(low_bit, low_bit + num_bits - 1)
76             + (1 << num_bits) * cluster_id;
77     return mach;
78 }
\end{DoxyCode}
