\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics}{
\section{クラス Statistics}
\label{classAlphaISA_1_1Kernel_1_1Statistics}\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
}


{\ttfamily \#include $<$kernel\_\-stats.hh$>$}Statisticsに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3cm]{classAlphaISA_1_1Kernel_1_1Statistics}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a83aac6d65afe578fbf92b926ce7c1c3c}{Statistics} (\hyperlink{classSystem}{System} $\ast$system)
\item 
void \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a3dd3443357312bcb75580eaa508c48a4}{regStats} (const std::string \&name)
\item 
void \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a69a28205bda54bb9952d3bfd3aa2b432}{mode} (\hyperlink{namespaceAlphaISA_1_1Kernel_aa1fc3805dac6f71f457fbbc263105bf6}{cpu\_\-mode} newmode, \hyperlink{classThreadContext}{ThreadContext} $\ast$tc)
\item 
void \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a142daab47c3cbc51299f94f8d0262cfb}{context} (\hyperlink{classm5_1_1params_1_1Addr}{Addr} oldpcbb, \hyperlink{classm5_1_1params_1_1Addr}{Addr} newpcbb, \hyperlink{classThreadContext}{ThreadContext} $\ast$tc)
\item 
void \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a7827dc7da6357e12e4cd63cd4e2c4ae3}{callpal} (int code, \hyperlink{classThreadContext}{ThreadContext} $\ast$tc)
\item 
void \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a533ed6061eb53157e53d902560bd6d0e}{hwrei} ()
\item 
void \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_aab8479e51738f53b86d4c67c9a57d6f4}{setIdleProcess} (\hyperlink{classm5_1_1params_1_1Addr}{Addr} idle, \hyperlink{classThreadContext}{ThreadContext} $\ast$tc)
\item 
void \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a53e036786d17361be4c7320d39c99b84}{serialize} (std::ostream \&os)
\item 
void \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_af22e5d6d660b97db37003ac61ac4ee49}{unserialize} (\hyperlink{classCheckpoint}{Checkpoint} $\ast$cp, const std::string \&section)
\end{DoxyCompactItemize}
\subsection*{Protected メソッド}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a3b94b2c16465171d96e98013e647eb1f}{changeMode} (\hyperlink{namespaceAlphaISA_1_1Kernel_aa1fc3805dac6f71f457fbbc263105bf6}{cpu\_\-mode} newmode, \hyperlink{classThreadContext}{ThreadContext} $\ast$tc)
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classm5_1_1params_1_1Addr}{Addr} \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a3efac9018e8c40c2addf4a34b095cdfa}{idleProcess}
\item 
\hyperlink{namespaceAlphaISA_1_1Kernel_aa1fc3805dac6f71f457fbbc263105bf6}{cpu\_\-mode} \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_ac056a7cd50c440e44bd19d36c746b635}{themode}
\item 
\hyperlink{classm5_1_1params_1_1Tick}{Tick} \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a7982ed5ce2b7a3c40fb9c593629cdaa0}{lastModeTick}
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classStats_1_1Vector}{Stats::Vector} \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a1fccc9e1a165433b40d6b11d16d4f572}{\_\-callpal}
\item 
\hyperlink{classStats_1_1Vector}{Stats::Vector} \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_aa5d1b30e73436a048d5ad090cd6494ff}{\_\-mode}
\item 
\hyperlink{classStats_1_1Vector}{Stats::Vector} \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_ab95356a1073de976c621d1825898da43}{\_\-modeGood}
\item 
\hyperlink{classStats_1_1Formula}{Stats::Formula} \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_acfd81386f407c8e1d793f10cc42ca43d}{\_\-modeFraction}
\item 
\hyperlink{classStats_1_1Vector}{Stats::Vector} \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a718f504e6efc6fe6c98ebe72d8146dc5}{\_\-modeTicks}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classAlphaISA_1_1Kernel_1_1Statistics_a2d48125412fd9180e98eeeb0adb8cad3}{\_\-swap\_\-context}
\end{DoxyCompactItemize}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a83aac6d65afe578fbf92b926ce7c1c3c}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!Statistics@{Statistics}}
\index{Statistics@{Statistics}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{Statistics}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Statistics} ({\bf System} $\ast$ {\em system})}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a83aac6d65afe578fbf92b926ce7c1c3c}


\hyperlink{classKernel_1_1Statistics_a83aac6d65afe578fbf92b926ce7c1c3c}{Statistics}を再定義しています。


\begin{DoxyCode}
54     : ::Kernel::Statistics(system),
55       idleProcess((Addr)-1), themode(kernel), lastModeTick(0)
56 {
57 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a7827dc7da6357e12e4cd63cd4e2c4ae3}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!callpal@{callpal}}
\index{callpal@{callpal}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{callpal}]{\setlength{\rightskip}{0pt plus 5cm}void callpal (int {\em code}, \/  {\bf ThreadContext} $\ast$ {\em tc})}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a7827dc7da6357e12e4cd63cd4e2c4ae3}



\begin{DoxyCode}
179 {
180     if (!PAL::name(code))
181         return;
182 
183     _callpal[code]++;
184 
185     switch (code) {
186       case PAL::callsys: {
187           int number = tc->readIntReg(0);
188           if (SystemCalls<Tru64>::validSyscallNumber(number)) {
189               int cvtnum = SystemCalls<Tru64>::convert(number);
190               _syscall[cvtnum]++;
191           }
192       } break;
193     }
194 }
\end{DoxyCode}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a3b94b2c16465171d96e98013e647eb1f}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!changeMode@{changeMode}}
\index{changeMode@{changeMode}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{changeMode}]{\setlength{\rightskip}{0pt plus 5cm}void changeMode ({\bf cpu\_\-mode} {\em newmode}, \/  {\bf ThreadContext} $\ast$ {\em tc})\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a3b94b2c16465171d96e98013e647eb1f}



\begin{DoxyCode}
136 {
137     _mode[newmode]++;
138 
139     if (newmode == themode)
140         return;
141 
142     DPRINTF(Context, "old mode=%s new mode=%s pid=%d\n",
143             modestr[themode], modestr[newmode],
144             Linux::ThreadInfo(tc).curTaskPID());
145 
146     _modeGood[newmode]++;
147     _modeTicks[themode] += curTick() - lastModeTick;
148 
149     lastModeTick = curTick();
150     themode = newmode;
151 }
\end{DoxyCode}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a142daab47c3cbc51299f94f8d0262cfb}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!context@{context}}
\index{context@{context}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{context}]{\setlength{\rightskip}{0pt plus 5cm}void context ({\bf Addr} {\em oldpcbb}, \/  {\bf Addr} {\em newpcbb}, \/  {\bf ThreadContext} $\ast$ {\em tc})}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a142daab47c3cbc51299f94f8d0262cfb}



\begin{DoxyCode}
166 {
167     assert(themode != user);
168 
169     _swap_context++;
170     changeMode(newpcbb == idleProcess ? idle : kernel, tc);
171 
172     DPRINTF(Context, "Context Switch old pid=%d new pid=%d\n",
173             Linux::ThreadInfo(tc, oldpcbb).curTaskPID(),
174             Linux::ThreadInfo(tc, newpcbb).curTaskPID());
175 }
\end{DoxyCode}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a533ed6061eb53157e53d902560bd6d0e}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!hwrei@{hwrei}}
\index{hwrei@{hwrei}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{hwrei}]{\setlength{\rightskip}{0pt plus 5cm}void hwrei ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a533ed6061eb53157e53d902560bd6d0e}



\begin{DoxyCode}
84 { _hwrei++; }
\end{DoxyCode}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a69a28205bda54bb9952d3bfd3aa2b432}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!mode@{mode}}
\index{mode@{mode}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{mode}]{\setlength{\rightskip}{0pt plus 5cm}void mode ({\bf cpu\_\-mode} {\em newmode}, \/  {\bf ThreadContext} $\ast$ {\em tc})}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a69a28205bda54bb9952d3bfd3aa2b432}



\begin{DoxyCode}
155 {
156     Addr pcbb = tc->readMiscRegNoEffect(IPR_PALtemp23);
157 
158     if (newmode == kernel && pcbb == idleProcess)
159         newmode = idle;
160 
161     changeMode(newmode, tc);
162 }
\end{DoxyCode}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a3dd3443357312bcb75580eaa508c48a4}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!regStats@{regStats}}
\index{regStats@{regStats}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{regStats}]{\setlength{\rightskip}{0pt plus 5cm}void regStats (const std::string \& {\em name})}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a3dd3443357312bcb75580eaa508c48a4}


\hyperlink{classKernel_1_1Statistics_a3dd3443357312bcb75580eaa508c48a4}{Statistics}を再定義しています。\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a53e036786d17361be4c7320d39c99b84}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!serialize@{serialize}}
\index{serialize@{serialize}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{serialize}]{\setlength{\rightskip}{0pt plus 5cm}void serialize (std::ostream \& {\em os})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a53e036786d17361be4c7320d39c99b84}


\hyperlink{classKernel_1_1Statistics_ad6272f80ae37e8331e3969b3f072a801}{Statistics}を再定義しています。\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_aab8479e51738f53b86d4c67c9a57d6f4}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!setIdleProcess@{setIdleProcess}}
\index{setIdleProcess@{setIdleProcess}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{setIdleProcess}]{\setlength{\rightskip}{0pt plus 5cm}void setIdleProcess ({\bf Addr} {\em idle}, \/  {\bf ThreadContext} $\ast$ {\em tc})}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_aab8479e51738f53b86d4c67c9a57d6f4}



\begin{DoxyCode}
127 {
128     assert(themode == kernel);
129     idleProcess = idlepcbb;
130     themode = idle;
131     changeMode(themode, tc);
132 }
\end{DoxyCode}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_af22e5d6d660b97db37003ac61ac4ee49}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!unserialize@{unserialize}}
\index{unserialize@{unserialize}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{unserialize}]{\setlength{\rightskip}{0pt plus 5cm}void unserialize ({\bf Checkpoint} $\ast$ {\em cp}, \/  const std::string \& {\em section})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_af22e5d6d660b97db37003ac61ac4ee49}


\hyperlink{classKernel_1_1Statistics_af100c4e9feabf3cd918619c88c718387}{Statistics}を再定義しています。

\subsection{変数}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a1fccc9e1a165433b40d6b11d16d4f572}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!\_\-callpal@{\_\-callpal}}
\index{\_\-callpal@{\_\-callpal}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{\_\-callpal}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Vector} {\bf \_\-callpal}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a1fccc9e1a165433b40d6b11d16d4f572}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_aa5d1b30e73436a048d5ad090cd6494ff}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!\_\-mode@{\_\-mode}}
\index{\_\-mode@{\_\-mode}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{\_\-mode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Vector} {\bf \_\-mode}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_aa5d1b30e73436a048d5ad090cd6494ff}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_acfd81386f407c8e1d793f10cc42ca43d}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!\_\-modeFraction@{\_\-modeFraction}}
\index{\_\-modeFraction@{\_\-modeFraction}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{\_\-modeFraction}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Formula} {\bf \_\-modeFraction}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_acfd81386f407c8e1d793f10cc42ca43d}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_ab95356a1073de976c621d1825898da43}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!\_\-modeGood@{\_\-modeGood}}
\index{\_\-modeGood@{\_\-modeGood}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{\_\-modeGood}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Vector} {\bf \_\-modeGood}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_ab95356a1073de976c621d1825898da43}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a718f504e6efc6fe6c98ebe72d8146dc5}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!\_\-modeTicks@{\_\-modeTicks}}
\index{\_\-modeTicks@{\_\-modeTicks}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{\_\-modeTicks}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Vector} {\bf \_\-modeTicks}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a718f504e6efc6fe6c98ebe72d8146dc5}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a2d48125412fd9180e98eeeb0adb8cad3}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!\_\-swap\_\-context@{\_\-swap\_\-context}}
\index{\_\-swap\_\-context@{\_\-swap\_\-context}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{\_\-swap\_\-context}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf \_\-swap\_\-context}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a2d48125412fd9180e98eeeb0adb8cad3}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a3efac9018e8c40c2addf4a34b095cdfa}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!idleProcess@{idleProcess}}
\index{idleProcess@{idleProcess}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{idleProcess}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} {\bf idleProcess}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a3efac9018e8c40c2addf4a34b095cdfa}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_a7982ed5ce2b7a3c40fb9c593629cdaa0}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!lastModeTick@{lastModeTick}}
\index{lastModeTick@{lastModeTick}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{lastModeTick}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} {\bf lastModeTick}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_a7982ed5ce2b7a3c40fb9c593629cdaa0}
\hypertarget{classAlphaISA_1_1Kernel_1_1Statistics_ac056a7cd50c440e44bd19d36c746b635}{
\index{AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}!themode@{themode}}
\index{themode@{themode}!AlphaISA::Kernel::Statistics@{AlphaISA::Kernel::Statistics}}
\subsubsection[{themode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf cpu\_\-mode} {\bf themode}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classAlphaISA_1_1Kernel_1_1Statistics_ac056a7cd50c440e44bd19d36c746b635}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
arch/alpha/\hyperlink{arch_2alpha_2kernel__stats_8hh}{kernel\_\-stats.hh}\item 
arch/alpha/\hyperlink{arch_2alpha_2kernel__stats_8cc}{kernel\_\-stats.cc}\end{DoxyCompactItemize}
