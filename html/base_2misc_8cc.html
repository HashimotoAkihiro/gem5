<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: base/misc.cc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li><a href="annotated.html"><span>クラス</span></a></li>
      <li class="current"><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>ファイル一覧</span></a></li>
      <li><a href="globals.html"><span>ファイルメンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>base/misc.cc</h1><code>#include &lt;cstdlib&gt;</code><br/>
<code>#include &lt;iostream&gt;</code><br/>
<code>#include &lt;string&gt;</code><br/>
<code>#include &quot;<a class="el" href="cprintf_8hh_source.html">base/cprintf.hh</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="hostinfo_8hh_source.html">base/hostinfo.hh</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="base_2misc_8hh_source.html">base/misc.hh</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="output_8hh_source.html">base/output.hh</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="trace_8hh_source.html">base/trace.hh</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="base_2types_8hh_source.html">base/types.hh</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="varargs_8hh_source.html">base/varargs.hh</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="core_8hh_source.html">sim/core.hh</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>関数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_2misc_8cc.html#adf5299ed6527b5a117cd9780b5bd330b">__exit_message</a> (const char *prefix, int code, const char *func, const char *file, int line, const char *fmt, CPRINTF_DEFINITION)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_2misc_8cc.html#aa4255023ee22fd4c9e7c1d0a807e255f">__base_message</a> (std::ostream &amp;stream, const char *prefix, bool verbose, const char *func, const char *file, int line, const char *fmt, CPRINTF_DEFINITION)</td></tr>
<tr><td colspan="2"><h2>変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_2misc_8cc.html#a77f6725c0d2349664643937fe56cafc0">want_warn</a> = true</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_2misc_8cc.html#a3e07912efc18048822c757ea8a863933">want_info</a> = true</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_2misc_8cc.html#a09cfe40e5e0aa49eac5976147c13d7ee">want_hack</a> = true</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_2misc_8cc.html#a6f7c2d176c7f3c537e9df30c83001331">warn_verbose</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_2misc_8cc.html#a48b5c3c232bf262ed496dd11b6a1a5bc">info_verbose</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="base_2misc_8cc.html#a32fbfb9e755cc9af4492f027968de5a0">hack_verbose</a> = false</td></tr>
</table>
<hr/><h2>関数</h2>
<a class="anchor" id="aa4255023ee22fd4c9e7c1d0a807e255f"></a><!-- doxytag: member="misc.cc::__base_message" ref="aa4255023ee22fd4c9e7c1d0a807e255f" args="(std::ostream &amp;stream, const char *prefix, bool verbose, const char *func, const char *file, int line, const char *fmt, CPRINTF_DEFINITION)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __base_message </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>verbose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CPRINTF_DEFINITION&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00093"></a>00093 {
<a name="l00094"></a>00094     <a class="code" href="classVarArgs_1_1List.html">CPrintfArgsList</a> args(<a class="code" href="varargs_8hh.html#a77c8bd4f485f65e3fdfe6358e1126194">VARARGS_ALLARGS</a>);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096     <span class="keywordtype">string</span> <a class="code" href="namespaceArmISA.html#ab04e190a18572fc68be418c377d68918">format</a> = prefix;
<a name="l00097"></a>00097     format += <span class="stringliteral">&quot;: &quot;</span>;
<a name="l00098"></a>00098     format += fmt;
<a name="l00099"></a>00099     <span class="keywordflow">switch</span> (format[format.size() - 1]) {
<a name="l00100"></a>00100       <span class="keywordflow">case</span> <span class="charliteral">&apos;\n&apos;</span>:
<a name="l00101"></a>00101       <span class="keywordflow">case</span> <span class="charliteral">&apos;\r&apos;</span>:
<a name="l00102"></a>00102         <span class="keywordflow">break</span>;
<a name="l00103"></a>00103       <span class="keywordflow">default</span>:
<a name="l00104"></a>00104         format += <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00105"></a>00105     }
<a name="l00106"></a>00106 
<a name="l00107"></a>00107     <span class="keywordflow">if</span> (verbose) {
<a name="l00108"></a>00108         format += <span class="stringliteral">&quot; @ cycle %d\n[%s:%s, line %d]\n&quot;</span>;
<a name="l00109"></a>00109         args.push_back(<a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>());
<a name="l00110"></a>00110         args.push_back(func);
<a name="l00111"></a>00111         args.push_back(file);
<a name="l00112"></a>00112         args.push_back(line);
<a name="l00113"></a>00113     }
<a name="l00114"></a>00114 
<a name="l00115"></a>00115     <a class="code" href="cprintf_8hh.html#ab172c0b086575bda3d04daee7df17da1">ccprintf</a>(stream, format.c_str(), args);
<a name="l00116"></a>00116 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adf5299ed6527b5a117cd9780b5bd330b"></a><!-- doxytag: member="misc.cc::__exit_message" ref="adf5299ed6527b5a117cd9780b5bd330b" args="(const char *prefix, int code, const char *func, const char *file, int line, const char *fmt, CPRINTF_DEFINITION)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __exit_message </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CPRINTF_DEFINITION&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00058"></a>00058 {
<a name="l00059"></a>00059     <a class="code" href="classVarArgs_1_1List.html">CPrintfArgsList</a> args(<a class="code" href="varargs_8hh.html#a77c8bd4f485f65e3fdfe6358e1126194">VARARGS_ALLARGS</a>);
<a name="l00060"></a>00060 
<a name="l00061"></a>00061     <span class="keywordtype">string</span> <a class="code" href="namespaceArmISA.html#ab04e190a18572fc68be418c377d68918">format</a> = prefix;
<a name="l00062"></a>00062     format += <span class="stringliteral">&quot;: &quot;</span>;
<a name="l00063"></a>00063     format += fmt;
<a name="l00064"></a>00064     <span class="keywordflow">switch</span> (format[format.size() - 1]) {
<a name="l00065"></a>00065       <span class="keywordflow">case</span> <span class="charliteral">&apos;\n&apos;</span>:
<a name="l00066"></a>00066       <span class="keywordflow">case</span> <span class="charliteral">&apos;\r&apos;</span>:
<a name="l00067"></a>00067         <span class="keywordflow">break</span>;
<a name="l00068"></a>00068       <span class="keywordflow">default</span>:
<a name="l00069"></a>00069         format += <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00070"></a>00070     }
<a name="l00071"></a>00071 
<a name="l00072"></a>00072     format += <span class="stringliteral">&quot; @ tick %d\n[%s:%s, line %d]\n&quot;</span>;
<a name="l00073"></a>00073     format += <span class="stringliteral">&quot;Memory Usage: %ld KBytes\n&quot;</span>;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075     args.push_back(<a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>());
<a name="l00076"></a>00076     args.push_back(func);
<a name="l00077"></a>00077     args.push_back(file);
<a name="l00078"></a>00078     args.push_back(line);
<a name="l00079"></a>00079     args.push_back(<a class="code" href="hostinfo_8cc.html#af25c7a8864229307a3f0523a45328c9b">memUsage</a>());
<a name="l00080"></a>00080 
<a name="l00081"></a>00081     <a class="code" href="cprintf_8hh.html#ab172c0b086575bda3d04daee7df17da1">ccprintf</a>(cerr, format.c_str(), args);
<a name="l00082"></a>00082 
<a name="l00083"></a>00083     <span class="keywordflow">if</span> (code &lt; 0)
<a name="l00084"></a>00084         abort();
<a name="l00085"></a>00085     <span class="keywordflow">else</span>
<a name="l00086"></a>00086         <a class="code" href="namespaceX86ISA.html#aab9b5a2e1cd2f24d08a9872895ded9c9">exit</a>(code);
<a name="l00087"></a>00087 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a32fbfb9e755cc9af4492f027968de5a0"></a><!-- doxytag: member="misc.cc::hack_verbose" ref="a32fbfb9e755cc9af4492f027968de5a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="base_2misc_8hh.html#a32fbfb9e755cc9af4492f027968de5a0">hack_verbose</a> = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a48b5c3c232bf262ed496dd11b6a1a5bc"></a><!-- doxytag: member="misc.cc::info_verbose" ref="a48b5c3c232bf262ed496dd11b6a1a5bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="base_2misc_8hh.html#a48b5c3c232bf262ed496dd11b6a1a5bc">info_verbose</a> = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a09cfe40e5e0aa49eac5976147c13d7ee"></a><!-- doxytag: member="misc.cc::want_hack" ref="a09cfe40e5e0aa49eac5976147c13d7ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="base_2misc_8hh.html#a09cfe40e5e0aa49eac5976147c13d7ee">want_hack</a> = true</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3e07912efc18048822c757ea8a863933"></a><!-- doxytag: member="misc.cc::want_info" ref="a3e07912efc18048822c757ea8a863933" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="base_2misc_8hh.html#a3e07912efc18048822c757ea8a863933">want_info</a> = true</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a77f6725c0d2349664643937fe56cafc0"></a><!-- doxytag: member="misc.cc::want_warn" ref="a77f6725c0d2349664643937fe56cafc0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="base_2misc_8hh.html#a77f6725c0d2349664643937fe56cafc0">want_warn</a> = true</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6f7c2d176c7f3c537e9df30c83001331"></a><!-- doxytag: member="misc.cc::warn_verbose" ref="a6f7c2d176c7f3c537e9df30c83001331" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="base_2misc_8hh.html#a6f7c2d176c7f3c537e9df30c83001331">warn_verbose</a> = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
