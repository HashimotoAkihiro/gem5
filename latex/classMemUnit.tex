\hypertarget{classMemUnit}{
\section{クラス MemUnit}
\label{classMemUnit}\index{MemUnit@{MemUnit}}
}


{\ttfamily \#include $<$MemUnit.hh$>$}\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classMemUnit_a91d4011a8e9d06c93676d9d208a70b62}{MemModel} \{ \hyperlink{classMemUnit_a91d4011a8e9d06c93676d9d208a70b62abab57b6e2c553e4d983f415a1f4ea75b}{NO\_\-MODEL} =  0, 
\hyperlink{classMemUnit_a91d4011a8e9d06c93676d9d208a70b62ad3379d0af95e2e9dcbcfdb016d1cf9b3}{NORMAL\_\-MEM}
 \}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMemUnit_af6352207cf5ddd935911e4c95b79b0d5}{MemUnit} (const string \&mem\_\-model\_\-str\_\-, const \hyperlink{classSRAM}{SRAM} $\ast$sram\_\-ptr\_\-, const \hyperlink{classTechParameter}{TechParameter} $\ast$tech\_\-param\_\-ptr\_\-)
\item 
\hyperlink{classMemUnit_a7fd2ab7379a545c1aceed773db138327}{$\sim$MemUnit} ()
\item 
double \hyperlink{classMemUnit_a9872d2437aa4caa945007936b10becb1}{get\_\-e\_\-switch} () const 
\item 
double \hyperlink{classMemUnit_af4ce13e52cccc034f4f0bb0f0a6c9468}{get\_\-i\_\-static} () const 
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classMemUnit_a02fd73d861ef2e4aabb38c0c9ff82947}{init} ()
\item 
double \hyperlink{classMemUnit_a37b41e9867b9efca4ea14b3067d1af47}{calc\_\-mem\_\-cap} ()
\item 
double \hyperlink{classMemUnit_a0027807356ac4ca07fe2e593234eb884}{calc\_\-i\_\-static} ()
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMemUnit_a91d4011a8e9d06c93676d9d208a70b62}{MemModel} \hyperlink{classMemUnit_ab0ab3d5054315ae2b4774def19e49725}{m\_\-mem\_\-model}
\item 
const \hyperlink{classSRAM}{SRAM} $\ast$ \hyperlink{classMemUnit_aab5dce4213ab482c5e1909bfc96d62af}{m\_\-sram\_\-ptr}
\item 
const \hyperlink{classTechParameter}{TechParameter} $\ast$ \hyperlink{classMemUnit_a11d1644aa2bfe0e16783dface6fadf13}{m\_\-tech\_\-param\_\-ptr}
\item 
double \hyperlink{classMemUnit_a7ce8ef1ca298dcacf23bf88066e5eb5d}{m\_\-e\_\-switch}
\item 
double \hyperlink{classMemUnit_a16f0c9e5942378eab4d83da3c61aba7f}{m\_\-i\_\-static}
\end{DoxyCompactItemize}


\subsection{列挙型}
\hypertarget{classMemUnit_a91d4011a8e9d06c93676d9d208a70b62}{
\index{MemUnit@{MemUnit}!MemModel@{MemModel}}
\index{MemModel@{MemModel}!MemUnit@{MemUnit}}
\subsubsection[{MemModel}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf MemModel}}}
\label{classMemUnit_a91d4011a8e9d06c93676d9d208a70b62}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{NO\_\-MODEL@{NO\_\-MODEL}!MemUnit@{MemUnit}}\index{MemUnit@{MemUnit}!NO\_\-MODEL@{NO\_\-MODEL}}\item[{\em 
\hypertarget{classMemUnit_a91d4011a8e9d06c93676d9d208a70b62abab57b6e2c553e4d983f415a1f4ea75b}{
NO\_\-MODEL}
\label{classMemUnit_a91d4011a8e9d06c93676d9d208a70b62abab57b6e2c553e4d983f415a1f4ea75b}
}]\index{NORMAL\_\-MEM@{NORMAL\_\-MEM}!MemUnit@{MemUnit}}\index{MemUnit@{MemUnit}!NORMAL\_\-MEM@{NORMAL\_\-MEM}}\item[{\em 
\hypertarget{classMemUnit_a91d4011a8e9d06c93676d9d208a70b62ad3379d0af95e2e9dcbcfdb016d1cf9b3}{
NORMAL\_\-MEM}
\label{classMemUnit_a91d4011a8e9d06c93676d9d208a70b62ad3379d0af95e2e9dcbcfdb016d1cf9b3}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
48     {
49       NO_MODEL = 0,
50       NORMAL_MEM
51     };
\end{DoxyCode}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classMemUnit_af6352207cf5ddd935911e4c95b79b0d5}{
\index{MemUnit@{MemUnit}!MemUnit@{MemUnit}}
\index{MemUnit@{MemUnit}!MemUnit@{MemUnit}}
\subsubsection[{MemUnit}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MemUnit} (const string \& {\em mem\_\-model\_\-str\_\-}, \/  const {\bf SRAM} $\ast$ {\em sram\_\-ptr\_\-}, \/  const {\bf TechParameter} $\ast$ {\em tech\_\-param\_\-ptr\_\-})}}
\label{classMemUnit_af6352207cf5ddd935911e4c95b79b0d5}



\begin{DoxyCode}
49 {
50     if (mem_model_str_.compare("NORMAL_MEM") == 0)
51     {
52         m_mem_model = NORMAL_MEM;
53     }
54     else 
55     {
56         m_mem_model = NO_MODEL;
57     }
58 
59     if (m_mem_model != NO_MODEL)
60     {
61         m_sram_ptr = sram_ptr_;
62         m_tech_param_ptr = tech_param_ptr_;
63 
64         init();
65     }
66 }
\end{DoxyCode}
\hypertarget{classMemUnit_a7fd2ab7379a545c1aceed773db138327}{
\index{MemUnit@{MemUnit}!$\sim$MemUnit@{$\sim$MemUnit}}
\index{$\sim$MemUnit@{$\sim$MemUnit}!MemUnit@{MemUnit}}
\subsubsection[{$\sim$MemUnit}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf MemUnit} ()}}
\label{classMemUnit_a7fd2ab7379a545c1aceed773db138327}



\begin{DoxyCode}
69 {}
\end{DoxyCode}


\subsection{関数}
\hypertarget{classMemUnit_a0027807356ac4ca07fe2e593234eb884}{
\index{MemUnit@{MemUnit}!calc\_\-i\_\-static@{calc\_\-i\_\-static}}
\index{calc\_\-i\_\-static@{calc\_\-i\_\-static}!MemUnit@{MemUnit}}
\subsubsection[{calc\_\-i\_\-static}]{\setlength{\rightskip}{0pt plus 5cm}double calc\_\-i\_\-static ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMemUnit_a0027807356ac4ca07fe2e593234eb884}



\begin{DoxyCode}
110 {
111     double Wmemcella = m_tech_param_ptr->get_Wmemcella();
112     double Wmemcellbscale = m_tech_param_ptr->get_Wmemcellbscale();
113     double Wmemcellr = m_tech_param_ptr->get_Wmemcellr();
114     double Wmemcellw = m_tech_param_ptr->get_Wmemcellw();
115     uint32_t num_data_end = m_sram_ptr->get_num_data_end();
116     uint32_t num_read_port = m_sram_ptr->get_num_read_port();
117     uint32_t num_write_port = m_sram_ptr->get_num_write_port();
118 
119     const TechParameter* tp = m_tech_param_ptr;
120 
121     double ret = 0;
122     // memory cell
123     //FIXME - why
124     ret += (Wmemcella*tp->get_NMOS_TAB(0) + Wmemcella*Wmemcellbscale*tp->
      get_PMOS_TAB(0))*2;
125     // read port pass tx
126     ret += (Wmemcellr*tp->get_NMOS_TAB(0)*num_data_end*num_read_port);
127     // write port pass tx
128     ret += (Wmemcellw*tp->get_NMOS_TAB(0)*2*num_write_port);
129 
130     return ret;
131 }
\end{DoxyCode}
\hypertarget{classMemUnit_a37b41e9867b9efca4ea14b3067d1af47}{
\index{MemUnit@{MemUnit}!calc\_\-mem\_\-cap@{calc\_\-mem\_\-cap}}
\index{calc\_\-mem\_\-cap@{calc\_\-mem\_\-cap}!MemUnit@{MemUnit}}
\subsubsection[{calc\_\-mem\_\-cap}]{\setlength{\rightskip}{0pt plus 5cm}double calc\_\-mem\_\-cap ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMemUnit_a37b41e9867b9efca4ea14b3067d1af47}



\begin{DoxyCode}
81 {
82     double Wmemcella = m_tech_param_ptr->get_Wmemcella();
83     double Wmemcellbscale = m_tech_param_ptr->get_Wmemcellbscale();
84     double Wmemcellr = m_tech_param_ptr->get_Wmemcellr();
85     double Wmemcellw = m_tech_param_ptr->get_Wmemcellw();
86     uint32_t num_data_end = m_sram_ptr->get_num_data_end();
87     uint32_t num_read_port = m_sram_ptr->get_num_read_port();
88     uint32_t num_write_port = m_sram_ptr->get_num_write_port();
89 
90     const TechParameter* tp = m_tech_param_ptr;
91 
92     double total_cap = 0;
93     // part 1: drain capacitance of pass transistors
94     total_cap += tp->calc_draincap(Wmemcellr, TechParameter::NCH, 1)*num_read_por
      t*num_data_end/2.0;
95     total_cap += tp->calc_draincap(Wmemcellw, TechParameter::NCH, 1)*num_write_po
      rt;
96 
97     // has coefficient (1/2 * 2)
98     // part 2: drain capacitance of memory cell
99     total_cap += tp->calc_draincap(Wmemcella, TechParameter::NCH, 1) + tp->
      calc_draincap(Wmemcella*Wmemcellbscale, TechParameter::PCH, 1
100             );
101 
102     // has coefficient (1/2 * 2)
103     // part 3: gate capacitance of memory cell
104     total_cap += tp->calc_gatecap(Wmemcella, 1) + tp->calc_gatecap(Wmemcella*Wmem
      cellbscale, 1);
105 
106     return total_cap;
107 }
\end{DoxyCode}
\hypertarget{classMemUnit_a9872d2437aa4caa945007936b10becb1}{
\index{MemUnit@{MemUnit}!get\_\-e\_\-switch@{get\_\-e\_\-switch}}
\index{get\_\-e\_\-switch@{get\_\-e\_\-switch}!MemUnit@{MemUnit}}
\subsubsection[{get\_\-e\_\-switch}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-e\_\-switch () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMemUnit_a9872d2437aa4caa945007936b10becb1}



\begin{DoxyCode}
62 { return m_e_switch; }
\end{DoxyCode}
\hypertarget{classMemUnit_af4ce13e52cccc034f4f0bb0f0a6c9468}{
\index{MemUnit@{MemUnit}!get\_\-i\_\-static@{get\_\-i\_\-static}}
\index{get\_\-i\_\-static@{get\_\-i\_\-static}!MemUnit@{MemUnit}}
\subsubsection[{get\_\-i\_\-static}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-i\_\-static () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMemUnit_af4ce13e52cccc034f4f0bb0f0a6c9468}



\begin{DoxyCode}
63 { return m_i_static; }
\end{DoxyCode}
\hypertarget{classMemUnit_a02fd73d861ef2e4aabb38c0c9ff82947}{
\index{MemUnit@{MemUnit}!init@{init}}
\index{init@{init}!MemUnit@{MemUnit}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void init ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMemUnit_a02fd73d861ef2e4aabb38c0c9ff82947}



\begin{DoxyCode}
72 {
73     double e_factor = m_tech_param_ptr->get_EnergyFactor();
74 
75     m_e_switch = calc_mem_cap() * e_factor;
76 
77     m_i_static = calc_i_static();
78 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classMemUnit_a7ce8ef1ca298dcacf23bf88066e5eb5d}{
\index{MemUnit@{MemUnit}!m\_\-e\_\-switch@{m\_\-e\_\-switch}}
\index{m\_\-e\_\-switch@{m\_\-e\_\-switch}!MemUnit@{MemUnit}}
\subsubsection[{m\_\-e\_\-switch}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-e\_\-switch}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMemUnit_a7ce8ef1ca298dcacf23bf88066e5eb5d}
\hypertarget{classMemUnit_a16f0c9e5942378eab4d83da3c61aba7f}{
\index{MemUnit@{MemUnit}!m\_\-i\_\-static@{m\_\-i\_\-static}}
\index{m\_\-i\_\-static@{m\_\-i\_\-static}!MemUnit@{MemUnit}}
\subsubsection[{m\_\-i\_\-static}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-i\_\-static}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMemUnit_a16f0c9e5942378eab4d83da3c61aba7f}
\hypertarget{classMemUnit_ab0ab3d5054315ae2b4774def19e49725}{
\index{MemUnit@{MemUnit}!m\_\-mem\_\-model@{m\_\-mem\_\-model}}
\index{m\_\-mem\_\-model@{m\_\-mem\_\-model}!MemUnit@{MemUnit}}
\subsubsection[{m\_\-mem\_\-model}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MemModel} {\bf m\_\-mem\_\-model}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMemUnit_ab0ab3d5054315ae2b4774def19e49725}
\hypertarget{classMemUnit_aab5dce4213ab482c5e1909bfc96d62af}{
\index{MemUnit@{MemUnit}!m\_\-sram\_\-ptr@{m\_\-sram\_\-ptr}}
\index{m\_\-sram\_\-ptr@{m\_\-sram\_\-ptr}!MemUnit@{MemUnit}}
\subsubsection[{m\_\-sram\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf SRAM}$\ast$ {\bf m\_\-sram\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMemUnit_aab5dce4213ab482c5e1909bfc96d62af}
\hypertarget{classMemUnit_a11d1644aa2bfe0e16783dface6fadf13}{
\index{MemUnit@{MemUnit}!m\_\-tech\_\-param\_\-ptr@{m\_\-tech\_\-param\_\-ptr}}
\index{m\_\-tech\_\-param\_\-ptr@{m\_\-tech\_\-param\_\-ptr}!MemUnit@{MemUnit}}
\subsubsection[{m\_\-tech\_\-param\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf TechParameter}$\ast$ {\bf m\_\-tech\_\-param\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMemUnit_a11d1644aa2bfe0e16783dface6fadf13}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/ruby/network/orion/Buffer/\hyperlink{MemUnit_8hh}{MemUnit.hh}\item 
mem/ruby/network/orion/Buffer/\hyperlink{MemUnit_8cc}{MemUnit.cc}\end{DoxyCompactItemize}
