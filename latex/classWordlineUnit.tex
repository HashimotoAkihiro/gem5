\hypertarget{classWordlineUnit}{
\section{クラス WordlineUnit}
\label{classWordlineUnit}\index{WordlineUnit@{WordlineUnit}}
}


{\ttfamily \#include $<$WordlineUnit.hh$>$}\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836}{WordlineModel} \{ \hyperlink{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836abab57b6e2c553e4d983f415a1f4ea75b}{NO\_\-MODEL} =  0, 
\hyperlink{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836a66fd52f2c4f2f5bd52672f30ad4931c9}{RW\_\-WORDLINE}, 
\hyperlink{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836ab0ae36a0f6ff4f9b8c3e536e3cfbdfdd}{WO\_\-WORDLINE}
 \}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classWordlineUnit_a007bc361162be134cfe2984058f3acef}{WordlineUnit} (const string \&wl\_\-model\_\-str\_\-, const \hyperlink{classSRAM}{SRAM} $\ast$sram\_\-ptr\_\-, const \hyperlink{classTechParameter}{TechParameter} $\ast$tech\_\-param\_\-ptr\_\-)
\item 
\hyperlink{classWordlineUnit_a5044aff9e5837c5a7e9f6381ddaefe2e}{$\sim$WordlineUnit} ()
\item 
double \hyperlink{classWordlineUnit_ad2c407e628a0ef8df4eb995cf98a024f}{get\_\-e\_\-read} () const 
\item 
double \hyperlink{classWordlineUnit_aa57a22237e96a10db0f785555cb5bb3c}{get\_\-e\_\-write} () const 
\item 
double \hyperlink{classWordlineUnit_af4ce13e52cccc034f4f0bb0f0a6c9468}{get\_\-i\_\-static} () const 
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classWordlineUnit_a02fd73d861ef2e4aabb38c0c9ff82947}{init} ()
\item 
double \hyperlink{classWordlineUnit_ab84b49850d493b5151c5fc24bcd5826b}{calc\_\-wordline\_\-cap} (\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} num\_\-mos\_\-, double mos\_\-width\_\-) const 
\item 
double \hyperlink{classWordlineUnit_a0027807356ac4ca07fe2e593234eb884}{calc\_\-i\_\-static} ()
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836}{WordlineModel} \hyperlink{classWordlineUnit_a0641127826ee8c6f7635f4f7997d94c3}{m\_\-wl\_\-model}
\item 
const \hyperlink{classSRAM}{SRAM} $\ast$ \hyperlink{classWordlineUnit_aab5dce4213ab482c5e1909bfc96d62af}{m\_\-sram\_\-ptr}
\item 
const \hyperlink{classTechParameter}{TechParameter} $\ast$ \hyperlink{classWordlineUnit_a11d1644aa2bfe0e16783dface6fadf13}{m\_\-tech\_\-param\_\-ptr}
\item 
double \hyperlink{classWordlineUnit_af094edaeaf3975456c048ce02fa9585c}{m\_\-wl\_\-len}
\item 
double \hyperlink{classWordlineUnit_a156bb193afe5dc1b16642b7a42e3fc0f}{m\_\-wl\_\-wire\_\-cap}
\item 
double \hyperlink{classWordlineUnit_ac5ebde428aa2e75cb69d6d7b46d2a0ce}{m\_\-e\_\-read}
\item 
double \hyperlink{classWordlineUnit_a97e65df35d77a13b68d869219c2a58b1}{m\_\-e\_\-write}
\item 
double \hyperlink{classWordlineUnit_a16f0c9e5942378eab4d83da3c61aba7f}{m\_\-i\_\-static}
\end{DoxyCompactItemize}


\subsection{列挙型}
\hypertarget{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836}{
\index{WordlineUnit@{WordlineUnit}!WordlineModel@{WordlineModel}}
\index{WordlineModel@{WordlineModel}!WordlineUnit@{WordlineUnit}}
\subsubsection[{WordlineModel}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf WordlineModel}}}
\label{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{NO\_\-MODEL@{NO\_\-MODEL}!WordlineUnit@{WordlineUnit}}\index{WordlineUnit@{WordlineUnit}!NO\_\-MODEL@{NO\_\-MODEL}}\item[{\em 
\hypertarget{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836abab57b6e2c553e4d983f415a1f4ea75b}{
NO\_\-MODEL}
\label{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836abab57b6e2c553e4d983f415a1f4ea75b}
}]\index{RW\_\-WORDLINE@{RW\_\-WORDLINE}!WordlineUnit@{WordlineUnit}}\index{WordlineUnit@{WordlineUnit}!RW\_\-WORDLINE@{RW\_\-WORDLINE}}\item[{\em 
\hypertarget{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836a66fd52f2c4f2f5bd52672f30ad4931c9}{
RW\_\-WORDLINE}
\label{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836a66fd52f2c4f2f5bd52672f30ad4931c9}
}]\index{WO\_\-WORDLINE@{WO\_\-WORDLINE}!WordlineUnit@{WordlineUnit}}\index{WordlineUnit@{WordlineUnit}!WO\_\-WORDLINE@{WO\_\-WORDLINE}}\item[{\em 
\hypertarget{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836ab0ae36a0f6ff4f9b8c3e536e3cfbdfdd}{
WO\_\-WORDLINE}
\label{classWordlineUnit_a986b9436bb01df2bc9d725db0935e836ab0ae36a0f6ff4f9b8c3e536e3cfbdfdd}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
48     {
49       NO_MODEL = 0,
50       RW_WORDLINE,
51       WO_WORDLINE
52     };
\end{DoxyCode}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classWordlineUnit_a007bc361162be134cfe2984058f3acef}{
\index{WordlineUnit@{WordlineUnit}!WordlineUnit@{WordlineUnit}}
\index{WordlineUnit@{WordlineUnit}!WordlineUnit@{WordlineUnit}}
\subsubsection[{WordlineUnit}]{\setlength{\rightskip}{0pt plus 5cm}{\bf WordlineUnit} (const string \& {\em wl\_\-model\_\-str\_\-}, \/  const {\bf SRAM} $\ast$ {\em sram\_\-ptr\_\-}, \/  const {\bf TechParameter} $\ast$ {\em tech\_\-param\_\-ptr\_\-})}}
\label{classWordlineUnit_a007bc361162be134cfe2984058f3acef}



\begin{DoxyCode}
46 {
47     if (wl_model_str_ == string("RW_WORDLINE"))
48     {
49         m_wl_model = RW_WORDLINE;
50     }
51     else if (wl_model_str_ == string("WO_WORDLINE"))
52     {
53         m_wl_model = WO_WORDLINE;
54     }
55     else 
56     {
57         m_wl_model = NO_MODEL;
58     }
59 
60     if (m_wl_model != NO_MODEL)
61     {
62         m_sram_ptr = sram_ptr_;
63         m_tech_param_ptr = tech_param_ptr_;
64 
65         init();
66     }
67 }
\end{DoxyCode}
\hypertarget{classWordlineUnit_a5044aff9e5837c5a7e9f6381ddaefe2e}{
\index{WordlineUnit@{WordlineUnit}!$\sim$WordlineUnit@{$\sim$WordlineUnit}}
\index{$\sim$WordlineUnit@{$\sim$WordlineUnit}!WordlineUnit@{WordlineUnit}}
\subsubsection[{$\sim$WordlineUnit}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf WordlineUnit} ()}}
\label{classWordlineUnit_a5044aff9e5837c5a7e9f6381ddaefe2e}



\begin{DoxyCode}
70 {}
\end{DoxyCode}


\subsection{関数}
\hypertarget{classWordlineUnit_a0027807356ac4ca07fe2e593234eb884}{
\index{WordlineUnit@{WordlineUnit}!calc\_\-i\_\-static@{calc\_\-i\_\-static}}
\index{calc\_\-i\_\-static@{calc\_\-i\_\-static}!WordlineUnit@{WordlineUnit}}
\subsubsection[{calc\_\-i\_\-static}]{\setlength{\rightskip}{0pt plus 5cm}double calc\_\-i\_\-static ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classWordlineUnit_a0027807356ac4ca07fe2e593234eb884}
\hypertarget{classWordlineUnit_ab84b49850d493b5151c5fc24bcd5826b}{
\index{WordlineUnit@{WordlineUnit}!calc\_\-wordline\_\-cap@{calc\_\-wordline\_\-cap}}
\index{calc\_\-wordline\_\-cap@{calc\_\-wordline\_\-cap}!WordlineUnit@{WordlineUnit}}
\subsubsection[{calc\_\-wordline\_\-cap}]{\setlength{\rightskip}{0pt plus 5cm}double calc\_\-wordline\_\-cap ({\bf uint32\_\-t} {\em num\_\-mos\_\-}, \/  double {\em mos\_\-width\_\-}) const\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classWordlineUnit_ab84b49850d493b5151c5fc24bcd5826b}



\begin{DoxyCode}
131 {
132     double total_cap;
133 
134     // part 1: line cap, including gate cap of pass tx's and metal cap
135     double BitWidth = m_tech_param_ptr->get_BitWidth();
136     total_cap = m_tech_param_ptr->calc_gatecappass(mos_width_, BitWidth/2.0-mos_w
      idth_)*num_mos_ + m_wl_wire_cap;
137 
138     // part 2: input driver
139     double period = m_tech_param_ptr->get_period();
140     double psize, nsize;
141     psize = m_tech_param_ptr->calc_driver_psize(total_cap, period/16.0);
142     double Wdecinvn = m_tech_param_ptr->get_Wdecinvn();
143     double Wdecinvp = m_tech_param_ptr->get_Wdecinvp();
144     nsize = psize*Wdecinvn/Wdecinvp;
145 
146     // WHS: 20 should go to PARM
147     total_cap += m_tech_param_ptr->calc_draincap(nsize, TechParameter::NCH, 1) + 
      m_tech_param_ptr->calc_draincap(psize, TechParameter::PCH, 1) + m_tech_param_ptr-
      >calc_gatecap(psize+nsize, 20);
148 
149     return total_cap;
150 }
\end{DoxyCode}
\hypertarget{classWordlineUnit_ad2c407e628a0ef8df4eb995cf98a024f}{
\index{WordlineUnit@{WordlineUnit}!get\_\-e\_\-read@{get\_\-e\_\-read}}
\index{get\_\-e\_\-read@{get\_\-e\_\-read}!WordlineUnit@{WordlineUnit}}
\subsubsection[{get\_\-e\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-e\_\-read () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classWordlineUnit_ad2c407e628a0ef8df4eb995cf98a024f}



\begin{DoxyCode}
63 { return m_e_read; }
\end{DoxyCode}
\hypertarget{classWordlineUnit_aa57a22237e96a10db0f785555cb5bb3c}{
\index{WordlineUnit@{WordlineUnit}!get\_\-e\_\-write@{get\_\-e\_\-write}}
\index{get\_\-e\_\-write@{get\_\-e\_\-write}!WordlineUnit@{WordlineUnit}}
\subsubsection[{get\_\-e\_\-write}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-e\_\-write () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classWordlineUnit_aa57a22237e96a10db0f785555cb5bb3c}



\begin{DoxyCode}
64 { return m_e_write; }
\end{DoxyCode}
\hypertarget{classWordlineUnit_af4ce13e52cccc034f4f0bb0f0a6c9468}{
\index{WordlineUnit@{WordlineUnit}!get\_\-i\_\-static@{get\_\-i\_\-static}}
\index{get\_\-i\_\-static@{get\_\-i\_\-static}!WordlineUnit@{WordlineUnit}}
\subsubsection[{get\_\-i\_\-static}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-i\_\-static () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classWordlineUnit_af4ce13e52cccc034f4f0bb0f0a6c9468}



\begin{DoxyCode}
65 { return m_i_static; }
\end{DoxyCode}
\hypertarget{classWordlineUnit_a02fd73d861ef2e4aabb38c0c9ff82947}{
\index{WordlineUnit@{WordlineUnit}!init@{init}}
\index{init@{init}!WordlineUnit@{WordlineUnit}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void init ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classWordlineUnit_a02fd73d861ef2e4aabb38c0c9ff82947}



\begin{DoxyCode}
73 {
74     uint32_t num_port = m_sram_ptr->get_num_port();
75     uint32_t num_read_port = m_sram_ptr->get_num_read_port();
76     uint32_t num_col = m_sram_ptr->get_num_col();
77     uint32_t num_data_end = m_sram_ptr->get_num_data_end();
78     double RegCellWidth = m_tech_param_ptr->get_RegCellWidth();
79     double BitlineSpacing = m_tech_param_ptr->get_BitlineSpacing();
80 
81     if (num_data_end == 2)
82     {
83         m_wl_len = num_col*(RegCellWidth + 2*num_port*BitlineSpacing);
84     }
85     else
86     {
87         m_wl_len = num_col*(RegCellWidth + (2*num_port-num_read_port)*BitlineSpac
      ing);
88     }
89 
90     double wl_cmetal;
91     if (num_port > 1)
92     {
93         wl_cmetal = m_tech_param_ptr->get_CC3M3metal();
94     }
95     else
96     {
97         wl_cmetal = m_tech_param_ptr->get_CM3metal();
98     }
99 
100     m_wl_wire_cap = m_wl_len*wl_cmetal;
101 
102     double e_factor = m_tech_param_ptr->get_EnergyFactor();
103     double Wmemcellr = m_tech_param_ptr->get_Wmemcellr();
104     double Wmemcellw = m_tech_param_ptr->get_Wmemcellw();
105     double Woutdrivern = m_tech_param_ptr->get_Woutdrivern();
106     double Woutdriverp = m_tech_param_ptr->get_Woutdriverp();
107     double NMOS_TAB_0 = m_tech_param_ptr->get_NMOS_TAB(0);
108     double PMOS_TAB_0 = m_tech_param_ptr->get_PMOS_TAB(0);
109     switch(m_wl_model)
110     {
111         case RW_WORDLINE:
112             m_e_read = calc_wordline_cap(num_col*num_data_end, Wmemcellr) * e_fac
      tor;
113             m_e_write = calc_wordline_cap(num_col*2, Wmemcellw) * e_factor;
114             m_i_static = (Woutdrivern*NMOS_TAB_0 + Woutdriverp*PMOS_TAB_0);
115             break;
116         case WO_WORDLINE:
117             m_e_read = 0;
118             m_e_write = calc_wordline_cap(num_col*2, Wmemcellw)*e_factor;
119             m_i_static = 0;
120             break;
121         default:
122             fatal("Incorrect Wordline model.\n");
123     }
124     return;
125 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classWordlineUnit_ac5ebde428aa2e75cb69d6d7b46d2a0ce}{
\index{WordlineUnit@{WordlineUnit}!m\_\-e\_\-read@{m\_\-e\_\-read}}
\index{m\_\-e\_\-read@{m\_\-e\_\-read}!WordlineUnit@{WordlineUnit}}
\subsubsection[{m\_\-e\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-e\_\-read}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classWordlineUnit_ac5ebde428aa2e75cb69d6d7b46d2a0ce}
\hypertarget{classWordlineUnit_a97e65df35d77a13b68d869219c2a58b1}{
\index{WordlineUnit@{WordlineUnit}!m\_\-e\_\-write@{m\_\-e\_\-write}}
\index{m\_\-e\_\-write@{m\_\-e\_\-write}!WordlineUnit@{WordlineUnit}}
\subsubsection[{m\_\-e\_\-write}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-e\_\-write}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classWordlineUnit_a97e65df35d77a13b68d869219c2a58b1}
\hypertarget{classWordlineUnit_a16f0c9e5942378eab4d83da3c61aba7f}{
\index{WordlineUnit@{WordlineUnit}!m\_\-i\_\-static@{m\_\-i\_\-static}}
\index{m\_\-i\_\-static@{m\_\-i\_\-static}!WordlineUnit@{WordlineUnit}}
\subsubsection[{m\_\-i\_\-static}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-i\_\-static}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classWordlineUnit_a16f0c9e5942378eab4d83da3c61aba7f}
\hypertarget{classWordlineUnit_aab5dce4213ab482c5e1909bfc96d62af}{
\index{WordlineUnit@{WordlineUnit}!m\_\-sram\_\-ptr@{m\_\-sram\_\-ptr}}
\index{m\_\-sram\_\-ptr@{m\_\-sram\_\-ptr}!WordlineUnit@{WordlineUnit}}
\subsubsection[{m\_\-sram\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf SRAM}$\ast$ {\bf m\_\-sram\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classWordlineUnit_aab5dce4213ab482c5e1909bfc96d62af}
\hypertarget{classWordlineUnit_a11d1644aa2bfe0e16783dface6fadf13}{
\index{WordlineUnit@{WordlineUnit}!m\_\-tech\_\-param\_\-ptr@{m\_\-tech\_\-param\_\-ptr}}
\index{m\_\-tech\_\-param\_\-ptr@{m\_\-tech\_\-param\_\-ptr}!WordlineUnit@{WordlineUnit}}
\subsubsection[{m\_\-tech\_\-param\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf TechParameter}$\ast$ {\bf m\_\-tech\_\-param\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classWordlineUnit_a11d1644aa2bfe0e16783dface6fadf13}
\hypertarget{classWordlineUnit_af094edaeaf3975456c048ce02fa9585c}{
\index{WordlineUnit@{WordlineUnit}!m\_\-wl\_\-len@{m\_\-wl\_\-len}}
\index{m\_\-wl\_\-len@{m\_\-wl\_\-len}!WordlineUnit@{WordlineUnit}}
\subsubsection[{m\_\-wl\_\-len}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-wl\_\-len}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classWordlineUnit_af094edaeaf3975456c048ce02fa9585c}
\hypertarget{classWordlineUnit_a0641127826ee8c6f7635f4f7997d94c3}{
\index{WordlineUnit@{WordlineUnit}!m\_\-wl\_\-model@{m\_\-wl\_\-model}}
\index{m\_\-wl\_\-model@{m\_\-wl\_\-model}!WordlineUnit@{WordlineUnit}}
\subsubsection[{m\_\-wl\_\-model}]{\setlength{\rightskip}{0pt plus 5cm}{\bf WordlineModel} {\bf m\_\-wl\_\-model}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classWordlineUnit_a0641127826ee8c6f7635f4f7997d94c3}
\hypertarget{classWordlineUnit_a156bb193afe5dc1b16642b7a42e3fc0f}{
\index{WordlineUnit@{WordlineUnit}!m\_\-wl\_\-wire\_\-cap@{m\_\-wl\_\-wire\_\-cap}}
\index{m\_\-wl\_\-wire\_\-cap@{m\_\-wl\_\-wire\_\-cap}!WordlineUnit@{WordlineUnit}}
\subsubsection[{m\_\-wl\_\-wire\_\-cap}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-wl\_\-wire\_\-cap}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classWordlineUnit_a156bb193afe5dc1b16642b7a42e3fc0f}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/ruby/network/orion/Buffer/\hyperlink{WordlineUnit_8hh}{WordlineUnit.hh}\item 
mem/ruby/network/orion/Buffer/\hyperlink{WordlineUnit_8cc}{WordlineUnit.cc}\end{DoxyCompactItemize}
