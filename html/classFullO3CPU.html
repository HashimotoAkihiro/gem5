<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス テンプレート FullO3CPU&lt; Impl &gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス テンプレート FullO3CPU&lt; Impl &gt;</h1><!-- doxytag: class="FullO3CPU" --><!-- doxytag: inherits="BaseO3CPU" -->
<p><code>#include &lt;<a class="el" href="o3_2cpu_8hh_source.html">cpu.hh</a>&gt;</code></p>
<div class="dynheader">
FullO3CPU&lt; Impl &gt;に対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classFullO3CPU.gif" usemap="#FullO3CPU&lt; Impl &gt;_map" alt=""/>
  <map id="FullO3CPU&lt; Impl &gt;_map" name="FullO3CPU&lt; Impl &gt;_map">
<area href="classBaseO3CPU.html" alt="BaseO3CPU" shape="rect" coords="0,56,121,80"/>
<area href="classBaseCPU.html" alt="BaseCPU" shape="rect" coords="0,0,121,24"/>
</map>
 </div>
</div>

<p><a href="classFullO3CPU-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU_1_1ActivateThreadEvent.html">ActivateThreadEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU_1_1DcachePort.html">DcachePort</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU_1_1DeallocateContextEvent.html">DeallocateContextEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU_1_1IcachePort.html">IcachePort</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU_1_1TickEvent.html">TickEvent</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70b">Status</a> { <br/>
&nbsp;&nbsp;<a class="el" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a>, 
<a class="el" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70bad3fa9ae9431d6cb1772f9d9df48cab19">Idle</a>, 
<a class="el" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba185a75df63e845aec97632afd6a34d6a">Halted</a>, 
<a class="el" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba9463ee9b8700258a1019b4b9d2d77a30">Blocked</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba2c25b24188e2b53c8706769167a82779">SwitchedOut</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353d">StageIdx</a> { <br/>
&nbsp;&nbsp;<a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353da58acaf31e32cdcbea7664d3286a361f4">FetchIdx</a>, 
<a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353da103b4435764d4d2723ba580aa798e258">DecodeIdx</a>, 
<a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353daa1e6e6121c69679ec31ba66d1e1397a4">RenameIdx</a>, 
<a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353dae8242e5f6fe07d4611f47d1908eb01ad">IEWIdx</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353dab4e6ff6a24d7c325f21753fe2a827048">CommitIdx</a>, 
<a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353dad4d98708d468a3805751e2e5d21b0fea">NumStages</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::CPUPol&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a622513cd9a0b12a706b26c3320585f92">CPUPolicy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::DynInstPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Impl::O3CPU&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structO3ThreadState.html">O3ThreadState</a>&lt; Impl &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a19d73166363cbf2e4ed0ddec44afa8d4">ImplState</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structO3ThreadState.html">O3ThreadState</a>&lt; Impl &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ad5e0f9b655492f45720f8d756f11d3b5">Thread</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;<br class="typebreak"/>
::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPolicy::TimeStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aa6c328aeb664577b61817285d04f3631">TimeStruct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPolicy::FetchStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ae885ff43c757f445563029fd15cdf70c">FetchStruct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPolicy::DecodeStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ae7f8b193f518ed524a498ef7ab564902">DecodeStruct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPolicy::RenameStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a494521ebae1f8b01fe0ed16320494e6a">RenameStruct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef CPUPolicy::IEWStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a8ca44c33753253e21ca215123e8b5005">IEWStruct</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aa8d6265cca6a8e1449d64b99483b1ecc">FullO3CPU</a> (DerivO3CPUParams *params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a6788b6adc1e142f49c6776ba4c85d824">~FullO3CPU</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aa2dab17a363fd4307274d579796adcf7">regProbePoints</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a2d698ff909513b48a1263f8a5440e067">demapPage</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, uint64_t asn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ac8a36d45a839b07f50b73f1eee119615">demapInstPage</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, uint64_t asn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a26789603cc94992d18f8ddedfff96acf">demapDataPage</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, uint64_t asn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a873dd91783f9efb4a590aded1f70d6b0">tick</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aecc7d8debf54990ffeaaed5bac7d7d81">startup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a2cf759e627e96ea55f7b91a72d437652">numActiveThreads</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a687aa4600423bb30ecf3bb1da6cd6000">activateThread</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ad11d9216ad92d9036ebf37844cf6e706">deactivateThread</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#abf4dca4fa0a9358ec4ac26ccbf17233b">insertThread</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a5fd824111bd328c70c3060d121ac5d49">removeThread</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e">Counter</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a7e01d94bb5a6e15fa8c94bcdf276115d">totalInsts</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e">Counter</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a76fa5df6827aaa8fc26deebad97d9e78">totalOps</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aadedce642b14c1bde1b3281767df99d4">activateContext</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid, <a class="el" href="classCycles.html">Cycles</a> delay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aed2e2b9af515a66bdde61b85f150856a">suspendContext</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a64179a936408228ff1718afd541e230b">scheduleDeallocateContext</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid, bool remove, <a class="el" href="classCycles.html">Cycles</a> delay=<a class="el" href="classCycles.html">Cycles</a>(1))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ac2156e0955d5e1ef6e06cd0e2ab218e4">haltContext</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a47befc2af24481200005f0b9cffab093">activateWhenReady</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aa44d4f535cfaf67b335cab7e390a9257">doContextSwitch</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a00247488696e6ff608a2a44673578094">updateThreadPriority</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a8256d21571cb453f728d6b85e6fc6d15">isDraining</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a688ca491f5419c29fb81f8235ba1dc13">serializeThread</a> (std::ostream &amp;os, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a5122e6d6fdbdb3cb9ba72ae970f00a9e">unserializeThread</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a2d6a2bbae85e604392f43b3418cdec97">syscall</a> (int64_t callnum, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a4e932bfc8aa6dfb998b8496a0f04ace3">drain</a> (<a class="el" href="classDrainManager.html">DrainManager</a> *drain_manager)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a8f020d3237536fe007fc488c4125c5d8">drainResume</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a07a52466ac4d8d91cbfb73b9ceb42988">commitDrained</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a05f299b443f8cc73a93d61572edc0218">switchOut</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ac82d2b8d331b2e8e6854a95d2917dfa2">takeOverFrom</a> (<a class="el" href="classBaseCPU_1_1BaseCPU.html">BaseCPU</a> *oldCPU)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ae2e1ccebe596a180f8105d57f9a93645">verifyMemoryMode</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ace86a0dff0fe9648b7221e3a98fb4533">getAndIncrementInstSeq</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a23c9d89f64f4cfd6f48b106b99b119c4">trap</a> (<a class="el" href="classRefCountingPtr.html">Fault</a> fault, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid, <a class="el" href="classRefCountingPtr.html">StaticInstPtr</a> inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a3820de4f7e76b56c6d795f27bf49c097">hwrei</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a875eebdeba298f450fe84b0a05349afe">simPalCheck</a> (int palFunc, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aa2bbcc75bdfc0f2355cd06731e6f5d69">getInterrupts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ac3b13f31ae4a2de2b647e09c37a10822">processInterrupts</a> (<a class="el" href="classRefCountingPtr.html">Fault</a> interrupt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ade0430439247877006d7df950f94918a">halt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#af5f6a59bc2ed83b0cf9203ba8c63bf34">validInstAddr</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> addr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#afe01e4cef8897b8a4ff99d575875c9db">validDataAddr</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> addr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TheISA::MiscReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#adab97969b95d7b02e858364997dd7968">readMiscRegNoEffect</a> (int misc_reg, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TheISA::MiscReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ae9d0992c10f59b8dc47ea56b3a778c32">readMiscReg</a> (int misc_reg, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#acd6f1f298148bb7eebfa8c800c4066e2">setMiscRegNoEffect</a> (int misc_reg, const TheISA::MiscReg &amp;val, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a880c4c099ed7676fcbc9f76989e400b7">setMiscReg</a> (int misc_reg, const TheISA::MiscReg &amp;val, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a21c850cd41ab977a2cf3450fe66ec25a">readIntReg</a> (int reg_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TheISA::FloatReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a2f97d83baef4fbda00b7f7f62779752f">readFloatReg</a> (int reg_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TheISA::FloatRegBits&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a4998e6615f835676762af364eff198e3">readFloatRegBits</a> (int reg_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TheISA::CCReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ac3d147c535052bfb1f8e8fe0697168d7">readCCReg</a> (int reg_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#abc264e8ee37c6bd7d7b5759b97c34356">setIntReg</a> (int reg_idx, uint64_t val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ab4fbd29dd25664125eb83aa0d1c45a96">setFloatReg</a> (int reg_idx, TheISA::FloatReg val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ad25b1101e69d1987937252f44c48fb96">setFloatRegBits</a> (int reg_idx, TheISA::FloatRegBits val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ab41bd7f1c28d09676694843602e180b6">setCCReg</a> (int reg_idx, TheISA::CCReg val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a804e1580f078efbacee5689c6a922743">readArchIntReg</a> (int reg_idx, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#adaf99a897128e25170e65323b1a5e342">readArchFloatReg</a> (int reg_idx, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a60141decbd780846e6669adf59970db1">readArchFloatRegInt</a> (int reg_idx, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TheISA::CCReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a58ef256fe449eed12535745bd734f4ef">readArchCCReg</a> (int reg_idx, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a09df95cc1f92c9002cd7c0506e2ba864">setArchIntReg</a> (int reg_idx, uint64_t val, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ac527b87a643907df19ca5f4600200382">setArchFloatReg</a> (int reg_idx, float val, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a1295e65a7841d7e83a5f3a3c44770c8f">setArchFloatRegInt</a> (int reg_idx, uint64_t val, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aae7106b0574d000f60ebacc2f938fe62">setArchCCReg</a> (int reg_idx, TheISA::CCReg val, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a3b836956ac0c48ddf740167753bded14">pcState</a> (const TheISA::PCState &amp;newPCState, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TheISA::PCState&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#af486ac7476906f63fc6696b3e76a411b">pcState</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#afae6152cf4b3a51162d6e64247c1ac09">instAddr</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#adfb4d8b20c5abc8be73dd367b16f2d57">MicroPC</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aa295441afc0fa8f449dc1a0cb7c7b994">microPC</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#af1caba1f04cf2802d742d1a16b961e79">nextInstAddr</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ac4c7a18be5c282d711310ffb7b6f82f7">squashFromTC</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ac6e8e55d456fb0d761c64063087d298a">addInst</a> (<a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a4edfd60ed9beaf439e83cfda0ba130e7">instDone</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid, <a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a6f40adbce5903c52e6460ab8c17489ef">removeFrontInst</a> (<a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a37bf3e194e9e98e4e7366e35fb6ebf49">removeInstsNotInROB</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a79f7e36d4bd89fe4528b665a949a0023">removeInstsUntil</a> (const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;seq_num, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a2b698a48b0c233f49e2994bc28dc0bbf">squashInstIt</a> (const <a class="el" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> &amp;instIt, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a7bc351a2a79efb6dc9f88f8a6a2ed33c">cleanUpRemovedInsts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a80587b4fe043bbe1995536cb3b361588">dumpInsts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ad7e5c2506873e8dc8c71740ac6dabb23">activityThisCycle</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a631f1fd5f15efc2953529efa22868bcd">activateStage</a> (const <a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353d">StageIdx</a> idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a9ebbaf1718ed44d77051269c9734f6ae">deactivateStage</a> (const <a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353d">StageIdx</a> idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#abce3a63b123f84972e4df7962f9b870e">wakeCPU</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ae674290a26ecbd622c5160e38e8a4fe9">wakeup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a64117a0245250fc5be941e729bedcc03">getFreeTid</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#acaae0f849591d618f1c202e5ed29b4e4">tcBase</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a0bdeb74163a7a4d65b7773897ef8eb09">read</a> (<a class="el" href="classRequest.html">RequestPtr</a> &amp;req, <a class="el" href="classRequest.html">RequestPtr</a> &amp;sreqLow, <a class="el" href="classRequest.html">RequestPtr</a> &amp;sreqHigh, uint8_t *data, int load_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a43e0f9eec34726914d8eb76f5d884cc8">write</a> (<a class="el" href="classRequest.html">RequestPtr</a> &amp;req, <a class="el" href="classRequest.html">RequestPtr</a> &amp;sreqLow, <a class="el" href="classRequest.html">RequestPtr</a> &amp;sreqHigh, uint8_t *data, int store_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classMasterPort.html">MasterPort</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a40da530cb5dd380fd7fc0d786e94d5eb">getInstPort</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classMasterPort.html">MasterPort</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aeea6b55ae1c4be53c21dbee434b221d4">getDataPort</a> ()</td></tr>
<tr><td colspan="2"><h2>Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TheISA::TLB *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#abcb37ddc11515555d8484702697bc4bb">itb</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TheISA::TLB *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ad2fd039621f87592c4b344d4f8948e78">dtb</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">choose inline that I chose dtb,itb is Data and Instructino TLB.  <a href="#ad2fd039621f87592c4b344d4f8948e78"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70b">Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classProbePointArg.html">ProbePointArg</a>&lt; <a class="el" href="classPacket.html">PacketPtr</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aa39ae53643b00bc644caa5967b8a428a">ppInstAccessComplete</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classProbePointArg.html">ProbePointArg</a>&lt; <a class="el" href="classstd_1_1pair.html">std::pair</a><br class="typebreak"/>
&lt; <a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>, <a class="el" href="classPacket.html">PacketPtr</a> &gt; &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a4cbcb5b1a3968d3e5229656571604ba5">ppDataAccessComplete</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a19e374b98940ff65bd4d9d17f198738c">instcount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::queue&lt; <a class="el" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a574cb1bed7660bb2bb6940365f6a3315">removeList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a2825a91132fe292d64dca3c61fd07410">removeInstsThisCycle</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="structTimeStruct.html">TimeStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ad72b6568a4a40f54d071c31bef16bf2e">timeBuffer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classFullO3CPU.html#ae885ff43c757f445563029fd15cdf70c">FetchStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a0b4f1aa3830d6db3cb15a9a46c531cc2">fetchQueue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classFullO3CPU.html#ae7f8b193f518ed524a498ef7ab564902">DecodeStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a8c674fbc9b0625a2231b669aceb0dd73">decodeQueue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classFullO3CPU.html#a494521ebae1f8b01fe0ed16320494e6a">RenameStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ae590391fe7915c744cde571b7d15d893">renameQueue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt; <a class="el" href="classFullO3CPU.html#a8ca44c33753253e21ca215123e8b5005">IEWStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a9429710408b27da398dc15a2eb80b9fc">iewQueue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a5f72a799d8b189b4fccda3cde457145e">globalSeqNum</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classChecker.html">Checker</a>&lt; Impl &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a85ab02c76c80bbfce7b3ce7981c55f68">checker</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSystem.html">System</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#af27ccd765f13a4b7bd119dc7579e2746">system</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDrainManager.html">DrainManager</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="structO3ThreadState.html">Thread</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a4fd841dc8d29605dc13a120cc5a9b438">contextSwitch</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a11435331f730084ec731d6f88c255290">cpuWaitList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a88989147c1b0b4ccba38fa941722ce5d">lastRunningCycle</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#af81ed3d351dcefbd5ca122147676af22">lastActivatedCycle</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>, unsigned &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a08db914bbe37a5fa8c008248fa9647f6">threadMap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a457642e81692e24e601ec32c778042a2">tids</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a174dbfb3c7b892914a54cec44ed2eeaf">timesIdled</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a42e0f4c18fdb8ef7504f5c45d697fb14">idleCycles</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#abb746a633705067014bd46e175928a51">quiesceCycles</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Vector.html">Stats::Vector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a45901e46dca5846ddd857aecbee16645">committedInsts</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Vector.html">Stats::Vector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a16789fd9e4f632e091d740c772094f80">committedOps</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#af68d211cace2daa3df90471d7af93ad8">cpi</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a5bd2f06c271dd03138cad92251716f5d">totalCpi</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a6f168a31ee4084b6167d6761a4124014">ipc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ae8551f10097f4b2e5ed3febf0d9417e3">totalIpc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a46ee31ba135b8a26d7544abb48c242ef">intRegfileReads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a0539045bb3599b1c57886d55a19fa2d2">intRegfileWrites</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a616c93341fb6b23449fcbbab249f2b41">fpRegfileReads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ad308a484dfaaaff1d57080527f19f3be">fpRegfileWrites</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a54d1bb817fb61f8ea36ad3b2063f27c6">ccRegfileReads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#abd236585eb8f96cd37f7cea04204d456">ccRegfileWrites</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a587b32e057f5caad670d221c166bda5e">miscRegfileReads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a457c81c9e364d41871df8cb5f04ea1b4">miscRegfileWrites</a></td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CPUPolicy::Fetch&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CPUPolicy::Decode&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CPUPolicy::Rename&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CPUPolicy::IEW&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CPUPolicy::Commit&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPhysRegFile.html">PhysRegFile</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CPUPolicy::FreeList&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CPUPolicy::RenameMap&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CPUPolicy::RenameMap&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CPUPolicy::ROB&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ad649787f87175a89806eeccaee4832e9">rob</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classScoreboard.html">Scoreboard</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a5e0ec8da05a369f0327b7b78c44faa36">scoreboard</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; TheISA::ISA * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aa0d8dc5e214b94342d1f730e4e34ae82">isa</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFullO3CPU_1_1IcachePort.html">IcachePort</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a290723656a84b9cc90dfce377af9aad0">icachePort</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFullO3CPU_1_1DcachePort.html">DcachePort</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a38b03978ad7720fdc910ff6a8b44585f">dcachePort</a></td></tr>
<tr><td colspan="2"><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a71eb9ea7b25032de341033111b946dfc">scheduleTickEvent</a> (<a class="el" href="classCycles.html">Cycles</a> delay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ad819e7898bd94721d107a35fde764390">unscheduleTickEvent</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a20e502f38206c8cd988064e7bed53bb5">scheduleActivateThreadEvent</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid, <a class="el" href="classCycles.html">Cycles</a> delay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ae0bacbe9552a4b3a03f2748d2d58b3a2">unscheduleActivateThreadEvent</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a8c575b3dcfc822888003b64457ac9755">scheduleDeallocateContextEvent</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid, bool remove, <a class="el" href="classCycles.html">Cycles</a> delay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#adce69706fd17d1dca824e60ab0100e8b">unscheduleDeallocateContextEvent</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a250ca18dfc0316e340eaa2ec45d73c3e">tryDrain</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a0240eb42fa57fe5d3788093f62b77347">drainSanityCheck</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#adf5473c18a3d7c1e88c4a2072bce5526">isDrained</a> () const </td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFullO3CPU_1_1TickEvent.html">TickEvent</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFullO3CPU_1_1ActivateThreadEvent.html">ActivateThreadEvent</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a2cc2815b59781367286d6a31fc45e9d3">activateThreadEvent</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFullO3CPU_1_1DeallocateContextEvent.html">DeallocateContextEvent</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a> [Impl::MaxThreads]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classActivityRecorder.html">ActivityRecorder</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a></td></tr>
<tr><td colspan="2"><h2>フレンド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFullO3CPU.html#a8744c7a2c370330e0f577992900dfb66">O3ThreadContext&lt; Impl &gt;</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<h3>template&lt;class Impl&gt;<br/>
 class FullO3CPU&lt; Impl &gt;</h3>

<p><a class="el" href="classFullO3CPU.html">FullO3CPU</a> class, has each of the stages (fetch through commit) within it, as well as all of the time buffers between stages. The <a class="el" href="classFullO3CPU.html#a873dd91783f9efb4a590aded1f70d6b0">tick()</a> function for the CPU is defined here. </p>
<hr/><h2>型定義</h2>
<a class="anchor" id="a622513cd9a0b12a706b26c3320585f92"></a><!-- doxytag: member="FullO3CPU::CPUPolicy" ref="a622513cd9a0b12a706b26c3320585f92" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::CPUPol <a class="el" href="classFullO3CPU.html#a622513cd9a0b12a706b26c3320585f92">CPUPolicy</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae7f8b193f518ed524a498ef7ab564902"></a><!-- doxytag: member="FullO3CPU::DecodeStruct" ref="ae7f8b193f518ed524a498ef7ab564902" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPolicy::DecodeStruct <a class="el" href="classFullO3CPU.html#ae7f8b193f518ed524a498ef7ab564902">DecodeStruct</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a028ce10889c5f6450239d9e9a7347976"></a><!-- doxytag: member="FullO3CPU::DynInstPtr" ref="a028ce10889c5f6450239d9e9a7347976" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::DynInstPtr <a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae885ff43c757f445563029fd15cdf70c"></a><!-- doxytag: member="FullO3CPU::FetchStruct" ref="ae885ff43c757f445563029fd15cdf70c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPolicy::FetchStruct <a class="el" href="classFullO3CPU.html#ae885ff43c757f445563029fd15cdf70c">FetchStruct</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8ca44c33753253e21ca215123e8b5005"></a><!-- doxytag: member="FullO3CPU::IEWStruct" ref="a8ca44c33753253e21ca215123e8b5005" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPolicy::IEWStruct <a class="el" href="classFullO3CPU.html#a8ca44c33753253e21ca215123e8b5005">IEWStruct</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a19d73166363cbf2e4ed0ddec44afa8d4"></a><!-- doxytag: member="FullO3CPU::ImplState" ref="a19d73166363cbf2e4ed0ddec44afa8d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structO3ThreadState.html">O3ThreadState</a>&lt;Impl&gt; <a class="el" href="structO3ThreadState.html">ImplState</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a184cb829e22cc656acb41864f68f51ea"></a><!-- doxytag: member="FullO3CPU::ListIt" ref="a184cb829e22cc656acb41864f68f51ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt;::iterator <a class="el" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a44622cf06940413482836cb62931ac3f"></a><!-- doxytag: member="FullO3CPU::O3CPU" ref="a44622cf06940413482836cb62931ac3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Impl::O3CPU <a class="el" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a494521ebae1f8b01fe0ed16320494e6a"></a><!-- doxytag: member="FullO3CPU::RenameStruct" ref="a494521ebae1f8b01fe0ed16320494e6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPolicy::RenameStruct <a class="el" href="classFullO3CPU.html#a494521ebae1f8b01fe0ed16320494e6a">RenameStruct</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad5e0f9b655492f45720f8d756f11d3b5"></a><!-- doxytag: member="FullO3CPU::Thread" ref="ad5e0f9b655492f45720f8d756f11d3b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structO3ThreadState.html">O3ThreadState</a>&lt;Impl&gt; <a class="el" href="structO3ThreadState.html">Thread</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa6c328aeb664577b61817285d04f3631"></a><!-- doxytag: member="FullO3CPU::TimeStruct" ref="aa6c328aeb664577b61817285d04f3631" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CPUPolicy::TimeStruct <a class="el" href="structTimeStruct.html">TimeStruct</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Typedefs from the Impl to get the structs that each of the time buffers should use. </p>

</div>
</div>
<hr/><h2>列挙型</h2>
<a class="anchor" id="ad8ae6b222928fd7316fcf1f9f233353d"></a><!-- doxytag: member="FullO3CPU::StageIdx" ref="ad8ae6b222928fd7316fcf1f9f233353d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353d">StageIdx</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enum to give each stage a specific index, so when calling <a class="el" href="classFullO3CPU.html#a631f1fd5f15efc2953529efa22868bcd">activateStage()</a> or <a class="el" href="classFullO3CPU.html#a9ebbaf1718ed44d77051269c9734f6ae">deactivateStage()</a>, they can specify which stage is being activated/deactivated. </p>
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad8ae6b222928fd7316fcf1f9f233353da58acaf31e32cdcbea7664d3286a361f4"></a><!-- doxytag: member="FetchIdx" ref="ad8ae6b222928fd7316fcf1f9f233353da58acaf31e32cdcbea7664d3286a361f4" args="" -->FetchIdx</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad8ae6b222928fd7316fcf1f9f233353da103b4435764d4d2723ba580aa798e258"></a><!-- doxytag: member="DecodeIdx" ref="ad8ae6b222928fd7316fcf1f9f233353da103b4435764d4d2723ba580aa798e258" args="" -->DecodeIdx</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad8ae6b222928fd7316fcf1f9f233353daa1e6e6121c69679ec31ba66d1e1397a4"></a><!-- doxytag: member="RenameIdx" ref="ad8ae6b222928fd7316fcf1f9f233353daa1e6e6121c69679ec31ba66d1e1397a4" args="" -->RenameIdx</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad8ae6b222928fd7316fcf1f9f233353dae8242e5f6fe07d4611f47d1908eb01ad"></a><!-- doxytag: member="IEWIdx" ref="ad8ae6b222928fd7316fcf1f9f233353dae8242e5f6fe07d4611f47d1908eb01ad" args="" -->IEWIdx</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad8ae6b222928fd7316fcf1f9f233353dab4e6ff6a24d7c325f21753fe2a827048"></a><!-- doxytag: member="CommitIdx" ref="ad8ae6b222928fd7316fcf1f9f233353dab4e6ff6a24d7c325f21753fe2a827048" args="" -->CommitIdx</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad8ae6b222928fd7316fcf1f9f233353dad4d98708d468a3805751e2e5d21b0fea"></a><!-- doxytag: member="NumStages" ref="ad8ae6b222928fd7316fcf1f9f233353dad4d98708d468a3805751e2e5d21b0fea" args="" -->NumStages</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00706"></a>00706                   {
<a name="l00707"></a>00707         <a class="code" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353da58acaf31e32cdcbea7664d3286a361f4">FetchIdx</a>,
<a name="l00708"></a>00708         <a class="code" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353da103b4435764d4d2723ba580aa798e258">DecodeIdx</a>,
<a name="l00709"></a>00709         <a class="code" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353daa1e6e6121c69679ec31ba66d1e1397a4">RenameIdx</a>,
<a name="l00710"></a>00710         <a class="code" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353dae8242e5f6fe07d4611f47d1908eb01ad">IEWIdx</a>,
<a name="l00711"></a>00711         <a class="code" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353dab4e6ff6a24d7c325f21753fe2a827048">CommitIdx</a>,
<a name="l00712"></a>00712         <a class="code" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353dad4d98708d468a3805751e2e5d21b0fea">NumStages</a> };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a67a0db04d321a74b7e7fcfd3f1a3f70b"></a><!-- doxytag: member="FullO3CPU::Status" ref="a67a0db04d321a74b7e7fcfd3f1a3f70b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70b">Status</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a67a0db04d321a74b7e7fcfd3f1a3f70ba2f5f2c4a8c4f4f0519d503dcdfbf55cb"></a><!-- doxytag: member="Running" ref="a67a0db04d321a74b7e7fcfd3f1a3f70ba2f5f2c4a8c4f4f0519d503dcdfbf55cb" args="" -->Running</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a67a0db04d321a74b7e7fcfd3f1a3f70bad3fa9ae9431d6cb1772f9d9df48cab19"></a><!-- doxytag: member="Idle" ref="a67a0db04d321a74b7e7fcfd3f1a3f70bad3fa9ae9431d6cb1772f9d9df48cab19" args="" -->Idle</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a67a0db04d321a74b7e7fcfd3f1a3f70ba185a75df63e845aec97632afd6a34d6a"></a><!-- doxytag: member="Halted" ref="a67a0db04d321a74b7e7fcfd3f1a3f70ba185a75df63e845aec97632afd6a34d6a" args="" -->Halted</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a67a0db04d321a74b7e7fcfd3f1a3f70ba9463ee9b8700258a1019b4b9d2d77a30"></a><!-- doxytag: member="Blocked" ref="a67a0db04d321a74b7e7fcfd3f1a3f70ba9463ee9b8700258a1019b4b9d2d77a30" args="" -->Blocked</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a67a0db04d321a74b7e7fcfd3f1a3f70ba2c25b24188e2b53c8706769167a82779"></a><!-- doxytag: member="SwitchedOut" ref="a67a0db04d321a74b7e7fcfd3f1a3f70ba2c25b24188e2b53c8706769167a82779" args="" -->SwitchedOut</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00114"></a>00114                 {
<a name="l00115"></a>00115         <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a>,
<a name="l00116"></a>00116         <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70bad3fa9ae9431d6cb1772f9d9df48cab19">Idle</a>,
<a name="l00117"></a>00117         <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba185a75df63e845aec97632afd6a34d6a">Halted</a>,
<a name="l00118"></a>00118         <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba9463ee9b8700258a1019b4b9d2d77a30">Blocked</a>,
<a name="l00119"></a>00119         <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba2c25b24188e2b53c8706769167a82779">SwitchedOut</a>
<a name="l00120"></a>00120     };
</pre></div></p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="aa8d6265cca6a8e1449d64b99483b1ecc"></a><!-- doxytag: member="FullO3CPU::FullO3CPU" ref="aa8d6265cca6a8e1449d64b99483b1ecc" args="(DerivO3CPUParams *params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFullO3CPU.html">FullO3CPU</a> </td>
          <td>(</td>
          <td class="paramtype">DerivO3CPUParams *&nbsp;</td>
          <td class="paramname"> <em>params</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs a CPU with the given parameters. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00213"></a>00213     : <a class="code" href="classBaseO3CPU.html#a35c252bd3c7d14915d4e91e8bd757e0b">BaseO3CPU</a>(params),
<a name="l00214"></a>00214       <a class="code" href="classFullO3CPU.html#abcb37ddc11515555d8484702697bc4bb">itb</a>(params-&gt;itb),
<a name="l00215"></a>00215       <a class="code" href="classFullO3CPU.html#ad2fd039621f87592c4b344d4f8948e78" title="choose inline that I chose dtb,itb is Data and Instructino TLB.">dtb</a>(params-&gt;dtb),
<a name="l00216"></a>00216       <a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>(<span class="keyword">this</span>),
<a name="l00217"></a>00217 <span class="preprocessor">#ifndef NDEBUG</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span>      <a class="code" href="classFullO3CPU.html#a19e374b98940ff65bd4d9d17f198738c">instcount</a>(0),
<a name="l00219"></a>00219 <span class="preprocessor">#endif</span>
<a name="l00220"></a>00220 <span class="preprocessor"></span>      <a class="code" href="classFullO3CPU.html#a2825a91132fe292d64dca3c61fd07410">removeInstsThisCycle</a>(<span class="keyword">false</span>),
<a name="l00221"></a>00221       <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>(<span class="keyword">this</span>, params),
<a name="l00222"></a>00222       <a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>(<span class="keyword">this</span>, params),
<a name="l00223"></a>00223       <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>(<span class="keyword">this</span>, params),
<a name="l00224"></a>00224       <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>(<span class="keyword">this</span>, params),
<a name="l00225"></a>00225       <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>(<span class="keyword">this</span>, params),
<a name="l00226"></a>00226 
<a name="l00227"></a>00227       <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>(params-&gt;numPhysIntRegs,
<a name="l00228"></a>00228               params-&gt;numPhysFloatRegs,
<a name="l00229"></a>00229               params-&gt;numPhysCCRegs),
<a name="l00230"></a>00230 
<a name="l00231"></a>00231       <a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.freelist&quot;</span>, &amp;<a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>),
<a name="l00232"></a>00232 
<a name="l00233"></a>00233       <a class="code" href="classFullO3CPU.html#ad649787f87175a89806eeccaee4832e9">rob</a>(<span class="keyword">this</span>, params),
<a name="l00234"></a>00234 
<a name="l00235"></a>00235       <a class="code" href="classFullO3CPU.html#a5e0ec8da05a369f0327b7b78c44faa36">scoreboard</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.scoreboard&quot;</span>,
<a name="l00236"></a>00236                  <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#ad16381c6ff3ee42d5456b1d632a52730">totalNumPhysRegs</a>(), <a class="code" href="namespaceAlphaISA.html#a568d4aa96dd7cd963f3b1b1b0446c9c6">TheISA::NumMiscRegs</a>,
<a name="l00237"></a>00237                  <a class="code" href="namespaceAlphaISA.html#a38e079cf64d8a3ced6ce8e52ce269a5e">TheISA::ZeroReg</a>, TheISA::ZeroReg),
<a name="l00238"></a>00238 
<a name="l00239"></a>00239       <a class="code" href="classFullO3CPU.html#aa0d8dc5e214b94342d1f730e4e34ae82">isa</a>(<a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a>, <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>),
<a name="l00240"></a>00240 
<a name="l00241"></a>00241       <a class="code" href="classFullO3CPU.html#a290723656a84b9cc90dfce377af9aad0">icachePort</a>(&amp;<a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>, <span class="keyword">this</span>),
<a name="l00242"></a>00242       <a class="code" href="classFullO3CPU.html#a38b03978ad7720fdc910ff6a8b44585f">dcachePort</a>(&amp;<a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.ldstQueue, <span class="keyword">this</span>),
<a name="l00243"></a>00243 
<a name="l00244"></a>00244       <a class="code" href="classFullO3CPU.html#ad72b6568a4a40f54d071c31bef16bf2e">timeBuffer</a>(params-&gt;backComSize, params-&gt;forwardComSize),
<a name="l00245"></a>00245       <a class="code" href="classFullO3CPU.html#a0b4f1aa3830d6db3cb15a9a46c531cc2">fetchQueue</a>(params-&gt;backComSize, params-&gt;forwardComSize),
<a name="l00246"></a>00246       <a class="code" href="classFullO3CPU.html#a8c674fbc9b0625a2231b669aceb0dd73">decodeQueue</a>(params-&gt;backComSize, params-&gt;forwardComSize),
<a name="l00247"></a>00247       <a class="code" href="classFullO3CPU.html#ae590391fe7915c744cde571b7d15d893">renameQueue</a>(params-&gt;backComSize, params-&gt;forwardComSize),
<a name="l00248"></a>00248       <a class="code" href="classFullO3CPU.html#a9429710408b27da398dc15a2eb80b9fc">iewQueue</a>(params-&gt;backComSize, params-&gt;forwardComSize),
<a name="l00249"></a>00249       <a class="code" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>(), <a class="code" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353dad4d98708d468a3805751e2e5d21b0fea">NumStages</a>,
<a name="l00250"></a>00250                   params-&gt;backComSize + params-&gt;forwardComSize,
<a name="l00251"></a>00251                   params-&gt;activity),
<a name="l00252"></a>00252 
<a name="l00253"></a>00253       <a class="code" href="classFullO3CPU.html#a5f72a799d8b189b4fccda3cde457145e">globalSeqNum</a>(1),
<a name="l00254"></a>00254       <a class="code" href="classFullO3CPU.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>(params-&gt;system),
<a name="l00255"></a>00255       <a class="code" href="classFullO3CPU.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>),
<a name="l00256"></a>00256       <a class="code" href="classFullO3CPU.html#a88989147c1b0b4ccba38fa941722ce5d">lastRunningCycle</a>(curCycle())
<a name="l00257"></a>00257 {
<a name="l00258"></a>00258     <span class="keywordflow">if</span> (!params-&gt;switched_out) {
<a name="l00259"></a>00259         <a class="code" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a> = <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a>;
<a name="l00260"></a>00260     } <span class="keywordflow">else</span> {
<a name="l00261"></a>00261         <a class="code" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a> = <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba2c25b24188e2b53c8706769167a82779">SwitchedOut</a>;
<a name="l00262"></a>00262     }
<a name="l00263"></a>00263 
<a name="l00264"></a>00264     <span class="keywordflow">if</span> (params-&gt;checker) {
<a name="l00265"></a>00265         <a class="code" href="classBaseCPU.html">BaseCPU</a> *temp_checker = params-&gt;checker;
<a name="l00266"></a>00266         <a class="code" href="classFullO3CPU.html#a85ab02c76c80bbfce7b3ce7981c55f68">checker</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classChecker.html">Checker&lt;Impl&gt;</a> *<span class="keyword">&gt;</span>(temp_checker);
<a name="l00267"></a>00267         <a class="code" href="classFullO3CPU.html#a85ab02c76c80bbfce7b3ce7981c55f68">checker</a>-&gt;setIcachePort(&amp;<a class="code" href="classFullO3CPU.html#a290723656a84b9cc90dfce377af9aad0">icachePort</a>);
<a name="l00268"></a>00268         <a class="code" href="classFullO3CPU.html#a85ab02c76c80bbfce7b3ce7981c55f68">checker</a>-&gt;setSystem(params-&gt;system);
<a name="l00269"></a>00269     } <span class="keywordflow">else</span> {
<a name="l00270"></a>00270         <a class="code" href="classFullO3CPU.html#a85ab02c76c80bbfce7b3ce7981c55f68">checker</a> = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00271"></a>00271     }
<a name="l00272"></a>00272 
<a name="l00273"></a>00273     <span class="keywordflow">if</span> (!<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>) {
<a name="l00274"></a>00274         <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>.resize(<a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a>);
<a name="l00275"></a>00275         <a class="code" href="classFullO3CPU.html#a457642e81692e24e601ec32c778042a2">tids</a>.resize(<a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a>);
<a name="l00276"></a>00276     }
<a name="l00277"></a>00277 
<a name="l00278"></a>00278     <span class="comment">// The stages also need their CPU pointer setup.  However this</span>
<a name="l00279"></a>00279     <span class="comment">// must be done at the upper level CPU because they have pointers</span>
<a name="l00280"></a>00280     <span class="comment">// to the upper level CPU, and not this FullO3CPU.</span>
<a name="l00281"></a>00281 
<a name="l00282"></a>00282     <span class="comment">// Set up Pointers to the activeThreads list for each stage</span>
<a name="l00283"></a>00283     <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.setActiveThreads(&amp;<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>);
<a name="l00284"></a>00284     <a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>.setActiveThreads(&amp;<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>);
<a name="l00285"></a>00285     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.setActiveThreads(&amp;<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>);
<a name="l00286"></a>00286     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.setActiveThreads(&amp;<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>);
<a name="l00287"></a>00287     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.setActiveThreads(&amp;<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>);
<a name="l00288"></a>00288 
<a name="l00289"></a>00289     <span class="comment">// Give each of the stages the time buffer they will use.</span>
<a name="l00290"></a>00290     <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.setTimeBuffer(&amp;<a class="code" href="classFullO3CPU.html#ad72b6568a4a40f54d071c31bef16bf2e">timeBuffer</a>);
<a name="l00291"></a>00291     <a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>.setTimeBuffer(&amp;<a class="code" href="classFullO3CPU.html#ad72b6568a4a40f54d071c31bef16bf2e">timeBuffer</a>);
<a name="l00292"></a>00292     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.setTimeBuffer(&amp;<a class="code" href="classFullO3CPU.html#ad72b6568a4a40f54d071c31bef16bf2e">timeBuffer</a>);
<a name="l00293"></a>00293     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.setTimeBuffer(&amp;<a class="code" href="classFullO3CPU.html#ad72b6568a4a40f54d071c31bef16bf2e">timeBuffer</a>);
<a name="l00294"></a>00294     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.setTimeBuffer(&amp;<a class="code" href="classFullO3CPU.html#ad72b6568a4a40f54d071c31bef16bf2e">timeBuffer</a>);
<a name="l00295"></a>00295 
<a name="l00296"></a>00296     <span class="comment">// Also setup each of the stages&apos; queues.</span>
<a name="l00297"></a>00297     <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.setFetchQueue(&amp;<a class="code" href="classFullO3CPU.html#a0b4f1aa3830d6db3cb15a9a46c531cc2">fetchQueue</a>);
<a name="l00298"></a>00298     <a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>.setFetchQueue(&amp;<a class="code" href="classFullO3CPU.html#a0b4f1aa3830d6db3cb15a9a46c531cc2">fetchQueue</a>);
<a name="l00299"></a>00299     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.setFetchQueue(&amp;<a class="code" href="classFullO3CPU.html#a0b4f1aa3830d6db3cb15a9a46c531cc2">fetchQueue</a>);
<a name="l00300"></a>00300     <a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>.setDecodeQueue(&amp;<a class="code" href="classFullO3CPU.html#a8c674fbc9b0625a2231b669aceb0dd73">decodeQueue</a>);
<a name="l00301"></a>00301     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.setDecodeQueue(&amp;<a class="code" href="classFullO3CPU.html#a8c674fbc9b0625a2231b669aceb0dd73">decodeQueue</a>);
<a name="l00302"></a>00302     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.setRenameQueue(&amp;<a class="code" href="classFullO3CPU.html#ae590391fe7915c744cde571b7d15d893">renameQueue</a>);
<a name="l00303"></a>00303     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.setRenameQueue(&amp;<a class="code" href="classFullO3CPU.html#ae590391fe7915c744cde571b7d15d893">renameQueue</a>);
<a name="l00304"></a>00304     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.setIEWQueue(&amp;<a class="code" href="classFullO3CPU.html#a9429710408b27da398dc15a2eb80b9fc">iewQueue</a>);
<a name="l00305"></a>00305     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.setIEWQueue(&amp;<a class="code" href="classFullO3CPU.html#a9429710408b27da398dc15a2eb80b9fc">iewQueue</a>);
<a name="l00306"></a>00306     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.setRenameQueue(&amp;<a class="code" href="classFullO3CPU.html#ae590391fe7915c744cde571b7d15d893">renameQueue</a>);
<a name="l00307"></a>00307 
<a name="l00308"></a>00308     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.setIEWStage(&amp;<a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>);
<a name="l00309"></a>00309     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.setIEWStage(&amp;<a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>);
<a name="l00310"></a>00310     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.setCommitStage(&amp;<a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>);
<a name="l00311"></a>00311 
<a name="l00312"></a>00312     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> active_threads;
<a name="l00313"></a>00313     <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>) {
<a name="l00314"></a>00314         active_threads = 1;
<a name="l00315"></a>00315     } <span class="keywordflow">else</span> {
<a name="l00316"></a>00316         active_threads = params-&gt;workload.size();
<a name="l00317"></a>00317 
<a name="l00318"></a>00318         <span class="keywordflow">if</span> (active_threads &gt; <a class="code" href="namespaceThePipeline.html#ac9c0bbe9cf27d93e08ea8ccc4096e633">Impl::MaxThreads</a>) {
<a name="l00319"></a>00319             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Workload Size too large. Increase the &apos;MaxThreads&apos; &quot;</span>
<a name="l00320"></a>00320                   <span class="stringliteral">&quot;constant in your O3CPU impl. file (e.g. o3/alpha/impl.hh) &quot;</span>
<a name="l00321"></a>00321                   <span class="stringliteral">&quot;or edit your workload size.&quot;</span>);
<a name="l00322"></a>00322         }
<a name="l00323"></a>00323     }
<a name="l00324"></a>00324 
<a name="l00325"></a>00325     <span class="comment">//Make Sure That this a Valid Architeture</span>
<a name="l00326"></a>00326     assert(params-&gt;numPhysIntRegs   &gt;= <a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a> * <a class="code" href="namespaceAlphaISA.html#a9c412b5118ce369570c156c4e156638a">TheISA::NumIntRegs</a>);
<a name="l00327"></a>00327     assert(params-&gt;numPhysFloatRegs &gt;= <a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a> * <a class="code" href="namespaceAlphaISA.html#a627b25288f2452be107872a138df8b85">TheISA::NumFloatRegs</a>);
<a name="l00328"></a>00328     assert(params-&gt;numPhysCCRegs &gt;= <a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a> * <a class="code" href="namespaceAlphaISA.html#a717317b863009b3e1b683c3bdddb9fd3">TheISA::NumCCRegs</a>);
<a name="l00329"></a>00329 
<a name="l00330"></a>00330     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.setScoreboard(&amp;<a class="code" href="classFullO3CPU.html#a5e0ec8da05a369f0327b7b78c44faa36">scoreboard</a>);
<a name="l00331"></a>00331     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.setScoreboard(&amp;<a class="code" href="classFullO3CPU.html#a5e0ec8da05a369f0327b7b78c44faa36">scoreboard</a>);
<a name="l00332"></a>00332 
<a name="l00333"></a>00333     <span class="comment">// Setup the rename map for whichever stages need it.</span>
<a name="l00334"></a>00334     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a>; tid++) {
<a name="l00335"></a>00335         <a class="code" href="classFullO3CPU.html#aa0d8dc5e214b94342d1f730e4e34ae82">isa</a>[tid] = params-&gt;isa[tid];
<a name="l00336"></a>00336 
<a name="l00337"></a>00337         <span class="comment">// Only Alpha has an FP zero register, so for other ISAs we</span>
<a name="l00338"></a>00338         <span class="comment">// use an invalid FP register index to avoid special treatment</span>
<a name="l00339"></a>00339         <span class="comment">// of any valid FP reg.</span>
<a name="l00340"></a>00340         <a class="code" href="namespaceAlphaISA.html#a1c4e98d2e6a11a837bf9ccd20dd32f8a">RegIndex</a> invalidFPReg = <a class="code" href="namespaceAlphaISA.html#a627b25288f2452be107872a138df8b85">TheISA::NumFloatRegs</a> + 1;
<a name="l00341"></a>00341         <a class="code" href="namespaceAlphaISA.html#a1c4e98d2e6a11a837bf9ccd20dd32f8a">RegIndex</a> fpZeroReg =
<a name="l00342"></a>00342             (THE_ISA == ALPHA_ISA) ? TheISA::ZeroReg : invalidFPReg;
<a name="l00343"></a>00343 
<a name="l00344"></a>00344         <a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[tid].init(&amp;<a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>, TheISA::ZeroReg, fpZeroReg,
<a name="l00345"></a>00345                                   &amp;<a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>);
<a name="l00346"></a>00346 
<a name="l00347"></a>00347         <a class="code" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>[tid].init(&amp;<a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>, TheISA::ZeroReg, fpZeroReg,
<a name="l00348"></a>00348                             &amp;<a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>);
<a name="l00349"></a>00349 
<a name="l00350"></a>00350         <a class="code" href="classFullO3CPU.html#a2cc2815b59781367286d6a31fc45e9d3">activateThreadEvent</a>[tid].<a class="code" href="classFullO3CPU_1_1ActivateThreadEvent.html#a0938c51f296f212d5f6f05d174558612">init</a>(tid, <span class="keyword">this</span>);
<a name="l00351"></a>00351         <a class="code" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a>[tid].<a class="code" href="classFullO3CPU_1_1DeallocateContextEvent.html#a0938c51f296f212d5f6f05d174558612">init</a>(tid, <span class="keyword">this</span>);
<a name="l00352"></a>00352     }
<a name="l00353"></a>00353 
<a name="l00354"></a>00354     <span class="comment">// Initialize rename map to assign physical registers to the</span>
<a name="l00355"></a>00355     <span class="comment">// architectural registers for active threads only.</span>
<a name="l00356"></a>00356     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; active_threads; tid++) {
<a name="l00357"></a>00357         <span class="keywordflow">for</span> (<a class="code" href="namespaceAlphaISA.html#a1c4e98d2e6a11a837bf9ccd20dd32f8a">RegIndex</a> ridx = 0; ridx &lt; <a class="code" href="namespaceAlphaISA.html#a9c412b5118ce369570c156c4e156638a">TheISA::NumIntRegs</a>; ++ridx) {
<a name="l00358"></a>00358             <span class="comment">// Note that we can&apos;t use the rename() method because we don&apos;t</span>
<a name="l00359"></a>00359             <span class="comment">// want special treatment for the zero register at this point</span>
<a name="l00360"></a>00360             <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.getIntReg();
<a name="l00361"></a>00361             <a class="code" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>[tid].setIntEntry(ridx, phys_reg);
<a name="l00362"></a>00362             <a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[tid].setIntEntry(ridx, phys_reg);
<a name="l00363"></a>00363         }
<a name="l00364"></a>00364 
<a name="l00365"></a>00365         <span class="keywordflow">for</span> (<a class="code" href="namespaceAlphaISA.html#a1c4e98d2e6a11a837bf9ccd20dd32f8a">RegIndex</a> ridx = 0; ridx &lt; <a class="code" href="namespaceAlphaISA.html#a627b25288f2452be107872a138df8b85">TheISA::NumFloatRegs</a>; ++ridx) {
<a name="l00366"></a>00366             <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.getFloatReg();
<a name="l00367"></a>00367             <a class="code" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>[tid].setFloatEntry(ridx, phys_reg);
<a name="l00368"></a>00368             <a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[tid].setFloatEntry(ridx, phys_reg);
<a name="l00369"></a>00369         }
<a name="l00370"></a>00370 
<a name="l00371"></a>00371         <span class="keywordflow">for</span> (<a class="code" href="namespaceAlphaISA.html#a1c4e98d2e6a11a837bf9ccd20dd32f8a">RegIndex</a> ridx = 0; ridx &lt; <a class="code" href="namespaceAlphaISA.html#a717317b863009b3e1b683c3bdddb9fd3">TheISA::NumCCRegs</a>; ++ridx) {
<a name="l00372"></a>00372             <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.getCCReg();
<a name="l00373"></a>00373             <a class="code" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>[tid].setCCEntry(ridx, phys_reg);
<a name="l00374"></a>00374             <a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[tid].setCCEntry(ridx, phys_reg);
<a name="l00375"></a>00375         }
<a name="l00376"></a>00376     }
<a name="l00377"></a>00377 
<a name="l00378"></a>00378     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.setRenameMap(<a class="code" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>);
<a name="l00379"></a>00379     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.setRenameMap(<a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>);
<a name="l00380"></a>00380     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.setFreeList(&amp;<a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>);
<a name="l00381"></a>00381 
<a name="l00382"></a>00382     <span class="comment">// Setup the ROB for whichever stages need it.</span>
<a name="l00383"></a>00383     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.setROB(&amp;<a class="code" href="classFullO3CPU.html#ad649787f87175a89806eeccaee4832e9">rob</a>);
<a name="l00384"></a>00384 
<a name="l00385"></a>00385     <a class="code" href="classFullO3CPU.html#af81ed3d351dcefbd5ca122147676af22">lastActivatedCycle</a> = 0;
<a name="l00386"></a>00386 <span class="preprocessor">#if 0</span>
<a name="l00387"></a>00387 <span class="preprocessor"></span>    <span class="comment">// Give renameMap &amp; rename stage access to the freeList;</span>
<a name="l00388"></a>00388     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; numThreads; tid++)
<a name="l00389"></a>00389         <a class="code" href="classFullO3CPU.html#a5f72a799d8b189b4fccda3cde457145e">globalSeqNum</a>[tid] = 1;
<a name="l00390"></a>00390 <span class="preprocessor">#endif</span>
<a name="l00391"></a>00391 <span class="preprocessor"></span>
<a name="l00392"></a>00392     <a class="code" href="classFullO3CPU.html#a4fd841dc8d29605dc13a120cc5a9b438">contextSwitch</a> = <span class="keyword">false</span>;
<a name="l00393"></a>00393     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Creating O3CPU object.\n&quot;</span>);
<a name="l00394"></a>00394 
<a name="l00395"></a>00395     <span class="comment">// Setup any thread state.</span>
<a name="l00396"></a>00396     this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>.resize(this-&gt;numThreads);
<a name="l00397"></a>00397 
<a name="l00398"></a>00398     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; this-&gt;numThreads; ++tid) {
<a name="l00399"></a>00399         <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>) {
<a name="l00400"></a>00400             <span class="comment">// SMT is not supported in FS mode yet.</span>
<a name="l00401"></a>00401             assert(this-&gt;numThreads == 1);
<a name="l00402"></a>00402             this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid] = <span class="keyword">new</span> <a class="code" href="classFullO3CPU.html#ad5e0f9b655492f45720f8d756f11d3b5">Thread</a>(<span class="keyword">this</span>, 0, <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00403"></a>00403         } <span class="keywordflow">else</span> {
<a name="l00404"></a>00404             <span class="keywordflow">if</span> (tid &lt; params-&gt;<a class="code" href="classBaseCPU.html#a73d872f4e6fdf59531004dac33e2cd93">workload</a>.size()) {
<a name="l00405"></a>00405                 <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Workload[%i] process is %#x&quot;</span>,
<a name="l00406"></a>00406                         tid, this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]);
<a name="l00407"></a>00407                 this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid] = <span class="keyword">new</span> <span class="keyword">typename</span> <a class="code" href="classFullO3CPU.html#ad5e0f9b655492f45720f8d756f11d3b5">FullO3CPU&lt;Impl&gt;::Thread</a>(
<a name="l00408"></a>00408                         (<span class="keyword">typename</span> Impl::O3CPU *)(<span class="keyword">this</span>),
<a name="l00409"></a>00409                         tid, params-&gt;workload[tid]);
<a name="l00410"></a>00410 
<a name="l00411"></a>00411                 <span class="comment">//usedTids[tid] = true;</span>
<a name="l00412"></a>00412                 <span class="comment">//threadMap[tid] = tid;</span>
<a name="l00413"></a>00413             } <span class="keywordflow">else</span> {
<a name="l00414"></a>00414                 <span class="comment">//Allocate Empty thread so M5 can use later</span>
<a name="l00415"></a>00415                 <span class="comment">//when scheduling threads to CPU</span>
<a name="l00416"></a>00416                 <a class="code" href="classProcess.html">Process</a>* dummy_proc = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00417"></a>00417 
<a name="l00418"></a>00418                 this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid] = <span class="keyword">new</span> <span class="keyword">typename</span> <a class="code" href="classFullO3CPU.html#ad5e0f9b655492f45720f8d756f11d3b5">FullO3CPU&lt;Impl&gt;::Thread</a>(
<a name="l00419"></a>00419                         (<span class="keyword">typename</span> Impl::O3CPU *)(<span class="keyword">this</span>),
<a name="l00420"></a>00420                         tid, dummy_proc);
<a name="l00421"></a>00421                 <span class="comment">//usedTids[tid] = false;</span>
<a name="l00422"></a>00422             }
<a name="l00423"></a>00423         }
<a name="l00424"></a>00424 
<a name="l00425"></a>00425         <a class="code" href="classThreadContext.html">ThreadContext</a> *<a class="code" href="namespaceArmISA.html#a5aff829af55e65b802d83dfcef4e9dd0">tc</a>;
<a name="l00426"></a>00426 
<a name="l00427"></a>00427         <span class="comment">// Setup the TC that will serve as the interface to the threads/CPU.</span>
<a name="l00428"></a>00428         <a class="code" href="classO3ThreadContext.html">O3ThreadContext&lt;Impl&gt;</a> *o3_tc = <span class="keyword">new</span> <a class="code" href="classO3ThreadContext.html">O3ThreadContext&lt;Impl&gt;</a>;
<a name="l00429"></a>00429 
<a name="l00430"></a>00430         tc = o3_tc;
<a name="l00431"></a>00431 
<a name="l00432"></a>00432         <span class="comment">// If we&apos;re using a checker, then the TC should be the</span>
<a name="l00433"></a>00433         <span class="comment">// CheckerThreadContext.</span>
<a name="l00434"></a>00434         <span class="keywordflow">if</span> (params-&gt;checker) {
<a name="l00435"></a>00435             tc = <span class="keyword">new</span> <a class="code" href="classCheckerThreadContext.html">CheckerThreadContext&lt;O3ThreadContext&lt;Impl&gt;</a> &gt;(
<a name="l00436"></a>00436                 o3_tc, this-&gt;<a class="code" href="classFullO3CPU.html#a85ab02c76c80bbfce7b3ce7981c55f68">checker</a>);
<a name="l00437"></a>00437         }
<a name="l00438"></a>00438 
<a name="l00439"></a>00439         o3_tc-&gt;<a class="code" href="classO3ThreadContext.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a> = (<span class="keyword">typename</span> Impl::O3CPU *)(<span class="keyword">this</span>);
<a name="l00440"></a>00440         assert(o3_tc-&gt;<a class="code" href="classO3ThreadContext.html#a1379cf882a12ac6fc9eba5da7c84b18b">cpu</a>);
<a name="l00441"></a>00441         o3_tc-&gt;<a class="code" href="classO3ThreadContext.html#a8d3f7115b9c51d0f6160b2f28911c4e3">thread</a> = this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid];
<a name="l00442"></a>00442 
<a name="l00443"></a>00443         <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>) {
<a name="l00444"></a>00444             <span class="comment">// Setup quiesce event.</span>
<a name="l00445"></a>00445             this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;quiesceEvent = <span class="keyword">new</span> <a class="code" href="classEndQuiesceEvent.html">EndQuiesceEvent</a>(tc);
<a name="l00446"></a>00446         }
<a name="l00447"></a>00447         <span class="comment">// Give the thread the TC.</span>
<a name="l00448"></a>00448         this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;tc = tc;
<a name="l00449"></a>00449 
<a name="l00450"></a>00450         <span class="comment">// Add the TC to the CPU&apos;s list of TC&apos;s.</span>
<a name="l00451"></a>00451         this-&gt;threadContexts.push_back(tc);
<a name="l00452"></a>00452     }
<a name="l00453"></a>00453 
<a name="l00454"></a>00454     <span class="comment">// FullO3CPU always requires an interrupt controller.</span>
<a name="l00455"></a>00455     <span class="keywordflow">if</span> (!params-&gt;switched_out &amp;&amp; !<a class="code" href="classBaseCPU.html#abb9c3a7eae9af33c74d2c7da98a171bd">interrupts</a>) {
<a name="l00456"></a>00456         <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;FullO3CPU %s has no interrupt controller.\n&quot;</span>
<a name="l00457"></a>00457               <span class="stringliteral">&quot;Ensure createInterruptController() is called.\n&quot;</span>, <a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>());
<a name="l00458"></a>00458     }
<a name="l00459"></a>00459 
<a name="l00460"></a>00460     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; this-&gt;numThreads; tid++)
<a name="l00461"></a>00461         this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;setFuncExeInst(0);
<a name="l00462"></a>00462 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6788b6adc1e142f49c6776ba4c85d824"></a><!-- doxytag: member="FullO3CPU::~FullO3CPU" ref="a6788b6adc1e142f49c6776ba4c85d824" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classFullO3CPU.html">FullO3CPU</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00466"></a>00466 {
<a name="l00467"></a>00467 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="aadedce642b14c1bde1b3281767df99d4"></a><!-- doxytag: member="FullO3CPU::activateContext" ref="aadedce642b14c1bde1b3281767df99d4" args="(ThreadID tid, Cycles delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void activateContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td>
          <td class="paramname"> <em>delay</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add Thread to Active Threads List. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00762"></a>00762 {
<a name="l00763"></a>00763     assert(!switchedOut());
<a name="l00764"></a>00764 
<a name="l00765"></a>00765     <span class="comment">// Needs to set each stage to running as well.</span>
<a name="l00766"></a>00766     <span class="keywordflow">if</span> (delay){
<a name="l00767"></a>00767         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;[tid:%i]: Scheduling thread context to activate &quot;</span>
<a name="l00768"></a>00768                 <span class="stringliteral">&quot;on cycle %d\n&quot;</span>, tid, clockEdge(delay));
<a name="l00769"></a>00769         <a class="code" href="classFullO3CPU.html#a20e502f38206c8cd988064e7bed53bb5">scheduleActivateThreadEvent</a>(tid, delay);
<a name="l00770"></a>00770     } <span class="keywordflow">else</span> {
<a name="l00771"></a>00771         <a class="code" href="classFullO3CPU.html#a687aa4600423bb30ecf3bb1da6cd6000">activateThread</a>(tid);
<a name="l00772"></a>00772     }
<a name="l00773"></a>00773 
<a name="l00774"></a>00774     <span class="comment">// We don&apos;t want to wake the CPU if it is drained. In that case,</span>
<a name="l00775"></a>00775     <span class="comment">// we just want to flag the thread as active and schedule the tick</span>
<a name="l00776"></a>00776     <span class="comment">// event from drainResume() instead.</span>
<a name="l00777"></a>00777     <span class="keywordflow">if</span> (getDrainState() == <a class="code" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8a5656955cb808502a2ec75b367e2c1e82">Drainable::Drained</a>)
<a name="l00778"></a>00778         <span class="keywordflow">return</span>;
<a name="l00779"></a>00779 
<a name="l00780"></a>00780     <span class="comment">// If we are time 0 or if the last activation time is in the past,</span>
<a name="l00781"></a>00781     <span class="comment">// schedule the next tick and wake up the fetch unit</span>
<a name="l00782"></a>00782     <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#af81ed3d351dcefbd5ca122147676af22">lastActivatedCycle</a> == 0 || <a class="code" href="classFullO3CPU.html#af81ed3d351dcefbd5ca122147676af22">lastActivatedCycle</a> &lt; <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>()) {
<a name="l00783"></a>00783         <a class="code" href="classFullO3CPU.html#a71eb9ea7b25032de341033111b946dfc">scheduleTickEvent</a>(delay);
<a name="l00784"></a>00784 
<a name="l00785"></a>00785         <span class="comment">// Be sure to signal that there&apos;s some activity so the CPU doesn&apos;t</span>
<a name="l00786"></a>00786         <span class="comment">// deschedule itself.</span>
<a name="l00787"></a>00787         <a class="code" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a>.<a class="code" href="classActivityRecorder.html#a0ea760b87a5516ee794818d5eb8c243d">activity</a>();
<a name="l00788"></a>00788         <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.wakeFromQuiesce();
<a name="l00789"></a>00789 
<a name="l00790"></a>00790         <a class="code" href="classCycles.html">Cycles</a> cycles(curCycle() - <a class="code" href="classFullO3CPU.html#a88989147c1b0b4ccba38fa941722ce5d">lastRunningCycle</a>);
<a name="l00791"></a>00791         <span class="comment">// @todo: This is an oddity that is only here to match the stats</span>
<a name="l00792"></a>00792         <span class="keywordflow">if</span> (cycles != 0)
<a name="l00793"></a>00793             --cycles;
<a name="l00794"></a>00794         <a class="code" href="classFullO3CPU.html#abb746a633705067014bd46e175928a51">quiesceCycles</a> += cycles;
<a name="l00795"></a>00795 
<a name="l00796"></a>00796         <a class="code" href="classFullO3CPU.html#af81ed3d351dcefbd5ca122147676af22">lastActivatedCycle</a> = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>();
<a name="l00797"></a>00797 
<a name="l00798"></a>00798         <a class="code" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a> = <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a>;
<a name="l00799"></a>00799     }
<a name="l00800"></a>00800 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a631f1fd5f15efc2953529efa22868bcd"></a><!-- doxytag: member="FullO3CPU::activateStage" ref="a631f1fd5f15efc2953529efa22868bcd" args="(const StageIdx idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void activateStage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353d">StageIdx</a>&nbsp;</td>
          <td class="paramname"> <em>idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Changes a stage's status to active within the activity recorder. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00755"></a>00755     { <a class="code" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a>.<a class="code" href="classActivityRecorder.html#a9039dad8d295c41b50eba0342e6c11c0">activateStage</a>(idx); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a687aa4600423bb30ecf3bb1da6cd6000"></a><!-- doxytag: member="FullO3CPU::activateThread" ref="a687aa4600423bb30ecf3bb1da6cd6000" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void activateThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add Thread to Active Threads List </p>

<p><div class="fragment"><pre class="fragment"><a name="l00700"></a>00700 {
<a name="l00701"></a>00701     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> isActive =
<a name="l00702"></a>00702         std::find(<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.begin(), <a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.end(), tid);
<a name="l00703"></a>00703 
<a name="l00704"></a>00704     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;[tid:%i]: Calling activate thread.\n&quot;</span>, tid);
<a name="l00705"></a>00705     assert(!switchedOut());
<a name="l00706"></a>00706 
<a name="l00707"></a>00707     <span class="keywordflow">if</span> (isActive == <a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.end()) {
<a name="l00708"></a>00708         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;[tid:%i]: Adding to active threads list\n&quot;</span>,
<a name="l00709"></a>00709                 tid);
<a name="l00710"></a>00710 
<a name="l00711"></a>00711         <a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.push_back(tid);
<a name="l00712"></a>00712     }
<a name="l00713"></a>00713 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a47befc2af24481200005f0b9cffab093"></a><!-- doxytag: member="FullO3CPU::activateWhenReady" ref="a47befc2af24481200005f0b9cffab093" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void activateWhenReady </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Activate a Thread When CPU Resources are Available. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00977"></a>00977 {
<a name="l00978"></a>00978     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid:%i]: Checking if resources are available for incoming&quot;</span>
<a name="l00979"></a>00979             <span class="stringliteral">&quot;(e.g. PhysRegs/ROB/IQ/LSQ) \n&quot;</span>,
<a name="l00980"></a>00980             tid);
<a name="l00981"></a>00981 
<a name="l00982"></a>00982     <span class="keywordtype">bool</span> ready = <span class="keyword">true</span>;
<a name="l00983"></a>00983 
<a name="l00984"></a>00984     <span class="comment">// Should these all be &apos;&lt;&apos; not &apos;&gt;=&apos;?  This seems backwards...</span>
<a name="l00985"></a>00985     <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.numFreeIntRegs() &gt;= <a class="code" href="namespaceAlphaISA.html#a9c412b5118ce369570c156c4e156638a">TheISA::NumIntRegs</a>) {
<a name="l00986"></a>00986         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid:%i] Suspending thread due to not enough &quot;</span>
<a name="l00987"></a>00987                 <span class="stringliteral">&quot;Phys. Int. Regs.\n&quot;</span>,
<a name="l00988"></a>00988                 tid);
<a name="l00989"></a>00989         ready = <span class="keyword">false</span>;
<a name="l00990"></a>00990     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.numFreeFloatRegs() &gt;= <a class="code" href="namespaceAlphaISA.html#a627b25288f2452be107872a138df8b85">TheISA::NumFloatRegs</a>) {
<a name="l00991"></a>00991         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid:%i] Suspending thread due to not enough &quot;</span>
<a name="l00992"></a>00992                 <span class="stringliteral">&quot;Phys. Float. Regs.\n&quot;</span>,
<a name="l00993"></a>00993                 tid);
<a name="l00994"></a>00994         ready = <span class="keyword">false</span>;
<a name="l00995"></a>00995     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.numFreeCCRegs() &gt;= <a class="code" href="namespaceAlphaISA.html#a717317b863009b3e1b683c3bdddb9fd3">TheISA::NumCCRegs</a>) {
<a name="l00996"></a>00996         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid:%i] Suspending thread due to not enough &quot;</span>
<a name="l00997"></a>00997                 <span class="stringliteral">&quot;Phys. CC. Regs.\n&quot;</span>,
<a name="l00998"></a>00998                 tid);
<a name="l00999"></a>00999         ready = <span class="keyword">false</span>;
<a name="l01000"></a>01000     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.rob-&gt;numFreeEntries() &gt;=
<a name="l01001"></a>01001                <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.rob-&gt;entryAmount(<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.size() + 1)) {
<a name="l01002"></a>01002         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid:%i] Suspending thread due to not enough &quot;</span>
<a name="l01003"></a>01003                 <span class="stringliteral">&quot;ROB entries.\n&quot;</span>,
<a name="l01004"></a>01004                 tid);
<a name="l01005"></a>01005         ready = <span class="keyword">false</span>;
<a name="l01006"></a>01006     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.instQueue.numFreeEntries() &gt;=
<a name="l01007"></a>01007                <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.instQueue.entryAmount(<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.size() + 1)) {
<a name="l01008"></a>01008         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid:%i] Suspending thread due to not enough &quot;</span>
<a name="l01009"></a>01009                 <span class="stringliteral">&quot;IQ entries.\n&quot;</span>,
<a name="l01010"></a>01010                 tid);
<a name="l01011"></a>01011         ready = <span class="keyword">false</span>;
<a name="l01012"></a>01012     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.ldstQueue.numFreeEntries() &gt;=
<a name="l01013"></a>01013                <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.ldstQueue.entryAmount(<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.size() + 1)) {
<a name="l01014"></a>01014         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid:%i] Suspending thread due to not enough &quot;</span>
<a name="l01015"></a>01015                 <span class="stringliteral">&quot;LSQ entries.\n&quot;</span>,
<a name="l01016"></a>01016                 tid);
<a name="l01017"></a>01017         ready = <span class="keyword">false</span>;
<a name="l01018"></a>01018     }
<a name="l01019"></a>01019 
<a name="l01020"></a>01020     <span class="keywordflow">if</span> (ready) {
<a name="l01021"></a>01021         <a class="code" href="classFullO3CPU.html#abf4dca4fa0a9358ec4ac26ccbf17233b">insertThread</a>(tid);
<a name="l01022"></a>01022 
<a name="l01023"></a>01023         <a class="code" href="classFullO3CPU.html#a4fd841dc8d29605dc13a120cc5a9b438">contextSwitch</a> = <span class="keyword">false</span>;
<a name="l01024"></a>01024 
<a name="l01025"></a>01025         <a class="code" href="classFullO3CPU.html#a11435331f730084ec731d6f88c255290">cpuWaitList</a>.remove(tid);
<a name="l01026"></a>01026     } <span class="keywordflow">else</span> {
<a name="l01027"></a>01027         <a class="code" href="classFullO3CPU.html#aed2e2b9af515a66bdde61b85f150856a">suspendContext</a>(tid);
<a name="l01028"></a>01028 
<a name="l01029"></a>01029         <span class="comment">//blocks fetch</span>
<a name="l01030"></a>01030         <a class="code" href="classFullO3CPU.html#a4fd841dc8d29605dc13a120cc5a9b438">contextSwitch</a> = <span class="keyword">true</span>;
<a name="l01031"></a>01031 
<a name="l01032"></a>01032         <span class="comment">//@todo: dont always add to waitlist</span>
<a name="l01033"></a>01033         <span class="comment">//do waitlist</span>
<a name="l01034"></a>01034         <a class="code" href="classFullO3CPU.html#a11435331f730084ec731d6f88c255290">cpuWaitList</a>.push_back(tid);
<a name="l01035"></a>01035     }
<a name="l01036"></a>01036 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad7e5c2506873e8dc8c71740ac6dabb23"></a><!-- doxytag: member="FullO3CPU::activityThisCycle" ref="ad7e5c2506873e8dc8c71740ac6dabb23" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void activityThisCycle </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Records that there was time buffer activity this cycle. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00751"></a>00751 { <a class="code" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a>.<a class="code" href="classActivityRecorder.html#a0ea760b87a5516ee794818d5eb8c243d">activity</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac6e8e55d456fb0d761c64063087d298a"></a><!-- doxytag: member="FullO3CPU::addInst" ref="ac6e8e55d456fb0d761c64063087d298a" args="(DynInstPtr &amp;inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFullO3CPU.html">FullO3CPU</a>&lt; Impl &gt;::<a class="el" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> addInst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function to add instruction onto the head of the list of the instructions. Used when new instructions are fetched. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01587"></a>01587 {
<a name="l01588"></a>01588     <a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.push_back(inst);
<a name="l01589"></a>01589 
<a name="l01590"></a>01590     <span class="keywordflow">return</span> --(<a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.end());
<a name="l01591"></a>01591 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7bc351a2a79efb6dc9f88f8a6a2ed33c"></a><!-- doxytag: member="FullO3CPU::cleanUpRemovedInsts" ref="a7bc351a2a79efb6dc9f88f8a6a2ed33c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanUpRemovedInsts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cleans up all instructions on the remove list. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01725"></a>01725 {
<a name="l01726"></a>01726     <span class="keywordflow">while</span> (!<a class="code" href="classFullO3CPU.html#a574cb1bed7660bb2bb6940365f6a3315">removeList</a>.empty()) {
<a name="l01727"></a>01727         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Removing instruction, &quot;</span>
<a name="l01728"></a>01728                 <span class="stringliteral">&quot;[tid:%i] [sn:%lli] PC %s\n&quot;</span>,
<a name="l01729"></a>01729                 (*<a class="code" href="classFullO3CPU.html#a574cb1bed7660bb2bb6940365f6a3315">removeList</a>.front())-&gt;threadNumber,
<a name="l01730"></a>01730                 (*<a class="code" href="classFullO3CPU.html#a574cb1bed7660bb2bb6940365f6a3315">removeList</a>.front())-&gt;seqNum,
<a name="l01731"></a>01731                 (*<a class="code" href="classFullO3CPU.html#a574cb1bed7660bb2bb6940365f6a3315">removeList</a>.front())-&gt;<a class="code" href="classFullO3CPU.html#a3b836956ac0c48ddf740167753bded14">pcState</a>());
<a name="l01732"></a>01732 
<a name="l01733"></a>01733         <a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.erase(<a class="code" href="classFullO3CPU.html#a574cb1bed7660bb2bb6940365f6a3315">removeList</a>.front());
<a name="l01734"></a>01734 
<a name="l01735"></a>01735         <a class="code" href="classFullO3CPU.html#a574cb1bed7660bb2bb6940365f6a3315">removeList</a>.pop();
<a name="l01736"></a>01736     }
<a name="l01737"></a>01737 
<a name="l01738"></a>01738     <a class="code" href="classFullO3CPU.html#a2825a91132fe292d64dca3c61fd07410">removeInstsThisCycle</a> = <span class="keyword">false</span>;
<a name="l01739"></a>01739 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a07a52466ac4d8d91cbfb73b9ceb42988"></a><!-- doxytag: member="FullO3CPU::commitDrained" ref="a07a52466ac4d8d91cbfb73b9ceb42988" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void commitDrained </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Commit has reached a safe point to drain a thread.</p>
<p>Commit calls this method to inform the pipeline that it has reached a point where it is not executed microcode and is about to squash uncommitted instructions to fully drain the pipeline. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01286"></a>01286 {
<a name="l01287"></a>01287     <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.drainStall(tid);
<a name="l01288"></a>01288 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9ebbaf1718ed44d77051269c9734f6ae"></a><!-- doxytag: member="FullO3CPU::deactivateStage" ref="a9ebbaf1718ed44d77051269c9734f6ae" args="(const StageIdx idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deactivateStage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFullO3CPU.html#ad8ae6b222928fd7316fcf1f9f233353d">StageIdx</a>&nbsp;</td>
          <td class="paramname"> <em>idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Changes a stage's status to inactive within the activity recorder. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00759"></a>00759     { <a class="code" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a>.<a class="code" href="classActivityRecorder.html#a4d73bea02eaf6f93e267391592556fe7">deactivateStage</a>(idx); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad11d9216ad92d9036ebf37844cf6e706"></a><!-- doxytag: member="FullO3CPU::deactivateThread" ref="ad11d9216ad92d9036ebf37844cf6e706" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deactivateThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove Thread from Active Threads List </p>

<p><div class="fragment"><pre class="fragment"><a name="l00718"></a>00718 {
<a name="l00719"></a>00719     <span class="comment">//Remove From Active List, if Active</span>
<a name="l00720"></a>00720     <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> thread_it =
<a name="l00721"></a>00721         std::find(<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.begin(), <a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.end(), tid);
<a name="l00722"></a>00722 
<a name="l00723"></a>00723     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;[tid:%i]: Calling deactivate thread.\n&quot;</span>, tid);
<a name="l00724"></a>00724     assert(!switchedOut());
<a name="l00725"></a>00725 
<a name="l00726"></a>00726     <span class="keywordflow">if</span> (thread_it != <a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.end()) {
<a name="l00727"></a>00727         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid:%i]: Removing from active threads list\n&quot;</span>,
<a name="l00728"></a>00728                 tid);
<a name="l00729"></a>00729         <a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.erase(thread_it);
<a name="l00730"></a>00730     }
<a name="l00731"></a>00731 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a26789603cc94992d18f8ddedfff96acf"></a><!-- doxytag: member="FullO3CPU::demapDataPage" ref="a26789603cc94992d18f8ddedfff96acf" args="(Addr vaddr, uint64_t asn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void demapDataPage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>asn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00396"></a>00396     {
<a name="l00397"></a>00397         this-&gt;<a class="code" href="classFullO3CPU.html#ad2fd039621f87592c4b344d4f8948e78" title="choose inline that I chose dtb,itb is Data and Instructino TLB.">dtb</a>-&gt;demapPage(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, asn);
<a name="l00398"></a>00398     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac8a36d45a839b07f50b73f1eee119615"></a><!-- doxytag: member="FullO3CPU::demapInstPage" ref="ac8a36d45a839b07f50b73f1eee119615" args="(Addr vaddr, uint64_t asn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void demapInstPage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>asn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00391"></a>00391     {
<a name="l00392"></a>00392         this-&gt;<a class="code" href="classFullO3CPU.html#abcb37ddc11515555d8484702697bc4bb">itb</a>-&gt;demapPage(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, asn);
<a name="l00393"></a>00393     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2d698ff909513b48a1263f8a5440e067"></a><!-- doxytag: member="FullO3CPU::demapPage" ref="a2d698ff909513b48a1263f8a5440e067" args="(Addr vaddr, uint64_t asn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void demapPage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>asn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00385"></a>00385     {
<a name="l00386"></a>00386         this-&gt;<a class="code" href="classFullO3CPU.html#abcb37ddc11515555d8484702697bc4bb">itb</a>-&gt;demapPage(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, asn);
<a name="l00387"></a>00387         this-&gt;<a class="code" href="classFullO3CPU.html#ad2fd039621f87592c4b344d4f8948e78" title="choose inline that I chose dtb,itb is Data and Instructino TLB.">dtb</a>-&gt;demapPage(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, asn);
<a name="l00388"></a>00388     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa44d4f535cfaf67b335cab7e390a9257"></a><!-- doxytag: member="FullO3CPU::doContextSwitch" ref="aa44d4f535cfaf67b335cab7e390a9257" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void doContextSwitch </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add or Remove a Thread Context in the CPU. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01827"></a>01827 {
<a name="l01828"></a>01828     <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#a4fd841dc8d29605dc13a120cc5a9b438">contextSwitch</a>) {
<a name="l01829"></a>01829 
<a name="l01830"></a>01830         <span class="comment">//ADD CODE TO DEACTIVE THREAD HERE (???)</span>
<a name="l01831"></a>01831 
<a name="l01832"></a>01832         <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> size = <a class="code" href="classFullO3CPU.html#a11435331f730084ec731d6f88c255290">cpuWaitList</a>.size();
<a name="l01833"></a>01833         <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; size; tid++) {
<a name="l01834"></a>01834             <a class="code" href="classFullO3CPU.html#a47befc2af24481200005f0b9cffab093">activateWhenReady</a>(tid);
<a name="l01835"></a>01835         }
<a name="l01836"></a>01836 
<a name="l01837"></a>01837         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#a11435331f730084ec731d6f88c255290">cpuWaitList</a>.size() == 0)
<a name="l01838"></a>01838             <a class="code" href="classFullO3CPU.html#a4fd841dc8d29605dc13a120cc5a9b438">contextSwitch</a> = <span class="keyword">true</span>;
<a name="l01839"></a>01839     }
<a name="l01840"></a>01840 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4e932bfc8aa6dfb998b8496a0f04ace3"></a><!-- doxytag: member="FullO3CPU::drain" ref="a4e932bfc8aa6dfb998b8496a0f04ace3" args="(DrainManager *drain_manager)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int drain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDrainManager.html">DrainManager</a> *&nbsp;</td>
          <td class="paramname"> <em>drain_manager</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Starts draining the CPU's pipeline of all instructions in order to stop all memory accesses. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01150"></a>01150 {
<a name="l01151"></a>01151     <span class="comment">// If the CPU isn&apos;t doing anything, then return immediately.</span>
<a name="l01152"></a>01152     <span class="keywordflow">if</span> (switchedOut()) {
<a name="l01153"></a>01153         setDrainState(<a class="code" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8a5656955cb808502a2ec75b367e2c1e82">Drainable::Drained</a>);
<a name="l01154"></a>01154         <span class="keywordflow">return</span> 0;
<a name="l01155"></a>01155     }
<a name="l01156"></a>01156 
<a name="l01157"></a>01157     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;Draining...\n&quot;</span>);
<a name="l01158"></a>01158     setDrainState(<a class="code" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8a929d17847bfad0d4689c9ab8540d5134">Drainable::Draining</a>);
<a name="l01159"></a>01159 
<a name="l01160"></a>01160     <span class="comment">// We only need to signal a drain to the commit stage as this</span>
<a name="l01161"></a>01161     <span class="comment">// initiates squashing controls the draining. Once the commit</span>
<a name="l01162"></a>01162     <span class="comment">// stage commits an instruction where it is safe to stop, it&apos;ll</span>
<a name="l01163"></a>01163     <span class="comment">// squash the rest of the instructions in the pipeline and force</span>
<a name="l01164"></a>01164     <span class="comment">// the fetch stage to stall. The pipeline will be drained once all</span>
<a name="l01165"></a>01165     <span class="comment">// in-flight instructions have retired.</span>
<a name="l01166"></a>01166     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.drain();
<a name="l01167"></a>01167 
<a name="l01168"></a>01168     <span class="comment">// Wake the CPU and record activity so everything can drain out if</span>
<a name="l01169"></a>01169     <span class="comment">// the CPU was not able to immediately drain.</span>
<a name="l01170"></a>01170     <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#adf5473c18a3d7c1e88c4a2072bce5526">isDrained</a>())  {
<a name="l01171"></a>01171         <a class="code" href="classFullO3CPU.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a> = drain_manager;
<a name="l01172"></a>01172 
<a name="l01173"></a>01173         <a class="code" href="classFullO3CPU.html#abce3a63b123f84972e4df7962f9b870e">wakeCPU</a>();
<a name="l01174"></a>01174         <a class="code" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a>.<a class="code" href="classActivityRecorder.html#a0ea760b87a5516ee794818d5eb8c243d">activity</a>();
<a name="l01175"></a>01175 
<a name="l01176"></a>01176         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;CPU not drained\n&quot;</span>);
<a name="l01177"></a>01177 
<a name="l01178"></a>01178         <span class="keywordflow">return</span> 1;
<a name="l01179"></a>01179     } <span class="keywordflow">else</span> {
<a name="l01180"></a>01180         setDrainState(<a class="code" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8a5656955cb808502a2ec75b367e2c1e82">Drainable::Drained</a>);
<a name="l01181"></a>01181         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;CPU is already drained\n&quot;</span>);
<a name="l01182"></a>01182         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>())
<a name="l01183"></a>01183             deschedule(<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>);
<a name="l01184"></a>01184 
<a name="l01185"></a>01185         <span class="comment">// Flush out any old data from the time buffers.  In</span>
<a name="l01186"></a>01186         <span class="comment">// particular, there might be some data in flight from the</span>
<a name="l01187"></a>01187         <span class="comment">// fetch stage that isn&apos;t visible in any of the CPU buffers we</span>
<a name="l01188"></a>01188         <span class="comment">// test in isDrained().</span>
<a name="l01189"></a>01189         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classFullO3CPU.html#ad72b6568a4a40f54d071c31bef16bf2e">timeBuffer</a>.<a class="code" href="classTimeBuffer.html#a28ce3e44c8a6c2d60bb4c4837356c3b4">getSize</a>(); ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l01190"></a>01190             <a class="code" href="classFullO3CPU.html#ad72b6568a4a40f54d071c31bef16bf2e">timeBuffer</a>.<a class="code" href="classTimeBuffer.html#a8903a4e9f3d5fb42d0faa9d53e21d85c">advance</a>();
<a name="l01191"></a>01191             <a class="code" href="classFullO3CPU.html#a0b4f1aa3830d6db3cb15a9a46c531cc2">fetchQueue</a>.<a class="code" href="classTimeBuffer.html#a8903a4e9f3d5fb42d0faa9d53e21d85c">advance</a>();
<a name="l01192"></a>01192             <a class="code" href="classFullO3CPU.html#a8c674fbc9b0625a2231b669aceb0dd73">decodeQueue</a>.<a class="code" href="classTimeBuffer.html#a8903a4e9f3d5fb42d0faa9d53e21d85c">advance</a>();
<a name="l01193"></a>01193             <a class="code" href="classFullO3CPU.html#ae590391fe7915c744cde571b7d15d893">renameQueue</a>.<a class="code" href="classTimeBuffer.html#a8903a4e9f3d5fb42d0faa9d53e21d85c">advance</a>();
<a name="l01194"></a>01194             <a class="code" href="classFullO3CPU.html#a9429710408b27da398dc15a2eb80b9fc">iewQueue</a>.<a class="code" href="classTimeBuffer.html#a8903a4e9f3d5fb42d0faa9d53e21d85c">advance</a>();
<a name="l01195"></a>01195         }
<a name="l01196"></a>01196 
<a name="l01197"></a>01197         <a class="code" href="classFullO3CPU.html#a0240eb42fa57fe5d3788093f62b77347">drainSanityCheck</a>();
<a name="l01198"></a>01198         <span class="keywordflow">return</span> 0;
<a name="l01199"></a>01199     }
<a name="l01200"></a>01200 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8f020d3237536fe007fc488c4125c5d8"></a><!-- doxytag: member="FullO3CPU::drainResume" ref="a8f020d3237536fe007fc488c4125c5d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drainResume </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Resumes execution after a drain. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01293"></a>01293 {
<a name="l01294"></a>01294     setDrainState(<a class="code" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8a2f5f2c4a8c4f4f0519d503dcdfbf55cb">Drainable::Running</a>);
<a name="l01295"></a>01295     <span class="keywordflow">if</span> (switchedOut())
<a name="l01296"></a>01296         <span class="keywordflow">return</span>;
<a name="l01297"></a>01297 
<a name="l01298"></a>01298     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;Resuming...\n&quot;</span>);
<a name="l01299"></a>01299     <a class="code" href="classFullO3CPU.html#ae2e1ccebe596a180f8105d57f9a93645">verifyMemoryMode</a>();
<a name="l01300"></a>01300 
<a name="l01301"></a>01301     <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.drainResume();
<a name="l01302"></a>01302     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.drainResume();
<a name="l01303"></a>01303 
<a name="l01304"></a>01304     <a class="code" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a> = <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70bad3fa9ae9431d6cb1772f9d9df48cab19">Idle</a>;
<a name="l01305"></a>01305     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>.size(); <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l01306"></a>01306         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;<a class="code" href="namespaceArmISA.html#a566327436c4c7e7a63ab9ac137e9d50e">status</a>() == <a class="code" href="classThreadContext.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba26bd8444261cc58df7a86753c79d2520">ThreadContext::Active</a>) {
<a name="l01307"></a>01307             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;Activating thread: %i\n&quot;</span>, <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>);
<a name="l01308"></a>01308             <a class="code" href="classFullO3CPU.html#a687aa4600423bb30ecf3bb1da6cd6000">activateThread</a>(<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>);
<a name="l01309"></a>01309             <a class="code" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a> = <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a>;
<a name="l01310"></a>01310         }
<a name="l01311"></a>01311     }
<a name="l01312"></a>01312 
<a name="l01313"></a>01313     assert(!<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>());
<a name="l01314"></a>01314     <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a> == <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba2f5f2c4a8c4f4f0519d503dcdfbf55cb">Running</a>)
<a name="l01315"></a>01315         schedule(<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>, nextCycle());
<a name="l01316"></a>01316 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0240eb42fa57fe5d3788093f62b77347"></a><!-- doxytag: member="FullO3CPU::drainSanityCheck" ref="a0240eb42fa57fe5d3788093f62b77347" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drainSanityCheck </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform sanity checks after a drain.</p>
<p>This method is called from <a class="el" href="classFullO3CPU.html#a4e932bfc8aa6dfb998b8496a0f04ace3">drain()</a> when it has determined that the CPU is fully drained when gem5 is compiled with the NDEBUG macro undefined. The intention of this method is to do more extensive tests than the <a class="el" href="classFullO3CPU.html#adf5473c18a3d7c1e88c4a2072bce5526">isDrained()</a> method to weed out any draining bugs. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01222"></a>01222 {
<a name="l01223"></a>01223     assert(<a class="code" href="classFullO3CPU.html#adf5473c18a3d7c1e88c4a2072bce5526">isDrained</a>());
<a name="l01224"></a>01224     <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.drainSanityCheck();
<a name="l01225"></a>01225     <a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>.drainSanityCheck();
<a name="l01226"></a>01226     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.drainSanityCheck();
<a name="l01227"></a>01227     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.drainSanityCheck();
<a name="l01228"></a>01228     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.drainSanityCheck();
<a name="l01229"></a>01229 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a80587b4fe043bbe1995536cb3b361588"></a><!-- doxytag: member="FullO3CPU::dumpInsts" ref="a80587b4fe043bbe1995536cb3b361588" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dumpInsts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="namespaceDebug.html">Debug</a> function to print all instructions on the list. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01751"></a>01751 {
<a name="l01752"></a>01752     <span class="keywordtype">int</span> num = 0;
<a name="l01753"></a>01753 
<a name="l01754"></a>01754     <a class="code" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> inst_list_it = <a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.begin();
<a name="l01755"></a>01755 
<a name="l01756"></a>01756     <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Dumping Instruction List\n&quot;</span>);
<a name="l01757"></a>01757 
<a name="l01758"></a>01758     <span class="keywordflow">while</span> (inst_list_it != <a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.end()) {
<a name="l01759"></a>01759         <a class="code" href="cprintf_8hh.html#a46231f0e413d30a2560384d0ae05536b">cprintf</a>(<span class="stringliteral">&quot;Instruction:%i\nPC:%#x\n[tid:%i]\n[sn:%lli]\nIssued:%i\n&quot;</span>
<a name="l01760"></a>01760                 <span class="stringliteral">&quot;Squashed:%i\n\n&quot;</span>,
<a name="l01761"></a>01761                 num, (*inst_list_it)-&gt;instAddr(), (*inst_list_it)-&gt;threadNumber,
<a name="l01762"></a>01762                 (*inst_list_it)-&gt;seqNum, (*inst_list_it)-&gt;isIssued(),
<a name="l01763"></a>01763                 (*inst_list_it)-&gt;isSquashed());
<a name="l01764"></a>01764         inst_list_it++;
<a name="l01765"></a>01765         ++num;
<a name="l01766"></a>01766     }
<a name="l01767"></a>01767 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ace86a0dff0fe9648b7221e3a98fb4533"></a><!-- doxytag: member="FullO3CPU::getAndIncrementInstSeq" ref="ace86a0dff0fe9648b7221e3a98fb4533" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> getAndIncrementInstSeq </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the current instruction sequence number, and increment it. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00498"></a>00498     { <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#a5f72a799d8b189b4fccda3cde457145e">globalSeqNum</a>++; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aeea6b55ae1c4be53c21dbee434b221d4"></a><!-- doxytag: member="FullO3CPU::getDataPort" ref="aeea6b55ae1c4be53c21dbee434b221d4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classMasterPort.html">MasterPort</a>&amp; getDataPort </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the dcache port (used to find block size for translations). </p>

<p><div class="fragment"><pre class="fragment"><a name="l00833"></a>00833 { <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#a38b03978ad7720fdc910ff6a8b44585f">dcachePort</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a64117a0245250fc5be941e729bedcc03"></a><!-- doxytag: member="FullO3CPU::getFreeTid" ref="a64117a0245250fc5be941e729bedcc03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> getFreeTid </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets a free thread id. Use if thread ids change across system. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01813"></a>01813 {
<a name="l01814"></a>01814     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a>; tid++) {
<a name="l01815"></a>01815         <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#a457642e81692e24e601ec32c778042a2">tids</a>[tid]) {
<a name="l01816"></a>01816             <a class="code" href="classFullO3CPU.html#a457642e81692e24e601ec32c778042a2">tids</a>[tid] = <span class="keyword">true</span>;
<a name="l01817"></a>01817             <span class="keywordflow">return</span> tid;
<a name="l01818"></a>01818         }
<a name="l01819"></a>01819     }
<a name="l01820"></a>01820 
<a name="l01821"></a>01821     <span class="keywordflow">return</span> <a class="code" href="base_2types_8hh.html#a192b210a26f038691d0f095d85dc0953">InvalidThreadID</a>;
<a name="l01822"></a>01822 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a40da530cb5dd380fd7fc0d786e94d5eb"></a><!-- doxytag: member="FullO3CPU::getInstPort" ref="a40da530cb5dd380fd7fc0d786e94d5eb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classMasterPort.html">MasterPort</a>&amp; getInstPort </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used by the fetch unit to get a hold of the instruction port. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00830"></a>00830 { <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#a290723656a84b9cc90dfce377af9aad0">icachePort</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa2bbcc75bdfc0f2355cd06731e6f5d69"></a><!-- doxytag: member="FullO3CPU::getInterrupts" ref="aa2bbcc75bdfc0f2355cd06731e6f5d69" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> getInterrupts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the Fault for any valid interrupt. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01082"></a>01082 {
<a name="l01083"></a>01083     <span class="comment">// Check if there are any outstanding interrupts</span>
<a name="l01084"></a>01084     <span class="keywordflow">return</span> this-&gt;<a class="code" href="classBaseCPU.html#abb9c3a7eae9af33c74d2c7da98a171bd">interrupts</a>-&gt;getInterrupt(this-&gt;threadContexts[0]);
<a name="l01085"></a>01085 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ade0430439247877006d7df950f94918a"></a><!-- doxytag: member="FullO3CPU::halt" ref="ade0430439247877006d7df950f94918a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Halts the CPU. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00515"></a>00515 { <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Halt not implemented!\n&quot;</span>); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac2156e0955d5e1ef6e06cd0e2ab218e4"></a><!-- doxytag: member="FullO3CPU::haltContext" ref="ac2156e0955d5e1ef6e06cd0e2ab218e4" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void haltContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove Thread from Active Threads List &amp;&amp; Remove Thread Context from CPU. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00841"></a>00841 {
<a name="l00842"></a>00842     <span class="comment">//For now, this is the same as deallocate</span>
<a name="l00843"></a>00843     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid:%i]: Halt Context called. Deallocating&quot;</span>, tid);
<a name="l00844"></a>00844     assert(!switchedOut());
<a name="l00845"></a>00845     <a class="code" href="classFullO3CPU.html#a64179a936408228ff1718afd541e230b">scheduleDeallocateContext</a>(tid, <span class="keyword">true</span>, <a class="code" href="classCycles.html">Cycles</a>(1));
<a name="l00846"></a>00846 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3820de4f7e76b56c6d795f27bf49c097"></a><!-- doxytag: member="FullO3CPU::hwrei" ref="a3820de4f7e76b56c6d795f27bf49c097" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> hwrei </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>HW return from error interrupt. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01041"></a>01041 {
<a name="l01042"></a>01042 <span class="preprocessor">#if THE_ISA == ALPHA_ISA</span>
<a name="l01043"></a>01043 <span class="preprocessor"></span>    <span class="comment">// Need to clear the lock flag upon returning from an interrupt.</span>
<a name="l01044"></a>01044     this-&gt;<a class="code" href="classFullO3CPU.html#acd6f1f298148bb7eebfa8c800c4066e2">setMiscRegNoEffect</a>(<a class="code" href="namespaceAlphaISA.html#a1e522017e015d4c7efd6b2360143aa67a96956bffd04139e669b2dbc923a11b23">AlphaISA::MISCREG_LOCKFLAG</a>, <span class="keyword">false</span>, tid);
<a name="l01045"></a>01045 
<a name="l01046"></a>01046     this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;kernelStats-&gt;hwrei();
<a name="l01047"></a>01047 
<a name="l01048"></a>01048     <span class="comment">// FIXME: XXX check for interrupts? XXX</span>
<a name="l01049"></a>01049 <span class="preprocessor">#endif</span>
<a name="l01050"></a>01050 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>;
<a name="l01051"></a>01051 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a02fd73d861ef2e4aabb38c0c9ff82947"></a><!-- doxytag: member="FullO3CPU::init" ref="a02fd73d861ef2e4aabb38c0c9ff82947" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the CPU </p>

<p><div class="fragment"><pre class="fragment"><a name="l00657"></a>00657 {
<a name="l00658"></a>00658     <a class="code" href="classSimObject.html#a02fd73d861ef2e4aabb38c0c9ff82947">BaseCPU::init</a>();
<a name="l00659"></a>00659 
<a name="l00660"></a>00660     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; <a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a>; ++tid) {
<a name="l00661"></a>00661         <span class="comment">// Set noSquashFromTC so that the CPU doesn&apos;t squash when initially</span>
<a name="l00662"></a>00662         <span class="comment">// setting up registers.</span>
<a name="l00663"></a>00663         <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;noSquashFromTC = <span class="keyword">true</span>;
<a name="l00664"></a>00664         <span class="comment">// Initialise the ThreadContext&apos;s memory proxies</span>
<a name="l00665"></a>00665         <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;initMemProxies(<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;getTC());
<a name="l00666"></a>00666     }
<a name="l00667"></a>00667 
<a name="l00668"></a>00668     <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a> &amp;&amp; !params()-&gt;<a class="code" href="classBaseCPU.html#a121f751814e1a758b12f22303623a3f2">switched_out</a>) {
<a name="l00669"></a>00669         <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid = 0; tid &lt; numThreads; tid++) {
<a name="l00670"></a>00670             <a class="code" href="classThreadContext.html">ThreadContext</a> *src_tc = threadContexts[tid];
<a name="l00671"></a>00671             <a class="code" href="namespaceAlphaISA.html#aded557a1e716c6f849b0e0b05fc77676">TheISA::initCPU</a>(src_tc, src_tc-&gt;<a class="code" href="classThreadContext.html#a5a3ce3f955d2ec16ac6f2aa21e42f3a0">contextId</a>());
<a name="l00672"></a>00672         }
<a name="l00673"></a>00673     }
<a name="l00674"></a>00674 
<a name="l00675"></a>00675     <span class="comment">// Clear noSquashFromTC.</span>
<a name="l00676"></a>00676     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tid = 0; tid &lt; numThreads; ++tid)
<a name="l00677"></a>00677         <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;noSquashFromTC = <span class="keyword">false</span>;
<a name="l00678"></a>00678 
<a name="l00679"></a>00679     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.setThreads(<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>);
<a name="l00680"></a>00680 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abf4dca4fa0a9358ec4ac26ccbf17233b"></a><!-- doxytag: member="FullO3CPU::insertThread" ref="abf4dca4fa0a9358ec4ac26ccbf17233b" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insertThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Setup CPU to insert a thread's context </p>

<p><div class="fragment"><pre class="fragment"><a name="l00851"></a>00851 {
<a name="l00852"></a>00852     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid:%i] Initializing thread into CPU&quot;</span>);
<a name="l00853"></a>00853     <span class="comment">// Will change now that the PC and thread state is internal to the CPU</span>
<a name="l00854"></a>00854     <span class="comment">// and not in the ThreadContext.</span>
<a name="l00855"></a>00855     <a class="code" href="classThreadContext.html">ThreadContext</a> *src_tc;
<a name="l00856"></a>00856     <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>)
<a name="l00857"></a>00857         src_tc = <a class="code" href="classFullO3CPU.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#a19840a204c4d6f67b45a07073e8b41df">threadContexts</a>[tid];
<a name="l00858"></a>00858     <span class="keywordflow">else</span>
<a name="l00859"></a>00859         src_tc = <a class="code" href="classFullO3CPU.html#acaae0f849591d618f1c202e5ed29b4e4">tcBase</a>(tid);
<a name="l00860"></a>00860 
<a name="l00861"></a>00861     <span class="comment">//Bind Int Regs to Rename Map</span>
<a name="l00862"></a>00862     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ireg = 0; ireg &lt; <a class="code" href="namespaceAlphaISA.html#a9c412b5118ce369570c156c4e156638a">TheISA::NumIntRegs</a>; ireg++) {
<a name="l00863"></a>00863         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.getIntReg();
<a name="l00864"></a>00864 
<a name="l00865"></a>00865         <a class="code" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>[tid].setEntry(ireg,phys_reg);
<a name="l00866"></a>00866         <a class="code" href="classFullO3CPU.html#a5e0ec8da05a369f0327b7b78c44faa36">scoreboard</a>.<a class="code" href="classScoreboard.html#abefd2f48474b0ac4510bef8672c8957a">setReg</a>(phys_reg);
<a name="l00867"></a>00867     }
<a name="l00868"></a>00868 
<a name="l00869"></a>00869     <span class="comment">//Bind Float Regs to Rename Map</span>
<a name="l00870"></a>00870     <span class="keywordtype">int</span> max_reg = TheISA::NumIntRegs + <a class="code" href="namespaceAlphaISA.html#a627b25288f2452be107872a138df8b85">TheISA::NumFloatRegs</a>;
<a name="l00871"></a>00871     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> freg = TheISA::NumIntRegs; freg &lt; max_reg; freg++) {
<a name="l00872"></a>00872         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.getFloatReg();
<a name="l00873"></a>00873 
<a name="l00874"></a>00874         <a class="code" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>[tid].setEntry(freg,phys_reg);
<a name="l00875"></a>00875         <a class="code" href="classFullO3CPU.html#a5e0ec8da05a369f0327b7b78c44faa36">scoreboard</a>.<a class="code" href="classScoreboard.html#abefd2f48474b0ac4510bef8672c8957a">setReg</a>(phys_reg);
<a name="l00876"></a>00876     }
<a name="l00877"></a>00877 
<a name="l00878"></a>00878     <span class="comment">//Bind condition-code Regs to Rename Map</span>
<a name="l00879"></a>00879     max_reg = TheISA::NumIntRegs + TheISA::NumFloatRegs + <a class="code" href="namespaceAlphaISA.html#a717317b863009b3e1b683c3bdddb9fd3">TheISA::NumCCRegs</a>;
<a name="l00880"></a>00880     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> creg = TheISA::NumIntRegs + TheISA::NumFloatRegs;
<a name="l00881"></a>00881          creg &lt; max_reg; creg++) {
<a name="l00882"></a>00882         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.getCCReg();
<a name="l00883"></a>00883 
<a name="l00884"></a>00884         <a class="code" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>[tid].setEntry(creg,phys_reg);
<a name="l00885"></a>00885         <a class="code" href="classFullO3CPU.html#a5e0ec8da05a369f0327b7b78c44faa36">scoreboard</a>.<a class="code" href="classScoreboard.html#abefd2f48474b0ac4510bef8672c8957a">setReg</a>(phys_reg);
<a name="l00886"></a>00886     }
<a name="l00887"></a>00887 
<a name="l00888"></a>00888     <span class="comment">//Copy Thread Data Into RegFile</span>
<a name="l00889"></a>00889     <span class="comment">//this-&gt;copyFromTC(tid);</span>
<a name="l00890"></a>00890 
<a name="l00891"></a>00891     <span class="comment">//Set PC/NPC/NNPC</span>
<a name="l00892"></a>00892     <a class="code" href="classFullO3CPU.html#a3b836956ac0c48ddf740167753bded14">pcState</a>(src_tc-&gt;<a class="code" href="classThreadContext.html#a1aaca26c0732d2191edbde1477d7ec13">pcState</a>(), tid);
<a name="l00893"></a>00893 
<a name="l00894"></a>00894     src_tc-&gt;<a class="code" href="classThreadContext.html#ab09e388dd57fd5b8e05da30473b0a859">setStatus</a>(<a class="code" href="classThreadContext.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba26bd8444261cc58df7a86753c79d2520">ThreadContext::Active</a>);
<a name="l00895"></a>00895 
<a name="l00896"></a>00896     <a class="code" href="classFullO3CPU.html#aadedce642b14c1bde1b3281767df99d4">activateContext</a>(tid, <a class="code" href="classCycles.html">Cycles</a>(1));
<a name="l00897"></a>00897 
<a name="l00898"></a>00898     <span class="comment">//Reset ROB/IQ/LSQ Entries</span>
<a name="l00899"></a>00899     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.rob-&gt;resetEntries();
<a name="l00900"></a>00900     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.resetEntries();
<a name="l00901"></a>00901 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afae6152cf4b3a51162d6e64247c1ac09"></a><!-- doxytag: member="FullO3CPU::instAddr" ref="afae6152cf4b3a51162d6e64247c1ac09" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> instAddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads the commit PC of a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01558"></a>01558 {
<a name="l01559"></a>01559     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.instAddr(tid);
<a name="l01560"></a>01560 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4edfd60ed9beaf439e83cfda0ba130e7"></a><!-- doxytag: member="FullO3CPU::instDone" ref="a4edfd60ed9beaf439e83cfda0ba130e7" args="(ThreadID tid, DynInstPtr &amp;inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void instDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function to tell the CPU that an instruction has completed. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01596"></a>01596 {
<a name="l01597"></a>01597     <span class="comment">// Keep an instruction count.</span>
<a name="l01598"></a>01598     <span class="keywordflow">if</span> (!inst-&gt;isMicroop() || inst-&gt;isLastMicroop()) {
<a name="l01599"></a>01599         <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;numInst++;
<a name="l01600"></a>01600         <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;numInsts++;
<a name="l01601"></a>01601         <a class="code" href="classFullO3CPU.html#a45901e46dca5846ddd857aecbee16645">committedInsts</a>[tid]++;
<a name="l01602"></a>01602     }
<a name="l01603"></a>01603     <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;numOp++;
<a name="l01604"></a>01604     <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;numOps++;
<a name="l01605"></a>01605     <a class="code" href="classFullO3CPU.html#a16789fd9e4f632e091d740c772094f80">committedOps</a>[tid]++;
<a name="l01606"></a>01606 
<a name="l01607"></a>01607     <a class="code" href="classFullO3CPU.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#ac59cc9ac6419c90b7add2f0dff8babc9">totalNumInsts</a>++;
<a name="l01608"></a>01608     <span class="comment">// Check for instruction-count-based events.</span>
<a name="l01609"></a>01609     comInstEventQueue[tid]-&gt;serviceEvents(<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;numInst);
<a name="l01610"></a>01610     <a class="code" href="classFullO3CPU.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#a05694f19dc768ad2378b58790c870f61">instEventQueue</a>.<a class="code" href="classEventQueue.html#adc925eabe90846085072915cc6c544c2">serviceEvents</a>(<a class="code" href="classFullO3CPU.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#ac59cc9ac6419c90b7add2f0dff8babc9">totalNumInsts</a>);
<a name="l01611"></a>01611 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adf5473c18a3d7c1e88c4a2072bce5526"></a><!-- doxytag: member="FullO3CPU::isDrained" ref="adf5473c18a3d7c1e88c4a2072bce5526" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isDrained </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCheck.html">Check</a> if a system is in a drained state. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01234"></a>01234 {
<a name="l01235"></a>01235     <span class="keywordtype">bool</span> drained(<span class="keyword">true</span>);
<a name="l01236"></a>01236 
<a name="l01237"></a>01237     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>.size(); ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l01238"></a>01238         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#a2cc2815b59781367286d6a31fc45e9d3">activateThreadEvent</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].scheduled()) {
<a name="l01239"></a>01239             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;CPU not drained, tread %i has a &quot;</span>
<a name="l01240"></a>01240                     <span class="stringliteral">&quot;pending activate event\n&quot;</span>, <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>);
<a name="l01241"></a>01241             drained = <span class="keyword">false</span>;
<a name="l01242"></a>01242         }
<a name="l01243"></a>01243         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].scheduled()) {
<a name="l01244"></a>01244             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;CPU not drained, tread %i has a &quot;</span>
<a name="l01245"></a>01245                     <span class="stringliteral">&quot;pending deallocate context event\n&quot;</span>, <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>);
<a name="l01246"></a>01246             drained = <span class="keyword">false</span>;
<a name="l01247"></a>01247         }
<a name="l01248"></a>01248     }
<a name="l01249"></a>01249 
<a name="l01250"></a>01250     <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.empty() || !<a class="code" href="classFullO3CPU.html#a574cb1bed7660bb2bb6940365f6a3315">removeList</a>.empty()) {
<a name="l01251"></a>01251         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;Main CPU structures not drained.\n&quot;</span>);
<a name="l01252"></a>01252         drained = <span class="keyword">false</span>;
<a name="l01253"></a>01253     }
<a name="l01254"></a>01254 
<a name="l01255"></a>01255     <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.isDrained()) {
<a name="l01256"></a>01256         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;Fetch not drained.\n&quot;</span>);
<a name="l01257"></a>01257         drained = <span class="keyword">false</span>;
<a name="l01258"></a>01258     }
<a name="l01259"></a>01259 
<a name="l01260"></a>01260     <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>.isDrained()) {
<a name="l01261"></a>01261         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;Decode not drained.\n&quot;</span>);
<a name="l01262"></a>01262         drained = <span class="keyword">false</span>;
<a name="l01263"></a>01263     }
<a name="l01264"></a>01264 
<a name="l01265"></a>01265     <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.isDrained()) {
<a name="l01266"></a>01266         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;Rename not drained.\n&quot;</span>);
<a name="l01267"></a>01267         drained = <span class="keyword">false</span>;
<a name="l01268"></a>01268     }
<a name="l01269"></a>01269 
<a name="l01270"></a>01270     <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.isDrained()) {
<a name="l01271"></a>01271         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;IEW not drained.\n&quot;</span>);
<a name="l01272"></a>01272         drained = <span class="keyword">false</span>;
<a name="l01273"></a>01273     }
<a name="l01274"></a>01274 
<a name="l01275"></a>01275     <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.isDrained()) {
<a name="l01276"></a>01276         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;Commit not drained.\n&quot;</span>);
<a name="l01277"></a>01277         drained = <span class="keyword">false</span>;
<a name="l01278"></a>01278     }
<a name="l01279"></a>01279 
<a name="l01280"></a>01280     <span class="keywordflow">return</span> drained;
<a name="l01281"></a>01281 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8256d21571cb453f728d6b85e6fc6d15"></a><!-- doxytag: member="FullO3CPU::isDraining" ref="a8256d21571cb453f728d6b85e6fc6d15" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isDraining </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Is the CPU draining? </p>

<p><div class="fragment"><pre class="fragment"><a name="l00459"></a>00459 { <span class="keywordflow">return</span> getDrainState() == <a class="code" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8a929d17847bfad0d4689c9ab8540d5134">Drainable::Draining</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa295441afc0fa8f449dc1a0cb7c7b994"></a><!-- doxytag: member="FullO3CPU::microPC" ref="aa295441afc0fa8f449dc1a0cb7c7b994" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#adfb4d8b20c5abc8be73dd367b16f2d57">MicroPC</a> microPC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads the commit micro PC of a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01572"></a>01572 {
<a name="l01573"></a>01573     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.microPC(tid);
<a name="l01574"></a>01574 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af1caba1f04cf2802d742d1a16b961e79"></a><!-- doxytag: member="FullO3CPU::nextInstAddr" ref="af1caba1f04cf2802d742d1a16b961e79" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> nextInstAddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads the next PC of a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01565"></a>01565 {
<a name="l01566"></a>01566     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.nextInstAddr(tid);
<a name="l01567"></a>01567 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2cf759e627e96ea55f7b91a72d437652"></a><!-- doxytag: member="FullO3CPU::numActiveThreads" ref="a2cf759e627e96ea55f7b91a72d437652" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int numActiveThreads </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the Number of Active Threads in the CPU </p>

<p><div class="fragment"><pre class="fragment"><a name="l00412"></a>00412     { <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.size(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af486ac7476906f63fc6696b3e76a411b"></a><!-- doxytag: member="FullO3CPU::pcState" ref="af486ac7476906f63fc6696b3e76a411b" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TheISA::PCState pcState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads the commit PC state of a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01544"></a>01544 {
<a name="l01545"></a>01545     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.pcState(tid);
<a name="l01546"></a>01546 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3b836956ac0c48ddf740167753bded14"></a><!-- doxytag: member="FullO3CPU::pcState" ref="a3b836956ac0c48ddf740167753bded14" args="(const TheISA::PCState &amp;newPCState, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pcState </td>
          <td>(</td>
          <td class="paramtype">const TheISA::PCState &amp;&nbsp;</td>
          <td class="paramname"> <em>newPCState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the commit PC state of a specific thread. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01551"></a>01551 {
<a name="l01552"></a>01552     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.pcState(<a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>, tid);
<a name="l01553"></a>01553 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac3b13f31ae4a2de2b647e09c37a10822"></a><!-- doxytag: member="FullO3CPU::processInterrupts" ref="ac3b13f31ae4a2de2b647e09c37a10822" args="(Fault interrupt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processInterrupts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td>
          <td class="paramname"> <em>interrupt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Processes any an interrupt fault. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01090"></a>01090 {
<a name="l01091"></a>01091     <span class="comment">// Check for interrupts here.  For now can copy the code that</span>
<a name="l01092"></a>01092     <span class="comment">// exists within isa_fullsys_traits.hh.  Also assume that thread 0</span>
<a name="l01093"></a>01093     <span class="comment">// is the one that handles the interrupts.</span>
<a name="l01094"></a>01094     <span class="comment">// @todo: Possibly consolidate the interrupt checking code.</span>
<a name="l01095"></a>01095     <span class="comment">// @todo: Allow other threads to handle interrupts.</span>
<a name="l01096"></a>01096 
<a name="l01097"></a>01097     assert(interrupt != <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>);
<a name="l01098"></a>01098     this-&gt;<a class="code" href="classBaseCPU.html#abb9c3a7eae9af33c74d2c7da98a171bd">interrupts</a>-&gt;updateIntrInfo(this-&gt;threadContexts[0]);
<a name="l01099"></a>01099 
<a name="l01100"></a>01100     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Interrupt %s being handled\n&quot;</span>, interrupt-&gt;name());
<a name="l01101"></a>01101     this-&gt;<a class="code" href="classFullO3CPU.html#a23c9d89f64f4cfd6f48b106b99b119c4">trap</a>(interrupt, 0, <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l01102"></a>01102 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0bdeb74163a7a4d65b7773897ef8eb09"></a><!-- doxytag: member="FullO3CPU::read" ref="a0bdeb74163a7a4d65b7773897ef8eb09" args="(RequestPtr &amp;req, RequestPtr &amp;sreqLow, RequestPtr &amp;sreqHigh, uint8_t *data, int load_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sreqLow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sreqHigh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>load_idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>CPU read function, forwards read to <a class="el" href="classLSQ.html">LSQ</a>. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00816"></a>00816     {
<a name="l00817"></a>00817         <span class="keywordflow">return</span> this-&gt;<a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.ldstQueue.read(req, sreqLow, sreqHigh,
<a name="l00818"></a>00818                                         data, load_idx);
<a name="l00819"></a>00819     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a58ef256fe449eed12535745bd734f4ef"></a><!-- doxytag: member="FullO3CPU::readArchCCReg" ref="a58ef256fe449eed12535745bd734f4ef" args="(int reg_idx, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CCReg readArchCCReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01494"></a>01494 {
<a name="l01495"></a>01495     <a class="code" href="classFullO3CPU.html#a54d1bb817fb61f8ea36ad3b2063f27c6">ccRegfileReads</a>++;
<a name="l01496"></a>01496     <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[tid].lookupCC(reg_idx);
<a name="l01497"></a>01497 
<a name="l01498"></a>01498     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a4d6b1a5b45df9a45599d6daf3ea828c1">readCCReg</a>(phys_reg);
<a name="l01499"></a>01499 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adaf99a897128e25170e65323b1a5e342"></a><!-- doxytag: member="FullO3CPU::readArchFloatReg" ref="adaf99a897128e25170e65323b1a5e342" args="(int reg_idx, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float readArchFloatReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01474"></a>01474 {
<a name="l01475"></a>01475     <a class="code" href="classFullO3CPU.html#a616c93341fb6b23449fcbbab249f2b41">fpRegfileReads</a>++;
<a name="l01476"></a>01476     <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[tid].lookupFloat(reg_idx);
<a name="l01477"></a>01477 
<a name="l01478"></a>01478     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a43267ea98fb72ca0b1aa7dedc37cc571">readFloatReg</a>(phys_reg);
<a name="l01479"></a>01479 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a60141decbd780846e6669adf59970db1"></a><!-- doxytag: member="FullO3CPU::readArchFloatRegInt" ref="a60141decbd780846e6669adf59970db1" args="(int reg_idx, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t readArchFloatRegInt </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01484"></a>01484 {
<a name="l01485"></a>01485     <a class="code" href="classFullO3CPU.html#a616c93341fb6b23449fcbbab249f2b41">fpRegfileReads</a>++;
<a name="l01486"></a>01486     <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[tid].lookupFloat(reg_idx);
<a name="l01487"></a>01487 
<a name="l01488"></a>01488     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a8fd79275783cdb4121866e3aee43c839">readFloatRegBits</a>(phys_reg);
<a name="l01489"></a>01489 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a804e1580f078efbacee5689c6a922743"></a><!-- doxytag: member="FullO3CPU::readArchIntReg" ref="a804e1580f078efbacee5689c6a922743" args="(int reg_idx, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t readArchIntReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01464"></a>01464 {
<a name="l01465"></a>01465     <a class="code" href="classFullO3CPU.html#a46ee31ba135b8a26d7544abb48c242ef">intRegfileReads</a>++;
<a name="l01466"></a>01466     <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[tid].lookupInt(reg_idx);
<a name="l01467"></a>01467 
<a name="l01468"></a>01468     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a5eb773a9b4b73e9e51ba3b155cf881f7">readIntReg</a>(phys_reg);
<a name="l01469"></a>01469 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac3d147c535052bfb1f8e8fe0697168d7"></a><!-- doxytag: member="FullO3CPU::readCCReg" ref="ac3d147c535052bfb1f8e8fe0697168d7" args="(int reg_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CCReg readCCReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01424"></a>01424 {
<a name="l01425"></a>01425     <a class="code" href="classFullO3CPU.html#a54d1bb817fb61f8ea36ad3b2063f27c6">ccRegfileReads</a>++;
<a name="l01426"></a>01426     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a4d6b1a5b45df9a45599d6daf3ea828c1">readCCReg</a>(reg_idx);
<a name="l01427"></a>01427 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2f97d83baef4fbda00b7f7f62779752f"></a><!-- doxytag: member="FullO3CPU::readFloatReg" ref="a2f97d83baef4fbda00b7f7f62779752f" args="(int reg_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FloatReg readFloatReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01408"></a>01408 {
<a name="l01409"></a>01409     <a class="code" href="classFullO3CPU.html#a616c93341fb6b23449fcbbab249f2b41">fpRegfileReads</a>++;
<a name="l01410"></a>01410     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a43267ea98fb72ca0b1aa7dedc37cc571">readFloatReg</a>(reg_idx);
<a name="l01411"></a>01411 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4998e6615f835676762af364eff198e3"></a><!-- doxytag: member="FullO3CPU::readFloatRegBits" ref="a4998e6615f835676762af364eff198e3" args="(int reg_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FloatRegBits readFloatRegBits </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01416"></a>01416 {
<a name="l01417"></a>01417     <a class="code" href="classFullO3CPU.html#a616c93341fb6b23449fcbbab249f2b41">fpRegfileReads</a>++;
<a name="l01418"></a>01418     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a8fd79275783cdb4121866e3aee43c839">readFloatRegBits</a>(reg_idx);
<a name="l01419"></a>01419 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a21c850cd41ab977a2cf3450fe66ec25a"></a><!-- doxytag: member="FullO3CPU::readIntReg" ref="a21c850cd41ab977a2cf3450fe66ec25a" args="(int reg_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t readIntReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01400"></a>01400 {
<a name="l01401"></a>01401     <a class="code" href="classFullO3CPU.html#a46ee31ba135b8a26d7544abb48c242ef">intRegfileReads</a>++;
<a name="l01402"></a>01402     <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a5eb773a9b4b73e9e51ba3b155cf881f7">readIntReg</a>(reg_idx);
<a name="l01403"></a>01403 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae9d0992c10f59b8dc47ea56b3a778c32"></a><!-- doxytag: member="FullO3CPU::readMiscReg" ref="ae9d0992c10f59b8dc47ea56b3a778c32" args="(int misc_reg, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TheISA::MiscReg readMiscReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>misc_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads a misc. register, including any side effects the read might have as defined by the architecture. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01375"></a>01375 {
<a name="l01376"></a>01376     <a class="code" href="classFullO3CPU.html#a587b32e057f5caad670d221c166bda5e">miscRegfileReads</a>++;
<a name="l01377"></a>01377     <span class="keywordflow">return</span> this-&gt;<a class="code" href="classFullO3CPU.html#aa0d8dc5e214b94342d1f730e4e34ae82">isa</a>[tid]-&gt;readMiscReg(misc_reg, <a class="code" href="classFullO3CPU.html#acaae0f849591d618f1c202e5ed29b4e4">tcBase</a>(tid));
<a name="l01378"></a>01378 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adab97969b95d7b02e858364997dd7968"></a><!-- doxytag: member="FullO3CPU::readMiscRegNoEffect" ref="adab97969b95d7b02e858364997dd7968" args="(int misc_reg, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TheISA::MiscReg readMiscRegNoEffect </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>misc_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRegister.html">Register</a> accessors. Index refers to the physical register index. Reads a miscellaneous register. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01368"></a>01368 {
<a name="l01369"></a>01369     <span class="keywordflow">return</span> this-&gt;<a class="code" href="classFullO3CPU.html#aa0d8dc5e214b94342d1f730e4e34ae82">isa</a>[tid]-&gt;readMiscRegNoEffect(misc_reg);
<a name="l01370"></a>01370 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa2dab17a363fd4307274d579796adcf7"></a><!-- doxytag: member="FullO3CPU::regProbePoints" ref="aa2dab17a363fd4307274d579796adcf7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void regProbePoints </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRegister.html">Register</a> probe points. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00472"></a>00472 {
<a name="l00473"></a>00473     <a class="code" href="classFullO3CPU.html#aa39ae53643b00bc644caa5967b8a428a">ppInstAccessComplete</a> = <span class="keyword">new</span> <a class="code" href="classProbePointArg.html">ProbePointArg&lt;PacketPtr&gt;</a>(getProbeManager(), <span class="stringliteral">&quot;InstAccessComplete&quot;</span>);
<a name="l00474"></a>00474     <a class="code" href="classFullO3CPU.html#a4cbcb5b1a3968d3e5229656571604ba5">ppDataAccessComplete</a> = <span class="keyword">new</span> <a class="code" href="classProbePointArg.html">ProbePointArg&lt;std::pair&lt;DynInstPtr, PacketPtr&gt;</a> &gt;(getProbeManager(), <span class="stringliteral">&quot;DataAccessComplete&quot;</span>);
<a name="l00475"></a>00475     <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.regProbePoints();
<a name="l00476"></a>00476     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.regProbePoints();
<a name="l00477"></a>00477     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.regProbePoints();
<a name="l00478"></a>00478 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4dc637449366fcdfc4e764cdf12d9b11"></a><!-- doxytag: member="FullO3CPU::regStats" ref="a4dc637449366fcdfc4e764cdf12d9b11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void regStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Registers statistics. </p>

<p><a class="el" href="classBaseO3CPU.html#a4dc637449366fcdfc4e764cdf12d9b11">BaseO3CPU</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00483"></a>00483 {
<a name="l00484"></a>00484     <a class="code" href="classFullO3CPU.html#a4dc637449366fcdfc4e764cdf12d9b11">BaseO3CPU::regStats</a>();
<a name="l00485"></a>00485 
<a name="l00486"></a>00486     <span class="comment">// Register any of the O3CPU&apos;s stats here.</span>
<a name="l00487"></a>00487     <a class="code" href="classFullO3CPU.html#a174dbfb3c7b892914a54cec44ed2eeaf">timesIdled</a>
<a name="l00488"></a>00488         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.timesIdled&quot;</span>)
<a name="l00489"></a>00489         .desc(<span class="stringliteral">&quot;Number of times that the entire CPU went into an idle state and&quot;</span>
<a name="l00490"></a>00490               <span class="stringliteral">&quot; unscheduled itself&quot;</span>)
<a name="l00491"></a>00491         .prereq(<a class="code" href="classFullO3CPU.html#a174dbfb3c7b892914a54cec44ed2eeaf">timesIdled</a>);
<a name="l00492"></a>00492 
<a name="l00493"></a>00493     <a class="code" href="classFullO3CPU.html#a42e0f4c18fdb8ef7504f5c45d697fb14">idleCycles</a>
<a name="l00494"></a>00494         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.idleCycles&quot;</span>)
<a name="l00495"></a>00495         .desc(<span class="stringliteral">&quot;Total number of cycles that the CPU has spent unscheduled due &quot;</span>
<a name="l00496"></a>00496               <span class="stringliteral">&quot;to idling&quot;</span>)
<a name="l00497"></a>00497         .prereq(<a class="code" href="classFullO3CPU.html#a42e0f4c18fdb8ef7504f5c45d697fb14">idleCycles</a>);
<a name="l00498"></a>00498 
<a name="l00499"></a>00499     <a class="code" href="classFullO3CPU.html#abb746a633705067014bd46e175928a51">quiesceCycles</a>
<a name="l00500"></a>00500         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.quiesceCycles&quot;</span>)
<a name="l00501"></a>00501         .desc(<span class="stringliteral">&quot;Total number of cycles that CPU has spent quiesced or waiting &quot;</span>
<a name="l00502"></a>00502               <span class="stringliteral">&quot;for an interrupt&quot;</span>)
<a name="l00503"></a>00503         .prereq(<a class="code" href="classFullO3CPU.html#abb746a633705067014bd46e175928a51">quiesceCycles</a>);
<a name="l00504"></a>00504 
<a name="l00505"></a>00505     <span class="comment">// Number of Instructions simulated</span>
<a name="l00506"></a>00506     <span class="comment">// --------------------------------</span>
<a name="l00507"></a>00507     <span class="comment">// Should probably be in Base CPU but need templated</span>
<a name="l00508"></a>00508     <span class="comment">// MaxThreads so put in here instead</span>
<a name="l00509"></a>00509     <a class="code" href="classFullO3CPU.html#a45901e46dca5846ddd857aecbee16645">committedInsts</a>
<a name="l00510"></a>00510         .<a class="code" href="classStats_1_1VectorBase.html#ae41cad1a02eeb7958df026d8e2cc7582">init</a>(<a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a>)
<a name="l00511"></a>00511         .name(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.committedInsts&quot;</span>)
<a name="l00512"></a>00512         .desc(<span class="stringliteral">&quot;Number of Instructions Simulated&quot;</span>)
<a name="l00513"></a>00513         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">Stats::total</a>);
<a name="l00514"></a>00514 
<a name="l00515"></a>00515     <a class="code" href="classFullO3CPU.html#a16789fd9e4f632e091d740c772094f80">committedOps</a>
<a name="l00516"></a>00516         .<a class="code" href="classStats_1_1VectorBase.html#ae41cad1a02eeb7958df026d8e2cc7582">init</a>(<a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a>)
<a name="l00517"></a>00517         .name(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.committedOps&quot;</span>)
<a name="l00518"></a>00518         .desc(<span class="stringliteral">&quot;Number of Ops (including micro ops) Simulated&quot;</span>)
<a name="l00519"></a>00519         .flags(<a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">Stats::total</a>);
<a name="l00520"></a>00520 
<a name="l00521"></a>00521     <a class="code" href="classFullO3CPU.html#af68d211cace2daa3df90471d7af93ad8">cpi</a>
<a name="l00522"></a>00522         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.cpi&quot;</span>)
<a name="l00523"></a>00523         .desc(<span class="stringliteral">&quot;CPI: Cycles Per Instruction&quot;</span>)
<a name="l00524"></a>00524         .precision(6);
<a name="l00525"></a>00525     <a class="code" href="classFullO3CPU.html#af68d211cace2daa3df90471d7af93ad8">cpi</a> = numCycles / <a class="code" href="classFullO3CPU.html#a45901e46dca5846ddd857aecbee16645">committedInsts</a>;
<a name="l00526"></a>00526 
<a name="l00527"></a>00527     <a class="code" href="classFullO3CPU.html#a5bd2f06c271dd03138cad92251716f5d">totalCpi</a>
<a name="l00528"></a>00528         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.cpi_total&quot;</span>)
<a name="l00529"></a>00529         .desc(<span class="stringliteral">&quot;CPI: Total CPI of All Threads&quot;</span>)
<a name="l00530"></a>00530         .precision(6);
<a name="l00531"></a>00531     <a class="code" href="classFullO3CPU.html#a5bd2f06c271dd03138cad92251716f5d">totalCpi</a> = numCycles / <a class="code" href="namespaceStats.html#adb8b0b9d553e52514e3db14f6bf7c449">sum</a>(<a class="code" href="classFullO3CPU.html#a45901e46dca5846ddd857aecbee16645">committedInsts</a>);
<a name="l00532"></a>00532 
<a name="l00533"></a>00533     <a class="code" href="classFullO3CPU.html#a6f168a31ee4084b6167d6761a4124014">ipc</a>
<a name="l00534"></a>00534         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.ipc&quot;</span>)
<a name="l00535"></a>00535         .desc(<span class="stringliteral">&quot;IPC: Instructions Per Cycle&quot;</span>)
<a name="l00536"></a>00536         .precision(6);
<a name="l00537"></a>00537     <a class="code" href="classFullO3CPU.html#a6f168a31ee4084b6167d6761a4124014">ipc</a> =  <a class="code" href="classFullO3CPU.html#a45901e46dca5846ddd857aecbee16645">committedInsts</a> / numCycles;
<a name="l00538"></a>00538 
<a name="l00539"></a>00539     <a class="code" href="classFullO3CPU.html#ae8551f10097f4b2e5ed3febf0d9417e3">totalIpc</a>
<a name="l00540"></a>00540         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.ipc_total&quot;</span>)
<a name="l00541"></a>00541         .desc(<span class="stringliteral">&quot;IPC: Total IPC of All Threads&quot;</span>)
<a name="l00542"></a>00542         .precision(6);
<a name="l00543"></a>00543     <a class="code" href="classFullO3CPU.html#ae8551f10097f4b2e5ed3febf0d9417e3">totalIpc</a> =  <a class="code" href="namespaceStats.html#adb8b0b9d553e52514e3db14f6bf7c449">sum</a>(<a class="code" href="classFullO3CPU.html#a45901e46dca5846ddd857aecbee16645">committedInsts</a>) / numCycles;
<a name="l00544"></a>00544 
<a name="l00545"></a>00545     this-&gt;<a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.regStats();
<a name="l00546"></a>00546     this-&gt;<a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>.regStats();
<a name="l00547"></a>00547     this-&gt;<a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.regStats();
<a name="l00548"></a>00548     this-&gt;<a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.regStats();
<a name="l00549"></a>00549     this-&gt;<a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.regStats();
<a name="l00550"></a>00550     this-&gt;<a class="code" href="classFullO3CPU.html#ad649787f87175a89806eeccaee4832e9">rob</a>.regStats();
<a name="l00551"></a>00551 
<a name="l00552"></a>00552     <a class="code" href="classFullO3CPU.html#a46ee31ba135b8a26d7544abb48c242ef">intRegfileReads</a>
<a name="l00553"></a>00553         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.int_regfile_reads&quot;</span>)
<a name="l00554"></a>00554         .desc(<span class="stringliteral">&quot;number of integer regfile reads&quot;</span>)
<a name="l00555"></a>00555         .prereq(<a class="code" href="classFullO3CPU.html#a46ee31ba135b8a26d7544abb48c242ef">intRegfileReads</a>);
<a name="l00556"></a>00556 
<a name="l00557"></a>00557     <a class="code" href="classFullO3CPU.html#a0539045bb3599b1c57886d55a19fa2d2">intRegfileWrites</a>
<a name="l00558"></a>00558         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.int_regfile_writes&quot;</span>)
<a name="l00559"></a>00559         .desc(<span class="stringliteral">&quot;number of integer regfile writes&quot;</span>)
<a name="l00560"></a>00560         .prereq(<a class="code" href="classFullO3CPU.html#a0539045bb3599b1c57886d55a19fa2d2">intRegfileWrites</a>);
<a name="l00561"></a>00561 
<a name="l00562"></a>00562     <a class="code" href="classFullO3CPU.html#a616c93341fb6b23449fcbbab249f2b41">fpRegfileReads</a>
<a name="l00563"></a>00563         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.fp_regfile_reads&quot;</span>)
<a name="l00564"></a>00564         .desc(<span class="stringliteral">&quot;number of floating regfile reads&quot;</span>)
<a name="l00565"></a>00565         .prereq(<a class="code" href="classFullO3CPU.html#a616c93341fb6b23449fcbbab249f2b41">fpRegfileReads</a>);
<a name="l00566"></a>00566 
<a name="l00567"></a>00567     <a class="code" href="classFullO3CPU.html#ad308a484dfaaaff1d57080527f19f3be">fpRegfileWrites</a>
<a name="l00568"></a>00568         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.fp_regfile_writes&quot;</span>)
<a name="l00569"></a>00569         .desc(<span class="stringliteral">&quot;number of floating regfile writes&quot;</span>)
<a name="l00570"></a>00570         .prereq(<a class="code" href="classFullO3CPU.html#ad308a484dfaaaff1d57080527f19f3be">fpRegfileWrites</a>);
<a name="l00571"></a>00571 
<a name="l00572"></a>00572     <a class="code" href="classFullO3CPU.html#a54d1bb817fb61f8ea36ad3b2063f27c6">ccRegfileReads</a>
<a name="l00573"></a>00573         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.cc_regfile_reads&quot;</span>)
<a name="l00574"></a>00574         .desc(<span class="stringliteral">&quot;number of cc regfile reads&quot;</span>)
<a name="l00575"></a>00575         .prereq(<a class="code" href="classFullO3CPU.html#a54d1bb817fb61f8ea36ad3b2063f27c6">ccRegfileReads</a>);
<a name="l00576"></a>00576 
<a name="l00577"></a>00577     <a class="code" href="classFullO3CPU.html#abd236585eb8f96cd37f7cea04204d456">ccRegfileWrites</a>
<a name="l00578"></a>00578         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.cc_regfile_writes&quot;</span>)
<a name="l00579"></a>00579         .desc(<span class="stringliteral">&quot;number of cc regfile writes&quot;</span>)
<a name="l00580"></a>00580         .prereq(<a class="code" href="classFullO3CPU.html#abd236585eb8f96cd37f7cea04204d456">ccRegfileWrites</a>);
<a name="l00581"></a>00581 
<a name="l00582"></a>00582     <a class="code" href="classFullO3CPU.html#a587b32e057f5caad670d221c166bda5e">miscRegfileReads</a>
<a name="l00583"></a>00583         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.misc_regfile_reads&quot;</span>)
<a name="l00584"></a>00584         .desc(<span class="stringliteral">&quot;number of misc regfile reads&quot;</span>)
<a name="l00585"></a>00585         .prereq(<a class="code" href="classFullO3CPU.html#a587b32e057f5caad670d221c166bda5e">miscRegfileReads</a>);
<a name="l00586"></a>00586 
<a name="l00587"></a>00587     <a class="code" href="classFullO3CPU.html#a457c81c9e364d41871df8cb5f04ea1b4">miscRegfileWrites</a>
<a name="l00588"></a>00588         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="trace_8hh.html#a166fa10b86d8faa127fb7c78191e3e60">name</a>() + <span class="stringliteral">&quot;.misc_regfile_writes&quot;</span>)
<a name="l00589"></a>00589         .desc(<span class="stringliteral">&quot;number of misc regfile writes&quot;</span>)
<a name="l00590"></a>00590         .prereq(<a class="code" href="classFullO3CPU.html#a457c81c9e364d41871df8cb5f04ea1b4">miscRegfileWrites</a>);
<a name="l00591"></a>00591 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6f40adbce5903c52e6460ab8c17489ef"></a><!-- doxytag: member="FullO3CPU::removeFrontInst" ref="a6f40adbce5903c52e6460ab8c17489ef" args="(DynInstPtr &amp;inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void removeFrontInst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inst</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove an instruction from the front end of the list. There's no restriction on location of the instruction. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01616"></a>01616 {
<a name="l01617"></a>01617     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Removing committed instruction [tid:%i] PC %s &quot;</span>
<a name="l01618"></a>01618             <span class="stringliteral">&quot;[sn:%lli]\n&quot;</span>,
<a name="l01619"></a>01619             inst-&gt;threadNumber, inst-&gt;pcState(), inst-&gt;seqNum);
<a name="l01620"></a>01620 
<a name="l01621"></a>01621     <a class="code" href="classFullO3CPU.html#a2825a91132fe292d64dca3c61fd07410">removeInstsThisCycle</a> = <span class="keyword">true</span>;
<a name="l01622"></a>01622 
<a name="l01623"></a>01623     <span class="comment">// Remove the front instruction.</span>
<a name="l01624"></a>01624     <a class="code" href="classFullO3CPU.html#a574cb1bed7660bb2bb6940365f6a3315">removeList</a>.push(inst-&gt;getInstListIt());
<a name="l01625"></a>01625 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a37bf3e194e9e98e4e7366e35fb6ebf49"></a><!-- doxytag: member="FullO3CPU::removeInstsNotInROB" ref="a37bf3e194e9e98e4e7366e35fb6ebf49" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void removeInstsNotInROB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove all instructions that are not currently in the <a class="el" href="classROB.html">ROB</a>. There's also an option to not squash delay slot instructions. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01630"></a>01630 {
<a name="l01631"></a>01631     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Thread %i: Deleting instructions from instruction&quot;</span>
<a name="l01632"></a>01632             <span class="stringliteral">&quot; list.\n&quot;</span>, tid);
<a name="l01633"></a>01633 
<a name="l01634"></a>01634     <a class="code" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> end_it;
<a name="l01635"></a>01635 
<a name="l01636"></a>01636     <span class="keywordtype">bool</span> rob_empty = <span class="keyword">false</span>;
<a name="l01637"></a>01637 
<a name="l01638"></a>01638     <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.empty()) {
<a name="l01639"></a>01639         <span class="keywordflow">return</span>;
<a name="l01640"></a>01640     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#ad649787f87175a89806eeccaee4832e9">rob</a>.isEmpty(tid)) {
<a name="l01641"></a>01641         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;ROB is empty, squashing all insts.\n&quot;</span>);
<a name="l01642"></a>01642         end_it = <a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.begin();
<a name="l01643"></a>01643         rob_empty = <span class="keyword">true</span>;
<a name="l01644"></a>01644     } <span class="keywordflow">else</span> {
<a name="l01645"></a>01645         end_it = (<a class="code" href="classFullO3CPU.html#ad649787f87175a89806eeccaee4832e9">rob</a>.readTailInst(tid))-&gt;getInstListIt();
<a name="l01646"></a>01646         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;ROB is not empty, squashing insts not in ROB.\n&quot;</span>);
<a name="l01647"></a>01647     }
<a name="l01648"></a>01648 
<a name="l01649"></a>01649     <a class="code" href="classFullO3CPU.html#a2825a91132fe292d64dca3c61fd07410">removeInstsThisCycle</a> = <span class="keyword">true</span>;
<a name="l01650"></a>01650 
<a name="l01651"></a>01651     <a class="code" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> inst_it = <a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.end();
<a name="l01652"></a>01652 
<a name="l01653"></a>01653     inst_it--;
<a name="l01654"></a>01654 
<a name="l01655"></a>01655     <span class="comment">// Walk through the instruction list, removing any instructions</span>
<a name="l01656"></a>01656     <span class="comment">// that were inserted after the given instruction iterator, end_it.</span>
<a name="l01657"></a>01657     <span class="keywordflow">while</span> (inst_it != end_it) {
<a name="l01658"></a>01658         assert(!<a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.empty());
<a name="l01659"></a>01659 
<a name="l01660"></a>01660         <a class="code" href="classFullO3CPU.html#a2b698a48b0c233f49e2994bc28dc0bbf">squashInstIt</a>(inst_it, tid);
<a name="l01661"></a>01661 
<a name="l01662"></a>01662         inst_it--;
<a name="l01663"></a>01663     }
<a name="l01664"></a>01664 
<a name="l01665"></a>01665     <span class="comment">// If the ROB was empty, then we actually need to remove the first</span>
<a name="l01666"></a>01666     <span class="comment">// instruction as well.</span>
<a name="l01667"></a>01667     <span class="keywordflow">if</span> (rob_empty) {
<a name="l01668"></a>01668         <a class="code" href="classFullO3CPU.html#a2b698a48b0c233f49e2994bc28dc0bbf">squashInstIt</a>(inst_it, tid);
<a name="l01669"></a>01669     }
<a name="l01670"></a>01670 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a79f7e36d4bd89fe4528b665a949a0023"></a><!-- doxytag: member="FullO3CPU::removeInstsUntil" ref="a79f7e36d4bd89fe4528b665a949a0023" args="(const InstSeqNum &amp;seq_num, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void removeInstsUntil </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>seq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove all instructions younger than the given sequence number. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01675"></a>01675 {
<a name="l01676"></a>01676     assert(!<a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.empty());
<a name="l01677"></a>01677 
<a name="l01678"></a>01678     <a class="code" href="classFullO3CPU.html#a2825a91132fe292d64dca3c61fd07410">removeInstsThisCycle</a> = <span class="keyword">true</span>;
<a name="l01679"></a>01679 
<a name="l01680"></a>01680     <a class="code" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> inst_iter = <a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.end();
<a name="l01681"></a>01681 
<a name="l01682"></a>01682     inst_iter--;
<a name="l01683"></a>01683 
<a name="l01684"></a>01684     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Deleting instructions from instruction &quot;</span>
<a name="l01685"></a>01685             <span class="stringliteral">&quot;list that are from [tid:%i] and above [sn:%lli] (end=%lli).\n&quot;</span>,
<a name="l01686"></a>01686             tid, seq_num, (*inst_iter)-&gt;seqNum);
<a name="l01687"></a>01687 
<a name="l01688"></a>01688     <span class="keywordflow">while</span> ((*inst_iter)-&gt;seqNum &gt; seq_num) {
<a name="l01689"></a>01689 
<a name="l01690"></a>01690         <span class="keywordtype">bool</span> break_loop = (inst_iter == <a class="code" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a>.begin());
<a name="l01691"></a>01691 
<a name="l01692"></a>01692         <a class="code" href="classFullO3CPU.html#a2b698a48b0c233f49e2994bc28dc0bbf">squashInstIt</a>(inst_iter, tid);
<a name="l01693"></a>01693 
<a name="l01694"></a>01694         inst_iter--;
<a name="l01695"></a>01695 
<a name="l01696"></a>01696         <span class="keywordflow">if</span> (break_loop)
<a name="l01697"></a>01697             <span class="keywordflow">break</span>;
<a name="l01698"></a>01698     }
<a name="l01699"></a>01699 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5fd824111bd328c70c3060d121ac5d49"></a><!-- doxytag: member="FullO3CPU::removeThread" ref="a5fd824111bd328c70c3060d121ac5d49" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void removeThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove all of a thread's context from CPU </p>

<p><div class="fragment"><pre class="fragment"><a name="l00906"></a>00906 {
<a name="l00907"></a>00907     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid:%i] Removing thread context from CPU.\n&quot;</span>, tid);
<a name="l00908"></a>00908 
<a name="l00909"></a>00909     <span class="comment">// Copy Thread Data From RegFile</span>
<a name="l00910"></a>00910     <span class="comment">// If thread is suspended, it might be re-allocated</span>
<a name="l00911"></a>00911     <span class="comment">// this-&gt;copyToTC(tid);</span>
<a name="l00912"></a>00912 
<a name="l00913"></a>00913 
<a name="l00914"></a>00914     <span class="comment">// @todo: 2-27-2008: Fix how we free up rename mappings</span>
<a name="l00915"></a>00915     <span class="comment">// here to alleviate the case for double-freeing registers</span>
<a name="l00916"></a>00916     <span class="comment">// in SMT workloads.</span>
<a name="l00917"></a>00917 
<a name="l00918"></a>00918     <span class="comment">// Unbind Int Regs from Rename Map</span>
<a name="l00919"></a>00919     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ireg = 0; ireg &lt; <a class="code" href="namespaceAlphaISA.html#a9c412b5118ce369570c156c4e156638a">TheISA::NumIntRegs</a>; ireg++) {
<a name="l00920"></a>00920         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>[tid].lookup(ireg);
<a name="l00921"></a>00921 
<a name="l00922"></a>00922         <a class="code" href="classFullO3CPU.html#a5e0ec8da05a369f0327b7b78c44faa36">scoreboard</a>.<a class="code" href="classScoreboard.html#a69192a05bc6089fef590191f4ca52d11">unsetReg</a>(phys_reg);
<a name="l00923"></a>00923         <a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.addReg(phys_reg);
<a name="l00924"></a>00924     }
<a name="l00925"></a>00925 
<a name="l00926"></a>00926     <span class="comment">// Unbind Float Regs from Rename Map</span>
<a name="l00927"></a>00927     <span class="keywordtype">int</span> max_reg = TheISA::NumIntRegs + <a class="code" href="namespaceAlphaISA.html#a627b25288f2452be107872a138df8b85">TheISA::NumFloatRegs</a>;
<a name="l00928"></a>00928     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> freg = TheISA::NumIntRegs; freg &lt; max_reg; freg++) {
<a name="l00929"></a>00929         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>[tid].lookup(freg);
<a name="l00930"></a>00930 
<a name="l00931"></a>00931         <a class="code" href="classFullO3CPU.html#a5e0ec8da05a369f0327b7b78c44faa36">scoreboard</a>.<a class="code" href="classScoreboard.html#a69192a05bc6089fef590191f4ca52d11">unsetReg</a>(phys_reg);
<a name="l00932"></a>00932         <a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.addReg(phys_reg);
<a name="l00933"></a>00933     }
<a name="l00934"></a>00934 
<a name="l00935"></a>00935     <span class="comment">// Unbind condition-code Regs from Rename Map</span>
<a name="l00936"></a>00936     max_reg = TheISA::NumIntRegs + TheISA::NumFloatRegs + <a class="code" href="namespaceAlphaISA.html#a717317b863009b3e1b683c3bdddb9fd3">TheISA::NumCCRegs</a>;
<a name="l00937"></a>00937     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> creg = TheISA::NumIntRegs + TheISA::NumFloatRegs;
<a name="l00938"></a>00938          creg &lt; max_reg; creg++) {
<a name="l00939"></a>00939         <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>[tid].lookup(creg);
<a name="l00940"></a>00940 
<a name="l00941"></a>00941         <a class="code" href="classFullO3CPU.html#a5e0ec8da05a369f0327b7b78c44faa36">scoreboard</a>.<a class="code" href="classScoreboard.html#a69192a05bc6089fef590191f4ca52d11">unsetReg</a>(phys_reg);
<a name="l00942"></a>00942         <a class="code" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a>.addReg(phys_reg);
<a name="l00943"></a>00943     }
<a name="l00944"></a>00944 
<a name="l00945"></a>00945     <span class="comment">// Squash Throughout Pipeline</span>
<a name="l00946"></a>00946     <a class="code" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a> inst = <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.rob-&gt;readHeadInst(tid);
<a name="l00947"></a>00947     <a class="code" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> squash_seq_num = inst-&gt;seqNum;
<a name="l00948"></a>00948     <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.squash(0, squash_seq_num, inst, tid);
<a name="l00949"></a>00949     <a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>.squash(tid);
<a name="l00950"></a>00950     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.squash(squash_seq_num, tid);
<a name="l00951"></a>00951     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.squash(tid);
<a name="l00952"></a>00952     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.ldstQueue.squash(squash_seq_num, tid);
<a name="l00953"></a>00953     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.rob-&gt;squash(squash_seq_num, tid);
<a name="l00954"></a>00954 
<a name="l00955"></a>00955 
<a name="l00956"></a>00956     assert(<a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.instQueue.getCount(tid) == 0);
<a name="l00957"></a>00957     assert(<a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.ldstQueue.getCount(tid) == 0);
<a name="l00958"></a>00958 
<a name="l00959"></a>00959     <span class="comment">// Reset ROB/IQ/LSQ Entries</span>
<a name="l00960"></a>00960 
<a name="l00961"></a>00961     <span class="comment">// Commented out for now.  This should be possible to do by</span>
<a name="l00962"></a>00962     <span class="comment">// telling all the pipeline stages to drain first, and then</span>
<a name="l00963"></a>00963     <span class="comment">// checking until the drain completes.  Once the pipeline is</span>
<a name="l00964"></a>00964     <span class="comment">// drained, call resetEntries(). - 10-09-06 ktlim</span>
<a name="l00965"></a>00965 <span class="comment">/*</span>
<a name="l00966"></a>00966 <span class="comment">    if (activeThreads.size() &gt;= 1) {</span>
<a name="l00967"></a>00967 <span class="comment">        commit.rob-&gt;resetEntries();</span>
<a name="l00968"></a>00968 <span class="comment">        iew.resetEntries();</span>
<a name="l00969"></a>00969 <span class="comment">    }</span>
<a name="l00970"></a>00970 <span class="comment">*/</span>
<a name="l00971"></a>00971 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a20e502f38206c8cd988064e7bed53bb5"></a><!-- doxytag: member="FullO3CPU::scheduleActivateThreadEvent" ref="a20e502f38206c8cd988064e7bed53bb5" args="(ThreadID tid, Cycles delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduleActivateThreadEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td>
          <td class="paramname"> <em>delay</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Schedule thread to activate , regardless of its current state. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00258"></a>00258     {
<a name="l00259"></a>00259         <span class="comment">// Schedule thread to activate, regardless of its current state.</span>
<a name="l00260"></a>00260         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#a2cc2815b59781367286d6a31fc45e9d3">activateThreadEvent</a>[tid].squashed())
<a name="l00261"></a>00261             reschedule(<a class="code" href="classFullO3CPU.html#a2cc2815b59781367286d6a31fc45e9d3">activateThreadEvent</a>[tid],
<a name="l00262"></a>00262                        clockEdge(delay));
<a name="l00263"></a>00263         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#a2cc2815b59781367286d6a31fc45e9d3">activateThreadEvent</a>[tid].scheduled()) {
<a name="l00264"></a>00264             <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> when = clockEdge(delay);
<a name="l00265"></a>00265 
<a name="l00266"></a>00266             <span class="comment">// Check if the deallocateEvent is also scheduled, and make</span>
<a name="l00267"></a>00267             <span class="comment">// sure they do not happen at same time causing a sleep that</span>
<a name="l00268"></a>00268             <span class="comment">// is never woken from.</span>
<a name="l00269"></a>00269             <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a>[tid].scheduled() &amp;&amp;
<a name="l00270"></a>00270                 <a class="code" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a>[tid].when() == when) {
<a name="l00271"></a>00271                 when++;
<a name="l00272"></a>00272             }
<a name="l00273"></a>00273 
<a name="l00274"></a>00274             schedule(<a class="code" href="classFullO3CPU.html#a2cc2815b59781367286d6a31fc45e9d3">activateThreadEvent</a>[tid], when);
<a name="l00275"></a>00275         }
<a name="l00276"></a>00276     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a64179a936408228ff1718afd541e230b"></a><!-- doxytag: member="FullO3CPU::scheduleDeallocateContext" ref="a64179a936408228ff1718afd541e230b" args="(ThreadID tid, bool remove, Cycles delay=Cycles(1))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool scheduleDeallocateContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>remove</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td>
          <td class="paramname"> <em>delay</em> = <code><a class="el" href="classCycles.html">Cycles</a>(1)</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove Thread from Active Threads List &amp;&amp; Possibly Remove Thread Context from CPU. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00806"></a>00806 {
<a name="l00807"></a>00807     <span class="comment">// Schedule removal of thread data from CPU</span>
<a name="l00808"></a>00808     <span class="keywordflow">if</span> (delay){
<a name="l00809"></a>00809         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;[tid:%i]: Scheduling thread context to deallocate &quot;</span>
<a name="l00810"></a>00810                 <span class="stringliteral">&quot;on tick %d\n&quot;</span>, tid, clockEdge(delay));
<a name="l00811"></a>00811         <a class="code" href="classFullO3CPU.html#a8c575b3dcfc822888003b64457ac9755">scheduleDeallocateContextEvent</a>(tid, <span class="keyword">remove</span>, delay);
<a name="l00812"></a>00812         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00813"></a>00813     } <span class="keywordflow">else</span> {
<a name="l00814"></a>00814         <a class="code" href="classFullO3CPU.html#ad11d9216ad92d9036ebf37844cf6e706">deactivateThread</a>(tid);
<a name="l00815"></a>00815         <span class="keywordflow">if</span> (<span class="keyword">remove</span>)
<a name="l00816"></a>00816             <a class="code" href="classFullO3CPU.html#a5fd824111bd328c70c3060d121ac5d49">removeThread</a>(tid);
<a name="l00817"></a>00817         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00818"></a>00818     }
<a name="l00819"></a>00819 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8c575b3dcfc822888003b64457ac9755"></a><!-- doxytag: member="FullO3CPU::scheduleDeallocateContextEvent" ref="a8c575b3dcfc822888003b64457ac9755" args="(ThreadID tid, bool remove, Cycles delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduleDeallocateContextEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>remove</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td>
          <td class="paramname"> <em>delay</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Schedule cpu to deallocate thread context. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00321"></a>00321     {
<a name="l00322"></a>00322         <span class="comment">// Schedule thread to activate, regardless of its current state.</span>
<a name="l00323"></a>00323         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a>[tid].squashed())
<a name="l00324"></a>00324             reschedule(<a class="code" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a>[tid],
<a name="l00325"></a>00325                        clockEdge(delay));
<a name="l00326"></a>00326         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a>[tid].scheduled())
<a name="l00327"></a>00327             schedule(<a class="code" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a>[tid],
<a name="l00328"></a>00328                      clockEdge(delay));
<a name="l00329"></a>00329     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a71eb9ea7b25032de341033111b946dfc"></a><!-- doxytag: member="FullO3CPU::scheduleTickEvent" ref="a71eb9ea7b25032de341033111b946dfc" args="(Cycles delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduleTickEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td>
          <td class="paramname"> <em>delay</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Schedule tick event, regardless of its current state. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00218"></a>00218     {
<a name="l00219"></a>00219         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>.<a class="code" href="classEvent.html#af355b62f22559090d6e3047bdf83f24f" title="Check whether the event is squashed.">squashed</a>())
<a name="l00220"></a>00220             reschedule(<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>, clockEdge(delay));
<a name="l00221"></a>00221         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>())
<a name="l00222"></a>00222             schedule(<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>, clockEdge(delay));
<a name="l00223"></a>00223     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a688ca491f5419c29fb81f8235ba1dc13"></a><!-- doxytag: member="FullO3CPU::serializeThread" ref="a688ca491f5419c29fb81f8235ba1dc13" args="(std::ostream &amp;os, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serializeThread </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01135"></a>01135 {
<a name="l01136"></a>01136     <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;serialize(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>);
<a name="l01137"></a>01137 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aae7106b0574d000f60ebacc2f938fe62"></a><!-- doxytag: member="FullO3CPU::setArchCCReg" ref="aae7106b0574d000f60ebacc2f938fe62" args="(int reg_idx, TheISA::CCReg val, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setArchCCReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TheISA::CCReg&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac527b87a643907df19ca5f4600200382"></a><!-- doxytag: member="FullO3CPU::setArchFloatReg" ref="ac527b87a643907df19ca5f4600200382" args="(int reg_idx, float val, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setArchFloatReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01514"></a>01514 {
<a name="l01515"></a>01515     <a class="code" href="classFullO3CPU.html#ad308a484dfaaaff1d57080527f19f3be">fpRegfileWrites</a>++;
<a name="l01516"></a>01516     <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[tid].lookupFloat(reg_idx);
<a name="l01517"></a>01517 
<a name="l01518"></a>01518     <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a8aeacafd7db9859a055d4ac5657e6bb7">setFloatReg</a>(phys_reg, <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>);
<a name="l01519"></a>01519 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1295e65a7841d7e83a5f3a3c44770c8f"></a><!-- doxytag: member="FullO3CPU::setArchFloatRegInt" ref="a1295e65a7841d7e83a5f3a3c44770c8f" args="(int reg_idx, uint64_t val, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setArchFloatRegInt </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01524"></a>01524 {
<a name="l01525"></a>01525     <a class="code" href="classFullO3CPU.html#ad308a484dfaaaff1d57080527f19f3be">fpRegfileWrites</a>++;
<a name="l01526"></a>01526     <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[tid].lookupFloat(reg_idx);
<a name="l01527"></a>01527 
<a name="l01528"></a>01528     <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a394e971ff5d17b49dee93063772f87ce">setFloatRegBits</a>(phys_reg, <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>);
<a name="l01529"></a>01529 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a09df95cc1f92c9002cd7c0506e2ba864"></a><!-- doxytag: member="FullO3CPU::setArchIntReg" ref="a09df95cc1f92c9002cd7c0506e2ba864" args="(int reg_idx, uint64_t val, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setArchIntReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Architectural register accessors. Looks up in the commit rename table to obtain the true physical index of the architected register first, then accesses that physical register. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01504"></a>01504 {
<a name="l01505"></a>01505     <a class="code" href="classFullO3CPU.html#a0539045bb3599b1c57886d55a19fa2d2">intRegfileWrites</a>++;
<a name="l01506"></a>01506     <a class="code" href="o3_2comm_8hh.html#a5ec29599c4bc29a3054c451674969e7b">PhysRegIndex</a> phys_reg = <a class="code" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[tid].lookupInt(reg_idx);
<a name="l01507"></a>01507 
<a name="l01508"></a>01508     <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a4c51910e7542c198251e8d014077e9c6">setIntReg</a>(phys_reg, <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>);
<a name="l01509"></a>01509 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab41bd7f1c28d09676694843602e180b6"></a><!-- doxytag: member="FullO3CPU::setCCReg" ref="ab41bd7f1c28d09676694843602e180b6" args="(int reg_idx, TheISA::CCReg val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setCCReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TheISA::CCReg&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab4fbd29dd25664125eb83aa0d1c45a96"></a><!-- doxytag: member="FullO3CPU::setFloatReg" ref="ab4fbd29dd25664125eb83aa0d1c45a96" args="(int reg_idx, TheISA::FloatReg val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setFloatReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TheISA::FloatReg&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad25b1101e69d1987937252f44c48fb96"></a><!-- doxytag: member="FullO3CPU::setFloatRegBits" ref="ad25b1101e69d1987937252f44c48fb96" args="(int reg_idx, TheISA::FloatRegBits val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setFloatRegBits </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TheISA::FloatRegBits&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abc264e8ee37c6bd7d7b5759b97c34356"></a><!-- doxytag: member="FullO3CPU::setIntReg" ref="abc264e8ee37c6bd7d7b5759b97c34356" args="(int reg_idx, uint64_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setIntReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01432"></a>01432 {
<a name="l01433"></a>01433     <a class="code" href="classFullO3CPU.html#a0539045bb3599b1c57886d55a19fa2d2">intRegfileWrites</a>++;
<a name="l01434"></a>01434     <a class="code" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a>.<a class="code" href="classPhysRegFile.html#a4c51910e7542c198251e8d014077e9c6">setIntReg</a>(reg_idx, <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>);
<a name="l01435"></a>01435 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a880c4c099ed7676fcbc9f76989e400b7"></a><!-- doxytag: member="FullO3CPU::setMiscReg" ref="a880c4c099ed7676fcbc9f76989e400b7" args="(int misc_reg, const TheISA::MiscReg &amp;val, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setMiscReg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>misc_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TheISA::MiscReg &amp;&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets a misc. register, including any side effects the write might have as defined by the architecture. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01392"></a>01392 {
<a name="l01393"></a>01393     <a class="code" href="classFullO3CPU.html#a457c81c9e364d41871df8cb5f04ea1b4">miscRegfileWrites</a>++;
<a name="l01394"></a>01394     this-&gt;<a class="code" href="classFullO3CPU.html#aa0d8dc5e214b94342d1f730e4e34ae82">isa</a>[tid]-&gt;setMiscReg(misc_reg, <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>, <a class="code" href="classFullO3CPU.html#acaae0f849591d618f1c202e5ed29b4e4">tcBase</a>(tid));
<a name="l01395"></a>01395 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acd6f1f298148bb7eebfa8c800c4066e2"></a><!-- doxytag: member="FullO3CPU::setMiscRegNoEffect" ref="acd6f1f298148bb7eebfa8c800c4066e2" args="(int misc_reg, const TheISA::MiscReg &amp;val, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setMiscRegNoEffect </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>misc_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TheISA::MiscReg &amp;&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets a miscellaneous register. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01384"></a>01384 {
<a name="l01385"></a>01385     this-&gt;<a class="code" href="classFullO3CPU.html#aa0d8dc5e214b94342d1f730e4e34ae82">isa</a>[tid]-&gt;setMiscRegNoEffect(misc_reg, <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>);
<a name="l01386"></a>01386 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a875eebdeba298f450fe84b0a05349afe"></a><!-- doxytag: member="FullO3CPU::simPalCheck" ref="a875eebdeba298f450fe84b0a05349afe" args="(int palFunc, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool simPalCheck </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>palFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01056"></a>01056 {
<a name="l01057"></a>01057 <span class="preprocessor">#if THE_ISA == ALPHA_ISA</span>
<a name="l01058"></a>01058 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;kernelStats)
<a name="l01059"></a>01059         this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;kernelStats-&gt;callpal(palFunc,
<a name="l01060"></a>01060                                                 this-&gt;threadContexts[tid]);
<a name="l01061"></a>01061 
<a name="l01062"></a>01062     <span class="keywordflow">switch</span> (palFunc) {
<a name="l01063"></a>01063       <span class="keywordflow">case</span> <a class="code" href="structPAL.html#adf764cbdea00d65edcd07bb9953ad2b7abc30d923cf34d24d10953285548f949d">PAL::halt</a>:
<a name="l01064"></a>01064         <a class="code" href="classFullO3CPU.html#ade0430439247877006d7df950f94918a">halt</a>();
<a name="l01065"></a>01065         <span class="keywordflow">if</span> (--<a class="code" href="classSystem.html#a1adea9b3072c7e8d2d045b275c8e37e7">System::numSystemsRunning</a> == 0)
<a name="l01066"></a>01066             <a class="code" href="sim__events_8cc.html#abca976500ad365c77607ab77d87698a7">exitSimLoop</a>(<span class="stringliteral">&quot;all cpus halted&quot;</span>);
<a name="l01067"></a>01067         <span class="keywordflow">break</span>;
<a name="l01068"></a>01068 
<a name="l01069"></a>01069       <span class="keywordflow">case</span> <a class="code" href="structPAL.html#adf764cbdea00d65edcd07bb9953ad2b7a6ab6fdf213d1a3c17638ec8a0180a389">PAL::bpt</a>:
<a name="l01070"></a>01070       <span class="keywordflow">case</span> <a class="code" href="structPAL.html#adf764cbdea00d65edcd07bb9953ad2b7aa6e420b7065e121e349af8fe734847ed">PAL::bugchk</a>:
<a name="l01071"></a>01071         <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classFullO3CPU.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#ae59ed2201db88c0668ca26040f6a3ad0">breakpoint</a>())
<a name="l01072"></a>01072             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01073"></a>01073         <span class="keywordflow">break</span>;
<a name="l01074"></a>01074     }
<a name="l01075"></a>01075 <span class="preprocessor">#endif</span>
<a name="l01076"></a>01076 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01077"></a>01077 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac4c7a18be5c282d711310ffb7b6f82f7"></a><!-- doxytag: member="FullO3CPU::squashFromTC" ref="ac4c7a18be5c282d711310ffb7b6f82f7" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squashFromTC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initiates a squash of all in-flight instructions for a given thread. The source of the squash is an external update of state through the TC. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01579"></a>01579 {
<a name="l01580"></a>01580     this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;noSquashFromTC = <span class="keyword">true</span>;
<a name="l01581"></a>01581     this-&gt;<a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.generateTCEvent(tid);
<a name="l01582"></a>01582 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2b698a48b0c233f49e2994bc28dc0bbf"></a><!-- doxytag: member="FullO3CPU::squashInstIt" ref="a2b698a48b0c233f49e2994bc28dc0bbf" args="(const ListIt &amp;instIt, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squashInstIt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>instIt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes the instruction pointed to by the iterator. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01704"></a>01704 {
<a name="l01705"></a>01705     <span class="keywordflow">if</span> ((*instIt)-&gt;threadNumber == tid) {
<a name="l01706"></a>01706         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Squashing instruction, &quot;</span>
<a name="l01707"></a>01707                 <span class="stringliteral">&quot;[tid:%i] [sn:%lli] PC %s\n&quot;</span>,
<a name="l01708"></a>01708                 (*instIt)-&gt;threadNumber,
<a name="l01709"></a>01709                 (*instIt)-&gt;seqNum,
<a name="l01710"></a>01710                 (*instIt)-&gt;pcState());
<a name="l01711"></a>01711 
<a name="l01712"></a>01712         <span class="comment">// Mark it as squashed.</span>
<a name="l01713"></a>01713         (*instIt)-&gt;setSquashed();
<a name="l01714"></a>01714 
<a name="l01715"></a>01715         <span class="comment">// @todo: Formulate a consistent method for deleting</span>
<a name="l01716"></a>01716         <span class="comment">// instructions from the instruction list</span>
<a name="l01717"></a>01717         <span class="comment">// Remove the instruction from the list.</span>
<a name="l01718"></a>01718         <a class="code" href="classFullO3CPU.html#a574cb1bed7660bb2bb6940365f6a3315">removeList</a>.push(instIt);
<a name="l01719"></a>01719     }
<a name="l01720"></a>01720 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aecc7d8debf54990ffeaaed5bac7d7d81"></a><!-- doxytag: member="FullO3CPU::startup" ref="aecc7d8debf54990ffeaaed5bac7d7d81" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void startup </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00685"></a>00685 {
<a name="l00686"></a>00686     <a class="code" href="classSimObject.html#aecc7d8debf54990ffeaaed5bac7d7d81">BaseCPU::startup</a>();
<a name="l00687"></a>00687     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tid = 0; tid &lt; <a class="code" href="classBaseCPU.html#aac03a586f9fcb28bcbe8c3721888fa93">numThreads</a>; ++tid)
<a name="l00688"></a>00688         <a class="code" href="classFullO3CPU.html#aa0d8dc5e214b94342d1f730e4e34ae82">isa</a>[tid]-&gt;<a class="code" href="classFullO3CPU.html#aecc7d8debf54990ffeaaed5bac7d7d81">startup</a>(threadContexts[tid]);
<a name="l00689"></a>00689 
<a name="l00690"></a>00690     <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.startupStage();
<a name="l00691"></a>00691     <a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>.startupStage();
<a name="l00692"></a>00692     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.startupStage();
<a name="l00693"></a>00693     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.startupStage();
<a name="l00694"></a>00694     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.startupStage();
<a name="l00695"></a>00695 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aed2e2b9af515a66bdde61b85f150856a"></a><!-- doxytag: member="FullO3CPU::suspendContext" ref="aed2e2b9af515a66bdde61b85f150856a" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void suspendContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove Thread from Active Threads List </p>

<p><div class="fragment"><pre class="fragment"><a name="l00824"></a>00824 {
<a name="l00825"></a>00825     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>,<span class="stringliteral">&quot;[tid: %i]: Suspending Thread Context.\n&quot;</span>, tid);
<a name="l00826"></a>00826     assert(!switchedOut());
<a name="l00827"></a>00827     <span class="keywordtype">bool</span> deallocated = <a class="code" href="classFullO3CPU.html#a64179a936408228ff1718afd541e230b">scheduleDeallocateContext</a>(tid, <span class="keyword">false</span>, <a class="code" href="classCycles.html">Cycles</a>(1));
<a name="l00828"></a>00828     <span class="comment">// If this was the last thread then unschedule the tick event.</span>
<a name="l00829"></a>00829     <span class="keywordflow">if</span> ((<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.size() == 1 &amp;&amp; !deallocated) ||
<a name="l00830"></a>00830         <a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.size() == 0)
<a name="l00831"></a>00831         <a class="code" href="classFullO3CPU.html#ad819e7898bd94721d107a35fde764390">unscheduleTickEvent</a>();
<a name="l00832"></a>00832 
<a name="l00833"></a>00833     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Quiesce, <span class="stringliteral">&quot;Suspending Context\n&quot;</span>);
<a name="l00834"></a>00834     <a class="code" href="classFullO3CPU.html#a88989147c1b0b4ccba38fa941722ce5d">lastRunningCycle</a> = curCycle();
<a name="l00835"></a>00835     <a class="code" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a> = <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70bad3fa9ae9431d6cb1772f9d9df48cab19">Idle</a>;
<a name="l00836"></a>00836 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a05f299b443f8cc73a93d61572edc0218"></a><!-- doxytag: member="FullO3CPU::switchOut" ref="a05f299b443f8cc73a93d61572edc0218" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void switchOut </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Switches out this CPU. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01321"></a>01321 {
<a name="l01322"></a>01322     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Switching out\n&quot;</span>);
<a name="l01323"></a>01323     <a class="code" href="classFullO3CPU.html#a05f299b443f8cc73a93d61572edc0218">BaseCPU::switchOut</a>();
<a name="l01324"></a>01324 
<a name="l01325"></a>01325     <a class="code" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a>.<a class="code" href="classActivityRecorder.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a>();
<a name="l01326"></a>01326 
<a name="l01327"></a>01327     <a class="code" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a> = <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba2c25b24188e2b53c8706769167a82779">SwitchedOut</a>;
<a name="l01328"></a>01328 
<a name="l01329"></a>01329     <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#a85ab02c76c80bbfce7b3ce7981c55f68">checker</a>)
<a name="l01330"></a>01330         <a class="code" href="classFullO3CPU.html#a85ab02c76c80bbfce7b3ce7981c55f68">checker</a>-&gt;switchOut();
<a name="l01331"></a>01331 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2d6a2bbae85e604392f43b3418cdec97"></a><!-- doxytag: member="FullO3CPU::syscall" ref="a2d6a2bbae85e604392f43b3418cdec97" args="(int64_t callnum, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syscall </td>
          <td>(</td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>callnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes a syscall. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000027">TODO:</a></b></dt><dd>: Determine if this needs to be virtual. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l01115"></a>01115 {
<a name="l01116"></a>01116     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;[tid:%i] Executing syscall().\n\n&quot;</span>, tid);
<a name="l01117"></a>01117 
<a name="l01118"></a>01118     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Activity,<span class="stringliteral">&quot;Activity: syscall() called.\n&quot;</span>);
<a name="l01119"></a>01119 
<a name="l01120"></a>01120     <span class="comment">// Temporarily increase this by one to account for the syscall</span>
<a name="l01121"></a>01121     <span class="comment">// instruction.</span>
<a name="l01122"></a>01122     ++(this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;funcExeInst);
<a name="l01123"></a>01123 
<a name="l01124"></a>01124     <span class="comment">// Execute the actual syscall.</span>
<a name="l01125"></a>01125     this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;syscall(callnum);
<a name="l01126"></a>01126 
<a name="l01127"></a>01127     <span class="comment">// Decrease funcExeInst by one as the normal commit will handle</span>
<a name="l01128"></a>01128     <span class="comment">// incrementing it.</span>
<a name="l01129"></a>01129     --(this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;funcExeInst);
<a name="l01130"></a>01130 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac82d2b8d331b2e8e6854a95d2917dfa2"></a><!-- doxytag: member="FullO3CPU::takeOverFrom" ref="ac82d2b8d331b2e8e6854a95d2917dfa2" args="(BaseCPU *oldCPU)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void takeOverFrom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCPU_1_1BaseCPU.html">BaseCPU</a> *&nbsp;</td>
          <td class="paramname"> <em>oldCPU</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Takes over from another CPU. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01336"></a>01336 {
<a name="l01337"></a>01337     <a class="code" href="classBaseCPU_1_1BaseCPU.html#ab5272c636861eb61b25aa639a46cfb77">BaseCPU::takeOverFrom</a>(oldCPU);
<a name="l01338"></a>01338 
<a name="l01339"></a>01339     <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.takeOverFrom();
<a name="l01340"></a>01340     <a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>.takeOverFrom();
<a name="l01341"></a>01341     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.takeOverFrom();
<a name="l01342"></a>01342     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.takeOverFrom();
<a name="l01343"></a>01343     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.takeOverFrom();
<a name="l01344"></a>01344 
<a name="l01345"></a>01345     assert(!<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>());
<a name="l01346"></a>01346 
<a name="l01347"></a>01347     <a class="code" href="classFullO3CPU.html">FullO3CPU&lt;Impl&gt;</a> *oldO3CPU = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classFullO3CPU.html">FullO3CPU&lt;Impl&gt;</a>*<span class="keyword">&gt;</span>(oldCPU);
<a name="l01348"></a>01348     <span class="keywordflow">if</span> (oldO3CPU)
<a name="l01349"></a>01349         <a class="code" href="classFullO3CPU.html#a5f72a799d8b189b4fccda3cde457145e">globalSeqNum</a> = oldO3CPU-&gt;globalSeqNum;
<a name="l01350"></a>01350 
<a name="l01351"></a>01351     <a class="code" href="classFullO3CPU.html#a88989147c1b0b4ccba38fa941722ce5d">lastRunningCycle</a> = curCycle();
<a name="l01352"></a>01352     <a class="code" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a> = <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70bad3fa9ae9431d6cb1772f9d9df48cab19">Idle</a>;
<a name="l01353"></a>01353 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acaae0f849591d618f1c202e5ed29b4e4"></a><!-- doxytag: member="FullO3CPU::tcBase" ref="acaae0f849591d618f1c202e5ed29b4e4" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreadContext.html">ThreadContext</a>* tcBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a pointer to a thread context. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00773"></a>00773     {
<a name="l00774"></a>00774         <span class="keywordflow">return</span> <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;getTC();
<a name="l00775"></a>00775     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a873dd91783f9efb4a590aded1f70d6b0"></a><!-- doxytag: member="FullO3CPU::tick" ref="a873dd91783f9efb4a590aded1f70d6b0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tick </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Ticks CPU, calling <a class="el" href="classFullO3CPU.html#a873dd91783f9efb4a590aded1f70d6b0">tick()</a> on each stage, and checking the overall activity to see if the CPU should deschedule itself. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00596"></a>00596 {
<a name="l00597"></a>00597     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;\n\nFullO3CPU: Ticking main, FullO3CPU.\n&quot;</span>);
<a name="l00598"></a>00598     assert(!switchedOut());
<a name="l00599"></a>00599     assert(getDrainState() != <a class="code" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8a5656955cb808502a2ec75b367e2c1e82">Drainable::Drained</a>);
<a name="l00600"></a>00600 
<a name="l00601"></a>00601     ++numCycles;
<a name="l00602"></a>00602 
<a name="l00603"></a>00603 <span class="comment">//    activity = false;</span>
<a name="l00604"></a>00604 
<a name="l00605"></a>00605     <span class="comment">//Tick each of the stages</span>
<a name="l00606"></a>00606     <a class="code" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a>.tick();
<a name="l00607"></a>00607 
<a name="l00608"></a>00608     <a class="code" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a>.tick();
<a name="l00609"></a>00609 
<a name="l00610"></a>00610     <a class="code" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a>.tick();
<a name="l00611"></a>00611 
<a name="l00612"></a>00612     <a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.tick();
<a name="l00613"></a>00613 
<a name="l00614"></a>00614     <a class="code" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a>.tick();
<a name="l00615"></a>00615 
<a name="l00616"></a>00616     <span class="keywordflow">if</span> (!<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>)
<a name="l00617"></a>00617         <a class="code" href="classFullO3CPU.html#aa44d4f535cfaf67b335cab7e390a9257">doContextSwitch</a>();
<a name="l00618"></a>00618 
<a name="l00619"></a>00619     <span class="comment">// Now advance the time buffers</span>
<a name="l00620"></a>00620     <a class="code" href="classFullO3CPU.html#ad72b6568a4a40f54d071c31bef16bf2e">timeBuffer</a>.<a class="code" href="classTimeBuffer.html#a8903a4e9f3d5fb42d0faa9d53e21d85c">advance</a>();
<a name="l00621"></a>00621 
<a name="l00622"></a>00622     <a class="code" href="classFullO3CPU.html#a0b4f1aa3830d6db3cb15a9a46c531cc2">fetchQueue</a>.<a class="code" href="classTimeBuffer.html#a8903a4e9f3d5fb42d0faa9d53e21d85c">advance</a>();
<a name="l00623"></a>00623     <a class="code" href="classFullO3CPU.html#a8c674fbc9b0625a2231b669aceb0dd73">decodeQueue</a>.<a class="code" href="classTimeBuffer.html#a8903a4e9f3d5fb42d0faa9d53e21d85c">advance</a>();
<a name="l00624"></a>00624     <a class="code" href="classFullO3CPU.html#ae590391fe7915c744cde571b7d15d893">renameQueue</a>.<a class="code" href="classTimeBuffer.html#a8903a4e9f3d5fb42d0faa9d53e21d85c">advance</a>();
<a name="l00625"></a>00625     <a class="code" href="classFullO3CPU.html#a9429710408b27da398dc15a2eb80b9fc">iewQueue</a>.<a class="code" href="classTimeBuffer.html#a8903a4e9f3d5fb42d0faa9d53e21d85c">advance</a>();
<a name="l00626"></a>00626 
<a name="l00627"></a>00627     <a class="code" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a>.<a class="code" href="classActivityRecorder.html#a8903a4e9f3d5fb42d0faa9d53e21d85c">advance</a>();
<a name="l00628"></a>00628 
<a name="l00629"></a>00629     <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#a2825a91132fe292d64dca3c61fd07410">removeInstsThisCycle</a>) {
<a name="l00630"></a>00630         <a class="code" href="classFullO3CPU.html#a7bc351a2a79efb6dc9f88f8a6a2ed33c">cleanUpRemovedInsts</a>();
<a name="l00631"></a>00631     }
<a name="l00632"></a>00632 
<a name="l00633"></a>00633     <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>()) {
<a name="l00634"></a>00634         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a> == <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba2c25b24188e2b53c8706769167a82779">SwitchedOut</a>) {
<a name="l00635"></a>00635             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Switched out!\n&quot;</span>);
<a name="l00636"></a>00636             <span class="comment">// increment stat</span>
<a name="l00637"></a>00637             <a class="code" href="classFullO3CPU.html#a88989147c1b0b4ccba38fa941722ce5d">lastRunningCycle</a> = curCycle();
<a name="l00638"></a>00638         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a>.<a class="code" href="classActivityRecorder.html#a0cb3050c8a4f6bdb2c1f727eec8d9701">active</a>() || <a class="code" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a> == <a class="code" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70bad3fa9ae9431d6cb1772f9d9df48cab19">Idle</a>) {
<a name="l00639"></a>00639             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Idle!\n&quot;</span>);
<a name="l00640"></a>00640             <a class="code" href="classFullO3CPU.html#a88989147c1b0b4ccba38fa941722ce5d">lastRunningCycle</a> = curCycle();
<a name="l00641"></a>00641             <a class="code" href="classFullO3CPU.html#a174dbfb3c7b892914a54cec44ed2eeaf">timesIdled</a>++;
<a name="l00642"></a>00642         } <span class="keywordflow">else</span> {
<a name="l00643"></a>00643             schedule(<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>, clockEdge(<a class="code" href="classCycles.html">Cycles</a>(1)));
<a name="l00644"></a>00644             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classFullO3CPU.html#a44622cf06940413482836cb62931ac3f">O3CPU</a>, <span class="stringliteral">&quot;Scheduling next tick!\n&quot;</span>);
<a name="l00645"></a>00645         }
<a name="l00646"></a>00646     }
<a name="l00647"></a>00647 
<a name="l00648"></a>00648     <span class="keywordflow">if</span> (!<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>)
<a name="l00649"></a>00649         <a class="code" href="classFullO3CPU.html#a00247488696e6ff608a2a44673578094">updateThreadPriority</a>();
<a name="l00650"></a>00650 
<a name="l00651"></a>00651     <a class="code" href="classFullO3CPU.html#a250ca18dfc0316e340eaa2ec45d73c3e">tryDrain</a>();
<a name="l00652"></a>00652 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7e01d94bb5a6e15fa8c94bcdf276115d"></a><!-- doxytag: member="FullO3CPU::totalInsts" ref="a7e01d94bb5a6e15fa8c94bcdf276115d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e">Counter</a> totalInsts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Count the Total Instructions Committed in the CPU. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00736"></a>00736 {
<a name="l00737"></a>00737     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e">Counter</a> <a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>(0);
<a name="l00738"></a>00738 
<a name="l00739"></a>00739     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> size = <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>.size();
<a name="l00740"></a>00740     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; size; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++)
<a name="l00741"></a>00741         <a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a> += <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;numInst;
<a name="l00742"></a>00742 
<a name="l00743"></a>00743     <span class="keywordflow">return</span> <a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>;
<a name="l00744"></a>00744 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a76fa5df6827aaa8fc26deebad97d9e78"></a><!-- doxytag: member="FullO3CPU::totalOps" ref="a76fa5df6827aaa8fc26deebad97d9e78" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e">Counter</a> totalOps </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Count the Total Ops (including micro ops) committed in the CPU. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00749"></a>00749 {
<a name="l00750"></a>00750     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e">Counter</a> <a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>(0);
<a name="l00751"></a>00751 
<a name="l00752"></a>00752     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> size = <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>.size();
<a name="l00753"></a>00753     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; size; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++)
<a name="l00754"></a>00754         <a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a> += <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;numOp;
<a name="l00755"></a>00755 
<a name="l00756"></a>00756     <span class="keywordflow">return</span> <a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">total</a>;
<a name="l00757"></a>00757 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a23c9d89f64f4cfd6f48b106b99b119c4"></a><!-- doxytag: member="FullO3CPU::trap" ref="a23c9d89f64f4cfd6f48b106b99b119c4" args="(Fault fault, ThreadID tid, StaticInstPtr inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td>
          <td class="paramname"> <em>fault</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">StaticInstPtr</a>&nbsp;</td>
          <td class="paramname"> <em>inst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Traps to handle given fault. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01107"></a>01107 {
<a name="l01108"></a>01108     <span class="comment">// Pass the thread&apos;s TC into the invoke method.</span>
<a name="l01109"></a>01109     fault-&gt;invoke(this-&gt;threadContexts[tid], inst);
<a name="l01110"></a>01110 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a250ca18dfc0316e340eaa2ec45d73c3e"></a><!-- doxytag: member="FullO3CPU::tryDrain" ref="a250ca18dfc0316e340eaa2ec45d73c3e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tryDrain </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCheck.html">Check</a> if the pipeline has drained and signal the <a class="el" href="classDrainManager.html">DrainManager</a>.</p>
<p>This method checks if a drain has been requested and if the CPU has drained successfully (i.e., there are no instructions in the pipeline). If the CPU has drained, it deschedules the tick event and signals the drain manager.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>False if a drain hasn't been requested or the CPU hasn't drained, true otherwise. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l01205"></a>01205 {
<a name="l01206"></a>01206     <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a> || !<a class="code" href="classFullO3CPU.html#adf5473c18a3d7c1e88c4a2072bce5526">isDrained</a>())
<a name="l01207"></a>01207         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01208"></a>01208 
<a name="l01209"></a>01209     <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>())
<a name="l01210"></a>01210         deschedule(<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>);
<a name="l01211"></a>01211 
<a name="l01212"></a>01212     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Drain, <span class="stringliteral">&quot;CPU done draining, processing drain event\n&quot;</span>);
<a name="l01213"></a>01213     <a class="code" href="classFullO3CPU.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a>-&gt;<a class="code" href="classDrainManager.html#ab89d10e368d2e82061eddb9e40022382">signalDrainDone</a>();
<a name="l01214"></a>01214     <a class="code" href="classFullO3CPU.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a> = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l01215"></a>01215 
<a name="l01216"></a>01216     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01217"></a>01217 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae0bacbe9552a4b3a03f2748d2d58b3a2"></a><!-- doxytag: member="FullO3CPU::unscheduleActivateThreadEvent" ref="ae0bacbe9552a4b3a03f2748d2d58b3a2" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unscheduleActivateThreadEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unschedule actiavte thread event, regardless of its current state. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00281"></a>00281     {
<a name="l00282"></a>00282         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#a2cc2815b59781367286d6a31fc45e9d3">activateThreadEvent</a>[tid].scheduled())
<a name="l00283"></a>00283             <a class="code" href="classFullO3CPU.html#a2cc2815b59781367286d6a31fc45e9d3">activateThreadEvent</a>[tid].<a class="code" href="classEvent.html#a3c68c455d9207edd23ae3bcb7971e653" title="Squash the current event.">squash</a>();
<a name="l00284"></a>00284     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adce69706fd17d1dca824e60ab0100e8b"></a><!-- doxytag: member="FullO3CPU::unscheduleDeallocateContextEvent" ref="adce69706fd17d1dca824e60ab0100e8b" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unscheduleDeallocateContextEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unschedule thread deallocation in CPU </p>

<p><div class="fragment"><pre class="fragment"><a name="l00334"></a>00334     {
<a name="l00335"></a>00335         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a>[tid].scheduled())
<a name="l00336"></a>00336             <a class="code" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a>[tid].<a class="code" href="classEvent.html#a3c68c455d9207edd23ae3bcb7971e653" title="Squash the current event.">squash</a>();
<a name="l00337"></a>00337     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad819e7898bd94721d107a35fde764390"></a><!-- doxytag: member="FullO3CPU::unscheduleTickEvent" ref="ad819e7898bd94721d107a35fde764390" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unscheduleTickEvent </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unschedule tick event, regardless of its current state. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00227"></a>00227     {
<a name="l00228"></a>00228         <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>())
<a name="l00229"></a>00229             <a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>.<a class="code" href="classEvent.html#a3c68c455d9207edd23ae3bcb7971e653" title="Squash the current event.">squash</a>();
<a name="l00230"></a>00230     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5122e6d6fdbdb3cb9ba72ae970f00a9e"></a><!-- doxytag: member="FullO3CPU::unserializeThread" ref="a5122e6d6fdbdb3cb9ba72ae970f00a9e" args="(Checkpoint *cp, const std::string &amp;section, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unserializeThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01143"></a>01143 {
<a name="l01144"></a>01144     <a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[tid]-&gt;unserialize(cp, section);
<a name="l01145"></a>01145 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a00247488696e6ff608a2a44673578094"></a><!-- doxytag: member="FullO3CPU::updateThreadPriority" ref="a00247488696e6ff608a2a44673578094" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateThreadPriority </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update The Order In Which We <a class="el" href="classProcess.html">Process</a> Threads. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01845"></a>01845 {
<a name="l01846"></a>01846     <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.size() &gt; 1) {
<a name="l01847"></a>01847         <span class="comment">//DEFAULT TO ROUND ROBIN SCHEME</span>
<a name="l01848"></a>01848         <span class="comment">//e.g. Move highest priority to end of thread list</span>
<a name="l01849"></a>01849         <a class="code" href="classstd_1_1list.html">list&lt;ThreadID&gt;::iterator</a> list_begin = <a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.begin();
<a name="l01850"></a>01850 
<a name="l01851"></a>01851         <span class="keywordtype">unsigned</span> high_thread = *list_begin;
<a name="l01852"></a>01852 
<a name="l01853"></a>01853         <a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.erase(list_begin);
<a name="l01854"></a>01854 
<a name="l01855"></a>01855         <a class="code" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a>.push_back(high_thread);
<a name="l01856"></a>01856     }
<a name="l01857"></a>01857 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afe01e4cef8897b8a4ff99d575875c9db"></a><!-- doxytag: member="FullO3CPU::validDataAddr" ref="afe01e4cef8897b8a4ff99d575875c9db" args="(Addr addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool validDataAddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCheck.html">Check</a> if this address is a valid data address. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00521"></a>00521 { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af5f6a59bc2ed83b0cf9203ba8c63bf34"></a><!-- doxytag: member="FullO3CPU::validInstAddr" ref="af5f6a59bc2ed83b0cf9203ba8c63bf34" args="(Addr addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool validInstAddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCheck.html">Check</a> if this address is a valid instruction address. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00518"></a>00518 { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae2e1ccebe596a180f8105d57f9a93645"></a><!-- doxytag: member="FullO3CPU::verifyMemoryMode" ref="ae2e1ccebe596a180f8105d57f9a93645" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void verifyMemoryMode </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01358"></a>01358 {
<a name="l01359"></a>01359     <span class="keywordflow">if</span> (!<a class="code" href="classFullO3CPU.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#ae04bdd25f4dde1cc1b58b22505aa869c">isTimingMode</a>()) {
<a name="l01360"></a>01360         <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;The O3 CPU requires the memory system to be in &quot;</span>
<a name="l01361"></a>01361               <span class="stringliteral">&quot;&apos;timing&apos; mode.\n&quot;</span>);
<a name="l01362"></a>01362     }
<a name="l01363"></a>01363 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abce3a63b123f84972e4df7962f9b870e"></a><!-- doxytag: member="FullO3CPU::wakeCPU" ref="abce3a63b123f84972e4df7962f9b870e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wakeCPU </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Wakes the CPU, rescheduling the CPU if it's not already active. </p>

<p><div class="fragment"><pre class="fragment"><a name="l01779"></a>01779 {
<a name="l01780"></a>01780     <span class="keywordflow">if</span> (<a class="code" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a>.<a class="code" href="classActivityRecorder.html#a0cb3050c8a4f6bdb2c1f727eec8d9701">active</a>() || <a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>.<a class="code" href="classEvent.html#a9cd69a6b10cb037550943f177a0da688" title="Determine if the current event is scheduled.">scheduled</a>()) {
<a name="l01781"></a>01781         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Activity, <span class="stringliteral">&quot;CPU already running.\n&quot;</span>);
<a name="l01782"></a>01782         <span class="keywordflow">return</span>;
<a name="l01783"></a>01783     }
<a name="l01784"></a>01784 
<a name="l01785"></a>01785     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Activity, <span class="stringliteral">&quot;Waking up CPU\n&quot;</span>);
<a name="l01786"></a>01786 
<a name="l01787"></a>01787     <a class="code" href="classCycles.html">Cycles</a> cycles(curCycle() - <a class="code" href="classFullO3CPU.html#a88989147c1b0b4ccba38fa941722ce5d">lastRunningCycle</a>);
<a name="l01788"></a>01788     <span class="comment">// @todo: This is an oddity that is only here to match the stats</span>
<a name="l01789"></a>01789     <span class="keywordflow">if</span> (cycles != 0)
<a name="l01790"></a>01790         --cycles;
<a name="l01791"></a>01791     <a class="code" href="classFullO3CPU.html#a42e0f4c18fdb8ef7504f5c45d697fb14">idleCycles</a> += cycles;
<a name="l01792"></a>01792     numCycles += cycles;
<a name="l01793"></a>01793 
<a name="l01794"></a>01794     schedule(<a class="code" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a>, clockEdge());
<a name="l01795"></a>01795 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae674290a26ecbd622c5160e38e8a4fe9"></a><!-- doxytag: member="FullO3CPU::wakeup" ref="ae674290a26ecbd622c5160e38e8a4fe9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wakeup </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classBaseCPU.html#a75101f8aee74078c8c3c1d1f3617f7cc">BaseCPU</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l01800"></a>01800 {
<a name="l01801"></a>01801     <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a>[0]-&gt;<a class="code" href="namespaceArmISA.html#a566327436c4c7e7a63ab9ac137e9d50e">status</a>() != <a class="code" href="classThreadContext.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba13bd6ff4bd5714ccc293f6802aacb40d">ThreadContext::Suspended</a>)
<a name="l01802"></a>01802         <span class="keywordflow">return</span>;
<a name="l01803"></a>01803 
<a name="l01804"></a>01804     this-&gt;<a class="code" href="classFullO3CPU.html#abce3a63b123f84972e4df7962f9b870e">wakeCPU</a>();
<a name="l01805"></a>01805 
<a name="l01806"></a>01806     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(Quiesce, <span class="stringliteral">&quot;Suspended Processor woken\n&quot;</span>);
<a name="l01807"></a>01807     this-&gt;threadContexts[0]-&gt;activate();
<a name="l01808"></a>01808 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a43e0f9eec34726914d8eb76f5d884cc8"></a><!-- doxytag: member="FullO3CPU::write" ref="a43e0f9eec34726914d8eb76f5d884cc8" args="(RequestPtr &amp;req, RequestPtr &amp;sreqLow, RequestPtr &amp;sreqHigh, uint8_t *data, int store_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sreqLow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sreqHigh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>store_idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>CPU write function, forwards write to <a class="el" href="classLSQ.html">LSQ</a>. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00824"></a>00824     {
<a name="l00825"></a>00825         <span class="keywordflow">return</span> this-&gt;<a class="code" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a>.ldstQueue.write(req, sreqLow, sreqHigh,
<a name="l00826"></a>00826                                          data, store_idx);
<a name="l00827"></a>00827     }
</pre></div></p>

</div>
</div>
<hr/><h2>フレンドと関連する関数</h2>
<a class="anchor" id="a8744c7a2c370330e0f577992900dfb66"></a><!-- doxytag: member="FullO3CPU::O3ThreadContext&lt; Impl &gt;" ref="a8744c7a2c370330e0f577992900dfb66" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classO3ThreadContext.html">O3ThreadContext</a>&lt; Impl &gt;<code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a6cdf6e6db875a442f3ab6db542bd2bb5"></a><!-- doxytag: member="FullO3CPU::_status" ref="a6cdf6e6db875a442f3ab6db542bd2bb5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFullO3CPU.html#a67a0db04d321a74b7e7fcfd3f1a3f70b">Status</a> <a class="el" href="classFullO3CPU.html#a6cdf6e6db875a442f3ab6db542bd2bb5">_status</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Overall CPU status. </p>

</div>
</div>
<a class="anchor" id="a2cc2815b59781367286d6a31fc45e9d3"></a><!-- doxytag: member="FullO3CPU::activateThreadEvent" ref="a2cc2815b59781367286d6a31fc45e9d3" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFullO3CPU_1_1ActivateThreadEvent.html">ActivateThreadEvent</a> <a class="el" href="classFullO3CPU.html#a2cc2815b59781367286d6a31fc45e9d3">activateThreadEvent</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The tick event used for scheduling CPU ticks. </p>

</div>
</div>
<a class="anchor" id="ae8939711cc7f6e9c795d16df91f9f258"></a><!-- doxytag: member="FullO3CPU::activeThreads" ref="ae8939711cc7f6e9c795d16df91f9f258" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&gt; <a class="el" href="classFullO3CPU.html#ae8939711cc7f6e9c795d16df91f9f258">activeThreads</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Active Threads List </p>

</div>
</div>
<a class="anchor" id="ae5ad3ebe67382e7fbc7fddcf48ae9c6c"></a><!-- doxytag: member="FullO3CPU::activityRec" ref="ae5ad3ebe67382e7fbc7fddcf48ae9c6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classActivityRecorder.html">ActivityRecorder</a> <a class="el" href="classFullO3CPU.html#ae5ad3ebe67382e7fbc7fddcf48ae9c6c">activityRec</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The activity recorder; used to tell if the CPU has any activity remaining or if it can go to idle and deschedule itself. </p>

</div>
</div>
<a class="anchor" id="a54d1bb817fb61f8ea36ad3b2063f27c6"></a><!-- doxytag: member="FullO3CPU::ccRegfileReads" ref="a54d1bb817fb61f8ea36ad3b2063f27c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classFullO3CPU.html#a54d1bb817fb61f8ea36ad3b2063f27c6">ccRegfileReads</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abd236585eb8f96cd37f7cea04204d456"></a><!-- doxytag: member="FullO3CPU::ccRegfileWrites" ref="abd236585eb8f96cd37f7cea04204d456" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classFullO3CPU.html#abd236585eb8f96cd37f7cea04204d456">ccRegfileWrites</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a85ab02c76c80bbfce7b3ce7981c55f68"></a><!-- doxytag: member="FullO3CPU::checker" ref="a85ab02c76c80bbfce7b3ce7981c55f68" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classChecker.html">Checker</a>&lt;Impl&gt;* <a class="el" href="classFullO3CPU.html#a85ab02c76c80bbfce7b3ce7981c55f68">checker</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to the checker, which can dynamically verify instruction results at run time. This can be set to NULL if it is not being used. </p>

<p><a class="el" href="classBaseCPU.html#ad79de7771e2fdfe4aa9ba3d4f7e6972c">BaseCPU</a>を再定義しています。</p>

</div>
</div>
<a class="anchor" id="a2cb9d36b31d8d38af97362bb47f6e930"></a><!-- doxytag: member="FullO3CPU::commit" ref="a2cb9d36b31d8d38af97362bb47f6e930" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CPUPolicy::Commit <a class="el" href="classFullO3CPU.html#a2cb9d36b31d8d38af97362bb47f6e930">commit</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The commit stage. </p>

</div>
</div>
<a class="anchor" id="a276327b80d93babf5512b90c6daae5e4"></a><!-- doxytag: member="FullO3CPU::commitRenameMap" ref="a276327b80d93babf5512b90c6daae5e4" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CPUPolicy::RenameMap <a class="el" href="classFullO3CPU.html#a276327b80d93babf5512b90c6daae5e4">commitRenameMap</a>[Impl::MaxThreads]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The commit rename map. </p>

</div>
</div>
<a class="anchor" id="a45901e46dca5846ddd857aecbee16645"></a><!-- doxytag: member="FullO3CPU::committedInsts" ref="a45901e46dca5846ddd857aecbee16645" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Vector.html">Stats::Vector</a> <a class="el" href="classFullO3CPU.html#a45901e46dca5846ddd857aecbee16645">committedInsts</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for the number of committed instructions per thread. </p>

</div>
</div>
<a class="anchor" id="a16789fd9e4f632e091d740c772094f80"></a><!-- doxytag: member="FullO3CPU::committedOps" ref="a16789fd9e4f632e091d740c772094f80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Vector.html">Stats::Vector</a> <a class="el" href="classFullO3CPU.html#a16789fd9e4f632e091d740c772094f80">committedOps</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for the number of committed ops (including micro ops) per thread. </p>

</div>
</div>
<a class="anchor" id="a4fd841dc8d29605dc13a120cc5a9b438"></a><!-- doxytag: member="FullO3CPU::contextSwitch" ref="a4fd841dc8d29605dc13a120cc5a9b438" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classFullO3CPU.html#a4fd841dc8d29605dc13a120cc5a9b438">contextSwitch</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Is there a context switch pending? </p>

</div>
</div>
<a class="anchor" id="af68d211cace2daa3df90471d7af93ad8"></a><!-- doxytag: member="FullO3CPU::cpi" ref="af68d211cace2daa3df90471d7af93ad8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a> <a class="el" href="classFullO3CPU.html#af68d211cace2daa3df90471d7af93ad8">cpi</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for the CPI per thread. </p>

</div>
</div>
<a class="anchor" id="a11435331f730084ec731d6f88c255290"></a><!-- doxytag: member="FullO3CPU::cpuWaitList" ref="a11435331f730084ec731d6f88c255290" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;int&gt; <a class="el" href="classFullO3CPU.html#a11435331f730084ec731d6f88c255290">cpuWaitList</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Threads Scheduled to Enter CPU </p>

</div>
</div>
<a class="anchor" id="a38b03978ad7720fdc910ff6a8b44585f"></a><!-- doxytag: member="FullO3CPU::dcachePort" ref="a38b03978ad7720fdc910ff6a8b44585f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFullO3CPU_1_1DcachePort.html">DcachePort</a> <a class="el" href="classFullO3CPU.html#a38b03978ad7720fdc910ff6a8b44585f">dcachePort</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Data port. Note that it has to appear after the iew stages </p>

</div>
</div>
<a class="anchor" id="aaf8ffd47de062d6900cb500a3caccdb5"></a><!-- doxytag: member="FullO3CPU::deallocateContextEvent" ref="aaf8ffd47de062d6900cb500a3caccdb5" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFullO3CPU_1_1DeallocateContextEvent.html">DeallocateContextEvent</a> <a class="el" href="classFullO3CPU.html#aaf8ffd47de062d6900cb500a3caccdb5">deallocateContextEvent</a>[Impl::MaxThreads]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The tick event used for scheduling CPU ticks. </p>

</div>
</div>
<a class="anchor" id="a21ddb57c5e4f70298cee97ee543e3bdb"></a><!-- doxytag: member="FullO3CPU::decode" ref="a21ddb57c5e4f70298cee97ee543e3bdb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CPUPolicy::Decode <a class="el" href="classFullO3CPU.html#a21ddb57c5e4f70298cee97ee543e3bdb">decode</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The decode stage. </p>

</div>
</div>
<a class="anchor" id="a8c674fbc9b0625a2231b669aceb0dd73"></a><!-- doxytag: member="FullO3CPU::decodeQueue" ref="a8c674fbc9b0625a2231b669aceb0dd73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="classFullO3CPU.html#ae7f8b193f518ed524a498ef7ab564902">DecodeStruct</a>&gt; <a class="el" href="classFullO3CPU.html#a8c674fbc9b0625a2231b669aceb0dd73">decodeQueue</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The decode stage's instruction queue. </p>

</div>
</div>
<a class="anchor" id="a329b71fb934a93312ca0aacbf5a3f982"></a><!-- doxytag: member="FullO3CPU::drainManager" ref="a329b71fb934a93312ca0aacbf5a3f982" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDrainManager.html">DrainManager</a>* <a class="el" href="classFullO3CPU.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classDrainManager.html">DrainManager</a> to notify when draining has completed. </p>

</div>
</div>
<a class="anchor" id="ad2fd039621f87592c4b344d4f8948e78"></a><!-- doxytag: member="FullO3CPU::dtb" ref="ad2fd039621f87592c4b344d4f8948e78" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TheISA::TLB* <a class="el" href="classFullO3CPU.html#ad2fd039621f87592c4b344d4f8948e78">dtb</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>choose inline that I chose dtb,itb is Data and Instructino TLB. </p>

<p><a class="el" href="classBaseCPU.html#a6be3ef152e982fb57e224c4a32a431b7">BaseCPU</a>を再定義しています。</p>

</div>
</div>
<a class="anchor" id="ac41165b4dc11673a5e8f6c8679717c1b"></a><!-- doxytag: member="FullO3CPU::fetch" ref="ac41165b4dc11673a5e8f6c8679717c1b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CPUPolicy::Fetch <a class="el" href="classFullO3CPU.html#ac41165b4dc11673a5e8f6c8679717c1b">fetch</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The fetch stage. </p>

</div>
</div>
<a class="anchor" id="a0b4f1aa3830d6db3cb15a9a46c531cc2"></a><!-- doxytag: member="FullO3CPU::fetchQueue" ref="a0b4f1aa3830d6db3cb15a9a46c531cc2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="classFullO3CPU.html#ae885ff43c757f445563029fd15cdf70c">FetchStruct</a>&gt; <a class="el" href="classFullO3CPU.html#a0b4f1aa3830d6db3cb15a9a46c531cc2">fetchQueue</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The fetch stage's instruction queue. </p>

</div>
</div>
<a class="anchor" id="a616c93341fb6b23449fcbbab249f2b41"></a><!-- doxytag: member="FullO3CPU::fpRegfileReads" ref="a616c93341fb6b23449fcbbab249f2b41" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classFullO3CPU.html#a616c93341fb6b23449fcbbab249f2b41">fpRegfileReads</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad308a484dfaaaff1d57080527f19f3be"></a><!-- doxytag: member="FullO3CPU::fpRegfileWrites" ref="ad308a484dfaaaff1d57080527f19f3be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classFullO3CPU.html#ad308a484dfaaaff1d57080527f19f3be">fpRegfileWrites</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad5655f9bbf3c5b09877a612be7fc6b65"></a><!-- doxytag: member="FullO3CPU::freeList" ref="ad5655f9bbf3c5b09877a612be7fc6b65" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CPUPolicy::FreeList <a class="el" href="classFullO3CPU.html#ad5655f9bbf3c5b09877a612be7fc6b65">freeList</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The free list. </p>

</div>
</div>
<a class="anchor" id="a5f72a799d8b189b4fccda3cde457145e"></a><!-- doxytag: member="FullO3CPU::globalSeqNum" ref="a5f72a799d8b189b4fccda3cde457145e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> <a class="el" href="classFullO3CPU.html#a5f72a799d8b189b4fccda3cde457145e">globalSeqNum</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The global sequence number counter. </p>

</div>
</div>
<a class="anchor" id="a290723656a84b9cc90dfce377af9aad0"></a><!-- doxytag: member="FullO3CPU::icachePort" ref="a290723656a84b9cc90dfce377af9aad0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFullO3CPU_1_1IcachePort.html">IcachePort</a> <a class="el" href="classFullO3CPU.html#a290723656a84b9cc90dfce377af9aad0">icachePort</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Instruction port. Note that it has to appear after the fetch stage. </p>

</div>
</div>
<a class="anchor" id="a42e0f4c18fdb8ef7504f5c45d697fb14"></a><!-- doxytag: member="FullO3CPU::idleCycles" ref="a42e0f4c18fdb8ef7504f5c45d697fb14" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classFullO3CPU.html#a42e0f4c18fdb8ef7504f5c45d697fb14">idleCycles</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of cycles the CPU spends descheduled. </p>

</div>
</div>
<a class="anchor" id="afbb39e841c20e3affe28f4ca3e8c0992"></a><!-- doxytag: member="FullO3CPU::iew" ref="afbb39e841c20e3affe28f4ca3e8c0992" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CPUPolicy::IEW <a class="el" href="classFullO3CPU.html#afbb39e841c20e3affe28f4ca3e8c0992">iew</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The issue/execute/writeback stages. </p>

</div>
</div>
<a class="anchor" id="a9429710408b27da398dc15a2eb80b9fc"></a><!-- doxytag: member="FullO3CPU::iewQueue" ref="a9429710408b27da398dc15a2eb80b9fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="classFullO3CPU.html#a8ca44c33753253e21ca215123e8b5005">IEWStruct</a>&gt; <a class="el" href="classFullO3CPU.html#a9429710408b27da398dc15a2eb80b9fc">iewQueue</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The IEW stage's instruction queue. </p>

</div>
</div>
<a class="anchor" id="a19e374b98940ff65bd4d9d17f198738c"></a><!-- doxytag: member="FullO3CPU::instcount" ref="a19e374b98940ff65bd4d9d17f198738c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classFullO3CPU.html#a19e374b98940ff65bd4d9d17f198738c">instcount</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Count of total number of dynamic instructions in flight. </p>

</div>
</div>
<a class="anchor" id="ae10a391d02ce1ef67ee13cd82b7d46e5"></a><!-- doxytag: member="FullO3CPU::instList" ref="ae10a391d02ce1ef67ee13cd82b7d46e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>&gt; <a class="el" href="classFullO3CPU.html#ae10a391d02ce1ef67ee13cd82b7d46e5">instList</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List of all the instructions in flight. </p>

</div>
</div>
<a class="anchor" id="a46ee31ba135b8a26d7544abb48c242ef"></a><!-- doxytag: member="FullO3CPU::intRegfileReads" ref="a46ee31ba135b8a26d7544abb48c242ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classFullO3CPU.html#a46ee31ba135b8a26d7544abb48c242ef">intRegfileReads</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0539045bb3599b1c57886d55a19fa2d2"></a><!-- doxytag: member="FullO3CPU::intRegfileWrites" ref="a0539045bb3599b1c57886d55a19fa2d2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classFullO3CPU.html#a0539045bb3599b1c57886d55a19fa2d2">intRegfileWrites</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6f168a31ee4084b6167d6761a4124014"></a><!-- doxytag: member="FullO3CPU::ipc" ref="a6f168a31ee4084b6167d6761a4124014" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a> <a class="el" href="classFullO3CPU.html#a6f168a31ee4084b6167d6761a4124014">ipc</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for the IPC per thread. </p>

</div>
</div>
<a class="anchor" id="aa0d8dc5e214b94342d1f730e4e34ae82"></a><!-- doxytag: member="FullO3CPU::isa" ref="aa0d8dc5e214b94342d1f730e4e34ae82" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;TheISA::ISA *&gt; <a class="el" href="classFullO3CPU.html#aa0d8dc5e214b94342d1f730e4e34ae82">isa</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classBaseCPU.html#a6d1804c8bb7cb5ff7f700541100052c4">BaseCPU</a>を再定義しています。</p>

</div>
</div>
<a class="anchor" id="abcb37ddc11515555d8484702697bc4bb"></a><!-- doxytag: member="FullO3CPU::itb" ref="abcb37ddc11515555d8484702697bc4bb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TheISA::TLB* <a class="el" href="classFullO3CPU.html#abcb37ddc11515555d8484702697bc4bb">itb</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classBaseCPU.html#a05093b507c1f741f2150103b12ac7056">BaseCPU</a>を再定義しています。</p>

</div>
</div>
<a class="anchor" id="af81ed3d351dcefbd5ca122147676af22"></a><!-- doxytag: member="FullO3CPU::lastActivatedCycle" ref="af81ed3d351dcefbd5ca122147676af22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classFullO3CPU.html#af81ed3d351dcefbd5ca122147676af22">lastActivatedCycle</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The cycle that the CPU was last activated by a new thread </p>

</div>
</div>
<a class="anchor" id="a88989147c1b0b4ccba38fa941722ce5d"></a><!-- doxytag: member="FullO3CPU::lastRunningCycle" ref="a88989147c1b0b4ccba38fa941722ce5d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCycles.html">Cycles</a> <a class="el" href="classFullO3CPU.html#a88989147c1b0b4ccba38fa941722ce5d">lastRunningCycle</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The cycle that the CPU was last running, used for statistics. </p>

</div>
</div>
<a class="anchor" id="a587b32e057f5caad670d221c166bda5e"></a><!-- doxytag: member="FullO3CPU::miscRegfileReads" ref="a587b32e057f5caad670d221c166bda5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classFullO3CPU.html#a587b32e057f5caad670d221c166bda5e">miscRegfileReads</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a457c81c9e364d41871df8cb5f04ea1b4"></a><!-- doxytag: member="FullO3CPU::miscRegfileWrites" ref="a457c81c9e364d41871df8cb5f04ea1b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classFullO3CPU.html#a457c81c9e364d41871df8cb5f04ea1b4">miscRegfileWrites</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4cbcb5b1a3968d3e5229656571604ba5"></a><!-- doxytag: member="FullO3CPU::ppDataAccessComplete" ref="a4cbcb5b1a3968d3e5229656571604ba5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classProbePointArg.html">ProbePointArg</a>&lt;<a class="el" href="classstd_1_1pair.html">std::pair</a>&lt;<a class="el" href="classFullO3CPU.html#a028ce10889c5f6450239d9e9a7347976">DynInstPtr</a>, <a class="el" href="classPacket.html">PacketPtr</a>&gt; &gt;* <a class="el" href="classFullO3CPU.html#a4cbcb5b1a3968d3e5229656571604ba5">ppDataAccessComplete</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa39ae53643b00bc644caa5967b8a428a"></a><!-- doxytag: member="FullO3CPU::ppInstAccessComplete" ref="aa39ae53643b00bc644caa5967b8a428a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classProbePointArg.html">ProbePointArg</a>&lt;<a class="el" href="classPacket.html">PacketPtr</a>&gt;* <a class="el" href="classFullO3CPU.html#aa39ae53643b00bc644caa5967b8a428a">ppInstAccessComplete</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abb746a633705067014bd46e175928a51"></a><!-- doxytag: member="FullO3CPU::quiesceCycles" ref="abb746a633705067014bd46e175928a51" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classFullO3CPU.html#abb746a633705067014bd46e175928a51">quiesceCycles</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of cycles the CPU spends descheduled due to a quiesce operation or waiting for an interrupt. </p>

</div>
</div>
<a class="anchor" id="aa760a1e4a392e8e5c1dd8ed85b9f56fe"></a><!-- doxytag: member="FullO3CPU::regFile" ref="aa760a1e4a392e8e5c1dd8ed85b9f56fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPhysRegFile.html">PhysRegFile</a> <a class="el" href="classFullO3CPU.html#aa760a1e4a392e8e5c1dd8ed85b9f56fe">regFile</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The register file. </p>

</div>
</div>
<a class="anchor" id="a2825a91132fe292d64dca3c61fd07410"></a><!-- doxytag: member="FullO3CPU::removeInstsThisCycle" ref="a2825a91132fe292d64dca3c61fd07410" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classFullO3CPU.html#a2825a91132fe292d64dca3c61fd07410">removeInstsThisCycle</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Records if instructions need to be removed this cycle due to being retired or squashed. </p>

</div>
</div>
<a class="anchor" id="a574cb1bed7660bb2bb6940365f6a3315"></a><!-- doxytag: member="FullO3CPU::removeList" ref="a574cb1bed7660bb2bb6940365f6a3315" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::queue&lt;<a class="el" href="classFullO3CPU.html#a184cb829e22cc656acb41864f68f51ea">ListIt</a>&gt; <a class="el" href="classFullO3CPU.html#a574cb1bed7660bb2bb6940365f6a3315">removeList</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List of all the instructions that will be removed at the end of this cycle. </p>

</div>
</div>
<a class="anchor" id="a39ad9a464eaaff03051506711d40fc5f"></a><!-- doxytag: member="FullO3CPU::rename" ref="a39ad9a464eaaff03051506711d40fc5f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CPUPolicy::Rename <a class="el" href="classFullO3CPU.html#a39ad9a464eaaff03051506711d40fc5f">rename</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The dispatch stage. </p>

</div>
</div>
<a class="anchor" id="a777805217a21e32ee39d1203bca3da53"></a><!-- doxytag: member="FullO3CPU::renameMap" ref="a777805217a21e32ee39d1203bca3da53" args="[Impl::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CPUPolicy::RenameMap <a class="el" href="classFullO3CPU.html#a777805217a21e32ee39d1203bca3da53">renameMap</a>[Impl::MaxThreads]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The rename map. </p>

</div>
</div>
<a class="anchor" id="ae590391fe7915c744cde571b7d15d893"></a><!-- doxytag: member="FullO3CPU::renameQueue" ref="ae590391fe7915c744cde571b7d15d893" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="classFullO3CPU.html#a494521ebae1f8b01fe0ed16320494e6a">RenameStruct</a>&gt; <a class="el" href="classFullO3CPU.html#ae590391fe7915c744cde571b7d15d893">renameQueue</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The rename stage's instruction queue. </p>

</div>
</div>
<a class="anchor" id="ad649787f87175a89806eeccaee4832e9"></a><!-- doxytag: member="FullO3CPU::rob" ref="ad649787f87175a89806eeccaee4832e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CPUPolicy::ROB <a class="el" href="classFullO3CPU.html#ad649787f87175a89806eeccaee4832e9">rob</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The re-order buffer. </p>

</div>
</div>
<a class="anchor" id="a5e0ec8da05a369f0327b7b78c44faa36"></a><!-- doxytag: member="FullO3CPU::scoreboard" ref="a5e0ec8da05a369f0327b7b78c44faa36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classScoreboard.html">Scoreboard</a> <a class="el" href="classFullO3CPU.html#a5e0ec8da05a369f0327b7b78c44faa36">scoreboard</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Integer <a class="el" href="classRegister.html">Register</a> <a class="el" href="classScoreboard.html">Scoreboard</a> </p>

</div>
</div>
<a class="anchor" id="af27ccd765f13a4b7bd119dc7579e2746"></a><!-- doxytag: member="FullO3CPU::system" ref="af27ccd765f13a4b7bd119dc7579e2746" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSystem.html">System</a>* <a class="el" href="classFullO3CPU.html#af27ccd765f13a4b7bd119dc7579e2746">system</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to the system. </p>

<p><a class="el" href="classBaseCPU.html#ab737471139f5a296e5b26e8a0e1b0744">BaseCPU</a>を再定義しています。</p>

</div>
</div>
<a class="anchor" id="afe9da004c5a3f37cbb72fa3763d4c0d1"></a><!-- doxytag: member="FullO3CPU::thread" ref="afe9da004c5a3f37cbb72fa3763d4c0d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="structO3ThreadState.html">Thread</a> *&gt; <a class="el" href="classFullO3CPU.html#afe9da004c5a3f37cbb72fa3763d4c0d1">thread</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointers to all of the threads in the CPU. </p>

</div>
</div>
<a class="anchor" id="a08db914bbe37a5fa8c008248fa9647f6"></a><!-- doxytag: member="FullO3CPU::threadMap" ref="a08db914bbe37a5fa8c008248fa9647f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>, unsigned&gt; <a class="el" href="classFullO3CPU.html#a08db914bbe37a5fa8c008248fa9647f6">threadMap</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Mapping for system thread id to cpu id </p>

</div>
</div>
<a class="anchor" id="aa36b8e894416f0ec98f701ab08f2ac22"></a><!-- doxytag: member="FullO3CPU::tickEvent" ref="aa36b8e894416f0ec98f701ab08f2ac22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFullO3CPU_1_1TickEvent.html">TickEvent</a> <a class="el" href="classFullO3CPU.html#aa36b8e894416f0ec98f701ab08f2ac22">tickEvent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The tick event used for scheduling CPU ticks. </p>

</div>
</div>
<a class="anchor" id="a457642e81692e24e601ec32c778042a2"></a><!-- doxytag: member="FullO3CPU::tids" ref="a457642e81692e24e601ec32c778042a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&gt; <a class="el" href="classFullO3CPU.html#a457642e81692e24e601ec32c778042a2">tids</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Available thread ids in the cpu </p>

</div>
</div>
<a class="anchor" id="ad72b6568a4a40f54d071c31bef16bf2e"></a><!-- doxytag: member="FullO3CPU::timeBuffer" ref="ad72b6568a4a40f54d071c31bef16bf2e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTimeBuffer.html">TimeBuffer</a>&lt;<a class="el" href="structTimeStruct.html">TimeStruct</a>&gt; <a class="el" href="classFullO3CPU.html#ad72b6568a4a40f54d071c31bef16bf2e">timeBuffer</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The main time buffer to do backwards communication. </p>

</div>
</div>
<a class="anchor" id="a174dbfb3c7b892914a54cec44ed2eeaf"></a><!-- doxytag: member="FullO3CPU::timesIdled" ref="a174dbfb3c7b892914a54cec44ed2eeaf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classFullO3CPU.html#a174dbfb3c7b892914a54cec44ed2eeaf">timesIdled</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for total number of times the CPU is descheduled. </p>

</div>
</div>
<a class="anchor" id="a5bd2f06c271dd03138cad92251716f5d"></a><!-- doxytag: member="FullO3CPU::totalCpi" ref="a5bd2f06c271dd03138cad92251716f5d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a> <a class="el" href="classFullO3CPU.html#a5bd2f06c271dd03138cad92251716f5d">totalCpi</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for the total CPI. </p>

</div>
</div>
<a class="anchor" id="ae8551f10097f4b2e5ed3febf0d9417e3"></a><!-- doxytag: member="FullO3CPU::totalIpc" ref="ae8551f10097f4b2e5ed3febf0d9417e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a> <a class="el" href="classFullO3CPU.html#ae8551f10097f4b2e5ed3febf0d9417e3">totalIpc</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stat for the total IPC. </p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>cpu/o3/<a class="el" href="o3_2cpu_8hh_source.html">cpu.hh</a></li>
<li>cpu/o3/<a class="el" href="o3_2cpu_8cc.html">cpu.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
