\hypertarget{classConsumer}{
\section{クラス Consumer}
\label{classConsumer}\index{Consumer@{Consumer}}
}


{\ttfamily \#include $<$Consumer.hh$>$}Consumerに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=12cm]{classConsumer}
\end{center}
\end{figure}
\subsection*{構成}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classConsumer_1_1ConsumerEvent}{ConsumerEvent}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classConsumer_a645ceafe42017acfa86025960f300df1}{Consumer} (\hyperlink{classClockedObject}{ClockedObject} $\ast$\_\-em)
\item 
virtual \hyperlink{classConsumer_afc5a9aad1f27ac3414bc75d841e848ee}{$\sim$Consumer} ()
\item 
virtual void \hyperlink{classConsumer_a623e3e7d1b1c725d70009f7b01a421b9}{wakeup} ()=0
\item 
virtual void \hyperlink{classConsumer_a3ea5f7af5db62cc24f4e40df9ea5c971}{print} (std::ostream \&out) const =0
\item 
virtual void \hyperlink{classConsumer_a6f82fdec6e5674ac2254f16b8fa82afb}{storeEventInfo} (int info)
\item 
bool \hyperlink{classConsumer_a995ed0e67a3f05938c1cb5c8152ac5af}{alreadyScheduled} (\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} time)
\item 
void \hyperlink{classConsumer_a18f41a3442b6485c6e07f2d0440cf659}{insertScheduledWakeupTime} (\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} time)
\item 
void \hyperlink{classConsumer_a0b26d8ce23c3ab271e7a746e57174721}{scheduleEventAbsolute} (\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} timeAbs)
\end{DoxyCompactItemize}
\subsection*{Protected メソッド}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classConsumer_a5a4c2856f4eb5cd5493f36dfb0675f00}{scheduleEvent} (\hyperlink{classCycles}{Cycles} timeDelta)
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
std::set$<$ \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} $>$ \hyperlink{classConsumer_a80158caf2e9b370c03daba358a438493}{m\_\-scheduled\_\-wakeups}
\item 
\hyperlink{classClockedObject}{ClockedObject} $\ast$ \hyperlink{classConsumer_a75e14198badfddb1422adb9833fbd275}{em}
\end{DoxyCompactItemize}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classConsumer_a645ceafe42017acfa86025960f300df1}{
\index{Consumer@{Consumer}!Consumer@{Consumer}}
\index{Consumer@{Consumer}!Consumer@{Consumer}}
\subsubsection[{Consumer}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Consumer} ({\bf ClockedObject} $\ast$ {\em \_\-em})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConsumer_a645ceafe42017acfa86025960f300df1}



\begin{DoxyCode}
47         : em(_em)
48     {
49     }
\end{DoxyCode}
\hypertarget{classConsumer_afc5a9aad1f27ac3414bc75d841e848ee}{
\index{Consumer@{Consumer}!$\sim$Consumer@{$\sim$Consumer}}
\index{$\sim$Consumer@{$\sim$Consumer}!Consumer@{Consumer}}
\subsubsection[{$\sim$Consumer}]{\setlength{\rightskip}{0pt plus 5cm}virtual $\sim${\bf Consumer} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classConsumer_afc5a9aad1f27ac3414bc75d841e848ee}



\begin{DoxyCode}
53     { }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classConsumer_a995ed0e67a3f05938c1cb5c8152ac5af}{
\index{Consumer@{Consumer}!alreadyScheduled@{alreadyScheduled}}
\index{alreadyScheduled@{alreadyScheduled}!Consumer@{Consumer}}
\subsubsection[{alreadyScheduled}]{\setlength{\rightskip}{0pt plus 5cm}bool alreadyScheduled ({\bf Tick} {\em time})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConsumer_a995ed0e67a3f05938c1cb5c8152ac5af}



\begin{DoxyCode}
61     {
62         return m_scheduled_wakeups.find(time) != m_scheduled_wakeups.end();
63     }
\end{DoxyCode}
\hypertarget{classConsumer_a18f41a3442b6485c6e07f2d0440cf659}{
\index{Consumer@{Consumer}!insertScheduledWakeupTime@{insertScheduledWakeupTime}}
\index{insertScheduledWakeupTime@{insertScheduledWakeupTime}!Consumer@{Consumer}}
\subsubsection[{insertScheduledWakeupTime}]{\setlength{\rightskip}{0pt plus 5cm}void insertScheduledWakeupTime ({\bf Tick} {\em time})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConsumer_a18f41a3442b6485c6e07f2d0440cf659}



\begin{DoxyCode}
67     {
68         m_scheduled_wakeups.insert(time);
69     }
\end{DoxyCode}
\hypertarget{classConsumer_a3ea5f7af5db62cc24f4e40df9ea5c971}{
\index{Consumer@{Consumer}!print@{print}}
\index{print@{print}!Consumer@{Consumer}}
\subsubsection[{print}]{\setlength{\rightskip}{0pt plus 5cm}virtual void print (std::ostream \& {\em out}) const\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classConsumer_a3ea5f7af5db62cc24f4e40df9ea5c971}


\hyperlink{classInputUnit__d_ac55fe386a101fbae38c716067c9966a0}{InputUnit\_\-d}, \hyperlink{classNetworkInterface__d_ac55fe386a101fbae38c716067c9966a0}{NetworkInterface\_\-d}, \hyperlink{classNetworkLink__d_ac55fe386a101fbae38c716067c9966a0}{NetworkLink\_\-d}, \hyperlink{classOutputUnit__d_ac55fe386a101fbae38c716067c9966a0}{OutputUnit\_\-d}, \hyperlink{classSWallocator__d_ac55fe386a101fbae38c716067c9966a0}{SWallocator\_\-d}, \hyperlink{classSwitch__d_ac55fe386a101fbae38c716067c9966a0}{Switch\_\-d}, \hyperlink{classVCallocator__d_ac55fe386a101fbae38c716067c9966a0}{VCallocator\_\-d}, \hyperlink{classNetworkInterface_ac55fe386a101fbae38c716067c9966a0}{NetworkInterface}, \hyperlink{classNetworkLink_ac55fe386a101fbae38c716067c9966a0}{NetworkLink}, \hyperlink{classRouter_ac55fe386a101fbae38c716067c9966a0}{Router}, \hyperlink{classVCarbiter_ac55fe386a101fbae38c716067c9966a0}{VCarbiter}, \hyperlink{classPerfectSwitch_ac55fe386a101fbae38c716067c9966a0}{PerfectSwitch}, \hyperlink{classThrottle_ac55fe386a101fbae38c716067c9966a0}{Throttle}, \hyperlink{classAbstractController_a3ea5f7af5db62cc24f4e40df9ea5c971}{AbstractController}, \hyperlink{classMemoryControl_a3ea5f7af5db62cc24f4e40df9ea5c971}{MemoryControl}, と \hyperlink{classRubyMemoryControl_ac55fe386a101fbae38c716067c9966a0}{RubyMemoryControl}で実装されています。\hypertarget{classConsumer_a5a4c2856f4eb5cd5493f36dfb0675f00}{
\index{Consumer@{Consumer}!scheduleEvent@{scheduleEvent}}
\index{scheduleEvent@{scheduleEvent}!Consumer@{Consumer}}
\subsubsection[{scheduleEvent}]{\setlength{\rightskip}{0pt plus 5cm}void scheduleEvent ({\bf Cycles} {\em timeDelta})\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classConsumer_a5a4c2856f4eb5cd5493f36dfb0675f00}



\begin{DoxyCode}
35 {
36     scheduleEventAbsolute(em->clockEdge(timeDelta));
37 }
\end{DoxyCode}
\hypertarget{classConsumer_a0b26d8ce23c3ab271e7a746e57174721}{
\index{Consumer@{Consumer}!scheduleEventAbsolute@{scheduleEventAbsolute}}
\index{scheduleEventAbsolute@{scheduleEventAbsolute}!Consumer@{Consumer}}
\subsubsection[{scheduleEventAbsolute}]{\setlength{\rightskip}{0pt plus 5cm}void scheduleEventAbsolute ({\bf Tick} {\em timeAbs})}}
\label{classConsumer_a0b26d8ce23c3ab271e7a746e57174721}



\begin{DoxyCode}
41 {
42     if (!alreadyScheduled(evt_time)) {
43         // This wakeup is not redundant
44         ConsumerEvent *evt = new ConsumerEvent(this);
45         em->schedule(evt, evt_time);
46         insertScheduledWakeupTime(evt_time);
47     }
48 
49     Tick t = em->clockEdge();
50     set<Tick>::iterator bit = m_scheduled_wakeups.begin();
51     set<Tick>::iterator eit = m_scheduled_wakeups.lower_bound(t);
52     m_scheduled_wakeups.erase(bit,eit);
53 }
\end{DoxyCode}
\hypertarget{classConsumer_a6f82fdec6e5674ac2254f16b8fa82afb}{
\index{Consumer@{Consumer}!storeEventInfo@{storeEventInfo}}
\index{storeEventInfo@{storeEventInfo}!Consumer@{Consumer}}
\subsubsection[{storeEventInfo}]{\setlength{\rightskip}{0pt plus 5cm}virtual void storeEventInfo (int {\em info})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classConsumer_a6f82fdec6e5674ac2254f16b8fa82afb}


\hyperlink{classPerfectSwitch_accd0665763c9caa446789b27a62f931b}{PerfectSwitch}で再定義されています。


\begin{DoxyCode}
57 {}
\end{DoxyCode}
\hypertarget{classConsumer_a623e3e7d1b1c725d70009f7b01a421b9}{
\index{Consumer@{Consumer}!wakeup@{wakeup}}
\index{wakeup@{wakeup}!Consumer@{Consumer}}
\subsubsection[{wakeup}]{\setlength{\rightskip}{0pt plus 5cm}virtual void wakeup ()\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classConsumer_a623e3e7d1b1c725d70009f7b01a421b9}


\hyperlink{classInputUnit__d_ae674290a26ecbd622c5160e38e8a4fe9}{InputUnit\_\-d}, \hyperlink{classNetworkInterface__d_ae674290a26ecbd622c5160e38e8a4fe9}{NetworkInterface\_\-d}, \hyperlink{classNetworkLink__d_ae674290a26ecbd622c5160e38e8a4fe9}{NetworkLink\_\-d}, \hyperlink{classOutputUnit__d_ae674290a26ecbd622c5160e38e8a4fe9}{OutputUnit\_\-d}, \hyperlink{classSWallocator__d_ae674290a26ecbd622c5160e38e8a4fe9}{SWallocator\_\-d}, \hyperlink{classSwitch__d_ae674290a26ecbd622c5160e38e8a4fe9}{Switch\_\-d}, \hyperlink{classVCallocator__d_ae674290a26ecbd622c5160e38e8a4fe9}{VCallocator\_\-d}, \hyperlink{classNetworkInterface_ae674290a26ecbd622c5160e38e8a4fe9}{NetworkInterface}, \hyperlink{classNetworkLink_ae674290a26ecbd622c5160e38e8a4fe9}{NetworkLink}, \hyperlink{classRouter_ae674290a26ecbd622c5160e38e8a4fe9}{Router}, \hyperlink{classVCarbiter_ae674290a26ecbd622c5160e38e8a4fe9}{VCarbiter}, \hyperlink{classPerfectSwitch_ae674290a26ecbd622c5160e38e8a4fe9}{PerfectSwitch}, \hyperlink{classThrottle_ae674290a26ecbd622c5160e38e8a4fe9}{Throttle}, \hyperlink{classAbstractController_a623e3e7d1b1c725d70009f7b01a421b9}{AbstractController}, \hyperlink{classMemoryControl_a623e3e7d1b1c725d70009f7b01a421b9}{MemoryControl}, と \hyperlink{classRubyMemoryControl_ae674290a26ecbd622c5160e38e8a4fe9}{RubyMemoryControl}で実装されています。

\subsection{変数}
\hypertarget{classConsumer_a75e14198badfddb1422adb9833fbd275}{
\index{Consumer@{Consumer}!em@{em}}
\index{em@{em}!Consumer@{Consumer}}
\subsubsection[{em}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ClockedObject}$\ast$ {\bf em}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classConsumer_a75e14198badfddb1422adb9833fbd275}
\hypertarget{classConsumer_a80158caf2e9b370c03daba358a438493}{
\index{Consumer@{Consumer}!m\_\-scheduled\_\-wakeups@{m\_\-scheduled\_\-wakeups}}
\index{m\_\-scheduled\_\-wakeups@{m\_\-scheduled\_\-wakeups}!Consumer@{Consumer}}
\subsubsection[{m\_\-scheduled\_\-wakeups}]{\setlength{\rightskip}{0pt plus 5cm}std::set$<${\bf Tick}$>$ {\bf m\_\-scheduled\_\-wakeups}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classConsumer_a80158caf2e9b370c03daba358a438493}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/ruby/common/\hyperlink{Consumer_8hh}{Consumer.hh}\item 
mem/ruby/common/\hyperlink{Consumer_8cc}{Consumer.cc}\end{DoxyCompactItemize}
