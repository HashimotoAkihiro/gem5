\hypertarget{byteswap_8hh}{
\section{sim/byteswap.hh}
\label{byteswap_8hh}\index{sim/byteswap.hh@{sim/byteswap.hh}}
}
{\ttfamily \#include \char`\"{}base/bigint.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}base/misc.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}base/types.hh\char`\"{}}\par
{\ttfamily \#include $<$machine/endian.h$>$}\par
\subsection*{ネームスペース}
\begin{DoxyCompactItemize}
\item 
namespace \hyperlink{namespaceBigEndianGuest}{BigEndianGuest}
\item 
namespace \hyperlink{namespaceLittleEndianGuest}{LittleEndianGuest}
\end{DoxyCompactItemize}
\subsection*{列挙型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142b}{ByteOrder} \{ \hyperlink{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142baeb5880acff621b284760d4ed418de2ba}{BigEndianByteOrder}, 
\hyperlink{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142ba27cb938a9a54fedfe5c69b927994bbef}{LittleEndianByteOrder}
 \}
\end{DoxyCompactItemize}
\subsection*{関数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structqword128__t}{qword128\_\-t} \hyperlink{byteswap_8hh_a2d35467856f0684a26fd9a0a69f88456}{swap\_\-byte128} (\hyperlink{structqword128__t}{qword128\_\-t} x)
\item 
uint64\_\-t \hyperlink{byteswap_8hh_a967a7b2fbf5389735a64a247a9122822}{swap\_\-byte64} (uint64\_\-t x)
\item 
\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \hyperlink{byteswap_8hh_a22bec80aff1a93b99ca7974b6b72810d}{swap\_\-byte32} (\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} x)
\item 
uint16\_\-t \hyperlink{byteswap_8hh_a657b67db48aed3619d03cb886d87cb03}{swap\_\-byte16} (uint16\_\-t x)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{byteswap_8hh_af9e70a6d5396cec8ae735b2fc330cdfb}{swap\_\-byte} (T x)
\item 
{\footnotesize template$<$$>$ }\\\hyperlink{structm5__twin64__t}{Twin64\_\-t} \hyperlink{byteswap_8hh_aed089e6a02d56dd35d6f651216ef9d1a}{swap\_\-byte$<$ Twin64\_\-t $>$} (\hyperlink{structm5__twin64__t}{Twin64\_\-t} x)
\item 
{\footnotesize template$<$$>$ }\\\hyperlink{structm5__twin32__t}{Twin32\_\-t} \hyperlink{byteswap_8hh_aced9dadb2c01690723d40d5b3a602776}{swap\_\-byte$<$ Twin32\_\-t $>$} (\hyperlink{structm5__twin32__t}{Twin32\_\-t} x)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{byteswap_8hh_a8406bc904f1bcbe3e7988be84d7713d3}{betole} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{byteswap_8hh_aa2254f32edd0ec0e197562f0e9f7029a}{letobe} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{byteswap_8hh_ac65420460fe8f6fd2a34e80843fc514a}{htole} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{byteswap_8hh_ab4fd5fcb5fd81289408dfd05adef6866}{letoh} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{byteswap_8hh_a0ec9bd801b3cff46ad2537234f1f1a67}{htobe} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{byteswap_8hh_a2af77d34ef12718184be94c5b14a27ce}{betoh} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceBigEndianGuest_aeab167e8a814d73ceb79ff46de96ba0d}{gtole} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceBigEndianGuest_a245baef980523bf81f2285b1fa3e74b8}{letog} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceBigEndianGuest_ad77d11499d6bfb2b207b17cb7319f5ec}{gtobe} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceBigEndianGuest_a50d31a883b3eda39db344a37f8381fe6}{betog} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceBigEndianGuest_a10c3370b6af5a1216a2a64c0d379f788}{htog} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceBigEndianGuest_adb51b41dd17278558edf419359f52de6}{gtoh} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceLittleEndianGuest_aa763802ce48ab3ae2d2f00f36dee207c}{gtole} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceLittleEndianGuest_a2afbf7328c847d732303dc44c67c425d}{letog} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceLittleEndianGuest_aea54106b2611ff7926651b34e2b48e50}{gtobe} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceLittleEndianGuest_ad2b70ae43b0a5f3901a36c4063afb95b}{betog} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceLittleEndianGuest_a78d5c03420b8ee62e625df90ca9fa66d}{htog} (T value)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{namespaceLittleEndianGuest_aa69faf82e7abf95025efbebedcbae1b2}{gtoh} (T value)
\end{DoxyCompactItemize}
\subsection*{変数}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142b}{ByteOrder} \hyperlink{byteswap_8hh_aba38c3d743ff1a4568a9aa84a4843326}{HostByteOrder} = BigEndianByteOrder
\item 
const \hyperlink{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142b}{ByteOrder} \hyperlink{namespaceBigEndianGuest_aef5e34cb4383d2b11025693e07673656}{GuestByteOrder} = BigEndianByteOrder
\item 
const \hyperlink{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142b}{ByteOrder} \hyperlink{namespaceLittleEndianGuest_aef5e34cb4383d2b11025693e07673656}{GuestByteOrder} = LittleEndianByteOrder
\end{DoxyCompactItemize}


\subsection{列挙型}
\hypertarget{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142b}{
\index{byteswap.hh@{byteswap.hh}!ByteOrder@{ByteOrder}}
\index{ByteOrder@{ByteOrder}!byteswap.hh@{byteswap.hh}}
\subsubsection[{ByteOrder}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf ByteOrder}}}
\label{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142b}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{BigEndianByteOrder@{BigEndianByteOrder}!byteswap.hh@{byteswap.hh}}\index{byteswap.hh@{byteswap.hh}!BigEndianByteOrder@{BigEndianByteOrder}}\item[{\em 
\hypertarget{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142baeb5880acff621b284760d4ed418de2ba}{
BigEndianByteOrder}
\label{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142baeb5880acff621b284760d4ed418de2ba}
}]\index{LittleEndianByteOrder@{LittleEndianByteOrder}!byteswap.hh@{byteswap.hh}}\index{byteswap.hh@{byteswap.hh}!LittleEndianByteOrder@{LittleEndianByteOrder}}\item[{\em 
\hypertarget{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142ba27cb938a9a54fedfe5c69b927994bbef}{
LittleEndianByteOrder}
\label{byteswap_8hh_aaeb92d42f5a6e27b8ba19f18d69d142ba27cb938a9a54fedfe5c69b927994bbef}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
61 {BigEndianByteOrder, LittleEndianByteOrder};
\end{DoxyCode}


\subsection{関数}
\hypertarget{byteswap_8hh_a2af77d34ef12718184be94c5b14a27ce}{
\index{byteswap.hh@{byteswap.hh}!betoh@{betoh}}
\index{betoh@{betoh}!byteswap.hh@{byteswap.hh}}
\subsubsection[{betoh}]{\setlength{\rightskip}{0pt plus 5cm}T betoh (T {\em value})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_a2af77d34ef12718184be94c5b14a27ce}



\begin{DoxyCode}
221 {return value;}
\end{DoxyCode}
\hypertarget{byteswap_8hh_a8406bc904f1bcbe3e7988be84d7713d3}{
\index{byteswap.hh@{byteswap.hh}!betole@{betole}}
\index{betole@{betole}!byteswap.hh@{byteswap.hh}}
\subsubsection[{betole}]{\setlength{\rightskip}{0pt plus 5cm}T betole (T {\em value})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_a8406bc904f1bcbe3e7988be84d7713d3}



\begin{DoxyCode}
211 {return swap_byte(value);}
\end{DoxyCode}
\hypertarget{byteswap_8hh_a0ec9bd801b3cff46ad2537234f1f1a67}{
\index{byteswap.hh@{byteswap.hh}!htobe@{htobe}}
\index{htobe@{htobe}!byteswap.hh@{byteswap.hh}}
\subsubsection[{htobe}]{\setlength{\rightskip}{0pt plus 5cm}T htobe (T {\em value})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_a0ec9bd801b3cff46ad2537234f1f1a67}



\begin{DoxyCode}
220 {return value;}
\end{DoxyCode}
\hypertarget{byteswap_8hh_ac65420460fe8f6fd2a34e80843fc514a}{
\index{byteswap.hh@{byteswap.hh}!htole@{htole}}
\index{htole@{htole}!byteswap.hh@{byteswap.hh}}
\subsubsection[{htole}]{\setlength{\rightskip}{0pt plus 5cm}T htole (T {\em value})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_ac65420460fe8f6fd2a34e80843fc514a}



\begin{DoxyCode}
218 {return swap_byte(value);}
\end{DoxyCode}
\hypertarget{byteswap_8hh_aa2254f32edd0ec0e197562f0e9f7029a}{
\index{byteswap.hh@{byteswap.hh}!letobe@{letobe}}
\index{letobe@{letobe}!byteswap.hh@{byteswap.hh}}
\subsubsection[{letobe}]{\setlength{\rightskip}{0pt plus 5cm}T letobe (T {\em value})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_aa2254f32edd0ec0e197562f0e9f7029a}



\begin{DoxyCode}
212 {return swap_byte(value);}
\end{DoxyCode}
\hypertarget{byteswap_8hh_ab4fd5fcb5fd81289408dfd05adef6866}{
\index{byteswap.hh@{byteswap.hh}!letoh@{letoh}}
\index{letoh@{letoh}!byteswap.hh@{byteswap.hh}}
\subsubsection[{letoh}]{\setlength{\rightskip}{0pt plus 5cm}T letoh (T {\em value})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_ab4fd5fcb5fd81289408dfd05adef6866}



\begin{DoxyCode}
219 {return swap_byte(value);}
\end{DoxyCode}
\hypertarget{byteswap_8hh_af9e70a6d5396cec8ae735b2fc330cdfb}{
\index{byteswap.hh@{byteswap.hh}!swap\_\-byte@{swap\_\-byte}}
\index{swap\_\-byte@{swap\_\-byte}!byteswap.hh@{byteswap.hh}}
\subsubsection[{swap\_\-byte}]{\setlength{\rightskip}{0pt plus 5cm}T swap\_\-byte (T {\em x})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_af9e70a6d5396cec8ae735b2fc330cdfb}



\begin{DoxyCode}
177                         {
178   //@@change sizeof(T) == 16 
179   //  if (sizeof(T) == 16)
180   //      return swap_byte128(x);
181     if (sizeof(T) == 8)
182         return swap_byte64((uint64_t)x);
183     else if (sizeof(T) == 4)
184         return swap_byte32((uint32_t)x);
185     else if (sizeof(T) == 2)
186         return swap_byte16((uint16_t)x);
187     else if (sizeof(T) == 1)
188         return x;
189     else
190         panic("Can't byte-swap values larger than 64 bits");
191 }
\end{DoxyCode}
\hypertarget{byteswap_8hh_a2d35467856f0684a26fd9a0a69f88456}{
\index{byteswap.hh@{byteswap.hh}!swap\_\-byte128@{swap\_\-byte128}}
\index{swap\_\-byte128@{swap\_\-byte128}!byteswap.hh@{byteswap.hh}}
\subsubsection[{swap\_\-byte128}]{\setlength{\rightskip}{0pt plus 5cm}{\bf qword128\_\-t} swap\_\-byte128 ({\bf qword128\_\-t} {\em x})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_a2d35467856f0684a26fd9a0a69f88456}



\begin{DoxyCode}
69 {
70   qword128_t temp;
71 
72   temp.data[0] = x.data[3];
73   temp.data[1] = x.data[2];
74   temp.data[2] = x.data[1];
75   temp.data[3] = x.data[0];
76 
77 #if defined(__linux__)
78     bswap_32(temp.data[0]);
79     bswap_32(temp.data[1]);
80     bswap_32(temp.data[2]);
81     bswap_32(temp.data[3]);
82 
83     x.data[0] = temp.data[0];
84     x.data[1] = temp.data[1];
85     x.data[2] = temp.data[2];
86     x.data[3] = temp.data[3];
87     return x;
88 #elif defined(__APPLE__)
89     OSSwapInt32(temp.data[0]);
90     OSSwapInt32(temp.data[1]);
91     OSSwapInt32(temp.data[2]);
92     OSSwapInt32(temp.data[3]);
93 
94     x.data[0] = temp.data[0];
95     x.data[1] = temp.data[1];
96     x.data[2] = temp.data[2];
97     x.data[3] = temp.data[3];
98     
99     retrun x;
100 #else
101     (uint32_t)(((uint32_t)(temp.data[0]) & 0xff) << 24 |
102     ((uint32_t)(temp.data[0]) & 0xff00) << 8 | ((uint32_t)(temp.data[0]) & 0xff00
      00) >> 8 |
103     ((uint32_t)(temp.data[0]) & 0xff000000) >> 24);
104 
105     (uint32_t)(((uint32_t)(temp.data[1]) & 0xff) << 24 |
106     ((uint32_t)(temp.data[1]) & 0xff00) << 8 | ((uint32_t)(temp.data[1]) & 0xff00
      00) >> 8 |
107     ((uint32_t)(temp.data[1]) & 0xff000000) >> 24);
108 
109     (uint32_t)(((uint32_t)(temp.data[2]) & 0xff) << 24 |
110     ((uint32_t)(temp.data[2]) & 0xff00) << 8 | ((uint32_t)(temp.data[2]) & 0xff00
      00) >> 8 |
111     ((uint32_t)(temp.data[2]) & 0xff000000) >> 24);
112 
113     (uint32_t)(((uint32_t)(temp.data[3]) & 0xff) << 24 |
114     ((uint32_t)(temp.data[3]) & 0xff00) << 8 | ((uint32_t)(temp.data[3]) & 0xff00
      00) >> 8 |
115     ((uint32_t)(temp.data[3]) & 0xff000000) >> 24);
116 
117     x.data[0] = temp.data[0];
118     x.data[1] = temp.data[1];
119     x.data[2] = temp.data[2];
120     x.data[3] = temp.data[3];
121 
122     return x;
123 #endif
124 }
\end{DoxyCode}
\hypertarget{byteswap_8hh_a657b67db48aed3619d03cb886d87cb03}{
\index{byteswap.hh@{byteswap.hh}!swap\_\-byte16@{swap\_\-byte16}}
\index{swap\_\-byte16@{swap\_\-byte16}!byteswap.hh@{byteswap.hh}}
\subsubsection[{swap\_\-byte16}]{\setlength{\rightskip}{0pt plus 5cm}uint16\_\-t swap\_\-byte16 (uint16\_\-t {\em x})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_a657b67db48aed3619d03cb886d87cb03}



\begin{DoxyCode}
161 {
162 #if defined(__linux__)
163     return bswap_16(x);
164 #elif defined(__APPLE__)
165     return OSSwapInt16(x);
166 #else
167     return (uint16_t)(((uint16_t)(x) & 0xff) << 8 |
168                       ((uint16_t)(x) & 0xff00) >> 8);
169 #endif
170 }
\end{DoxyCode}
\hypertarget{byteswap_8hh_a22bec80aff1a93b99ca7974b6b72810d}{
\index{byteswap.hh@{byteswap.hh}!swap\_\-byte32@{swap\_\-byte32}}
\index{swap\_\-byte32@{swap\_\-byte32}!byteswap.hh@{byteswap.hh}}
\subsubsection[{swap\_\-byte32}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\_\-t} swap\_\-byte32 ({\bf uint32\_\-t} {\em x})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_a22bec80aff1a93b99ca7974b6b72810d}



\begin{DoxyCode}
147 {
148 #if defined(__linux__)
149     return bswap_32(x);
150 #elif defined(__APPLE__)
151     return OSSwapInt32(x);
152 #else
153     return  (uint32_t)(((uint32_t)(x) & 0xff) << 24 |
154             ((uint32_t)(x) & 0xff00) << 8 | ((uint32_t)(x) & 0xff0000) >> 8 |
155             ((uint32_t)(x) & 0xff000000) >> 24);
156 #endif
157 }
\end{DoxyCode}
\hypertarget{byteswap_8hh_a967a7b2fbf5389735a64a247a9122822}{
\index{byteswap.hh@{byteswap.hh}!swap\_\-byte64@{swap\_\-byte64}}
\index{swap\_\-byte64@{swap\_\-byte64}!byteswap.hh@{byteswap.hh}}
\subsubsection[{swap\_\-byte64}]{\setlength{\rightskip}{0pt plus 5cm}uint64\_\-t swap\_\-byte64 (uint64\_\-t {\em x})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_a967a7b2fbf5389735a64a247a9122822}



\begin{DoxyCode}
128 {
129 #if defined(__linux__)
130     return bswap_64(x);
131 #elif defined(__APPLE__)
132     return OSSwapInt64(x);
133 #else
134     return  (uint64_t)((((uint64_t)(x) & 0xff) << 56) |
135             ((uint64_t)(x) & 0xff00ULL) << 40 |
136             ((uint64_t)(x) & 0xff0000ULL) << 24 |
137             ((uint64_t)(x) & 0xff000000ULL) << 8 |
138             ((uint64_t)(x) & 0xff00000000ULL) >> 8 |
139             ((uint64_t)(x) & 0xff0000000000ULL) >> 24 |
140             ((uint64_t)(x) & 0xff000000000000ULL) >> 40 |
141             ((uint64_t)(x) & 0xff00000000000000ULL) >> 56) ;
142 #endif
143 }
\end{DoxyCode}
\hypertarget{byteswap_8hh_aced9dadb2c01690723d40d5b3a602776}{
\index{byteswap.hh@{byteswap.hh}!swap\_\-byte$<$ Twin32\_\-t $>$@{swap\_\-byte$<$ Twin32\_\-t $>$}}
\index{swap\_\-byte$<$ Twin32\_\-t $>$@{swap\_\-byte$<$ Twin32\_\-t $>$}!byteswap.hh@{byteswap.hh}}
\subsubsection[{swap\_\-byte$<$ Twin32\_\-t $>$}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Twin32\_\-t} swap\_\-byte$<$ {\bf Twin32\_\-t} $>$ ({\bf Twin32\_\-t} {\em x})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_aced9dadb2c01690723d40d5b3a602776}
\hypertarget{byteswap_8hh_aed089e6a02d56dd35d6f651216ef9d1a}{
\index{byteswap.hh@{byteswap.hh}!swap\_\-byte$<$ Twin64\_\-t $>$@{swap\_\-byte$<$ Twin64\_\-t $>$}}
\index{swap\_\-byte$<$ Twin64\_\-t $>$@{swap\_\-byte$<$ Twin64\_\-t $>$}!byteswap.hh@{byteswap.hh}}
\subsubsection[{swap\_\-byte$<$ Twin64\_\-t $>$}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Twin64\_\-t} swap\_\-byte$<$ {\bf Twin64\_\-t} $>$ ({\bf Twin64\_\-t} {\em x})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{byteswap_8hh_aed089e6a02d56dd35d6f651216ef9d1a}


\subsection{変数}
\hypertarget{byteswap_8hh_aba38c3d743ff1a4568a9aa84a4843326}{
\index{byteswap.hh@{byteswap.hh}!HostByteOrder@{HostByteOrder}}
\index{HostByteOrder@{HostByteOrder}!byteswap.hh@{byteswap.hh}}
\subsubsection[{HostByteOrder}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf ByteOrder} {\bf HostByteOrder} = BigEndianByteOrder}}
\label{byteswap_8hh_aba38c3d743ff1a4568a9aa84a4843326}
