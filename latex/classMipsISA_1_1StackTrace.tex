\hypertarget{classMipsISA_1_1StackTrace}{
\section{クラス StackTrace}
\label{classMipsISA_1_1StackTrace}\index{MipsISA::StackTrace@{MipsISA::StackTrace}}
}


{\ttfamily \#include $<$stacktrace.hh$>$}\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMipsISA_1_1StackTrace_a5a9b2e3bba2262e73b20f87325efd063}{StackTrace} ()
\item 
\hyperlink{classMipsISA_1_1StackTrace_a7c751415d8c87372fc7d24513309cf1b}{StackTrace} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{classMipsISA_1_1StackTrace_a7d1b4bb6199b71a875f0eb5d9c19022b}{tc}, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst)
\item 
\hyperlink{classMipsISA_1_1StackTrace_adec953886bb73db4f2ec91ed12810135}{$\sim$StackTrace} ()
\item 
void \hyperlink{classMipsISA_1_1StackTrace_ac8bb3912a3ce86b15842e79d0b421204}{clear} ()
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_a8d985300b138b6c5556ab17ed4df3b38}{valid} () const 
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_aabb136846a5e22007e44db846652ddd5}{trace} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{classMipsISA_1_1StackTrace_a7d1b4bb6199b71a875f0eb5d9c19022b}{tc}, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst)
\item 
const \hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classm5_1_1params_1_1Addr}{Addr} $>$ \& \hyperlink{classMipsISA_1_1StackTrace_aceb93ba31a3756aca859b4643efeeb46}{getstack} () const 
\item 
void \hyperlink{classMipsISA_1_1StackTrace_a70fdc8802b54b4244889a2d3553405d5}{dprintf} ()
\item 
\hyperlink{classMipsISA_1_1StackTrace_a5a9b2e3bba2262e73b20f87325efd063}{StackTrace} ()
\item 
\hyperlink{classMipsISA_1_1StackTrace_a7c751415d8c87372fc7d24513309cf1b}{StackTrace} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{classMipsISA_1_1StackTrace_a7d1b4bb6199b71a875f0eb5d9c19022b}{tc}, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst)
\item 
\hyperlink{classMipsISA_1_1StackTrace_adec953886bb73db4f2ec91ed12810135}{$\sim$StackTrace} ()
\item 
void \hyperlink{classMipsISA_1_1StackTrace_ac8bb3912a3ce86b15842e79d0b421204}{clear} ()
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_a8d985300b138b6c5556ab17ed4df3b38}{valid} () const 
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_aabb136846a5e22007e44db846652ddd5}{trace} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{classMipsISA_1_1StackTrace_a7d1b4bb6199b71a875f0eb5d9c19022b}{tc}, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst)
\item 
const \hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classm5_1_1params_1_1Addr}{Addr} $>$ \& \hyperlink{classMipsISA_1_1StackTrace_aceb93ba31a3756aca859b4643efeeb46}{getstack} () const 
\item 
void \hyperlink{classMipsISA_1_1StackTrace_a70fdc8802b54b4244889a2d3553405d5}{dprintf} ()
\end{DoxyCompactItemize}
\subsection*{Static Public 変数}
\begin{DoxyCompactItemize}
\item 
static const int \hyperlink{classMipsISA_1_1StackTrace_a7e10e71a86019b3f50684465746ade86}{user} = 1
\item 
static const int \hyperlink{classMipsISA_1_1StackTrace_a95d22661a526c61cfe333c6dfc982baf}{console} = 2
\item 
static const int \hyperlink{classMipsISA_1_1StackTrace_a2fe038592b561fa27aea83761959269e}{unknown} = 3
\end{DoxyCompactItemize}
\subsection*{Protected 型}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{namespaceMipsISA_a301c22ea09fa33dcfe6ddf22f203699c}{MipsISA::MachInst} \hyperlink{classMipsISA_1_1StackTrace_a3f35b9076070a26d3e479196d6234916}{MachInst}
\item 
typedef \hyperlink{namespaceMipsISA_a301c22ea09fa33dcfe6ddf22f203699c}{MipsISA::MachInst} \hyperlink{classMipsISA_1_1StackTrace_a3f35b9076070a26d3e479196d6234916}{MachInst}
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_a8c9787d05f9c0e82dfcaf31cf0fd4b50}{isEntry} (\hyperlink{classm5_1_1params_1_1Addr}{Addr} addr)
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_a875eea16b2891accc8cbec7eb6c36003}{decodePrologue} (\hyperlink{classm5_1_1params_1_1Addr}{Addr} \hyperlink{namespaceMipsISA_aec732cfc085807a8a81c2534c69cea56}{sp}, \hyperlink{classm5_1_1params_1_1Addr}{Addr} callpc, \hyperlink{classm5_1_1params_1_1Addr}{Addr} func, int \&size, \hyperlink{classm5_1_1params_1_1Addr}{Addr} \&ra)
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_ae56dad5982b67d8717714c383b6a59f8}{decodeSave} (\hyperlink{classMipsISA_1_1StackTrace_a3f35b9076070a26d3e479196d6234916}{MachInst} inst, int \&reg, int \&disp)
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_a61ba7618f77dc6e62d7b0baf6273130c}{decodeStack} (\hyperlink{classMipsISA_1_1StackTrace_a3f35b9076070a26d3e479196d6234916}{MachInst} inst, int \&disp)
\item 
void \hyperlink{classMipsISA_1_1StackTrace_a46d6b95a2e5fdb75702cf45e39566645}{trace} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{classMipsISA_1_1StackTrace_a7d1b4bb6199b71a875f0eb5d9c19022b}{tc}, bool is\_\-call)
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_a8c9787d05f9c0e82dfcaf31cf0fd4b50}{isEntry} (\hyperlink{classm5_1_1params_1_1Addr}{Addr} addr)
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_a875eea16b2891accc8cbec7eb6c36003}{decodePrologue} (\hyperlink{classm5_1_1params_1_1Addr}{Addr} \hyperlink{namespaceMipsISA_aec732cfc085807a8a81c2534c69cea56}{sp}, \hyperlink{classm5_1_1params_1_1Addr}{Addr} callpc, \hyperlink{classm5_1_1params_1_1Addr}{Addr} func, int \&size, \hyperlink{classm5_1_1params_1_1Addr}{Addr} \&ra)
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_ae56dad5982b67d8717714c383b6a59f8}{decodeSave} (\hyperlink{classMipsISA_1_1StackTrace_a3f35b9076070a26d3e479196d6234916}{MachInst} inst, int \&reg, int \&disp)
\item 
bool \hyperlink{classMipsISA_1_1StackTrace_a61ba7618f77dc6e62d7b0baf6273130c}{decodeStack} (\hyperlink{classMipsISA_1_1StackTrace_a3f35b9076070a26d3e479196d6234916}{MachInst} inst, int \&disp)
\item 
void \hyperlink{classMipsISA_1_1StackTrace_a46d6b95a2e5fdb75702cf45e39566645}{trace} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{classMipsISA_1_1StackTrace_a7d1b4bb6199b71a875f0eb5d9c19022b}{tc}, bool is\_\-call)
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classThreadContext}{ThreadContext} $\ast$ \hyperlink{classMipsISA_1_1StackTrace_a7d1b4bb6199b71a875f0eb5d9c19022b}{tc}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classm5_1_1params_1_1Addr}{Addr} $>$ \hyperlink{classMipsISA_1_1StackTrace_adcb91530de92b76721b370071350200d}{stack}
\end{DoxyCompactItemize}


\subsection{型定義}
\hypertarget{classMipsISA_1_1StackTrace_a3f35b9076070a26d3e479196d6234916}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!MachInst@{MachInst}}
\index{MachInst@{MachInst}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{MachInst}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf MipsISA::MachInst} {\bf MachInst}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a3f35b9076070a26d3e479196d6234916}
\hypertarget{classMipsISA_1_1StackTrace_a3f35b9076070a26d3e479196d6234916}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!MachInst@{MachInst}}
\index{MachInst@{MachInst}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{MachInst}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf MipsISA::MachInst} {\bf MachInst}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a3f35b9076070a26d3e479196d6234916}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classMipsISA_1_1StackTrace_a5a9b2e3bba2262e73b20f87325efd063}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!StackTrace@{StackTrace}}
\index{StackTrace@{StackTrace}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{StackTrace}]{\setlength{\rightskip}{0pt plus 5cm}{\bf StackTrace} ()}}
\label{classMipsISA_1_1StackTrace_a5a9b2e3bba2262e73b20f87325efd063}



\begin{DoxyCode}
95     : tc(0), stack(64)
96 {
97 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_a7c751415d8c87372fc7d24513309cf1b}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!StackTrace@{StackTrace}}
\index{StackTrace@{StackTrace}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{StackTrace}]{\setlength{\rightskip}{0pt plus 5cm}{\bf StackTrace} ({\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf StaticInstPtr} {\em inst})}}
\label{classMipsISA_1_1StackTrace_a7c751415d8c87372fc7d24513309cf1b}



\begin{DoxyCode}
100     : tc(0), stack(64)
101 {
102     trace(_tc, inst);
103 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_adec953886bb73db4f2ec91ed12810135}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!$\sim$StackTrace@{$\sim$StackTrace}}
\index{$\sim$StackTrace@{$\sim$StackTrace}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{$\sim$StackTrace}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf StackTrace} ()}}
\label{classMipsISA_1_1StackTrace_adec953886bb73db4f2ec91ed12810135}



\begin{DoxyCode}
106 {
107 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_a5a9b2e3bba2262e73b20f87325efd063}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!StackTrace@{StackTrace}}
\index{StackTrace@{StackTrace}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{StackTrace}]{\setlength{\rightskip}{0pt plus 5cm}{\bf StackTrace} ()}}
\label{classMipsISA_1_1StackTrace_a5a9b2e3bba2262e73b20f87325efd063}
\hypertarget{classMipsISA_1_1StackTrace_a7c751415d8c87372fc7d24513309cf1b}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!StackTrace@{StackTrace}}
\index{StackTrace@{StackTrace}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{StackTrace}]{\setlength{\rightskip}{0pt plus 5cm}{\bf StackTrace} ({\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf StaticInstPtr} {\em inst})}}
\label{classMipsISA_1_1StackTrace_a7c751415d8c87372fc7d24513309cf1b}
\hypertarget{classMipsISA_1_1StackTrace_adec953886bb73db4f2ec91ed12810135}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!$\sim$StackTrace@{$\sim$StackTrace}}
\index{$\sim$StackTrace@{$\sim$StackTrace}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{$\sim$StackTrace}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf StackTrace} ()}}
\label{classMipsISA_1_1StackTrace_adec953886bb73db4f2ec91ed12810135}


\subsection{関数}
\hypertarget{classMipsISA_1_1StackTrace_ac8bb3912a3ce86b15842e79d0b421204}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!clear@{clear}}
\index{clear@{clear}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}void clear ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_ac8bb3912a3ce86b15842e79d0b421204}



\begin{DoxyCode}
84     {
85         tc = 0;
86         stack.clear();
87     }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_ac8bb3912a3ce86b15842e79d0b421204}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!clear@{clear}}
\index{clear@{clear}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}void clear ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_ac8bb3912a3ce86b15842e79d0b421204}



\begin{DoxyCode}
84     {
85         tc = 0;
86         stack.clear();
87     }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_a875eea16b2891accc8cbec7eb6c36003}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!decodePrologue@{decodePrologue}}
\index{decodePrologue@{decodePrologue}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{decodePrologue}]{\setlength{\rightskip}{0pt plus 5cm}bool decodePrologue ({\bf Addr} {\em sp}, \/  {\bf Addr} {\em callpc}, \/  {\bf Addr} {\em func}, \/  int \& {\em size}, \/  {\bf Addr} \& {\em ra})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a875eea16b2891accc8cbec7eb6c36003}
\hypertarget{classMipsISA_1_1StackTrace_a875eea16b2891accc8cbec7eb6c36003}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!decodePrologue@{decodePrologue}}
\index{decodePrologue@{decodePrologue}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{decodePrologue}]{\setlength{\rightskip}{0pt plus 5cm}bool decodePrologue ({\bf Addr} {\em sp}, \/  {\bf Addr} {\em callpc}, \/  {\bf Addr} {\em func}, \/  int \& {\em size}, \/  {\bf Addr} \& {\em ra})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a875eea16b2891accc8cbec7eb6c36003}



\begin{DoxyCode}
200 {
201     size = 0;
202     ra = 0;
203 
204     for (Addr pc = func; pc < callpc; pc += sizeof(MachInst)) {
205         MachInst inst;
206         CopyOut(tc, (uint8_t *)&inst, pc, sizeof(MachInst));
207 
208         int reg, disp;
209         if (decodeStack(inst, disp)) {
210             if (size) {
211                 return true;
212             }
213             size += disp;
214         } else if (decodeSave(inst, reg, disp)) {
215             if (!ra && reg == ReturnAddressReg) {
216                 CopyOut(tc, (uint8_t *)&ra, sp + disp, sizeof(Addr));
217                 if (!ra) {
218                     return false;
219                 }
220             }
221         }
222     }
223 
224     return true;
225 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_ae56dad5982b67d8717714c383b6a59f8}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!decodeSave@{decodeSave}}
\index{decodeSave@{decodeSave}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{decodeSave}]{\setlength{\rightskip}{0pt plus 5cm}bool decodeSave ({\bf MachInst} {\em inst}, \/  int \& {\em reg}, \/  int \& {\em disp})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_ae56dad5982b67d8717714c383b6a59f8}
\hypertarget{classMipsISA_1_1StackTrace_ae56dad5982b67d8717714c383b6a59f8}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!decodeSave@{decodeSave}}
\index{decodeSave@{decodeSave}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{decodeSave}]{\setlength{\rightskip}{0pt plus 5cm}bool decodeSave ({\bf MachInst} {\em inst}, \/  int \& {\em reg}, \/  int \& {\em disp})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_ae56dad5982b67d8717714c383b6a59f8}



\begin{DoxyCode}
170 {
171     // lda $stq, disp($sp)
172     //
173     // Opcode<31:26> == 0x08
174     // RA<25:21> == ?
175     // RB<20:16> == 30
176     // Disp<15:0>
177     const MachInst stq_mask = 0xfc1f0000;
178     const MachInst stq_pattern = 0xb41e0000;
179     const MachInst stq_disp_mask = 0x0000ffff;
180     const MachInst reg_mask = 0x03e00000;
181     const int reg_shift = 21;
182 
183     if ((inst & stq_mask) == stq_pattern) {
184         reg = (inst & reg_mask) >> reg_shift;
185         disp = sext<16>(inst & stq_disp_mask);
186     } else {
187         return false;
188     }
189 
190     return true;
191 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_a61ba7618f77dc6e62d7b0baf6273130c}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!decodeStack@{decodeStack}}
\index{decodeStack@{decodeStack}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{decodeStack}]{\setlength{\rightskip}{0pt plus 5cm}bool decodeStack ({\bf MachInst} {\em inst}, \/  int \& {\em disp})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a61ba7618f77dc6e62d7b0baf6273130c}
\hypertarget{classMipsISA_1_1StackTrace_a61ba7618f77dc6e62d7b0baf6273130c}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!decodeStack@{decodeStack}}
\index{decodeStack@{decodeStack}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{decodeStack}]{\setlength{\rightskip}{0pt plus 5cm}bool decodeStack ({\bf MachInst} {\em inst}, \/  int \& {\em disp})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a61ba7618f77dc6e62d7b0baf6273130c}



\begin{DoxyCode}
129 {
130     // lda $sp, -disp($sp)
131     //
132     // Opcode<31:26> == 0x08
133     // RA<25:21> == 30
134     // RB<20:16> == 30
135     // Disp<15:0>
136     const MachInst mem_mask = 0xffff0000;
137     const MachInst lda_pattern = 0x23de0000;
138     const MachInst lda_disp_mask = 0x0000ffff;
139 
140     // subq $sp, disp, $sp
141     // addq $sp, disp, $sp
142     //
143     // Opcode<31:26> == 0x10
144     // RA<25:21> == 30
145     // Lit<20:13>
146     // One<12> = 1
147     // Func<11:5> == 0x20 (addq)
148     // Func<11:5> == 0x29 (subq)
149     // RC<4:0> == 30
150     const MachInst intop_mask = 0xffe01fff;
151     const MachInst addq_pattern = 0x43c0141e;
152     const MachInst subq_pattern = 0x43c0153e;
153     const MachInst intop_disp_mask = 0x001fe000;
154     const int intop_disp_shift = 13;
155 
156     if ((inst & mem_mask) == lda_pattern)
157         disp = -sext<16>(inst & lda_disp_mask);
158     else if ((inst & intop_mask) == addq_pattern)
159         disp = -int((inst & intop_disp_mask) >> intop_disp_shift);
160     else if ((inst & intop_mask) == subq_pattern)
161         disp = int((inst & intop_disp_mask) >> intop_disp_shift);
162     else
163         return false;
164 
165     return true;
166 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_a70fdc8802b54b4244889a2d3553405d5}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!dprintf@{dprintf}}
\index{dprintf@{dprintf}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{dprintf}]{\setlength{\rightskip}{0pt plus 5cm}void dprintf ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a70fdc8802b54b4244889a2d3553405d5}



\begin{DoxyCode}
107 {}
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_a70fdc8802b54b4244889a2d3553405d5}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!dprintf@{dprintf}}
\index{dprintf@{dprintf}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{dprintf}]{\setlength{\rightskip}{0pt plus 5cm}void dprintf ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a70fdc8802b54b4244889a2d3553405d5}



\begin{DoxyCode}
107 {}
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_aceb93ba31a3756aca859b4643efeeb46}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!getstack@{getstack}}
\index{getstack@{getstack}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{getstack}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf std::vector}$<${\bf Addr}$>$\& getstack () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_aceb93ba31a3756aca859b4643efeeb46}



\begin{DoxyCode}
93 { return stack; }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_aceb93ba31a3756aca859b4643efeeb46}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!getstack@{getstack}}
\index{getstack@{getstack}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{getstack}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf std::vector}$<${\bf Addr}$>$\& getstack () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_aceb93ba31a3756aca859b4643efeeb46}



\begin{DoxyCode}
93 { return stack; }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_a8c9787d05f9c0e82dfcaf31cf0fd4b50}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!isEntry@{isEntry}}
\index{isEntry@{isEntry}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{isEntry}]{\setlength{\rightskip}{0pt plus 5cm}bool isEntry ({\bf Addr} {\em addr})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a8c9787d05f9c0e82dfcaf31cf0fd4b50}
\hypertarget{classMipsISA_1_1StackTrace_a8c9787d05f9c0e82dfcaf31cf0fd4b50}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!isEntry@{isEntry}}
\index{isEntry@{isEntry}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{isEntry}]{\setlength{\rightskip}{0pt plus 5cm}bool isEntry ({\bf Addr} {\em addr})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a8c9787d05f9c0e82dfcaf31cf0fd4b50}



\begin{DoxyCode}
123 {
124     return false;
125 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_aabb136846a5e22007e44db846652ddd5}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!trace@{trace}}
\index{trace@{trace}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{trace}]{\setlength{\rightskip}{0pt plus 5cm}bool trace ({\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf StaticInstPtr} {\em inst})}}
\label{classMipsISA_1_1StackTrace_aabb136846a5e22007e44db846652ddd5}
\hypertarget{classMipsISA_1_1StackTrace_a46d6b95a2e5fdb75702cf45e39566645}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!trace@{trace}}
\index{trace@{trace}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{trace}]{\setlength{\rightskip}{0pt plus 5cm}void trace ({\bf ThreadContext} $\ast$ {\em tc}, \/  bool {\em is\_\-call})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a46d6b95a2e5fdb75702cf45e39566645}
\hypertarget{classMipsISA_1_1StackTrace_aabb136846a5e22007e44db846652ddd5}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!trace@{trace}}
\index{trace@{trace}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{trace}]{\setlength{\rightskip}{0pt plus 5cm}bool trace ({\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf StaticInstPtr} {\em inst})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_aabb136846a5e22007e44db846652ddd5}



\begin{DoxyCode}
113 {
114     if (!inst->isCall() && !inst->isReturn())
115         return false;
116 
117     if (valid())
118         clear();
119 
120     trace(tc, !inst->isReturn());
121     return true;
122 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_a46d6b95a2e5fdb75702cf45e39566645}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!trace@{trace}}
\index{trace@{trace}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{trace}]{\setlength{\rightskip}{0pt plus 5cm}void trace ({\bf ThreadContext} $\ast$ {\em tc}, \/  bool {\em is\_\-call})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a46d6b95a2e5fdb75702cf45e39566645}



\begin{DoxyCode}
111 {
112     tc = _tc;
113     bool usermode = 0;
114 
115     if (usermode) {
116         stack.push_back(user);
117         return;
118     }
119 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_a8d985300b138b6c5556ab17ed4df3b38}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!valid@{valid}}
\index{valid@{valid}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{valid}]{\setlength{\rightskip}{0pt plus 5cm}bool valid () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a8d985300b138b6c5556ab17ed4df3b38}



\begin{DoxyCode}
89 { return tc != NULL; }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1StackTrace_a8d985300b138b6c5556ab17ed4df3b38}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!valid@{valid}}
\index{valid@{valid}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{valid}]{\setlength{\rightskip}{0pt plus 5cm}bool valid () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a8d985300b138b6c5556ab17ed4df3b38}



\begin{DoxyCode}
89 { return tc != NULL; }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classMipsISA_1_1StackTrace_a95d22661a526c61cfe333c6dfc982baf}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!console@{console}}
\index{console@{console}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{console}]{\setlength{\rightskip}{0pt plus 5cm}static const int {\bf console} = 2\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a95d22661a526c61cfe333c6dfc982baf}
\hypertarget{classMipsISA_1_1StackTrace_adcb91530de92b76721b370071350200d}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!stack@{stack}}
\index{stack@{stack}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{stack}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<$ {\bf Addr} $>$ {\bf stack}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_adcb91530de92b76721b370071350200d}
\hypertarget{classMipsISA_1_1StackTrace_a7d1b4bb6199b71a875f0eb5d9c19022b}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!tc@{tc}}
\index{tc@{tc}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{tc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ThreadContext} $\ast$ {\bf tc}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a7d1b4bb6199b71a875f0eb5d9c19022b}
\hypertarget{classMipsISA_1_1StackTrace_a2fe038592b561fa27aea83761959269e}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!unknown@{unknown}}
\index{unknown@{unknown}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{unknown}]{\setlength{\rightskip}{0pt plus 5cm}static const int {\bf unknown} = 3\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a2fe038592b561fa27aea83761959269e}
\hypertarget{classMipsISA_1_1StackTrace_a7e10e71a86019b3f50684465746ade86}{
\index{MipsISA::StackTrace@{MipsISA::StackTrace}!user@{user}}
\index{user@{user}!MipsISA::StackTrace@{MipsISA::StackTrace}}
\subsubsection[{user}]{\setlength{\rightskip}{0pt plus 5cm}static const int {\bf user} = 1\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classMipsISA_1_1StackTrace_a7e10e71a86019b3f50684465746ade86}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
arch/mips/\hyperlink{mips_2stacktrace_8hh}{stacktrace.hh}\item 
arch/miqs/\hyperlink{miqs_2stacktrace_8hh}{stacktrace.hh}\item 
arch/mips/\hyperlink{mips_2stacktrace_8cc}{stacktrace.cc}\item 
arch/miqs/\hyperlink{miqs_2stacktrace_8cc}{stacktrace.cc}\end{DoxyCompactItemize}
