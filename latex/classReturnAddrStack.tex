\hypertarget{classReturnAddrStack}{
\section{クラス ReturnAddrStack}
\label{classReturnAddrStack}\index{ReturnAddrStack@{ReturnAddrStack}}
}


{\ttfamily \#include $<$ras.hh$>$}\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classReturnAddrStack_ad7c4f42a62f7c96cbbbbca39d1d3ec37}{ReturnAddrStack} ()
\item 
void \hyperlink{classReturnAddrStack_a3de058721f5a8bb18c22178bac0af88d}{init} (unsigned \hyperlink{classReturnAddrStack_a325de474a9f6652329339d9fc2ea09c0}{numEntries})
\item 
void \hyperlink{classReturnAddrStack_ad20897c5c8bd47f5d4005989bead0e55}{reset} ()
\item 
TheISA::PCState \hyperlink{classReturnAddrStack_a4ec0e8cb31b1b16c826462529549c4bf}{top} ()
\item 
unsigned \hyperlink{classReturnAddrStack_a7e8bedc8c9dd0c3b75ca2a453fe971a1}{topIdx} ()
\item 
void \hyperlink{classReturnAddrStack_a17169cc45efa4884c3af6dc4fbf95bf5}{push} (const TheISA::PCState \&return\_\-addr)
\item 
void \hyperlink{classReturnAddrStack_a312e7f6c761a199c1369fbe651e084f0}{pop} ()
\item 
void \hyperlink{classReturnAddrStack_ac208ad882bfb6aa015072a38b7816fdd}{restore} (unsigned top\_\-entry\_\-idx, const TheISA::PCState \&restored)
\item 
bool \hyperlink{classReturnAddrStack_a3f37b042a1e7cd4bd38fc564de81f0da}{empty} ()
\item 
bool \hyperlink{classReturnAddrStack_a825cad95d5a85dba2844e74f50c174a3}{full} ()
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classReturnAddrStack_a5ad6ef5933499ac13bf56455603ed00d}{incrTos} ()
\item 
void \hyperlink{classReturnAddrStack_abb9c413b66abc6c139c1a255363cc50b}{decrTos} ()
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ TheISA::PCState $>$ \hyperlink{classReturnAddrStack_aabdf6adb15efe8a98ff6da83b4ecb30f}{addrStack}
\item 
unsigned \hyperlink{classReturnAddrStack_a325de474a9f6652329339d9fc2ea09c0}{numEntries}
\item 
unsigned \hyperlink{classReturnAddrStack_a7b4de94c51ba4a9701f0914367e0a2db}{usedEntries}
\item 
unsigned \hyperlink{classReturnAddrStack_a07d6de7b69e2f068ca2e29a4bda4749a}{tos}
\end{DoxyCompactItemize}


\subsection{説明}
Return address stack class, implements a simple RAS. 

\subsection{コンストラクタとデストラクタ}
\hypertarget{classReturnAddrStack_ad7c4f42a62f7c96cbbbbca39d1d3ec37}{
\index{ReturnAddrStack@{ReturnAddrStack}!ReturnAddrStack@{ReturnAddrStack}}
\index{ReturnAddrStack@{ReturnAddrStack}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{ReturnAddrStack}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ReturnAddrStack} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classReturnAddrStack_ad7c4f42a62f7c96cbbbbca39d1d3ec37}
Creates a return address stack, but \hyperlink{classReturnAddrStack_a3de058721f5a8bb18c22178bac0af88d}{init()} must be called prior to use. 


\begin{DoxyCode}
47 {}
\end{DoxyCode}


\subsection{関数}
\hypertarget{classReturnAddrStack_abb9c413b66abc6c139c1a255363cc50b}{
\index{ReturnAddrStack@{ReturnAddrStack}!decrTos@{decrTos}}
\index{decrTos@{decrTos}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{decrTos}]{\setlength{\rightskip}{0pt plus 5cm}void decrTos ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classReturnAddrStack_abb9c413b66abc6c139c1a255363cc50b}
Decrements the top of stack index. 


\begin{DoxyCode}
87     { tos = (tos == 0 ? numEntries - 1 : tos - 1); }
\end{DoxyCode}
\hypertarget{classReturnAddrStack_a3f37b042a1e7cd4bd38fc564de81f0da}{
\index{ReturnAddrStack@{ReturnAddrStack}!empty@{empty}}
\index{empty@{empty}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{empty}]{\setlength{\rightskip}{0pt plus 5cm}bool empty ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classReturnAddrStack_a3f37b042a1e7cd4bd38fc564de81f0da}



\begin{DoxyCode}
77 { return usedEntries == 0; }
\end{DoxyCode}
\hypertarget{classReturnAddrStack_a825cad95d5a85dba2844e74f50c174a3}{
\index{ReturnAddrStack@{ReturnAddrStack}!full@{full}}
\index{full@{full}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{full}]{\setlength{\rightskip}{0pt plus 5cm}bool full ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classReturnAddrStack_a825cad95d5a85dba2844e74f50c174a3}



\begin{DoxyCode}
79 { return usedEntries == numEntries; }
\end{DoxyCode}
\hypertarget{classReturnAddrStack_a5ad6ef5933499ac13bf56455603ed00d}{
\index{ReturnAddrStack@{ReturnAddrStack}!incrTos@{incrTos}}
\index{incrTos@{incrTos}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{incrTos}]{\setlength{\rightskip}{0pt plus 5cm}void incrTos ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classReturnAddrStack_a5ad6ef5933499ac13bf56455603ed00d}
Increments the top of stack index. 


\begin{DoxyCode}
83     { if (++tos == numEntries) tos = 0; }
\end{DoxyCode}
\hypertarget{classReturnAddrStack_a3de058721f5a8bb18c22178bac0af88d}{
\index{ReturnAddrStack@{ReturnAddrStack}!init@{init}}
\index{init@{init}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void init (unsigned {\em numEntries})}}
\label{classReturnAddrStack_a3de058721f5a8bb18c22178bac0af88d}
Initializes RAS with a specified number of entries. 
\begin{DoxyParams}{引数}
\item[{\em numEntries}]Number of entries in the RAS. \end{DoxyParams}



\begin{DoxyCode}
35 {
36      numEntries  = _numEntries;
37      addrStack.resize(numEntries);
38      reset();
39 }
\end{DoxyCode}
\hypertarget{classReturnAddrStack_a312e7f6c761a199c1369fbe651e084f0}{
\index{ReturnAddrStack@{ReturnAddrStack}!pop@{pop}}
\index{pop@{pop}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{pop}]{\setlength{\rightskip}{0pt plus 5cm}void pop ()}}
\label{classReturnAddrStack_a312e7f6c761a199c1369fbe651e084f0}
Pops the top address from the RAS. 


\begin{DoxyCode}
64 {
65     if (usedEntries > 0) {
66         --usedEntries;
67     }
68 
69     decrTos();
70 }
\end{DoxyCode}
\hypertarget{classReturnAddrStack_a17169cc45efa4884c3af6dc4fbf95bf5}{
\index{ReturnAddrStack@{ReturnAddrStack}!push@{push}}
\index{push@{push}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{push}]{\setlength{\rightskip}{0pt plus 5cm}void push (const TheISA::PCState \& {\em return\_\-addr})}}
\label{classReturnAddrStack_a17169cc45efa4884c3af6dc4fbf95bf5}
Pushes an address onto the RAS. 


\begin{DoxyCode}
52 {
53     incrTos();
54 
55     addrStack[tos] = return_addr;
56 
57     if (usedEntries != numEntries) {
58         ++usedEntries;
59     }
60 }
\end{DoxyCode}
\hypertarget{classReturnAddrStack_ad20897c5c8bd47f5d4005989bead0e55}{
\index{ReturnAddrStack@{ReturnAddrStack}!reset@{reset}}
\index{reset@{reset}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{reset}]{\setlength{\rightskip}{0pt plus 5cm}void reset ()}}
\label{classReturnAddrStack_ad20897c5c8bd47f5d4005989bead0e55}



\begin{DoxyCode}
43 {
44     usedEntries = 0;
45     tos = 0;
46     for (unsigned i = 0; i < numEntries; ++i)
47         addrStack[i].set(0);
48 }
\end{DoxyCode}
\hypertarget{classReturnAddrStack_ac208ad882bfb6aa015072a38b7816fdd}{
\index{ReturnAddrStack@{ReturnAddrStack}!restore@{restore}}
\index{restore@{restore}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{restore}]{\setlength{\rightskip}{0pt plus 5cm}void restore (unsigned {\em top\_\-entry\_\-idx}, \/  const TheISA::PCState \& {\em restored})}}
\label{classReturnAddrStack_ac208ad882bfb6aa015072a38b7816fdd}
Changes index to the top of the RAS, and replaces the top address with a new target. 
\begin{DoxyParams}{引数}
\item[{\em top\_\-entry\_\-idx}]The index of the RAS that will now be the top. \item[{\em restored}]The new target address of the new top of the RAS. \end{DoxyParams}



\begin{DoxyCode}
75 {
76     tos = top_entry_idx;
77 
78     addrStack[tos] = restored;
79 }
\end{DoxyCode}
\hypertarget{classReturnAddrStack_a4ec0e8cb31b1b16c826462529549c4bf}{
\index{ReturnAddrStack@{ReturnAddrStack}!top@{top}}
\index{top@{top}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{top}]{\setlength{\rightskip}{0pt plus 5cm}TheISA::PCState top ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classReturnAddrStack_a4ec0e8cb31b1b16c826462529549c4bf}
Returns the top address on the RAS. 


\begin{DoxyCode}
58     { return addrStack[tos]; }
\end{DoxyCode}
\hypertarget{classReturnAddrStack_a7e8bedc8c9dd0c3b75ca2a453fe971a1}{
\index{ReturnAddrStack@{ReturnAddrStack}!topIdx@{topIdx}}
\index{topIdx@{topIdx}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{topIdx}]{\setlength{\rightskip}{0pt plus 5cm}unsigned topIdx ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classReturnAddrStack_a7e8bedc8c9dd0c3b75ca2a453fe971a1}
Returns the index of the top of the RAS. 


\begin{DoxyCode}
62     { return tos; }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classReturnAddrStack_aabdf6adb15efe8a98ff6da83b4ecb30f}{
\index{ReturnAddrStack@{ReturnAddrStack}!addrStack@{addrStack}}
\index{addrStack@{addrStack}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{addrStack}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<$TheISA::PCState$>$ {\bf addrStack}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classReturnAddrStack_aabdf6adb15efe8a98ff6da83b4ecb30f}
The RAS itself. \hypertarget{classReturnAddrStack_a325de474a9f6652329339d9fc2ea09c0}{
\index{ReturnAddrStack@{ReturnAddrStack}!numEntries@{numEntries}}
\index{numEntries@{numEntries}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{numEntries}]{\setlength{\rightskip}{0pt plus 5cm}unsigned {\bf numEntries}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classReturnAddrStack_a325de474a9f6652329339d9fc2ea09c0}
The number of entries in the RAS. \hypertarget{classReturnAddrStack_a07d6de7b69e2f068ca2e29a4bda4749a}{
\index{ReturnAddrStack@{ReturnAddrStack}!tos@{tos}}
\index{tos@{tos}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{tos}]{\setlength{\rightskip}{0pt plus 5cm}unsigned {\bf tos}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classReturnAddrStack_a07d6de7b69e2f068ca2e29a4bda4749a}
The top of stack index. \hypertarget{classReturnAddrStack_a7b4de94c51ba4a9701f0914367e0a2db}{
\index{ReturnAddrStack@{ReturnAddrStack}!usedEntries@{usedEntries}}
\index{usedEntries@{usedEntries}!ReturnAddrStack@{ReturnAddrStack}}
\subsubsection[{usedEntries}]{\setlength{\rightskip}{0pt plus 5cm}unsigned {\bf usedEntries}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classReturnAddrStack_a7b4de94c51ba4a9701f0914367e0a2db}
The number of used entries in the RAS. 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
cpu/pred/\hyperlink{ras_8hh}{ras.hh}\item 
cpu/pred/\hyperlink{ras_8cc}{ras.cc}\end{DoxyCompactItemize}
