<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス BasePrefetcher</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス BasePrefetcher</h1><!-- doxytag: class="BasePrefetcher" --><!-- doxytag: inherits="ClockedObject" -->
<p><code>#include &lt;<a class="el" href="mem_2cache_2prefetch_2base_8hh_source.html">base.hh</a>&gt;</code></p>
<div class="dynheader">
BasePrefetcherに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classBasePrefetcher.gif" usemap="#BasePrefetcher_map" alt=""/>
  <map id="BasePrefetcher_map" name="BasePrefetcher_map">
<area href="classClockedObject.html" alt="ClockedObject" shape="rect" coords="124,112,238,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="124,56,238,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,114,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="124,0,238,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="248,0,362,24"/>
<area href="classGHBPrefetcher.html" alt="GHBPrefetcher" shape="rect" coords="0,224,114,248"/>
<area href="classStridePrefetcher.html" alt="StridePrefetcher" shape="rect" coords="124,224,238,248"/>
<area href="classTaggedPrefetcher.html" alt="TaggedPrefetcher" shape="rect" coords="248,224,362,248"/>
</map>
 </div>
</div>

<p><a href="classBasePrefetcher-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher_1_1DeferredPacket.html">DeferredPacket</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef BasePrefetcherParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a46661f02a5642b04fd4e12f645ad9c5c">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#aff313fac14ed758d8896572ecb0b6bfe">BasePrefetcher</a> (const <a class="el" href="classBasePrefetcher.html#a46661f02a5642b04fd4e12f645ad9c5c">Params</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a36880a63235082d98e72895db229946f">~BasePrefetcher</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a6a5d34a51c5ba1c4f87dbcc59e8b13fb">setCache</a> (<a class="el" href="classBaseCache.html">BaseCache</a> *_cache)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a1d4199bee2a7f9e8f22bf9e84d5ceda4">notify</a> (<a class="el" href="classPacket.html">PacketPtr</a> &amp;pkt, <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a1c1743bff8e77d48e43b38e1b8bcb7e6">inCache</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> addr, bool is_secure)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a7101ac3ce053ea800e49a4ff44c84ca0">inMissQueue</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> addr, bool is_secure)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a248e1528ea5a374640182955f4793d3f">getPacket</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a1ea6e3ce1b4860ce7b2da36b169e6ff5">havePending</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a7b66a659d072bb2b2e105351949f7b2e">nextPrefetchReadyTime</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a3db7131bcae7e87e8146195a6e8be817">calculatePrefetch</a> (<a class="el" href="classPacket.html">PacketPtr</a> &amp;pkt, <a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &gt; &amp;addresses, <a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classCycles.html">Cycles</a> &gt; &amp;delays)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classBasePrefetcher_1_1DeferredPacket.html">DeferredPacket</a> &gt;<br class="typebreak"/>
::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a50ff64f84defcdcd4e1ecc3f7df52af1">inPrefetch</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> address, bool is_secure)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a0092f15516ff429fb7437fd21747fbf5">samePage</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> a, <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> b)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classBasePrefetcher.html#a46661f02a5642b04fd4e12f645ad9c5c">Params</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a> () const </td></tr>
<tr><td colspan="2"><h2>Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#aa83003235229fe6e7aae462188f4d63d">pfIdentified</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a16b12f81a92a01a460e62a7785e0726d">pfMSHRHit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a61e01d10fc3d03b88341a0663ede2177">pfCacheHit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a2df98c96edba641dbec623185d5c801b">pfBufferHit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a33b63796ece1306bb25b4abcbb8e888e">pfRemovedFull</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#ac2aa69cf510d48d234493085b96d810b">pfRemovedMSHR</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a616b66672824772fbc0ac255630074a8">pfIssued</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a2e71998cfd3608b558c489b33280d0e6">pfSpanPage</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#ae39544ad55ce96aa1560f3f3fc8f5906">pfSquashed</a></td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classBasePrefetcher_1_1DeferredPacket.html">DeferredPacket</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#ad3f1cf0299fe68eb9a68a7c67232c62d">size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseCache.html">BaseCache</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a5cc08dee7231c774489c04728dd5f169">cache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a848be51480be2b992d8a262952268fbc">blkSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCycles.html">Cycles</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a46b9d67ee437c6ecdbedca8ec8d2ed40">latency</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#aa05c9c27f3c02725fb1574fb5218aeba">degree</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#ab84f738213bbd5196080f894c0d5aaf2">useMasterId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a8e2ec9b566b10d5b73a5d9fe6a90b058">pageStop</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a198469b16ef2d026a2ffa298eb77e616">serialSquash</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a8762c4c2c983c8eadd6c7bccfe973f5f">onlyData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#ade1681d5d6ad302db05a204fd920a110">onMissOnly</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a009f56092b97c79cde580c4ae5e12599">onReadOnly</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a632f5ff02feaeadf06e58c82f3fb43c3">onPrefetch</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSystem.html">System</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#af27ccd765f13a4b7bd119dc7579e2746">system</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePrefetcher.html#a96ec6a422ac492d05f8b3edc5b58532b">masterId</a></td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="a46661f02a5642b04fd4e12f645ad9c5c"></a><!-- doxytag: member="BasePrefetcher::Params" ref="a46661f02a5642b04fd4e12f645ad9c5c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef BasePrefetcherParams <a class="el" href="classBasePrefetcher.html#a46661f02a5642b04fd4e12f645ad9c5c">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSimObject.html#a0f0761d2db586a23bb2a2880b8f387bb">SimObject</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="aff313fac14ed758d8896572ecb0b6bfe"></a><!-- doxytag: member="BasePrefetcher::BasePrefetcher" ref="aff313fac14ed758d8896572ecb0b6bfe" args="(const Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBasePrefetcher.html">BasePrefetcher</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBasePrefetcher.html#a46661f02a5642b04fd4e12f645ad9c5c">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00060"></a>00060     : <a class="code" href="classClockedObject.html#a92f78d5c8554a264a3b22b90b452de45">ClockedObject</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>), <a class="code" href="classBasePrefetcher.html#ad3f1cf0299fe68eb9a68a7c67232c62d">size</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;size), <a class="code" href="classBasePrefetcher.html#a46b9d67ee437c6ecdbedca8ec8d2ed40">latency</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;latency), <a class="code" href="classBasePrefetcher.html#aa05c9c27f3c02725fb1574fb5218aeba">degree</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;degree),
<a name="l00061"></a>00061       <a class="code" href="classBasePrefetcher.html#ab84f738213bbd5196080f894c0d5aaf2">useMasterId</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;use_master_id), <a class="code" href="classBasePrefetcher.html#a8e2ec9b566b10d5b73a5d9fe6a90b058">pageStop</a>(!<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;cross_pages),
<a name="l00062"></a>00062       <a class="code" href="classBasePrefetcher.html#a198469b16ef2d026a2ffa298eb77e616">serialSquash</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;serial_squash), <a class="code" href="classBasePrefetcher.html#a8762c4c2c983c8eadd6c7bccfe973f5f">onlyData</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;data_accesses_only),
<a name="l00063"></a>00063       <a class="code" href="classBasePrefetcher.html#ade1681d5d6ad302db05a204fd920a110">onMissOnly</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;on_miss_only), <a class="code" href="classBasePrefetcher.html#a009f56092b97c79cde580c4ae5e12599">onReadOnly</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;on_read_only),
<a name="l00064"></a>00064       <a class="code" href="classBasePrefetcher.html#a632f5ff02feaeadf06e58c82f3fb43c3">onPrefetch</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;on_prefetch), <a class="code" href="classBasePrefetcher.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;sys),
<a name="l00065"></a>00065       <a class="code" href="classBasePrefetcher.html#a96ec6a422ac492d05f8b3edc5b58532b">masterId</a>(<a class="code" href="classBasePrefetcher.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#a906e073613d8d8e76e11c1bf9310a25c">getMasterId</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>()))
<a name="l00066"></a>00066 {
<a name="l00067"></a>00067 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a36880a63235082d98e72895db229946f"></a><!-- doxytag: member="BasePrefetcher::~BasePrefetcher" ref="a36880a63235082d98e72895db229946f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classBasePrefetcher.html">BasePrefetcher</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00139"></a>00139 {}
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a3db7131bcae7e87e8146195a6e8be817"></a><!-- doxytag: member="BasePrefetcher::calculatePrefetch" ref="a3db7131bcae7e87e8146195a6e8be817" args="(PacketPtr &amp;pkt, std::list&lt; Addr &gt; &amp;addresses, std::list&lt; Cycles &gt; &amp;delays)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void calculatePrefetch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>addresses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classCycles.html">Cycles</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>delays</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classGHBPrefetcher.html#a1cc3d838a8314074cfda794f18eb6de9">GHBPrefetcher</a>, <a class="el" href="classStridePrefetcher.html#a1cc3d838a8314074cfda794f18eb6de9">StridePrefetcher</a>, と <a class="el" href="classTaggedPrefetcher.html#a1cc3d838a8314074cfda794f18eb6de9">TaggedPrefetcher</a>で実装されています。</p>

</div>
</div>
<a class="anchor" id="a248e1528ea5a374640182955f4793d3f"></a><!-- doxytag: member="BasePrefetcher::getPacket" ref="a248e1528ea5a374640182955f4793d3f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPacket.html">PacketPtr</a> getPacket </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00148"></a>00148 {
<a name="l00149"></a>00149     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(HWPrefetch, <span class="stringliteral">&quot;Requesting a hw_pf to issue\n&quot;</span>);
<a name="l00150"></a>00150 
<a name="l00151"></a>00151     <span class="keywordflow">if</span> (<a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.empty()) {
<a name="l00152"></a>00152         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(HWPrefetch, <span class="stringliteral">&quot;No HW_PF found\n&quot;</span>);
<a name="l00153"></a>00153         <span class="keywordflow">return</span> <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00154"></a>00154     }
<a name="l00155"></a>00155 
<a name="l00156"></a>00156     <a class="code" href="classPacket.html">PacketPtr</a> pkt = <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.begin()-&gt;pkt;
<a name="l00157"></a>00157     <span class="keywordflow">while</span> (!<a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.empty()) {
<a name="l00158"></a>00158         pkt = <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.begin()-&gt;pkt;
<a name="l00159"></a>00159         <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.pop_front();
<a name="l00160"></a>00160 
<a name="l00161"></a>00161         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> blk_addr = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() &amp; ~(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>)(<a class="code" href="classBasePrefetcher.html#a848be51480be2b992d8a262952268fbc">blkSize</a>-1);
<a name="l00162"></a>00162         <span class="keywordtype">bool</span> is_secure = pkt-&gt;<a class="code" href="classPacket.html#a3110ebf17828782ae5aeced7396cfff2">isSecure</a>();
<a name="l00163"></a>00163 
<a name="l00164"></a>00164         <span class="keywordflow">if</span> (!<a class="code" href="classBasePrefetcher.html#a1c1743bff8e77d48e43b38e1b8bcb7e6">inCache</a>(blk_addr, is_secure) &amp;&amp; !<a class="code" href="classBasePrefetcher.html#a7101ac3ce053ea800e49a4ff44c84ca0">inMissQueue</a>(blk_addr, is_secure))
<a name="l00165"></a>00165             <span class="comment">// we found a prefetch, return it</span>
<a name="l00166"></a>00166             <span class="keywordflow">break</span>;
<a name="l00167"></a>00167 
<a name="l00168"></a>00168         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(HWPrefetch, <span class="stringliteral">&quot;addr 0x%x (%s) in cache, skipping\n&quot;</span>,
<a name="l00169"></a>00169                 pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>(), is_secure ? <span class="stringliteral">&quot;s&quot;</span> : <span class="stringliteral">&quot;ns&quot;</span>);
<a name="l00170"></a>00170         <span class="keyword">delete</span> pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>;
<a name="l00171"></a>00171         <span class="keyword">delete</span> pkt;
<a name="l00172"></a>00172 
<a name="l00173"></a>00173         <span class="keywordflow">if</span> (<a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.empty()) {
<a name="l00174"></a>00174             <a class="code" href="classBasePrefetcher.html#a5cc08dee7231c774489c04728dd5f169">cache</a>-&gt;<a class="code" href="classBaseCache.html#a7eb041ca3a51fe243525b95dea36f813">deassertMemSideBusRequest</a>(<a class="code" href="classBaseCache.html#a8ca466a3028d5dd05a9f31798a0115b8ad591c96d60dbceaf75076c496d695d14">BaseCache::Request_PF</a>);
<a name="l00175"></a>00175             <span class="keywordflow">return</span> <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>; <span class="comment">// None left, all were in cache</span>
<a name="l00176"></a>00176         }
<a name="l00177"></a>00177     }
<a name="l00178"></a>00178 
<a name="l00179"></a>00179     <a class="code" href="classBasePrefetcher.html#a616b66672824772fbc0ac255630074a8">pfIssued</a>++;
<a name="l00180"></a>00180     assert(pkt != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00181"></a>00181     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(HWPrefetch, <span class="stringliteral">&quot;returning 0x%x (%s)\n&quot;</span>, pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>(),
<a name="l00182"></a>00182             pkt-&gt;<a class="code" href="classPacket.html#a3110ebf17828782ae5aeced7396cfff2">isSecure</a>() ? <span class="stringliteral">&quot;s&quot;</span> : <span class="stringliteral">&quot;ns&quot;</span>);
<a name="l00183"></a>00183     <span class="keywordflow">return</span> pkt;
<a name="l00184"></a>00184 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1ea6e3ce1b4860ce7b2da36b169e6ff5"></a><!-- doxytag: member="BasePrefetcher::havePending" ref="a1ea6e3ce1b4860ce7b2da36b169e6ff5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool havePending </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00157"></a>00157     {
<a name="l00158"></a>00158         <span class="keywordflow">return</span> !<a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.empty();
<a name="l00159"></a>00159     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1c1743bff8e77d48e43b38e1b8bcb7e6"></a><!-- doxytag: member="BasePrefetcher::inCache" ref="a1c1743bff8e77d48e43b38e1b8bcb7e6" args="(Addr addr, bool is_secure)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_secure</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00128"></a>00128 {
<a name="l00129"></a>00129     <span class="keywordflow">if</span> (<a class="code" href="classBasePrefetcher.html#a5cc08dee7231c774489c04728dd5f169">cache</a>-&gt;<a class="code" href="classBaseCache.html#a2ac85ef6d4c6f16111c1da31c2363aa7">inCache</a>(<a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a>, is_secure)) {
<a name="l00130"></a>00130         <a class="code" href="classBasePrefetcher.html#a61e01d10fc3d03b88341a0663ede2177">pfCacheHit</a>++;
<a name="l00131"></a>00131         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00132"></a>00132     }
<a name="l00133"></a>00133     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00134"></a>00134 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7101ac3ce053ea800e49a4ff44c84ca0"></a><!-- doxytag: member="BasePrefetcher::inMissQueue" ref="a7101ac3ce053ea800e49a4ff44c84ca0" args="(Addr addr, bool is_secure)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inMissQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_secure</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00138"></a>00138 {
<a name="l00139"></a>00139     <span class="keywordflow">if</span> (<a class="code" href="classBasePrefetcher.html#a5cc08dee7231c774489c04728dd5f169">cache</a>-&gt;<a class="code" href="classBaseCache.html#abb47bf01a0bb0aa1c4e3d60fc2ca8175">inMissQueue</a>(<a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a>, is_secure)) {
<a name="l00140"></a>00140         <a class="code" href="classBasePrefetcher.html#a16b12f81a92a01a460e62a7785e0726d">pfMSHRHit</a>++;
<a name="l00141"></a>00141         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00142"></a>00142     }
<a name="l00143"></a>00143     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00144"></a>00144 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a50ff64f84defcdcd4e1ecc3f7df52af1"></a><!-- doxytag: member="BasePrefetcher::inPrefetch" ref="a50ff64f84defcdcd4e1ecc3f7df52af1" args="(Addr address, bool is_secure)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classBasePrefetcher_1_1DeferredPacket.html">BasePrefetcher::DeferredPacket</a> &gt;::iterator inPrefetch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_secure</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00300"></a>00300 {
<a name="l00301"></a>00301     <span class="comment">// Guaranteed to only be one match, we always check before inserting</span>
<a name="l00302"></a>00302     <a class="code" href="classstd_1_1list.html">std::list&lt;DeferredPacket&gt;::iterator</a> iter;
<a name="l00303"></a>00303     <span class="keywordflow">for</span> (iter = <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.begin(); iter != <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.end(); iter++) {
<a name="l00304"></a>00304         <span class="keywordflow">if</span> (((*iter).pkt-&gt;getAddr() &amp; ~(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>)(<a class="code" href="classBasePrefetcher.html#a848be51480be2b992d8a262952268fbc">blkSize</a>-1)) == address &amp;&amp;
<a name="l00305"></a>00305             (*iter).pkt-&gt;isSecure() == is_secure) {
<a name="l00306"></a>00306             <span class="keywordflow">return</span> iter;
<a name="l00307"></a>00307         }
<a name="l00308"></a>00308     }
<a name="l00309"></a>00309     <span class="keywordflow">return</span> <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.end();
<a name="l00310"></a>00310 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7b66a659d072bb2b2e105351949f7b2e"></a><!-- doxytag: member="BasePrefetcher::nextPrefetchReadyTime" ref="a7b66a659d072bb2b2e105351949f7b2e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> nextPrefetchReadyTime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00162"></a>00162     {
<a name="l00163"></a>00163         <span class="keywordflow">return</span> <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.empty() ? <a class="code" href="base_2types_8hh.html#abe940b1b328825e234da719447e15ca5">MaxTick</a> : <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.front().tick;
<a name="l00164"></a>00164     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1d4199bee2a7f9e8f22bf9e84d5ceda4"></a><!-- doxytag: member="BasePrefetcher::notify" ref="a1d4199bee2a7f9e8f22bf9e84d5ceda4" args="(PacketPtr &amp;pkt, Tick tick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> notify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>tick</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify prefetcher of cache access (may be any access or just misses, depending on cache parameters.) </p>
<dl><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classTime.html">Time</a></em>&nbsp;</td><td>of next prefetch availability, or 0 if none. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00189"></a>00189 {
<a name="l00190"></a>00190     <span class="comment">// Don&apos;t consult the prefetcher if any of the following conditons are true</span>
<a name="l00191"></a>00191     <span class="comment">// 1) The request is uncacheable</span>
<a name="l00192"></a>00192     <span class="comment">// 2) The request is a fetch, but we are only prefeching data</span>
<a name="l00193"></a>00193     <span class="comment">// 3) The request is a cache hit, but we are only training on misses</span>
<a name="l00194"></a>00194     <span class="comment">// 4) THe request is a write, but we are only training on reads</span>
<a name="l00195"></a>00195     <span class="keywordflow">if</span> (!pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a70c74b2809417ea8701dd6ba9e34312d">isUncacheable</a>() &amp;&amp; !(pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#ae742b8e8aaa2e18506dc64c7b7f3fc0a">isInstFetch</a>() &amp;&amp; <a class="code" href="classBasePrefetcher.html#a8762c4c2c983c8eadd6c7bccfe973f5f">onlyData</a>) &amp;&amp;
<a name="l00196"></a>00196         !(<a class="code" href="classBasePrefetcher.html#ade1681d5d6ad302db05a204fd920a110">onMissOnly</a> &amp;&amp; <a class="code" href="classBasePrefetcher.html#a1c1743bff8e77d48e43b38e1b8bcb7e6">inCache</a>(pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>(), <span class="keyword">true</span>)) &amp;&amp;
<a name="l00197"></a>00197         !(<a class="code" href="classBasePrefetcher.html#a009f56092b97c79cde580c4ae5e12599">onReadOnly</a> &amp;&amp; !pkt-&gt;<a class="code" href="classPacket.html#adc47901747fc3c447db3abddaf01491a">isRead</a>())) {
<a name="l00198"></a>00198         <span class="comment">// Calculate the blk address</span>
<a name="l00199"></a>00199         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> blk_addr = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() &amp; ~(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>)(<a class="code" href="classBasePrefetcher.html#a848be51480be2b992d8a262952268fbc">blkSize</a>-1);
<a name="l00200"></a>00200         <span class="keywordtype">bool</span> is_secure = pkt-&gt;<a class="code" href="classPacket.html#a3110ebf17828782ae5aeced7396cfff2">isSecure</a>();
<a name="l00201"></a>00201 
<a name="l00202"></a>00202         <span class="comment">// Check if miss is in pfq, if so remove it</span>
<a name="l00203"></a>00203         <a class="code" href="classstd_1_1list.html">std::list&lt;DeferredPacket&gt;::iterator</a> iter = <a class="code" href="classBasePrefetcher.html#a50ff64f84defcdcd4e1ecc3f7df52af1">inPrefetch</a>(blk_addr,
<a name="l00204"></a>00204                                                               is_secure);
<a name="l00205"></a>00205         <span class="keywordflow">if</span> (iter != <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.end()) {
<a name="l00206"></a>00206             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(HWPrefetch, <span class="stringliteral">&quot;Saw a miss to a queued prefetch addr: &quot;</span>
<a name="l00207"></a>00207                     <span class="stringliteral">&quot;0x%x (%s), removing it\n&quot;</span>, blk_addr,
<a name="l00208"></a>00208                     is_secure ? <span class="stringliteral">&quot;s&quot;</span> : <span class="stringliteral">&quot;ns&quot;</span>);
<a name="l00209"></a>00209             <a class="code" href="classBasePrefetcher.html#ac2aa69cf510d48d234493085b96d810b">pfRemovedMSHR</a>++;
<a name="l00210"></a>00210             <span class="keyword">delete</span> iter-&gt;pkt-&gt;req;
<a name="l00211"></a>00211             <span class="keyword">delete</span> iter-&gt;pkt;
<a name="l00212"></a>00212             iter = <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.erase(iter);
<a name="l00213"></a>00213             <span class="keywordflow">if</span> (<a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.empty())
<a name="l00214"></a>00214                 <a class="code" href="classBasePrefetcher.html#a5cc08dee7231c774489c04728dd5f169">cache</a>-&gt;<a class="code" href="classBaseCache.html#a7eb041ca3a51fe243525b95dea36f813">deassertMemSideBusRequest</a>(<a class="code" href="classBaseCache.html#a8ca466a3028d5dd05a9f31798a0115b8ad591c96d60dbceaf75076c496d695d14">BaseCache::Request_PF</a>);
<a name="l00215"></a>00215         }
<a name="l00216"></a>00216 
<a name="l00217"></a>00217         <span class="comment">// Remove anything in queue with delay older than time</span>
<a name="l00218"></a>00218         <span class="comment">// since everything is inserted in time order, start from end</span>
<a name="l00219"></a>00219         <span class="comment">// and work until pf.empty() or time is earlier</span>
<a name="l00220"></a>00220         <span class="comment">// This is done to emulate Aborting the previous work on a new miss</span>
<a name="l00221"></a>00221         <span class="comment">// Needed for serial calculators like GHB</span>
<a name="l00222"></a>00222         <span class="keywordflow">if</span> (<a class="code" href="classBasePrefetcher.html#a198469b16ef2d026a2ffa298eb77e616">serialSquash</a>) {
<a name="l00223"></a>00223             iter = <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.end();
<a name="l00224"></a>00224             <span class="keywordflow">if</span> (iter != <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.begin())
<a name="l00225"></a>00225                 iter--;
<a name="l00226"></a>00226             <span class="keywordflow">while</span> (!<a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.empty() &amp;&amp; iter-&gt;tick &gt;= <a class="code" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a>) {
<a name="l00227"></a>00227                 <a class="code" href="classBasePrefetcher.html#ae39544ad55ce96aa1560f3f3fc8f5906">pfSquashed</a>++;
<a name="l00228"></a>00228                 <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(HWPrefetch, <span class="stringliteral">&quot;Squashing old prefetch addr: 0x%x\n&quot;</span>,
<a name="l00229"></a>00229                         iter-&gt;pkt-&gt;getAddr());
<a name="l00230"></a>00230                 <span class="keyword">delete</span> iter-&gt;pkt-&gt;req;
<a name="l00231"></a>00231                 <span class="keyword">delete</span> iter-&gt;pkt;
<a name="l00232"></a>00232                 iter = <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.erase(iter);
<a name="l00233"></a>00233                 <span class="keywordflow">if</span> (iter != <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.begin())
<a name="l00234"></a>00234                     iter--;
<a name="l00235"></a>00235             }
<a name="l00236"></a>00236             <span class="keywordflow">if</span> (<a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.empty())
<a name="l00237"></a>00237                 <a class="code" href="classBasePrefetcher.html#a5cc08dee7231c774489c04728dd5f169">cache</a>-&gt;<a class="code" href="classBaseCache.html#a7eb041ca3a51fe243525b95dea36f813">deassertMemSideBusRequest</a>(<a class="code" href="classBaseCache.html#a8ca466a3028d5dd05a9f31798a0115b8ad591c96d60dbceaf75076c496d695d14">BaseCache::Request_PF</a>);
<a name="l00238"></a>00238         }
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 
<a name="l00241"></a>00241         <a class="code" href="classstd_1_1list.html">std::list&lt;Addr&gt;</a> addresses;
<a name="l00242"></a>00242         <a class="code" href="classstd_1_1list.html">std::list&lt;Cycles&gt;</a> delays;
<a name="l00243"></a>00243         <a class="code" href="classBasePrefetcher.html#a3db7131bcae7e87e8146195a6e8be817">calculatePrefetch</a>(pkt, addresses, delays);
<a name="l00244"></a>00244 
<a name="l00245"></a>00245         <a class="code" href="classstd_1_1list.html">std::list&lt;Addr&gt;::iterator</a> addrIter = addresses.begin();
<a name="l00246"></a>00246         <a class="code" href="classstd_1_1list.html">std::list&lt;Cycles&gt;::iterator</a> delayIter = delays.begin();
<a name="l00247"></a>00247         <span class="keywordflow">for</span> (; addrIter != addresses.end(); ++addrIter, ++delayIter) {
<a name="l00248"></a>00248             <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a> = *addrIter;
<a name="l00249"></a>00249 
<a name="l00250"></a>00250             <a class="code" href="classBasePrefetcher.html#aa83003235229fe6e7aae462188f4d63d">pfIdentified</a>++;
<a name="l00251"></a>00251 
<a name="l00252"></a>00252             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(HWPrefetch, <span class="stringliteral">&quot;Found a pf candidate addr: 0x%x, &quot;</span>
<a name="l00253"></a>00253                     <span class="stringliteral">&quot;inserting into prefetch queue with delay %d time %d\n&quot;</span>,
<a name="l00254"></a>00254                     addr, *delayIter, time);
<a name="l00255"></a>00255 
<a name="l00256"></a>00256             <span class="comment">// Check if it is already in the pf buffer</span>
<a name="l00257"></a>00257             <span class="keywordflow">if</span> (<a class="code" href="classBasePrefetcher.html#a50ff64f84defcdcd4e1ecc3f7df52af1">inPrefetch</a>(addr, is_secure) != <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.end()) {
<a name="l00258"></a>00258                 <a class="code" href="classBasePrefetcher.html#a2df98c96edba641dbec623185d5c801b">pfBufferHit</a>++;
<a name="l00259"></a>00259                 <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(HWPrefetch, <span class="stringliteral">&quot;Prefetch addr already in pf buffer\n&quot;</span>);
<a name="l00260"></a>00260                 <span class="keywordflow">continue</span>;
<a name="l00261"></a>00261             }
<a name="l00262"></a>00262 
<a name="l00263"></a>00263             <span class="comment">// create a prefetch memreq</span>
<a name="l00264"></a>00264             <a class="code" href="classRequest.html">Request</a> *prefetchReq = <span class="keyword">new</span> <a class="code" href="classRequest.html">Request</a>(*addrIter, <a class="code" href="classBasePrefetcher.html#a848be51480be2b992d8a262952268fbc">blkSize</a>, 0, <a class="code" href="classBasePrefetcher.html#a96ec6a422ac492d05f8b3edc5b58532b">masterId</a>);
<a name="l00265"></a>00265             <span class="keywordflow">if</span> (is_secure)
<a name="l00266"></a>00266                 prefetchReq-&gt;<a class="code" href="classRequest.html#a33971d22712c9c80177e4362dffd5580">setFlags</a>(<a class="code" href="classRequest.html#a096bc7521755b6680d9a1988a6c9b109">Request::SECURE</a>);
<a name="l00267"></a>00267             prefetchReq-&gt;<a class="code" href="classRequest.html#a7abf15d67b3fbd53236fde58eecb3f34">taskId</a>(<a class="code" href="namespaceContextSwitchTaskId.html#aa8dd388981e62e592eb420a58ab290b7a9f338c28f1a3b00da1f6f2cb2982dcd0">ContextSwitchTaskId::Prefetcher</a>);
<a name="l00268"></a>00268             <a class="code" href="classPacket.html">PacketPtr</a> prefetch =
<a name="l00269"></a>00269                 <span class="keyword">new</span> <a class="code" href="classPacket.html">Packet</a>(prefetchReq, <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153af939e2f740d217d26e90546059593b39">MemCmd::HardPFReq</a>);
<a name="l00270"></a>00270             prefetch-&gt;<a class="code" href="classPacket.html#acaefe811b78a2fdc4a0dba0c4029c3ef">allocate</a>();
<a name="l00271"></a>00271             prefetch-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a40574dadf22fb92b4966eb9815da7575">setThreadContext</a>(pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a651d5d14e7a4e95ebe6d7f5b8ee5a107">contextId</a>(),
<a name="l00272"></a>00272                                             pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#afc38d04c77e7b5fc3bbb0dd00fc87742">threadId</a>());
<a name="l00273"></a>00273 
<a name="l00274"></a>00274             <span class="comment">// Tag orefetch reqeuests with corresponding PC to train lower</span>
<a name="l00275"></a>00275             <span class="comment">// cache-level prefetchers</span>
<a name="l00276"></a>00276             <span class="keywordflow">if</span> (<a class="code" href="classBasePrefetcher.html#a632f5ff02feaeadf06e58c82f3fb43c3">onPrefetch</a> &amp;&amp; pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a0ae031e5463fc62226d112dfbad6c08c">hasPC</a>())
<a name="l00277"></a>00277                 prefetch-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a26bcddb177835052e51f3accb1d2dea7">setPC</a>(pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#ab651e5db13fd546a5d4f88d3a4a04428">getPC</a>());
<a name="l00278"></a>00278 
<a name="l00279"></a>00279             <span class="comment">// We just remove the head if we are full</span>
<a name="l00280"></a>00280             <span class="keywordflow">if</span> (<a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.size() == <a class="code" href="classBasePrefetcher.html#ad3f1cf0299fe68eb9a68a7c67232c62d">size</a>) {
<a name="l00281"></a>00281                 <a class="code" href="classBasePrefetcher.html#a33b63796ece1306bb25b4abcbb8e888e">pfRemovedFull</a>++;
<a name="l00282"></a>00282                 <a class="code" href="classPacket.html">PacketPtr</a> old_pkt = <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.begin()-&gt;pkt;
<a name="l00283"></a>00283                 <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(HWPrefetch, <span class="stringliteral">&quot;Prefetch queue full, &quot;</span>
<a name="l00284"></a>00284                         <span class="stringliteral">&quot;removing oldest 0x%x\n&quot;</span>, old_pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>());
<a name="l00285"></a>00285                 <span class="keyword">delete</span> old_pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>;
<a name="l00286"></a>00286                 <span class="keyword">delete</span> old_pkt;
<a name="l00287"></a>00287                 <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.pop_front();
<a name="l00288"></a>00288             }
<a name="l00289"></a>00289 
<a name="l00290"></a>00290             <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.push_back(DeferredPacket(<a class="code" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a> + <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>() * *delayIter,
<a name="l00291"></a>00291                                         prefetch));
<a name="l00292"></a>00292         }
<a name="l00293"></a>00293     }
<a name="l00294"></a>00294 
<a name="l00295"></a>00295     <span class="keywordflow">return</span> <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.empty() ? 0 : <a class="code" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a>.front().tick;
<a name="l00296"></a>00296 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acd3c3feb78ae7a8f88fe0f110a718dff"></a><!-- doxytag: member="BasePrefetcher::params" ref="acd3c3feb78ae7a8f88fe0f110a718dff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBasePrefetcher.html#a46661f02a5642b04fd4e12f645ad9c5c">Params</a>* params </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSimObject.html#acd3c3feb78ae7a8f88fe0f110a718dff">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00179"></a>00179     {
<a name="l00180"></a>00180         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classBasePrefetcher.html#a46661f02a5642b04fd4e12f645ad9c5c">Params</a> *<span class="keyword">&gt;</span>(<a class="code" href="classSimObject.html#acaf6024ae9dda44bfb1c67e05ad70aef">_params</a>);
<a name="l00181"></a>00181     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4dc637449366fcdfc4e764cdf12d9b11"></a><!-- doxytag: member="BasePrefetcher::regStats" ref="a4dc637449366fcdfc4e764cdf12d9b11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void regStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRegister.html">Register</a> statistics for this object. </p>

<p><a class="el" href="classSimObject.html#a4dc637449366fcdfc4e764cdf12d9b11">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00078"></a>00078 {
<a name="l00079"></a>00079     <a class="code" href="classBasePrefetcher.html#aa83003235229fe6e7aae462188f4d63d">pfIdentified</a>
<a name="l00080"></a>00080         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.prefetcher.num_hwpf_identified&quot;</span>)
<a name="l00081"></a>00081         .desc(<span class="stringliteral">&quot;number of hwpf identified&quot;</span>)
<a name="l00082"></a>00082         ;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084     <a class="code" href="classBasePrefetcher.html#a16b12f81a92a01a460e62a7785e0726d">pfMSHRHit</a>
<a name="l00085"></a>00085         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.prefetcher.num_hwpf_already_in_mshr&quot;</span>)
<a name="l00086"></a>00086         .desc(<span class="stringliteral">&quot;number of hwpf that were already in mshr&quot;</span>)
<a name="l00087"></a>00087         ;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <a class="code" href="classBasePrefetcher.html#a61e01d10fc3d03b88341a0663ede2177">pfCacheHit</a>
<a name="l00090"></a>00090         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.prefetcher.num_hwpf_already_in_cache&quot;</span>)
<a name="l00091"></a>00091         .desc(<span class="stringliteral">&quot;number of hwpf that were already in the cache&quot;</span>)
<a name="l00092"></a>00092         ;
<a name="l00093"></a>00093 
<a name="l00094"></a>00094     <a class="code" href="classBasePrefetcher.html#a2df98c96edba641dbec623185d5c801b">pfBufferHit</a>
<a name="l00095"></a>00095         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.prefetcher.num_hwpf_already_in_prefetcher&quot;</span>)
<a name="l00096"></a>00096         .desc(<span class="stringliteral">&quot;number of hwpf that were already in the prefetch queue&quot;</span>)
<a name="l00097"></a>00097         ;
<a name="l00098"></a>00098 
<a name="l00099"></a>00099     <a class="code" href="classBasePrefetcher.html#a33b63796ece1306bb25b4abcbb8e888e">pfRemovedFull</a>
<a name="l00100"></a>00100         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.prefetcher.num_hwpf_evicted&quot;</span>)
<a name="l00101"></a>00101         .desc(<span class="stringliteral">&quot;number of hwpf removed due to no buffer left&quot;</span>)
<a name="l00102"></a>00102         ;
<a name="l00103"></a>00103 
<a name="l00104"></a>00104     <a class="code" href="classBasePrefetcher.html#ac2aa69cf510d48d234493085b96d810b">pfRemovedMSHR</a>
<a name="l00105"></a>00105         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.prefetcher.num_hwpf_removed_MSHR_hit&quot;</span>)
<a name="l00106"></a>00106         .desc(<span class="stringliteral">&quot;number of hwpf removed because MSHR allocated&quot;</span>)
<a name="l00107"></a>00107         ;
<a name="l00108"></a>00108 
<a name="l00109"></a>00109     <a class="code" href="classBasePrefetcher.html#a616b66672824772fbc0ac255630074a8">pfIssued</a>
<a name="l00110"></a>00110         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.prefetcher.num_hwpf_issued&quot;</span>)
<a name="l00111"></a>00111         .desc(<span class="stringliteral">&quot;number of hwpf issued&quot;</span>)
<a name="l00112"></a>00112         ;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114     <a class="code" href="classBasePrefetcher.html#a2e71998cfd3608b558c489b33280d0e6">pfSpanPage</a>
<a name="l00115"></a>00115         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.prefetcher.num_hwpf_span_page&quot;</span>)
<a name="l00116"></a>00116         .desc(<span class="stringliteral">&quot;number of hwpf spanning a virtual page&quot;</span>)
<a name="l00117"></a>00117         ;
<a name="l00118"></a>00118 
<a name="l00119"></a>00119     <a class="code" href="classBasePrefetcher.html#ae39544ad55ce96aa1560f3f3fc8f5906">pfSquashed</a>
<a name="l00120"></a>00120         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.prefetcher.num_hwpf_squashed_from_miss&quot;</span>)
<a name="l00121"></a>00121         .desc(<span class="stringliteral">&quot;number of hwpf that got squashed due to a miss &quot;</span>
<a name="l00122"></a>00122               <span class="stringliteral">&quot;aborting calculation time&quot;</span>)
<a name="l00123"></a>00123         ;
<a name="l00124"></a>00124 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0092f15516ff429fb7437fd21747fbf5"></a><!-- doxytag: member="BasePrefetcher::samePage" ref="a0092f15516ff429fb7437fd21747fbf5" args="(Addr a, Addr b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool samePage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Utility function: are addresses a and b on the same VM page? </p>

<p><div class="fragment"><pre class="fragment"><a name="l00314"></a>00314 {
<a name="l00315"></a>00315     <span class="keywordflow">return</span> <a class="code" href="intmath_8hh.html#a343c19b0ae885d5f3c7960987096e9d5">roundDown</a>(<a class="code" href="namespaceArmISA.html#a468da4d7330577ee8746df2acfa40959">a</a>, <a class="code" href="namespaceAlphaISA.html#a06fc87d81c62e9abb8790b6e5713c55babe0c83362ff9a394bc07b0e26f089b83">TheISA::VMPageSize</a>) == <a class="code" href="intmath_8hh.html#a343c19b0ae885d5f3c7960987096e9d5">roundDown</a>(<a class="code" href="namespaceArmISA.html#aa4c45773b9b358324d349233bf954418">b</a>, <a class="code" href="namespaceAlphaISA.html#a06fc87d81c62e9abb8790b6e5713c55babe0c83362ff9a394bc07b0e26f089b83">TheISA::VMPageSize</a>);
<a name="l00316"></a>00316 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6a5d34a51c5ba1c4f87dbcc59e8b13fb"></a><!-- doxytag: member="BasePrefetcher::setCache" ref="a6a5d34a51c5ba1c4f87dbcc59e8b13fb" args="(BaseCache *_cache)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCache.html">BaseCache</a> *&nbsp;</td>
          <td class="paramname"> <em>_cache</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00071"></a>00071 {
<a name="l00072"></a>00072     <a class="code" href="classBasePrefetcher.html#a5cc08dee7231c774489c04728dd5f169">cache</a> = _cache;
<a name="l00073"></a>00073     <a class="code" href="classBasePrefetcher.html#a848be51480be2b992d8a262952268fbc">blkSize</a> = <a class="code" href="classBasePrefetcher.html#a5cc08dee7231c774489c04728dd5f169">cache</a>-&gt;<a class="code" href="classBaseCache.html#a38301abe4b3689f8ac7de5c13a046234">getBlockSize</a>();
<a name="l00074"></a>00074 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a848be51480be2b992d8a262952268fbc"></a><!-- doxytag: member="BasePrefetcher::blkSize" ref="a848be51480be2b992d8a262952268fbc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePrefetcher.html#a848be51480be2b992d8a262952268fbc">blkSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The block size of the parent cache. </p>

</div>
</div>
<a class="anchor" id="a5cc08dee7231c774489c04728dd5f169"></a><!-- doxytag: member="BasePrefetcher::cache" ref="a5cc08dee7231c774489c04728dd5f169" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseCache.html">BaseCache</a>* <a class="el" href="classBasePrefetcher.html#a5cc08dee7231c774489c04728dd5f169">cache</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointr to the parent cache. </p>

</div>
</div>
<a class="anchor" id="aa05c9c27f3c02725fb1574fb5218aeba"></a><!-- doxytag: member="BasePrefetcher::degree" ref="aa05c9c27f3c02725fb1574fb5218aeba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="classBasePrefetcher.html#aa05c9c27f3c02725fb1574fb5218aeba">degree</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of prefetches to issue </p>

</div>
</div>
<a class="anchor" id="a46b9d67ee437c6ecdbedca8ec8d2ed40"></a><!-- doxytag: member="BasePrefetcher::latency" ref="a46b9d67ee437c6ecdbedca8ec8d2ed40" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCycles.html">Cycles</a> <a class="el" href="classBasePrefetcher.html#a46b9d67ee437c6ecdbedca8ec8d2ed40">latency</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The latency before a prefetch is issued </p>

</div>
</div>
<a class="anchor" id="a96ec6a422ac492d05f8b3edc5b58532b"></a><!-- doxytag: member="BasePrefetcher::masterId" ref="a96ec6a422ac492d05f8b3edc5b58532b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a> <a class="el" href="classBasePrefetcher.html#a96ec6a422ac492d05f8b3edc5b58532b">masterId</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRequest.html">Request</a> id for prefetches </p>

</div>
</div>
<a class="anchor" id="a8762c4c2c983c8eadd6c7bccfe973f5f"></a><!-- doxytag: member="BasePrefetcher::onlyData" ref="a8762c4c2c983c8eadd6c7bccfe973f5f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool <a class="el" href="classBasePrefetcher.html#a8762c4c2c983c8eadd6c7bccfe973f5f">onlyData</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Do we prefetch on only data reads, or on inst reads as well. </p>

</div>
</div>
<a class="anchor" id="ade1681d5d6ad302db05a204fd920a110"></a><!-- doxytag: member="BasePrefetcher::onMissOnly" ref="ade1681d5d6ad302db05a204fd920a110" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool <a class="el" href="classBasePrefetcher.html#ade1681d5d6ad302db05a204fd920a110">onMissOnly</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Do we trigger/train prefetch on cache misses only, or all accesses. </p>

</div>
</div>
<a class="anchor" id="a632f5ff02feaeadf06e58c82f3fb43c3"></a><!-- doxytag: member="BasePrefetcher::onPrefetch" ref="a632f5ff02feaeadf06e58c82f3fb43c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool <a class="el" href="classBasePrefetcher.html#a632f5ff02feaeadf06e58c82f3fb43c3">onPrefetch</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Do we tag prefetch's with PC addresses, allowing lower pc-based prefetchers to prefetch on prefetch requests </p>

</div>
</div>
<a class="anchor" id="a009f56092b97c79cde580c4ae5e12599"></a><!-- doxytag: member="BasePrefetcher::onReadOnly" ref="a009f56092b97c79cde580c4ae5e12599" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool <a class="el" href="classBasePrefetcher.html#a009f56092b97c79cde580c4ae5e12599">onReadOnly</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Do we trigger/train prefetch on reads only, or all accesses. </p>

</div>
</div>
<a class="anchor" id="a8e2ec9b566b10d5b73a5d9fe6a90b058"></a><!-- doxytag: member="BasePrefetcher::pageStop" ref="a8e2ec9b566b10d5b73a5d9fe6a90b058" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool <a class="el" href="classBasePrefetcher.html#a8e2ec9b566b10d5b73a5d9fe6a90b058">pageStop</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Do we prefetch across page boundaries. </p>

</div>
</div>
<a class="anchor" id="acdef622ce8eca64ce81e25e37f0bc22e"></a><!-- doxytag: member="BasePrefetcher::pf" ref="acdef622ce8eca64ce81e25e37f0bc22e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="classBasePrefetcher_1_1DeferredPacket.html">DeferredPacket</a>&gt; <a class="el" href="classBasePrefetcher.html#acdef622ce8eca64ce81e25e37f0bc22e">pf</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The Prefetch Queue. </p>

</div>
</div>
<a class="anchor" id="a2df98c96edba641dbec623185d5c801b"></a><!-- doxytag: member="BasePrefetcher::pfBufferHit" ref="a2df98c96edba641dbec623185d5c801b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classBasePrefetcher.html#a2df98c96edba641dbec623185d5c801b">pfBufferHit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a61e01d10fc3d03b88341a0663ede2177"></a><!-- doxytag: member="BasePrefetcher::pfCacheHit" ref="a61e01d10fc3d03b88341a0663ede2177" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classBasePrefetcher.html#a61e01d10fc3d03b88341a0663ede2177">pfCacheHit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa83003235229fe6e7aae462188f4d63d"></a><!-- doxytag: member="BasePrefetcher::pfIdentified" ref="aa83003235229fe6e7aae462188f4d63d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classBasePrefetcher.html#aa83003235229fe6e7aae462188f4d63d">pfIdentified</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a616b66672824772fbc0ac255630074a8"></a><!-- doxytag: member="BasePrefetcher::pfIssued" ref="a616b66672824772fbc0ac255630074a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classBasePrefetcher.html#a616b66672824772fbc0ac255630074a8">pfIssued</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a16b12f81a92a01a460e62a7785e0726d"></a><!-- doxytag: member="BasePrefetcher::pfMSHRHit" ref="a16b12f81a92a01a460e62a7785e0726d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classBasePrefetcher.html#a16b12f81a92a01a460e62a7785e0726d">pfMSHRHit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a33b63796ece1306bb25b4abcbb8e888e"></a><!-- doxytag: member="BasePrefetcher::pfRemovedFull" ref="a33b63796ece1306bb25b4abcbb8e888e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classBasePrefetcher.html#a33b63796ece1306bb25b4abcbb8e888e">pfRemovedFull</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac2aa69cf510d48d234493085b96d810b"></a><!-- doxytag: member="BasePrefetcher::pfRemovedMSHR" ref="ac2aa69cf510d48d234493085b96d810b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classBasePrefetcher.html#ac2aa69cf510d48d234493085b96d810b">pfRemovedMSHR</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e71998cfd3608b558c489b33280d0e6"></a><!-- doxytag: member="BasePrefetcher::pfSpanPage" ref="a2e71998cfd3608b558c489b33280d0e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classBasePrefetcher.html#a2e71998cfd3608b558c489b33280d0e6">pfSpanPage</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae39544ad55ce96aa1560f3f3fc8f5906"></a><!-- doxytag: member="BasePrefetcher::pfSquashed" ref="ae39544ad55ce96aa1560f3f3fc8f5906" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classBasePrefetcher.html#ae39544ad55ce96aa1560f3f3fc8f5906">pfSquashed</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a198469b16ef2d026a2ffa298eb77e616"></a><!-- doxytag: member="BasePrefetcher::serialSquash" ref="a198469b16ef2d026a2ffa298eb77e616" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool <a class="el" href="classBasePrefetcher.html#a198469b16ef2d026a2ffa298eb77e616">serialSquash</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Do we remove prefetches with later times than a new miss. </p>

</div>
</div>
<a class="anchor" id="ad3f1cf0299fe68eb9a68a7c67232c62d"></a><!-- doxytag: member="BasePrefetcher::size" ref="ad3f1cf0299fe68eb9a68a7c67232c62d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="classBasePrefetcher.html#ad3f1cf0299fe68eb9a68a7c67232c62d">size</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of MSHRs in the Prefetch Queue. </p>

</div>
</div>
<a class="anchor" id="af27ccd765f13a4b7bd119dc7579e2746"></a><!-- doxytag: member="BasePrefetcher::system" ref="af27ccd765f13a4b7bd119dc7579e2746" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSystem.html">System</a>* <a class="el" href="classBasePrefetcher.html#af27ccd765f13a4b7bd119dc7579e2746">system</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classSystem.html">System</a> we belong to </p>

</div>
</div>
<a class="anchor" id="ab84f738213bbd5196080f894c0d5aaf2"></a><!-- doxytag: member="BasePrefetcher::useMasterId" ref="ab84f738213bbd5196080f894c0d5aaf2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool <a class="el" href="classBasePrefetcher.html#ab84f738213bbd5196080f894c0d5aaf2">useMasterId</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>If patterns should be found per context id </p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>mem/cache/prefetch/<a class="el" href="mem_2cache_2prefetch_2base_8hh_source.html">base.hh</a></li>
<li>mem/cache/prefetch/<a class="el" href="mem_2cache_2prefetch_2base_8cc.html">base.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
