\hypertarget{classSyscallDesc}{
\section{クラス SyscallDesc}
\label{classSyscallDesc}\index{SyscallDesc@{SyscallDesc}}
}


{\ttfamily \#include $<$syscall\_\-emul.hh$>$}\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classSyscallDesc_aa705cf7e79a21c2352b00ffe20cd295f}{Flags} \{ \hyperlink{classSyscallDesc_aa705cf7e79a21c2352b00ffe20cd295fab4992a2474f4af8a3274d2024ab0530e}{SuppressReturnValue} =  1
 \}
\begin{DoxyCompactList}\small\item\em Flag values for controlling syscall behavior. \item\end{DoxyCompactList}\item 
typedef \hyperlink{classSyscallReturn}{SyscallReturn}($\ast$ \hyperlink{classSyscallDesc_a78a0bd5af3c5dd3fcd94f3d629b112ce}{FuncPtr} )(\hyperlink{classSyscallDesc}{SyscallDesc} $\ast$, int num, \hyperlink{classLiveProcess}{LiveProcess} $\ast$, \hyperlink{classThreadContext}{ThreadContext} $\ast$)
\begin{DoxyCompactList}\small\item\em Typedef for target syscall handler functions. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSyscallDesc_abb73d8c1b9785087f5fbf7f8b01c0663}{SyscallDesc} (const char $\ast$\_\-name, \hyperlink{classSyscallDesc_a78a0bd5af3c5dd3fcd94f3d629b112ce}{FuncPtr} \_\-funcPtr, int \_\-flags=0)
\begin{DoxyCompactList}\small\item\em Constructor. \item\end{DoxyCompactList}\item 
void \hyperlink{classSyscallDesc_a8a1b93297498c16444130f7ce9a12304}{doSyscall} (int callnum, \hyperlink{classLiveProcess}{LiveProcess} $\ast$proc, \hyperlink{classThreadContext}{ThreadContext} $\ast$tc)
\begin{DoxyCompactList}\small\item\em Emulate the syscall. Public interface for calling through funcPtr. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public 変数}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \hyperlink{classSyscallDesc_a8f8f80d37794cde9472343e4487ba3eb}{name}
\begin{DoxyCompactList}\small\item\em Syscall name (e.g., \char`\"{}open\char`\"{}). \item\end{DoxyCompactList}\item 
\hyperlink{classSyscallDesc_a78a0bd5af3c5dd3fcd94f3d629b112ce}{FuncPtr} \hyperlink{classSyscallDesc_ac49878af22e8dd4a329010118f69eafa}{funcPtr}
\begin{DoxyCompactList}\small\item\em Pointer to emulation function. \item\end{DoxyCompactList}\item 
int \hyperlink{classSyscallDesc_ac8bf36fe0577cba66bccda3a6f7e80a4}{flags}
\begin{DoxyCompactList}\small\item\em \hyperlink{classFlags}{Flags} (see \hyperlink{classFlags}{Flags} enum). \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{説明}
\hyperlink{classSystem}{System} call descriptor. 

\subsection{型定義}
\hypertarget{classSyscallDesc_a78a0bd5af3c5dd3fcd94f3d629b112ce}{
\index{SyscallDesc@{SyscallDesc}!FuncPtr@{FuncPtr}}
\index{FuncPtr@{FuncPtr}!SyscallDesc@{SyscallDesc}}
\subsubsection[{FuncPtr}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf SyscallReturn}($\ast$ {\bf FuncPtr})({\bf SyscallDesc} $\ast$, int num, {\bf LiveProcess} $\ast$, {\bf ThreadContext} $\ast$)}}
\label{classSyscallDesc_a78a0bd5af3c5dd3fcd94f3d629b112ce}


Typedef for target syscall handler functions. 

\subsection{列挙型}
\hypertarget{classSyscallDesc_aa705cf7e79a21c2352b00ffe20cd295f}{
\index{SyscallDesc@{SyscallDesc}!Flags@{Flags}}
\index{Flags@{Flags}!SyscallDesc@{SyscallDesc}}
\subsubsection[{Flags}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Flags}}}
\label{classSyscallDesc_aa705cf7e79a21c2352b00ffe20cd295f}


Flag values for controlling syscall behavior. \begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{SuppressReturnValue@{SuppressReturnValue}!SyscallDesc@{SyscallDesc}}\index{SyscallDesc@{SyscallDesc}!SuppressReturnValue@{SuppressReturnValue}}\item[{\em 
\hypertarget{classSyscallDesc_aa705cf7e79a21c2352b00ffe20cd295fab4992a2474f4af8a3274d2024ab0530e}{
SuppressReturnValue}
\label{classSyscallDesc_aa705cf7e79a21c2352b00ffe20cd295fab4992a2474f4af8a3274d2024ab0530e}
}]Don't set return regs according to funcPtr return value. Used for syscalls with non-\/standard return conventions that explicitly set the \hyperlink{classThreadContext}{ThreadContext} regs (e.g., sigreturn). \end{description}
\end{Desc}




\begin{DoxyCode}
100                {
105         SuppressReturnValue = 1
106     };
\end{DoxyCode}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classSyscallDesc_abb73d8c1b9785087f5fbf7f8b01c0663}{
\index{SyscallDesc@{SyscallDesc}!SyscallDesc@{SyscallDesc}}
\index{SyscallDesc@{SyscallDesc}!SyscallDesc@{SyscallDesc}}
\subsubsection[{SyscallDesc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SyscallDesc} (const char $\ast$ {\em \_\-name}, \/  {\bf FuncPtr} {\em \_\-funcPtr}, \/  int {\em \_\-flags} = {\ttfamily 0})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSyscallDesc_abb73d8c1b9785087f5fbf7f8b01c0663}


Constructor. 


\begin{DoxyCode}
110         : name(_name), funcPtr(_funcPtr), flags(_flags)
111     {
112     }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classSyscallDesc_a8a1b93297498c16444130f7ce9a12304}{
\index{SyscallDesc@{SyscallDesc}!doSyscall@{doSyscall}}
\index{doSyscall@{doSyscall}!SyscallDesc@{SyscallDesc}}
\subsubsection[{doSyscall}]{\setlength{\rightskip}{0pt plus 5cm}void doSyscall (int {\em callnum}, \/  {\bf LiveProcess} $\ast$ {\em proc}, \/  {\bf ThreadContext} $\ast$ {\em tc})}}
\label{classSyscallDesc_a8a1b93297498c16444130f7ce9a12304}


Emulate the syscall. Public interface for calling through funcPtr. 


\begin{DoxyCode}
57 {
58 #if TRACING_ON
59     int index = 0;
60 #endif
61     DPRINTFR(SyscallVerbose,
62              "%d: %s: syscall %s called w/arguments %d,%d,%d,%d\n",
63              curTick(), tc->getCpuPtr()->name(), name,
64              process->getSyscallArg(tc, index),
65              process->getSyscallArg(tc, index),
66              process->getSyscallArg(tc, index),
67              process->getSyscallArg(tc, index));
68 
69     SyscallReturn retval = (*funcPtr)(this, callnum, process, tc);
70 
71     DPRINTFR(SyscallVerbose, "%d: %s: syscall %s returns %d\n",
72              curTick(), tc->getCpuPtr()->name(), name, retval.encodedValue());
73 
74     if (!(flags & SyscallDesc::SuppressReturnValue))
75         process->setSyscallReturn(tc, retval);
76 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classSyscallDesc_ac8bf36fe0577cba66bccda3a6f7e80a4}{
\index{SyscallDesc@{SyscallDesc}!flags@{flags}}
\index{flags@{flags}!SyscallDesc@{SyscallDesc}}
\subsubsection[{flags}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf flags}}}
\label{classSyscallDesc_ac8bf36fe0577cba66bccda3a6f7e80a4}


\hyperlink{classFlags}{Flags} (see \hyperlink{classFlags}{Flags} enum). \hypertarget{classSyscallDesc_ac49878af22e8dd4a329010118f69eafa}{
\index{SyscallDesc@{SyscallDesc}!funcPtr@{funcPtr}}
\index{funcPtr@{funcPtr}!SyscallDesc@{SyscallDesc}}
\subsubsection[{funcPtr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf FuncPtr} {\bf funcPtr}}}
\label{classSyscallDesc_ac49878af22e8dd4a329010118f69eafa}


Pointer to emulation function. \hypertarget{classSyscallDesc_a8f8f80d37794cde9472343e4487ba3eb}{
\index{SyscallDesc@{SyscallDesc}!name@{name}}
\index{name@{name}!SyscallDesc@{SyscallDesc}}
\subsubsection[{name}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ {\bf name}}}
\label{classSyscallDesc_a8f8f80d37794cde9472343e4487ba3eb}


Syscall name (e.g., \char`\"{}open\char`\"{}). 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
sim/\hyperlink{syscall__emul_8hh}{syscall\_\-emul.hh}\item 
sim/\hyperlink{syscall__emul_8cc}{syscall\_\-emul.cc}\end{DoxyCompactItemize}
