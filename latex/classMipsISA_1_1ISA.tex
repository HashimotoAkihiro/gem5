\hypertarget{classMipsISA_1_1ISA}{
\section{クラス ISA}
\label{classMipsISA_1_1ISA}\index{MipsISA::ISA@{MipsISA::ISA}}
}


{\ttfamily \#include $<$isa.hh$>$}ISAに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2cm]{classMipsISA_1_1ISA}
\end{center}
\end{figure}
\subsection*{構成}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classMipsISA_1_1ISA_1_1CP0Event}{CP0Event}
\end{DoxyCompactItemize}
\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7}{CP0EventType} \{ \hyperlink{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}{UpdateCP0}, 
\hyperlink{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}{UpdateCP0}
 \}
\item 
enum \hyperlink{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7}{CP0EventType} \{ \hyperlink{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}{UpdateCP0}, 
\hyperlink{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}{UpdateCP0}
 \}
\item 
typedef \hyperlink{classMipsISA_1_1ISA}{ISA} \hyperlink{classMipsISA_1_1ISA_a21db2c38ad074e55f2b584fb5a5d37f3}{CP0}
\item 
typedef MipsISAParams \hyperlink{classMipsISA_1_1ISA_a356644158667486a7a343f11512e4dc7}{Params}
\item 
typedef \hyperlink{classMipsISA_1_1ISA}{ISA} \hyperlink{classMipsISA_1_1ISA_a21db2c38ad074e55f2b584fb5a5d37f3}{CP0}
\item 
typedef MipsISAParams \hyperlink{classMipsISA_1_1ISA_a356644158667486a7a343f11512e4dc7}{Params}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classMipsISA_1_1ISA_ac8bb3912a3ce86b15842e79d0b421204}{clear} ()
\item 
void \hyperlink{classMipsISA_1_1ISA_af9cb72b444a0f6c58cb2ca90573144eb}{configCP} ()
\item 
unsigned \hyperlink{classMipsISA_1_1ISA_ac14017b7c7cddd04d2e028cde54f6165}{getVPENum} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classMipsISA_1_1ISA_ab5936dc40fc4dbeac3066d5d7cffeb11}{updateCP0ReadView} (int misc\_\-reg, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
\hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \hyperlink{classMipsISA_1_1ISA_af2ec8925148a53b9bddefb7fb65a7223}{readMiscRegNoEffect} (int misc\_\-reg, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid=0)
\item 
\hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \hyperlink{classMipsISA_1_1ISA_a81ac5a0c0d9b625997d7737f911743b1}{readMiscReg} (int misc\_\-reg, \hyperlink{classThreadContext}{ThreadContext} $\ast$tc, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid=0)
\item 
\hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \hyperlink{classMipsISA_1_1ISA_aadf74b7e5f09ecd0cc35aeb0a25b4420}{filterCP0Write} (int misc\_\-reg, int reg\_\-sel, const \hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \&val)
\item 
void \hyperlink{classMipsISA_1_1ISA_a01507af6f09e43b4f9ece624fdafb1cc}{setRegMask} (int misc\_\-reg, const \hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \&val, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid=0)
\item 
void \hyperlink{classMipsISA_1_1ISA_ab8dd4afdd4e652ca191b235505691f68}{setMiscRegNoEffect} (int misc\_\-reg, const \hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \&val, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid=0)
\item 
void \hyperlink{classMipsISA_1_1ISA_ab85b054f14d72781b7f540270867e2df}{setMiscReg} (int misc\_\-reg, const \hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \&val, \hyperlink{classThreadContext}{ThreadContext} $\ast$tc, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid=0)
\item 
void \hyperlink{classMipsISA_1_1ISA_a85221cc4f7fe8618574a72b6410318f4}{scheduleCP0Update} (\hyperlink{classBaseCPU}{BaseCPU} $\ast$cpu, \hyperlink{classm5_1_1params_1_1Cycles}{Cycles} delay=\hyperlink{classm5_1_1params_1_1Cycles}{Cycles}(0))
\item 
void \hyperlink{classMipsISA_1_1ISA_a872038d84b4cde793f5f2f7b75df3293}{updateCPU} (\hyperlink{classBaseCPU}{BaseCPU} $\ast$cpu)
\item 
void \hyperlink{classMipsISA_1_1ISA_a769e733729615c529fdb54f538f11dba}{startup} (\hyperlink{classThreadContext}{ThreadContext} $\ast$tc)
\item 
const \hyperlink{classMipsISA_1_1ISA_a356644158667486a7a343f11512e4dc7}{Params} $\ast$ \hyperlink{classMipsISA_1_1ISA_a79943ccd051cbee11887e08c12997892}{params} () const 
\item 
\hyperlink{classMipsISA_1_1ISA_ae9132e021b3f3b20c917fc328a056bbd}{ISA} (\hyperlink{classMipsISA_1_1ISA_a356644158667486a7a343f11512e4dc7}{Params} $\ast$\hyperlink{namespaceMipsISA_a37d3f683959086eac7bcf24a002a9fb8}{p})
\item 
int \hyperlink{classMipsISA_1_1ISA_aece4b88ffcab608652e8e9f0fbe643d4}{flattenIntIndex} (int reg) const 
\item 
int \hyperlink{classMipsISA_1_1ISA_a85addcd4f57c5a0ffa81805dcad1eeb7}{flattenFloatIndex} (int reg) const 
\item 
int \hyperlink{classMipsISA_1_1ISA_a7a5d7476bd10e5af09e6e753d1fca087}{flattenCCIndex} (int reg) const 
\item 
int \hyperlink{classMipsISA_1_1ISA_a8997760aa4425793911f57440a4dd8ae}{flattenMiscIndex} (int reg) const 
\item 
void \hyperlink{classMipsISA_1_1ISA_ac8bb3912a3ce86b15842e79d0b421204}{clear} ()
\item 
void \hyperlink{classMipsISA_1_1ISA_af9cb72b444a0f6c58cb2ca90573144eb}{configCP} ()
\item 
unsigned \hyperlink{classMipsISA_1_1ISA_ac14017b7c7cddd04d2e028cde54f6165}{getVPENum} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classMipsISA_1_1ISA_ab5936dc40fc4dbeac3066d5d7cffeb11}{updateCP0ReadView} (int misc\_\-reg, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
\hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \hyperlink{classMipsISA_1_1ISA_af2ec8925148a53b9bddefb7fb65a7223}{readMiscRegNoEffect} (int misc\_\-reg, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid=0)
\item 
\hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \hyperlink{classMipsISA_1_1ISA_a81ac5a0c0d9b625997d7737f911743b1}{readMiscReg} (int misc\_\-reg, \hyperlink{classThreadContext}{ThreadContext} $\ast$tc, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid=0)
\item 
\hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \hyperlink{classMipsISA_1_1ISA_aadf74b7e5f09ecd0cc35aeb0a25b4420}{filterCP0Write} (int misc\_\-reg, int reg\_\-sel, const \hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \&val)
\item 
void \hyperlink{classMipsISA_1_1ISA_a01507af6f09e43b4f9ece624fdafb1cc}{setRegMask} (int misc\_\-reg, const \hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \&val, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid=0)
\item 
void \hyperlink{classMipsISA_1_1ISA_ab8dd4afdd4e652ca191b235505691f68}{setMiscRegNoEffect} (int misc\_\-reg, const \hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \&val, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid=0)
\item 
void \hyperlink{classMipsISA_1_1ISA_ab85b054f14d72781b7f540270867e2df}{setMiscReg} (int misc\_\-reg, const \hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} \&val, \hyperlink{classThreadContext}{ThreadContext} $\ast$tc, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid=0)
\item 
void \hyperlink{classMipsISA_1_1ISA_a85221cc4f7fe8618574a72b6410318f4}{scheduleCP0Update} (\hyperlink{classBaseCPU}{BaseCPU} $\ast$cpu, \hyperlink{classm5_1_1params_1_1Cycles}{Cycles} delay=\hyperlink{classm5_1_1params_1_1Cycles}{Cycles}(0))
\item 
void \hyperlink{classMipsISA_1_1ISA_a872038d84b4cde793f5f2f7b75df3293}{updateCPU} (\hyperlink{classBaseCPU}{BaseCPU} $\ast$cpu)
\item 
void \hyperlink{classMipsISA_1_1ISA_a769e733729615c529fdb54f538f11dba}{startup} (\hyperlink{classThreadContext}{ThreadContext} $\ast$tc)
\item 
const \hyperlink{classMipsISA_1_1ISA_a356644158667486a7a343f11512e4dc7}{Params} $\ast$ \hyperlink{classMipsISA_1_1ISA_acd3c3feb78ae7a8f88fe0f110a718dff}{params} () const 
\item 
\hyperlink{classMipsISA_1_1ISA_ae9132e021b3f3b20c917fc328a056bbd}{ISA} (\hyperlink{classMipsISA_1_1ISA_a356644158667486a7a343f11512e4dc7}{Params} $\ast$\hyperlink{namespaceMipsISA_a37d3f683959086eac7bcf24a002a9fb8}{p})
\item 
int \hyperlink{classMipsISA_1_1ISA_aece4b88ffcab608652e8e9f0fbe643d4}{flattenIntIndex} (int reg) const 
\item 
int \hyperlink{classMipsISA_1_1ISA_a85addcd4f57c5a0ffa81805dcad1eeb7}{flattenFloatIndex} (int reg) const 
\item 
int \hyperlink{classMipsISA_1_1ISA_a7a5d7476bd10e5af09e6e753d1fca087}{flattenCCIndex} (int reg) const 
\item 
int \hyperlink{classMipsISA_1_1ISA_a8997760aa4425793911f57440a4dd8ae}{flattenMiscIndex} (int reg) const 
\end{DoxyCompactItemize}
\subsection*{Public 変数}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classMipsISA_1_1ISA_a92cda46eabfff2a3514c1c2721e25990}{cp0Updated}
\item 
std::queue$<$ \hyperlink{classMipsISA_1_1ISA_1_1CP0Event}{CP0Event} $\ast$ $>$ \hyperlink{classMipsISA_1_1ISA_a8adab10ee83d624a89033e9d1979662e}{cp0EventRemoveList}
\end{DoxyCompactItemize}
\subsection*{Static Public 変数}
\begin{DoxyCompactItemize}
\item 
static std::string \hyperlink{classMipsISA_1_1ISA_a9cdc253c8b6e87a237586ded36ac309f}{miscRegNames} \mbox{[}\hyperlink{namespaceMipsISA_a568d4aa96dd7cd963f3b1b1b0446c9c6}{NumMiscRegs}\mbox{]}
\end{DoxyCompactItemize}
\subsection*{Protected 型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1}{BankType} \{ \par
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}{perProcessor}, 
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}{perThreadContext}, 
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}{perVirtProcessor}, 
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}{perProcessor}, 
\par
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}{perThreadContext}, 
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}{perVirtProcessor}
 \}
\item 
enum \hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1}{BankType} \{ \par
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}{perProcessor}, 
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}{perThreadContext}, 
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}{perVirtProcessor}, 
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}{perProcessor}, 
\par
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}{perThreadContext}, 
\hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}{perVirtProcessor}
 \}
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
uint8\_\-t \hyperlink{classMipsISA_1_1ISA_aa972a4ac745d8349cf6f90462dfc5433}{numThreads}
\item 
uint8\_\-t \hyperlink{classMipsISA_1_1ISA_a4ee800a76f0f2c6b285bf0881a4b6c1a}{numVpes}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} $>$ $>$ \hyperlink{classMipsISA_1_1ISA_a02abb0f7fcd403c7ec4810a93f77ec60}{miscRegFile}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{namespaceMipsISA_aa16539aa6584fd12f7d6fa868f75b4de}{MiscReg} $>$ $>$ \hyperlink{classMipsISA_1_1ISA_a53b478f356b8709271f5f00b99473458}{miscRegFile\_\-WriteMask}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1}{BankType} $>$ \hyperlink{classMipsISA_1_1ISA_adf99e34b7a92591520cf8908417e9154}{bankType}
\end{DoxyCompactItemize}


\subsection{型定義}
\hypertarget{classMipsISA_1_1ISA_a21db2c38ad074e55f2b584fb5a5d37f3}{
\index{MipsISA::ISA@{MipsISA::ISA}!CP0@{CP0}}
\index{CP0@{CP0}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{CP0}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf ISA} {\bf CP0}}}
\label{classMipsISA_1_1ISA_a21db2c38ad074e55f2b584fb5a5d37f3}
\hypertarget{classMipsISA_1_1ISA_a21db2c38ad074e55f2b584fb5a5d37f3}{
\index{MipsISA::ISA@{MipsISA::ISA}!CP0@{CP0}}
\index{CP0@{CP0}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{CP0}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf ISA} {\bf CP0}}}
\label{classMipsISA_1_1ISA_a21db2c38ad074e55f2b584fb5a5d37f3}
\hypertarget{classMipsISA_1_1ISA_a356644158667486a7a343f11512e4dc7}{
\index{MipsISA::ISA@{MipsISA::ISA}!Params@{Params}}
\index{Params@{Params}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef MipsISAParams {\bf Params}}}
\label{classMipsISA_1_1ISA_a356644158667486a7a343f11512e4dc7}
\hypertarget{classMipsISA_1_1ISA_a356644158667486a7a343f11512e4dc7}{
\index{MipsISA::ISA@{MipsISA::ISA}!Params@{Params}}
\index{Params@{Params}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef MipsISAParams {\bf Params}}}
\label{classMipsISA_1_1ISA_a356644158667486a7a343f11512e4dc7}


\subsection{列挙型}
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1}{
\index{MipsISA::ISA@{MipsISA::ISA}!BankType@{BankType}}
\index{BankType@{BankType}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{BankType}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf BankType}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{perProcessor@{perProcessor}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perProcessor@{perProcessor}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}{
perProcessor}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}
}]\index{perThreadContext@{perThreadContext}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perThreadContext@{perThreadContext}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}{
perThreadContext}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}
}]\index{perVirtProcessor@{perVirtProcessor}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perVirtProcessor@{perVirtProcessor}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}{
perVirtProcessor}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}
}]\index{perProcessor@{perProcessor}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perProcessor@{perProcessor}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}{
perProcessor}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}
}]\index{perThreadContext@{perThreadContext}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perThreadContext@{perThreadContext}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}{
perThreadContext}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}
}]\index{perVirtProcessor@{perVirtProcessor}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perVirtProcessor@{perVirtProcessor}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}{
perVirtProcessor}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
65                       {
66             perProcessor,
67             perThreadContext,
68             perVirtProcessor
69         };
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1}{
\index{MipsISA::ISA@{MipsISA::ISA}!BankType@{BankType}}
\index{BankType@{BankType}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{BankType}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf BankType}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{perProcessor@{perProcessor}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perProcessor@{perProcessor}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}{
perProcessor}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}
}]\index{perThreadContext@{perThreadContext}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perThreadContext@{perThreadContext}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}{
perThreadContext}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}
}]\index{perVirtProcessor@{perVirtProcessor}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perVirtProcessor@{perVirtProcessor}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}{
perVirtProcessor}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}
}]\index{perProcessor@{perProcessor}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perProcessor@{perProcessor}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}{
perProcessor}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a9e47a436a373eae42c60d4ee29bfc1f4}
}]\index{perThreadContext@{perThreadContext}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perThreadContext@{perThreadContext}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}{
perThreadContext}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1a53b7a9b2f7a84180a64f7f1af3c1e318}
}]\index{perVirtProcessor@{perVirtProcessor}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!perVirtProcessor@{perVirtProcessor}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}{
perVirtProcessor}
\label{classMipsISA_1_1ISA_a6fe085db0aa80588322c415f46d74bf1aa3cd85a7a7f1d2d497361aa806bfa87d}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
65                       {
66             perProcessor,
67             perThreadContext,
68             perVirtProcessor
69         };
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7}{
\index{MipsISA::ISA@{MipsISA::ISA}!CP0EventType@{CP0EventType}}
\index{CP0EventType@{CP0EventType}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{CP0EventType}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf CP0EventType}}}
\label{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{UpdateCP0@{UpdateCP0}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!UpdateCP0@{UpdateCP0}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}{
UpdateCP0}
\label{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}
}]\index{UpdateCP0@{UpdateCP0}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!UpdateCP0@{UpdateCP0}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}{
UpdateCP0}
\label{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
117                           {
118             UpdateCP0
119         };
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7}{
\index{MipsISA::ISA@{MipsISA::ISA}!CP0EventType@{CP0EventType}}
\index{CP0EventType@{CP0EventType}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{CP0EventType}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf CP0EventType}}}
\label{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{UpdateCP0@{UpdateCP0}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!UpdateCP0@{UpdateCP0}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}{
UpdateCP0}
\label{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}
}]\index{UpdateCP0@{UpdateCP0}!MipsISA::ISA@{MipsISA::ISA}}\index{MipsISA::ISA@{MipsISA::ISA}!UpdateCP0@{UpdateCP0}}\item[{\em 
\hypertarget{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}{
UpdateCP0}
\label{classMipsISA_1_1ISA_a7b22e0667d062181e0dcaa5cf0e66ba7a40440d4260dd362173f74b5c01c3f047}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
117                           {
118             UpdateCP0
119         };
\end{DoxyCode}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classMipsISA_1_1ISA_ae9132e021b3f3b20c917fc328a056bbd}{
\index{MipsISA::ISA@{MipsISA::ISA}!ISA@{ISA}}
\index{ISA@{ISA}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{ISA}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ISA} ({\bf Params} $\ast$ {\em p})}}
\label{classMipsISA_1_1ISA_ae9132e021b3f3b20c917fc328a056bbd}



\begin{DoxyCode}
92     : SimObject(p), numThreads(p->num_threads), numVpes(p->num_vpes)
93 {
94     miscRegFile.resize(NumMiscRegs);
95     bankType.resize(NumMiscRegs);
96 
97     for (int i=0; i < NumMiscRegs; i++) {
98         miscRegFile[i].resize(1);
99         bankType[i] = perProcessor;
100     }
101 
102     miscRegFile_WriteMask.resize(NumMiscRegs);
103 
104     for (int i = 0; i < NumMiscRegs; i++) {
105         miscRegFile_WriteMask[i].push_back(0);
106     }
107 
108     // Initialize all Per-VPE regs
109     uint32_t per_vpe_regs[] = { MISCREG_VPE_CONTROL,
110                                 MISCREG_VPE_CONF0, MISCREG_VPE_CONF1,
111                                 MISCREG_YQMASK,
112                                 MISCREG_VPE_SCHEDULE, MISCREG_VPE_SCHEFBACK,
113                                 MISCREG_VPE_OPT, MISCREG_SRS_CONF0,
114                                 MISCREG_SRS_CONF1, MISCREG_SRS_CONF2,
115                                 MISCREG_SRS_CONF3, MISCREG_SRS_CONF4,
116                                 MISCREG_EBASE
117                               };
118     uint32_t num_vpe_regs = sizeof(per_vpe_regs) / 4;
119     for (int i = 0; i < num_vpe_regs; i++) {
120         if (numVpes > 1) {
121             miscRegFile[per_vpe_regs[i]].resize(numVpes);
122         }
123         bankType[per_vpe_regs[i]] = perVirtProcessor;
124     }
125 
126     // Initialize all Per-TC regs
127     uint32_t per_tc_regs[] = { MISCREG_STATUS,
128                                MISCREG_TC_STATUS, MISCREG_TC_BIND,
129                                MISCREG_TC_RESTART, MISCREG_TC_HALT,
130                                MISCREG_TC_CONTEXT, MISCREG_TC_SCHEDULE,
131                                MISCREG_TC_SCHEFBACK,
132                                MISCREG_DEBUG, MISCREG_LLADDR
133                              };
134     uint32_t num_tc_regs = sizeof(per_tc_regs) /  4;
135 
136     for (int i = 0; i < num_tc_regs; i++) {
137         miscRegFile[per_tc_regs[i]].resize(numThreads);
138         bankType[per_tc_regs[i]] = perThreadContext;
139     }
140 
141     clear();
142 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_ae9132e021b3f3b20c917fc328a056bbd}{
\index{MipsISA::ISA@{MipsISA::ISA}!ISA@{ISA}}
\index{ISA@{ISA}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{ISA}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ISA} ({\bf Params} $\ast$ {\em p})}}
\label{classMipsISA_1_1ISA_ae9132e021b3f3b20c917fc328a056bbd}


\subsection{関数}
\hypertarget{classMipsISA_1_1ISA_ac8bb3912a3ce86b15842e79d0b421204}{
\index{MipsISA::ISA@{MipsISA::ISA}!clear@{clear}}
\index{clear@{clear}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}void clear ()}}
\label{classMipsISA_1_1ISA_ac8bb3912a3ce86b15842e79d0b421204}
\hypertarget{classMipsISA_1_1ISA_ac8bb3912a3ce86b15842e79d0b421204}{
\index{MipsISA::ISA@{MipsISA::ISA}!clear@{clear}}
\index{clear@{clear}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}void clear ()}}
\label{classMipsISA_1_1ISA_ac8bb3912a3ce86b15842e79d0b421204}



\begin{DoxyCode}
152 {
153     for(int i = 0; i < NumMiscRegs; i++) {
154         for (int j = 0; j < miscRegFile[i].size(); j++)
155             miscRegFile[i][j] = 0;
156 
157         for (int k = 0; k < miscRegFile_WriteMask[i].size(); k++)
158             miscRegFile_WriteMask[i][k] = (long unsigned int)(-1);
159     }
160 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_af9cb72b444a0f6c58cb2ca90573144eb}{
\index{MipsISA::ISA@{MipsISA::ISA}!configCP@{configCP}}
\index{configCP@{configCP}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{configCP}]{\setlength{\rightskip}{0pt plus 5cm}void configCP ()}}
\label{classMipsISA_1_1ISA_af9cb72b444a0f6c58cb2ca90573144eb}
\hypertarget{classMipsISA_1_1ISA_af9cb72b444a0f6c58cb2ca90573144eb}{
\index{MipsISA::ISA@{MipsISA::ISA}!configCP@{configCP}}
\index{configCP@{configCP}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{configCP}]{\setlength{\rightskip}{0pt plus 5cm}void configCP ()}}
\label{classMipsISA_1_1ISA_af9cb72b444a0f6c58cb2ca90573144eb}



\begin{DoxyCode}
165 {
166     DPRINTF(MipsPRA, "Resetting CP0 State with %i TCs and %i VPEs\n",
167             numThreads, numVpes);
168 
169     CoreSpecific cp;
170     panic("CP state must be set before the following code is used");
171 
172     // Do Default CP0 initialization HERE
173 
174     // Do Initialization for MT cores here (eventually use
175     // core_name parameter to toggle this initialization)
176     // ===================================================
177     DPRINTF(MipsPRA, "Initializing CP0 State.... ");
178 
179     PRIdReg procId = readMiscRegNoEffect(MISCREG_PRID);
180     procId.coOp = cp.CP0_PRId_CompanyOptions;
181     procId.coId = cp.CP0_PRId_CompanyID;
182     procId.procId = cp.CP0_PRId_ProcessorID;
183     procId.rev = cp.CP0_PRId_Revision;
184     setMiscRegNoEffect(MISCREG_PRID, procId);
185 
186     // Now, create Write Mask for ProcID register
187     MiscReg procIDMask = 0; // Read-Only register
188     replaceBits(procIDMask, 0, 32, 0);
189     setRegMask(MISCREG_PRID, procIDMask);
190 
191     // Config
192     ConfigReg cfg = readMiscRegNoEffect(MISCREG_CONFIG);
193     cfg.be = cp.CP0_Config_BE;
194     cfg.at = cp.CP0_Config_AT;
195     cfg.ar = cp.CP0_Config_AR;
196     cfg.mt = cp.CP0_Config_MT;
197     cfg.vi = cp.CP0_Config_VI;
198     cfg.m = 1;
199     setMiscRegNoEffect(MISCREG_CONFIG, cfg);
200     // Now, create Write Mask for Config register
201     MiscReg cfg_Mask = 0x7FFF0007;
202     replaceBits(cfg_Mask, 0, 32, 0);
203     setRegMask(MISCREG_CONFIG, cfg_Mask);
204 
205     // Config1
206     Config1Reg cfg1 = readMiscRegNoEffect(MISCREG_CONFIG1);
207     cfg1.mmuSize = cp.CP0_Config1_MMU;
208     cfg1.is = cp.CP0_Config1_IS;
209     cfg1.il = cp.CP0_Config1_IL;
210     cfg1.ia = cp.CP0_Config1_IA;
211     cfg1.ds = cp.CP0_Config1_DS;
212     cfg1.dl = cp.CP0_Config1_DL;
213     cfg1.da = cp.CP0_Config1_DA;
214     cfg1.fp = cp.CP0_Config1_FP;
215     cfg1.ep = cp.CP0_Config1_EP;
216     cfg1.wr = cp.CP0_Config1_WR;
217     cfg1.md = cp.CP0_Config1_MD;
218     cfg1.c2 = cp.CP0_Config1_C2;
219     cfg1.pc = cp.CP0_Config1_PC;
220     cfg1.m = cp.CP0_Config1_M;
221     setMiscRegNoEffect(MISCREG_CONFIG1, cfg1);
222     // Now, create Write Mask for Config register
223     MiscReg cfg1_Mask = 0; // Read Only Register
224     replaceBits(cfg1_Mask, 0, 32, 0);
225     setRegMask(MISCREG_CONFIG1, cfg1_Mask);
226 
227     // Config2
228     Config2Reg cfg2 = readMiscRegNoEffect(MISCREG_CONFIG2);
229     cfg2.tu = cp.CP0_Config2_TU;
230     cfg2.ts = cp.CP0_Config2_TS;
231     cfg2.tl = cp.CP0_Config2_TL;
232     cfg2.ta = cp.CP0_Config2_TA;
233     cfg2.su = cp.CP0_Config2_SU;
234     cfg2.ss = cp.CP0_Config2_SS;
235     cfg2.sl = cp.CP0_Config2_SL;
236     cfg2.sa = cp.CP0_Config2_SA;
237     cfg2.m = cp.CP0_Config2_M;
238     setMiscRegNoEffect(MISCREG_CONFIG2, cfg2);
239     // Now, create Write Mask for Config register
240     MiscReg cfg2_Mask = 0x7000F000; // Read Only Register
241     replaceBits(cfg2_Mask, 0, 32, 0);
242     setRegMask(MISCREG_CONFIG2, cfg2_Mask);
243 
244     // Config3
245     Config3Reg cfg3 = readMiscRegNoEffect(MISCREG_CONFIG3);
246     cfg3.dspp = cp.CP0_Config3_DSPP;
247     cfg3.lpa = cp.CP0_Config3_LPA;
248     cfg3.veic = cp.CP0_Config3_VEIC;
249     cfg3.vint = cp.CP0_Config3_VInt;
250     cfg3.sp = cp.CP0_Config3_SP;
251     cfg3.mt = cp.CP0_Config3_MT;
252     cfg3.sm = cp.CP0_Config3_SM;
253     cfg3.tl = cp.CP0_Config3_TL;
254     setMiscRegNoEffect(MISCREG_CONFIG3, cfg3);
255     // Now, create Write Mask for Config register
256     MiscReg cfg3_Mask = 0; // Read Only Register
257     replaceBits(cfg3_Mask, 0, 32, 0);
258     setRegMask(MISCREG_CONFIG3, cfg3_Mask);
259 
260     // EBase - CPUNum
261     EBaseReg eBase = readMiscRegNoEffect(MISCREG_EBASE);
262     eBase.cpuNum = cp.CP0_EBase_CPUNum;
263     replaceBits(eBase, 31, 31, 1);
264     setMiscRegNoEffect(MISCREG_EBASE, eBase);
265     // Now, create Write Mask for Config register
266     MiscReg EB_Mask = 0x3FFFF000;// Except Exception Base, the
267                                  // entire register is read only
268     replaceBits(EB_Mask, 0, 32, 0);
269     setRegMask(MISCREG_EBASE, EB_Mask);
270 
271     // SRS Control - HSS (Highest Shadow Set)
272     SRSCtlReg scsCtl = readMiscRegNoEffect(MISCREG_SRSCTL);
273     scsCtl.hss = cp.CP0_SrsCtl_HSS;
274     setMiscRegNoEffect(MISCREG_SRSCTL, scsCtl);
275     // Now, create Write Mask for the SRS Ctl register
276     MiscReg SC_Mask = 0x0000F3C0;
277     replaceBits(SC_Mask, 0, 32, 0);
278     setRegMask(MISCREG_SRSCTL, SC_Mask);
279 
280     // IntCtl - IPTI, IPPCI
281     IntCtlReg intCtl = readMiscRegNoEffect(MISCREG_INTCTL);
282     intCtl.ipti = cp.CP0_IntCtl_IPTI;
283     intCtl.ippci = cp.CP0_IntCtl_IPPCI;
284     setMiscRegNoEffect(MISCREG_INTCTL, intCtl);
285     // Now, create Write Mask for the IntCtl register
286     MiscReg IC_Mask = 0x000003E0;
287     replaceBits(IC_Mask, 0, 32, 0);
288     setRegMask(MISCREG_INTCTL, IC_Mask);
289 
290     // Watch Hi - M - FIXME (More than 1 Watch register)
291     WatchHiReg watchHi = readMiscRegNoEffect(MISCREG_WATCHHI0);
292     watchHi.m = cp.CP0_WatchHi_M;
293     setMiscRegNoEffect(MISCREG_WATCHHI0, watchHi);
294     // Now, create Write Mask for the IntCtl register
295     MiscReg wh_Mask = 0x7FFF0FFF;
296     replaceBits(wh_Mask, 0, 32, 0);
297     setRegMask(MISCREG_WATCHHI0, wh_Mask);
298 
299     // Perf Ctr - M - FIXME (More than 1 PerfCnt Pair)
300     PerfCntCtlReg perfCntCtl = readMiscRegNoEffect(MISCREG_PERFCNT0);
301     perfCntCtl.m = cp.CP0_PerfCtr_M;
302     perfCntCtl.w = cp.CP0_PerfCtr_W;
303     setMiscRegNoEffect(MISCREG_PERFCNT0, perfCntCtl);
304     // Now, create Write Mask for the IntCtl register
305     MiscReg pc_Mask = 0x00007FF;
306     replaceBits(pc_Mask, 0, 32, 0);
307     setRegMask(MISCREG_PERFCNT0, pc_Mask);
308 
309     // Random
310     setMiscRegNoEffect(MISCREG_CP0_RANDOM, 63);
311     // Now, create Write Mask for the IntCtl register
312     MiscReg random_Mask = 0;
313     replaceBits(random_Mask, 0, 32, 0);
314     setRegMask(MISCREG_CP0_RANDOM, random_Mask);
315 
316     // PageGrain
317     PageGrainReg pageGrain = readMiscRegNoEffect(MISCREG_PAGEGRAIN);
318     pageGrain.esp = cp.CP0_Config3_SP;
319     setMiscRegNoEffect(MISCREG_PAGEGRAIN, pageGrain);
320     // Now, create Write Mask for the IntCtl register
321     MiscReg pg_Mask = 0x10000000;
322     replaceBits(pg_Mask, 0, 32, 0);
323     setRegMask(MISCREG_PAGEGRAIN, pg_Mask);
324 
325     // Status
326     StatusReg status = readMiscRegNoEffect(MISCREG_STATUS);
327     // Only CU0 and IE are modified on a reset - everything else needs
328     // to be controlled on a per CPU model basis
329 
330     // Enable CP0 on reset
331     // status.cu0 = 1;
332 
333     // Enable ERL bit on a reset
334     status.erl = 1;
335     // Enable BEV bit on a reset
336     status.bev = 1;
337 
338     setMiscRegNoEffect(MISCREG_STATUS, status);
339     // Now, create Write Mask for the Status register
340     MiscReg stat_Mask = 0xFF78FF17;
341     replaceBits(stat_Mask, 0, 32, 0);
342     setRegMask(MISCREG_STATUS, stat_Mask);
343 
344 
345     // MVPConf0
346     MVPConf0Reg mvpConf0 = readMiscRegNoEffect(MISCREG_MVP_CONF0);
347     mvpConf0.tca = 1;
348     mvpConf0.pvpe = numVpes - 1;
349     mvpConf0.ptc = numThreads - 1;
350     setMiscRegNoEffect(MISCREG_MVP_CONF0, mvpConf0);
351 
352     // VPEConf0
353     VPEConf0Reg vpeConf0 = readMiscRegNoEffect(MISCREG_VPE_CONF0);
354     vpeConf0.mvp = 1;
355     setMiscRegNoEffect(MISCREG_VPE_CONF0, vpeConf0);
356 
357     // TCBind
358     for (ThreadID tid = 0; tid < numThreads; tid++) {
359         TCBindReg tcBind = readMiscRegNoEffect(MISCREG_TC_BIND, tid);
360         tcBind.curTC = tid;
361         setMiscRegNoEffect(MISCREG_TC_BIND, tcBind, tid);
362     }
363     // TCHalt
364     TCHaltReg tcHalt = readMiscRegNoEffect(MISCREG_TC_HALT);
365     tcHalt.h = 0;
366     setMiscRegNoEffect(MISCREG_TC_HALT, tcHalt);
367 
368     // TCStatus
369     // Set TCStatus Activated to 1 for the initial thread that is running
370     TCStatusReg tcStatus = readMiscRegNoEffect(MISCREG_TC_STATUS);
371     tcStatus.a = 1;
372     setMiscRegNoEffect(MISCREG_TC_STATUS, tcStatus);
373 
374     // Set Dynamically Allocatable bit to 1 for all other threads
375     for (ThreadID tid = 1; tid < numThreads; tid++) {
376         tcStatus = readMiscRegNoEffect(MISCREG_TC_STATUS, tid);
377         tcStatus.da = 1;
378         setMiscRegNoEffect(MISCREG_TC_STATUS, tcStatus, tid);
379     }
380 
381 
382     MiscReg mask = 0x7FFFFFFF;
383 
384     // Now, create Write Mask for the Index register
385     replaceBits(mask, 0, 32, 0);
386     setRegMask(MISCREG_INDEX, mask);
387 
388     mask = 0x3FFFFFFF;
389     replaceBits(mask, 0, 32, 0);
390     setRegMask(MISCREG_ENTRYLO0, mask);
391     setRegMask(MISCREG_ENTRYLO1, mask);
392 
393     mask = 0xFF800000;
394     replaceBits(mask, 0, 32, 0);
395     setRegMask(MISCREG_CONTEXT, mask);
396 
397     mask = 0x1FFFF800;
398     replaceBits(mask, 0, 32, 0);
399     setRegMask(MISCREG_PAGEMASK, mask);
400 
401     mask = 0x0;
402     replaceBits(mask, 0, 32, 0);
403     setRegMask(MISCREG_BADVADDR, mask);
404     setRegMask(MISCREG_LLADDR, mask);
405 
406     mask = 0x08C00300;
407     replaceBits(mask, 0, 32, 0);
408     setRegMask(MISCREG_CAUSE, mask);
409 
410 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_aadf74b7e5f09ecd0cc35aeb0a25b4420}{
\index{MipsISA::ISA@{MipsISA::ISA}!filterCP0Write@{filterCP0Write}}
\index{filterCP0Write@{filterCP0Write}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{filterCP0Write}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MiscReg} filterCP0Write (int {\em misc\_\-reg}, \/  int {\em reg\_\-sel}, \/  const {\bf MiscReg} \& {\em val})}}
\label{classMipsISA_1_1ISA_aadf74b7e5f09ecd0cc35aeb0a25b4420}
\hypertarget{classMipsISA_1_1ISA_aadf74b7e5f09ecd0cc35aeb0a25b4420}{
\index{MipsISA::ISA@{MipsISA::ISA}!filterCP0Write@{filterCP0Write}}
\index{filterCP0Write@{filterCP0Write}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{filterCP0Write}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MiscReg} filterCP0Write (int {\em misc\_\-reg}, \/  int {\em reg\_\-sel}, \/  const {\bf MiscReg} \& {\em val})}}
\label{classMipsISA_1_1ISA_aadf74b7e5f09ecd0cc35aeb0a25b4420}
This method doesn't need to adjust the Control \hyperlink{classRegister}{Register} Offset since it has already been done in the calling method (setRegWithEffect) 


\begin{DoxyCode}
500 {
501     MiscReg retVal = val;
502 
503     // Mask off read-only regions
504     retVal &= miscRegFile_WriteMask[misc_reg][reg_sel];
505     MiscReg curVal = miscRegFile[misc_reg][reg_sel];
506     // Mask off current alue with inverse mask (clear writeable bits)
507     curVal &= (~miscRegFile_WriteMask[misc_reg][reg_sel]);
508     retVal |= curVal; // Combine the two
509     DPRINTF(MipsPRA,
510             "filterCP0Write: Mask: %lx, Inverse Mask: %lx, write Val: %x, "
511             "current val: %lx, written val: %x\n",
512             miscRegFile_WriteMask[misc_reg][reg_sel],
513             ~miscRegFile_WriteMask[misc_reg][reg_sel],
514             val, miscRegFile[misc_reg][reg_sel], retVal);
515     return retVal;
516 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a7a5d7476bd10e5af09e6e753d1fca087}{
\index{MipsISA::ISA@{MipsISA::ISA}!flattenCCIndex@{flattenCCIndex}}
\index{flattenCCIndex@{flattenCCIndex}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{flattenCCIndex}]{\setlength{\rightskip}{0pt plus 5cm}int flattenCCIndex (int {\em reg}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_a7a5d7476bd10e5af09e6e753d1fca087}



\begin{DoxyCode}
184         {
185             return reg;
186         }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a7a5d7476bd10e5af09e6e753d1fca087}{
\index{MipsISA::ISA@{MipsISA::ISA}!flattenCCIndex@{flattenCCIndex}}
\index{flattenCCIndex@{flattenCCIndex}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{flattenCCIndex}]{\setlength{\rightskip}{0pt plus 5cm}int flattenCCIndex (int {\em reg}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_a7a5d7476bd10e5af09e6e753d1fca087}



\begin{DoxyCode}
184         {
185             return reg;
186         }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a85addcd4f57c5a0ffa81805dcad1eeb7}{
\index{MipsISA::ISA@{MipsISA::ISA}!flattenFloatIndex@{flattenFloatIndex}}
\index{flattenFloatIndex@{flattenFloatIndex}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{flattenFloatIndex}]{\setlength{\rightskip}{0pt plus 5cm}int flattenFloatIndex (int {\em reg}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_a85addcd4f57c5a0ffa81805dcad1eeb7}



\begin{DoxyCode}
177         {
178             return reg;
179         }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a85addcd4f57c5a0ffa81805dcad1eeb7}{
\index{MipsISA::ISA@{MipsISA::ISA}!flattenFloatIndex@{flattenFloatIndex}}
\index{flattenFloatIndex@{flattenFloatIndex}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{flattenFloatIndex}]{\setlength{\rightskip}{0pt plus 5cm}int flattenFloatIndex (int {\em reg}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_a85addcd4f57c5a0ffa81805dcad1eeb7}



\begin{DoxyCode}
177         {
178             return reg;
179         }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_aece4b88ffcab608652e8e9f0fbe643d4}{
\index{MipsISA::ISA@{MipsISA::ISA}!flattenIntIndex@{flattenIntIndex}}
\index{flattenIntIndex@{flattenIntIndex}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{flattenIntIndex}]{\setlength{\rightskip}{0pt plus 5cm}int flattenIntIndex (int {\em reg}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_aece4b88ffcab608652e8e9f0fbe643d4}



\begin{DoxyCode}
171         {
172             return reg;
173         }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_aece4b88ffcab608652e8e9f0fbe643d4}{
\index{MipsISA::ISA@{MipsISA::ISA}!flattenIntIndex@{flattenIntIndex}}
\index{flattenIntIndex@{flattenIntIndex}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{flattenIntIndex}]{\setlength{\rightskip}{0pt plus 5cm}int flattenIntIndex (int {\em reg}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_aece4b88ffcab608652e8e9f0fbe643d4}



\begin{DoxyCode}
171         {
172             return reg;
173         }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a8997760aa4425793911f57440a4dd8ae}{
\index{MipsISA::ISA@{MipsISA::ISA}!flattenMiscIndex@{flattenMiscIndex}}
\index{flattenMiscIndex@{flattenMiscIndex}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{flattenMiscIndex}]{\setlength{\rightskip}{0pt plus 5cm}int flattenMiscIndex (int {\em reg}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_a8997760aa4425793911f57440a4dd8ae}



\begin{DoxyCode}
190         {
191             return reg;
192         }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a8997760aa4425793911f57440a4dd8ae}{
\index{MipsISA::ISA@{MipsISA::ISA}!flattenMiscIndex@{flattenMiscIndex}}
\index{flattenMiscIndex@{flattenMiscIndex}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{flattenMiscIndex}]{\setlength{\rightskip}{0pt plus 5cm}int flattenMiscIndex (int {\em reg}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_a8997760aa4425793911f57440a4dd8ae}



\begin{DoxyCode}
190         {
191             return reg;
192         }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_ac14017b7c7cddd04d2e028cde54f6165}{
\index{MipsISA::ISA@{MipsISA::ISA}!getVPENum@{getVPENum}}
\index{getVPENum@{getVPENum}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{getVPENum}]{\setlength{\rightskip}{0pt plus 5cm}unsigned getVPENum ({\bf ThreadID} {\em tid})}}
\label{classMipsISA_1_1ISA_ac14017b7c7cddd04d2e028cde54f6165}
\hypertarget{classMipsISA_1_1ISA_ac14017b7c7cddd04d2e028cde54f6165}{
\index{MipsISA::ISA@{MipsISA::ISA}!getVPENum@{getVPENum}}
\index{getVPENum@{getVPENum}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{getVPENum}]{\setlength{\rightskip}{0pt plus 5cm}unsigned getVPENum ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_ac14017b7c7cddd04d2e028cde54f6165}



\begin{DoxyCode}
414 {
415     TCBindReg tcBind = miscRegFile[MISCREG_TC_BIND][tid];
416     return tcBind.curVPE;
417 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_acd3c3feb78ae7a8f88fe0f110a718dff}{
\index{MipsISA::ISA@{MipsISA::ISA}!params@{params}}
\index{params@{params}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{params}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Params}$\ast$ params () const}}
\label{classMipsISA_1_1ISA_acd3c3feb78ae7a8f88fe0f110a718dff}
\hypertarget{classMipsISA_1_1ISA_a79943ccd051cbee11887e08c12997892}{
\index{MipsISA::ISA@{MipsISA::ISA}!params@{params}}
\index{params@{params}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{params}]{\setlength{\rightskip}{0pt plus 5cm}const MipsISAParams $\ast$ params () const}}
\label{classMipsISA_1_1ISA_a79943ccd051cbee11887e08c12997892}



\begin{DoxyCode}
146 {
147     return dynamic_cast<const Params *>(_params);
148 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a81ac5a0c0d9b625997d7737f911743b1}{
\index{MipsISA::ISA@{MipsISA::ISA}!readMiscReg@{readMiscReg}}
\index{readMiscReg@{readMiscReg}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{readMiscReg}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MiscReg} readMiscReg (int {\em misc\_\-reg}, \/  {\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf ThreadID} {\em tid} = {\ttfamily 0})}}
\label{classMipsISA_1_1ISA_a81ac5a0c0d9b625997d7737f911743b1}
\hypertarget{classMipsISA_1_1ISA_a81ac5a0c0d9b625997d7737f911743b1}{
\index{MipsISA::ISA@{MipsISA::ISA}!readMiscReg@{readMiscReg}}
\index{readMiscReg@{readMiscReg}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{readMiscReg}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MiscReg} readMiscReg (int {\em misc\_\-reg}, \/  {\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf ThreadID} {\em tid} = {\ttfamily 0})}}
\label{classMipsISA_1_1ISA_a81ac5a0c0d9b625997d7737f911743b1}



\begin{DoxyCode}
435 {
436     unsigned reg_sel = (bankType[misc_reg] == perThreadContext)
437         ? tid : getVPENum(tid);
438     DPRINTF(MipsPRA,
439             "Reading CP0 Register:%u Select:%u (%s) with effect (%lx).\n",
440             misc_reg / 8, misc_reg % 8, miscRegNames[misc_reg],
441             miscRegFile[misc_reg][reg_sel]);
442 
443     return miscRegFile[misc_reg][reg_sel];
444 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_af2ec8925148a53b9bddefb7fb65a7223}{
\index{MipsISA::ISA@{MipsISA::ISA}!readMiscRegNoEffect@{readMiscRegNoEffect}}
\index{readMiscRegNoEffect@{readMiscRegNoEffect}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{readMiscRegNoEffect}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MiscReg} readMiscRegNoEffect (int {\em misc\_\-reg}, \/  {\bf ThreadID} {\em tid} = {\ttfamily 0})}}
\label{classMipsISA_1_1ISA_af2ec8925148a53b9bddefb7fb65a7223}
\hypertarget{classMipsISA_1_1ISA_af2ec8925148a53b9bddefb7fb65a7223}{
\index{MipsISA::ISA@{MipsISA::ISA}!readMiscRegNoEffect@{readMiscRegNoEffect}}
\index{readMiscRegNoEffect@{readMiscRegNoEffect}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{readMiscRegNoEffect}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MiscReg} readMiscRegNoEffect (int {\em misc\_\-reg}, \/  {\bf ThreadID} {\em tid} = {\ttfamily 0})}}
\label{classMipsISA_1_1ISA_af2ec8925148a53b9bddefb7fb65a7223}



\begin{DoxyCode}
421 {
422     unsigned reg_sel = (bankType[misc_reg] == perThreadContext)
423         ? tid : getVPENum(tid);
424     DPRINTF(MipsPRA, "Reading CP0 Register:%u Select:%u (%s) (%lx).\n",
425             misc_reg / 8, misc_reg % 8, miscRegNames[misc_reg],
426             miscRegFile[misc_reg][reg_sel]);
427     return miscRegFile[misc_reg][reg_sel];
428 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a85221cc4f7fe8618574a72b6410318f4}{
\index{MipsISA::ISA@{MipsISA::ISA}!scheduleCP0Update@{scheduleCP0Update}}
\index{scheduleCP0Update@{scheduleCP0Update}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{scheduleCP0Update}]{\setlength{\rightskip}{0pt plus 5cm}void scheduleCP0Update ({\bf BaseCPU} $\ast$ {\em cpu}, \/  {\bf Cycles} {\em delay} = {\ttfamily {\bf Cycles}(0)})}}
\label{classMipsISA_1_1ISA_a85221cc4f7fe8618574a72b6410318f4}
\hypertarget{classMipsISA_1_1ISA_a85221cc4f7fe8618574a72b6410318f4}{
\index{MipsISA::ISA@{MipsISA::ISA}!scheduleCP0Update@{scheduleCP0Update}}
\index{scheduleCP0Update@{scheduleCP0Update}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{scheduleCP0Update}]{\setlength{\rightskip}{0pt plus 5cm}void scheduleCP0Update ({\bf BaseCPU} $\ast$ {\em cpu}, \/  {\bf Cycles} {\em delay} = {\ttfamily {\bf Cycles}(0)})}}
\label{classMipsISA_1_1ISA_a85221cc4f7fe8618574a72b6410318f4}



\begin{DoxyCode}
520 {
521     if (!cp0Updated) {
522         cp0Updated = true;
523 
524         //schedule UPDATE
525         CP0Event *cp0_event = new CP0Event(this, cpu, UpdateCP0);
526         cpu->schedule(cp0_event, cpu->clockEdge(delay));
527     }
528 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_ab85b054f14d72781b7f540270867e2df}{
\index{MipsISA::ISA@{MipsISA::ISA}!setMiscReg@{setMiscReg}}
\index{setMiscReg@{setMiscReg}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{setMiscReg}]{\setlength{\rightskip}{0pt plus 5cm}void setMiscReg (int {\em misc\_\-reg}, \/  const {\bf MiscReg} \& {\em val}, \/  {\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf ThreadID} {\em tid} = {\ttfamily 0})}}
\label{classMipsISA_1_1ISA_ab85b054f14d72781b7f540270867e2df}
\hypertarget{classMipsISA_1_1ISA_ab85b054f14d72781b7f540270867e2df}{
\index{MipsISA::ISA@{MipsISA::ISA}!setMiscReg@{setMiscReg}}
\index{setMiscReg@{setMiscReg}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{setMiscReg}]{\setlength{\rightskip}{0pt plus 5cm}void setMiscReg (int {\em misc\_\-reg}, \/  const {\bf MiscReg} \& {\em val}, \/  {\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf ThreadID} {\em tid} = {\ttfamily 0})}}
\label{classMipsISA_1_1ISA_ab85b054f14d72781b7f540270867e2df}



\begin{DoxyCode}
477 {
478     int reg_sel = (bankType[misc_reg] == perThreadContext)
479         ? tid : getVPENum(tid);
480 
481     DPRINTF(MipsPRA,
482             "[tid:%i]: Setting CP0 Register:%u "
483             "Select:%u (%s) to %#x, with effect.\n",
484             tid, misc_reg / 8, misc_reg % 8, miscRegNames[misc_reg], val);
485 
486     MiscReg cp0_val = filterCP0Write(misc_reg, reg_sel, val);
487 
488     miscRegFile[misc_reg][reg_sel] = cp0_val;
489 
490     scheduleCP0Update(tc->getCpuPtr(), Cycles(1));
491 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_ab8dd4afdd4e652ca191b235505691f68}{
\index{MipsISA::ISA@{MipsISA::ISA}!setMiscRegNoEffect@{setMiscRegNoEffect}}
\index{setMiscRegNoEffect@{setMiscRegNoEffect}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{setMiscRegNoEffect}]{\setlength{\rightskip}{0pt plus 5cm}void setMiscRegNoEffect (int {\em misc\_\-reg}, \/  const {\bf MiscReg} \& {\em val}, \/  {\bf ThreadID} {\em tid} = {\ttfamily 0})}}
\label{classMipsISA_1_1ISA_ab8dd4afdd4e652ca191b235505691f68}
\hypertarget{classMipsISA_1_1ISA_ab8dd4afdd4e652ca191b235505691f68}{
\index{MipsISA::ISA@{MipsISA::ISA}!setMiscRegNoEffect@{setMiscRegNoEffect}}
\index{setMiscRegNoEffect@{setMiscRegNoEffect}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{setMiscRegNoEffect}]{\setlength{\rightskip}{0pt plus 5cm}void setMiscRegNoEffect (int {\em misc\_\-reg}, \/  const {\bf MiscReg} \& {\em val}, \/  {\bf ThreadID} {\em tid} = {\ttfamily 0})}}
\label{classMipsISA_1_1ISA_ab8dd4afdd4e652ca191b235505691f68}



\begin{DoxyCode}
448 {
449     unsigned reg_sel = (bankType[misc_reg] == perThreadContext)
450         ? tid : getVPENum(tid);
451     DPRINTF(MipsPRA,
452             "[tid:%i]: Setting (direct set) CP0 Register:%u "
453             "Select:%u (%s) to %#x.\n",
454             tid, misc_reg / 8, misc_reg % 8, miscRegNames[misc_reg], val);
455 
456     miscRegFile[misc_reg][reg_sel] = val;
457 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a01507af6f09e43b4f9ece624fdafb1cc}{
\index{MipsISA::ISA@{MipsISA::ISA}!setRegMask@{setRegMask}}
\index{setRegMask@{setRegMask}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{setRegMask}]{\setlength{\rightskip}{0pt plus 5cm}void setRegMask (int {\em misc\_\-reg}, \/  const {\bf MiscReg} \& {\em val}, \/  {\bf ThreadID} {\em tid} = {\ttfamily 0})}}
\label{classMipsISA_1_1ISA_a01507af6f09e43b4f9ece624fdafb1cc}
\hypertarget{classMipsISA_1_1ISA_a01507af6f09e43b4f9ece624fdafb1cc}{
\index{MipsISA::ISA@{MipsISA::ISA}!setRegMask@{setRegMask}}
\index{setRegMask@{setRegMask}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{setRegMask}]{\setlength{\rightskip}{0pt plus 5cm}void setRegMask (int {\em misc\_\-reg}, \/  const {\bf MiscReg} \& {\em val}, \/  {\bf ThreadID} {\em tid} = {\ttfamily 0})}}
\label{classMipsISA_1_1ISA_a01507af6f09e43b4f9ece624fdafb1cc}



\begin{DoxyCode}
461 {
462     unsigned reg_sel = (bankType[misc_reg] == perThreadContext)
463         ? tid : getVPENum(tid);
464     DPRINTF(MipsPRA,
465             "[tid:%i]: Setting CP0 Register: %u Select: %u (%s) to %#x\n",
466             tid, misc_reg / 8, misc_reg % 8, miscRegNames[misc_reg], val);
467     miscRegFile_WriteMask[misc_reg][reg_sel] = val;
468 }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a769e733729615c529fdb54f538f11dba}{
\index{MipsISA::ISA@{MipsISA::ISA}!startup@{startup}}
\index{startup@{startup}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{startup}]{\setlength{\rightskip}{0pt plus 5cm}void startup ({\bf ThreadContext} $\ast$ {\em tc})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_a769e733729615c529fdb54f538f11dba}



\begin{DoxyCode}
160 {}
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a769e733729615c529fdb54f538f11dba}{
\index{MipsISA::ISA@{MipsISA::ISA}!startup@{startup}}
\index{startup@{startup}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{startup}]{\setlength{\rightskip}{0pt plus 5cm}void startup ({\bf ThreadContext} $\ast$ {\em tc})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_a769e733729615c529fdb54f538f11dba}



\begin{DoxyCode}
160 {}
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_ab5936dc40fc4dbeac3066d5d7cffeb11}{
\index{MipsISA::ISA@{MipsISA::ISA}!updateCP0ReadView@{updateCP0ReadView}}
\index{updateCP0ReadView@{updateCP0ReadView}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{updateCP0ReadView}]{\setlength{\rightskip}{0pt plus 5cm}void updateCP0ReadView (int {\em misc\_\-reg}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_ab5936dc40fc4dbeac3066d5d7cffeb11}



\begin{DoxyCode}
90 { }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_ab5936dc40fc4dbeac3066d5d7cffeb11}{
\index{MipsISA::ISA@{MipsISA::ISA}!updateCP0ReadView@{updateCP0ReadView}}
\index{updateCP0ReadView@{updateCP0ReadView}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{updateCP0ReadView}]{\setlength{\rightskip}{0pt plus 5cm}void updateCP0ReadView (int {\em misc\_\-reg}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMipsISA_1_1ISA_ab5936dc40fc4dbeac3066d5d7cffeb11}



\begin{DoxyCode}
90 { }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1ISA_a872038d84b4cde793f5f2f7b75df3293}{
\index{MipsISA::ISA@{MipsISA::ISA}!updateCPU@{updateCPU}}
\index{updateCPU@{updateCPU}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{updateCPU}]{\setlength{\rightskip}{0pt plus 5cm}void updateCPU ({\bf BaseCPU} $\ast$ {\em cpu})}}
\label{classMipsISA_1_1ISA_a872038d84b4cde793f5f2f7b75df3293}
\hypertarget{classMipsISA_1_1ISA_a872038d84b4cde793f5f2f7b75df3293}{
\index{MipsISA::ISA@{MipsISA::ISA}!updateCPU@{updateCPU}}
\index{updateCPU@{updateCPU}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{updateCPU}]{\setlength{\rightskip}{0pt plus 5cm}void updateCPU ({\bf BaseCPU} $\ast$ {\em cpu})}}
\label{classMipsISA_1_1ISA_a872038d84b4cde793f5f2f7b75df3293}



\begin{DoxyCode}
532 {
534     //
535     // EVALUATE CP0 STATE FOR MIPS MT
536     //
538     MVPConf0Reg mvpConf0 = readMiscRegNoEffect(MISCREG_MVP_CONF0);
539     ThreadID num_threads = mvpConf0.ptc + 1;
540 
541     for (ThreadID tid = 0; tid < num_threads; tid++) {
542         TCStatusReg tcStatus = readMiscRegNoEffect(MISCREG_TC_STATUS, tid);
543         TCHaltReg tcHalt = readMiscRegNoEffect(MISCREG_TC_HALT, tid);
544 
545         //@todo: add vpe/mt check here thru mvpcontrol & vpecontrol regs
546         if (tcHalt.h == 1 || tcStatus.a == 0)  {
547             haltThread(cpu->getContext(tid));
548         } else if (tcHalt.h == 0 && tcStatus.a == 1) {
549             restoreThread(cpu->getContext(tid));
550         }
551     }
552 
553     num_threads = mvpConf0.ptc + 1;
554 
555     // Toggle update flag after we finished updating
556     cp0Updated = false;
557 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classMipsISA_1_1ISA_adf99e34b7a92591520cf8908417e9154}{
\index{MipsISA::ISA@{MipsISA::ISA}!bankType@{bankType}}
\index{bankType@{bankType}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{bankType}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<$ {\bf BankType} $>$ {\bf bankType}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMipsISA_1_1ISA_adf99e34b7a92591520cf8908417e9154}
\hypertarget{classMipsISA_1_1ISA_a8adab10ee83d624a89033e9d1979662e}{
\index{MipsISA::ISA@{MipsISA::ISA}!cp0EventRemoveList@{cp0EventRemoveList}}
\index{cp0EventRemoveList@{cp0EventRemoveList}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{cp0EventRemoveList}]{\setlength{\rightskip}{0pt plus 5cm}std::queue$<$ {\bf CP0Event} $\ast$ $>$ {\bf cp0EventRemoveList}}}
\label{classMipsISA_1_1ISA_a8adab10ee83d624a89033e9d1979662e}
\hypertarget{classMipsISA_1_1ISA_a92cda46eabfff2a3514c1c2721e25990}{
\index{MipsISA::ISA@{MipsISA::ISA}!cp0Updated@{cp0Updated}}
\index{cp0Updated@{cp0Updated}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{cp0Updated}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf cp0Updated}}}
\label{classMipsISA_1_1ISA_a92cda46eabfff2a3514c1c2721e25990}
\hypertarget{classMipsISA_1_1ISA_a02abb0f7fcd403c7ec4810a93f77ec60}{
\index{MipsISA::ISA@{MipsISA::ISA}!miscRegFile@{miscRegFile}}
\index{miscRegFile@{miscRegFile}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{miscRegFile}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<$ {\bf std::vector}$<$ {\bf MiscReg} $>$ $>$ {\bf miscRegFile}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMipsISA_1_1ISA_a02abb0f7fcd403c7ec4810a93f77ec60}
\hypertarget{classMipsISA_1_1ISA_a53b478f356b8709271f5f00b99473458}{
\index{MipsISA::ISA@{MipsISA::ISA}!miscRegFile\_\-WriteMask@{miscRegFile\_\-WriteMask}}
\index{miscRegFile\_\-WriteMask@{miscRegFile\_\-WriteMask}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{miscRegFile\_\-WriteMask}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<$ {\bf std::vector}$<$ {\bf MiscReg} $>$ $>$ {\bf miscRegFile\_\-WriteMask}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMipsISA_1_1ISA_a53b478f356b8709271f5f00b99473458}
\hypertarget{classMipsISA_1_1ISA_a9cdc253c8b6e87a237586ded36ac309f}{
\index{MipsISA::ISA@{MipsISA::ISA}!miscRegNames@{miscRegNames}}
\index{miscRegNames@{miscRegNames}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{miscRegNames}]{\setlength{\rightskip}{0pt plus 5cm}static std::string {\bf miscRegNames}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classMipsISA_1_1ISA_a9cdc253c8b6e87a237586ded36ac309f}
\hypertarget{classMipsISA_1_1ISA_aa972a4ac745d8349cf6f90462dfc5433}{
\index{MipsISA::ISA@{MipsISA::ISA}!numThreads@{numThreads}}
\index{numThreads@{numThreads}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{numThreads}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t {\bf numThreads}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMipsISA_1_1ISA_aa972a4ac745d8349cf6f90462dfc5433}
\hypertarget{classMipsISA_1_1ISA_a4ee800a76f0f2c6b285bf0881a4b6c1a}{
\index{MipsISA::ISA@{MipsISA::ISA}!numVpes@{numVpes}}
\index{numVpes@{numVpes}!MipsISA::ISA@{MipsISA::ISA}}
\subsubsection[{numVpes}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t {\bf numVpes}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMipsISA_1_1ISA_a4ee800a76f0f2c6b285bf0881a4b6c1a}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
arch/mips/\hyperlink{mips_2isa_8hh}{isa.hh}\item 
arch/miqs/\hyperlink{miqs_2isa_8hh}{isa.hh}\item 
arch/mips/\hyperlink{mips_2isa_8cc}{isa.cc}\item 
arch/miqs/\hyperlink{miqs_2isa_8cc}{isa.cc}\end{DoxyCompactItemize}
