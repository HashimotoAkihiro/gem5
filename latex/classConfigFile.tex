\hypertarget{classConfigFile}{
\section{クラス ConfigFile}
\label{classConfigFile}\index{ConfigFile@{ConfigFile}}
}


{\ttfamily \#include $<$ConfigFile.hh$>$}\subsection*{構成}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structConfigFile_1_1file__not__found}{file\_\-not\_\-found}
\item 
struct \hyperlink{structConfigFile_1_1key__not__found}{key\_\-not\_\-found}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classConfigFile_a161016a864f1f19d99b839dddf863c3f}{ConfigFile} (string filename, string delimiter=\char`\"{}=\char`\"{}, string comment=\char`\"{}\#\char`\"{}, string sentry=\char`\"{}EndConfigFile\char`\"{})
\item 
\hyperlink{classConfigFile_ad4ed3e0910ee375843bd52dea576f857}{ConfigFile} ()
\item 
{\footnotesize template$<$class T $>$ }\\T \hyperlink{classConfigFile_a86e0a00c9c37c874780c96de72b10dbe}{read} (const string \&key) const 
\item 
{\footnotesize template$<$class T $>$ }\\T \hyperlink{classConfigFile_a1cb8eb61d921281aec93e521322ccb21}{read} (const string \&key, const T \&value) const 
\item 
{\footnotesize template$<$class T $>$ }\\bool \hyperlink{classConfigFile_ab78f330f4639ddc70bfcff5f84e24dbd}{readInto} (T \&var, const string \&key) const 
\item 
{\footnotesize template$<$class T $>$ }\\bool \hyperlink{classConfigFile_a327741b7d63a05fb0d72b7a1b327f1a7}{readInto} (T \&var, const string \&key, const T \&value) const 
\item 
{\footnotesize template$<$class T $>$ }\\void \hyperlink{classConfigFile_ae5572f6ea39c55a1dd89ce5d010171b3}{add} (string key, const T \&value)
\item 
void \hyperlink{classConfigFile_ab700f16011dd07b6f97e8742209a177d}{remove} (const string \&key)
\item 
bool \hyperlink{classConfigFile_a375a61510313ca09287a55d05e1db4a9}{keyExists} (const string \&key) const 
\item 
string \hyperlink{classConfigFile_a444984d73515fa482ed20213fd9e650e}{getDelimiter} () const 
\item 
string \hyperlink{classConfigFile_a38c1221545e57988ae11c60f695eff07}{getComment} () const 
\item 
string \hyperlink{classConfigFile_ab17a5e6d4c88fa106b1710af1cd3a2c2}{getSentry} () const 
\item 
string \hyperlink{classConfigFile_a3b1fedd0dc8fe87a03fb4f09ad6c93ae}{setDelimiter} (const string \&s)
\item 
string \hyperlink{classConfigFile_acd6365b5496ff99970ccde0c800202ef}{setComment} (const string \&s)
\end{DoxyCompactItemize}
\subsection*{Protected 型}
\begin{DoxyCompactItemize}
\item 
typedef std::map$<$ string, string $>$::iterator \hyperlink{classConfigFile_a6eae9b2b09d40f1620dfaa1430405113}{mapi}
\item 
typedef std::map$<$ string, string $>$::const\_\-iterator \hyperlink{classConfigFile_a09401403dcfe6bf8cb142b5abe7d9b04}{mapci}
\end{DoxyCompactItemize}
\subsection*{Static Protected メソッド}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$class T $>$ }\\static string \hyperlink{classConfigFile_a149d917011dbfb103a47c5a7cf3a446f}{T\_\-as\_\-string} (const T \&t)
\item 
{\footnotesize template$<$class T $>$ }\\static T \hyperlink{classConfigFile_a6bfbf02be3870556c253a58b9e3b0700}{string\_\-as\_\-T} (const string \&s)
\item 
static void \hyperlink{classConfigFile_a8bddc3dcbfa8ff455abebaf144a1f5cf}{trim} (string \&s)
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
string \hyperlink{classConfigFile_acfa392eb20e5a977f077a3e96bad6bf7}{myDelimiter}
\item 
string \hyperlink{classConfigFile_a1112d00b3f3aa676ca93e148a6f3792f}{myComment}
\item 
string \hyperlink{classConfigFile_a1f5ee3be5d9f07feb3d1dc9a2f22ccfa}{mySentry}
\item 
std::map$<$ string, string $>$ \hyperlink{classConfigFile_a3ab1162ad6495f6102af2082df0bfa3b}{myContents}
\end{DoxyCompactItemize}
\subsection*{フレンド}
\begin{DoxyCompactItemize}
\item 
std::ostream \& \hyperlink{classConfigFile_a8ccacbc37db1992a5515e2c72fc83ce6}{operator$<$$<$} (std::ostream \&os, const \hyperlink{classConfigFile}{ConfigFile} \&cf)
\item 
std::istream \& \hyperlink{classConfigFile_a25042475439039e70f90febe7d0e63ec}{operator$>$$>$} (std::istream \&is, \hyperlink{classConfigFile}{ConfigFile} \&cf)
\end{DoxyCompactItemize}


\subsection{型定義}
\hypertarget{classConfigFile_a09401403dcfe6bf8cb142b5abe7d9b04}{
\index{ConfigFile@{ConfigFile}!mapci@{mapci}}
\index{mapci@{mapci}!ConfigFile@{ConfigFile}}
\subsubsection[{mapci}]{\setlength{\rightskip}{0pt plus 5cm}typedef std::map$<$string,string$>$::const\_\-iterator {\bf mapci}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classConfigFile_a09401403dcfe6bf8cb142b5abe7d9b04}
\hypertarget{classConfigFile_a6eae9b2b09d40f1620dfaa1430405113}{
\index{ConfigFile@{ConfigFile}!mapi@{mapi}}
\index{mapi@{mapi}!ConfigFile@{ConfigFile}}
\subsubsection[{mapi}]{\setlength{\rightskip}{0pt plus 5cm}typedef std::map$<$string,string$>$::iterator {\bf mapi}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classConfigFile_a6eae9b2b09d40f1620dfaa1430405113}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classConfigFile_a161016a864f1f19d99b839dddf863c3f}{
\index{ConfigFile@{ConfigFile}!ConfigFile@{ConfigFile}}
\index{ConfigFile@{ConfigFile}!ConfigFile@{ConfigFile}}
\subsubsection[{ConfigFile}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ConfigFile} (string {\em filename}, \/  string {\em delimiter} = {\ttfamily \char`\"{}=\char`\"{}}, \/  string {\em comment} = {\ttfamily \char`\"{}\#\char`\"{}}, \/  string {\em sentry} = {\ttfamily \char`\"{}EndConfigFile\char`\"{}})}}
\label{classConfigFile_a161016a864f1f19d99b839dddf863c3f}



\begin{DoxyCode}
37         : myDelimiter(delimiter), myComment(comment), mySentry(sentry)
38 {
39     // Construct a ConfigFile, getting keys and values from given file
40 
41     std::ifstream in( filename.c_str() );
42 
43     if( !in ) throw file_not_found( filename ); 
44 
45     in >> (*this);
46 }
\end{DoxyCode}
\hypertarget{classConfigFile_ad4ed3e0910ee375843bd52dea576f857}{
\index{ConfigFile@{ConfigFile}!ConfigFile@{ConfigFile}}
\index{ConfigFile@{ConfigFile}!ConfigFile@{ConfigFile}}
\subsubsection[{ConfigFile}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ConfigFile} ()}}
\label{classConfigFile_ad4ed3e0910ee375843bd52dea576f857}



\begin{DoxyCode}
50     : myDelimiter( string(1,'=') ), myComment( string(1,'#') )
51 {
52     // Construct a ConfigFile without a file; empty
53 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classConfigFile_ae5572f6ea39c55a1dd89ce5d010171b3}{
\index{ConfigFile@{ConfigFile}!add@{add}}
\index{add@{add}!ConfigFile@{ConfigFile}}
\subsubsection[{add}]{\setlength{\rightskip}{0pt plus 5cm}void add (string {\em key}, \/  const T \& {\em value})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConfigFile_ae5572f6ea39c55a1dd89ce5d010171b3}



\begin{DoxyCode}
224 {
225         // Add a key with given value
226         string v = T_as_string( value );
227         trim(key);
228         trim(v);
229         myContents[key] = v;
230         return;
231 }
\end{DoxyCode}
\hypertarget{classConfigFile_a38c1221545e57988ae11c60f695eff07}{
\index{ConfigFile@{ConfigFile}!getComment@{getComment}}
\index{getComment@{getComment}!ConfigFile@{ConfigFile}}
\subsubsection[{getComment}]{\setlength{\rightskip}{0pt plus 5cm}string getComment () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConfigFile_a38c1221545e57988ae11c60f695eff07}



\begin{DoxyCode}
88 { return myComment; }
\end{DoxyCode}
\hypertarget{classConfigFile_a444984d73515fa482ed20213fd9e650e}{
\index{ConfigFile@{ConfigFile}!getDelimiter@{getDelimiter}}
\index{getDelimiter@{getDelimiter}!ConfigFile@{ConfigFile}}
\subsubsection[{getDelimiter}]{\setlength{\rightskip}{0pt plus 5cm}string getDelimiter () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConfigFile_a444984d73515fa482ed20213fd9e650e}



\begin{DoxyCode}
87 { return myDelimiter; }
\end{DoxyCode}
\hypertarget{classConfigFile_ab17a5e6d4c88fa106b1710af1cd3a2c2}{
\index{ConfigFile@{ConfigFile}!getSentry@{getSentry}}
\index{getSentry@{getSentry}!ConfigFile@{ConfigFile}}
\subsubsection[{getSentry}]{\setlength{\rightskip}{0pt plus 5cm}string getSentry () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConfigFile_ab17a5e6d4c88fa106b1710af1cd3a2c2}



\begin{DoxyCode}
89 { return mySentry; }
\end{DoxyCode}
\hypertarget{classConfigFile_a375a61510313ca09287a55d05e1db4a9}{
\index{ConfigFile@{ConfigFile}!keyExists@{keyExists}}
\index{keyExists@{keyExists}!ConfigFile@{ConfigFile}}
\subsubsection[{keyExists}]{\setlength{\rightskip}{0pt plus 5cm}bool keyExists (const string \& {\em key}) const}}
\label{classConfigFile_a375a61510313ca09287a55d05e1db4a9}



\begin{DoxyCode}
65 {
66     // Indicate whether key is found
67     mapci p = myContents.find( key );
68     return ( p != myContents.end() );
69 }
\end{DoxyCode}
\hypertarget{classConfigFile_a1cb8eb61d921281aec93e521322ccb21}{
\index{ConfigFile@{ConfigFile}!read@{read}}
\index{read@{read}!ConfigFile@{ConfigFile}}
\subsubsection[{read}]{\setlength{\rightskip}{0pt plus 5cm}T read (const string \& {\em key}, \/  const T \& {\em value}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConfigFile_a1cb8eb61d921281aec93e521322ccb21}



\begin{DoxyCode}
184 {
185         // Return the value corresponding to key or given default value
186         // if key is not found
187         mapci p = myContents.find(key);
188         if( p == myContents.end() ) return value;
189         return string_as_T<T>( p->second );
190 }
\end{DoxyCode}
\hypertarget{classConfigFile_a86e0a00c9c37c874780c96de72b10dbe}{
\index{ConfigFile@{ConfigFile}!read@{read}}
\index{read@{read}!ConfigFile@{ConfigFile}}
\subsubsection[{read}]{\setlength{\rightskip}{0pt plus 5cm}T read (const string \& {\em key}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConfigFile_a86e0a00c9c37c874780c96de72b10dbe}



\begin{DoxyCode}
174 {
175         // Read the value corresponding to key
176         mapci p = myContents.find(key);
177         if( p == myContents.end() ) throw key_not_found(key);
178         return string_as_T<T>( p->second );
179 }
\end{DoxyCode}
\hypertarget{classConfigFile_a327741b7d63a05fb0d72b7a1b327f1a7}{
\index{ConfigFile@{ConfigFile}!readInto@{readInto}}
\index{readInto@{readInto}!ConfigFile@{ConfigFile}}
\subsubsection[{readInto}]{\setlength{\rightskip}{0pt plus 5cm}bool readInto (T \& {\em var}, \/  const string \& {\em key}, \/  const T \& {\em value}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConfigFile_a327741b7d63a05fb0d72b7a1b327f1a7}



\begin{DoxyCode}
208 {
209         // Get the value corresponding to key and store in var
210         // Return true if key is found
211         // Otherwise set var to given default
212         mapci p = myContents.find(key);
213         bool found = ( p != myContents.end() );
214         if( found )
215                 var = string_as_T<T>( p->second );
216         else
217                 var = value;
218         return found;
219 }
\end{DoxyCode}
\hypertarget{classConfigFile_ab78f330f4639ddc70bfcff5f84e24dbd}{
\index{ConfigFile@{ConfigFile}!readInto@{readInto}}
\index{readInto@{readInto}!ConfigFile@{ConfigFile}}
\subsubsection[{readInto}]{\setlength{\rightskip}{0pt plus 5cm}bool readInto (T \& {\em var}, \/  const string \& {\em key}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConfigFile_ab78f330f4639ddc70bfcff5f84e24dbd}



\begin{DoxyCode}
195 {
196         // Get the value corresponding to key and store in var
197         // Return true if key is found
198         // Otherwise leave var untouched
199         mapci p = myContents.find(key);
200         bool found = ( p != myContents.end() );
201         if( found ) var = string_as_T<T>( p->second );
202         return found;
203 }
\end{DoxyCode}
\hypertarget{classConfigFile_ab700f16011dd07b6f97e8742209a177d}{
\index{ConfigFile@{ConfigFile}!remove@{remove}}
\index{remove@{remove}!ConfigFile@{ConfigFile}}
\subsubsection[{remove}]{\setlength{\rightskip}{0pt plus 5cm}void remove (const string \& {\em key})}}
\label{classConfigFile_ab700f16011dd07b6f97e8742209a177d}



\begin{DoxyCode}
57 {
58     // Remove key and its value
59     myContents.erase( myContents.find( key ) );
60     return;
61 }
\end{DoxyCode}
\hypertarget{classConfigFile_acd6365b5496ff99970ccde0c800202ef}{
\index{ConfigFile@{ConfigFile}!setComment@{setComment}}
\index{setComment@{setComment}!ConfigFile@{ConfigFile}}
\subsubsection[{setComment}]{\setlength{\rightskip}{0pt plus 5cm}string setComment (const string \& {\em s})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConfigFile_acd6365b5496ff99970ccde0c800202ef}



\begin{DoxyCode}
93                 { string old = myComment;  myComment = s;  return old; }
\end{DoxyCode}
\hypertarget{classConfigFile_a3b1fedd0dc8fe87a03fb4f09ad6c93ae}{
\index{ConfigFile@{ConfigFile}!setDelimiter@{setDelimiter}}
\index{setDelimiter@{setDelimiter}!ConfigFile@{ConfigFile}}
\subsubsection[{setDelimiter}]{\setlength{\rightskip}{0pt plus 5cm}string setDelimiter (const string \& {\em s})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classConfigFile_a3b1fedd0dc8fe87a03fb4f09ad6c93ae}



\begin{DoxyCode}
91                 { string old = myDelimiter;  myDelimiter = s;  return old; }  
\end{DoxyCode}
\hypertarget{classConfigFile_a6bfbf02be3870556c253a58b9e3b0700}{
\index{ConfigFile@{ConfigFile}!string\_\-as\_\-T@{string\_\-as\_\-T}}
\index{string\_\-as\_\-T@{string\_\-as\_\-T}!ConfigFile@{ConfigFile}}
\subsubsection[{string\_\-as\_\-T}]{\setlength{\rightskip}{0pt plus 5cm}bool string\_\-as\_\-T$<$ bool $>$ (const string \& {\em s})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, static, protected\mbox{]}}}}
\label{classConfigFile_a6bfbf02be3870556c253a58b9e3b0700}



\begin{DoxyCode}
133 {
134         // Convert from a string to a T
135         // Type T must support >> operator
136         T t;
137         std::istringstream ist(s);
138         ist >> t;
139         return t;
140 }
\end{DoxyCode}
\hypertarget{classConfigFile_a149d917011dbfb103a47c5a7cf3a446f}{
\index{ConfigFile@{ConfigFile}!T\_\-as\_\-string@{T\_\-as\_\-string}}
\index{T\_\-as\_\-string@{T\_\-as\_\-string}!ConfigFile@{ConfigFile}}
\subsubsection[{T\_\-as\_\-string}]{\setlength{\rightskip}{0pt plus 5cm}string T\_\-as\_\-string (const T \& {\em t})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, static, protected\mbox{]}}}}
\label{classConfigFile_a149d917011dbfb103a47c5a7cf3a446f}



\begin{DoxyCode}
121 {
122         // Convert from a T to a string
123         // Type T must support << operator
124         std::ostringstream ost;
125         ost << t;
126         return ost.str();
127 }
\end{DoxyCode}
\hypertarget{classConfigFile_a8bddc3dcbfa8ff455abebaf144a1f5cf}{
\index{ConfigFile@{ConfigFile}!trim@{trim}}
\index{trim@{trim}!ConfigFile@{ConfigFile}}
\subsubsection[{trim}]{\setlength{\rightskip}{0pt plus 5cm}void trim (string \& {\em s})\hspace{0.3cm}{\ttfamily  \mbox{[}static, protected\mbox{]}}}}
\label{classConfigFile_a8bddc3dcbfa8ff455abebaf144a1f5cf}



\begin{DoxyCode}
74 {
75     // Remove leading and trailing whitespace
76     static const char whitespace[] = " \n\t\v\r\f";
77     s.erase( 0, s.find_first_not_of(whitespace) );
78     s.erase( s.find_last_not_of(whitespace) + 1U );
79 }
\end{DoxyCode}


\subsection{フレンドと関連する関数}
\hypertarget{classConfigFile_a8ccacbc37db1992a5515e2c72fc83ce6}{
\index{ConfigFile@{ConfigFile}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!ConfigFile@{ConfigFile}}
\subsubsection[{operator$<$$<$}]{\setlength{\rightskip}{0pt plus 5cm}std::ostream\& operator$<$$<$ (std::ostream \& {\em os}, \/  const {\bf ConfigFile} \& {\em cf})\hspace{0.3cm}{\ttfamily  \mbox{[}friend\mbox{]}}}}
\label{classConfigFile_a8ccacbc37db1992a5515e2c72fc83ce6}
\hypertarget{classConfigFile_a25042475439039e70f90febe7d0e63ec}{
\index{ConfigFile@{ConfigFile}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!ConfigFile@{ConfigFile}}
\subsubsection[{operator$>$$>$}]{\setlength{\rightskip}{0pt plus 5cm}std::istream\& operator$>$$>$ (std::istream \& {\em is}, \/  {\bf ConfigFile} \& {\em cf})\hspace{0.3cm}{\ttfamily  \mbox{[}friend\mbox{]}}}}
\label{classConfigFile_a25042475439039e70f90febe7d0e63ec}


\subsection{変数}
\hypertarget{classConfigFile_a1112d00b3f3aa676ca93e148a6f3792f}{
\index{ConfigFile@{ConfigFile}!myComment@{myComment}}
\index{myComment@{myComment}!ConfigFile@{ConfigFile}}
\subsubsection[{myComment}]{\setlength{\rightskip}{0pt plus 5cm}string {\bf myComment}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classConfigFile_a1112d00b3f3aa676ca93e148a6f3792f}
\hypertarget{classConfigFile_a3ab1162ad6495f6102af2082df0bfa3b}{
\index{ConfigFile@{ConfigFile}!myContents@{myContents}}
\index{myContents@{myContents}!ConfigFile@{ConfigFile}}
\subsubsection[{myContents}]{\setlength{\rightskip}{0pt plus 5cm}std::map$<$string,string$>$ {\bf myContents}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classConfigFile_a3ab1162ad6495f6102af2082df0bfa3b}
\hypertarget{classConfigFile_acfa392eb20e5a977f077a3e96bad6bf7}{
\index{ConfigFile@{ConfigFile}!myDelimiter@{myDelimiter}}
\index{myDelimiter@{myDelimiter}!ConfigFile@{ConfigFile}}
\subsubsection[{myDelimiter}]{\setlength{\rightskip}{0pt plus 5cm}string {\bf myDelimiter}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classConfigFile_acfa392eb20e5a977f077a3e96bad6bf7}
\hypertarget{classConfigFile_a1f5ee3be5d9f07feb3d1dc9a2f22ccfa}{
\index{ConfigFile@{ConfigFile}!mySentry@{mySentry}}
\index{mySentry@{mySentry}!ConfigFile@{ConfigFile}}
\subsubsection[{mySentry}]{\setlength{\rightskip}{0pt plus 5cm}string {\bf mySentry}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classConfigFile_a1f5ee3be5d9f07feb3d1dc9a2f22ccfa}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/ruby/network/orion/\hyperlink{ConfigFile_8hh}{ConfigFile.hh}\item 
mem/ruby/network/orion/\hyperlink{ConfigFile_8cc}{ConfigFile.cc}\end{DoxyCompactItemize}
