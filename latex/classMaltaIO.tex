\hypertarget{classMaltaIO}{
\section{クラス MaltaIO}
\label{classMaltaIO}\index{MaltaIO@{MaltaIO}}
}


{\ttfamily \#include $<$malta\_\-io.hh$>$}MaltaIOに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=7cm]{classMaltaIO}
\end{center}
\end{figure}
\subsection*{構成}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classMaltaIO_1_1RTC}{RTC}
\end{DoxyCompactItemize}
\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
typedef MaltaIOParams \hyperlink{classMaltaIO_a67250d5117f4f6705cea74a7a228ccf0}{Params}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classMaltaIO_ae7d31c6aab76d9d4e74e5e7227337651}{frequency} () const 
\item 
const \hyperlink{classMaltaIO_a67250d5117f4f6705cea74a7a228ccf0}{Params} $\ast$ \hyperlink{classMaltaIO_acd3c3feb78ae7a8f88fe0f110a718dff}{params} () const 
\item 
\hyperlink{classMaltaIO_a4a44a2fd97be4aa558dcc9c5751df3bc}{MaltaIO} (const \hyperlink{classMaltaIO_a67250d5117f4f6705cea74a7a228ccf0}{Params} $\ast$p)
\item 
virtual \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classMaltaIO_a613ec7d5e1ec64f8d21fec78ae8e568e}{read} (\hyperlink{classPacket}{PacketPtr} pkt)
\item 
virtual \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classMaltaIO_a4cefab464e72b5dd42c003a0a4341802}{write} (\hyperlink{classPacket}{PacketPtr} pkt)
\item 
void \hyperlink{classMaltaIO_a317c725ef6a1fef61239e5682988cc87}{postIntr} (uint8\_\-t interrupt)
\item 
void \hyperlink{classMaltaIO_ae777549b457b25efd35a47f13974f2e1}{clearIntr} (uint8\_\-t interrupt)
\item 
virtual void \hyperlink{classMaltaIO_ad6272f80ae37e8331e3969b3f072a801}{serialize} (std::ostream \&os)
\item 
virtual void \hyperlink{classMaltaIO_af100c4e9feabf3cd918619c88c718387}{unserialize} (\hyperlink{classCheckpoint}{Checkpoint} $\ast$cp, const std::string \&section)
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
uint8\_\-t \hyperlink{classMaltaIO_adaf4809f6b77e7cde58780f5f451a6e4}{mask1}
\item 
uint8\_\-t \hyperlink{classMaltaIO_a474e49c245ff8b6dc57653a9cd7f64dc}{mask2}
\item 
uint8\_\-t \hyperlink{classMaltaIO_a9237c26b42f96e5e4ad44839abdf85ce}{mode1}
\item 
uint8\_\-t \hyperlink{classMaltaIO_af51e3a81fa6352c9fbc24d5bc03d843f}{mode2}
\item 
uint8\_\-t \hyperlink{classMaltaIO_a8472e2cd6c519d77f7b7ab878a42fa40}{picr}
\item 
bool \hyperlink{classMaltaIO_ab72d9ca48cf8b7b897799490833c4b5e}{picInterrupting}
\item 
\hyperlink{classMalta}{Malta} $\ast$ \hyperlink{classMaltaIO_ae7ba1afe6be03355de9c5cbc41c11f96}{malta}
\item 
\hyperlink{classIntel8254Timer}{Intel8254Timer} \hyperlink{classMaltaIO_a0447f4b0ded66f26d3ce882c29d1125e}{pitimer}
\item 
\hyperlink{classMaltaIO_1_1RTC}{RTC} \hyperlink{classMaltaIO_afa7e240c7456eaf5ef27ee8be3a23bd4}{rtc}
\item 
uint16\_\-t \hyperlink{classMaltaIO_ac2f6e48e9ea7cdd01d0d4855725107d6}{timerData}
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{classMaltaIO_a2182a1f5ef743c17d71096c490feb801}{tm} \hyperlink{classMaltaIO_a2182a1f5ef743c17d71096c490feb801}{tm}
\end{DoxyCompactItemize}


\subsection{説明}
\hyperlink{classMalta}{Malta} I/O device is a catch all for all the south bridge stuff we care to implement. 

\subsection{型定義}
\hypertarget{classMaltaIO_a67250d5117f4f6705cea74a7a228ccf0}{
\index{MaltaIO@{MaltaIO}!Params@{Params}}
\index{Params@{Params}!MaltaIO@{MaltaIO}}
\subsubsection[{Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef MaltaIOParams {\bf Params}}}
\label{classMaltaIO_a67250d5117f4f6705cea74a7a228ccf0}


\hyperlink{classBasicPioDevice_a2845515ac6467f10540747053c8a0449}{BasicPioDevice}を再定義しています。

\subsection{コンストラクタとデストラクタ}
\hypertarget{classMaltaIO_a4a44a2fd97be4aa558dcc9c5751df3bc}{
\index{MaltaIO@{MaltaIO}!MaltaIO@{MaltaIO}}
\index{MaltaIO@{MaltaIO}!MaltaIO@{MaltaIO}}
\subsubsection[{MaltaIO}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MaltaIO} (const {\bf Params} $\ast$ {\em p})}}
\label{classMaltaIO_a4a44a2fd97be4aa558dcc9c5751df3bc}
Initialize all the data for devices supported by \hyperlink{classMalta}{Malta} I/O. 
\begin{DoxyParams}{引数}
\item[{\em p}]pointer to Params struct \end{DoxyParams}



\begin{DoxyCode}
68     : BasicPioDevice(p, 0x100), malta(p->malta),
69       pitimer(this, p->name + "pitimer"), rtc(p->name + ".rtc", p)
70 {
71     // set the back pointer from malta to myself
72     malta->io = this;
73 
74     timerData = 0;
75     picr = 0;
76     picInterrupting = false;
77 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classMaltaIO_ae777549b457b25efd35a47f13974f2e1}{
\index{MaltaIO@{MaltaIO}!clearIntr@{clearIntr}}
\index{clearIntr@{clearIntr}!MaltaIO@{MaltaIO}}
\subsubsection[{clearIntr}]{\setlength{\rightskip}{0pt plus 5cm}void clearIntr (uint8\_\-t {\em interrupt})}}
\label{classMaltaIO_ae777549b457b25efd35a47f13974f2e1}
Clear an Interrupt to the CPU 


\begin{DoxyCode}
108 {
109     malta->cchip->clearIntr(interrupt);
110     DPRINTF(Malta, "clear pic interrupt to cchip\n");
111 }
\end{DoxyCode}
\hypertarget{classMaltaIO_ae7d31c6aab76d9d4e74e5e7227337651}{
\index{MaltaIO@{MaltaIO}!frequency@{frequency}}
\index{frequency@{frequency}!MaltaIO@{MaltaIO}}
\subsubsection[{frequency}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} frequency () const}}
\label{classMaltaIO_ae7d31c6aab76d9d4e74e5e7227337651}
Return the freqency of the \hyperlink{classMaltaIO_1_1RTC}{RTC} \begin{DoxyReturn}{戻り値}
interrupt rate of the \hyperlink{classMaltaIO_1_1RTC}{RTC} 
\end{DoxyReturn}


\hyperlink{classClockedObject_a47ad0ff313f0dcb63b8223b1f11d49d8}{ClockedObject}を再定義しています。


\begin{DoxyCode}
81 {
82     return SimClock::Frequency / params()->frequency;
83 }
\end{DoxyCode}
\hypertarget{classMaltaIO_acd3c3feb78ae7a8f88fe0f110a718dff}{
\index{MaltaIO@{MaltaIO}!params@{params}}
\index{params@{params}!MaltaIO@{MaltaIO}}
\subsubsection[{params}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Params}$\ast$ params () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classMaltaIO_acd3c3feb78ae7a8f88fe0f110a718dff}


\hyperlink{classBasicPioDevice_acd3c3feb78ae7a8f88fe0f110a718dff}{BasicPioDevice}を再定義しています。


\begin{DoxyCode}
116     {
117         return dynamic_cast<const Params *>(_params);
118     }
\end{DoxyCode}
\hypertarget{classMaltaIO_a317c725ef6a1fef61239e5682988cc87}{
\index{MaltaIO@{MaltaIO}!postIntr@{postIntr}}
\index{postIntr@{postIntr}!MaltaIO@{MaltaIO}}
\subsubsection[{postIntr}]{\setlength{\rightskip}{0pt plus 5cm}void postIntr (uint8\_\-t {\em interrupt})}}
\label{classMaltaIO_a317c725ef6a1fef61239e5682988cc87}
Post an Interrupt to the CPU 


\begin{DoxyCode}
101 {
102     malta->cchip->postIntr(interrupt);
103     DPRINTF(Malta, "posting pic interrupt to cchip\n");
104 }
\end{DoxyCode}
\hypertarget{classMaltaIO_a613ec7d5e1ec64f8d21fec78ae8e568e}{
\index{MaltaIO@{MaltaIO}!read@{read}}
\index{read@{read}!MaltaIO@{MaltaIO}}
\subsubsection[{read}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} read ({\bf PacketPtr} {\em pkt})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classMaltaIO_a613ec7d5e1ec64f8d21fec78ae8e568e}
Pure virtual function that the device must implement. Called when a read command is recieved by the port. 
\begin{DoxyParams}{引数}
\item[{\em pkt}]\hyperlink{classPacket}{Packet} describing this request \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
number of ticks it took to complete 
\end{DoxyReturn}


\hyperlink{classPioDevice_a842312590432036092c422c87a442358}{PioDevice}を実装しています。


\begin{DoxyCode}
87 {
88     panic("MaltaIO::read(...) not implemented inside malta_io.cc");
89     return pioDelay;
90 }
\end{DoxyCode}
\hypertarget{classMaltaIO_ad6272f80ae37e8331e3969b3f072a801}{
\index{MaltaIO@{MaltaIO}!serialize@{serialize}}
\index{serialize@{serialize}!MaltaIO@{MaltaIO}}
\subsubsection[{serialize}]{\setlength{\rightskip}{0pt plus 5cm}virtual void serialize (std::ostream \& {\em os})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classMaltaIO_ad6272f80ae37e8331e3969b3f072a801}
Serialize this object to the given output stream. 
\begin{DoxyParams}{引数}
\item[{\em os}]The stream to serialize to. \end{DoxyParams}


\hyperlink{classSerializable_ad6272f80ae37e8331e3969b3f072a801}{Serializable}を再定義しています。\hypertarget{classMaltaIO_af100c4e9feabf3cd918619c88c718387}{
\index{MaltaIO@{MaltaIO}!unserialize@{unserialize}}
\index{unserialize@{unserialize}!MaltaIO@{MaltaIO}}
\subsubsection[{unserialize}]{\setlength{\rightskip}{0pt plus 5cm}virtual void unserialize ({\bf Checkpoint} $\ast$ {\em cp}, \/  const std::string \& {\em section})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classMaltaIO_af100c4e9feabf3cd918619c88c718387}
Reconstruct the state of this object from a checkpoint. 
\begin{DoxyParams}{引数}
\item[{\em \hyperlink{namespacecp}{cp}}]The checkpoint use. \item[{\em section}]The section name of this object \end{DoxyParams}


\hyperlink{classSerializable_af100c4e9feabf3cd918619c88c718387}{Serializable}を再定義しています。\hypertarget{classMaltaIO_a4cefab464e72b5dd42c003a0a4341802}{
\index{MaltaIO@{MaltaIO}!write@{write}}
\index{write@{write}!MaltaIO@{MaltaIO}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} write ({\bf PacketPtr} {\em pkt})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classMaltaIO_a4cefab464e72b5dd42c003a0a4341802}
Pure virtual function that the device must implement. Called when a write command is recieved by the port. 
\begin{DoxyParams}{引数}
\item[{\em pkt}]\hyperlink{classPacket}{Packet} describing this request \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
number of ticks it took to complete 
\end{DoxyReturn}


\hyperlink{classPioDevice_afe8371668d023bb2516b286e5e399b6f}{PioDevice}を実装しています。


\begin{DoxyCode}
94 {
95     panic("MaltaIO::write(...) not implemented inside malta_io.cc");
96     return pioDelay;
97 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classMaltaIO_ae7ba1afe6be03355de9c5cbc41c11f96}{
\index{MaltaIO@{MaltaIO}!malta@{malta}}
\index{malta@{malta}!MaltaIO@{MaltaIO}}
\subsubsection[{malta}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Malta}$\ast$ {\bf malta}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMaltaIO_ae7ba1afe6be03355de9c5cbc41c11f96}
A pointer to the \hyperlink{classMalta}{Malta} device which be belong to \hypertarget{classMaltaIO_adaf4809f6b77e7cde58780f5f451a6e4}{
\index{MaltaIO@{MaltaIO}!mask1@{mask1}}
\index{mask1@{mask1}!MaltaIO@{MaltaIO}}
\subsubsection[{mask1}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t {\bf mask1}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMaltaIO_adaf4809f6b77e7cde58780f5f451a6e4}
Mask of the PIC1 \hypertarget{classMaltaIO_a474e49c245ff8b6dc57653a9cd7f64dc}{
\index{MaltaIO@{MaltaIO}!mask2@{mask2}}
\index{mask2@{mask2}!MaltaIO@{MaltaIO}}
\subsubsection[{mask2}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t {\bf mask2}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMaltaIO_a474e49c245ff8b6dc57653a9cd7f64dc}
Mask of the PIC2 \hypertarget{classMaltaIO_a9237c26b42f96e5e4ad44839abdf85ce}{
\index{MaltaIO@{MaltaIO}!mode1@{mode1}}
\index{mode1@{mode1}!MaltaIO@{MaltaIO}}
\subsubsection[{mode1}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t {\bf mode1}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMaltaIO_a9237c26b42f96e5e4ad44839abdf85ce}
Mode of PIC1. Not used for anything \hypertarget{classMaltaIO_af51e3a81fa6352c9fbc24d5bc03d843f}{
\index{MaltaIO@{MaltaIO}!mode2@{mode2}}
\index{mode2@{mode2}!MaltaIO@{MaltaIO}}
\subsubsection[{mode2}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t {\bf mode2}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMaltaIO_af51e3a81fa6352c9fbc24d5bc03d843f}
Mode of PIC2. Not used for anything \hypertarget{classMaltaIO_ab72d9ca48cf8b7b897799490833c4b5e}{
\index{MaltaIO@{MaltaIO}!picInterrupting@{picInterrupting}}
\index{picInterrupting@{picInterrupting}!MaltaIO@{MaltaIO}}
\subsubsection[{picInterrupting}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf picInterrupting}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMaltaIO_ab72d9ca48cf8b7b897799490833c4b5e}
Is the pic interrupting right now or not. \hypertarget{classMaltaIO_a8472e2cd6c519d77f7b7ab878a42fa40}{
\index{MaltaIO@{MaltaIO}!picr@{picr}}
\index{picr@{picr}!MaltaIO@{MaltaIO}}
\subsubsection[{picr}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t {\bf picr}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMaltaIO_a8472e2cd6c519d77f7b7ab878a42fa40}
Raw PIC interrupt register before masking \hypertarget{classMaltaIO_a0447f4b0ded66f26d3ce882c29d1125e}{
\index{MaltaIO@{MaltaIO}!pitimer@{pitimer}}
\index{pitimer@{pitimer}!MaltaIO@{MaltaIO}}
\subsubsection[{pitimer}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Intel8254Timer} {\bf pitimer}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMaltaIO_a0447f4b0ded66f26d3ce882c29d1125e}
Intel 8253 Periodic Interval Timer \hypertarget{classMaltaIO_afa7e240c7456eaf5ef27ee8be3a23bd4}{
\index{MaltaIO@{MaltaIO}!rtc@{rtc}}
\index{rtc@{rtc}!MaltaIO@{MaltaIO}}
\subsubsection[{rtc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf RTC} {\bf rtc}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMaltaIO_afa7e240c7456eaf5ef27ee8be3a23bd4}
\hypertarget{classMaltaIO_ac2f6e48e9ea7cdd01d0d4855725107d6}{
\index{MaltaIO@{MaltaIO}!timerData@{timerData}}
\index{timerData@{timerData}!MaltaIO@{MaltaIO}}
\subsubsection[{timerData}]{\setlength{\rightskip}{0pt plus 5cm}uint16\_\-t {\bf timerData}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMaltaIO_ac2f6e48e9ea7cdd01d0d4855725107d6}
The interval is set via two writes to the PIT. This variable contains a flag as to how many writes have happened, and the time so far. \hypertarget{classMaltaIO_a2182a1f5ef743c17d71096c490feb801}{
\index{MaltaIO@{MaltaIO}!tm@{tm}}
\index{tm@{tm}!MaltaIO@{MaltaIO}}
\subsubsection[{tm}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf tm} {\bf tm}\hspace{0.3cm}{\ttfamily  \mbox{[}read, private\mbox{]}}}}
\label{classMaltaIO_a2182a1f5ef743c17d71096c490feb801}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
dev/mips/\hyperlink{malta__io_8hh}{malta\_\-io.hh}\item 
dev/mips/\hyperlink{malta__io_8cc}{malta\_\-io.cc}\end{DoxyCompactItemize}
