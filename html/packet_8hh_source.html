<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: mem/packet.hh ソースファイル</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li><a href="annotated.html"><span>クラス</span></a></li>
      <li class="current"><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>ファイル一覧</span></a></li>
      <li><a href="globals.html"><span>ファイルメンバ</span></a></li>
    </ul>
  </div>
<h1>mem/packet.hh</h1><a href="packet_8hh.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2012-2013 ARM Limited</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * The license below extends only to copyright in the software and shall</span>
<a name="l00006"></a>00006 <span class="comment"> * not be construed as granting a license to any other intellectual</span>
<a name="l00007"></a>00007 <span class="comment"> * property including but not limited to intellectual property relating</span>
<a name="l00008"></a>00008 <span class="comment"> * to a hardware implementation of the functionality of the software</span>
<a name="l00009"></a>00009 <span class="comment"> * licensed hereunder.  You may use the software subject to the license</span>
<a name="l00010"></a>00010 <span class="comment"> * terms below provided that you ensure that this notice is replicated</span>
<a name="l00011"></a>00011 <span class="comment"> * unmodified and in its entirety in all distributions of the software,</span>
<a name="l00012"></a>00012 <span class="comment"> * modified or unmodified, in source code or in binary form.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * Copyright (c) 2006 The Regents of The University of Michigan</span>
<a name="l00015"></a>00015 <span class="comment"> * Copyright (c) 2010 Advanced Micro Devices, Inc.</span>
<a name="l00016"></a>00016 <span class="comment"> * All rights reserved.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00019"></a>00019 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00020"></a>00020 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00021"></a>00021 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00022"></a>00022 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00023"></a>00023 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00024"></a>00024 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00025"></a>00025 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00026"></a>00026 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00027"></a>00027 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00028"></a>00028 <span class="comment"> *</span>
<a name="l00029"></a>00029 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00030"></a>00030 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00031"></a>00031 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00032"></a>00032 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00033"></a>00033 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00034"></a>00034 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00035"></a>00035 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00036"></a>00036 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00037"></a>00037 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00038"></a>00038 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00039"></a>00039 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00040"></a>00040 <span class="comment"> *</span>
<a name="l00041"></a>00041 <span class="comment"> * Authors: Ron Dreslinski</span>
<a name="l00042"></a>00042 <span class="comment"> *          Steve Reinhardt</span>
<a name="l00043"></a>00043 <span class="comment"> *          Ali Saidi</span>
<a name="l00044"></a>00044 <span class="comment"> *          Andreas Hansson</span>
<a name="l00045"></a>00045 <span class="comment"> */</span>
<a name="l00046"></a>00046 
<a name="l00052"></a>00052 <span class="preprocessor">#ifndef __MEM_PACKET_HH__</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">#define __MEM_PACKET_HH__</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;bitset&gt;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="preprocessor">#include &quot;<a class="code" href="cast_8hh.html">base/cast.hh</a>&quot;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;<a class="code" href="compiler_8hh.html">base/compiler.hh</a>&quot;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &quot;<a class="code" href="flags_8hh.html">base/flags.hh</a>&quot;</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include &quot;<a class="code" href="base_2misc_8hh.html">base/misc.hh</a>&quot;</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include &quot;<a class="code" href="printable_8hh.html">base/printable.hh</a>&quot;</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include &quot;<a class="code" href="base_2types_8hh.html">base/types.hh</a>&quot;</span>
<a name="l00065"></a>00065 <span class="preprocessor">#include &quot;<a class="code" href="request_8hh.html">mem/request.hh</a>&quot;</span>
<a name="l00066"></a>00066 <span class="preprocessor">#include &quot;<a class="code" href="core_8hh.html">sim/core.hh</a>&quot;</span>
<a name="l00067"></a>00067 
<a name="l00068"></a><a class="code" href="packet_8hh.html#a470982fd720cbb1a92fc936965738abc">00068</a> <span class="keyword">class </span><a class="code" href="classPacket.html">Packet</a>;
<a name="l00069"></a>00069 <span class="keyword">typedef</span> <a class="code" href="classPacket.html">Packet</a> *<a class="code" href="classPacket.html">PacketPtr</a>;
<a name="l00070"></a><a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">00070</a> <span class="keyword">typedef</span> uint8_t* <a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">PacketDataPtr</a>;
<a name="l00071"></a><a class="code" href="packet_8hh.html#afda380bd563a3c5bf91ed82b01b1bd0a">00071</a> <span class="keyword">typedef</span> <a class="code" href="classstd_1_1list.html">std::list&lt;PacketPtr&gt;</a> <a class="code" href="classstd_1_1list.html">PacketList</a>;
<a name="l00072"></a>00072 
<a name="l00073"></a><a class="code" href="classMemCmd.html">00073</a> <span class="keyword">class </span><a class="code" href="classMemCmd.html">MemCmd</a>
<a name="l00074"></a>00074 {
<a name="l00075"></a><a class="code" href="classMemCmd.html#ae51cb555166657e5996a76768db998e3">00075</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classPacket.html">Packet</a>;
<a name="l00076"></a>00076 
<a name="l00077"></a>00077   <span class="keyword">public</span>:
<a name="l00081"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153">00081</a>     <span class="keyword">enum</span> <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153">Command</a>
<a name="l00082"></a>00082     {
<a name="l00083"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a47dcc37c58138c184357ccbe13373b51">00083</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a47dcc37c58138c184357ccbe13373b51">InvalidCmd</a>,
<a name="l00084"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a96120c772a9cb695fe62ca81ec93a53b">00084</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a96120c772a9cb695fe62ca81ec93a53b">ReadReq</a>,
<a name="l00085"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ab3b23336c0b9e51ce2b80101dc975aa2">00085</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ab3b23336c0b9e51ce2b80101dc975aa2">ReadResp</a>,
<a name="l00086"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a2cea517c889453c5a51450f7ad62b9e6">00086</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a2cea517c889453c5a51450f7ad62b9e6">ReadRespWithInvalidate</a>,
<a name="l00087"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153aa5ec34a7e56b23ff12c9b819519d168a">00087</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153aa5ec34a7e56b23ff12c9b819519d168a">WriteReq</a>,
<a name="l00088"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a10395feec631731cb59e309be4cd8eab">00088</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a10395feec631731cb59e309be4cd8eab">WriteResp</a>,
<a name="l00089"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a89447e3db973b10c03f68d590c65e8e6">00089</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a89447e3db973b10c03f68d590c65e8e6">Writeback</a>,
<a name="l00090"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a997c7df37cd6d6ebaa79e3a52612964c">00090</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a997c7df37cd6d6ebaa79e3a52612964c">SoftPFReq</a>,
<a name="l00091"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153af939e2f740d217d26e90546059593b39">00091</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153af939e2f740d217d26e90546059593b39">HardPFReq</a>,
<a name="l00092"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a9ffcfbc12a55a3e1ca38c56d950c7e55">00092</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a9ffcfbc12a55a3e1ca38c56d950c7e55">SoftPFResp</a>,
<a name="l00093"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a11fb71a7824e3331bcee61ee9b4078dc">00093</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a11fb71a7824e3331bcee61ee9b4078dc">HardPFResp</a>,
<a name="l00094"></a>00094         <span class="comment">// WriteInvalidateReq transactions used to be generated by the</span>
<a name="l00095"></a>00095         <span class="comment">// DMA ports when writing full blocks to memory, however, it</span>
<a name="l00096"></a>00096         <span class="comment">// is not used anymore since we put the I/O cache in place to</span>
<a name="l00097"></a>00097         <span class="comment">// deal with partial block writes. Hence, WriteInvalidateReq</span>
<a name="l00098"></a>00098         <span class="comment">// and WriteInvalidateResp are currently unused. The</span>
<a name="l00099"></a>00099         <span class="comment">// implication is that the I/O cache does read-exclusive</span>
<a name="l00100"></a>00100         <span class="comment">// operations on every full-cache-block DMA, and ultimately</span>
<a name="l00101"></a>00101         <span class="comment">// this needs to be fixed.</span>
<a name="l00102"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a8e7344b4258b2c0bff3ba4ee466d2e71">00102</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a8e7344b4258b2c0bff3ba4ee466d2e71">WriteInvalidateReq</a>,
<a name="l00103"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a0be8f94206133a21c58b072ebb7fda7e">00103</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a0be8f94206133a21c58b072ebb7fda7e">WriteInvalidateResp</a>,
<a name="l00104"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a4f223f365c25887900892b6c520ed89e">00104</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a4f223f365c25887900892b6c520ed89e">UpgradeReq</a>,
<a name="l00105"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a26dd5b7b190f0af191e3d07399cbf1d5">00105</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a26dd5b7b190f0af191e3d07399cbf1d5">SCUpgradeReq</a>,           <span class="comment">// Special &quot;weak&quot; upgrade for StoreCond</span>
<a name="l00106"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153aff67b7f8eb8b6a17a896579c2dd6195c">00106</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153aff67b7f8eb8b6a17a896579c2dd6195c">UpgradeResp</a>,
<a name="l00107"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ac6ef7b72a17dbdd8c061094bf7554753">00107</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ac6ef7b72a17dbdd8c061094bf7554753">SCUpgradeFailReq</a>,       <span class="comment">// Failed SCUpgradeReq in MSHR (never sent)</span>
<a name="l00108"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153acf35994719250044eeb50aa07d996ed6">00108</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153acf35994719250044eeb50aa07d996ed6">UpgradeFailResp</a>,        <span class="comment">// Valid for SCUpgradeReq only</span>
<a name="l00109"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a9add93dbfe06a6be0bb0340705785f6c">00109</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a9add93dbfe06a6be0bb0340705785f6c">ReadExReq</a>,
<a name="l00110"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a820e64828113e6493c15c6a5762b0715">00110</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a820e64828113e6493c15c6a5762b0715">ReadExResp</a>,
<a name="l00111"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a1c703221ee751b9d3d635fe33ea8e350">00111</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a1c703221ee751b9d3d635fe33ea8e350">LoadLockedReq</a>,
<a name="l00112"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a10ce12df51611216e2e8c4cb9b5d4047">00112</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a10ce12df51611216e2e8c4cb9b5d4047">StoreCondReq</a>,
<a name="l00113"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a74dd6ebac6e139815fdc22edbae3cce3">00113</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a74dd6ebac6e139815fdc22edbae3cce3">StoreCondFailReq</a>,       <span class="comment">// Failed StoreCondReq in MSHR (never sent)</span>
<a name="l00114"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a9e9877d06e780a7f1165b8780d366344">00114</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a9e9877d06e780a7f1165b8780d366344">StoreCondResp</a>,
<a name="l00115"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a544e456dc06d65a6998a7df182d247d3">00115</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a544e456dc06d65a6998a7df182d247d3">SwapReq</a>,
<a name="l00116"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153acbf8535f64ef272c3612e95f75643669">00116</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153acbf8535f64ef272c3612e95f75643669">SwapResp</a>,
<a name="l00117"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a5020945a9a0f0fdea481ef3f90964bec">00117</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a5020945a9a0f0fdea481ef3f90964bec">MessageReq</a>,
<a name="l00118"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153acc0d64bdbcfa7a61fa0b91ebe162c8c5">00118</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153acc0d64bdbcfa7a61fa0b91ebe162c8c5">MessageResp</a>,
<a name="l00119"></a>00119         <span class="comment">// Error responses</span>
<a name="l00120"></a>00120         <span class="comment">// @TODO these should be classified as responses rather than</span>
<a name="l00121"></a>00121         <span class="comment">// requests; coding them as requests initially for backwards</span>
<a name="l00122"></a>00122         <span class="comment">// compatibility</span>
<a name="l00123"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a8a6ab6b3688330dc388f26f198f58cef">00123</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a8a6ab6b3688330dc388f26f198f58cef">InvalidDestError</a>,  <span class="comment">// packet dest field invalid</span>
<a name="l00124"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ad6c42a4047ddaa6e335ec87694559e5c">00124</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ad6c42a4047ddaa6e335ec87694559e5c">BadAddressError</a>,   <span class="comment">// memory address invalid</span>
<a name="l00125"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a76b1f646eddeda4e6129b8daae4a6314">00125</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a76b1f646eddeda4e6129b8daae4a6314">FunctionalReadError</a>, <span class="comment">// unable to fulfill functional read</span>
<a name="l00126"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a587c669ca5fa65c23e0f0fd81a3ab68a">00126</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a587c669ca5fa65c23e0f0fd81a3ab68a">FunctionalWriteError</a>, <span class="comment">// unable to fulfill functional write</span>
<a name="l00127"></a>00127         <span class="comment">// Fake simulator-only commands</span>
<a name="l00128"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a10510e46d8f306ecf30ad5b1e204a434">00128</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a10510e46d8f306ecf30ad5b1e204a434">PrintReq</a>,       <span class="comment">// Print state matching address</span>
<a name="l00129"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a7e0821935c58ddadefa7eb192586ac66">00129</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a7e0821935c58ddadefa7eb192586ac66">FlushReq</a>,      <span class="comment">//request for a cache flush</span>
<a name="l00130"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ab11e33949db36f4cccb8949d7a971a76">00130</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ab11e33949db36f4cccb8949d7a971a76">InvalidationReq</a>,   <span class="comment">// request for address to be invalidated from lsq</span>
<a name="l00131"></a><a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ab6c8ff23baaad61d567c54b53529e7e4">00131</a>         <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ab6c8ff23baaad61d567c54b53529e7e4">NUM_MEM_CMDS</a>
<a name="l00132"></a>00132     };
<a name="l00133"></a>00133 
<a name="l00134"></a>00134   <span class="keyword">private</span>:
<a name="l00138"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550">00138</a>     <span class="keyword">enum</span> <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550">Attribute</a>
<a name="l00139"></a>00139     {
<a name="l00140"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a5c083a0b513cca57976212fa1a4d6bb1">00140</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a5c083a0b513cca57976212fa1a4d6bb1" title="Data flows from responder to requester.">IsRead</a>,         
<a name="l00141"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a000a93637dc715367664b2c7786cb51c">00141</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a000a93637dc715367664b2c7786cb51c" title="Data flows from requester to responder.">IsWrite</a>,        
<a name="l00142"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a5796860c87e0cb27832dd195cd00e997">00142</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a5796860c87e0cb27832dd195cd00e997">IsUpgrade</a>,
<a name="l00143"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a407b5114500c316b270d7b67017fa7f3">00143</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a407b5114500c316b270d7b67017fa7f3">IsInvalidate</a>,
<a name="l00144"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a5f936987e076e52ed3ba4d543bad6d8e">00144</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a5f936987e076e52ed3ba4d543bad6d8e" title="Requires exclusive copy to complete in-cache.">NeedsExclusive</a>, 
<a name="l00145"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550ac6adcdc7761d2cb9d40a576b7c481228">00145</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550ac6adcdc7761d2cb9d40a576b7c481228" title="Issued by requester.">IsRequest</a>,      
<a name="l00146"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a1d093a8ecc40bc94191ef6a3c080ecdb">00146</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a1d093a8ecc40bc94191ef6a3c080ecdb" title="Issue by responder.">IsResponse</a>,     
<a name="l00147"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550acb263b087d1077db337a1c833ade51fb">00147</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550acb263b087d1077db337a1c833ade51fb" title="Requester needs response from target.">NeedsResponse</a>,  
<a name="l00148"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a57631bcf95706c50f65c1cbcf05e12ef">00148</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a57631bcf95706c50f65c1cbcf05e12ef">IsSWPrefetch</a>,
<a name="l00149"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550ac26893611f0b8fd4412787a66ef6dae2">00149</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550ac26893611f0b8fd4412787a66ef6dae2">IsHWPrefetch</a>,
<a name="l00150"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a268ffe4dcb1a1da3af7d4f974eb43bb3">00150</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a268ffe4dcb1a1da3af7d4f974eb43bb3" title="Alpha/MIPS LL or SC access.">IsLlsc</a>,         
<a name="l00151"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a6c6101ba1ae52efba8f0aa3f8f804bc3">00151</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a6c6101ba1ae52efba8f0aa3f8f804bc3" title="There is an associated payload.">HasData</a>,        
<a name="l00152"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a932a9e9614446674f38a4d2544b496a6">00152</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a932a9e9614446674f38a4d2544b496a6" title="Error response.">IsError</a>,        
<a name="l00153"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550aeea6b1fbe81e58d9d3e09320d9a975bf">00153</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550aeea6b1fbe81e58d9d3e09320d9a975bf" title="Print state matching address (for debugging).">IsPrint</a>,        
<a name="l00154"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a88e90f7a52fa39c4ae927bace094d6ab">00154</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a88e90f7a52fa39c4ae927bace094d6ab" title="Flush the address from caches.">IsFlush</a>,        
<a name="l00155"></a><a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a52d269fc7bf039ec4014a7db13c84756">00155</a>         <a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a52d269fc7bf039ec4014a7db13c84756">NUM_COMMAND_ATTRIBUTES</a>
<a name="l00156"></a>00156     };
<a name="l00157"></a>00157 
<a name="l00162"></a><a class="code" href="structMemCmd_1_1CommandInfo.html">00162</a>     <span class="keyword">struct </span><a class="code" href="structMemCmd_1_1CommandInfo.html">CommandInfo</a>
<a name="l00163"></a>00163     {
<a name="l00165"></a><a class="code" href="structMemCmd_1_1CommandInfo.html#af901f6d4a4075126b3ca3e4375750afb">00165</a>         <span class="keyword">const</span> std::bitset&lt;NUM_COMMAND_ATTRIBUTES&gt; <a class="code" href="structMemCmd_1_1CommandInfo.html#af901f6d4a4075126b3ca3e4375750afb" title="Set of attribute flags.">attributes</a>;
<a name="l00168"></a><a class="code" href="structMemCmd_1_1CommandInfo.html#a1c57b679ee250b3cfb3763a8c68a41d2">00168</a>         <span class="keyword">const</span> <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153">Command</a> <a class="code" href="structMemCmd_1_1CommandInfo.html#a1c57b679ee250b3cfb3763a8c68a41d2">response</a>;
<a name="l00170"></a><a class="code" href="structMemCmd_1_1CommandInfo.html#a2a98c1fe01d4f15bb6333773fbbe879c">00170</a>         <span class="keyword">const</span> std::string <a class="code" href="structMemCmd_1_1CommandInfo.html#a2a98c1fe01d4f15bb6333773fbbe879c" title="String representation (for printing).">str</a>;
<a name="l00171"></a>00171     };
<a name="l00172"></a>00172 
<a name="l00174"></a><a class="code" href="classMemCmd.html#a258885ef0e0288230122d2523dc46446">00174</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structMemCmd_1_1CommandInfo.html">CommandInfo</a> <a class="code" href="classMemCmd.html#a258885ef0e0288230122d2523dc46446" title="Array to map Command enum to associated info.">commandInfo</a>[];
<a name="l00175"></a>00175 
<a name="l00176"></a>00176   <span class="keyword">private</span>:
<a name="l00177"></a>00177 
<a name="l00178"></a><a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">00178</a>     <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153">Command</a> <a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a>;
<a name="l00179"></a>00179 
<a name="l00180"></a>00180     <span class="keywordtype">bool</span>
<a name="l00181"></a><a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">00181</a>     <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550">MemCmd::Attribute</a> attrib)<span class="keyword"> const</span>
<a name="l00182"></a>00182 <span class="keyword">    </span>{
<a name="l00183"></a>00183         <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a258885ef0e0288230122d2523dc46446" title="Array to map Command enum to associated info.">commandInfo</a>[<a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a>].<a class="code" href="structMemCmd_1_1CommandInfo.html#af901f6d4a4075126b3ca3e4375750afb" title="Set of attribute flags.">attributes</a>[attrib] != 0;
<a name="l00184"></a>00184     }
<a name="l00185"></a>00185 
<a name="l00186"></a>00186   <span class="keyword">public</span>:
<a name="l00187"></a>00187 
<a name="l00188"></a><a class="code" href="classMemCmd.html#adc47901747fc3c447db3abddaf01491a">00188</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#adc47901747fc3c447db3abddaf01491a">isRead</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a5c083a0b513cca57976212fa1a4d6bb1" title="Data flows from responder to requester.">IsRead</a>); }
<a name="l00189"></a><a class="code" href="classMemCmd.html#ab699d2f0d186312531fd1c279fd27b73">00189</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#ab699d2f0d186312531fd1c279fd27b73">isWrite</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a000a93637dc715367664b2c7786cb51c" title="Data flows from requester to responder.">IsWrite</a>); }
<a name="l00190"></a><a class="code" href="classMemCmd.html#aadb2fde0aba4a65b45d591e9ef5b6a63">00190</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#aadb2fde0aba4a65b45d591e9ef5b6a63">isUpgrade</a>()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a5796860c87e0cb27832dd195cd00e997">IsUpgrade</a>); }
<a name="l00191"></a><a class="code" href="classMemCmd.html#af21986d725d75fa8e1b6c83457cd4501">00191</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#af21986d725d75fa8e1b6c83457cd4501">isRequest</a>()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550ac6adcdc7761d2cb9d40a576b7c481228" title="Issued by requester.">IsRequest</a>); }
<a name="l00192"></a><a class="code" href="classMemCmd.html#a5f89a108755a6cb3e8185d85c850a816">00192</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a5f89a108755a6cb3e8185d85c850a816">isResponse</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a1d093a8ecc40bc94191ef6a3c080ecdb" title="Issue by responder.">IsResponse</a>); }
<a name="l00193"></a><a class="code" href="classMemCmd.html#aa8e449288b878ff3ff7f286eb4d28b6a">00193</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#aa8e449288b878ff3ff7f286eb4d28b6a">needsExclusive</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a5f936987e076e52ed3ba4d543bad6d8e" title="Requires exclusive copy to complete in-cache.">NeedsExclusive</a>); }
<a name="l00194"></a><a class="code" href="classMemCmd.html#a390c6cced05593f0a2c75a38a7a24fa9">00194</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a390c6cced05593f0a2c75a38a7a24fa9">needsResponse</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550acb263b087d1077db337a1c833ade51fb" title="Requester needs response from target.">NeedsResponse</a>); }
<a name="l00195"></a><a class="code" href="classMemCmd.html#a4a1a39b8ffab2d6266cd9d794ca332e3">00195</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a4a1a39b8ffab2d6266cd9d794ca332e3">isInvalidate</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a407b5114500c316b270d7b67017fa7f3">IsInvalidate</a>); }
<a name="l00196"></a><a class="code" href="classMemCmd.html#a0effbd4cf91891700ac41e86defe4aa6">00196</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a0effbd4cf91891700ac41e86defe4aa6">hasData</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a6c6101ba1ae52efba8f0aa3f8f804bc3" title="There is an associated payload.">HasData</a>); }
<a name="l00197"></a><a class="code" href="classMemCmd.html#aa05746eae63aee1fb4758c13d0301a9f">00197</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#aa05746eae63aee1fb4758c13d0301a9f">isReadWrite</a>()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#adc47901747fc3c447db3abddaf01491a">isRead</a>() &amp;&amp; <a class="code" href="classMemCmd.html#ab699d2f0d186312531fd1c279fd27b73">isWrite</a>(); }
<a name="l00198"></a><a class="code" href="classMemCmd.html#a8965874e960faf91ad4b6af8dbf31875">00198</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a8965874e960faf91ad4b6af8dbf31875">isLLSC</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a268ffe4dcb1a1da3af7d4f974eb43bb3" title="Alpha/MIPS LL or SC access.">IsLlsc</a>); }
<a name="l00199"></a><a class="code" href="classMemCmd.html#a32759931a1b2d6380407c6a18abd46e3">00199</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a32759931a1b2d6380407c6a18abd46e3">isError</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a932a9e9614446674f38a4d2544b496a6" title="Error response.">IsError</a>); }
<a name="l00200"></a><a class="code" href="classMemCmd.html#ae56bb417ddf53e85cb389267590fe969">00200</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#ae56bb417ddf53e85cb389267590fe969">isPrint</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550aeea6b1fbe81e58d9d3e09320d9a975bf" title="Print state matching address (for debugging).">IsPrint</a>); }
<a name="l00201"></a><a class="code" href="classMemCmd.html#a5e6baaa42eabbb07af2d1769e3c0499b">00201</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a5e6baaa42eabbb07af2d1769e3c0499b">isFlush</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a7327ca4863d15af6e2f7da7d910bb4e9">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a15b1b83081915ae5239f81050ae0f550a88e90f7a52fa39c4ae927bace094d6ab" title="Flush the address from caches.">IsFlush</a>); }
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     <span class="keyword">const</span> <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153">Command</a>
<a name="l00204"></a><a class="code" href="classMemCmd.html#af4ef28145838bba6a01783aa0c919399">00204</a>     <a class="code" href="classMemCmd.html#af4ef28145838bba6a01783aa0c919399">responseCommand</a>()<span class="keyword"> const</span>
<a name="l00205"></a>00205 <span class="keyword">    </span>{
<a name="l00206"></a>00206         <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a258885ef0e0288230122d2523dc46446" title="Array to map Command enum to associated info.">commandInfo</a>[<a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a>].<a class="code" href="structMemCmd_1_1CommandInfo.html#a1c57b679ee250b3cfb3763a8c68a41d2">response</a>;
<a name="l00207"></a>00207     }
<a name="l00208"></a>00208 
<a name="l00210"></a><a class="code" href="classMemCmd.html#a3657c48eb6bb5ad66e3fc4b08c2f87df">00210</a>     <span class="keyword">const</span> std::string &amp;<a class="code" href="classMemCmd.html#a3657c48eb6bb5ad66e3fc4b08c2f87df" title="Return the string to a cmd given by idx.">toString</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a258885ef0e0288230122d2523dc46446" title="Array to map Command enum to associated info.">commandInfo</a>[<a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a>].<a class="code" href="structMemCmd_1_1CommandInfo.html#a2a98c1fe01d4f15bb6333773fbbe879c" title="String representation (for printing).">str</a>; }
<a name="l00211"></a><a class="code" href="classMemCmd.html#af7a5586bcba0f228f5acb3b37ebae263">00211</a>     <span class="keywordtype">int</span> <a class="code" href="classMemCmd.html#af7a5586bcba0f228f5acb3b37ebae263">toInt</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a>; }
<a name="l00212"></a>00212 
<a name="l00213"></a><a class="code" href="classMemCmd.html#adca27b55889ccef624966f301e91939d">00213</a>     <a class="code" href="classMemCmd.html#adca27b55889ccef624966f301e91939d">MemCmd</a>(<a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153">Command</a> _cmd) : <a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a>(_cmd) { }
<a name="l00214"></a><a class="code" href="classMemCmd.html#aada95a87c42e8678ad2d33ddee49371d">00214</a>     <a class="code" href="classMemCmd.html#aada95a87c42e8678ad2d33ddee49371d">MemCmd</a>(<span class="keywordtype">int</span> _cmd) : <a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a>((<a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153">Command</a>)_cmd) { }
<a name="l00215"></a><a class="code" href="classMemCmd.html#a2012f22fb5b2ed31685bcb07d3025045">00215</a>     <a class="code" href="classMemCmd.html#a2012f22fb5b2ed31685bcb07d3025045">MemCmd</a>() : <a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a>(<a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a47dcc37c58138c184357ccbe13373b51">InvalidCmd</a>) { }
<a name="l00216"></a>00216 
<a name="l00217"></a><a class="code" href="classMemCmd.html#a4e98d44fa893425dc7c1501dd11c8fb9">00217</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a4e98d44fa893425dc7c1501dd11c8fb9">operator==</a>(<a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="namespaceMipsISA.html#af545a7d7c9648376a8762e362f9ca024">c2</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a> == c2.<a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a>); }
<a name="l00218"></a><a class="code" href="classMemCmd.html#a2ab512e05fc51ffc4735ba5e3116aa1d">00218</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a2ab512e05fc51ffc4735ba5e3116aa1d">operator!=</a>(<a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="namespaceMipsISA.html#af545a7d7c9648376a8762e362f9ca024">c2</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a> != c2.<a class="code" href="classMemCmd.html#a5870707029cae65976d5de2312937cd5">cmd</a>); }
<a name="l00219"></a>00219 };
<a name="l00220"></a>00220 
<a name="l00228"></a><a class="code" href="classPacket.html">00228</a> <span class="keyword">class </span><a class="code" href="classPacket.html">Packet</a> : <span class="keyword">public</span> <a class="code" href="classPrintable.html">Printable</a>
<a name="l00229"></a>00229 {
<a name="l00230"></a>00230   <span class="keyword">public</span>:
<a name="l00231"></a><a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">00231</a>     <span class="keyword">typedef</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a>;
<a name="l00232"></a><a class="code" href="classPacket.html#ad6cda6b0b8d7ddfbf8e769082577b482">00232</a>     typedef ::Flags&lt;FlagsType&gt; <a class="code" href="classFlags.html">Flags</a>;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234   <span class="keyword">private</span>:
<a name="l00235"></a><a class="code" href="classPacket.html#aedf1d129016ac677627a1e3c2ee6b59a">00235</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#aedf1d129016ac677627a1e3c2ee6b59a">PUBLIC_FLAGS</a>           = 0x00000000;
<a name="l00236"></a><a class="code" href="classPacket.html#aa377b218207b557079f48b02e7acf167">00236</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#aa377b218207b557079f48b02e7acf167">PRIVATE_FLAGS</a>          = 0x00007F0F;
<a name="l00237"></a><a class="code" href="classPacket.html#af494771dbda61056aaad3f6ad7e2d84d">00237</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#af494771dbda61056aaad3f6ad7e2d84d">COPY_FLAGS</a>             = 0x0000000F;
<a name="l00238"></a>00238 
<a name="l00239"></a><a class="code" href="classPacket.html#a3f87955b81ea6f9d7f89d5ab033074f9">00239</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#a3f87955b81ea6f9d7f89d5ab033074f9">SHARED</a>                 = 0x00000001;
<a name="l00240"></a>00240     <span class="comment">// Special control flags</span>
<a name="l00242"></a><a class="code" href="classPacket.html#a0b5a042e640242aeaeeebef73a69df26">00242</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#a0b5a042e640242aeaeeebef73a69df26" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>          = 0x00000002;
<a name="l00245"></a><a class="code" href="classPacket.html#a064f460e5a6ed3522adc424c5d31646a">00245</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#a064f460e5a6ed3522adc424c5d31646a">SUPPLY_EXCLUSIVE</a>       = 0x00000004;
<a name="l00246"></a>00246     <span class="comment">// Snoop response flags</span>
<a name="l00247"></a><a class="code" href="classPacket.html#aae6e80e571cf0888e7583aa556c3f171">00247</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#aae6e80e571cf0888e7583aa556c3f171">MEM_INHIBIT</a>            = 0x00000008;
<a name="l00249"></a><a class="code" href="classPacket.html#ac99ea8fdca503270882373e7a801a2b6">00249</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#ac99ea8fdca503270882373e7a801a2b6" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>             = 0x00000100;
<a name="l00250"></a><a class="code" href="classPacket.html#a3e2067968b47a2acb352b48bced164cf">00250</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#a3e2067968b47a2acb352b48bced164cf">VALID_SIZE</a>             = 0x00000200;
<a name="l00253"></a><a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">00253</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">STATIC_DATA</a>            = 0x00001000;
<a name="l00256"></a><a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">00256</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>           = 0x00002000;
<a name="l00259"></a><a class="code" href="classPacket.html#a861863488f543d1fd5aaf422469ba27a">00259</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#a861863488f543d1fd5aaf422469ba27a">ARRAY_DATA</a>             = 0x00004000;
<a name="l00262"></a><a class="code" href="classPacket.html#a5e3b50f943fac776d71dbe3ff03cc7a5">00262</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#a5e3b50f943fac776d71dbe3ff03cc7a5">SUPPRESS_FUNC_ERROR</a>    = 0x00008000;
<a name="l00263"></a>00263     <span class="comment">// Signal prefetch squash through express snoop flag</span>
<a name="l00264"></a><a class="code" href="classPacket.html#ae2bdbe737a4cf46b8bedebcaa602d23a">00264</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#a2da503161d95c65aea559dbabcf570aa">FlagsType</a> <a class="code" href="classPacket.html#ae2bdbe737a4cf46b8bedebcaa602d23a">PREFETCH_SNOOP_SQUASH</a>  = 0x00010000;
<a name="l00265"></a>00265 
<a name="l00266"></a><a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">00266</a>     <a class="code" href="classFlags.html">Flags</a> <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>;
<a name="l00267"></a>00267 
<a name="l00268"></a>00268   <span class="keyword">public</span>:
<a name="l00269"></a><a class="code" href="classPacket.html#a1f48acf35af3589c5f137c85deff8e85">00269</a>     <span class="keyword">typedef</span> <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153">MemCmd::Command</a> <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153">Command</a>;
<a name="l00270"></a>00270 
<a name="l00272"></a><a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001">00272</a>     <a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>;
<a name="l00273"></a>00273 
<a name="l00275"></a><a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2">00275</a>     <a class="code" href="classRequest.html">RequestPtr</a> <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277   <span class="keyword">private</span>:
<a name="l00285"></a>00285   <span class="comment">/*typedef uint8 *PacketDataPtr*/</span>
<a name="l00286"></a><a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">00286</a>     <a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">PacketDataPtr</a> <a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a>;
<a name="l00287"></a>00287 
<a name="l00290"></a><a class="code" href="classPacket.html#a0bb77b4ba61e408313e1118250f9278c">00290</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="classPacket.html#a0bb77b4ba61e408313e1118250f9278c">addr</a>;
<a name="l00291"></a>00291 
<a name="l00293"></a><a class="code" href="classPacket.html#a8575be38d53d73568838d5805df1cf63">00293</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a8575be38d53d73568838d5805df1cf63" title="True if the request targets the secure memory space.">_isSecure</a>;
<a name="l00294"></a>00294 
<a name="l00296"></a><a class="code" href="classPacket.html#a245260f6f74972558f61b85227df5aae">00296</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classPacket.html#a245260f6f74972558f61b85227df5aae" title="The size of the request or transfer.">size</a>;
<a name="l00297"></a>00297 
<a name="l00310"></a><a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">00310</a>     <a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> <a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">src</a>;
<a name="l00311"></a>00311 
<a name="l00320"></a><a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">00320</a>     <a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> <a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">dest</a>;
<a name="l00321"></a>00321 
<a name="l00328"></a><a class="code" href="classPacket.html#a98424e5b505c05a999a7e03dd4caa0fa">00328</a>     <a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="classPacket.html#a98424e5b505c05a999a7e03dd4caa0fa">origCmd</a>;
<a name="l00329"></a>00329 
<a name="l00334"></a><a class="code" href="classPacket.html#a5a3c6bfd022f6812ff7f168c5233ad23">00334</a>     uint16_t <a class="code" href="classPacket.html#a5a3c6bfd022f6812ff7f168c5233ad23">bytesValidStart</a>;
<a name="l00335"></a><a class="code" href="classPacket.html#ae0d66052bfed50bce9fd141f1728b755">00335</a>     uint16_t <a class="code" href="classPacket.html#ae0d66052bfed50bce9fd141f1728b755">bytesValidEnd</a>;
<a name="l00336"></a>00336 
<a name="l00337"></a>00337   <span class="keyword">public</span>:
<a name="l00338"></a>00338 
<a name="l00346"></a><a class="code" href="classPacket.html#af8986a05caa6c5b96b0b01bb6cf47772">00346</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classPacket.html#af8986a05caa6c5b96b0b01bb6cf47772">busFirstWordDelay</a>;
<a name="l00347"></a>00347 
<a name="l00355"></a><a class="code" href="classPacket.html#a7bf8ae0a056329f751eda8b39ca4c268">00355</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classPacket.html#a7bf8ae0a056329f751eda8b39ca4c268">busLastWordDelay</a>;
<a name="l00356"></a>00356 
<a name="l00374"></a><a class="code" href="structPacket_1_1SenderState.html">00374</a>     <span class="keyword">struct </span><a class="code" href="structPacket_1_1SenderState.html">SenderState</a>
<a name="l00375"></a>00375     {
<a name="l00376"></a><a class="code" href="structPacket_1_1SenderState.html#aad46f26edbbfb9590a22fdf58ff18d84">00376</a>         <a class="code" href="structPacket_1_1SenderState.html">SenderState</a>* <a class="code" href="structPacket_1_1SenderState.html#aad46f26edbbfb9590a22fdf58ff18d84">predecessor</a>;
<a name="l00377"></a><a class="code" href="structPacket_1_1SenderState.html#a72a1de46c51baff7fe6dd6f9398309ff">00377</a>         <a class="code" href="structPacket_1_1SenderState.html#a72a1de46c51baff7fe6dd6f9398309ff">SenderState</a>() : <a class="code" href="structPacket_1_1SenderState.html#aad46f26edbbfb9590a22fdf58ff18d84">predecessor</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>) {}
<a name="l00378"></a><a class="code" href="structPacket_1_1SenderState.html#a20a824a492d3f182e3f8982771298cfe">00378</a>         <span class="keyword">virtual</span> <a class="code" href="structPacket_1_1SenderState.html#a20a824a492d3f182e3f8982771298cfe">~SenderState</a>() {}
<a name="l00379"></a>00379     };
<a name="l00380"></a>00380 
<a name="l00385"></a><a class="code" href="classPacket_1_1PrintReqState.html">00385</a>     <span class="keyword">class </span><a class="code" href="classPacket_1_1PrintReqState.html">PrintReqState</a> : <span class="keyword">public</span> <a class="code" href="structPacket_1_1SenderState.html">SenderState</a>
<a name="l00386"></a>00386     {
<a name="l00387"></a>00387       <span class="keyword">private</span>:
<a name="l00391"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html">00391</a>         <span class="keyword">struct </span><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html">LabelStackEntry</a>
<a name="l00392"></a>00392         {
<a name="l00393"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#ae471a4c4073716b769170188214fe93d">00393</a>             <span class="keyword">const</span> std::string <a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#ae471a4c4073716b769170188214fe93d">label</a>;
<a name="l00394"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a7cea951e64ac35a854019b66b9105b19">00394</a>             std::string *<a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a7cea951e64ac35a854019b66b9105b19">prefix</a>;
<a name="l00395"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a22c23d7ca10090672c77c87d2f1e0a15">00395</a>             <span class="keywordtype">bool</span> <a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a22c23d7ca10090672c77c87d2f1e0a15">labelPrinted</a>;
<a name="l00396"></a>00396             <a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#aed7364376d59ea5dbd1a4d6cf6496118">LabelStackEntry</a>(<span class="keyword">const</span> std::string &amp;_label, std::string *_prefix);
<a name="l00397"></a>00397         };
<a name="l00398"></a>00398 
<a name="l00399"></a><a class="code" href="classPacket_1_1PrintReqState.html#a4b65145a78e94ca9e3e1e4cb81d6852f">00399</a>         <span class="keyword">typedef</span> <a class="code" href="classstd_1_1list.html">std::list&lt;LabelStackEntry&gt;</a> <a class="code" href="classstd_1_1list.html">LabelStack</a>;
<a name="l00400"></a><a class="code" href="classPacket_1_1PrintReqState.html#a4e8dbaefec458a8dd7b66a5e8c20db04">00400</a>         <a class="code" href="classstd_1_1list.html">LabelStack</a> <a class="code" href="classPacket_1_1PrintReqState.html#a4e8dbaefec458a8dd7b66a5e8c20db04">labelStack</a>;
<a name="l00401"></a>00401 
<a name="l00402"></a><a class="code" href="classPacket_1_1PrintReqState.html#a3a19280cb30a487c3097469433fb9aba">00402</a>         std::string *<a class="code" href="classPacket_1_1PrintReqState.html#a3a19280cb30a487c3097469433fb9aba">curPrefixPtr</a>;
<a name="l00403"></a>00403 
<a name="l00404"></a>00404       <span class="keyword">public</span>:
<a name="l00405"></a><a class="code" href="classPacket_1_1PrintReqState.html#a1a917786b846a8a836dd09f6970db62a">00405</a>         std::ostream &amp;<a class="code" href="classPacket_1_1PrintReqState.html#a1a917786b846a8a836dd09f6970db62a">os</a>;
<a name="l00406"></a><a class="code" href="classPacket_1_1PrintReqState.html#ae2bc69d2191ab7552502f23bee9f8295">00406</a>         <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classPacket_1_1PrintReqState.html#ae2bc69d2191ab7552502f23bee9f8295">verbosity</a>;
<a name="l00407"></a>00407 
<a name="l00408"></a>00408         <a class="code" href="classPacket_1_1PrintReqState.html#a2e853be0fa1049895136c8bfae01446f">PrintReqState</a>(std::ostream &amp;<a class="code" href="classPacket_1_1PrintReqState.html#a1a917786b846a8a836dd09f6970db62a">os</a>, <span class="keywordtype">int</span> <a class="code" href="classPacket_1_1PrintReqState.html#ae2bc69d2191ab7552502f23bee9f8295">verbosity</a> = 0);
<a name="l00409"></a>00409         <a class="code" href="classPacket_1_1PrintReqState.html#ac45cb047672396b55a3e6a96415c4f61">~PrintReqState</a>();
<a name="l00410"></a>00410 
<a name="l00414"></a><a class="code" href="classPacket_1_1PrintReqState.html#ad5d5a6a6da677a4961b84d82bbe05153">00414</a>         <span class="keyword">const</span> std::string &amp;<a class="code" href="classPacket_1_1PrintReqState.html#ad5d5a6a6da677a4961b84d82bbe05153">curPrefix</a>() { <span class="keywordflow">return</span> *<a class="code" href="classPacket_1_1PrintReqState.html#a3a19280cb30a487c3097469433fb9aba">curPrefixPtr</a>; }
<a name="l00415"></a>00415 
<a name="l00421"></a>00421         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#a41a5d865ff796adb9576e663888d1b6a">pushLabel</a>(<span class="keyword">const</span> std::string &amp;lbl,
<a name="l00422"></a>00422                        <span class="keyword">const</span> std::string &amp;prefix = <span class="stringliteral">&quot;  &quot;</span>);
<a name="l00423"></a>00423 
<a name="l00427"></a>00427         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#a3ab6da7065be0d85f45a8dd050515f16">popLabel</a>();
<a name="l00428"></a>00428 
<a name="l00434"></a>00434         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#afbf1f814881d73eefde6bccdde641db8">printLabels</a>();
<a name="l00435"></a>00435 
<a name="l00440"></a>00440         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#a943819fd659ba72526301cffe5479ed9">printObj</a>(<a class="code" href="classPrintable.html">Printable</a> *obj);
<a name="l00441"></a>00441     };
<a name="l00442"></a>00442 
<a name="l00451"></a><a class="code" href="classPacket.html#a983ade0479f946c813284dcc65073367">00451</a>     <a class="code" href="structPacket_1_1SenderState.html">SenderState</a> *<a class="code" href="classPacket.html#a983ade0479f946c813284dcc65073367">senderState</a>;
<a name="l00452"></a>00452 
<a name="l00461"></a>00461     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a6a6aa11d6c2aec2df5aafeefe2847d8e">pushSenderState</a>(<a class="code" href="structPacket_1_1SenderState.html">SenderState</a> *sender_state);
<a name="l00462"></a>00462 
<a name="l00471"></a>00471     <a class="code" href="structPacket_1_1SenderState.html">SenderState</a> *<a class="code" href="classPacket.html#a6f73d3ef605e592952b5586975161bfd">popSenderState</a>();
<a name="l00472"></a>00472 
<a name="l00480"></a>00480     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00481"></a><a class="code" href="classPacket.html#a55ab7685d5e3c590ee23ca4ec7c3c0a0">00481</a>     T * <a class="code" href="classPacket.html#a55ab7685d5e3c590ee23ca4ec7c3c0a0">findNextSenderState</a>()<span class="keyword"> const</span>
<a name="l00482"></a>00482 <span class="keyword">    </span>{
<a name="l00483"></a>00483         T *<a class="code" href="namespaceArmISA.html#af5dfd7e551f8c5b461816e813dab252f">t</a> = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00484"></a>00484         <a class="code" href="structPacket_1_1SenderState.html">SenderState</a>* sender_state = <a class="code" href="classPacket.html#a983ade0479f946c813284dcc65073367">senderState</a>;
<a name="l00485"></a>00485         <span class="keywordflow">while</span> (t == <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a> &amp;&amp; sender_state != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>) {
<a name="l00486"></a>00486             t = <span class="keyword">dynamic_cast&lt;</span>T*<span class="keyword">&gt;</span>(sender_state);
<a name="l00487"></a>00487             sender_state = sender_state-&gt;<a class="code" href="structPacket_1_1SenderState.html#aad46f26edbbfb9590a22fdf58ff18d84">predecessor</a>;
<a name="l00488"></a>00488         }
<a name="l00489"></a>00489         <span class="keywordflow">return</span> t;
<a name="l00490"></a>00490     }
<a name="l00491"></a>00491 
<a name="l00494"></a><a class="code" href="classPacket.html#a863af57e28a01258236ea303155fc7ff">00494</a>     <span class="keyword">const</span> std::string &amp;<a class="code" href="classPacket.html#a863af57e28a01258236ea303155fc7ff">cmdString</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a3657c48eb6bb5ad66e3fc4b08c2f87df" title="Return the string to a cmd given by idx.">toString</a>(); }
<a name="l00495"></a>00495 
<a name="l00497"></a><a class="code" href="classPacket.html#a8db75870e65b9d86793f2805097c05a0">00497</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classPacket.html#a8db75870e65b9d86793f2805097c05a0" title="Return the index of this command.">cmdToIndex</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#af7a5586bcba0f228f5acb3b37ebae263">toInt</a>(); }
<a name="l00498"></a>00498 
<a name="l00499"></a><a class="code" href="classPacket.html#adc47901747fc3c447db3abddaf01491a">00499</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#adc47901747fc3c447db3abddaf01491a">isRead</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#adc47901747fc3c447db3abddaf01491a">isRead</a>(); }
<a name="l00500"></a><a class="code" href="classPacket.html#ab699d2f0d186312531fd1c279fd27b73">00500</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#ab699d2f0d186312531fd1c279fd27b73">isWrite</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ab699d2f0d186312531fd1c279fd27b73">isWrite</a>(); }
<a name="l00501"></a><a class="code" href="classPacket.html#aadb2fde0aba4a65b45d591e9ef5b6a63">00501</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#aadb2fde0aba4a65b45d591e9ef5b6a63">isUpgrade</a>()<span class="keyword">  const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#aadb2fde0aba4a65b45d591e9ef5b6a63">isUpgrade</a>(); }
<a name="l00502"></a><a class="code" href="classPacket.html#af21986d725d75fa8e1b6c83457cd4501">00502</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#af21986d725d75fa8e1b6c83457cd4501">isRequest</a>()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#af21986d725d75fa8e1b6c83457cd4501">isRequest</a>(); }
<a name="l00503"></a><a class="code" href="classPacket.html#a5f89a108755a6cb3e8185d85c850a816">00503</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a5f89a108755a6cb3e8185d85c850a816">isResponse</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a5f89a108755a6cb3e8185d85c850a816">isResponse</a>(); }
<a name="l00504"></a><a class="code" href="classPacket.html#aa8e449288b878ff3ff7f286eb4d28b6a">00504</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#aa8e449288b878ff3ff7f286eb4d28b6a">needsExclusive</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#aa8e449288b878ff3ff7f286eb4d28b6a">needsExclusive</a>(); }
<a name="l00505"></a><a class="code" href="classPacket.html#a390c6cced05593f0a2c75a38a7a24fa9">00505</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a390c6cced05593f0a2c75a38a7a24fa9">needsResponse</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a390c6cced05593f0a2c75a38a7a24fa9">needsResponse</a>(); }
<a name="l00506"></a><a class="code" href="classPacket.html#a4a1a39b8ffab2d6266cd9d794ca332e3">00506</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a4a1a39b8ffab2d6266cd9d794ca332e3">isInvalidate</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a4a1a39b8ffab2d6266cd9d794ca332e3">isInvalidate</a>(); }
<a name="l00507"></a><a class="code" href="classPacket.html#a0effbd4cf91891700ac41e86defe4aa6">00507</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a0effbd4cf91891700ac41e86defe4aa6">hasData</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a0effbd4cf91891700ac41e86defe4aa6">hasData</a>(); }
<a name="l00508"></a><a class="code" href="classPacket.html#aa05746eae63aee1fb4758c13d0301a9f">00508</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#aa05746eae63aee1fb4758c13d0301a9f">isReadWrite</a>()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#aa05746eae63aee1fb4758c13d0301a9f">isReadWrite</a>(); }
<a name="l00509"></a><a class="code" href="classPacket.html#a8965874e960faf91ad4b6af8dbf31875">00509</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a8965874e960faf91ad4b6af8dbf31875">isLLSC</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a8965874e960faf91ad4b6af8dbf31875">isLLSC</a>(); }
<a name="l00510"></a><a class="code" href="classPacket.html#a32759931a1b2d6380407c6a18abd46e3">00510</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a32759931a1b2d6380407c6a18abd46e3">isError</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a32759931a1b2d6380407c6a18abd46e3">isError</a>(); }
<a name="l00511"></a><a class="code" href="classPacket.html#ae56bb417ddf53e85cb389267590fe969">00511</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#ae56bb417ddf53e85cb389267590fe969">isPrint</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ae56bb417ddf53e85cb389267590fe969">isPrint</a>(); }
<a name="l00512"></a><a class="code" href="classPacket.html#a5e6baaa42eabbb07af2d1769e3c0499b">00512</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a5e6baaa42eabbb07af2d1769e3c0499b">isFlush</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a5e6baaa42eabbb07af2d1769e3c0499b">isFlush</a>(); }
<a name="l00513"></a>00513 
<a name="l00514"></a>00514     <span class="comment">// Snoop flags</span>
<a name="l00515"></a><a class="code" href="classPacket.html#a159497b4ab2144a0c1c36d2266df17d1">00515</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a159497b4ab2144a0c1c36d2266df17d1">assertMemInhibit</a>()         { <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#aae6e80e571cf0888e7583aa556c3f171">MEM_INHIBIT</a>); }
<a name="l00516"></a><a class="code" href="classPacket.html#a9693a1ffeda326646443ab2a2a92be41">00516</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a9693a1ffeda326646443ab2a2a92be41">memInhibitAsserted</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#aae6e80e571cf0888e7583aa556c3f171">MEM_INHIBIT</a>); }
<a name="l00517"></a><a class="code" href="classPacket.html#a40d9a7952a041e62ac388a0f523dee41">00517</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a40d9a7952a041e62ac388a0f523dee41">assertShared</a>()             { <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#a3f87955b81ea6f9d7f89d5ab033074f9">SHARED</a>); }
<a name="l00518"></a><a class="code" href="classPacket.html#a298938bfa2613955b13f630ce2b591e4">00518</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a298938bfa2613955b13f630ce2b591e4">sharedAsserted</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#a3f87955b81ea6f9d7f89d5ab033074f9">SHARED</a>); }
<a name="l00519"></a>00519 
<a name="l00520"></a>00520     <span class="comment">// Special control flags</span>
<a name="l00521"></a><a class="code" href="classPacket.html#a556d03576cc3d726f41c7e1ad6fbb64a">00521</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a556d03576cc3d726f41c7e1ad6fbb64a">setExpressSnoop</a>()          { <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#a0b5a042e640242aeaeeebef73a69df26" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>); }
<a name="l00522"></a><a class="code" href="classPacket.html#aa20026c596161a1efabde68c4a34e00b">00522</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#aa20026c596161a1efabde68c4a34e00b">isExpressSnoop</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#a0b5a042e640242aeaeeebef73a69df26" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>); }
<a name="l00523"></a><a class="code" href="classPacket.html#ad0e298222c7b6801ea282a177fac7c39">00523</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#ad0e298222c7b6801ea282a177fac7c39">setSupplyExclusive</a>()       { <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#a064f460e5a6ed3522adc424c5d31646a">SUPPLY_EXCLUSIVE</a>); }
<a name="l00524"></a><a class="code" href="classPacket.html#a36834b936b153f19a035352b14cf180e">00524</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a36834b936b153f19a035352b14cf180e">clearSupplyExclusive</a>()     { <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac8bb3912a3ce86b15842e79d0b421204">clear</a>(<a class="code" href="classPacket.html#a064f460e5a6ed3522adc424c5d31646a">SUPPLY_EXCLUSIVE</a>); }
<a name="l00525"></a><a class="code" href="classPacket.html#ae74f555f87001a9695338ce38a6ce8ee">00525</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#ae74f555f87001a9695338ce38a6ce8ee">isSupplyExclusive</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#a064f460e5a6ed3522adc424c5d31646a">SUPPLY_EXCLUSIVE</a>); }
<a name="l00526"></a><a class="code" href="classPacket.html#ad0ca097f61c7d5d16df21635617d8d07">00526</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#ad0ca097f61c7d5d16df21635617d8d07">setSuppressFuncError</a>()     { <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#a5e3b50f943fac776d71dbe3ff03cc7a5">SUPPRESS_FUNC_ERROR</a>); }
<a name="l00527"></a><a class="code" href="classPacket.html#a181cb46d55a9f0f933fe649c6937d037">00527</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a181cb46d55a9f0f933fe649c6937d037">suppressFuncError</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#a5e3b50f943fac776d71dbe3ff03cc7a5">SUPPRESS_FUNC_ERROR</a>); }
<a name="l00528"></a><a class="code" href="classPacket.html#a49108ef8d9510ea6b9982e9e97ca971b">00528</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a49108ef8d9510ea6b9982e9e97ca971b">setPrefetchSquashed</a>()      { <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#ae2bdbe737a4cf46b8bedebcaa602d23a">PREFETCH_SNOOP_SQUASH</a>); }
<a name="l00529"></a><a class="code" href="classPacket.html#a142c7ae41f822269b145818af682f031">00529</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a142c7ae41f822269b145818af682f031">prefetchSquashed</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#ae2bdbe737a4cf46b8bedebcaa602d23a">PREFETCH_SNOOP_SQUASH</a>); }
<a name="l00530"></a>00530 
<a name="l00531"></a>00531     <span class="comment">// Network error conditions... encapsulate them as methods since</span>
<a name="l00532"></a>00532     <span class="comment">// their encoding keeps changing (from result field to command</span>
<a name="l00533"></a>00533     <span class="comment">// field, etc.)</span>
<a name="l00534"></a>00534     <span class="keywordtype">void</span>
<a name="l00535"></a><a class="code" href="classPacket.html#a44c3e4fcce6474af8052d68e75826c13">00535</a>     <a class="code" href="classPacket.html#a44c3e4fcce6474af8052d68e75826c13">setBadAddress</a>()
<a name="l00536"></a>00536     {
<a name="l00537"></a>00537         assert(<a class="code" href="classPacket.html#a5f89a108755a6cb3e8185d85c850a816">isResponse</a>());
<a name="l00538"></a>00538         <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a> = <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ad6c42a4047ddaa6e335ec87694559e5c">MemCmd::BadAddressError</a>;
<a name="l00539"></a>00539     }
<a name="l00540"></a>00540 
<a name="l00541"></a><a class="code" href="classPacket.html#a729b79fed5294aff99bb49b6b6d888bc">00541</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a729b79fed5294aff99bb49b6b6d888bc">hadBadAddress</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a> == <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153ad6c42a4047ddaa6e335ec87694559e5c">MemCmd::BadAddressError</a>; }
<a name="l00542"></a><a class="code" href="classPacket.html#a838dc8f424eaa81aa7ee30fb4c5900a0">00542</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a838dc8f424eaa81aa7ee30fb4c5900a0">copyError</a>(<a class="code" href="classPacket.html">Packet</a> *pkt) { assert(pkt-&gt;<a class="code" href="classPacket.html#a32759931a1b2d6380407c6a18abd46e3">isError</a>()); <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a> = pkt-&gt;<a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>; }
<a name="l00543"></a>00543 
<a name="l00544"></a><a class="code" href="classPacket.html#a298fc6cc50f34dc7eaee82b746129eb3">00544</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a298fc6cc50f34dc7eaee82b746129eb3">isSrcValid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">src</a> != <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>; }
<a name="l00546"></a><a class="code" href="classPacket.html#a6ac1bab8f0db56da42ee3359c3aef5dc">00546</a>     <a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> <a class="code" href="classPacket.html#a6ac1bab8f0db56da42ee3359c3aef5dc" title="Accessor function to get the source index of the packet.">getSrc</a>()<span class="keyword"> const </span>{ assert(<a class="code" href="classPacket.html#a298fc6cc50f34dc7eaee82b746129eb3">isSrcValid</a>()); <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">src</a>; }
<a name="l00548"></a><a class="code" href="classPacket.html#a6e173cf473a751a0e969c1561a4184cc">00548</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a6e173cf473a751a0e969c1561a4184cc" title="Accessor function to set the source index of the packet.">setSrc</a>(<a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> _src) { <a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">src</a> = _src; }
<a name="l00550"></a><a class="code" href="classPacket.html#a65f22eb305e0e75fe1c4e484f046c00e">00550</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a65f22eb305e0e75fe1c4e484f046c00e" title="Reset source field, e.g. to retransmit packet on different bus.">clearSrc</a>() { <a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">src</a> = <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>; }
<a name="l00551"></a>00551 
<a name="l00552"></a><a class="code" href="classPacket.html#a1a0afe1ec029c745df5d36293d306800">00552</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a1a0afe1ec029c745df5d36293d306800">isDestValid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">dest</a> != <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>; }
<a name="l00554"></a><a class="code" href="classPacket.html#a8c4564a96830dffcc13f56b716afa674">00554</a>     <a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> <a class="code" href="classPacket.html#a8c4564a96830dffcc13f56b716afa674" title="Accessor function for the destination index of the packet.">getDest</a>()<span class="keyword"> const </span>{ assert(<a class="code" href="classPacket.html#a1a0afe1ec029c745df5d36293d306800">isDestValid</a>()); <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">dest</a>; }
<a name="l00556"></a><a class="code" href="classPacket.html#a20739d8f669d352681830025686158ce">00556</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a20739d8f669d352681830025686158ce" title="Accessor function to set the destination index of the packet.">setDest</a>(<a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> _dest) { <a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">dest</a> = _dest; }
<a name="l00558"></a><a class="code" href="classPacket.html#a2d986bc7c63bf7c63e392296d32f77ae">00558</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a2d986bc7c63bf7c63e392296d32f77ae" title="Reset destination field, e.g. to turn a response into a request again.">clearDest</a>() { <a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">dest</a> = <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>; }
<a name="l00559"></a>00559 
<a name="l00560"></a><a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">00560</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>()<span class="keyword"> const </span>{ assert(<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#ac99ea8fdca503270882373e7a801a2b6" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>)); <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a0bb77b4ba61e408313e1118250f9278c">addr</a>; }
<a name="l00568"></a><a class="code" href="classPacket.html#ac449086ed3ddac64f5f55926907b6b0c">00568</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#ac449086ed3ddac64f5f55926907b6b0c">setAddr</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> _addr) { assert(<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#ac99ea8fdca503270882373e7a801a2b6" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>)); <a class="code" href="classPacket.html#a0bb77b4ba61e408313e1118250f9278c">addr</a> = _addr; }
<a name="l00569"></a>00569 
<a name="l00570"></a><a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">00570</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>()<span class="keyword"> const  </span>{ assert(<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#a3e2067968b47a2acb352b48bced164cf">VALID_SIZE</a>)); <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a245260f6f74972558f61b85227df5aae" title="The size of the request or transfer.">size</a>; }
<a name="l00571"></a><a class="code" href="classPacket.html#a8c497c6b3c41668562b2a2aa57ad098d">00571</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="classPacket.html#a8c497c6b3c41668562b2a2aa57ad098d">getOffset</a>(<span class="keywordtype">int</span> blkSize)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() &amp; (<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>)(blkSize - 1); }
<a name="l00572"></a>00572 
<a name="l00573"></a><a class="code" href="classPacket.html#a3110ebf17828782ae5aeced7396cfff2">00573</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a3110ebf17828782ae5aeced7396cfff2">isSecure</a>()<span class="keyword"> const</span>
<a name="l00574"></a>00574 <span class="keyword">    </span>{
<a name="l00575"></a>00575         assert(<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#ac99ea8fdca503270882373e7a801a2b6" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>));
<a name="l00576"></a>00576         <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a8575be38d53d73568838d5805df1cf63" title="True if the request targets the secure memory space.">_isSecure</a>;
<a name="l00577"></a>00577     }
<a name="l00578"></a>00578 
<a name="l00583"></a>00583     <span class="keywordtype">void</span>
<a name="l00584"></a><a class="code" href="classPacket.html#ac4dec10b288f4bdc07dd66688b81f832">00584</a>     <a class="code" href="classPacket.html#ac4dec10b288f4bdc07dd66688b81f832">convertScToWrite</a>()
<a name="l00585"></a>00585     {
<a name="l00586"></a>00586         assert(<a class="code" href="classPacket.html#a8965874e960faf91ad4b6af8dbf31875">isLLSC</a>());
<a name="l00587"></a>00587         assert(<a class="code" href="classPacket.html#ab699d2f0d186312531fd1c279fd27b73">isWrite</a>());
<a name="l00588"></a>00588         <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a> = <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153aa5ec34a7e56b23ff12c9b819519d168a">MemCmd::WriteReq</a>;
<a name="l00589"></a>00589     }
<a name="l00590"></a>00590 
<a name="l00595"></a>00595     <span class="keywordtype">void</span>
<a name="l00596"></a><a class="code" href="classPacket.html#a4d3d1abff83d841c66d318d026a5d58e">00596</a>     <a class="code" href="classPacket.html#a4d3d1abff83d841c66d318d026a5d58e">convertLlToRead</a>()
<a name="l00597"></a>00597     {
<a name="l00598"></a>00598         assert(<a class="code" href="classPacket.html#a8965874e960faf91ad4b6af8dbf31875">isLLSC</a>());
<a name="l00599"></a>00599         assert(<a class="code" href="classPacket.html#adc47901747fc3c447db3abddaf01491a">isRead</a>());
<a name="l00600"></a>00600         <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a> = <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a96120c772a9cb695fe62ca81ec93a53b">MemCmd::ReadReq</a>;
<a name="l00601"></a>00601     }
<a name="l00602"></a>00602 
<a name="l00608"></a><a class="code" href="classPacket.html#af96a2c11524631f891fcbd42cf919f53">00608</a>     <a class="code" href="classPacket.html#af96a2c11524631f891fcbd42cf919f53">Packet</a>(<a class="code" href="classRequest.html">Request</a> *_req, <a class="code" href="classMemCmd.html">MemCmd</a> _cmd)
<a name="l00609"></a>00609         :  <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>(_cmd), <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>(_req), <a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>),
<a name="l00610"></a>00610            <a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">src</a>(<a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>), <a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">dest</a>(<a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>),
<a name="l00611"></a>00611            <a class="code" href="classPacket.html#a5a3c6bfd022f6812ff7f168c5233ad23">bytesValidStart</a>(0), <a class="code" href="classPacket.html#ae0d66052bfed50bce9fd141f1728b755">bytesValidEnd</a>(0),
<a name="l00612"></a>00612            <a class="code" href="classPacket.html#af8986a05caa6c5b96b0b01bb6cf47772">busFirstWordDelay</a>(0), <a class="code" href="classPacket.html#a7bf8ae0a056329f751eda8b39ca4c268">busLastWordDelay</a>(0),
<a name="l00613"></a>00613            <a class="code" href="classPacket.html#a983ade0479f946c813284dcc65073367">senderState</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>)
<a name="l00614"></a>00614     {
<a name="l00615"></a>00615         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#af9673cab591724dc74122a8e663389ce">hasPaddr</a>()) {
<a name="l00616"></a>00616             <a class="code" href="classPacket.html#a0bb77b4ba61e408313e1118250f9278c">addr</a> = <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a744ef11a5afe9d3651ce5f954259cb43">getPaddr</a>();
<a name="l00617"></a>00617             <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#ac99ea8fdca503270882373e7a801a2b6" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>);
<a name="l00618"></a>00618             <a class="code" href="classPacket.html#a8575be38d53d73568838d5805df1cf63" title="True if the request targets the secure memory space.">_isSecure</a> = <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a3110ebf17828782ae5aeced7396cfff2">isSecure</a>();
<a name="l00619"></a>00619         }
<a name="l00620"></a>00620         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#aa0a08d6a3e0e8ca6801d0b8668b2800a">hasSize</a>()) {
<a name="l00621"></a>00621             <a class="code" href="classPacket.html#a245260f6f74972558f61b85227df5aae" title="The size of the request or transfer.">size</a> = <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a3c4029b904a61a9873e6d12785ce19a1">getSize</a>();
<a name="l00622"></a>00622             <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#a3e2067968b47a2acb352b48bced164cf">VALID_SIZE</a>);
<a name="l00623"></a>00623         }
<a name="l00624"></a>00624     }
<a name="l00625"></a>00625 
<a name="l00631"></a><a class="code" href="classPacket.html#a14ed9efd5f1e1b89778e2dd02cb0d6ab">00631</a>     <a class="code" href="classPacket.html#af96a2c11524631f891fcbd42cf919f53">Packet</a>(<a class="code" href="classRequest.html">Request</a> *_req, <a class="code" href="classMemCmd.html">MemCmd</a> _cmd, <span class="keywordtype">int</span> _blkSize)
<a name="l00632"></a>00632         :  <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>(_cmd), <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>(_req), <a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>),
<a name="l00633"></a>00633            <a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">src</a>(<a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>), <a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">dest</a>(<a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>),
<a name="l00634"></a>00634            <a class="code" href="classPacket.html#a5a3c6bfd022f6812ff7f168c5233ad23">bytesValidStart</a>(0), <a class="code" href="classPacket.html#ae0d66052bfed50bce9fd141f1728b755">bytesValidEnd</a>(0),
<a name="l00635"></a>00635            <a class="code" href="classPacket.html#af8986a05caa6c5b96b0b01bb6cf47772">busFirstWordDelay</a>(0), <a class="code" href="classPacket.html#a7bf8ae0a056329f751eda8b39ca4c268">busLastWordDelay</a>(0),
<a name="l00636"></a>00636            <a class="code" href="classPacket.html#a983ade0479f946c813284dcc65073367">senderState</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>)
<a name="l00637"></a>00637     {
<a name="l00638"></a>00638         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#af9673cab591724dc74122a8e663389ce">hasPaddr</a>()) {
<a name="l00639"></a>00639             <a class="code" href="classPacket.html#a0bb77b4ba61e408313e1118250f9278c">addr</a> = <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a744ef11a5afe9d3651ce5f954259cb43">getPaddr</a>() &amp; ~(_blkSize - 1);
<a name="l00640"></a>00640             <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#ac99ea8fdca503270882373e7a801a2b6" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>);
<a name="l00641"></a>00641             <a class="code" href="classPacket.html#a8575be38d53d73568838d5805df1cf63" title="True if the request targets the secure memory space.">_isSecure</a> = <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a3110ebf17828782ae5aeced7396cfff2">isSecure</a>();
<a name="l00642"></a>00642         }
<a name="l00643"></a>00643         <a class="code" href="classPacket.html#a245260f6f74972558f61b85227df5aae" title="The size of the request or transfer.">size</a> = _blkSize;
<a name="l00644"></a>00644         <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#a3e2067968b47a2acb352b48bced164cf">VALID_SIZE</a>);
<a name="l00645"></a>00645     }
<a name="l00646"></a>00646 
<a name="l00654"></a><a class="code" href="classPacket.html#a19cdd324c9f9070b3031e8a4521ac4ba">00654</a>     <a class="code" href="classPacket.html#af96a2c11524631f891fcbd42cf919f53">Packet</a>(<a class="code" href="classPacket.html">Packet</a> *pkt, <span class="keywordtype">bool</span> clearFlags = <span class="keyword">false</span>)
<a name="l00655"></a>00655         :  <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>(pkt-&gt;<a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>), <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>(pkt-&gt;<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>),
<a name="l00656"></a>00656            <a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a>(pkt-&gt;<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.isSet(<a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">STATIC_DATA</a>) ? pkt-&gt;<a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a> : <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>),
<a name="l00657"></a>00657            <a class="code" href="classPacket.html#a0bb77b4ba61e408313e1118250f9278c">addr</a>(pkt-&gt;<a class="code" href="classPacket.html#a0bb77b4ba61e408313e1118250f9278c">addr</a>), <a class="code" href="classPacket.html#a8575be38d53d73568838d5805df1cf63" title="True if the request targets the secure memory space.">_isSecure</a>(pkt-&gt;<a class="code" href="classPacket.html#a8575be38d53d73568838d5805df1cf63" title="True if the request targets the secure memory space.">_isSecure</a>), <a class="code" href="classPacket.html#a245260f6f74972558f61b85227df5aae" title="The size of the request or transfer.">size</a>(pkt-&gt;<a class="code" href="classPacket.html#a245260f6f74972558f61b85227df5aae" title="The size of the request or transfer.">size</a>),
<a name="l00658"></a>00658            <a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">src</a>(pkt-&gt;<a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">src</a>), <a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">dest</a>(pkt-&gt;<a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">dest</a>),
<a name="l00659"></a>00659            <a class="code" href="classPacket.html#a5a3c6bfd022f6812ff7f168c5233ad23">bytesValidStart</a>(pkt-&gt;<a class="code" href="classPacket.html#a5a3c6bfd022f6812ff7f168c5233ad23">bytesValidStart</a>),
<a name="l00660"></a>00660            <a class="code" href="classPacket.html#ae0d66052bfed50bce9fd141f1728b755">bytesValidEnd</a>(pkt-&gt;<a class="code" href="classPacket.html#ae0d66052bfed50bce9fd141f1728b755">bytesValidEnd</a>),
<a name="l00661"></a>00661            <a class="code" href="classPacket.html#af8986a05caa6c5b96b0b01bb6cf47772">busFirstWordDelay</a>(pkt-&gt;<a class="code" href="classPacket.html#af8986a05caa6c5b96b0b01bb6cf47772">busFirstWordDelay</a>),
<a name="l00662"></a>00662            <a class="code" href="classPacket.html#a7bf8ae0a056329f751eda8b39ca4c268">busLastWordDelay</a>(pkt-&gt;<a class="code" href="classPacket.html#a7bf8ae0a056329f751eda8b39ca4c268">busLastWordDelay</a>),
<a name="l00663"></a>00663            <a class="code" href="classPacket.html#a983ade0479f946c813284dcc65073367">senderState</a>(pkt-&gt;<a class="code" href="classPacket.html#a983ade0479f946c813284dcc65073367">senderState</a>)
<a name="l00664"></a>00664     {
<a name="l00665"></a>00665         <span class="keywordflow">if</span> (!clearFlags)
<a name="l00666"></a>00666             <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(pkt-&gt;<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a> &amp; <a class="code" href="classPacket.html#af494771dbda61056aaad3f6ad7e2d84d">COPY_FLAGS</a>);
<a name="l00667"></a>00667 
<a name="l00668"></a>00668         <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(pkt-&gt;<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a> &amp; (<a class="code" href="classPacket.html#ac99ea8fdca503270882373e7a801a2b6" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>|<a class="code" href="classPacket.html#a3e2067968b47a2acb352b48bced164cf">VALID_SIZE</a>));
<a name="l00669"></a>00669         <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(pkt-&gt;<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a> &amp; <a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">STATIC_DATA</a>);
<a name="l00670"></a>00670 
<a name="l00671"></a>00671     }
<a name="l00672"></a>00672 
<a name="l00676"></a><a class="code" href="classPacket.html#a39d19f9b1d6f6c2028a930cdfcdff809">00676</a>     <a class="code" href="classPacket.html#a39d19f9b1d6f6c2028a930cdfcdff809">~Packet</a>()
<a name="l00677"></a>00677     {
<a name="l00678"></a>00678         <span class="comment">// If this is a request packet for which there&apos;s no response,</span>
<a name="l00679"></a>00679         <span class="comment">// delete the request object here, since the requester will</span>
<a name="l00680"></a>00680         <span class="comment">// never get the chance.</span>
<a name="l00681"></a>00681         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a> &amp;&amp; <a class="code" href="classPacket.html#af21986d725d75fa8e1b6c83457cd4501">isRequest</a>() &amp;&amp; !<a class="code" href="classPacket.html#a390c6cced05593f0a2c75a38a7a24fa9">needsResponse</a>())
<a name="l00682"></a>00682             <span class="keyword">delete</span> <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>;
<a name="l00683"></a>00683         <a class="code" href="classPacket.html#a01374b232898f3d3c134623ffded84af">deleteData</a>();
<a name="l00684"></a>00684     }
<a name="l00685"></a>00685 
<a name="l00693"></a>00693     <span class="keywordtype">void</span>
<a name="l00694"></a><a class="code" href="classPacket.html#a03e8085580e8f97f3177195fe2ed27e7">00694</a>     <a class="code" href="classPacket.html#a03e8085580e8f97f3177195fe2ed27e7">reinitFromRequest</a>()
<a name="l00695"></a>00695     {
<a name="l00696"></a>00696         assert(<a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#af9673cab591724dc74122a8e663389ce">hasPaddr</a>());
<a name="l00697"></a>00697         <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a> = 0;
<a name="l00698"></a>00698         <a class="code" href="classPacket.html#a0bb77b4ba61e408313e1118250f9278c">addr</a> = <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a744ef11a5afe9d3651ce5f954259cb43">getPaddr</a>();
<a name="l00699"></a>00699         <a class="code" href="classPacket.html#a8575be38d53d73568838d5805df1cf63" title="True if the request targets the secure memory space.">_isSecure</a> = <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a3110ebf17828782ae5aeced7396cfff2">isSecure</a>();
<a name="l00700"></a>00700         <a class="code" href="classPacket.html#a245260f6f74972558f61b85227df5aae" title="The size of the request or transfer.">size</a> = <a class="code" href="classPacket.html#a956cd41d82347558b9c0a5b0474903f2" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a3c4029b904a61a9873e6d12785ce19a1">getSize</a>();
<a name="l00701"></a>00701 
<a name="l00702"></a>00702         <a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">src</a> = <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>;
<a name="l00703"></a>00703         <a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">dest</a> = <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>;
<a name="l00704"></a>00704         <a class="code" href="classPacket.html#a5a3c6bfd022f6812ff7f168c5233ad23">bytesValidStart</a> = 0;
<a name="l00705"></a>00705         <a class="code" href="classPacket.html#ae0d66052bfed50bce9fd141f1728b755">bytesValidEnd</a> = 0;
<a name="l00706"></a>00706         <a class="code" href="classPacket.html#af8986a05caa6c5b96b0b01bb6cf47772">busFirstWordDelay</a> = 0;
<a name="l00707"></a>00707         <a class="code" href="classPacket.html#a7bf8ae0a056329f751eda8b39ca4c268">busLastWordDelay</a> = 0;
<a name="l00708"></a>00708 
<a name="l00709"></a>00709         flags.set(<a class="code" href="classPacket.html#ac99ea8fdca503270882373e7a801a2b6" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>|<a class="code" href="classPacket.html#a3e2067968b47a2acb352b48bced164cf">VALID_SIZE</a>);
<a name="l00710"></a>00710         <a class="code" href="classPacket.html#a01374b232898f3d3c134623ffded84af">deleteData</a>();
<a name="l00711"></a>00711     }
<a name="l00712"></a>00712 
<a name="l00720"></a>00720     <span class="keywordtype">void</span>
<a name="l00721"></a><a class="code" href="classPacket.html#a9330bf4cbbc7e25bbfc9626182df27e5">00721</a>     <a class="code" href="classPacket.html#a9330bf4cbbc7e25bbfc9626182df27e5">makeResponse</a>()
<a name="l00722"></a>00722     {
<a name="l00723"></a>00723         assert(<a class="code" href="classPacket.html#a390c6cced05593f0a2c75a38a7a24fa9">needsResponse</a>());
<a name="l00724"></a>00724         assert(<a class="code" href="classPacket.html#af21986d725d75fa8e1b6c83457cd4501">isRequest</a>());
<a name="l00725"></a>00725         <a class="code" href="classPacket.html#a98424e5b505c05a999a7e03dd4caa0fa">origCmd</a> = <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>;
<a name="l00726"></a>00726         <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a> = <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#af4ef28145838bba6a01783aa0c919399">responseCommand</a>();
<a name="l00727"></a>00727 
<a name="l00728"></a>00728         <span class="comment">// responses are never express, even if the snoop that</span>
<a name="l00729"></a>00729         <span class="comment">// triggered them was</span>
<a name="l00730"></a>00730         <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac8bb3912a3ce86b15842e79d0b421204">clear</a>(<a class="code" href="classPacket.html#a0b5a042e640242aeaeeebef73a69df26" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>);
<a name="l00731"></a>00731 
<a name="l00732"></a>00732         <a class="code" href="classPacket.html#a826324ce6e458b38e4010b9e0ca8f14a">dest</a> = <a class="code" href="classPacket.html#ae47dce578a23ce59793947e009b087e3">src</a>;
<a name="l00733"></a>00733         <a class="code" href="classPacket.html#a65f22eb305e0e75fe1c4e484f046c00e" title="Reset source field, e.g. to retransmit packet on different bus.">clearSrc</a>();
<a name="l00734"></a>00734     }
<a name="l00735"></a>00735 
<a name="l00736"></a>00736     <span class="keywordtype">void</span>
<a name="l00737"></a><a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">00737</a>     <a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>()
<a name="l00738"></a>00738     {
<a name="l00739"></a>00739         <a class="code" href="classPacket.html#a9330bf4cbbc7e25bbfc9626182df27e5">makeResponse</a>();
<a name="l00740"></a>00740     }
<a name="l00741"></a>00741 
<a name="l00742"></a>00742     <span class="keywordtype">void</span>
<a name="l00743"></a><a class="code" href="classPacket.html#a325088bded521f69342b08a548811332">00743</a>     <a class="code" href="classPacket.html#a325088bded521f69342b08a548811332">makeTimingResponse</a>()
<a name="l00744"></a>00744     {
<a name="l00745"></a>00745         <a class="code" href="classPacket.html#a9330bf4cbbc7e25bbfc9626182df27e5">makeResponse</a>();
<a name="l00746"></a>00746     }
<a name="l00747"></a>00747 
<a name="l00748"></a>00748     <span class="keywordtype">void</span>
<a name="l00749"></a><a class="code" href="classPacket.html#a61715904f754e7788941e838fca1dcb9">00749</a>     <a class="code" href="classPacket.html#a61715904f754e7788941e838fca1dcb9">setFunctionalResponseStatus</a>(<span class="keywordtype">bool</span> success)
<a name="l00750"></a>00750     {
<a name="l00751"></a>00751         <span class="keywordflow">if</span> (!success) {
<a name="l00752"></a>00752             <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#ab699d2f0d186312531fd1c279fd27b73">isWrite</a>()) {
<a name="l00753"></a>00753                 <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a> = <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a587c669ca5fa65c23e0f0fd81a3ab68a">MemCmd::FunctionalWriteError</a>;
<a name="l00754"></a>00754             } <span class="keywordflow">else</span> {
<a name="l00755"></a>00755                 <a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a> = <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a76b1f646eddeda4e6129b8daae4a6314">MemCmd::FunctionalReadError</a>;
<a name="l00756"></a>00756             }
<a name="l00757"></a>00757         }
<a name="l00758"></a>00758     }
<a name="l00759"></a>00759 
<a name="l00760"></a>00760     <span class="keywordtype">void</span>
<a name="l00761"></a><a class="code" href="classPacket.html#a9ad6fec061170a98f1358fc86738e7b3">00761</a>     <a class="code" href="classPacket.html#a9ad6fec061170a98f1358fc86738e7b3">setSize</a>(<span class="keywordtype">unsigned</span> <a class="code" href="classPacket.html#a245260f6f74972558f61b85227df5aae" title="The size of the request or transfer.">size</a>)
<a name="l00762"></a>00762     {
<a name="l00763"></a>00763         assert(!<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#a3e2067968b47a2acb352b48bced164cf">VALID_SIZE</a>));
<a name="l00764"></a>00764 
<a name="l00765"></a>00765         this-&gt;size = size;
<a name="l00766"></a>00766         <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#a3e2067968b47a2acb352b48bced164cf">VALID_SIZE</a>);
<a name="l00767"></a>00767     }
<a name="l00768"></a>00768 
<a name="l00769"></a>00769 
<a name="l00774"></a>00774     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00775"></a>00775     <span class="keywordtype">void</span>
<a name="l00776"></a><a class="code" href="classPacket.html#a60621b00d6ecd49b3e336087aca2eda0">00776</a>     <a class="code" href="classPacket.html#a60621b00d6ecd49b3e336087aca2eda0">dataStatic</a>(T *<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>)
<a name="l00777"></a>00777     {
<a name="l00778"></a>00778         assert(<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#af3d473e1675288811ae75089c45bdced">noneSet</a>(<a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">STATIC_DATA</a>|<a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a861863488f543d1fd5aaf422469ba27a">ARRAY_DATA</a>));
<a name="l00779"></a>00779         <a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a> = (<a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">PacketDataPtr</a>)p;
<a name="l00780"></a>00780         <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">STATIC_DATA</a>);
<a name="l00781"></a>00781     }
<a name="l00782"></a>00782 
<a name="l00787"></a>00787     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00788"></a>00788     <span class="keywordtype">void</span>
<a name="l00789"></a><a class="code" href="classPacket.html#ae02c6b2e23b2a5b138c85fcf91fd818d">00789</a>     <a class="code" href="classPacket.html#ae02c6b2e23b2a5b138c85fcf91fd818d">dataDynamicArray</a>(T *<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>)
<a name="l00790"></a>00790     {
<a name="l00791"></a>00791         assert(<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#af3d473e1675288811ae75089c45bdced">noneSet</a>(<a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">STATIC_DATA</a>|<a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a861863488f543d1fd5aaf422469ba27a">ARRAY_DATA</a>));
<a name="l00792"></a>00792         <a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a> = (<a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">PacketDataPtr</a>)p;
<a name="l00793"></a>00793         <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a861863488f543d1fd5aaf422469ba27a">ARRAY_DATA</a>);
<a name="l00794"></a>00794     }
<a name="l00795"></a>00795 
<a name="l00800"></a>00800     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00801"></a>00801     <span class="keywordtype">void</span>
<a name="l00802"></a><a class="code" href="classPacket.html#a970b12a3c3c7fe790502959ffe561eda">00802</a>     <a class="code" href="classPacket.html#a970b12a3c3c7fe790502959ffe561eda">dataDynamic</a>(T *<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>)
<a name="l00803"></a>00803     {
<a name="l00804"></a>00804         assert(<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#af3d473e1675288811ae75089c45bdced">noneSet</a>(<a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">STATIC_DATA</a>|<a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a861863488f543d1fd5aaf422469ba27a">ARRAY_DATA</a>));
<a name="l00805"></a>00805         <a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a> = (<a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">PacketDataPtr</a>)p;
<a name="l00806"></a>00806         <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>);
<a name="l00807"></a>00807     }
<a name="l00808"></a>00808 
<a name="l00812"></a>00812     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00813"></a>00813     T*
<a name="l00814"></a><a class="code" href="classPacket.html#a5c451baf3f0a89084e79e69bb9061200">00814</a>     <a class="code" href="classPacket.html#a5c451baf3f0a89084e79e69bb9061200">getPtr</a>(<span class="keywordtype">bool</span> null_ok = <span class="keyword">false</span>)
<a name="l00815"></a>00815     {
<a name="l00816"></a>00816         assert(null_ok || <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">STATIC_DATA</a>|<a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>));
<a name="l00817"></a>00817         <span class="keywordflow">return</span> (T*)<a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a>;
<a name="l00818"></a>00818     }
<a name="l00819"></a>00819 
<a name="l00823"></a>00823     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00824"></a>00824     T <span class="keyword">get</span>();
<a name="l00825"></a>00825 
<a name="l00829"></a>00829     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00830"></a>00830     <span class="keywordtype">void</span> <span class="keyword">set</span>(T <a class="code" href="namespaceArmISA.html#ad5f56baee4d3318d20e008bed3480804">v</a>);
<a name="l00831"></a>00831 
<a name="l00835"></a>00835     <span class="keywordtype">void</span>
<a name="l00836"></a><a class="code" href="classPacket.html#aaa0b1cd19807fc630d9331be9f5d1d36">00836</a>     <a class="code" href="classPacket.html#aaa0b1cd19807fc630d9331be9f5d1d36">setData</a>(uint8_t *<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>)
<a name="l00837"></a>00837     {
<a name="l00838"></a>00838        <span class="keywordflow">if</span>(<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>()==16)
<a name="l00839"></a>00839         {
<a name="l00840"></a>00840           printf(<span class="stringliteral">&quot;setData is OK\n&quot;</span>);
<a name="l00841"></a>00841           }
<a name="l00842"></a>00842         <span class="keywordflow">if</span> (p != getPtr&lt;uint8_t&gt;())
<a name="l00843"></a>00843             std::memcpy(getPtr&lt;uint8_t&gt;(), p, <a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>());
<a name="l00844"></a>00844     }
<a name="l00845"></a>00845 
<a name="l00850"></a>00850     <span class="keywordtype">void</span>
<a name="l00851"></a><a class="code" href="classPacket.html#a0001ad64c160390fba5d1351862195ff">00851</a>     <a class="code" href="classPacket.html#a0001ad64c160390fba5d1351862195ff">setDataFromBlock</a>(uint8_t *blk_data, <span class="keywordtype">int</span> blkSize)
<a name="l00852"></a>00852     {
<a name="l00853"></a>00853         <a class="code" href="classPacket.html#aaa0b1cd19807fc630d9331be9f5d1d36">setData</a>(blk_data + <a class="code" href="classPacket.html#a8c497c6b3c41668562b2a2aa57ad098d">getOffset</a>(blkSize));
<a name="l00854"></a>00854     }
<a name="l00855"></a>00855 
<a name="l00860"></a>00860     <span class="keywordtype">void</span>
<a name="l00861"></a><a class="code" href="classPacket.html#a2388a13bab41142d6e403b0e5a0fb649">00861</a>     <a class="code" href="classPacket.html#a2388a13bab41142d6e403b0e5a0fb649">writeData</a>(uint8_t *<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>)
<a name="l00862"></a>00862     {
<a name="l00863"></a>00863         std::memcpy(p, getPtr&lt;uint8_t&gt;(), <a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>());
<a name="l00864"></a>00864     }
<a name="l00865"></a>00865 
<a name="l00869"></a>00869     <span class="keywordtype">void</span>
<a name="l00870"></a><a class="code" href="classPacket.html#ac14ab45b04f07f4aca586b773f2252db">00870</a>     <a class="code" href="classPacket.html#ac14ab45b04f07f4aca586b773f2252db">writeDataToBlock</a>(uint8_t *blk_data, <span class="keywordtype">int</span> blkSize)
<a name="l00871"></a>00871     {
<a name="l00872"></a>00872         <a class="code" href="classPacket.html#a2388a13bab41142d6e403b0e5a0fb649">writeData</a>(blk_data + <a class="code" href="classPacket.html#a8c497c6b3c41668562b2a2aa57ad098d">getOffset</a>(blkSize));
<a name="l00873"></a>00873     }
<a name="l00874"></a>00874 
<a name="l00879"></a>00879     <span class="keywordtype">void</span>
<a name="l00880"></a><a class="code" href="classPacket.html#a01374b232898f3d3c134623ffded84af">00880</a>     <a class="code" href="classPacket.html#a01374b232898f3d3c134623ffded84af">deleteData</a>()
<a name="l00881"></a>00881     {
<a name="l00882"></a>00882         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#a861863488f543d1fd5aaf422469ba27a">ARRAY_DATA</a>))
<a name="l00883"></a>00883             <span class="keyword">delete</span> [] <a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a>;
<a name="l00884"></a>00884         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>))
<a name="l00885"></a>00885             <span class="keyword">delete</span> <a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a>;
<a name="l00886"></a>00886 
<a name="l00887"></a>00887         <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac8bb3912a3ce86b15842e79d0b421204">clear</a>(<a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">STATIC_DATA</a>|<a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a861863488f543d1fd5aaf422469ba27a">ARRAY_DATA</a>);
<a name="l00888"></a>00888         <a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a> = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00889"></a>00889     }
<a name="l00890"></a>00890 
<a name="l00892"></a>00892     <span class="keywordtype">void</span>
<a name="l00893"></a><a class="code" href="classPacket.html#acaefe811b78a2fdc4a0dba0c4029c3ef">00893</a>     <a class="code" href="classPacket.html#acaefe811b78a2fdc4a0dba0c4029c3ef">allocate</a>()
<a name="l00894"></a>00894     {
<a name="l00895"></a>00895         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a>) {
<a name="l00896"></a>00896             assert(<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#ac976964169b81aaba1d4cbb422f559ca">isSet</a>(<a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">STATIC_DATA</a>|<a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>));
<a name="l00897"></a>00897             <span class="keywordflow">return</span>;
<a name="l00898"></a>00898         }
<a name="l00899"></a>00899 
<a name="l00900"></a>00900         assert(<a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#af3d473e1675288811ae75089c45bdced">noneSet</a>(<a class="code" href="classPacket.html#a1736ff591124f446ce3ddbb16fb3f505">STATIC_DATA</a>|<a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>));
<a name="l00901"></a>00901         <a class="code" href="classPacket.html#aa991e2b209ef26272bf4fd920777bcda">flags</a>.<a class="code" href="classFlags.html#a8bf75cf89ee252c33f05dd2e8e06d351">set</a>(<a class="code" href="classPacket.html#a0100d751aaef8a927f7ba551550d142b">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a861863488f543d1fd5aaf422469ba27a">ARRAY_DATA</a>);
<a name="l00902"></a>00902         <a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a> = <span class="keyword">new</span> uint8_t[<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>()];
<a name="l00903"></a>00903     }
<a name="l00904"></a>00904 
<a name="l00912"></a>00912     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a77410f93ce8057ce67882c121ac2e667">checkFunctional</a>(<a class="code" href="classPrintable.html">Printable</a> *obj, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceX86ISA.html#a22fd87812cbb48f6d80b6cc7957490cf">base</a>, <span class="keywordtype">bool</span> is_secure, <span class="keywordtype">int</span> <a class="code" href="classPacket.html#a245260f6f74972558f61b85227df5aae" title="The size of the request or transfer.">size</a>,
<a name="l00913"></a>00913                          uint8_t *<a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a>);
<a name="l00914"></a>00914 
<a name="l00919"></a>00919     <span class="keywordtype">bool</span>
<a name="l00920"></a><a class="code" href="classPacket.html#ab27966f94fe8860e3845815fd4b8da7f">00920</a>     <a class="code" href="classPacket.html#a77410f93ce8057ce67882c121ac2e667">checkFunctional</a>(<a class="code" href="classPacket.html">PacketPtr</a> other) 
<a name="l00921"></a>00921     {
<a name="l00922"></a>00922         uint8_t *<a class="code" href="classPacket.html#a60f451ea06dccaf49b32633f67e7b16e">data</a> = other-&gt;<a class="code" href="classPacket.html#a0effbd4cf91891700ac41e86defe4aa6">hasData</a>() ? other-&gt;<a class="code" href="classPacket.html#a5c451baf3f0a89084e79e69bb9061200">getPtr</a>&lt;uint8_t&gt;() : <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00923"></a>00923         <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a77410f93ce8057ce67882c121ac2e667">checkFunctional</a>(other, other-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>(), other-&gt;<a class="code" href="classPacket.html#a3110ebf17828782ae5aeced7396cfff2">isSecure</a>(),
<a name="l00924"></a>00924                                other-&gt;<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>(), data);
<a name="l00925"></a>00925     }
<a name="l00926"></a>00926 
<a name="l00930"></a>00930     <span class="keywordtype">void</span>
<a name="l00931"></a><a class="code" href="classPacket.html#ad2656c333949d4b445823d47398829f2">00931</a>     <a class="code" href="classPacket.html#ad2656c333949d4b445823d47398829f2">pushLabel</a>(<span class="keyword">const</span> std::string &amp;lbl)
<a name="l00932"></a>00932     {
<a name="l00933"></a>00933         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#ae56bb417ddf53e85cb389267590fe969">isPrint</a>())
<a name="l00934"></a>00934             <a class="code" href="cast_8hh.html#a5f660f8e3c1002271ec98c59eeda331f">safe_cast</a>&lt;<a class="code" href="classPacket_1_1PrintReqState.html">PrintReqState</a>*&gt;(<a class="code" href="classPacket.html#a983ade0479f946c813284dcc65073367">senderState</a>)-&gt;<a class="code" href="classPacket.html#ad2656c333949d4b445823d47398829f2">pushLabel</a>(lbl);
<a name="l00935"></a>00935     }
<a name="l00936"></a>00936 
<a name="l00940"></a>00940     <span class="keywordtype">void</span>
<a name="l00941"></a><a class="code" href="classPacket.html#a3ab6da7065be0d85f45a8dd050515f16">00941</a>     <a class="code" href="classPacket.html#a3ab6da7065be0d85f45a8dd050515f16">popLabel</a>()
<a name="l00942"></a>00942     {
<a name="l00943"></a>00943         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#ae56bb417ddf53e85cb389267590fe969">isPrint</a>())
<a name="l00944"></a>00944             <a class="code" href="cast_8hh.html#a5f660f8e3c1002271ec98c59eeda331f">safe_cast</a>&lt;<a class="code" href="classPacket_1_1PrintReqState.html">PrintReqState</a>*&gt;(<a class="code" href="classPacket.html#a983ade0479f946c813284dcc65073367">senderState</a>)-&gt;<a class="code" href="classPacket.html#a3ab6da7065be0d85f45a8dd050515f16">popLabel</a>();
<a name="l00945"></a>00945     }
<a name="l00946"></a>00946 
<a name="l00947"></a>00947     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#ae8a5b5e9e0e6be3b115ee77fa7b4d0c8">print</a>(std::ostream &amp;o, <span class="keywordtype">int</span> verbosity = 0,
<a name="l00948"></a>00948                <span class="keyword">const</span> std::string &amp;prefix = <span class="stringliteral">&quot;&quot;</span>) <span class="keyword">const</span>;
<a name="l00949"></a>00949 
<a name="l00956"></a>00956     std::string <a class="code" href="classPacket.html#ae8a5b5e9e0e6be3b115ee77fa7b4d0c8">print</a>() <span class="keyword">const</span>;
<a name="l00957"></a>00957 };
<a name="l00958"></a>00958 
<a name="l00959"></a>00959 <span class="preprocessor">#endif //__MEM_PACKET_HH</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
