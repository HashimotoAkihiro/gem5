\hypertarget{timer_8cc}{
\section{cpu/kvm/timer.cc}
\label{timer_8cc}\index{cpu/kvm/timer.cc@{cpu/kvm/timer.cc}}
}
{\ttfamily \#include $<$algorithm$>$}\par
{\ttfamily \#include $<$csignal$>$}\par
{\ttfamily \#include $<$ctime$>$}\par
{\ttfamily \#include $<$unistd.h$>$}\par
{\ttfamily \#include $<$sys/syscall.h$>$}\par
{\ttfamily \#include \char`\"{}base/misc.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}base/trace.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}cpu/kvm/timer.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}debug/KvmTimer.hh\char`\"{}}\par
\subsection*{マクロ定義}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{timer_8cc_ae12f1fd4293a4e48bf32e08e618cd223}{sigev\_\-notify\_\-thread\_\-id}~\_\-sigev\_\-un.\_\-tid
\end{DoxyCompactItemize}
\subsection*{関数}
\begin{DoxyCompactItemize}
\item 
static pid\_\-t \hyperlink{timer_8cc_a4142707d888b8bdaed9c9e7e3857bb85}{gettid} ()
\end{DoxyCompactItemize}
\subsection*{変数}
\begin{DoxyCompactItemize}
\item 
static const uint64\_\-t \hyperlink{timer_8cc_a4e8d937bb3332c6c8e19b6bdacf6fe5b}{MIN\_\-HOST\_\-CYCLES} = 1000
\end{DoxyCompactItemize}


\subsection{マクロ定義}
\hypertarget{timer_8cc_ae12f1fd4293a4e48bf32e08e618cd223}{
\index{timer.cc@{timer.cc}!sigev\_\-notify\_\-thread\_\-id@{sigev\_\-notify\_\-thread\_\-id}}
\index{sigev\_\-notify\_\-thread\_\-id@{sigev\_\-notify\_\-thread\_\-id}!timer.cc@{timer.cc}}
\subsubsection[{sigev\_\-notify\_\-thread\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}\#define sigev\_\-notify\_\-thread\_\-id~\_\-sigev\_\-un.\_\-tid}}
\label{timer_8cc_ae12f1fd4293a4e48bf32e08e618cd223}


\subsection{関数}
\hypertarget{timer_8cc_a4142707d888b8bdaed9c9e7e3857bb85}{
\index{timer.cc@{timer.cc}!gettid@{gettid}}
\index{gettid@{gettid}!timer.cc@{timer.cc}}
\subsubsection[{gettid}]{\setlength{\rightskip}{0pt plus 5cm}static pid\_\-t gettid ()\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{timer_8cc_a4142707d888b8bdaed9c9e7e3857bb85}



\begin{DoxyCode}
63 {
64     return syscall(__NR_gettid);
65 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{timer_8cc_a4e8d937bb3332c6c8e19b6bdacf6fe5b}{
\index{timer.cc@{timer.cc}!MIN\_\-HOST\_\-CYCLES@{MIN\_\-HOST\_\-CYCLES}}
\index{MIN\_\-HOST\_\-CYCLES@{MIN\_\-HOST\_\-CYCLES}!timer.cc@{timer.cc}}
\subsubsection[{MIN\_\-HOST\_\-CYCLES}]{\setlength{\rightskip}{0pt plus 5cm}const uint64\_\-t {\bf MIN\_\-HOST\_\-CYCLES} = 1000\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{timer_8cc_a4e8d937bb3332c6c8e19b6bdacf6fe5b}
Minimum number of cycles that a host can spend in a KVM call (used to calculate the resolution of some timers).

The value of this constant is a bit arbitrary, but in practice, we can't really do anything useful in less than $\sim$1000 cycles. 