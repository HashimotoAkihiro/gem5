\hypertarget{classMipsISA_1_1TlbFault}{
\section{クラス テンプレート TlbFault$<$ T $>$}
\label{classMipsISA_1_1TlbFault}\index{MipsISA::TlbFault@{MipsISA::TlbFault}}
}


{\ttfamily \#include $<$faults.hh$>$}TlbFault$<$ T $>$に対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.77778cm]{classMipsISA_1_1TlbFault}
\end{center}
\end{figure}
\subsection*{Protected メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMipsISA_1_1TlbFault_ad6702f244bca94847f8907ae0084f7cc}{TlbFault} (\hyperlink{classm5_1_1params_1_1Addr}{Addr} \_\-asid, \hyperlink{classm5_1_1params_1_1Addr}{Addr} \_\-vaddr, \hyperlink{classm5_1_1params_1_1Addr}{Addr} \_\-vpn, bool \_\-store)
\item 
void \hyperlink{classMipsISA_1_1TlbFault_a063e32df265a515397ce13a84a741fed}{setTlbExceptionState} (\hyperlink{classThreadContext}{ThreadContext} $\ast$tc, uint8\_\-t \hyperlink{namespaceMipsISA_a9125816703baa612f861e8efd7a5d567}{excCode})
\item 
void \hyperlink{classMipsISA_1_1TlbFault_a2bd783b42262278d41157d428e1f8d6f}{invoke} (\hyperlink{classThreadContext}{ThreadContext} $\ast$tc, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst=\hyperlink{classStaticInst_aa793d9793af735f09096369fb17567b6}{StaticInst::nullStaticInstPtr})
\item 
\hyperlink{namespaceMipsISA_abcc8a7c57cd8becefbfd621dbff5ffd4}{ExcCode} \hyperlink{classMipsISA_1_1TlbFault_a1dd20a2460d7723d3eaa287b7cc07e79}{code} () const 
\item 
\hyperlink{classMipsISA_1_1TlbFault_ad6702f244bca94847f8907ae0084f7cc}{TlbFault} (\hyperlink{classm5_1_1params_1_1Addr}{Addr} \_\-asid, \hyperlink{classm5_1_1params_1_1Addr}{Addr} \_\-vaddr, \hyperlink{classm5_1_1params_1_1Addr}{Addr} \_\-vpn, bool \_\-store)
\item 
void \hyperlink{classMipsISA_1_1TlbFault_a063e32df265a515397ce13a84a741fed}{setTlbExceptionState} (\hyperlink{classThreadContext}{ThreadContext} $\ast$tc, uint8\_\-t \hyperlink{namespaceMipsISA_a9125816703baa612f861e8efd7a5d567}{excCode})
\item 
void \hyperlink{classMipsISA_1_1TlbFault_a2bd783b42262278d41157d428e1f8d6f}{invoke} (\hyperlink{classThreadContext}{ThreadContext} $\ast$tc, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst=\hyperlink{classStaticInst_aa793d9793af735f09096369fb17567b6}{StaticInst::nullStaticInstPtr})
\item 
\hyperlink{namespaceMipsISA_abcc8a7c57cd8becefbfd621dbff5ffd4}{ExcCode} \hyperlink{classMipsISA_1_1TlbFault_a1dd20a2460d7723d3eaa287b7cc07e79}{code} () const 
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classm5_1_1params_1_1Addr}{Addr} \hyperlink{classMipsISA_1_1TlbFault_a3bd75b410169a5c0e356fda4d021e49c}{asid}
\item 
\hyperlink{classm5_1_1params_1_1Addr}{Addr} \hyperlink{classMipsISA_1_1TlbFault_ad378f7d20675898b2a5994600528fa9a}{vpn}
\end{DoxyCompactItemize}
\subsubsection*{template$<$typename T$>$ class MipsISA::TlbFault$<$ T $>$}



\subsection{コンストラクタとデストラクタ}
\hypertarget{classMipsISA_1_1TlbFault_ad6702f244bca94847f8907ae0084f7cc}{
\index{MipsISA::TlbFault@{MipsISA::TlbFault}!TlbFault@{TlbFault}}
\index{TlbFault@{TlbFault}!MipsISA::TlbFault@{MipsISA::TlbFault}}
\subsubsection[{TlbFault}]{\setlength{\rightskip}{0pt plus 5cm}{\bf TlbFault} ({\bf Addr} {\em \_\-asid}, \/  {\bf Addr} {\em \_\-vaddr}, \/  {\bf Addr} {\em \_\-vpn}, \/  bool {\em \_\-store})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected\mbox{]}}}}
\label{classMipsISA_1_1TlbFault_ad6702f244bca94847f8907ae0084f7cc}



\begin{DoxyCode}
231                                                               :
232         AddressFault<T>(_vaddr, _store), asid(_asid), vpn(_vpn)
233     {}

\end{DoxyCode}
\hypertarget{classMipsISA_1_1TlbFault_ad6702f244bca94847f8907ae0084f7cc}{
\index{MipsISA::TlbFault@{MipsISA::TlbFault}!TlbFault@{TlbFault}}
\index{TlbFault@{TlbFault}!MipsISA::TlbFault@{MipsISA::TlbFault}}
\subsubsection[{TlbFault}]{\setlength{\rightskip}{0pt plus 5cm}{\bf TlbFault} ({\bf Addr} {\em \_\-asid}, \/  {\bf Addr} {\em \_\-vaddr}, \/  {\bf Addr} {\em \_\-vpn}, \/  bool {\em \_\-store})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected\mbox{]}}}}
\label{classMipsISA_1_1TlbFault_ad6702f244bca94847f8907ae0084f7cc}



\begin{DoxyCode}
231                                                               :
232         AddressFault<T>(_vaddr, _store), asid(_asid), vpn(_vpn)
233     {}

\end{DoxyCode}


\subsection{関数}
\hypertarget{classMipsISA_1_1TlbFault_a1dd20a2460d7723d3eaa287b7cc07e79}{
\index{MipsISA::TlbFault@{MipsISA::TlbFault}!code@{code}}
\index{code@{code}!MipsISA::TlbFault@{MipsISA::TlbFault}}
\subsubsection[{code}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ExcCode} code () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected, virtual\mbox{]}}}}
\label{classMipsISA_1_1TlbFault_a1dd20a2460d7723d3eaa287b7cc07e79}


\hyperlink{classMipsISA_1_1MipsFault_a1dd20a2460d7723d3eaa287b7cc07e79}{MipsFault$<$ T $>$}を再定義しています。

\hyperlink{classMipsISA_1_1TlbModifiedFault_a1dd20a2460d7723d3eaa287b7cc07e79}{TlbModifiedFault}, と \hyperlink{classMipsISA_1_1TlbModifiedFault_a1dd20a2460d7723d3eaa287b7cc07e79}{TlbModifiedFault}で再定義されています。


\begin{DoxyCode}
268     {
269         return this->store ? ExcCodeTlbS : ExcCodeTlbL;
270     }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1TlbFault_a1dd20a2460d7723d3eaa287b7cc07e79}{
\index{MipsISA::TlbFault@{MipsISA::TlbFault}!code@{code}}
\index{code@{code}!MipsISA::TlbFault@{MipsISA::TlbFault}}
\subsubsection[{code}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ExcCode} code () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected, virtual\mbox{]}}}}
\label{classMipsISA_1_1TlbFault_a1dd20a2460d7723d3eaa287b7cc07e79}


\hyperlink{classMipsISA_1_1MipsFault_a1dd20a2460d7723d3eaa287b7cc07e79}{MipsFault$<$ T $>$}を再定義しています。

\hyperlink{classMipsISA_1_1TlbModifiedFault_a1dd20a2460d7723d3eaa287b7cc07e79}{TlbModifiedFault}, と \hyperlink{classMipsISA_1_1TlbModifiedFault_a1dd20a2460d7723d3eaa287b7cc07e79}{TlbModifiedFault}で再定義されています。


\begin{DoxyCode}
268     {
269         return this->store ? ExcCodeTlbS : ExcCodeTlbL;
270     }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1TlbFault_a2bd783b42262278d41157d428e1f8d6f}{
\index{MipsISA::TlbFault@{MipsISA::TlbFault}!invoke@{invoke}}
\index{invoke@{invoke}!MipsISA::TlbFault@{MipsISA::TlbFault}}
\subsubsection[{invoke}]{\setlength{\rightskip}{0pt plus 5cm}void invoke ({\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf StaticInstPtr} {\em inst} = {\ttfamily {\bf StaticInst::nullStaticInstPtr}})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected, virtual\mbox{]}}}}
\label{classMipsISA_1_1TlbFault_a2bd783b42262278d41157d428e1f8d6f}


\hyperlink{classMipsISA_1_1AddressFault_a2bd783b42262278d41157d428e1f8d6f}{AddressFault$<$ T $>$}を再定義しています。


\begin{DoxyCode}
255     {
256         if (FullSystem) {
257             DPRINTF(MipsPRA, "Fault %s encountered.\n", this->name());
258             Addr vect = this->vect(tc);
259             setTlbExceptionState(tc, this->code());
260             tc->pcState(vect);
261         } else {
262             AddressFault<T>::invoke(tc, inst);
263         }
264     }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1TlbFault_a2bd783b42262278d41157d428e1f8d6f}{
\index{MipsISA::TlbFault@{MipsISA::TlbFault}!invoke@{invoke}}
\index{invoke@{invoke}!MipsISA::TlbFault@{MipsISA::TlbFault}}
\subsubsection[{invoke}]{\setlength{\rightskip}{0pt plus 5cm}void invoke ({\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf StaticInstPtr} {\em inst} = {\ttfamily {\bf StaticInst::nullStaticInstPtr}})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected, virtual\mbox{]}}}}
\label{classMipsISA_1_1TlbFault_a2bd783b42262278d41157d428e1f8d6f}


\hyperlink{classMipsISA_1_1AddressFault_a2bd783b42262278d41157d428e1f8d6f}{AddressFault$<$ T $>$}を再定義しています。


\begin{DoxyCode}
255     {
256         if (FullSystem) {
257             DPRINTF(MipsPRA, "Fault %s encountered.\n", this->name());
258             Addr vect = this->vect(tc);
259             setTlbExceptionState(tc, this->code());
260             tc->pcState(vect);
261         } else {
262             AddressFault<T>::invoke(tc, inst);
263         }
264     }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1TlbFault_a063e32df265a515397ce13a84a741fed}{
\index{MipsISA::TlbFault@{MipsISA::TlbFault}!setTlbExceptionState@{setTlbExceptionState}}
\index{setTlbExceptionState@{setTlbExceptionState}!MipsISA::TlbFault@{MipsISA::TlbFault}}
\subsubsection[{setTlbExceptionState}]{\setlength{\rightskip}{0pt plus 5cm}void setTlbExceptionState ({\bf ThreadContext} $\ast$ {\em tc}, \/  uint8\_\-t {\em excCode})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected\mbox{]}}}}
\label{classMipsISA_1_1TlbFault_a063e32df265a515397ce13a84a741fed}



\begin{DoxyCode}
237     {
238         this->setExceptionState(tc, excCode);
239 
240         tc->setMiscRegNoEffect(MISCREG_BADVADDR, this->vaddr);
241         EntryHiReg entryHi = tc->readMiscReg(MISCREG_ENTRYHI);
242         entryHi.asid = this->asid;
243         entryHi.vpn2 = this->vpn >> 2;
244         entryHi.vpn2x = this->vpn & 0x3;
245         tc->setMiscRegNoEffect(MISCREG_ENTRYHI, entryHi);
246 
247         ContextReg context = tc->readMiscReg(MISCREG_CONTEXT);
248         context.badVPN2 = this->vpn >> 2;
249         tc->setMiscRegNoEffect(MISCREG_CONTEXT, context);
250     }
\end{DoxyCode}
\hypertarget{classMipsISA_1_1TlbFault_a063e32df265a515397ce13a84a741fed}{
\index{MipsISA::TlbFault@{MipsISA::TlbFault}!setTlbExceptionState@{setTlbExceptionState}}
\index{setTlbExceptionState@{setTlbExceptionState}!MipsISA::TlbFault@{MipsISA::TlbFault}}
\subsubsection[{setTlbExceptionState}]{\setlength{\rightskip}{0pt plus 5cm}void setTlbExceptionState ({\bf ThreadContext} $\ast$ {\em tc}, \/  uint8\_\-t {\em excCode})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected\mbox{]}}}}
\label{classMipsISA_1_1TlbFault_a063e32df265a515397ce13a84a741fed}



\begin{DoxyCode}
237     {
238         this->setExceptionState(tc, excCode);
239 
240         tc->setMiscRegNoEffect(MISCREG_BADVADDR, this->vaddr);
241         EntryHiReg entryHi = tc->readMiscReg(MISCREG_ENTRYHI);
242         entryHi.asid = this->asid;
243         entryHi.vpn2 = this->vpn >> 2;
244         entryHi.vpn2x = this->vpn & 0x3;
245         tc->setMiscRegNoEffect(MISCREG_ENTRYHI, entryHi);
246 
247         ContextReg context = tc->readMiscReg(MISCREG_CONTEXT);
248         context.badVPN2 = this->vpn >> 2;
249         tc->setMiscRegNoEffect(MISCREG_CONTEXT, context);
250     }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classMipsISA_1_1TlbFault_a3bd75b410169a5c0e356fda4d021e49c}{
\index{MipsISA::TlbFault@{MipsISA::TlbFault}!asid@{asid}}
\index{asid@{asid}!MipsISA::TlbFault@{MipsISA::TlbFault}}
\subsubsection[{asid}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} {\bf asid}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMipsISA_1_1TlbFault_a3bd75b410169a5c0e356fda4d021e49c}
\hypertarget{classMipsISA_1_1TlbFault_ad378f7d20675898b2a5994600528fa9a}{
\index{MipsISA::TlbFault@{MipsISA::TlbFault}!vpn@{vpn}}
\index{vpn@{vpn}!MipsISA::TlbFault@{MipsISA::TlbFault}}
\subsubsection[{vpn}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} {\bf vpn}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classMipsISA_1_1TlbFault_ad378f7d20675898b2a5994600528fa9a}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
arch/mips/\hyperlink{arch_2mips_2faults_8hh}{faults.hh}\item 
arch/miqs/\hyperlink{arch_2miqs_2faults_8hh}{faults.hh}\end{DoxyCompactItemize}
