\hypertarget{classRefCounted}{
\section{クラス RefCounted}
\label{classRefCounted}\index{RefCounted@{RefCounted}}
}


{\ttfamily \#include $<$refcnt.hh$>$}RefCountedに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=12cm]{classRefCounted}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classRefCounted_aebb1990f519367c00c1861b5b3b3e0a5}{RefCounted} ()
\item 
virtual \hyperlink{classRefCounted_ae6cca02ff208ebb8704f20b56e6de02b}{$\sim$RefCounted} ()
\item 
void \hyperlink{classRefCounted_ad16d34c97e8d6a988fd2b5ea36bccbf4}{incref} ()
\begin{DoxyCompactList}\small\item\em Increment the reference count. \item\end{DoxyCompactList}\item 
void \hyperlink{classRefCounted_a0ff5c4fba5e67643030a3e2f5b70a737}{decref} ()
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classRefCounted_af66f84bd2408304143da35229d0a7d3e}{RefCounted} (const \hyperlink{classRefCounted}{RefCounted} \&)
\item 
\hyperlink{classRefCounted}{RefCounted} \& \hyperlink{classRefCounted_a6d93b6225e8065317a03fd3eff362552}{operator=} (const \hyperlink{classRefCounted}{RefCounted} \&)
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classRefCounted_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}
\end{DoxyCompactItemize}


\subsection{説明}
Derive from \hyperlink{classRefCounted}{RefCounted} if you want to enable reference counting of this class. If you want to use automatic reference counting, you should use RefCountingPtr$<$T$>$ instead of regular pointers. 

\subsection{コンストラクタとデストラクタ}
\hypertarget{classRefCounted_af66f84bd2408304143da35229d0a7d3e}{
\index{RefCounted@{RefCounted}!RefCounted@{RefCounted}}
\index{RefCounted@{RefCounted}!RefCounted@{RefCounted}}
\subsubsection[{RefCounted}]{\setlength{\rightskip}{0pt plus 5cm}{\bf RefCounted} (const {\bf RefCounted} \&)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classRefCounted_af66f84bd2408304143da35229d0a7d3e}
\hypertarget{classRefCounted_aebb1990f519367c00c1861b5b3b3e0a5}{
\index{RefCounted@{RefCounted}!RefCounted@{RefCounted}}
\index{RefCounted@{RefCounted}!RefCounted@{RefCounted}}
\subsubsection[{RefCounted}]{\setlength{\rightskip}{0pt plus 5cm}{\bf RefCounted} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classRefCounted_aebb1990f519367c00c1861b5b3b3e0a5}
We initialize the reference count to zero and the first object to take ownership of it must increment it to one.

\begin{DoxyAttention}{注意}
A memory leak will occur if you never assign a newly constructed object to a reference counting pointer. 
\end{DoxyAttention}



\begin{DoxyCode}
69 : count(0) {}
\end{DoxyCode}
\hypertarget{classRefCounted_ae6cca02ff208ebb8704f20b56e6de02b}{
\index{RefCounted@{RefCounted}!$\sim$RefCounted@{$\sim$RefCounted}}
\index{$\sim$RefCounted@{$\sim$RefCounted}!RefCounted@{RefCounted}}
\subsubsection[{$\sim$RefCounted}]{\setlength{\rightskip}{0pt plus 5cm}virtual $\sim${\bf RefCounted} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classRefCounted_ae6cca02ff208ebb8704f20b56e6de02b}
We make the destructor virtual because we're likely to have virtual functions on reference counted objects.

\begin{Desc}
\item[\hyperlink{todo__todo000008}{TODO}]Even if this were true, does it matter? Shouldn't the derived class indicate this? This only matters if we would ever choose to delete a \char`\"{}RefCounted $\ast$\char`\"{} which I doubt we'd ever do. We don't ever delete a \char`\"{}void $\ast$\char`\"{}. \end{Desc}



\begin{DoxyCode}
80 {}
\end{DoxyCode}


\subsection{関数}
\hypertarget{classRefCounted_a0ff5c4fba5e67643030a3e2f5b70a737}{
\index{RefCounted@{RefCounted}!decref@{decref}}
\index{decref@{decref}!RefCounted@{RefCounted}}
\subsubsection[{decref}]{\setlength{\rightskip}{0pt plus 5cm}void decref ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classRefCounted_a0ff5c4fba5e67643030a3e2f5b70a737}
Decrement the reference count and destroy the object if all references are gone. 


\begin{DoxyCode}
87 { if (--count <= 0) delete this; }
\end{DoxyCode}
\hypertarget{classRefCounted_ad16d34c97e8d6a988fd2b5ea36bccbf4}{
\index{RefCounted@{RefCounted}!incref@{incref}}
\index{incref@{incref}!RefCounted@{RefCounted}}
\subsubsection[{incref}]{\setlength{\rightskip}{0pt plus 5cm}void incref ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classRefCounted_ad16d34c97e8d6a988fd2b5ea36bccbf4}


Increment the reference count. 


\begin{DoxyCode}
83 { ++count; }
\end{DoxyCode}
\hypertarget{classRefCounted_a6d93b6225e8065317a03fd3eff362552}{
\index{RefCounted@{RefCounted}!operator=@{operator=}}
\index{operator=@{operator=}!RefCounted@{RefCounted}}
\subsubsection[{operator=}]{\setlength{\rightskip}{0pt plus 5cm}{\bf RefCounted}\& operator= (const {\bf RefCounted} \&)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classRefCounted_a6d93b6225e8065317a03fd3eff362552}


\subsection{変数}
\hypertarget{classRefCounted_ad43c3812e6d13e0518d9f8b8f463ffcf}{
\index{RefCounted@{RefCounted}!count@{count}}
\index{count@{count}!RefCounted@{RefCounted}}
\subsubsection[{count}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf count}\hspace{0.3cm}{\ttfamily  \mbox{[}mutable, private\mbox{]}}}}
\label{classRefCounted_ad43c3812e6d13e0518d9f8b8f463ffcf}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
base/\hyperlink{refcnt_8hh}{refcnt.hh}\end{DoxyCompactItemize}
