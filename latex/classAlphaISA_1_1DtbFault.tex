\hypertarget{classAlphaISA_1_1DtbFault}{
\section{クラス DtbFault}
\label{classAlphaISA_1_1DtbFault}\index{AlphaISA::DtbFault@{AlphaISA::DtbFault}}
}


{\ttfamily \#include $<$faults.hh$>$}DtbFaultに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.59016cm]{classAlphaISA_1_1DtbFault}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classAlphaISA_1_1DtbFault_a74e89dcaff8c62058a1ecabdf3b0e641}{DtbFault} (\hyperlink{structAlphaISA_1_1VAddr}{VAddr} \_\-vaddr, \hyperlink{classFlags}{Request::Flags} \_\-reqFlags, uint64\_\-t \_\-flags)
\item 
\hyperlink{sim_2faults_8hh_abb196df64725e5c2568c900cf130d8d7}{FaultName} \hyperlink{classAlphaISA_1_1DtbFault_a09ac100f5ad40cf1726c4e60925c2522}{name} () const =0
\item 
\hyperlink{classm5_1_1params_1_1Addr}{FaultVect} \hyperlink{classAlphaISA_1_1DtbFault_ae7a41506fab06a3c1e392f5286f14c66}{vect} ()=0
\item 
\hyperlink{classStats_1_1Scalar}{FaultStat} \& \hyperlink{classAlphaISA_1_1DtbFault_a4b643982263b390349238a6711216763}{countStat} ()=0
\item 
void \hyperlink{classAlphaISA_1_1DtbFault_a2bd783b42262278d41157d428e1f8d6f}{invoke} (\hyperlink{classThreadContext}{ThreadContext} $\ast$tc, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst=\hyperlink{classStaticInst_aa793d9793af735f09096369fb17567b6}{StaticInst::nullStaticInstPtr})
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structAlphaISA_1_1VAddr}{VAddr} \hyperlink{classAlphaISA_1_1DtbFault_a48d5190e0fd672e7fe9d248a670b8ea3}{vaddr}
\item 
\hyperlink{classFlags}{Request::Flags} \hyperlink{classAlphaISA_1_1DtbFault_a4342a385c094b40ed46b0674fbb0b223}{reqFlags}
\item 
uint64\_\-t \hyperlink{classAlphaISA_1_1DtbFault_a899a76dc5f03f0d4ea3793c339e07ee9}{flags}
\end{DoxyCompactItemize}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classAlphaISA_1_1DtbFault_a74e89dcaff8c62058a1ecabdf3b0e641}{
\index{AlphaISA::DtbFault@{AlphaISA::DtbFault}!DtbFault@{DtbFault}}
\index{DtbFault@{DtbFault}!AlphaISA::DtbFault@{AlphaISA::DtbFault}}
\subsubsection[{DtbFault}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DtbFault} ({\bf VAddr} {\em \_\-vaddr}, \/  {\bf Request::Flags} {\em \_\-reqFlags}, \/  uint64\_\-t {\em \_\-flags})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAlphaISA_1_1DtbFault_a74e89dcaff8c62058a1ecabdf3b0e641}



\begin{DoxyCode}
140         : vaddr(_vaddr), reqFlags(_reqFlags), flags(_flags)
141     { }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classAlphaISA_1_1DtbFault_a4b643982263b390349238a6711216763}{
\index{AlphaISA::DtbFault@{AlphaISA::DtbFault}!countStat@{countStat}}
\index{countStat@{countStat}!AlphaISA::DtbFault@{AlphaISA::DtbFault}}
\subsubsection[{countStat}]{\setlength{\rightskip}{0pt plus 5cm}{\bf FaultStat}\& countStat ()\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classAlphaISA_1_1DtbFault_a4b643982263b390349238a6711216763}


\hyperlink{classAlphaISA_1_1AlphaFault_a5d92ccd11b5cd6b04f02bd0a088b776c}{AlphaFault}を実装しています。

\hyperlink{classAlphaISA_1_1NDtbMissFault_a6c79663c761ff57265459f7e3aefaf4c}{NDtbMissFault}, \hyperlink{classAlphaISA_1_1PDtbMissFault_a6c79663c761ff57265459f7e3aefaf4c}{PDtbMissFault}, \hyperlink{classAlphaISA_1_1DtbPageFault_a6c79663c761ff57265459f7e3aefaf4c}{DtbPageFault}, \hyperlink{classAlphaISA_1_1DtbAcvFault_a6c79663c761ff57265459f7e3aefaf4c}{DtbAcvFault}, と \hyperlink{classAlphaISA_1_1DtbAlignmentFault_a6c79663c761ff57265459f7e3aefaf4c}{DtbAlignmentFault}で実装されています。\hypertarget{classAlphaISA_1_1DtbFault_a2bd783b42262278d41157d428e1f8d6f}{
\index{AlphaISA::DtbFault@{AlphaISA::DtbFault}!invoke@{invoke}}
\index{invoke@{invoke}!AlphaISA::DtbFault@{AlphaISA::DtbFault}}
\subsubsection[{invoke}]{\setlength{\rightskip}{0pt plus 5cm}void invoke ({\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf StaticInstPtr} {\em inst} = {\ttfamily {\bf StaticInst::nullStaticInstPtr}})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classAlphaISA_1_1DtbFault_a2bd783b42262278d41157d428e1f8d6f}


\hyperlink{classAlphaISA_1_1AlphaFault_a2bd783b42262278d41157d428e1f8d6f}{AlphaFault}を再定義しています。

\hyperlink{classAlphaISA_1_1NDtbMissFault_a2bd783b42262278d41157d428e1f8d6f}{NDtbMissFault}で再定義されています。


\begin{DoxyCode}
143 {
144     if (FullSystem) {
145         // Set fault address and flags.  Even though we're modeling an
146         // EV5, we use the EV6 technique of not latching fault registers
147         // on VPTE loads (instead of locking the registers until IPR_VA is
148         // read, like the EV5).  The EV6 approach is cleaner and seems to
149         // work with EV5 PAL code, but not the other way around.
150         if (!tc->misspeculating() &&
151             reqFlags.noneSet(Request::VPTE | Request::PREFETCH)) {
152             // set VA register with faulting address
153             tc->setMiscRegNoEffect(IPR_VA, vaddr);
154 
155             // set MM_STAT register flags
156             MachInst machInst = inst->machInst;
157             tc->setMiscRegNoEffect(IPR_MM_STAT,
158                 (((Opcode(machInst) & 0x3f) << 11) |
159                  ((Ra(machInst) & 0x1f) << 6) |
160                  (flags & 0x3f)));
161 
162             // set VA_FORM register with faulting formatted address
163             tc->setMiscRegNoEffect(IPR_VA_FORM,
164                 tc->readMiscRegNoEffect(IPR_MVPTBR) | (vaddr.vpn() << 3));
165         }
166     }
167 
168     AlphaFault::invoke(tc);
169 }
\end{DoxyCode}
\hypertarget{classAlphaISA_1_1DtbFault_a09ac100f5ad40cf1726c4e60925c2522}{
\index{AlphaISA::DtbFault@{AlphaISA::DtbFault}!name@{name}}
\index{name@{name}!AlphaISA::DtbFault@{AlphaISA::DtbFault}}
\subsubsection[{name}]{\setlength{\rightskip}{0pt plus 5cm}{\bf FaultName} name () const\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classAlphaISA_1_1DtbFault_a09ac100f5ad40cf1726c4e60925c2522}


\hyperlink{classFaultBase_aad960357563b8b969d2dffdcc6861de7}{FaultBase}を実装しています。

\hyperlink{classAlphaISA_1_1NDtbMissFault_a73adb23259baf912a81683a9790a303f}{NDtbMissFault}, \hyperlink{classAlphaISA_1_1PDtbMissFault_a73adb23259baf912a81683a9790a303f}{PDtbMissFault}, \hyperlink{classAlphaISA_1_1DtbPageFault_a73adb23259baf912a81683a9790a303f}{DtbPageFault}, \hyperlink{classAlphaISA_1_1DtbAcvFault_a73adb23259baf912a81683a9790a303f}{DtbAcvFault}, と \hyperlink{classAlphaISA_1_1DtbAlignmentFault_a73adb23259baf912a81683a9790a303f}{DtbAlignmentFault}で実装されています。\hypertarget{classAlphaISA_1_1DtbFault_ae7a41506fab06a3c1e392f5286f14c66}{
\index{AlphaISA::DtbFault@{AlphaISA::DtbFault}!vect@{vect}}
\index{vect@{vect}!AlphaISA::DtbFault@{AlphaISA::DtbFault}}
\subsubsection[{vect}]{\setlength{\rightskip}{0pt plus 5cm}{\bf FaultVect} vect ()\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classAlphaISA_1_1DtbFault_ae7a41506fab06a3c1e392f5286f14c66}


\hyperlink{classAlphaISA_1_1AlphaFault_ac141ef2ab527bd4d5c079ddff2e8b4aa}{AlphaFault}を実装しています。

\hyperlink{classAlphaISA_1_1NDtbMissFault_ae15c5d7ab0162821b93d668d0b225198}{NDtbMissFault}, \hyperlink{classAlphaISA_1_1PDtbMissFault_ae15c5d7ab0162821b93d668d0b225198}{PDtbMissFault}, \hyperlink{classAlphaISA_1_1DtbPageFault_ae15c5d7ab0162821b93d668d0b225198}{DtbPageFault}, \hyperlink{classAlphaISA_1_1DtbAcvFault_ae15c5d7ab0162821b93d668d0b225198}{DtbAcvFault}, と \hyperlink{classAlphaISA_1_1DtbAlignmentFault_ae15c5d7ab0162821b93d668d0b225198}{DtbAlignmentFault}で実装されています。

\subsection{変数}
\hypertarget{classAlphaISA_1_1DtbFault_a899a76dc5f03f0d4ea3793c339e07ee9}{
\index{AlphaISA::DtbFault@{AlphaISA::DtbFault}!flags@{flags}}
\index{flags@{flags}!AlphaISA::DtbFault@{AlphaISA::DtbFault}}
\subsubsection[{flags}]{\setlength{\rightskip}{0pt plus 5cm}uint64\_\-t {\bf flags}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classAlphaISA_1_1DtbFault_a899a76dc5f03f0d4ea3793c339e07ee9}
\hypertarget{classAlphaISA_1_1DtbFault_a4342a385c094b40ed46b0674fbb0b223}{
\index{AlphaISA::DtbFault@{AlphaISA::DtbFault}!reqFlags@{reqFlags}}
\index{reqFlags@{reqFlags}!AlphaISA::DtbFault@{AlphaISA::DtbFault}}
\subsubsection[{reqFlags}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Request::Flags} {\bf reqFlags}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classAlphaISA_1_1DtbFault_a4342a385c094b40ed46b0674fbb0b223}
\hypertarget{classAlphaISA_1_1DtbFault_a48d5190e0fd672e7fe9d248a670b8ea3}{
\index{AlphaISA::DtbFault@{AlphaISA::DtbFault}!vaddr@{vaddr}}
\index{vaddr@{vaddr}!AlphaISA::DtbFault@{AlphaISA::DtbFault}}
\subsubsection[{vaddr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf VAddr} {\bf vaddr}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classAlphaISA_1_1DtbFault_a48d5190e0fd672e7fe9d248a670b8ea3}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
arch/alpha/\hyperlink{arch_2alpha_2faults_8hh}{faults.hh}\item 
arch/alpha/\hyperlink{arch_2alpha_2faults_8cc}{faults.cc}\end{DoxyCompactItemize}
