\hypertarget{classm5_1_1proxy_1_1BaseProxy}{
\section{クラス BaseProxy}
\label{classm5_1_1proxy_1_1BaseProxy}\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
}
BaseProxyに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2cm]{classm5_1_1proxy_1_1BaseProxy}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classm5_1_1proxy_1_1BaseProxy_ac775ee34451fdfa742b318538164070e}{\_\-\_\-init\_\-\_\-}
\item 
def \hyperlink{classm5_1_1proxy_1_1BaseProxy_aa7a4b9bc0941308e362738503137460e}{\_\-\_\-str\_\-\_\-}
\item 
def \hyperlink{classm5_1_1proxy_1_1BaseProxy_a6287b7a16286568d5442b6e2e90215b5}{\_\-\_\-setattr\_\-\_\-}
\item 
def \hyperlink{classm5_1_1proxy_1_1BaseProxy_a48a7267a9f9d29d1514e713744202146}{\_\-\_\-mul\_\-\_\-}
\item 
def \hyperlink{classm5_1_1proxy_1_1BaseProxy_a587cd3c1e899640dc09d63793aa8093b}{unproxy}
\item 
def \hyperlink{classm5_1_1proxy_1_1BaseProxy_a6e2936a185966ecf10de41aca4cd4ec8}{getindex}
\item 
def \hyperlink{classm5_1_1proxy_1_1BaseProxy_aa1d1be95abe1fe821c85b7d03dd57f12}{set\_\-param\_\-desc}
\end{DoxyCompactItemize}
\subsection*{Static Public 変数}
\begin{DoxyCompactItemize}
\item 
tuple \hyperlink{classm5_1_1proxy_1_1BaseProxy_afe8b888cbbc5e1ffac40bc80422bbaba}{getindex} = staticmethod(\hyperlink{classm5_1_1proxy_1_1BaseProxy_afe8b888cbbc5e1ffac40bc80422bbaba}{getindex})
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classm5_1_1proxy_1_1BaseProxy_a246216733f8117412cd0937090e28462}{\_\-mulcheck}
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classm5_1_1proxy_1_1BaseProxy_a8ee9ef0264b467147308cb0e8a87b3ee}{\_\-search\_\-self}
\item 
\hyperlink{classm5_1_1proxy_1_1BaseProxy_afcc0d66e9e374da3917dadaa5c984ace}{\_\-search\_\-up}
\item 
\hyperlink{classm5_1_1proxy_1_1BaseProxy_a395bed3d7605ce5916de64e3c6f22764}{\_\-multiplier}
\item 
\hyperlink{classm5_1_1proxy_1_1BaseProxy_af4f0faeb1c76ab133e93d9e55a79260f}{\_\-visited}
\item 
\hyperlink{classm5_1_1proxy_1_1BaseProxy_a05a816c49bf97cfd73787b8929ee2be6}{\_\-pdesc}
\end{DoxyCompactItemize}
\subsection*{Static Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classm5_1_1proxy_1_1BaseProxy_a0d6f9f52e4ec8af916d462d238cd25b1}{\_\-\_\-rmul\_\-\_\-} = \_\-\_\-mul\_\-\_\-
\end{DoxyCompactItemize}


\subsection{関数}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_ac775ee34451fdfa742b318538164070e}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!\_\-\_\-init\_\-\_\-@{\_\-\_\-init\_\-\_\-}}
\index{\_\-\_\-init\_\-\_\-@{\_\-\_\-init\_\-\_\-}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{\_\-\_\-init\_\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def \_\-\_\-init\_\-\_\- ( {\em self}, \/   {\em search\_\-self}, \/   {\em search\_\-up})}}
\label{classm5_1_1proxy_1_1BaseProxy_ac775ee34451fdfa742b318538164070e}



\begin{DoxyCode}
39                                               :
40         self._search_self = search_self
41         self._search_up = search_up
42         self._multiplier = None
43 
    def __str__(self):
\end{DoxyCode}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_a48a7267a9f9d29d1514e713744202146}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!\_\-\_\-mul\_\-\_\-@{\_\-\_\-mul\_\-\_\-}}
\index{\_\-\_\-mul\_\-\_\-@{\_\-\_\-mul\_\-\_\-}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{\_\-\_\-mul\_\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def \_\-\_\-mul\_\-\_\- ( {\em self}, \/   {\em other})}}
\label{classm5_1_1proxy_1_1BaseProxy_a48a7267a9f9d29d1514e713744202146}



\begin{DoxyCode}
60                             :
61         if not isinstance(other, (int, long, float)):
62             raise TypeError, "Proxy multiplier must be integer"
63         if self._multiplier == None:
64             self._multiplier = other
65         else:
66             # support chained multipliers
67             self._multiplier *= other
68         return self
69 
    __rmul__ = __mul__
\end{DoxyCode}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_a6287b7a16286568d5442b6e2e90215b5}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!\_\-\_\-setattr\_\-\_\-@{\_\-\_\-setattr\_\-\_\-}}
\index{\_\-\_\-setattr\_\-\_\-@{\_\-\_\-setattr\_\-\_\-}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{\_\-\_\-setattr\_\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def \_\-\_\-setattr\_\-\_\- ( {\em self}, \/   {\em attr}, \/   {\em value})}}
\label{classm5_1_1proxy_1_1BaseProxy_a6287b7a16286568d5442b6e2e90215b5}



\begin{DoxyCode}
53                                       :
54         if not attr.startswith('_'):
55             raise AttributeError, \
56                   "cannot set attribute '%s' on proxy object" % attr
57         super(BaseProxy, self).__setattr__(attr, value)
58 
59     # support multiplying proxies by constants
    def __mul__(self, other):
\end{DoxyCode}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_aa7a4b9bc0941308e362738503137460e}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!\_\-\_\-str\_\-\_\-@{\_\-\_\-str\_\-\_\-}}
\index{\_\-\_\-str\_\-\_\-@{\_\-\_\-str\_\-\_\-}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{\_\-\_\-str\_\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def \_\-\_\-str\_\-\_\- ( {\em self})}}
\label{classm5_1_1proxy_1_1BaseProxy_aa7a4b9bc0941308e362738503137460e}



\begin{DoxyCode}
44                      :
45         if self._search_self and not self._search_up:
46             s = 'Self'
47         elif not self._search_self and self._search_up:
48             s = 'Parent'
49         else:
50             s = 'ConfusedProxy'
51         return s + '.' + self.path()
52 
    def __setattr__(self, attr, value):
\end{DoxyCode}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_a246216733f8117412cd0937090e28462}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!\_\-mulcheck@{\_\-mulcheck}}
\index{\_\-mulcheck@{\_\-mulcheck}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{\_\-mulcheck}]{\setlength{\rightskip}{0pt plus 5cm}def \_\-mulcheck ( {\em self}, \/   {\em result})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classm5_1_1proxy_1_1BaseProxy_a246216733f8117412cd0937090e28462}



\begin{DoxyCode}
72                                :
73         if self._multiplier == None:
74             return result
75         return result * self._multiplier
76 
    def unproxy(self, base):
\end{DoxyCode}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_a6e2936a185966ecf10de41aca4cd4ec8}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!getindex@{getindex}}
\index{getindex@{getindex}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{getindex}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf getindex} ( {\em obj}, \/   {\em index})}}
\label{classm5_1_1proxy_1_1BaseProxy_a6e2936a185966ecf10de41aca4cd4ec8}



\begin{DoxyCode}
110                             :
111         if index == None:
112             return obj
113         try:
114             obj = obj[index]
115         except TypeError:
116             if index != 0:
117                 raise
118             # if index is 0 and item is not subscriptable, just
119             # use item itself (so cpu[0] works on uniprocessors)
120         return obj
    getindex = staticmethod(getindex)
\end{DoxyCode}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_aa1d1be95abe1fe821c85b7d03dd57f12}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!set\_\-param\_\-desc@{set\_\-param\_\-desc}}
\index{set\_\-param\_\-desc@{set\_\-param\_\-desc}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{set\_\-param\_\-desc}]{\setlength{\rightskip}{0pt plus 5cm}def set\_\-param\_\-desc ( {\em self}, \/   {\em pdesc})}}
\label{classm5_1_1proxy_1_1BaseProxy_aa1d1be95abe1fe821c85b7d03dd57f12}



\begin{DoxyCode}
126                                    :
127         self._pdesc = pdesc
128 
class AttrProxy(BaseProxy):
\end{DoxyCode}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_a587cd3c1e899640dc09d63793aa8093b}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!unproxy@{unproxy}}
\index{unproxy@{unproxy}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{unproxy}]{\setlength{\rightskip}{0pt plus 5cm}def unproxy ( {\em self}, \/   {\em base})}}
\label{classm5_1_1proxy_1_1BaseProxy_a587cd3c1e899640dc09d63793aa8093b}



\begin{DoxyCode}
77                            :
78         obj = base
79         done = False
80 
81         if self._search_self:
82             result, done = self.find(obj)
83 
84         if self._search_up:
85             # Search up the tree but mark ourself
86             # as visited to avoid a self-reference
87             self._visited = True
88             obj._visited = True
89             while not done:
90                 obj = obj._parent
91                 if not obj:
92                     break
93                 result, done = self.find(obj)
94 
95             self._visited = False
96             base._visited = False
97 
98         if not done:
99             raise AttributeError, \
100                   "Can't resolve proxy '%s' of type '%s' from '%s'" % \
101                   (self.path(), self._pdesc.ptype_str, base.path())
102 
103         if isinstance(result, BaseProxy):
104             if result == self:
105                 raise RuntimeError, "Cycle in unproxy"
106             result = result.unproxy(obj)
107 
108         return self._mulcheck(result)
109 
    def getindex(obj, index):
\end{DoxyCode}


\subsection{変数}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_a0d6f9f52e4ec8af916d462d238cd25b1}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!\_\-\_\-rmul\_\-\_\-@{\_\-\_\-rmul\_\-\_\-}}
\index{\_\-\_\-rmul\_\-\_\-@{\_\-\_\-rmul\_\-\_\-}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{\_\-\_\-rmul\_\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \_\-\_\-rmul\_\-\_\-} = \_\-\_\-mul\_\-\_\-\hspace{0.3cm}{\ttfamily  \mbox{[}static, private\mbox{]}}}}
\label{classm5_1_1proxy_1_1BaseProxy_a0d6f9f52e4ec8af916d462d238cd25b1}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_a395bed3d7605ce5916de64e3c6f22764}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!\_\-multiplier@{\_\-multiplier}}
\index{\_\-multiplier@{\_\-multiplier}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{\_\-multiplier}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \_\-multiplier}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classm5_1_1proxy_1_1BaseProxy_a395bed3d7605ce5916de64e3c6f22764}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_a05a816c49bf97cfd73787b8929ee2be6}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!\_\-pdesc@{\_\-pdesc}}
\index{\_\-pdesc@{\_\-pdesc}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{\_\-pdesc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \_\-pdesc}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classm5_1_1proxy_1_1BaseProxy_a05a816c49bf97cfd73787b8929ee2be6}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_a8ee9ef0264b467147308cb0e8a87b3ee}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!\_\-search\_\-self@{\_\-search\_\-self}}
\index{\_\-search\_\-self@{\_\-search\_\-self}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{\_\-search\_\-self}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \_\-search\_\-self}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classm5_1_1proxy_1_1BaseProxy_a8ee9ef0264b467147308cb0e8a87b3ee}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_afcc0d66e9e374da3917dadaa5c984ace}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!\_\-search\_\-up@{\_\-search\_\-up}}
\index{\_\-search\_\-up@{\_\-search\_\-up}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{\_\-search\_\-up}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \_\-search\_\-up}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classm5_1_1proxy_1_1BaseProxy_afcc0d66e9e374da3917dadaa5c984ace}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_af4f0faeb1c76ab133e93d9e55a79260f}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!\_\-visited@{\_\-visited}}
\index{\_\-visited@{\_\-visited}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{\_\-visited}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \_\-visited}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classm5_1_1proxy_1_1BaseProxy_af4f0faeb1c76ab133e93d9e55a79260f}
\hypertarget{classm5_1_1proxy_1_1BaseProxy_afe8b888cbbc5e1ffac40bc80422bbaba}{
\index{m5::proxy::BaseProxy@{m5::proxy::BaseProxy}!getindex@{getindex}}
\index{getindex@{getindex}!m5::proxy::BaseProxy@{m5::proxy::BaseProxy}}
\subsubsection[{getindex}]{\setlength{\rightskip}{0pt plus 5cm}tuple {\bf getindex} = staticmethod({\bf getindex})\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classm5_1_1proxy_1_1BaseProxy_afe8b888cbbc5e1ffac40bc80422bbaba}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
python/m5/\hyperlink{proxy_8py}{proxy.py}\end{DoxyCompactItemize}
