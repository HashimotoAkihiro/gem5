\hypertarget{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST}{
\section{クラス PeekStatementAST}
\label{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST}\index{slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}}
}
PeekStatementASTに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4cm]{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_ac775ee34451fdfa742b318538164070e}{\_\-\_\-init\_\-\_\-}
\item 
def \hyperlink{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_ad8b9328939df072e4740cd9a63189744}{\_\-\_\-repr\_\-\_\-}
\item 
def \hyperlink{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_a4555d1cee0dccf3942ea35fe86de2e8e}{generate}
\item 
def \hyperlink{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_abd195c795639b490ba2de4c1246105f1}{findResources}
\end{DoxyCompactItemize}
\subsection*{Public 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_a733067e60f05a4e8a925c8e36fe46132}{queue\_\-name}
\item 
\hyperlink{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_a2c41e611550596541faa6f64ffecc139}{type\_\-ast}
\item 
\hyperlink{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_aa25d5649a404c698dcacaa271a285c92}{statements}
\item 
\hyperlink{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_abed946c62f140eb7ff2ac742e6ad9497}{method}
\end{DoxyCompactItemize}


\subsection{関数}
\hypertarget{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_ac775ee34451fdfa742b318538164070e}{
\index{slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}!\_\-\_\-init\_\-\_\-@{\_\-\_\-init\_\-\_\-}}
\index{\_\-\_\-init\_\-\_\-@{\_\-\_\-init\_\-\_\-}!slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}}
\subsubsection[{\_\-\_\-init\_\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def \_\-\_\-init\_\-\_\- ( {\em self}, \/   {\em slicc}, \/   {\em queue\_\-name}, \/   {\em type\_\-ast}, \/   {\em pairs}, \/   {\em statements}, \/   {\em method})}}
\label{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_ac775ee34451fdfa742b318538164070e}



\begin{DoxyCode}
32                                                                               :
33         super(PeekStatementAST, self).__init__(slicc, pairs)
34 
35         self.queue_name = queue_name
36         self.type_ast = type_ast
37         self.statements = statements
38         self.method = method
39 
    def __repr__(self):
\end{DoxyCode}
\hypertarget{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_ad8b9328939df072e4740cd9a63189744}{
\index{slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}!\_\-\_\-repr\_\-\_\-@{\_\-\_\-repr\_\-\_\-}}
\index{\_\-\_\-repr\_\-\_\-@{\_\-\_\-repr\_\-\_\-}!slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}}
\subsubsection[{\_\-\_\-repr\_\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def \_\-\_\-repr\_\-\_\- ( {\em self})}}
\label{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_ad8b9328939df072e4740cd9a63189744}



\begin{DoxyCode}
40                       :
41         return "[PeekStatementAST: %r queue_name: %r type: %r %r]" % \
42                (self.method, self.queue_name, self.type_ast, self.statements)
43 
    def generate(self, code, return_type):
\end{DoxyCode}
\hypertarget{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_abd195c795639b490ba2de4c1246105f1}{
\index{slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}!findResources@{findResources}}
\index{findResources@{findResources}!slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}}
\subsubsection[{findResources}]{\setlength{\rightskip}{0pt plus 5cm}def findResources ( {\em self}, \/   {\em resources})}}
\label{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_abd195c795639b490ba2de4c1246105f1}


\hyperlink{classslicc_1_1ast_1_1StatementAST_1_1StatementAST_abd195c795639b490ba2de4c1246105f1}{StatementAST}を再定義しています。


\begin{DoxyCode}
92                                       :
93         self.statements.findResources(resources)
        self.statements.findResources(resources)
\end{DoxyCode}
\hypertarget{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_a4555d1cee0dccf3942ea35fe86de2e8e}{
\index{slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}!generate@{generate}}
\index{generate@{generate}!slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}}
\subsubsection[{generate}]{\setlength{\rightskip}{0pt plus 5cm}def generate ( {\em self}, \/   {\em code}, \/   {\em return\_\-type})}}
\label{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_a4555d1cee0dccf3942ea35fe86de2e8e}



\begin{DoxyCode}
44                                          :
45         self.symtab.pushFrame()
46 
47         msg_type = self.type_ast.type
48 
49         # Add new local var to symbol table
50         var = Var(self.symtab, "in_msg", self.location, msg_type, "(*in_msg_ptr)"
      ,
51                   self.pairs)
52         self.symtab.newSymbol(var)
53 
54         # Check the queue type
55         self.queue_name.assertType("InPort")
56 
57         # Declare the new "in_msg_ptr" variable
58         mtid = msg_type.ident
59         qcode = self.queue_name.var.code
60         code('''
61 {
62     // Declare message
63     const $mtid* in_msg_ptr M5_VAR_USED;
64     in_msg_ptr = dynamic_cast<const $mtid *>(($qcode).${{self.method}}());
65     assert(in_msg_ptr != NULL); // Check the cast result
66 ''')
67 
68         if self.pairs.has_key("block_on"):
69             address_field = self.pairs['block_on']
70             code('''
71     if (m_is_blocking &&
72         (m_block_map.count(in_msg_ptr->m_$address_field) == 1) &&
73         (m_block_map[in_msg_ptr->m_$address_field] != &$qcode)) {
74             $qcode.delayHead();
75             continue;
76     }
77             ''')
78 
79         if self.pairs.has_key("wake_up"):
80             address_field = self.pairs['wake_up']
81             code('''
82     if (m_waiting_buffers.count(in_msg_ptr->m_$address_field) > 0) {
83         wakeUpBuffers(in_msg_ptr->m_$address_field);
84     }
85             ''')
86 
87         # The other statements
88         self.statements.generate(code, return_type)
89         self.symtab.popFrame()
90         code("}")
91 
    def findResources(self, resources):
\end{DoxyCode}


\subsection{変数}
\hypertarget{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_abed946c62f140eb7ff2ac742e6ad9497}{
\index{slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}!method@{method}}
\index{method@{method}!slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}}
\subsubsection[{method}]{\setlength{\rightskip}{0pt plus 5cm}{\bf method}}}
\label{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_abed946c62f140eb7ff2ac742e6ad9497}
\hypertarget{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_a733067e60f05a4e8a925c8e36fe46132}{
\index{slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}!queue\_\-name@{queue\_\-name}}
\index{queue\_\-name@{queue\_\-name}!slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}}
\subsubsection[{queue\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}{\bf queue\_\-name}}}
\label{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_a733067e60f05a4e8a925c8e36fe46132}
\hypertarget{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_aa25d5649a404c698dcacaa271a285c92}{
\index{slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}!statements@{statements}}
\index{statements@{statements}!slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}}
\subsubsection[{statements}]{\setlength{\rightskip}{0pt plus 5cm}{\bf statements}}}
\label{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_aa25d5649a404c698dcacaa271a285c92}
\hypertarget{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_a2c41e611550596541faa6f64ffecc139}{
\index{slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}!type\_\-ast@{type\_\-ast}}
\index{type\_\-ast@{type\_\-ast}!slicc::ast::PeekStatementAST::PeekStatementAST@{slicc::ast::PeekStatementAST::PeekStatementAST}}
\subsubsection[{type\_\-ast}]{\setlength{\rightskip}{0pt plus 5cm}{\bf type\_\-ast}}}
\label{classslicc_1_1ast_1_1PeekStatementAST_1_1PeekStatementAST_a2c41e611550596541faa6f64ffecc139}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/slicc/ast/\hyperlink{PeekStatementAST_8py}{PeekStatementAST.py}\end{DoxyCompactItemize}
