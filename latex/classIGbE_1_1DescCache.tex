\hypertarget{classIGbE_1_1DescCache}{
\section{クラス テンプレート DescCache$<$ T $>$}
\label{classIGbE_1_1DescCache}\index{IGbE::DescCache@{IGbE::DescCache}}
}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classIGbE_1_1DescCache_a5d52519add3740ad26acef908669a09f}{DescCache} (\hyperlink{classIGbE}{IGbE} $\ast$i, const std::string n, int s)
\item 
virtual \hyperlink{classIGbE_1_1DescCache_a386ef53292372f92559f7d22782dfa76}{$\sim$DescCache} ()
\item 
std::string \hyperlink{classIGbE_1_1DescCache_af1801e31af6399bccce114ab12575168}{name} ()
\item 
void \hyperlink{classIGbE_1_1DescCache_aa55a03ef5e0e85dfa7860656c57c649a}{areaChanged} ()
\item 
void \hyperlink{classIGbE_1_1DescCache_af6593b85cc3920a68b9a0317053a4416}{writeback} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} aMask)
\item 
void \hyperlink{classIGbE_1_1DescCache_a427d2491d0856a590c1168301f146509}{writeback1} ()
\item 
void \hyperlink{classIGbE_1_1DescCache_a69c2eb368f23448d28ccb10dfa67c250}{fetchDescriptors} ()
\item 
void \hyperlink{classIGbE_1_1DescCache_a2fbe1c3d2d7e697512e63f3d14787e8b}{fetchDescriptors1} ()
\item 
void \hyperlink{classIGbE_1_1DescCache_a23b4635f3979b87b52d2324c4d7ab39a}{fetchComplete} ()
\item 
void \hyperlink{classIGbE_1_1DescCache_a4e5412affaf9bee5874dcbdb032659cf}{wbComplete} ()
\item 
unsigned \hyperlink{classIGbE_1_1DescCache_ad60cb6948516cc9177fc65c07c7a0550}{descLeft} () const 
\item 
unsigned \hyperlink{classIGbE_1_1DescCache_a8e6020ce06b62c70f3aaa6d6222353fb}{descUsed} () const 
\item 
unsigned \hyperlink{classIGbE_1_1DescCache_a73d7e7efbb2dc6340aef1e2f3e4cb02d}{descUnused} () const 
\item 
void \hyperlink{classIGbE_1_1DescCache_ad20897c5c8bd47f5d4005989bead0e55}{reset} ()
\item 
virtual void \hyperlink{classIGbE_1_1DescCache_a53e036786d17361be4c7320d39c99b84}{serialize} (std::ostream \&os)
\item 
virtual void \hyperlink{classIGbE_1_1DescCache_af22e5d6d660b97db37003ac61ac4ee49}{unserialize} (\hyperlink{classCheckpoint}{Checkpoint} $\ast$cp, const std::string \&section)
\item 
virtual bool \hyperlink{classIGbE_1_1DescCache_a09989bc9720a200c8164dc1ef109d70b}{hasOutstandingEvents} ()
\end{DoxyCompactItemize}
\subsection*{Public 変数}
\begin{DoxyCompactItemize}
\item 
std::string \hyperlink{classIGbE_1_1DescCache_afa0b0aa4b6539cf61d33c27e35c809a1}{annSmFetch}
\item 
std::string \hyperlink{classIGbE_1_1DescCache_af0c632f8282132e3abbbe879fcdea126}{annSmWb}
\item 
std::string \hyperlink{classIGbE_1_1DescCache_a7cc80d85ecc41b9f0e262b9ad332fc76}{annUnusedDescQ}
\item 
std::string \hyperlink{classIGbE_1_1DescCache_a6ee5c97cfcef9e794d9691f2d11454aa}{annUsedCacheQ}
\item 
std::string \hyperlink{classIGbE_1_1DescCache_a7fe6b65fb10d40a843ce4e8925062aa6}{annUsedDescQ}
\item 
std::string \hyperlink{classIGbE_1_1DescCache_aa1b65175b7b2bc6609744ebc8657ac7d}{annUnusedCacheQ}
\item 
std::string \hyperlink{classIGbE_1_1DescCache_a710b789ff37ebd40141ea5d4239cb50d}{annDescQ}
\item 
\hyperlink{classEventWrapper}{EventWrapper}$<$ \hyperlink{classIGbE_1_1DescCache}{DescCache},\&DescCache::writeback1 $>$ \hyperlink{classIGbE_1_1DescCache_a20fa57c5779fd6371598e36d8ba9a5aa}{wbDelayEvent}
\item 
\hyperlink{classEventWrapper}{EventWrapper}$<$ \hyperlink{classIGbE_1_1DescCache}{DescCache},\&DescCache::fetchDescriptors1 $>$ \hyperlink{classIGbE_1_1DescCache_a31cb5aa7ad676c587a8b467dfd762b9b}{fetchDelayEvent}
\item 
\hyperlink{classEventWrapper}{EventWrapper}$<$ \hyperlink{classIGbE_1_1DescCache}{DescCache},\&DescCache::fetchComplete $>$ \hyperlink{classIGbE_1_1DescCache_a663aeb25d4224f8d4cbe8d4e1fe3d7d3}{fetchEvent}
\item 
\hyperlink{classEventWrapper}{EventWrapper}$<$ \hyperlink{classIGbE_1_1DescCache}{DescCache},\&DescCache::wbComplete $>$ \hyperlink{classIGbE_1_1DescCache_ae9ac7c384feda84fd885f523f0ce5f73}{wbEvent}
\end{DoxyCompactItemize}
\subsection*{Protected 型}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{classstd_1_1deque}{std::deque}$<$ T $\ast$ $>$ \hyperlink{classIGbE_1_1DescCache_a1587fdc5fc2e56988bee51b7a035cd30}{CacheType}
\end{DoxyCompactItemize}
\subsection*{Protected メソッド}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classIGbE_1_1DescCache_aa8bdc83aee2be5e0eaa7a1f7f1f284e2}{descBase} () const =0
\item 
virtual long \hyperlink{classIGbE_1_1DescCache_af413050780b6b8b2fe0793fff12037e3}{descHead} () const =0
\item 
virtual long \hyperlink{classIGbE_1_1DescCache_a88ebc5d9eb88ca9148465557e9a66c1c}{descTail} () const =0
\item 
virtual long \hyperlink{classIGbE_1_1DescCache_a8eb35163568b01fa17aa47b23a80f90c}{descLen} () const =0
\item 
virtual void \hyperlink{classIGbE_1_1DescCache_af48912789332a0283480cd85c7197f15}{updateHead} (long h)=0
\item 
virtual void \hyperlink{classIGbE_1_1DescCache_a9b931707aadb26e13262c50e0dd87006}{enableSm} ()=0
\item 
virtual void \hyperlink{classIGbE_1_1DescCache_a22d736f39e553f2f93799dc2e0eea912}{actionAfterWb} ()
\item 
virtual void \hyperlink{classIGbE_1_1DescCache_abe568c102619a35d2aa1a37c64dff086}{fetchAfterWb} ()=0
\item 
\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classIGbE_1_1DescCache_aaeea87c73c95205c88d11e03fe8f48b9}{pciToDma} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} a)
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classstd_1_1deque}{CacheType} \hyperlink{classIGbE_1_1DescCache_a99982ada48f129fedf0ee5d8871f5df8}{usedCache}
\item 
\hyperlink{classstd_1_1deque}{CacheType} \hyperlink{classIGbE_1_1DescCache_af60e49173ff6f145cb02253c92201694}{unusedCache}
\item 
T $\ast$ \hyperlink{classIGbE_1_1DescCache_a45bfe33ba83d15f61fe3f115d779717e}{fetchBuf}
\item 
T $\ast$ \hyperlink{classIGbE_1_1DescCache_a48d72919f0a5e868ed72f1b9f995e294}{wbBuf}
\item 
\hyperlink{classIGbE}{IGbE} $\ast$ \hyperlink{classIGbE_1_1DescCache_a408e72fda9473efd272ef36a9f6d6928}{igbe}
\item 
std::string \hyperlink{classIGbE_1_1DescCache_aaf2ed934b37cbbd236fdd1b01a5f5005}{\_\-name}
\item 
int \hyperlink{classIGbE_1_1DescCache_ae61bf30eb8cd19a999687fc3b471f778}{cachePnt}
\item 
int \hyperlink{classIGbE_1_1DescCache_a439227feff9d7f55384e8780cfc2eb82}{size}
\item 
int \hyperlink{classIGbE_1_1DescCache_adf659db1aecba7384fa82d960d89d602}{curFetching}
\item 
int \hyperlink{classIGbE_1_1DescCache_a40ac490f16b3b0f977f34621d2b8c550}{wbOut}
\item 
bool \hyperlink{classIGbE_1_1DescCache_adf55798327cfefd75a5db0a6e71009e6}{moreToWb}
\item 
\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classIGbE_1_1DescCache_aeb55673ae3c17ae211ad114c823bf761}{wbAlignment}
\item 
\hyperlink{classRefCountingPtr}{EthPacketPtr} \hyperlink{classIGbE_1_1DescCache_a3ac80d9129084f8cd11a49ded80e8333}{pktPtr}
\end{DoxyCompactItemize}
\subsubsection*{template$<$class T$>$ class IGbE::DescCache$<$ T $>$}



\subsection{型定義}
\hypertarget{classIGbE_1_1DescCache_a1587fdc5fc2e56988bee51b7a035cd30}{
\index{IGbE::DescCache@{IGbE::DescCache}!CacheType@{CacheType}}
\index{CacheType@{CacheType}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{CacheType}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf std::deque}$<$T $\ast$$>$ {\bf CacheType}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_a1587fdc5fc2e56988bee51b7a035cd30}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classIGbE_1_1DescCache_a5d52519add3740ad26acef908669a09f}{
\index{IGbE::DescCache@{IGbE::DescCache}!DescCache@{DescCache}}
\index{DescCache@{DescCache}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{DescCache}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DescCache} ({\bf IGbE} $\ast$ {\em i}, \/  const std::string {\em n}, \/  int {\em s})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_a5d52519add3740ad26acef908669a09f}



\begin{DoxyCode}
823     : igbe(i), _name(n), cachePnt(0), size(s), curFetching(0),
824       wbOut(0), pktPtr(NULL), wbDelayEvent(this),
825       fetchDelayEvent(this), fetchEvent(this), wbEvent(this)
826 {
827     fetchBuf = new T[size];
828     wbBuf = new T[size];
829 }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_a386ef53292372f92559f7d22782dfa76}{
\index{IGbE::DescCache@{IGbE::DescCache}!$\sim$DescCache@{$\sim$DescCache}}
\index{$\sim$DescCache@{$\sim$DescCache}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{$\sim$DescCache}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf DescCache} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_a386ef53292372f92559f7d22782dfa76}



\begin{DoxyCode}
833 {
834     reset();
835     delete[] fetchBuf;
836     delete[] wbBuf;
837 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classIGbE_1_1DescCache_a22d736f39e553f2f93799dc2e0eea912}{
\index{IGbE::DescCache@{IGbE::DescCache}!actionAfterWb@{actionAfterWb}}
\index{actionAfterWb@{actionAfterWb}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{actionAfterWb}]{\setlength{\rightskip}{0pt plus 5cm}virtual void actionAfterWb ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected, virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_a22d736f39e553f2f93799dc2e0eea912}


\hyperlink{classIGbE_1_1TxDescCache_a32bbafeff677d291df2eb9247a33b292}{TxDescCache}で再定義されています。


\begin{DoxyCode}
223 {}
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_aa55a03ef5e0e85dfa7860656c57c649a}{
\index{IGbE::DescCache@{IGbE::DescCache}!areaChanged@{areaChanged}}
\index{areaChanged@{areaChanged}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{areaChanged}]{\setlength{\rightskip}{0pt plus 5cm}void areaChanged ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_aa55a03ef5e0e85dfa7860656c57c649a}
If the address/len/head change when we've got descriptors that are dirty that is very bad. This function checks that we don't and if we do panics. 


\begin{DoxyCode}
842 {
843     if (usedCache.size() > 0 || curFetching || wbOut)
844         panic("Descriptor Address, Length or Head changed. Bad\n");
845     reset();
846 
847 }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_aa8bdc83aee2be5e0eaa7a1f7f1f284e2}{
\index{IGbE::DescCache@{IGbE::DescCache}!descBase@{descBase}}
\index{descBase@{descBase}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{descBase}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Addr} descBase () const\hspace{0.3cm}{\ttfamily  \mbox{[}protected, pure virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_aa8bdc83aee2be5e0eaa7a1f7f1f284e2}


\hyperlink{classIGbE_1_1RxDescCache_ae5a77c90557026fdf4fd78883f92bef9}{RxDescCache}, と \hyperlink{classIGbE_1_1TxDescCache_ae5a77c90557026fdf4fd78883f92bef9}{TxDescCache}で実装されています。\hypertarget{classIGbE_1_1DescCache_af413050780b6b8b2fe0793fff12037e3}{
\index{IGbE::DescCache@{IGbE::DescCache}!descHead@{descHead}}
\index{descHead@{descHead}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{descHead}]{\setlength{\rightskip}{0pt plus 5cm}virtual long descHead () const\hspace{0.3cm}{\ttfamily  \mbox{[}protected, pure virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_af413050780b6b8b2fe0793fff12037e3}


\hyperlink{classIGbE_1_1RxDescCache_af3d1877b6f30bdf98b95351c38d400f3}{RxDescCache}, と \hyperlink{classIGbE_1_1TxDescCache_af3d1877b6f30bdf98b95351c38d400f3}{TxDescCache}で実装されています。\hypertarget{classIGbE_1_1DescCache_ad60cb6948516cc9177fc65c07c7a0550}{
\index{IGbE::DescCache@{IGbE::DescCache}!descLeft@{descLeft}}
\index{descLeft@{descLeft}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{descLeft}]{\setlength{\rightskip}{0pt plus 5cm}unsigned descLeft () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_ad60cb6948516cc9177fc65c07c7a0550}



\begin{DoxyCode}
306         {
307             unsigned left = unusedCache.size();
308             if (cachePnt > descTail())
309                 left += (descLen() - cachePnt + descTail());
310             else
311                 left += (descTail() - cachePnt);
312 
313             return left;
314         }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_a8eb35163568b01fa17aa47b23a80f90c}{
\index{IGbE::DescCache@{IGbE::DescCache}!descLen@{descLen}}
\index{descLen@{descLen}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{descLen}]{\setlength{\rightskip}{0pt plus 5cm}virtual long descLen () const\hspace{0.3cm}{\ttfamily  \mbox{[}protected, pure virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_a8eb35163568b01fa17aa47b23a80f90c}


\hyperlink{classIGbE_1_1RxDescCache_a465e4e31be3a89db3d7f9cd1ecc40064}{RxDescCache}, と \hyperlink{classIGbE_1_1TxDescCache_a465e4e31be3a89db3d7f9cd1ecc40064}{TxDescCache}で実装されています。\hypertarget{classIGbE_1_1DescCache_a88ebc5d9eb88ca9148465557e9a66c1c}{
\index{IGbE::DescCache@{IGbE::DescCache}!descTail@{descTail}}
\index{descTail@{descTail}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{descTail}]{\setlength{\rightskip}{0pt plus 5cm}virtual long descTail () const\hspace{0.3cm}{\ttfamily  \mbox{[}protected, pure virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_a88ebc5d9eb88ca9148465557e9a66c1c}


\hyperlink{classIGbE_1_1RxDescCache_a4b6b769be62592fc43518ba480bbd1f7}{RxDescCache}, と \hyperlink{classIGbE_1_1TxDescCache_a4b6b769be62592fc43518ba480bbd1f7}{TxDescCache}で実装されています。\hypertarget{classIGbE_1_1DescCache_a73d7e7efbb2dc6340aef1e2f3e4cb02d}{
\index{IGbE::DescCache@{IGbE::DescCache}!descUnused@{descUnused}}
\index{descUnused@{descUnused}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{descUnused}]{\setlength{\rightskip}{0pt plus 5cm}unsigned descUnused () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_a73d7e7efbb2dc6340aef1e2f3e4cb02d}



\begin{DoxyCode}
321 { return unusedCache.size(); }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_a8e6020ce06b62c70f3aaa6d6222353fb}{
\index{IGbE::DescCache@{IGbE::DescCache}!descUsed@{descUsed}}
\index{descUsed@{descUsed}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{descUsed}]{\setlength{\rightskip}{0pt plus 5cm}unsigned descUsed () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_a8e6020ce06b62c70f3aaa6d6222353fb}



\begin{DoxyCode}
318 { return usedCache.size(); }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_a9b931707aadb26e13262c50e0dd87006}{
\index{IGbE::DescCache@{IGbE::DescCache}!enableSm@{enableSm}}
\index{enableSm@{enableSm}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{enableSm}]{\setlength{\rightskip}{0pt plus 5cm}virtual void enableSm ()\hspace{0.3cm}{\ttfamily  \mbox{[}protected, pure virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_a9b931707aadb26e13262c50e0dd87006}


\hyperlink{classIGbE_1_1RxDescCache_aec7fdcc540223076999e0f8f07f854bc}{RxDescCache}, と \hyperlink{classIGbE_1_1TxDescCache_aec7fdcc540223076999e0f8f07f854bc}{TxDescCache}で実装されています。\hypertarget{classIGbE_1_1DescCache_abe568c102619a35d2aa1a37c64dff086}{
\index{IGbE::DescCache@{IGbE::DescCache}!fetchAfterWb@{fetchAfterWb}}
\index{fetchAfterWb@{fetchAfterWb}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{fetchAfterWb}]{\setlength{\rightskip}{0pt plus 5cm}virtual void fetchAfterWb ()\hspace{0.3cm}{\ttfamily  \mbox{[}protected, pure virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_abe568c102619a35d2aa1a37c64dff086}


\hyperlink{classIGbE_1_1RxDescCache_abb8070fbcfa38a9697d92bbc4a0b6505}{RxDescCache}, と \hyperlink{classIGbE_1_1TxDescCache_abb8070fbcfa38a9697d92bbc4a0b6505}{TxDescCache}で実装されています。\hypertarget{classIGbE_1_1DescCache_a23b4635f3979b87b52d2324c4d7ab39a}{
\index{IGbE::DescCache@{IGbE::DescCache}!fetchComplete@{fetchComplete}}
\index{fetchComplete@{fetchComplete}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{fetchComplete}]{\setlength{\rightskip}{0pt plus 5cm}void fetchComplete ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_a23b4635f3979b87b52d2324c4d7ab39a}
Called by event when dma to read descriptors is completed 


\begin{DoxyCode}
1009 {
1010     T *newDesc;
1011     igbe->anBegin(annSmFetch, "Fetch Complete");
1012     for (int x = 0; x < curFetching; x++) {
1013         newDesc = new T;
1014         memcpy(newDesc, &fetchBuf[x], sizeof(T));
1015         unusedCache.push_back(newDesc);
1016         igbe->anDq(annSmFetch, annUnusedDescQ);
1017         igbe->anQ(annSmFetch, annUnusedCacheQ);
1018         igbe->anQ(annSmFetch, annDescQ);
1019     }
1020 
1021 
1022 #ifndef NDEBUG
1023     int oldCp = cachePnt;
1024 #endif
1025 
1026     cachePnt += curFetching;
1027     assert(cachePnt <= descLen());
1028     if (cachePnt == descLen())
1029         cachePnt = 0;
1030 
1031     curFetching = 0;
1032 
1033     DPRINTF(EthernetDesc, "Fetching complete cachePnt %d -> %d\n",
1034             oldCp, cachePnt);
1035 
1036     if ((descTail() >= cachePnt ? (descTail() - cachePnt) : (descLen() -
1037                                                              cachePnt)) == 0)
1038     {
1039         igbe->anWe(annSmFetch, annUnusedDescQ);
1040     } else if (!(size - usedCache.size() - unusedCache.size())) {
1041         igbe->anWf(annSmFetch, annDescQ);
1042     } else {
1043         igbe->anBegin(annSmFetch, "Wait", CPA::FL_WAIT);
1044     }
1045 
1046     enableSm();
1047     igbe->checkDrain();
1048 }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_a69c2eb368f23448d28ccb10dfa67c250}{
\index{IGbE::DescCache@{IGbE::DescCache}!fetchDescriptors@{fetchDescriptors}}
\index{fetchDescriptors@{fetchDescriptors}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{fetchDescriptors}]{\setlength{\rightskip}{0pt plus 5cm}void fetchDescriptors ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_a69c2eb368f23448d28ccb10dfa67c250}
Fetch a chunk of descriptors into the descriptor cache. Calls fetchComplete when the memory system returns the data 


\begin{DoxyCode}
935 {
936     size_t max_to_fetch;
937 
938     if (curFetching) {
939         DPRINTF(EthernetDesc,
940                 "Currently fetching %d descriptors, returning\n",
941                 curFetching);
942         return;
943     }
944 
945     if (descTail() >= cachePnt)
946         max_to_fetch = descTail() - cachePnt;
947     else
948         max_to_fetch = descLen() - cachePnt;
949 
950     size_t free_cache = size - usedCache.size() - unusedCache.size();
951 
952     if (!max_to_fetch)
953         igbe->anWe(annSmFetch, annUnusedDescQ);
954     else
955         igbe->anPq(annSmFetch, annUnusedDescQ, max_to_fetch);
956 
957     if (max_to_fetch) {
958         if (!free_cache)
959             igbe->anWf(annSmFetch, annDescQ);
960         else
961             igbe->anRq(annSmFetch, annDescQ, free_cache);
962     }
963 
964     max_to_fetch = std::min(max_to_fetch, free_cache);
965             
966 
967     DPRINTF(EthernetDesc, "Fetching descriptors head: %d tail: "
968             "%d len: %d cachePnt: %d max_to_fetch: %d descleft: %d\n",
969             descHead(), descTail(), descLen(), cachePnt,
970             max_to_fetch, descLeft());
971 
972     // Nothing to do
973     if (max_to_fetch == 0)
974         return;
975             
976     // So we don't have two descriptor fetches going on at once
977     curFetching = max_to_fetch;
978 
979     assert(!fetchDelayEvent.scheduled());
980     igbe->schedule(fetchDelayEvent, curTick() + igbe->fetchDelay);
981     igbe->anBegin(annSmFetch, "Prepare Fetch Desc");
982 }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_a2fbe1c3d2d7e697512e63f3d14787e8b}{
\index{IGbE::DescCache@{IGbE::DescCache}!fetchDescriptors1@{fetchDescriptors1}}
\index{fetchDescriptors1@{fetchDescriptors1}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{fetchDescriptors1}]{\setlength{\rightskip}{0pt plus 5cm}void fetchDescriptors1 ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_a2fbe1c3d2d7e697512e63f3d14787e8b}



\begin{DoxyCode}
987 {
988     // If we're draining delay issuing this DMA
989     if (igbe->getDrainState() != Drainable::Running) {
990         igbe->schedule(fetchDelayEvent, curTick() + igbe->fetchDelay);
991         return;
992     }
993 
994     igbe->anBegin(annSmFetch, "Fetch Desc");
995 
996     DPRINTF(EthernetDesc, "Fetching descriptors at %#x (%#x), size: %#x\n",
997             descBase() + cachePnt * sizeof(T),
998             pciToDma(descBase() + cachePnt * sizeof(T)),
999             curFetching * sizeof(T));
1000     assert(curFetching);
1001     igbe->dmaRead(pciToDma(descBase() + cachePnt * sizeof(T)),
1002                   curFetching * sizeof(T), &fetchEvent, (uint8_t*)fetchBuf,
1003                   igbe->fetchCompDelay);
1004 }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_a09989bc9720a200c8164dc1ef109d70b}{
\index{IGbE::DescCache@{IGbE::DescCache}!hasOutstandingEvents@{hasOutstandingEvents}}
\index{hasOutstandingEvents@{hasOutstandingEvents}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{hasOutstandingEvents}]{\setlength{\rightskip}{0pt plus 5cm}virtual bool hasOutstandingEvents ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_a09989bc9720a200c8164dc1ef109d70b}


\hyperlink{classIGbE_1_1RxDescCache_a2587421ae644a9474416e5a5b63ccbca}{RxDescCache}, と \hyperlink{classIGbE_1_1TxDescCache_a2587421ae644a9474416e5a5b63ccbca}{TxDescCache}で再定義されています。


\begin{DoxyCode}
330                                             {
331             return wbEvent.scheduled() || fetchEvent.scheduled();
332         }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_af1801e31af6399bccce114ab12575168}{
\index{IGbE::DescCache@{IGbE::DescCache}!name@{name}}
\index{name@{name}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{name}]{\setlength{\rightskip}{0pt plus 5cm}std::string name ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_af1801e31af6399bccce114ab12575168}



\begin{DoxyCode}
272 { return _name; }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_aaeea87c73c95205c88d11e03fe8f48b9}{
\index{IGbE::DescCache@{IGbE::DescCache}!pciToDma@{pciToDma}}
\index{pciToDma@{pciToDma}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{pciToDma}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} pciToDma ({\bf Addr} {\em a})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_aaeea87c73c95205c88d11e03fe8f48b9}
Shortcut for DMA address translation 


\begin{DoxyCode}
262 { return igbe->platform->pciToDma(a); }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_ad20897c5c8bd47f5d4005989bead0e55}{
\index{IGbE::DescCache@{IGbE::DescCache}!reset@{reset}}
\index{reset@{reset}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{reset}]{\setlength{\rightskip}{0pt plus 5cm}void reset ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_ad20897c5c8bd47f5d4005989bead0e55}



\begin{DoxyCode}
1104 {
1105     DPRINTF(EthernetDesc, "Reseting descriptor cache\n");
1106     for (typename CacheType::size_type x = 0; x < usedCache.size(); x++)
1107         delete usedCache[x];
1108     for (typename CacheType::size_type x = 0; x < unusedCache.size(); x++)
1109         delete unusedCache[x];
1110 
1111     usedCache.clear();
1112     unusedCache.clear();
1113 
1114     cachePnt = 0;
1115 
1116 }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_a53e036786d17361be4c7320d39c99b84}{
\index{IGbE::DescCache@{IGbE::DescCache}!serialize@{serialize}}
\index{serialize@{serialize}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{serialize}]{\setlength{\rightskip}{0pt plus 5cm}void serialize (std::ostream \& {\em os})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_a53e036786d17361be4c7320d39c99b84}


\hyperlink{classIGbE_1_1RxDescCache_a53e036786d17361be4c7320d39c99b84}{RxDescCache}, と \hyperlink{classIGbE_1_1TxDescCache_a53e036786d17361be4c7320d39c99b84}{TxDescCache}で再定義されています。


\begin{DoxyCode}
1121 {
1122     SERIALIZE_SCALAR(cachePnt);
1123     SERIALIZE_SCALAR(curFetching);
1124     SERIALIZE_SCALAR(wbOut);
1125     SERIALIZE_SCALAR(moreToWb);
1126     SERIALIZE_SCALAR(wbAlignment);
1127 
1128     typename CacheType::size_type usedCacheSize = usedCache.size();
1129     SERIALIZE_SCALAR(usedCacheSize);
1130     for (typename CacheType::size_type x = 0; x < usedCacheSize; x++) {
1131         arrayParamOut(os, csprintf("usedCache_%d", x),
1132                       (uint8_t*)usedCache[x],sizeof(T));
1133     }
1134 
1135     typename CacheType::size_type unusedCacheSize = unusedCache.size();
1136     SERIALIZE_SCALAR(unusedCacheSize);
1137     for (typename CacheType::size_type x = 0; x < unusedCacheSize; x++) {
1138         arrayParamOut(os, csprintf("unusedCache_%d", x),
1139                       (uint8_t*)unusedCache[x],sizeof(T));
1140     }
1141 
1142     Tick fetch_delay = 0, wb_delay = 0;
1143     if (fetchDelayEvent.scheduled())
1144         fetch_delay = fetchDelayEvent.when();
1145     SERIALIZE_SCALAR(fetch_delay);
1146     if (wbDelayEvent.scheduled())
1147         wb_delay = wbDelayEvent.when();
1148     SERIALIZE_SCALAR(wb_delay);
1149 
1150 
1151 }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_af22e5d6d660b97db37003ac61ac4ee49}{
\index{IGbE::DescCache@{IGbE::DescCache}!unserialize@{unserialize}}
\index{unserialize@{unserialize}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{unserialize}]{\setlength{\rightskip}{0pt plus 5cm}void unserialize ({\bf Checkpoint} $\ast$ {\em cp}, \/  const std::string \& {\em section})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_af22e5d6d660b97db37003ac61ac4ee49}


\hyperlink{classIGbE_1_1RxDescCache_af22e5d6d660b97db37003ac61ac4ee49}{RxDescCache}, と \hyperlink{classIGbE_1_1TxDescCache_af22e5d6d660b97db37003ac61ac4ee49}{TxDescCache}で再定義されています。


\begin{DoxyCode}
1156 {
1157     UNSERIALIZE_SCALAR(cachePnt);
1158     UNSERIALIZE_SCALAR(curFetching);
1159     UNSERIALIZE_SCALAR(wbOut);
1160     UNSERIALIZE_SCALAR(moreToWb);
1161     UNSERIALIZE_SCALAR(wbAlignment);
1162 
1163     typename CacheType::size_type usedCacheSize;
1164     UNSERIALIZE_SCALAR(usedCacheSize);
1165     T *temp;
1166     for (typename CacheType::size_type x = 0; x < usedCacheSize; x++) {
1167         temp = new T;
1168         arrayParamIn(cp, section, csprintf("usedCache_%d", x),
1169                      (uint8_t*)temp,sizeof(T));
1170         usedCache.push_back(temp);
1171     }
1172 
1173     typename CacheType::size_type unusedCacheSize;
1174     UNSERIALIZE_SCALAR(unusedCacheSize);
1175     for (typename CacheType::size_type x = 0; x < unusedCacheSize; x++) {
1176         temp = new T;
1177         arrayParamIn(cp, section, csprintf("unusedCache_%d", x),
1178                      (uint8_t*)temp,sizeof(T));
1179         unusedCache.push_back(temp);
1180     }
1181     Tick fetch_delay = 0, wb_delay = 0;
1182     UNSERIALIZE_SCALAR(fetch_delay);
1183     UNSERIALIZE_SCALAR(wb_delay);
1184     if (fetch_delay)
1185         igbe->schedule(fetchDelayEvent, fetch_delay);
1186     if (wb_delay)
1187         igbe->schedule(wbDelayEvent, wb_delay);
1188 
1189 
1190 }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_af48912789332a0283480cd85c7197f15}{
\index{IGbE::DescCache@{IGbE::DescCache}!updateHead@{updateHead}}
\index{updateHead@{updateHead}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{updateHead}]{\setlength{\rightskip}{0pt plus 5cm}virtual void updateHead (long {\em h})\hspace{0.3cm}{\ttfamily  \mbox{[}protected, pure virtual\mbox{]}}}}
\label{classIGbE_1_1DescCache_af48912789332a0283480cd85c7197f15}


\hyperlink{classIGbE_1_1RxDescCache_a4f8dbb4f64167626cac110753708c55c}{RxDescCache}, と \hyperlink{classIGbE_1_1TxDescCache_a4f8dbb4f64167626cac110753708c55c}{TxDescCache}で実装されています。\hypertarget{classIGbE_1_1DescCache_a4e5412affaf9bee5874dcbdb032659cf}{
\index{IGbE::DescCache@{IGbE::DescCache}!wbComplete@{wbComplete}}
\index{wbComplete@{wbComplete}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{wbComplete}]{\setlength{\rightskip}{0pt plus 5cm}void wbComplete ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_a4e5412affaf9bee5874dcbdb032659cf}
Called by event when dma to writeback descriptors is completed 


\begin{DoxyCode}
1053 {
1054 
1055     igbe->anBegin(annSmWb, "Finish Writeback");
1056 
1057     long  curHead = descHead();
1058 #ifndef NDEBUG
1059     long oldHead = curHead;
1060 #endif
1061             
1062     for (int x = 0; x < wbOut; x++) {
1063         assert(usedCache.size());
1064         delete usedCache[0];
1065         usedCache.pop_front();
1066 
1067         igbe->anDq(annSmWb, annUsedCacheQ);
1068         igbe->anDq(annSmWb, annDescQ);
1069     }
1070 
1071     curHead += wbOut;
1072     wbOut = 0;
1073 
1074     if (curHead >= descLen())
1075         curHead -= descLen();
1076 
1077     // Update the head
1078     updateHead(curHead);
1079 
1080     DPRINTF(EthernetDesc, "Writeback complete curHead %d -> %d\n",
1081             oldHead, curHead);
1082 
1083     // If we still have more to wb, call wb now
1084     actionAfterWb();
1085     if (moreToWb) {
1086         moreToWb = false;
1087         DPRINTF(EthernetDesc, "Writeback has more todo\n");
1088         writeback(wbAlignment);
1089     }
1090 
1091     if (!wbOut) {
1092         igbe->checkDrain();
1093         if (usedCache.size())
1094             igbe->anBegin(annSmWb, "Wait", CPA::FL_WAIT);
1095         else
1096             igbe->anWe(annSmWb, annUsedCacheQ);
1097     }
1098     fetchAfterWb();
1099 }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_af6593b85cc3920a68b9a0317053a4416}{
\index{IGbE::DescCache@{IGbE::DescCache}!writeback@{writeback}}
\index{writeback@{writeback}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{writeback}]{\setlength{\rightskip}{0pt plus 5cm}void writeback ({\bf Addr} {\em aMask})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_af6593b85cc3920a68b9a0317053a4416}



\begin{DoxyCode}
852 {
853     int curHead = descHead();
854     int max_to_wb = usedCache.size();
855 
856     // Check if this writeback is less restrictive that the previous
857     // and if so setup another one immediately following it
858     if (wbOut) {
859         if (aMask < wbAlignment) {
860             moreToWb = true;
861             wbAlignment = aMask;
862         }
863         DPRINTF(EthernetDesc,
864                 "Writing back already in process, returning\n");
865         return;
866     }
867 
868     moreToWb = false;
869     wbAlignment = aMask;
870    
871 
872     DPRINTF(EthernetDesc, "Writing back descriptors head: %d tail: "
873             "%d len: %d cachePnt: %d max_to_wb: %d descleft: %d\n",
874             curHead, descTail(), descLen(), cachePnt, max_to_wb,
875             descLeft());
876 
877     if (max_to_wb + curHead >= descLen()) {
878         max_to_wb = descLen() - curHead;
879         moreToWb = true;
880         // this is by definition aligned correctly
881     } else if (wbAlignment != 0) {
882         // align the wb point to the mask
883         max_to_wb = max_to_wb & ~wbAlignment;
884     }
885 
886     DPRINTF(EthernetDesc, "Writing back %d descriptors\n", max_to_wb);
887 
888     if (max_to_wb <= 0) {
889         if (usedCache.size())
890             igbe->anBegin(annSmWb, "Wait Alignment", CPA::FL_WAIT);
891         else
892             igbe->anWe(annSmWb, annUsedCacheQ);
893         return;
894     }
895 
896     wbOut = max_to_wb;
897 
898     assert(!wbDelayEvent.scheduled()); 
899     igbe->schedule(wbDelayEvent, curTick() + igbe->wbDelay);
900     igbe->anBegin(annSmWb, "Prepare Writeback Desc");
901 }
\end{DoxyCode}
\hypertarget{classIGbE_1_1DescCache_a427d2491d0856a590c1168301f146509}{
\index{IGbE::DescCache@{IGbE::DescCache}!writeback1@{writeback1}}
\index{writeback1@{writeback1}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{writeback1}]{\setlength{\rightskip}{0pt plus 5cm}void writeback1 ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classIGbE_1_1DescCache_a427d2491d0856a590c1168301f146509}



\begin{DoxyCode}
906 {
907     // If we're draining delay issuing this DMA
908     if (igbe->getDrainState() != Drainable::Running) {
909         igbe->schedule(wbDelayEvent, curTick() + igbe->wbDelay);
910         return;
911     }
912 
913     DPRINTF(EthernetDesc, "Begining DMA of %d descriptors\n", wbOut);
914             
915     for (int x = 0; x < wbOut; x++) {
916         assert(usedCache.size());
917         memcpy(&wbBuf[x], usedCache[x], sizeof(T));
918         igbe->anPq(annSmWb, annUsedCacheQ);
919         igbe->anPq(annSmWb, annDescQ);
920         igbe->anQ(annSmWb, annUsedDescQ);
921     }
922 
923     
924     igbe->anBegin(annSmWb, "Writeback Desc DMA");
925 
926     assert(wbOut);
927     igbe->dmaWrite(pciToDma(descBase() + descHead() * sizeof(T)),
928                    wbOut * sizeof(T), &wbEvent, (uint8_t*)wbBuf,
929                    igbe->wbCompDelay);
930 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classIGbE_1_1DescCache_aaf2ed934b37cbbd236fdd1b01a5f5005}{
\index{IGbE::DescCache@{IGbE::DescCache}!\_\-name@{\_\-name}}
\index{\_\-name@{\_\-name}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}std::string {\bf \_\-name}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_aaf2ed934b37cbbd236fdd1b01a5f5005}
\hypertarget{classIGbE_1_1DescCache_a710b789ff37ebd40141ea5d4239cb50d}{
\index{IGbE::DescCache@{IGbE::DescCache}!annDescQ@{annDescQ}}
\index{annDescQ@{annDescQ}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{annDescQ}]{\setlength{\rightskip}{0pt plus 5cm}std::string {\bf annDescQ}}}
\label{classIGbE_1_1DescCache_a710b789ff37ebd40141ea5d4239cb50d}
\hypertarget{classIGbE_1_1DescCache_afa0b0aa4b6539cf61d33c27e35c809a1}{
\index{IGbE::DescCache@{IGbE::DescCache}!annSmFetch@{annSmFetch}}
\index{annSmFetch@{annSmFetch}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{annSmFetch}]{\setlength{\rightskip}{0pt plus 5cm}std::string {\bf annSmFetch}}}
\label{classIGbE_1_1DescCache_afa0b0aa4b6539cf61d33c27e35c809a1}
Annotate sm \hypertarget{classIGbE_1_1DescCache_af0c632f8282132e3abbbe879fcdea126}{
\index{IGbE::DescCache@{IGbE::DescCache}!annSmWb@{annSmWb}}
\index{annSmWb@{annSmWb}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{annSmWb}]{\setlength{\rightskip}{0pt plus 5cm}std::string {\bf annSmWb}}}
\label{classIGbE_1_1DescCache_af0c632f8282132e3abbbe879fcdea126}
\hypertarget{classIGbE_1_1DescCache_aa1b65175b7b2bc6609744ebc8657ac7d}{
\index{IGbE::DescCache@{IGbE::DescCache}!annUnusedCacheQ@{annUnusedCacheQ}}
\index{annUnusedCacheQ@{annUnusedCacheQ}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{annUnusedCacheQ}]{\setlength{\rightskip}{0pt plus 5cm}std::string {\bf annUnusedCacheQ}}}
\label{classIGbE_1_1DescCache_aa1b65175b7b2bc6609744ebc8657ac7d}
\hypertarget{classIGbE_1_1DescCache_a7cc80d85ecc41b9f0e262b9ad332fc76}{
\index{IGbE::DescCache@{IGbE::DescCache}!annUnusedDescQ@{annUnusedDescQ}}
\index{annUnusedDescQ@{annUnusedDescQ}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{annUnusedDescQ}]{\setlength{\rightskip}{0pt plus 5cm}std::string {\bf annUnusedDescQ}}}
\label{classIGbE_1_1DescCache_a7cc80d85ecc41b9f0e262b9ad332fc76}
\hypertarget{classIGbE_1_1DescCache_a6ee5c97cfcef9e794d9691f2d11454aa}{
\index{IGbE::DescCache@{IGbE::DescCache}!annUsedCacheQ@{annUsedCacheQ}}
\index{annUsedCacheQ@{annUsedCacheQ}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{annUsedCacheQ}]{\setlength{\rightskip}{0pt plus 5cm}std::string {\bf annUsedCacheQ}}}
\label{classIGbE_1_1DescCache_a6ee5c97cfcef9e794d9691f2d11454aa}
\hypertarget{classIGbE_1_1DescCache_a7fe6b65fb10d40a843ce4e8925062aa6}{
\index{IGbE::DescCache@{IGbE::DescCache}!annUsedDescQ@{annUsedDescQ}}
\index{annUsedDescQ@{annUsedDescQ}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{annUsedDescQ}]{\setlength{\rightskip}{0pt plus 5cm}std::string {\bf annUsedDescQ}}}
\label{classIGbE_1_1DescCache_a7fe6b65fb10d40a843ce4e8925062aa6}
\hypertarget{classIGbE_1_1DescCache_ae61bf30eb8cd19a999687fc3b471f778}{
\index{IGbE::DescCache@{IGbE::DescCache}!cachePnt@{cachePnt}}
\index{cachePnt@{cachePnt}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{cachePnt}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf cachePnt}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_ae61bf30eb8cd19a999687fc3b471f778}
\hypertarget{classIGbE_1_1DescCache_adf659db1aecba7384fa82d960d89d602}{
\index{IGbE::DescCache@{IGbE::DescCache}!curFetching@{curFetching}}
\index{curFetching@{curFetching}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{curFetching}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf curFetching}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_adf659db1aecba7384fa82d960d89d602}
\hypertarget{classIGbE_1_1DescCache_a45bfe33ba83d15f61fe3f115d779717e}{
\index{IGbE::DescCache@{IGbE::DescCache}!fetchBuf@{fetchBuf}}
\index{fetchBuf@{fetchBuf}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{fetchBuf}]{\setlength{\rightskip}{0pt plus 5cm}T$\ast$ {\bf fetchBuf}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_a45bfe33ba83d15f61fe3f115d779717e}
\hypertarget{classIGbE_1_1DescCache_a31cb5aa7ad676c587a8b467dfd762b9b}{
\index{IGbE::DescCache@{IGbE::DescCache}!fetchDelayEvent@{fetchDelayEvent}}
\index{fetchDelayEvent@{fetchDelayEvent}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{fetchDelayEvent}]{\setlength{\rightskip}{0pt plus 5cm}{\bf EventWrapper}$<${\bf DescCache}, \&DescCache::fetchDescriptors1$>$ {\bf fetchDelayEvent}}}
\label{classIGbE_1_1DescCache_a31cb5aa7ad676c587a8b467dfd762b9b}
\hypertarget{classIGbE_1_1DescCache_a663aeb25d4224f8d4cbe8d4e1fe3d7d3}{
\index{IGbE::DescCache@{IGbE::DescCache}!fetchEvent@{fetchEvent}}
\index{fetchEvent@{fetchEvent}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{fetchEvent}]{\setlength{\rightskip}{0pt plus 5cm}{\bf EventWrapper}$<${\bf DescCache}, \&DescCache::fetchComplete$>$ {\bf fetchEvent}}}
\label{classIGbE_1_1DescCache_a663aeb25d4224f8d4cbe8d4e1fe3d7d3}
\hypertarget{classIGbE_1_1DescCache_a408e72fda9473efd272ef36a9f6d6928}{
\index{IGbE::DescCache@{IGbE::DescCache}!igbe@{igbe}}
\index{igbe@{igbe}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{igbe}]{\setlength{\rightskip}{0pt plus 5cm}{\bf IGbE}$\ast$ {\bf igbe}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_a408e72fda9473efd272ef36a9f6d6928}
\hypertarget{classIGbE_1_1DescCache_adf55798327cfefd75a5db0a6e71009e6}{
\index{IGbE::DescCache@{IGbE::DescCache}!moreToWb@{moreToWb}}
\index{moreToWb@{moreToWb}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{moreToWb}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf moreToWb}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_adf55798327cfefd75a5db0a6e71009e6}
\hypertarget{classIGbE_1_1DescCache_a3ac80d9129084f8cd11a49ded80e8333}{
\index{IGbE::DescCache@{IGbE::DescCache}!pktPtr@{pktPtr}}
\index{pktPtr@{pktPtr}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{pktPtr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf EthPacketPtr} {\bf pktPtr}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_a3ac80d9129084f8cd11a49ded80e8333}
The packet that is currently being dmad to memory if any \hypertarget{classIGbE_1_1DescCache_a439227feff9d7f55384e8780cfc2eb82}{
\index{IGbE::DescCache@{IGbE::DescCache}!size@{size}}
\index{size@{size}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{size}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf size}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_a439227feff9d7f55384e8780cfc2eb82}
\hypertarget{classIGbE_1_1DescCache_af60e49173ff6f145cb02253c92201694}{
\index{IGbE::DescCache@{IGbE::DescCache}!unusedCache@{unusedCache}}
\index{unusedCache@{unusedCache}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{unusedCache}]{\setlength{\rightskip}{0pt plus 5cm}{\bf CacheType} {\bf unusedCache}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_af60e49173ff6f145cb02253c92201694}
\hypertarget{classIGbE_1_1DescCache_a99982ada48f129fedf0ee5d8871f5df8}{
\index{IGbE::DescCache@{IGbE::DescCache}!usedCache@{usedCache}}
\index{usedCache@{usedCache}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{usedCache}]{\setlength{\rightskip}{0pt plus 5cm}{\bf CacheType} {\bf usedCache}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_a99982ada48f129fedf0ee5d8871f5df8}
\hypertarget{classIGbE_1_1DescCache_aeb55673ae3c17ae211ad114c823bf761}{
\index{IGbE::DescCache@{IGbE::DescCache}!wbAlignment@{wbAlignment}}
\index{wbAlignment@{wbAlignment}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{wbAlignment}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} {\bf wbAlignment}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_aeb55673ae3c17ae211ad114c823bf761}
\hypertarget{classIGbE_1_1DescCache_a48d72919f0a5e868ed72f1b9f995e294}{
\index{IGbE::DescCache@{IGbE::DescCache}!wbBuf@{wbBuf}}
\index{wbBuf@{wbBuf}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{wbBuf}]{\setlength{\rightskip}{0pt plus 5cm}T$\ast$ {\bf wbBuf}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_a48d72919f0a5e868ed72f1b9f995e294}
\hypertarget{classIGbE_1_1DescCache_a20fa57c5779fd6371598e36d8ba9a5aa}{
\index{IGbE::DescCache@{IGbE::DescCache}!wbDelayEvent@{wbDelayEvent}}
\index{wbDelayEvent@{wbDelayEvent}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{wbDelayEvent}]{\setlength{\rightskip}{0pt plus 5cm}{\bf EventWrapper}$<${\bf DescCache}, \&DescCache::writeback1$>$ {\bf wbDelayEvent}}}
\label{classIGbE_1_1DescCache_a20fa57c5779fd6371598e36d8ba9a5aa}
\hypertarget{classIGbE_1_1DescCache_ae9ac7c384feda84fd885f523f0ce5f73}{
\index{IGbE::DescCache@{IGbE::DescCache}!wbEvent@{wbEvent}}
\index{wbEvent@{wbEvent}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{wbEvent}]{\setlength{\rightskip}{0pt plus 5cm}{\bf EventWrapper}$<${\bf DescCache}, \&DescCache::wbComplete$>$ {\bf wbEvent}}}
\label{classIGbE_1_1DescCache_ae9ac7c384feda84fd885f523f0ce5f73}
\hypertarget{classIGbE_1_1DescCache_a40ac490f16b3b0f977f34621d2b8c550}{
\index{IGbE::DescCache@{IGbE::DescCache}!wbOut@{wbOut}}
\index{wbOut@{wbOut}!IGbE::DescCache@{IGbE::DescCache}}
\subsubsection[{wbOut}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf wbOut}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classIGbE_1_1DescCache_a40ac490f16b3b0f977f34621d2b8c550}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
dev/\hyperlink{i8254xGBe_8hh}{i8254xGBe.hh}\item 
dev/\hyperlink{i8254xGBe_8cc}{i8254xGBe.cc}\end{DoxyCompactItemize}
