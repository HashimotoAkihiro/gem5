<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス MetaEnum</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacem5.html">m5</a>::<a class="el" href="namespacem5_1_1params.html">params</a>::<a class="el" href="classm5_1_1params_1_1MetaEnum.html">MetaEnum</a>
  </div>
</div>
<div class="contents">
<h1>クラス MetaEnum</h1><!-- doxytag: class="m5::params::MetaEnum" --><!-- doxytag: inherits="m5::params::MetaParamValue" --><div class="dynheader">
MetaEnumに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classm5_1_1params_1_1MetaEnum.gif" usemap="#MetaEnum_map" alt=""/>
  <map id="MetaEnum_map" name="MetaEnum_map">
<area href="classm5_1_1params_1_1MetaParamValue.html" alt="MetaParamValue" shape="rect" coords="0,0,109,24"/>
</map>
 </div>
</div>

<p><a href="classm5_1_1params_1_1MetaEnum-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1params_1_1MetaEnum.html#a2f15a4676204349e06bcced484b06b70">__new__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1params_1_1MetaEnum.html#ac775ee34451fdfa742b318538164070e">__init__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1params_1_1MetaEnum.html#a723cbb1dc9ae0e7f3d102c6678f181c0">cxx_decl</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1params_1_1MetaEnum.html#a52673dd9e1546665069ec8891e00eeb8">cxx_def</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1params_1_1MetaEnum.html#a83526365333b680bfcbd9b037527cc25">swig_decl</a></td></tr>
</table>
<hr/><h2>関数</h2>
<a class="anchor" id="ac775ee34451fdfa742b318538164070e"></a><!-- doxytag: member="m5::params::MetaEnum::__init__" ref="ac775ee34451fdfa742b318538164070e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def __init__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>bases</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>init_dict</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01017"></a><a class="code" href="classm5_1_1params_1_1MetaEnum.html#ac775ee34451fdfa742b318538164070e">01017</a>                                              :
<a name="l01018"></a>01018         <span class="keywordflow">if</span> init_dict.has_key(<span class="stringliteral">&apos;map&apos;</span>):
<a name="l01019"></a>01019             <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(cls.map, dict):
<a name="l01020"></a>01020                 <span class="keywordflow">raise</span> TypeError, <span class="stringliteral">&quot;Enum-derived class attribute &apos;map&apos; &quot;</span> \
<a name="l01021"></a>01021                       <span class="stringliteral">&quot;must be of type dict&quot;</span>
<a name="l01022"></a>01022             <span class="comment"># build list of value strings from map</span>
<a name="l01023"></a>01023             cls.vals = cls.map.keys()
<a name="l01024"></a>01024             cls.vals.sort()
<a name="l01025"></a>01025         <span class="keywordflow">elif</span> init_dict.has_key(<span class="stringliteral">&apos;vals&apos;</span>):
<a name="l01026"></a>01026             <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(cls.vals, list):
<a name="l01027"></a>01027                 <span class="keywordflow">raise</span> TypeError, <span class="stringliteral">&quot;Enum-derived class attribute &apos;vals&apos; &quot;</span> \
<a name="l01028"></a>01028                       <span class="stringliteral">&quot;must be of type list&quot;</span>
<a name="l01029"></a>01029             <span class="comment"># build string-&gt;value map from vals sequence</span>
<a name="l01030"></a>01030             cls.map = {}
<a name="l01031"></a>01031             <span class="keywordflow">for</span> idx,val <span class="keywordflow">in</span> enumerate(cls.vals):
<a name="l01032"></a>01032                 cls.map[val] = idx
<a name="l01033"></a>01033         <span class="keywordflow">else</span>:
<a name="l01034"></a>01034             <span class="keywordflow">raise</span> TypeError, <span class="stringliteral">&quot;Enum-derived class must define &quot;</span>\
<a name="l01035"></a>01035                   <span class="stringliteral">&quot;attribute &apos;map&apos; or &apos;vals&apos;&quot;</span>
<a name="l01036"></a>01036 
<a name="l01037"></a>01037         cls.cxx_type = <span class="stringliteral">&apos;Enums::%s&apos;</span> % name
<a name="l01038"></a>01038 
<a name="l01039"></a>01039         super(MetaEnum, cls).__init__(name, bases, init_dict)
<a name="l01040"></a>01040 
<a name="l01041"></a>01041     <span class="comment"># Generate C++ class declaration for this enum type.</span>
<a name="l01042"></a>01042     <span class="comment"># Note that we wrap the enum in a class/struct to act as a namespace,</span>
<a name="l01043"></a>01043     <span class="comment"># so that the enum strings can be brief w/o worrying about collisions.</span>
    <span class="keyword">def </span><a class="code" href="classm5_1_1params_1_1MetaEnum.html#a723cbb1dc9ae0e7f3d102c6678f181c0">cxx_decl</a>(cls, code):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2f15a4676204349e06bcced484b06b70"></a><!-- doxytag: member="m5::params::MetaEnum::__new__" ref="a2f15a4676204349e06bcced484b06b70" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def __new__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>mcls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>bases</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>dict</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classm5_1_1params_1_1MetaParamValue.html#a2f15a4676204349e06bcced484b06b70">MetaParamValue</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l01010"></a><a class="code" href="classm5_1_1params_1_1MetaEnum.html#a2f15a4676204349e06bcced484b06b70">01010</a>                                         :
<a name="l01011"></a>01011         <span class="keyword">assert</span> name <span class="keywordflow">not</span> <span class="keywordflow">in</span> allEnums
<a name="l01012"></a>01012 
<a name="l01013"></a>01013         cls = super(MetaEnum, mcls).__new__(mcls, name, bases, dict)
<a name="l01014"></a>01014         allEnums[name] = cls
<a name="l01015"></a>01015         <span class="keywordflow">return</span> cls
<a name="l01016"></a>01016 
    <span class="keyword">def </span><a class="code" href="classm5_1_1params_1_1MetaEnum.html#ac775ee34451fdfa742b318538164070e">__init__</a>(cls, name, bases, init_dict):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a723cbb1dc9ae0e7f3d102c6678f181c0"></a><!-- doxytag: member="m5::params::MetaEnum::cxx_decl" ref="a723cbb1dc9ae0e7f3d102c6678f181c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def cxx_decl </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01044"></a><a class="code" href="classm5_1_1params_1_1MetaEnum.html#a723cbb1dc9ae0e7f3d102c6678f181c0">01044</a>                            :
<a name="l01045"></a>01045         wrapper_name = cls.wrapper_name
<a name="l01046"></a>01046         wrapper = <span class="stringliteral">&apos;struct&apos;</span> <span class="keywordflow">if</span> cls.wrapper_is_struct <span class="keywordflow">else</span> <span class="stringliteral">&apos;namespace&apos;</span>
<a name="l01047"></a>01047         name = cls.__name__ <span class="keywordflow">if</span> cls.enum_name <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> cls.enum_name
<a name="l01048"></a>01048         idem_macro = <span class="stringliteral">&apos;__ENUM__%s__%s__&apos;</span> % (wrapper_name, name)
<a name="l01049"></a>01049 
<a name="l01050"></a>01050         code(<span class="stringliteral">&apos;&apos;&apos;\</span>
<a name="l01051"></a>01051 <span class="stringliteral">#ifndef $idem_macro</span>
<a name="l01052"></a>01052 <span class="stringliteral">#define $idem_macro</span>
<a name="l01053"></a>01053 <span class="stringliteral"></span>
<a name="l01054"></a>01054 <span class="stringliteral">$wrapper $wrapper_name {</span>
<a name="l01055"></a>01055 <span class="stringliteral">    enum $name {</span>
<a name="l01056"></a>01056 <span class="stringliteral">&apos;&apos;&apos;</span>)
<a name="l01057"></a>01057         code.indent(2)
<a name="l01058"></a>01058         <span class="keywordflow">for</span> val <span class="keywordflow">in</span> cls.vals:
<a name="l01059"></a>01059             code(<span class="stringliteral">&apos;$val = ${{cls.map[val]}},&apos;</span>)
<a name="l01060"></a>01060         code(<span class="stringliteral">&apos;Num_$name = ${{len(cls.vals)}}&apos;</span>)
<a name="l01061"></a>01061         code.dedent(2)
<a name="l01062"></a>01062         code(<span class="stringliteral">&apos;    };&apos;</span>)
<a name="l01063"></a>01063 
<a name="l01064"></a>01064         <span class="keywordflow">if</span> cls.wrapper_is_struct:
<a name="l01065"></a>01065             code(<span class="stringliteral">&apos;    static const char *${name}Strings[Num_${name}];&apos;</span>)
<a name="l01066"></a>01066             code(<span class="stringliteral">&apos;};&apos;</span>)
<a name="l01067"></a>01067         <span class="keywordflow">else</span>:
<a name="l01068"></a>01068             code(<span class="stringliteral">&apos;extern const char *${name}Strings[Num_${name}];&apos;</span>)
<a name="l01069"></a>01069             code(<span class="stringliteral">&apos;}&apos;</span>)
<a name="l01070"></a>01070 
<a name="l01071"></a>01071         code()
<a name="l01072"></a>01072         code(<span class="stringliteral">&apos;#endif // $idem_macro&apos;</span>)
<a name="l01073"></a>01073 
    <span class="keyword">def </span><a class="code" href="classm5_1_1params_1_1MetaEnum.html#a52673dd9e1546665069ec8891e00eeb8">cxx_def</a>(cls, code):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a52673dd9e1546665069ec8891e00eeb8"></a><!-- doxytag: member="m5::params::MetaEnum::cxx_def" ref="a52673dd9e1546665069ec8891e00eeb8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def cxx_def </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01074"></a><a class="code" href="classm5_1_1params_1_1MetaEnum.html#a52673dd9e1546665069ec8891e00eeb8">01074</a>                           :
<a name="l01075"></a>01075         wrapper_name = cls.wrapper_name
<a name="l01076"></a>01076         file_name = cls.__name__
<a name="l01077"></a>01077         name = cls.__name__ <span class="keywordflow">if</span> cls.enum_name <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> cls.enum_name
<a name="l01078"></a>01078 
<a name="l01079"></a>01079         code(<span class="stringliteral">&apos;#include &quot;enums/$file_name.hh&quot;&apos;</span>)
<a name="l01080"></a>01080         <span class="keywordflow">if</span> cls.wrapper_is_struct:
<a name="l01081"></a>01081             code(<span class="stringliteral">&apos;const char *${wrapper_name}::${name}Strings&apos;</span>
<a name="l01082"></a>01082                 <span class="stringliteral">&apos;[Num_${name}] =&apos;</span>)
<a name="l01083"></a>01083         <span class="keywordflow">else</span>:
<a name="l01084"></a>01084             code(<span class="stringliteral">&apos;namespace Enums {&apos;</span>)
<a name="l01085"></a>01085             code.indent(1)
<a name="l01086"></a>01086             code(<span class="stringliteral">&apos; const char *${name}Strings[Num_${name}] =&apos;</span>)
<a name="l01087"></a>01087 
<a name="l01088"></a>01088         code(<span class="stringliteral">&apos;{&apos;</span>)
<a name="l01089"></a>01089         code.indent(1)
<a name="l01090"></a>01090         <span class="keywordflow">for</span> val <span class="keywordflow">in</span> cls.vals:
<a name="l01091"></a>01091             code(<span class="stringliteral">&apos;&quot;$val&quot;,&apos;</span>)
<a name="l01092"></a>01092         code.dedent(1)
<a name="l01093"></a>01093         code(<span class="stringliteral">&apos;};&apos;</span>)
<a name="l01094"></a>01094 
<a name="l01095"></a>01095         <span class="keywordflow">if</span> <span class="keywordflow">not</span> cls.wrapper_is_struct:
<a name="l01096"></a>01096             code(<span class="stringliteral">&apos;} // namespace $wrapper_name&apos;</span>)
<a name="l01097"></a>01097             code.dedent(1)
<a name="l01098"></a>01098 
    <span class="keyword">def </span><a class="code" href="classm5_1_1params_1_1MetaEnum.html#a83526365333b680bfcbd9b037527cc25">swig_decl</a>(cls, code):
</pre></div></p>

</div>
</div>
<a class="anchor" id="a83526365333b680bfcbd9b037527cc25"></a><!-- doxytag: member="m5::params::MetaEnum::swig_decl" ref="a83526365333b680bfcbd9b037527cc25" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def swig_decl </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l01099"></a><a class="code" href="classm5_1_1params_1_1MetaEnum.html#a83526365333b680bfcbd9b037527cc25">01099</a>                             :
<a name="l01100"></a>01100         name = cls.__name__
<a name="l01101"></a>01101         code(<span class="stringliteral">&apos;&apos;&apos;\</span>
<a name="l01102"></a>01102 <span class="stringliteral">%module(package=&quot;m5.internal&quot;) enum_$name</span>
<a name="l01103"></a>01103 <span class="stringliteral"></span>
<a name="l01104"></a>01104 <span class="stringliteral">%{</span>
<a name="l01105"></a>01105 <span class="stringliteral">#include &quot;enums/$name.hh&quot;</span>
<a name="l01106"></a>01106 <span class="stringliteral">%}</span>
<a name="l01107"></a>01107 <span class="stringliteral"></span>
<a name="l01108"></a>01108 <span class="stringliteral">%include &quot;enums/$name.hh&quot;</span>
<a name="l01109"></a>01109 <span class="stringliteral">&apos;&apos;&apos;</span>)
<a name="l01110"></a>01110 
<a name="l01111"></a>01111 
<a name="l01112"></a>01112 <span class="comment"># Base class for enum types.</span>
<span class="keyword">class </span><a class="code" href="classm5_1_1params_1_1Enum.html">Enum</a>(<a class="code" href="classm5_1_1params_1_1ParamValue.html">ParamValue</a>):
</pre></div></p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>python/m5/<a class="el" href="params_8py.html">params.py</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
