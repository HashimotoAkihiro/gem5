<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス ClockedObject</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス ClockedObject</h1><!-- doxytag: class="ClockedObject" --><!-- doxytag: inherits="SimObject" -->
<p><code>#include &lt;<a class="el" href="clocked__object_8hh_source.html">clocked_object.hh</a>&gt;</code></p>
<div class="dynheader">
ClockedObjectに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classClockedObject.gif" usemap="#ClockedObject_map" alt=""/>
  <map id="ClockedObject_map" name="ClockedObject_map">
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="170,56,330,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,160,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="170,0,330,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="340,0,500,24"/>
<area href="classAbstractController.html" alt="AbstractController" shape="rect" coords="340,168,500,192"/>
<area href="classBasePrefetcher.html" alt="BasePrefetcher" shape="rect" coords="340,224,500,248"/>
<area href="classBaseTags.html" alt="BaseTags" shape="rect" coords="340,280,500,304"/>
<area href="classBasicRouter.html" alt="BasicRouter" shape="rect" coords="340,336,500,360"/>
<area href="classBasicRouter_1_1BasicRouter.html" alt="BasicRouter" shape="rect" coords="340,392,500,416"/>
<area href="classGarnetNetwork_1_1GarnetNetworkInterface.html" alt="GarnetNetworkInterface" shape="rect" coords="340,448,500,472"/>
<area href="classGarnetNetwork__d_1_1GarnetNetworkInterface__d.html" alt="GarnetNetworkInterface_d" shape="rect" coords="340,504,500,528"/>
<area href="classMemObject.html" alt="MemObject" shape="rect" coords="340,560,500,584"/>
<area href="classMemoryControl.html" alt="MemoryControl" shape="rect" coords="340,616,500,640"/>
<area href="classMemoryControl_1_1MemoryControl.html" alt="MemoryControl" shape="rect" coords="340,672,500,696"/>
<area href="classNetwork.html" alt="Network" shape="rect" coords="340,728,500,752"/>
<area href="classNetwork_1_1RubyNetwork.html" alt="RubyNetwork" shape="rect" coords="340,784,500,808"/>
<area href="classNetworkInterface.html" alt="NetworkInterface" shape="rect" coords="340,840,500,864"/>
<area href="classNetworkInterface__d.html" alt="NetworkInterface_d" shape="rect" coords="340,896,500,920"/>
<area href="classNetworkLink.html" alt="NetworkLink" shape="rect" coords="340,952,500,976"/>
<area href="classNetworkLink__d.html" alt="NetworkLink_d" shape="rect" coords="340,1008,500,1032"/>
<area href="classRubySystem.html" alt="RubySystem" shape="rect" coords="340,1064,500,1088"/>
</map>
 </div>
</div>

<p><a href="classClockedObject-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject_1_1ClockedObject.html">ClockedObject</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a2b1ce4e5fff654f673292b09c44780c0">updateClockPeriod</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a773956693f216cafb7d4cad92ad582e5">clockEdge</a> (<a class="el" href="classCycles.html">Cycles</a> cycles=<a class="el" href="classCycles.html">Cycles</a>(0)) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a3f6dfa1d3e7cd47666433b6caa4d34d6">curCycle</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#abbbab15df430cd1edc7f3ef750198a0c">nextCycle</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a47ad0ff313f0dcb63b8223b1f11d49d8">frequency</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a91cfeb85669839d1ecafb7e62cf9d57a">ticksToCycles</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> t) const </td></tr>
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a3106e3ad89e9d5ed67751bd9a2ee8c68">ClockedObject</a> (const ClockedObjectParams *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a2f1ff92cfe792a99c7d65f11bccb3d79">~ClockedObject</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a7c7c8afaf47b89e48578fabd1ce491da">resetClock</a> () const </td></tr>
<tr><td colspan="2"><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a92f78d5c8554a264a3b22b90b452de45">ClockedObject</a> (<a class="el" href="classClockedObject_1_1ClockedObject.html">ClockedObject</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classClockedObject_1_1ClockedObject.html">ClockedObject</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a2ade080e5da78e3b6e5821d3ad92623a">operator=</a> (<a class="el" href="classClockedObject_1_1ClockedObject.html">ClockedObject</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#ac277f12bf13b157b9686a275f723612f">update</a> () const </td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a5dd7a975aae396561aafab3faa698033">cycle</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classClockDomain.html">ClockDomain</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classClockedObject.html#a17a99a3f3123d51a0fcd65c59a58763d">clockDomain</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<p>The <a class="el" href="classClockedObject.html">ClockedObject</a> class extends the <a class="el" href="classSimObject.html">SimObject</a> with a clock and accessor functions to relate ticks to the cycles of the object. </p>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a92f78d5c8554a264a3b22b90b452de45"></a><!-- doxytag: member="ClockedObject::ClockedObject" ref="a92f78d5c8554a264a3b22b90b452de45" args="(ClockedObject &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classClockedObject_1_1ClockedObject.html">ClockedObject</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classClockedObject_1_1ClockedObject.html">ClockedObject</a> &amp;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Prevent inadvertent use of the copy constructor and assignment operator by making them private. </p>

</div>
</div>
<a class="anchor" id="a3106e3ad89e9d5ed67751bd9a2ee8c68"></a><!-- doxytag: member="ClockedObject::ClockedObject" ref="a3106e3ad89e9d5ed67751bd9a2ee8c68" args="(const ClockedObjectParams *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classClockedObject_1_1ClockedObject.html">ClockedObject</a> </td>
          <td>(</td>
          <td class="paramtype">const ClockedObjectParams *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a clocked object and set the clock domain based on the parameters. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00120"></a>00120                                                 :
<a name="l00121"></a>00121         <a class="code" href="classSimObject.html#a153e2844edadce7c286efc5e3a7da911">SimObject</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>), <a class="code" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a>(0), <a class="code" href="classClockedObject.html#a5dd7a975aae396561aafab3faa698033">cycle</a>(0), <a class="code" href="classClockedObject.html#a17a99a3f3123d51a0fcd65c59a58763d">clockDomain</a>(*<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;clk_domain)
<a name="l00122"></a>00122     {
<a name="l00123"></a>00123         <span class="comment">// Register with the clock domain, so that if the clock domain</span>
<a name="l00124"></a>00124         <span class="comment">// frequency changes, we can update this object&apos;s tick.</span>
<a name="l00125"></a>00125         <a class="code" href="classClockedObject.html#a17a99a3f3123d51a0fcd65c59a58763d">clockDomain</a>.<a class="code" href="classClockDomain.html#a386264c9090d0bf67b5bfd6dc3dab4c7">registerWithClockDomain</a>(<span class="keyword">this</span>);
<a name="l00126"></a>00126     }

</pre></div></p>

</div>
</div>
<a class="anchor" id="a2f1ff92cfe792a99c7d65f11bccb3d79"></a><!-- doxytag: member="ClockedObject::~ClockedObject" ref="a2f1ff92cfe792a99c7d65f11bccb3d79" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classClockedObject_1_1ClockedObject.html">ClockedObject</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Virtual destructor due to inheritance. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00131"></a>00131 { }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a773956693f216cafb7d4cad92ad582e5"></a><!-- doxytag: member="ClockedObject::clockEdge" ref="a773956693f216cafb7d4cad92ad582e5" args="(Cycles cycles=Cycles(0)) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> clockEdge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td>
          <td class="paramname"> <em>cycles</em> = <code><a class="el" href="classCycles.html">Cycles</a>(0)</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determine the tick when a cycle begins, by default the current one, but the argument also enables the caller to determine a future cycle.</p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cycles</em>&nbsp;</td><td>The number of cycles into the future</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>The tick when the clock edge occurs </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00166"></a>00166     {
<a name="l00167"></a>00167         <span class="comment">// align tick to the next clock edge</span>
<a name="l00168"></a>00168         <a class="code" href="classClockedObject.html#ac277f12bf13b157b9686a275f723612f">update</a>();
<a name="l00169"></a>00169 
<a name="l00170"></a>00170         <span class="comment">// figure out when this future cycle is</span>
<a name="l00171"></a>00171         <span class="keywordflow">return</span> <a class="code" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a> + <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>() * cycles;
<a name="l00172"></a>00172     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a78c89cef17196c60470c4f2f76d43d8a"></a><!-- doxytag: member="ClockedObject::clockPeriod" ref="a78c89cef17196c60470c4f2f76d43d8a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> clockPeriod </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00204"></a>00204     {
<a name="l00205"></a>00205         <span class="keywordflow">return</span> <a class="code" href="classClockedObject.html#a17a99a3f3123d51a0fcd65c59a58763d">clockDomain</a>.<a class="code" href="classClockDomain.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>();
<a name="l00206"></a>00206     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3f6dfa1d3e7cd47666433b6caa4d34d6"></a><!-- doxytag: member="ClockedObject::curCycle" ref="a3f6dfa1d3e7cd47666433b6caa4d34d6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCycles.html">Cycles</a> curCycle </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determine the current cycle, corresponding to a tick aligned to a clock edge.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>The current cycle count </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00181"></a>00181     {
<a name="l00182"></a>00182         <span class="comment">// align cycle to the next clock edge.</span>
<a name="l00183"></a>00183         <a class="code" href="classClockedObject.html#ac277f12bf13b157b9686a275f723612f">update</a>();
<a name="l00184"></a>00184 
<a name="l00185"></a>00185         <span class="keywordflow">return</span> <a class="code" href="classClockedObject.html#a5dd7a975aae396561aafab3faa698033">cycle</a>;
<a name="l00186"></a>00186     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a47ad0ff313f0dcb63b8223b1f11d49d8"></a><!-- doxytag: member="ClockedObject::frequency" ref="a47ad0ff313f0dcb63b8223b1f11d49d8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t frequency </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classTsunamiIO.html#ae7d31c6aab76d9d4e74e5e7227337651">TsunamiIO</a>, と <a class="el" href="classMaltaIO.html#ae7d31c6aab76d9d4e74e5e7227337651">MaltaIO</a>で再定義されています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00199"></a>00199     {
<a name="l00200"></a>00200         <span class="keywordflow">return</span> <a class="code" href="namespaceSimClock.html#af196276bdf8e65836e88981a33d57943" title="The simulated frequency of curTick(). (In ticks per second).">SimClock::Frequency</a> / <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>();
<a name="l00201"></a>00201     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abbbab15df430cd1edc7f3ef750198a0c"></a><!-- doxytag: member="ClockedObject::nextCycle" ref="abbbab15df430cd1edc7f3ef750198a0c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> nextCycle </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Based on the clock of the object, determine the tick when the next cycle begins, in other words, return the next clock edge. (This can never be the current tick.)</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>The tick when the next cycle starts </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00196"></a>00196     { <span class="keywordflow">return</span> <a class="code" href="classClockedObject.html#a773956693f216cafb7d4cad92ad582e5">clockEdge</a>(<a class="code" href="classCycles.html">Cycles</a>(1)); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2ade080e5da78e3b6e5821d3ad92623a"></a><!-- doxytag: member="ClockedObject::operator=" ref="a2ade080e5da78e3b6e5821d3ad92623a" args="(ClockedObject &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classClockedObject_1_1ClockedObject.html">ClockedObject</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classClockedObject_1_1ClockedObject.html">ClockedObject</a> &amp;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7c7c8afaf47b89e48578fabd1ce491da"></a><!-- doxytag: member="ClockedObject::resetClock" ref="a7c7c8afaf47b89e48578fabd1ce491da" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetClock </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset the object's clock using the current global tick value. Likely to be used only when the global clock is reset. Currently, this done only when Ruby is done warming up the memory system. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00139"></a>00139     {
<a name="l00140"></a>00140         <a class="code" href="classCycles.html">Cycles</a> elapsedCycles(<a class="code" href="intmath_8hh.html#ae842b412d3570df97a944085b8f85850">divCeil</a>(<a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>(), <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>()));
<a name="l00141"></a>00141         <a class="code" href="classClockedObject.html#a5dd7a975aae396561aafab3faa698033">cycle</a> = elapsedCycles;
<a name="l00142"></a>00142         <a class="code" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a> = elapsedCycles * <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>();
<a name="l00143"></a>00143     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a91cfeb85669839d1ecafb7e62cf9d57a"></a><!-- doxytag: member="ClockedObject::ticksToCycles" ref="a91cfeb85669839d1ecafb7e62cf9d57a" args="(Tick t) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCycles.html">Cycles</a> ticksToCycles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00209"></a>00209     { <span class="keywordflow">return</span> <a class="code" href="classCycles.html">Cycles</a>(<a class="code" href="intmath_8hh.html#ae842b412d3570df97a944085b8f85850">divCeil</a>(<a class="code" href="namespaceArmISA.html#af5dfd7e551f8c5b461816e813dab252f">t</a>, <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>())); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac277f12bf13b157b9686a275f723612f"></a><!-- doxytag: member="ClockedObject::update" ref="ac277f12bf13b157b9686a275f723612f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Align cycle and tick to the next clock edge if not already done. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00085"></a>00085     {
<a name="l00086"></a>00086         <span class="comment">// both tick and cycle are up-to-date and we are done, note</span>
<a name="l00087"></a>00087         <span class="comment">// that the &gt;= is important as it captures cases where tick</span>
<a name="l00088"></a>00088         <span class="comment">// has already passed curTick()</span>
<a name="l00089"></a>00089         <span class="keywordflow">if</span> (<a class="code" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a> &gt;= <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>())
<a name="l00090"></a>00090             <span class="keywordflow">return</span>;
<a name="l00091"></a>00091 
<a name="l00092"></a>00092         <span class="comment">// optimise for the common case and see if the tick should be</span>
<a name="l00093"></a>00093         <span class="comment">// advanced by a single clock period</span>
<a name="l00094"></a>00094         <a class="code" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a> += <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>();
<a name="l00095"></a>00095         ++<a class="code" href="classClockedObject.html#a5dd7a975aae396561aafab3faa698033">cycle</a>;
<a name="l00096"></a>00096 
<a name="l00097"></a>00097         <span class="comment">// see if we are done at this point</span>
<a name="l00098"></a>00098         <span class="keywordflow">if</span> (<a class="code" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a> &gt;= <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>())
<a name="l00099"></a>00099             <span class="keywordflow">return</span>;
<a name="l00100"></a>00100 
<a name="l00101"></a>00101         <span class="comment">// if not, we have to recalculate the cycle and tick, we</span>
<a name="l00102"></a>00102         <span class="comment">// perform the calculations in terms of relative cycles to</span>
<a name="l00103"></a>00103         <span class="comment">// allow changes to the clock period in the future</span>
<a name="l00104"></a>00104         <a class="code" href="classCycles.html">Cycles</a> elapsedCycles(<a class="code" href="intmath_8hh.html#ae842b412d3570df97a944085b8f85850">divCeil</a>(<a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() - <a class="code" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a>, <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>()));
<a name="l00105"></a>00105         <a class="code" href="classClockedObject.html#a5dd7a975aae396561aafab3faa698033">cycle</a> += elapsedCycles;
<a name="l00106"></a>00106         <a class="code" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a> += elapsedCycles * <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>();
<a name="l00107"></a>00107     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2b1ce4e5fff654f673292b09c44780c0"></a><!-- doxytag: member="ClockedObject::updateClockPeriod" ref="a2b1ce4e5fff654f673292b09c44780c0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateClockPeriod </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update the tick to the current tick. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00152"></a>00152     {
<a name="l00153"></a>00153         <a class="code" href="classClockedObject.html#ac277f12bf13b157b9686a275f723612f">update</a>();
<a name="l00154"></a>00154     }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a17a99a3f3123d51a0fcd65c59a58763d"></a><!-- doxytag: member="ClockedObject::clockDomain" ref="a17a99a3f3123d51a0fcd65c59a58763d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classClockDomain.html">ClockDomain</a>&amp; <a class="el" href="classClockedObject.html#a17a99a3f3123d51a0fcd65c59a58763d">clockDomain</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The clock domain this clocked object belongs to </p>

</div>
</div>
<a class="anchor" id="a5dd7a975aae396561aafab3faa698033"></a><!-- doxytag: member="ClockedObject::cycle" ref="a5dd7a975aae396561aafab3faa698033" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCycles.html">Cycles</a> <a class="el" href="classClockedObject.html#a5dd7a975aae396561aafab3faa698033">cycle</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4daae57fbf09ee5423d123f5ce330e92"></a><!-- doxytag: member="ClockedObject::tick" ref="a4daae57fbf09ee5423d123f5ce330e92" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>sim/<a class="el" href="clocked__object_8hh_source.html">clocked_object.hh</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
