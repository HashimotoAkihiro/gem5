<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス CacheMemory</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス CacheMemory</h1><!-- doxytag: class="CacheMemory" --><!-- doxytag: inherits="SimObject" -->
<p><code>#include &lt;<a class="el" href="CacheMemory_8hh_source.html">CacheMemory.hh</a>&gt;</code></p>
<div class="dynheader">
CacheMemoryに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classCacheMemory.gif" usemap="#CacheMemory_map" alt=""/>
  <map id="CacheMemory_map" name="CacheMemory_map">
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="105,56,200,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,95,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="105,0,200,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="210,0,305,24"/>
</map>
 </div>
</div>

<p><a href="classCacheMemory-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef RubyCacheParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#ae5279e63669c110c0bd87dca490f126d">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a6d47aa204a76f4d2c72e64478e365f80">CacheMemory</a> (const <a class="el" href="classCacheMemory.html#ae5279e63669c110c0bd87dca490f126d">Params</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a331251b11e8dca3018962c8209d79385">~CacheMemory</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#acfc92479973bfd11ae0191fd798ba44c">tryCacheAccess</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address, RubyRequestType type, <a class="el" href="classDataBlock.html">DataBlock</a> *&amp;data_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#aba82772b79ad7b17d20d195979043473">testCacheAccess</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address, RubyRequestType type, <a class="el" href="classDataBlock.html">DataBlock</a> *&amp;data_ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a38231bf6d0b58d2b0319faa5af3135ca">isTagPresent</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#add6ef1702fc19966e797bbebabf3cefa">cacheAvail</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a3318e163b565401bb192c21040097d88">allocate</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address, <a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a> *new_entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a97904b9885a944606b8d74fe48fa427a">allocateVoid</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address, <a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a> *new_entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#ad1a3e4943cc214363839148c7d94d6a4">deallocate</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAddress.html">Address</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#ab7017a4e3b3db35ecd4f778ec0f61cdf">cacheProbe</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a0c6ae9fa65dfd9c0786e2e5a39be4a1e">lookup</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a28b926de4d910367b746eb67d244f250">lookup</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#ae69a59f28f0cfd099bf798cb6bb76356">getLatency</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#aa6672e5328a3421c133ea5590f4b562d">recordCacheContents</a> (int cntrl, <a class="el" href="classCacheRecorder.html">CacheRecorder</a> *tr) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a82f197cef10db015c46d8e9f71275f47">setMRU</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a046beba265922d99b46eb407d30fa14a">setLocked</a> (const <a class="el" href="classAddress.html">Address</a> &amp;addr, int context)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#abd16aaa7623b6ed38e15bde2b210f88a">clearLocked</a> (const <a class="el" href="classAddress.html">Address</a> &amp;addr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#aeb3a7f627af8ca6e8c5f9a878a01ea6f">isLocked</a> (const <a class="el" href="classAddress.html">Address</a> &amp;addr, int context)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#ac55fe386a101fbae38c716067c9966a0">print</a> (std::ostream &amp;out) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a82b5740a65950cb6ba001dc852567da7">printData</a> (std::ostream &amp;out) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a89094cea0857bcf3a16b429c0b3f8bfe">checkResourceAvailable</a> (CacheResourceType res, <a class="el" href="classAddress.html">Address</a> addr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a4798ec530ab14c83a290b9d372e31a9d">recordRequestType</a> (CacheRequestType requestType)</td></tr>
<tr><td colspan="2"><h2>Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a47c68eff474df127a7e5e36b40965bdc">m_demand_hits</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a3f24c5bd8e3da8dbb584cf70d3de4f09">m_demand_misses</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a6d06da3f5d70180680054f20a4862051">m_demand_accesses</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#af2b41944a982febf9af12d438f137b87">m_sw_prefetches</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a5ae5fe863837358e6e9a60e0b702fb94">m_hw_prefetches</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a549248150d50bed3e4d815869edee7de">m_prefetches</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Vector.html">Stats::Vector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a83d90a771e3ee60100ef1730f1a118b1">m_accessModeType</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a0f63a1bbaf1dee7c23ab3ac06a80d775">numDataArrayReads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a97557f8d2f957731bdea9fd4537a140e">numDataArrayWrites</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a3e723404e0119a13e13ca25460179249">numTagArrayReads</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a3e43debd337a55436570324681b20000">numTagArrayWrites</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#aa8cfd5b3d3480062677e2229d8573483">numTagArrayStalls</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a4034a29f6d2be3493f40aaa13ca6c77a">numDataArrayStalls</a></td></tr>
<tr><td colspan="2"><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#ac32dac48596332a7537a1e3c31cfd3c0">findTagInSet</a> (<a class="el" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> line, const <a class="el" href="classAddress.html">Address</a> &amp;tag) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#ad7d6ceb226fbf63dc2c91a61aa57d98a">findTagInSetIgnorePermissions</a> (<a class="el" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet, const <a class="el" href="classAddress.html">Address</a> &amp;tag) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a15c87d4f0ba579b954e84d6eee946d46">CacheMemory</a> (const <a class="el" href="classCacheMemory.html">CacheMemory</a> &amp;obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCacheMemory.html">CacheMemory</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a3ba0e3a7cc49aede911aa79977fc4128">operator=</a> (const <a class="el" href="classCacheMemory.html">CacheMemory</a> &amp;obj)</td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a7599697a6c831356525c7d97604edd31">m_latency</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a0c3e90f32ef2e92b91ca006d44c12374">m_is_instruction_only_cache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">m5::hash_map&lt; <a class="el" href="classAddress.html">Address</a>, int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a546a29030c6970bfbc1197ae75826bc4">m_tag_index</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classstd_1_1vector.html">std::vector</a><br class="typebreak"/>
&lt; <a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a> * &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAbstractReplacementPolicy.html">AbstractReplacementPolicy</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBankedArray.html">BankedArray</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a3fe8de4d2516b188e76e11c5213d8eaf">dataArray</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBankedArray.html">BankedArray</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a68d742104ef77f83fee4d7832cc873fe">tagArray</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a378c30d8d9ca0215ac61ea0974082ca0">m_cache_size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a89cf1f810dd6f5f9da8a2d588418ec49">m_policy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a6b2e7aa0964d945df6b08fbbdd316f47">m_cache_num_set_bits</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#ab350a6d3428acab3678b17bbd2d00c4b">m_start_index_bit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCacheMemory.html#aa08c2cb7bf60a80e6be95267b1060509">m_resource_stalls</a></td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="ae5279e63669c110c0bd87dca490f126d"></a><!-- doxytag: member="CacheMemory::Params" ref="ae5279e63669c110c0bd87dca490f126d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef RubyCacheParams <a class="el" href="classCacheMemory.html#ae5279e63669c110c0bd87dca490f126d">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSimObject.html#a0f0761d2db586a23bb2a2880b8f387bb">SimObject</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a6d47aa204a76f4d2c72e64478e365f80"></a><!-- doxytag: member="CacheMemory::CacheMemory" ref="a6d47aa204a76f4d2c72e64478e365f80" args="(const Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCacheMemory.html">CacheMemory</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCacheMemory.html#ae5279e63669c110c0bd87dca490f126d">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00055"></a>00055     : <a class="code" href="classSimObject.html#a153e2844edadce7c286efc5e3a7da911">SimObject</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>),
<a name="l00056"></a>00056     <a class="code" href="classCacheMemory.html#a3fe8de4d2516b188e76e11c5213d8eaf">dataArray</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;dataArrayBanks, <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;dataAccessLatency, <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;start_index_bit),
<a name="l00057"></a>00057     <a class="code" href="classCacheMemory.html#a68d742104ef77f83fee4d7832cc873fe">tagArray</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;tagArrayBanks, <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;tagAccessLatency, <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;start_index_bit)
<a name="l00058"></a>00058 {
<a name="l00059"></a>00059     <a class="code" href="classCacheMemory.html#a378c30d8d9ca0215ac61ea0974082ca0">m_cache_size</a> = <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;size;
<a name="l00060"></a>00060     <a class="code" href="classCacheMemory.html#a7599697a6c831356525c7d97604edd31">m_latency</a> = <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;latency;
<a name="l00061"></a>00061     <a class="code" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a> = <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;assoc;
<a name="l00062"></a>00062     <a class="code" href="classCacheMemory.html#a89cf1f810dd6f5f9da8a2d588418ec49">m_policy</a> = <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;replacement_policy;
<a name="l00063"></a>00063     <a class="code" href="classCacheMemory.html#ab350a6d3428acab3678b17bbd2d00c4b">m_start_index_bit</a> = <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;start_index_bit;
<a name="l00064"></a>00064     <a class="code" href="classCacheMemory.html#a0c3e90f32ef2e92b91ca006d44c12374">m_is_instruction_only_cache</a> = <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;is_icache;
<a name="l00065"></a>00065     <a class="code" href="classCacheMemory.html#aa08c2cb7bf60a80e6be95267b1060509">m_resource_stalls</a> = <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;resourceStalls;
<a name="l00066"></a>00066 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a331251b11e8dca3018962c8209d79385"></a><!-- doxytag: member="CacheMemory::~CacheMemory" ref="a331251b11e8dca3018962c8209d79385" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classCacheMemory.html">CacheMemory</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00096"></a>00096 {
<a name="l00097"></a>00097     <span class="keywordflow">if</span> (<a class="code" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a> != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>)
<a name="l00098"></a>00098         <span class="keyword">delete</span> <a class="code" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a>;
<a name="l00099"></a>00099     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00100"></a>00100         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a> = 0; <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a> &lt; <a class="code" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a>; <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>++) {
<a name="l00101"></a>00101             <span class="keyword">delete</span> <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>][<a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>];
<a name="l00102"></a>00102         }
<a name="l00103"></a>00103     }
<a name="l00104"></a>00104 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a15c87d4f0ba579b954e84d6eee946d46"></a><!-- doxytag: member="CacheMemory::CacheMemory" ref="a15c87d4f0ba579b954e84d6eee946d46" args="(const CacheMemory &amp;obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCacheMemory.html">CacheMemory</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCacheMemory.html">CacheMemory</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="ab8af076beefca7ea17d6ffbf639456db"></a><!-- doxytag: member="CacheMemory::addressToCacheSet" ref="ab8af076beefca7ea17d6ffbf639456db" args="(const Address &amp;address) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> addressToCacheSet </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00109"></a>00109 {
<a name="l00110"></a>00110     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00111"></a>00111     <span class="keywordflow">return</span> address.<a class="code" href="classAddress.html#a22669386ccc1e2491c7c46f55c37a038">bitSelect</a>(<a class="code" href="classCacheMemory.html#ab350a6d3428acab3678b17bbd2d00c4b">m_start_index_bit</a>,
<a name="l00112"></a>00112                              <a class="code" href="classCacheMemory.html#ab350a6d3428acab3678b17bbd2d00c4b">m_start_index_bit</a> + <a class="code" href="classCacheMemory.html#a6b2e7aa0964d945df6b08fbbdd316f47">m_cache_num_set_bits</a> - 1);
<a name="l00113"></a>00113 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3318e163b565401bb192c21040097d88"></a><!-- doxytag: member="CacheMemory::allocate" ref="a3318e163b565401bb192c21040097d88" args="(const Address &amp;address, AbstractCacheEntry *new_entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a> * allocate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>new_entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00238"></a>00238 {
<a name="l00239"></a>00239     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00240"></a>00240     assert(!<a class="code" href="classCacheMemory.html#a38231bf6d0b58d2b0319faa5af3135ca">isTagPresent</a>(address));
<a name="l00241"></a>00241     assert(<a class="code" href="classCacheMemory.html#add6ef1702fc19966e797bbebabf3cefa">cacheAvail</a>(address));
<a name="l00242"></a>00242     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCache, <span class="stringliteral">&quot;address: %s\n&quot;</span>, address);
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <span class="comment">// Find the first open slot</span>
<a name="l00245"></a>00245     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00246"></a>00246     <a class="code" href="classstd_1_1vector.html">std::vector&lt;AbstractCacheEntry*&gt;</a> &amp;<span class="keyword">set</span> = <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet];
<a name="l00247"></a>00247     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00248"></a>00248         <span class="keywordflow">if</span> (!<span class="keyword">set</span>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] || <span class="keyword">set</span>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;m_Permission == AccessPermission_NotPresent) {
<a name="l00249"></a>00249             <span class="keyword">set</span>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = entry;  <span class="comment">// Init entry</span>
<a name="l00250"></a>00250             <span class="keyword">set</span>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;m_Address = address;
<a name="l00251"></a>00251             <span class="keyword">set</span>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;m_Permission = AccessPermission_Invalid;
<a name="l00252"></a>00252             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCache, <span class="stringliteral">&quot;Allocate clearing lock for addr: %x\n&quot;</span>,
<a name="l00253"></a>00253                     address);
<a name="l00254"></a>00254             <span class="keyword">set</span>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;m_locked = -1;
<a name="l00255"></a>00255             <a class="code" href="classCacheMemory.html#a546a29030c6970bfbc1197ae75826bc4">m_tag_index</a>[address] = <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>;
<a name="l00256"></a>00256 
<a name="l00257"></a>00257             <a class="code" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a>-&gt;<a class="code" href="classAbstractReplacementPolicy.html#a6354174153ace07b8cef20f36b20357a">touch</a>(cacheSet, <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>());
<a name="l00258"></a>00258 
<a name="l00259"></a>00259             <span class="keywordflow">return</span> entry;
<a name="l00260"></a>00260         }
<a name="l00261"></a>00261     }
<a name="l00262"></a>00262     <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Allocate didn&apos;t find an available entry&quot;</span>);
<a name="l00263"></a>00263 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a97904b9885a944606b8d74fe48fa427a"></a><!-- doxytag: member="CacheMemory::allocateVoid" ref="a97904b9885a944606b8d74fe48fa427a" args="(const Address &amp;address, AbstractCacheEntry *new_entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void allocateVoid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>new_entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00079"></a>00079     {
<a name="l00080"></a>00080         <a class="code" href="classCacheMemory.html#a3318e163b565401bb192c21040097d88">allocate</a>(address, new_entry);
<a name="l00081"></a>00081     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="add6ef1702fc19966e797bbebabf3cefa"></a><!-- doxytag: member="CacheMemory::cacheAvail" ref="add6ef1702fc19966e797bbebabf3cefa" args="(const Address &amp;address) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cacheAvail </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00216"></a>00216 {
<a name="l00217"></a>00217     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00218"></a>00218 
<a name="l00219"></a>00219     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00220"></a>00220 
<a name="l00221"></a>00221     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00222"></a>00222         <a class="code" href="classAbstractCacheEntry.html">AbstractCacheEntry</a>* entry = <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>];
<a name="l00223"></a>00223         <span class="keywordflow">if</span> (entry != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>) {
<a name="l00224"></a>00224             <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="classAbstractCacheEntry.html#ab635563c3a8accc6501e891059954ef2">m_Address</a> == address ||
<a name="l00225"></a>00225                 entry-&gt;<a class="code" href="classAbstractEntry.html#adffb6e818a8b13110daeb2c3c13fcc50">m_Permission</a> == AccessPermission_NotPresent) {
<a name="l00226"></a>00226                 <span class="comment">// Already in the cache or we found an empty entry</span>
<a name="l00227"></a>00227                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00228"></a>00228             }
<a name="l00229"></a>00229         } <span class="keywordflow">else</span> {
<a name="l00230"></a>00230             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00231"></a>00231         }
<a name="l00232"></a>00232     }
<a name="l00233"></a>00233     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00234"></a>00234 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab7017a4e3b3db35ecd4f778ec0f61cdf"></a><!-- doxytag: member="CacheMemory::cacheProbe" ref="ab7017a4e3b3db35ecd4f778ec0f61cdf" args="(const Address &amp;address) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAddress.html">Address</a> cacheProbe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00283"></a>00283 {
<a name="l00284"></a>00284     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00285"></a>00285     assert(!<a class="code" href="classCacheMemory.html#add6ef1702fc19966e797bbebabf3cefa">cacheAvail</a>(address));
<a name="l00286"></a>00286 
<a name="l00287"></a>00287     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00288"></a>00288     <span class="keywordflow">return</span> <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][<a class="code" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a>-&gt;<a class="code" href="classAbstractReplacementPolicy.html#a100bd69954d47ece014cbd697a1f8d7f">getVictim</a>(cacheSet)]-&gt;
<a name="l00289"></a>00289         m_Address;
<a name="l00290"></a>00290 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a89094cea0857bcf3a16b429c0b3f8bfe"></a><!-- doxytag: member="CacheMemory::checkResourceAvailable" ref="a89094cea0857bcf3a16b429c0b3f8bfe" args="(CacheResourceType res, Address addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkResourceAvailable </td>
          <td>(</td>
          <td class="paramtype">CacheResourceType&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAddress.html">Address</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00538"></a>00538 {
<a name="l00539"></a>00539     <span class="keywordflow">if</span> (!<a class="code" href="classCacheMemory.html#aa08c2cb7bf60a80e6be95267b1060509">m_resource_stalls</a>) {
<a name="l00540"></a>00540         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00541"></a>00541     }
<a name="l00542"></a>00542 
<a name="l00543"></a>00543     <span class="keywordflow">if</span> (res == CacheResourceType_TagArray) {
<a name="l00544"></a>00544         <span class="keywordflow">if</span> (<a class="code" href="classCacheMemory.html#a68d742104ef77f83fee4d7832cc873fe">tagArray</a>.<a class="code" href="classBankedArray.html#aaa85fb1f3c3aa637e08af3002b00111d">tryAccess</a>(<a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(addr))) <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00545"></a>00545         <span class="keywordflow">else</span> {
<a name="l00546"></a>00546             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyResourceStalls,
<a name="l00547"></a>00547                     <span class="stringliteral">&quot;Tag array stall on addr %s in set %d\n&quot;</span>,
<a name="l00548"></a>00548                     addr, <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(addr));
<a name="l00549"></a>00549             <a class="code" href="classCacheMemory.html#aa8cfd5b3d3480062677e2229d8573483">numTagArrayStalls</a>++;
<a name="l00550"></a>00550             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00551"></a>00551         }
<a name="l00552"></a>00552     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res == CacheResourceType_DataArray) {
<a name="l00553"></a>00553         <span class="keywordflow">if</span> (<a class="code" href="classCacheMemory.html#a3fe8de4d2516b188e76e11c5213d8eaf">dataArray</a>.<a class="code" href="classBankedArray.html#aaa85fb1f3c3aa637e08af3002b00111d">tryAccess</a>(<a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(addr))) <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00554"></a>00554         <span class="keywordflow">else</span> {
<a name="l00555"></a>00555             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyResourceStalls,
<a name="l00556"></a>00556                     <span class="stringliteral">&quot;Data array stall on addr %s in set %d\n&quot;</span>,
<a name="l00557"></a>00557                     addr, <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(addr));
<a name="l00558"></a>00558             <a class="code" href="classCacheMemory.html#a4034a29f6d2be3493f40aaa13ca6c77a">numDataArrayStalls</a>++;
<a name="l00559"></a>00559             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00560"></a>00560         }
<a name="l00561"></a>00561     } <span class="keywordflow">else</span> {
<a name="l00562"></a>00562         assert(<span class="keyword">false</span>);
<a name="l00563"></a>00563         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00564"></a>00564     }
<a name="l00565"></a>00565 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abd16aaa7623b6ed38e15bde2b210f88a"></a><!-- doxytag: member="CacheMemory::clearLocked" ref="abd16aaa7623b6ed38e15bde2b210f88a" args="(const Address &amp;addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearLocked </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>addr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00402"></a>00402 {
<a name="l00403"></a>00403     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCache, <span class="stringliteral">&quot;Clear Lock for addr: %x\n&quot;</span>, address);
<a name="l00404"></a>00404     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00405"></a>00405     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00406"></a>00406     <span class="keywordtype">int</span> loc = <a class="code" href="classCacheMemory.html#ac32dac48596332a7537a1e3c31cfd3c0">findTagInSet</a>(cacheSet, address);
<a name="l00407"></a>00407     assert(loc != -1);
<a name="l00408"></a>00408     <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][loc]-&gt;m_locked = -1;
<a name="l00409"></a>00409 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad1a3e4943cc214363839148c7d94d6a4"></a><!-- doxytag: member="CacheMemory::deallocate" ref="ad1a3e4943cc214363839148c7d94d6a4" args="(const Address &amp;address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deallocate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00267"></a>00267 {
<a name="l00268"></a>00268     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00269"></a>00269     assert(<a class="code" href="classCacheMemory.html#a38231bf6d0b58d2b0319faa5af3135ca">isTagPresent</a>(address));
<a name="l00270"></a>00270     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCache, <span class="stringliteral">&quot;address: %s\n&quot;</span>, address);
<a name="l00271"></a>00271     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00272"></a>00272     <span class="keywordtype">int</span> loc = <a class="code" href="classCacheMemory.html#ac32dac48596332a7537a1e3c31cfd3c0">findTagInSet</a>(cacheSet, address);
<a name="l00273"></a>00273     <span class="keywordflow">if</span> (loc != -1) {
<a name="l00274"></a>00274         <span class="keyword">delete</span> <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][loc];
<a name="l00275"></a>00275         <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][loc] = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00276"></a>00276         <a class="code" href="classCacheMemory.html#a546a29030c6970bfbc1197ae75826bc4">m_tag_index</a>.erase(address);
<a name="l00277"></a>00277     }
<a name="l00278"></a>00278 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac32dac48596332a7537a1e3c31cfd3c0"></a><!-- doxytag: member="CacheMemory::findTagInSet" ref="ac32dac48596332a7537a1e3c31cfd3c0" args="(Index line, const Address &amp;tag) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int findTagInSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a>&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>tag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00119"></a>00119 {
<a name="l00120"></a>00120     assert(tag == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(tag));
<a name="l00121"></a>00121     <span class="comment">// search the set for the tags</span>
<a name="l00122"></a>00122     m5::hash_map&lt;Address, int&gt;::const_iterator it = <a class="code" href="classCacheMemory.html#a546a29030c6970bfbc1197ae75826bc4">m_tag_index</a>.find(tag);
<a name="l00123"></a>00123     <span class="keywordflow">if</span> (it != <a class="code" href="classCacheMemory.html#a546a29030c6970bfbc1197ae75826bc4">m_tag_index</a>.end())
<a name="l00124"></a>00124         <span class="keywordflow">if</span> (<a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][it-&gt;second]-&gt;m_Permission !=
<a name="l00125"></a>00125             AccessPermission_NotPresent)
<a name="l00126"></a>00126             <span class="keywordflow">return</span> it-&gt;second;
<a name="l00127"></a>00127     <span class="keywordflow">return</span> -1; <span class="comment">// Not found</span>
<a name="l00128"></a>00128 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad7d6ceb226fbf63dc2c91a61aa57d98a"></a><!-- doxytag: member="CacheMemory::findTagInSetIgnorePermissions" ref="ad7d6ceb226fbf63dc2c91a61aa57d98a" args="(Index cacheSet, const Address &amp;tag) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int findTagInSetIgnorePermissions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a>&nbsp;</td>
          <td class="paramname"> <em>cacheSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>tag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00135"></a>00135 {
<a name="l00136"></a>00136     assert(tag == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(tag));
<a name="l00137"></a>00137     <span class="comment">// search the set for the tags</span>
<a name="l00138"></a>00138     m5::hash_map&lt;Address, int&gt;::const_iterator it = <a class="code" href="classCacheMemory.html#a546a29030c6970bfbc1197ae75826bc4">m_tag_index</a>.find(tag);
<a name="l00139"></a>00139     <span class="keywordflow">if</span> (it != <a class="code" href="classCacheMemory.html#a546a29030c6970bfbc1197ae75826bc4">m_tag_index</a>.end())
<a name="l00140"></a>00140         <span class="keywordflow">return</span> it-&gt;second;
<a name="l00141"></a>00141     <span class="keywordflow">return</span> -1; <span class="comment">// Not found</span>
<a name="l00142"></a>00142 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae69a59f28f0cfd099bf798cb6bb76356"></a><!-- doxytag: member="CacheMemory::getLatency" ref="ae69a59f28f0cfd099bf798cb6bb76356" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCycles.html">Cycles</a> getLatency </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00093"></a>00093 { <span class="keywordflow">return</span> <a class="code" href="classCacheMemory.html#a7599697a6c831356525c7d97604edd31">m_latency</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a02fd73d861ef2e4aabb38c0c9ff82947"></a><!-- doxytag: member="CacheMemory::init" ref="a02fd73d861ef2e4aabb38c0c9ff82947" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCacheMemory.html#a02fd73d861ef2e4aabb38c0c9ff82947">init()</a> is called after all C++ SimObjects have been created and all ports are connected. Initializations that are independent of unserialization but rely on a fully instantiated and connected <a class="el" href="classSimObject.html">SimObject</a> graph should be done here. </p>

<p><a class="el" href="classSimObject.html#a02fd73d861ef2e4aabb38c0c9ff82947">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00070"></a>00070 {
<a name="l00071"></a>00071     <a class="code" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a> = (<a class="code" href="classCacheMemory.html#a378c30d8d9ca0215ac61ea0974082ca0">m_cache_size</a> / <a class="code" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a>) /
<a name="l00072"></a>00072         <a class="code" href="classRubySystem.html#ad5726e8c9283b1447b75c3a8c67ffa75">RubySystem::getBlockSizeBytes</a>();
<a name="l00073"></a>00073     assert(<a class="code" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a> &gt; 1);
<a name="l00074"></a>00074     <a class="code" href="classCacheMemory.html#a6b2e7aa0964d945df6b08fbbdd316f47">m_cache_num_set_bits</a> = <a class="code" href="intmath_8hh.html#ad61f5307b84292529da332fee695614e">floorLog2</a>(<a class="code" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a>);
<a name="l00075"></a>00075     assert(<a class="code" href="classCacheMemory.html#a6b2e7aa0964d945df6b08fbbdd316f47">m_cache_num_set_bits</a> &gt; 0);
<a name="l00076"></a>00076 
<a name="l00077"></a>00077     <span class="keywordflow">if</span> (<a class="code" href="classCacheMemory.html#a89cf1f810dd6f5f9da8a2d588418ec49">m_policy</a> == <span class="stringliteral">&quot;PSEUDO_LRU&quot;</span>)
<a name="l00078"></a>00078         <a class="code" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a> =
<a name="l00079"></a>00079             <span class="keyword">new</span> <a class="code" href="classPseudoLRUPolicy.html">PseudoLRUPolicy</a>(<a class="code" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a>, <a class="code" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a>);
<a name="l00080"></a>00080     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classCacheMemory.html#a89cf1f810dd6f5f9da8a2d588418ec49">m_policy</a> == <span class="stringliteral">&quot;LRU&quot;</span>)
<a name="l00081"></a>00081         <a class="code" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a> =
<a name="l00082"></a>00082             <span class="keyword">new</span> <a class="code" href="classLRUPolicy.html">LRUPolicy</a>(<a class="code" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a>, <a class="code" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a>);
<a name="l00083"></a>00083     <span class="keywordflow">else</span>
<a name="l00084"></a>00084         assert(<span class="keyword">false</span>);
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>.resize(<a class="code" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a>);
<a name="l00087"></a>00087     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00088"></a>00088         <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].resize(<a class="code" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a>);
<a name="l00089"></a>00089         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a> = 0; <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a> &lt; <a class="code" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a>; <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>++) {
<a name="l00090"></a>00090             <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>][<a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>] = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00091"></a>00091         }
<a name="l00092"></a>00092     }
<a name="l00093"></a>00093 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aeb3a7f627af8ca6e8c5f9a878a01ea6f"></a><!-- doxytag: member="CacheMemory::isLocked" ref="aeb3a7f627af8ca6e8c5f9a878a01ea6f" args="(const Address &amp;addr, int context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isLocked </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00413"></a>00413 {
<a name="l00414"></a>00414     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00415"></a>00415     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00416"></a>00416     <span class="keywordtype">int</span> loc = <a class="code" href="classCacheMemory.html#ac32dac48596332a7537a1e3c31cfd3c0">findTagInSet</a>(cacheSet, address);
<a name="l00417"></a>00417     assert(loc != -1);
<a name="l00418"></a>00418     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCache, <span class="stringliteral">&quot;Testing Lock for addr: %llx cur %d con %d\n&quot;</span>,
<a name="l00419"></a>00419             address, <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][loc]-&gt;m_locked, context);
<a name="l00420"></a>00420     <span class="keywordflow">return</span> <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][loc]-&gt;m_locked == context;
<a name="l00421"></a>00421 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a38231bf6d0b58d2b0319faa5af3135ca"></a><!-- doxytag: member="CacheMemory::isTagPresent" ref="a38231bf6d0b58d2b0319faa5af3135ca" args="(const Address &amp;address) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isTagPresent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00197"></a>00197 {
<a name="l00198"></a>00198     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00199"></a>00199     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00200"></a>00200     <span class="keywordtype">int</span> loc = <a class="code" href="classCacheMemory.html#ac32dac48596332a7537a1e3c31cfd3c0">findTagInSet</a>(cacheSet, address);
<a name="l00201"></a>00201 
<a name="l00202"></a>00202     <span class="keywordflow">if</span> (loc == -1) {
<a name="l00203"></a>00203         <span class="comment">// We didn&apos;t find the tag</span>
<a name="l00204"></a>00204         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCache, <span class="stringliteral">&quot;No tag match for address: %s\n&quot;</span>, address);
<a name="l00205"></a>00205         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00206"></a>00206     }
<a name="l00207"></a>00207     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCache, <span class="stringliteral">&quot;address: %s found\n&quot;</span>, address);
<a name="l00208"></a>00208     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00209"></a>00209 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a28b926de4d910367b746eb67d244f250"></a><!-- doxytag: member="CacheMemory::lookup" ref="a28b926de4d910367b746eb67d244f250" args="(const Address &amp;address) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a> * lookup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00306"></a>00306 {
<a name="l00307"></a>00307     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00308"></a>00308     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00309"></a>00309     <span class="keywordtype">int</span> loc = <a class="code" href="classCacheMemory.html#ac32dac48596332a7537a1e3c31cfd3c0">findTagInSet</a>(cacheSet, address);
<a name="l00310"></a>00310     <span class="keywordflow">if</span>(loc == -1) <span class="keywordflow">return</span> <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00311"></a>00311     <span class="keywordflow">return</span> <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][loc];
<a name="l00312"></a>00312 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0c6ae9fa65dfd9c0786e2e5a39be4a1e"></a><!-- doxytag: member="CacheMemory::lookup" ref="a0c6ae9fa65dfd9c0786e2e5a39be4a1e" args="(const Address &amp;address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a> * lookup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00295"></a>00295 {
<a name="l00296"></a>00296     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00297"></a>00297     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00298"></a>00298     <span class="keywordtype">int</span> loc = <a class="code" href="classCacheMemory.html#ac32dac48596332a7537a1e3c31cfd3c0">findTagInSet</a>(cacheSet, address);
<a name="l00299"></a>00299     <span class="keywordflow">if</span>(loc == -1) <span class="keywordflow">return</span> <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00300"></a>00300     <span class="keywordflow">return</span> <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][loc];
<a name="l00301"></a>00301 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3ba0e3a7cc49aede911aa79977fc4128"></a><!-- doxytag: member="CacheMemory::operator=" ref="a3ba0e3a7cc49aede911aa79977fc4128" args="(const CacheMemory &amp;obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCacheMemory.html">CacheMemory</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCacheMemory.html">CacheMemory</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac55fe386a101fbae38c716067c9966a0"></a><!-- doxytag: member="CacheMemory::print" ref="ac55fe386a101fbae38c716067c9966a0" args="(std::ostream &amp;out) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>out</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a82b5740a65950cb6ba001dc852567da7"></a><!-- doxytag: member="CacheMemory::printData" ref="a82b5740a65950cb6ba001dc852567da7" args="(std::ostream &amp;out) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printData </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>out</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa6672e5328a3421c133ea5590f4b562d"></a><!-- doxytag: member="CacheMemory::recordCacheContents" ref="aa6672e5328a3421c133ea5590f4b562d" args="(int cntrl, CacheRecorder *tr) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void recordCacheContents </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cntrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCacheRecorder.html">CacheRecorder</a> *&nbsp;</td>
          <td class="paramname"> <em>tr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00327"></a>00327 {
<a name="l00328"></a>00328     <a class="code" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> warmedUpBlocks = 0;
<a name="l00329"></a>00329     <a class="code" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> totalBlocks M5_VAR_USED = (<a class="code" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a>)<a class="code" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a>
<a name="l00330"></a>00330                                                   * (<a class="code" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a>)<a class="code" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a>;
<a name="l00331"></a>00331 
<a name="l00332"></a>00332     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00333"></a>00333         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a> = 0; <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a> &lt; <a class="code" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a>; <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>++) {
<a name="l00334"></a>00334             <span class="keywordflow">if</span> (<a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>][<a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>] != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>) {
<a name="l00335"></a>00335                 AccessPermission perm = <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>][<a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>]-&gt;m_Permission;
<a name="l00336"></a>00336                 RubyRequestType request_type = RubyRequestType_NULL;
<a name="l00337"></a>00337                 <span class="keywordflow">if</span> (perm == AccessPermission_Read_Only) {
<a name="l00338"></a>00338                     <span class="keywordflow">if</span> (<a class="code" href="classCacheMemory.html#a0c3e90f32ef2e92b91ca006d44c12374">m_is_instruction_only_cache</a>) {
<a name="l00339"></a>00339                         request_type = RubyRequestType_IFETCH;
<a name="l00340"></a>00340                     } <span class="keywordflow">else</span> {
<a name="l00341"></a>00341                         request_type = RubyRequestType_LD;
<a name="l00342"></a>00342                     }
<a name="l00343"></a>00343                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (perm == AccessPermission_Read_Write) {
<a name="l00344"></a>00344                     request_type = RubyRequestType_ST;
<a name="l00345"></a>00345                 }
<a name="l00346"></a>00346 
<a name="l00347"></a>00347                 <span class="keywordflow">if</span> (request_type != RubyRequestType_NULL) {
<a name="l00348"></a>00348                     tr-&gt;<a class="code" href="classCacheRecorder.html#ae272072fe83d29085b21b133b1c9cd68">addRecord</a>(cntrl, <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>][<a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>]-&gt;m_Address.getAddress(),
<a name="l00349"></a>00349                                   0, request_type,
<a name="l00350"></a>00350                                   <a class="code" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a>-&gt;<a class="code" href="classAbstractReplacementPolicy.html#afbe88ba793f4549f1c7ef274372433e9">getLastAccess</a>(<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>, <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>),
<a name="l00351"></a>00351                                   <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>][<a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>]-&gt;getDataBlk());
<a name="l00352"></a>00352                     warmedUpBlocks++;
<a name="l00353"></a>00353                 }
<a name="l00354"></a>00354             }
<a name="l00355"></a>00355         }
<a name="l00356"></a>00356     }
<a name="l00357"></a>00357 
<a name="l00358"></a>00358     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCacheTrace, <span class="stringliteral">&quot;%s: %lli blocks of %lli total blocks&quot;</span>
<a name="l00359"></a>00359             <span class="stringliteral">&quot;recorded %.2f%% \n&quot;</span>, <a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>().c_str(), warmedUpBlocks,
<a name="l00360"></a>00360             (<a class="code" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a>)m_cache_num_sets * (<a class="code" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a>)m_cache_assoc,
<a name="l00361"></a>00361             (<span class="keywordtype">float</span>(warmedUpBlocks)/<span class="keywordtype">float</span>(totalBlocks))*100.0);
<a name="l00362"></a>00362 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4798ec530ab14c83a290b9d372e31a9d"></a><!-- doxytag: member="CacheMemory::recordRequestType" ref="a4798ec530ab14c83a290b9d372e31a9d" args="(CacheRequestType requestType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void recordRequestType </td>
          <td>(</td>
          <td class="paramtype">CacheRequestType&nbsp;</td>
          <td class="paramname"> <em>requestType</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00514"></a>00514 {
<a name="l00515"></a>00515     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyStats, <span class="stringliteral">&quot;Recorded statistic: %s\n&quot;</span>,
<a name="l00516"></a>00516             CacheRequestType_to_string(requestType));
<a name="l00517"></a>00517     <span class="keywordflow">switch</span>(requestType) {
<a name="l00518"></a>00518     <span class="keywordflow">case</span> CacheRequestType_DataArrayRead:
<a name="l00519"></a>00519         <a class="code" href="classCacheMemory.html#a0f63a1bbaf1dee7c23ab3ac06a80d775">numDataArrayReads</a>++;
<a name="l00520"></a>00520         <span class="keywordflow">return</span>;
<a name="l00521"></a>00521     <span class="keywordflow">case</span> CacheRequestType_DataArrayWrite:
<a name="l00522"></a>00522         <a class="code" href="classCacheMemory.html#a97557f8d2f957731bdea9fd4537a140e">numDataArrayWrites</a>++;
<a name="l00523"></a>00523         <span class="keywordflow">return</span>;
<a name="l00524"></a>00524     <span class="keywordflow">case</span> CacheRequestType_TagArrayRead:
<a name="l00525"></a>00525         <a class="code" href="classCacheMemory.html#a3e723404e0119a13e13ca25460179249">numTagArrayReads</a>++;
<a name="l00526"></a>00526         <span class="keywordflow">return</span>;
<a name="l00527"></a>00527     <span class="keywordflow">case</span> CacheRequestType_TagArrayWrite:
<a name="l00528"></a>00528         <a class="code" href="classCacheMemory.html#a3e43debd337a55436570324681b20000">numTagArrayWrites</a>++;
<a name="l00529"></a>00529         <span class="keywordflow">return</span>;
<a name="l00530"></a>00530     <span class="keywordflow">default</span>:
<a name="l00531"></a>00531         <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a>(<span class="stringliteral">&quot;CacheMemory access_type not found: %s&quot;</span>,
<a name="l00532"></a>00532              CacheRequestType_to_string(requestType));
<a name="l00533"></a>00533     }
<a name="l00534"></a>00534 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4dc637449366fcdfc4e764cdf12d9b11"></a><!-- doxytag: member="CacheMemory::regStats" ref="a4dc637449366fcdfc4e764cdf12d9b11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void regStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRegister.html">Register</a> statistics for this object. </p>

<p><a class="el" href="classSimObject.html#a4dc637449366fcdfc4e764cdf12d9b11">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00425"></a>00425 {
<a name="l00426"></a>00426     <a class="code" href="classCacheMemory.html#a47c68eff474df127a7e5e36b40965bdc">m_demand_hits</a>
<a name="l00427"></a>00427         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.demand_hits&quot;</span>)
<a name="l00428"></a>00428         .desc(<span class="stringliteral">&quot;Number of cache demand hits&quot;</span>)
<a name="l00429"></a>00429         ;
<a name="l00430"></a>00430 
<a name="l00431"></a>00431     <a class="code" href="classCacheMemory.html#a3f24c5bd8e3da8dbb584cf70d3de4f09">m_demand_misses</a>
<a name="l00432"></a>00432         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.demand_misses&quot;</span>)
<a name="l00433"></a>00433         .desc(<span class="stringliteral">&quot;Number of cache demand misses&quot;</span>)
<a name="l00434"></a>00434         ;
<a name="l00435"></a>00435 
<a name="l00436"></a>00436     <a class="code" href="classCacheMemory.html#a6d06da3f5d70180680054f20a4862051">m_demand_accesses</a>
<a name="l00437"></a>00437         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.demand_accesses&quot;</span>)
<a name="l00438"></a>00438         .desc(<span class="stringliteral">&quot;Number of cache demand accesses&quot;</span>)
<a name="l00439"></a>00439         ;
<a name="l00440"></a>00440 
<a name="l00441"></a>00441     <a class="code" href="classCacheMemory.html#a6d06da3f5d70180680054f20a4862051">m_demand_accesses</a> = <a class="code" href="classCacheMemory.html#a47c68eff474df127a7e5e36b40965bdc">m_demand_hits</a> + <a class="code" href="classCacheMemory.html#a3f24c5bd8e3da8dbb584cf70d3de4f09">m_demand_misses</a>;
<a name="l00442"></a>00442 
<a name="l00443"></a>00443     <a class="code" href="classCacheMemory.html#af2b41944a982febf9af12d438f137b87">m_sw_prefetches</a>
<a name="l00444"></a>00444         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.total_sw_prefetches&quot;</span>)
<a name="l00445"></a>00445         .desc(<span class="stringliteral">&quot;Number of software prefetches&quot;</span>)
<a name="l00446"></a>00446         .flags(<a class="code" href="namespaceStats.html#aea66fede55fadabd06c458fb36736378">Stats::nozero</a>)
<a name="l00447"></a>00447         ;
<a name="l00448"></a>00448 
<a name="l00449"></a>00449     <a class="code" href="classCacheMemory.html#a5ae5fe863837358e6e9a60e0b702fb94">m_hw_prefetches</a>
<a name="l00450"></a>00450         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.total_hw_prefetches&quot;</span>)
<a name="l00451"></a>00451         .desc(<span class="stringliteral">&quot;Number of hardware prefetches&quot;</span>)
<a name="l00452"></a>00452         .flags(<a class="code" href="namespaceStats.html#aea66fede55fadabd06c458fb36736378">Stats::nozero</a>)
<a name="l00453"></a>00453         ;
<a name="l00454"></a>00454 
<a name="l00455"></a>00455     <a class="code" href="classCacheMemory.html#a549248150d50bed3e4d815869edee7de">m_prefetches</a>
<a name="l00456"></a>00456         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.total_prefetches&quot;</span>)
<a name="l00457"></a>00457         .desc(<span class="stringliteral">&quot;Number of prefetches&quot;</span>)
<a name="l00458"></a>00458         .flags(<a class="code" href="namespaceStats.html#aea66fede55fadabd06c458fb36736378">Stats::nozero</a>)
<a name="l00459"></a>00459         ;
<a name="l00460"></a>00460 
<a name="l00461"></a>00461     <a class="code" href="classCacheMemory.html#a549248150d50bed3e4d815869edee7de">m_prefetches</a> = <a class="code" href="classCacheMemory.html#af2b41944a982febf9af12d438f137b87">m_sw_prefetches</a> + <a class="code" href="classCacheMemory.html#a5ae5fe863837358e6e9a60e0b702fb94">m_hw_prefetches</a>;
<a name="l00462"></a>00462 
<a name="l00463"></a>00463     <a class="code" href="classCacheMemory.html#a83d90a771e3ee60100ef1730f1a118b1">m_accessModeType</a>
<a name="l00464"></a>00464         .<a class="code" href="classStats_1_1VectorBase.html#ae41cad1a02eeb7958df026d8e2cc7582">init</a>(RubyRequestType_NUM)
<a name="l00465"></a>00465         .name(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.access_mode&quot;</span>)
<a name="l00466"></a>00466         .flags(<a class="code" href="namespaceStats.html#a148700bbb7b09b1ebb9d6b099155391a">Stats::pdf</a> | <a class="code" href="namespaceStats.html#a4031dfee086a6a4cf1deea1fff2e0d5c">Stats::total</a>)
<a name="l00467"></a>00467         ;
<a name="l00468"></a>00468     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; RubyAccessMode_NUM; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00469"></a>00469         <a class="code" href="classCacheMemory.html#a83d90a771e3ee60100ef1730f1a118b1">m_accessModeType</a>
<a name="l00470"></a>00470             .<a class="code" href="classStats_1_1DataWrapVec.html#a74726d23d92792c7c3cebdaf3bfd23f0">subname</a>(<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>, RubyAccessMode_to_string(RubyAccessMode(<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>)))
<a name="l00471"></a>00471             .flags(<a class="code" href="namespaceStats.html#aea66fede55fadabd06c458fb36736378">Stats::nozero</a>)
<a name="l00472"></a>00472             ;
<a name="l00473"></a>00473     }
<a name="l00474"></a>00474 
<a name="l00475"></a>00475     <a class="code" href="classCacheMemory.html#a0f63a1bbaf1dee7c23ab3ac06a80d775">numDataArrayReads</a>
<a name="l00476"></a>00476         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.num_data_array_reads&quot;</span>)
<a name="l00477"></a>00477         .desc(<span class="stringliteral">&quot;number of data array reads&quot;</span>)
<a name="l00478"></a>00478         .flags(<a class="code" href="namespaceStats.html#aea66fede55fadabd06c458fb36736378">Stats::nozero</a>)
<a name="l00479"></a>00479         ;
<a name="l00480"></a>00480 
<a name="l00481"></a>00481     <a class="code" href="classCacheMemory.html#a97557f8d2f957731bdea9fd4537a140e">numDataArrayWrites</a>
<a name="l00482"></a>00482         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.num_data_array_writes&quot;</span>)
<a name="l00483"></a>00483         .desc(<span class="stringliteral">&quot;number of data array writes&quot;</span>)
<a name="l00484"></a>00484         .flags(<a class="code" href="namespaceStats.html#aea66fede55fadabd06c458fb36736378">Stats::nozero</a>)
<a name="l00485"></a>00485         ;
<a name="l00486"></a>00486 
<a name="l00487"></a>00487     <a class="code" href="classCacheMemory.html#a3e723404e0119a13e13ca25460179249">numTagArrayReads</a>
<a name="l00488"></a>00488         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.num_tag_array_reads&quot;</span>)
<a name="l00489"></a>00489         .desc(<span class="stringliteral">&quot;number of tag array reads&quot;</span>)
<a name="l00490"></a>00490         .flags(<a class="code" href="namespaceStats.html#aea66fede55fadabd06c458fb36736378">Stats::nozero</a>)
<a name="l00491"></a>00491         ;
<a name="l00492"></a>00492 
<a name="l00493"></a>00493     <a class="code" href="classCacheMemory.html#a3e43debd337a55436570324681b20000">numTagArrayWrites</a>
<a name="l00494"></a>00494         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.num_tag_array_writes&quot;</span>)
<a name="l00495"></a>00495         .desc(<span class="stringliteral">&quot;number of tag array writes&quot;</span>)
<a name="l00496"></a>00496         .flags(<a class="code" href="namespaceStats.html#aea66fede55fadabd06c458fb36736378">Stats::nozero</a>)
<a name="l00497"></a>00497         ;
<a name="l00498"></a>00498 
<a name="l00499"></a>00499     <a class="code" href="classCacheMemory.html#aa8cfd5b3d3480062677e2229d8573483">numTagArrayStalls</a>
<a name="l00500"></a>00500         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.num_tag_array_stalls&quot;</span>)
<a name="l00501"></a>00501         .desc(<span class="stringliteral">&quot;number of stalls caused by tag array&quot;</span>)
<a name="l00502"></a>00502         .flags(<a class="code" href="namespaceStats.html#aea66fede55fadabd06c458fb36736378">Stats::nozero</a>)
<a name="l00503"></a>00503         ;
<a name="l00504"></a>00504 
<a name="l00505"></a>00505     <a class="code" href="classCacheMemory.html#a4034a29f6d2be3493f40aaa13ca6c77a">numDataArrayStalls</a>
<a name="l00506"></a>00506         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.num_data_array_stalls&quot;</span>)
<a name="l00507"></a>00507         .desc(<span class="stringliteral">&quot;number of stalls caused by data array&quot;</span>)
<a name="l00508"></a>00508         .flags(<a class="code" href="namespaceStats.html#aea66fede55fadabd06c458fb36736378">Stats::nozero</a>)
<a name="l00509"></a>00509         ;
<a name="l00510"></a>00510 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a046beba265922d99b46eb407d30fa14a"></a><!-- doxytag: member="CacheMemory::setLocked" ref="a046beba265922d99b46eb407d30fa14a" args="(const Address &amp;addr, int context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setLocked </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00391"></a>00391 {
<a name="l00392"></a>00392     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCache, <span class="stringliteral">&quot;Setting Lock for addr: %x to %d\n&quot;</span>, address, context);
<a name="l00393"></a>00393     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00394"></a>00394     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00395"></a>00395     <span class="keywordtype">int</span> loc = <a class="code" href="classCacheMemory.html#ac32dac48596332a7537a1e3c31cfd3c0">findTagInSet</a>(cacheSet, address);
<a name="l00396"></a>00396     assert(loc != -1);
<a name="l00397"></a>00397     <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][loc]-&gt;m_locked = context;
<a name="l00398"></a>00398 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a82f197cef10db015c46d8e9f71275f47"></a><!-- doxytag: member="CacheMemory::setMRU" ref="a82f197cef10db015c46d8e9f71275f47" args="(const Address &amp;address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setMRU </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00317"></a>00317 {
<a name="l00318"></a>00318     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00319"></a>00319     <span class="keywordtype">int</span> loc = <a class="code" href="classCacheMemory.html#ac32dac48596332a7537a1e3c31cfd3c0">findTagInSet</a>(cacheSet, address);
<a name="l00320"></a>00320 
<a name="l00321"></a>00321     <span class="keywordflow">if</span>(loc != -1)
<a name="l00322"></a>00322         <a class="code" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a>-&gt;<a class="code" href="classAbstractReplacementPolicy.html#a6354174153ace07b8cef20f36b20357a">touch</a>(cacheSet, loc, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>());
<a name="l00323"></a>00323 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aba82772b79ad7b17d20d195979043473"></a><!-- doxytag: member="CacheMemory::testCacheAccess" ref="aba82772b79ad7b17d20d195979043473" args="(const Address &amp;address, RubyRequestType type, DataBlock *&amp;data_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool testCacheAccess </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RubyRequestType&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDataBlock.html">DataBlock</a> *&amp;&nbsp;</td>
          <td class="paramname"> <em>data_ptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00174"></a>00174 {
<a name="l00175"></a>00175     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00176"></a>00176     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCache, <span class="stringliteral">&quot;address: %s\n&quot;</span>, address);
<a name="l00177"></a>00177     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00178"></a>00178     <span class="keywordtype">int</span> loc = <a class="code" href="classCacheMemory.html#ac32dac48596332a7537a1e3c31cfd3c0">findTagInSet</a>(cacheSet, address);
<a name="l00179"></a>00179 
<a name="l00180"></a>00180     <span class="keywordflow">if</span> (loc != -1) {
<a name="l00181"></a>00181         <span class="comment">// Do we even have a tag match?</span>
<a name="l00182"></a>00182         <a class="code" href="classAbstractCacheEntry.html">AbstractCacheEntry</a>* entry = <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][loc];
<a name="l00183"></a>00183         <a class="code" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a>-&gt;<a class="code" href="classAbstractReplacementPolicy.html#a6354174153ace07b8cef20f36b20357a">touch</a>(cacheSet, loc, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>());
<a name="l00184"></a>00184         data_ptr = &amp;(entry-&gt;<a class="code" href="classAbstractEntry.html#afec4a5462c59a6427dd945c8e57d892f">getDataBlk</a>());
<a name="l00185"></a>00185 
<a name="l00186"></a>00186         <span class="keywordflow">return</span> <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][loc]-&gt;m_Permission !=
<a name="l00187"></a>00187             AccessPermission_NotPresent;
<a name="l00188"></a>00188     }
<a name="l00189"></a>00189 
<a name="l00190"></a>00190     data_ptr = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00191"></a>00191     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00192"></a>00192 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acfc92479973bfd11ae0191fd798ba44c"></a><!-- doxytag: member="CacheMemory::tryCacheAccess" ref="acfc92479973bfd11ae0191fd798ba44c" args="(const Address &amp;address, RubyRequestType type, DataBlock *&amp;data_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tryCacheAccess </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RubyRequestType&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDataBlock.html">DataBlock</a> *&amp;&nbsp;</td>
          <td class="paramname"> <em>data_ptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00147"></a>00147 {
<a name="l00148"></a>00148     assert(address == <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address));
<a name="l00149"></a>00149     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCache, <span class="stringliteral">&quot;address: %s\n&quot;</span>, address);
<a name="l00150"></a>00150     <a class="code" href="TypeDefines_8hh.html#a39642de41f3574937f399f4fab25ba18">Index</a> cacheSet = <a class="code" href="classCacheMemory.html#ab8af076beefca7ea17d6ffbf639456db">addressToCacheSet</a>(address);
<a name="l00151"></a>00151     <span class="keywordtype">int</span> loc = <a class="code" href="classCacheMemory.html#ac32dac48596332a7537a1e3c31cfd3c0">findTagInSet</a>(cacheSet, address);
<a name="l00152"></a>00152     <span class="keywordflow">if</span> (loc != -1) {
<a name="l00153"></a>00153         <span class="comment">// Do we even have a tag match?</span>
<a name="l00154"></a>00154         <a class="code" href="classAbstractCacheEntry.html">AbstractCacheEntry</a>* entry = <a class="code" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a>[cacheSet][loc];
<a name="l00155"></a>00155         <a class="code" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a>-&gt;<a class="code" href="classAbstractReplacementPolicy.html#a6354174153ace07b8cef20f36b20357a">touch</a>(cacheSet, loc, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>());
<a name="l00156"></a>00156         data_ptr = &amp;(entry-&gt;<a class="code" href="classAbstractEntry.html#afec4a5462c59a6427dd945c8e57d892f">getDataBlk</a>());
<a name="l00157"></a>00157 
<a name="l00158"></a>00158         <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="classAbstractEntry.html#adffb6e818a8b13110daeb2c3c13fcc50">m_Permission</a> == AccessPermission_Read_Write) {
<a name="l00159"></a>00159             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00160"></a>00160         }
<a name="l00161"></a>00161         <span class="keywordflow">if</span> ((entry-&gt;<a class="code" href="classAbstractEntry.html#adffb6e818a8b13110daeb2c3c13fcc50">m_Permission</a> == AccessPermission_Read_Only) &amp;&amp;
<a name="l00162"></a>00162             (<a class="code" href="namespaceX86ISA.html#ad805db903f6899f960fd9a982272096a">type</a> == RubyRequestType_LD || <a class="code" href="namespaceX86ISA.html#ad805db903f6899f960fd9a982272096a">type</a> == RubyRequestType_IFETCH)) {
<a name="l00163"></a>00163             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00164"></a>00164         }
<a name="l00165"></a>00165         <span class="comment">// The line must not be accessible</span>
<a name="l00166"></a>00166     }
<a name="l00167"></a>00167     data_ptr = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00168"></a>00168     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00169"></a>00169 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a3fe8de4d2516b188e76e11c5213d8eaf"></a><!-- doxytag: member="CacheMemory::dataArray" ref="a3fe8de4d2516b188e76e11c5213d8eaf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBankedArray.html">BankedArray</a> <a class="el" href="classCacheMemory.html#a3fe8de4d2516b188e76e11c5213d8eaf">dataArray</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a83d90a771e3ee60100ef1730f1a118b1"></a><!-- doxytag: member="CacheMemory::m_accessModeType" ref="a83d90a771e3ee60100ef1730f1a118b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Vector.html">Stats::Vector</a> <a class="el" href="classCacheMemory.html#a83d90a771e3ee60100ef1730f1a118b1">m_accessModeType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a07906f5e66f388186af8b84540922dcd"></a><!-- doxytag: member="CacheMemory::m_cache" ref="a07906f5e66f388186af8b84540922dcd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classAbstractCacheEntry.html">AbstractCacheEntry</a>*&gt; &gt; <a class="el" href="classCacheMemory.html#a07906f5e66f388186af8b84540922dcd">m_cache</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0dcca2db5987fbc671fc1fef4169ebed"></a><!-- doxytag: member="CacheMemory::m_cache_assoc" ref="a0dcca2db5987fbc671fc1fef4169ebed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCacheMemory.html#a0dcca2db5987fbc671fc1fef4169ebed">m_cache_assoc</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6b2e7aa0964d945df6b08fbbdd316f47"></a><!-- doxytag: member="CacheMemory::m_cache_num_set_bits" ref="a6b2e7aa0964d945df6b08fbbdd316f47" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCacheMemory.html#a6b2e7aa0964d945df6b08fbbdd316f47">m_cache_num_set_bits</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8773f9a442fa00b24f4c65c86dcd25d6"></a><!-- doxytag: member="CacheMemory::m_cache_num_sets" ref="a8773f9a442fa00b24f4c65c86dcd25d6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCacheMemory.html#a8773f9a442fa00b24f4c65c86dcd25d6">m_cache_num_sets</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a378c30d8d9ca0215ac61ea0974082ca0"></a><!-- doxytag: member="CacheMemory::m_cache_size" ref="a378c30d8d9ca0215ac61ea0974082ca0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCacheMemory.html#a378c30d8d9ca0215ac61ea0974082ca0">m_cache_size</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6d06da3f5d70180680054f20a4862051"></a><!-- doxytag: member="CacheMemory::m_demand_accesses" ref="a6d06da3f5d70180680054f20a4862051" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a> <a class="el" href="classCacheMemory.html#a6d06da3f5d70180680054f20a4862051">m_demand_accesses</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a47c68eff474df127a7e5e36b40965bdc"></a><!-- doxytag: member="CacheMemory::m_demand_hits" ref="a47c68eff474df127a7e5e36b40965bdc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classCacheMemory.html#a47c68eff474df127a7e5e36b40965bdc">m_demand_hits</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3f24c5bd8e3da8dbb584cf70d3de4f09"></a><!-- doxytag: member="CacheMemory::m_demand_misses" ref="a3f24c5bd8e3da8dbb584cf70d3de4f09" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classCacheMemory.html#a3f24c5bd8e3da8dbb584cf70d3de4f09">m_demand_misses</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5ae5fe863837358e6e9a60e0b702fb94"></a><!-- doxytag: member="CacheMemory::m_hw_prefetches" ref="a5ae5fe863837358e6e9a60e0b702fb94" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classCacheMemory.html#a5ae5fe863837358e6e9a60e0b702fb94">m_hw_prefetches</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0c3e90f32ef2e92b91ca006d44c12374"></a><!-- doxytag: member="CacheMemory::m_is_instruction_only_cache" ref="a0c3e90f32ef2e92b91ca006d44c12374" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCacheMemory.html#a0c3e90f32ef2e92b91ca006d44c12374">m_is_instruction_only_cache</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7599697a6c831356525c7d97604edd31"></a><!-- doxytag: member="CacheMemory::m_latency" ref="a7599697a6c831356525c7d97604edd31" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCycles.html">Cycles</a> <a class="el" href="classCacheMemory.html#a7599697a6c831356525c7d97604edd31">m_latency</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a89cf1f810dd6f5f9da8a2d588418ec49"></a><!-- doxytag: member="CacheMemory::m_policy" ref="a89cf1f810dd6f5f9da8a2d588418ec49" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classCacheMemory.html#a89cf1f810dd6f5f9da8a2d588418ec49">m_policy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a549248150d50bed3e4d815869edee7de"></a><!-- doxytag: member="CacheMemory::m_prefetches" ref="a549248150d50bed3e4d815869edee7de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Formula.html">Stats::Formula</a> <a class="el" href="classCacheMemory.html#a549248150d50bed3e4d815869edee7de">m_prefetches</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a37cdae2a2fe6c2b1a976cf8b3ae19f18"></a><!-- doxytag: member="CacheMemory::m_replacementPolicy_ptr" ref="a37cdae2a2fe6c2b1a976cf8b3ae19f18" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAbstractReplacementPolicy.html">AbstractReplacementPolicy</a>* <a class="el" href="classCacheMemory.html#a37cdae2a2fe6c2b1a976cf8b3ae19f18">m_replacementPolicy_ptr</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa08c2cb7bf60a80e6be95267b1060509"></a><!-- doxytag: member="CacheMemory::m_resource_stalls" ref="aa08c2cb7bf60a80e6be95267b1060509" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCacheMemory.html#aa08c2cb7bf60a80e6be95267b1060509">m_resource_stalls</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab350a6d3428acab3678b17bbd2d00c4b"></a><!-- doxytag: member="CacheMemory::m_start_index_bit" ref="ab350a6d3428acab3678b17bbd2d00c4b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCacheMemory.html#ab350a6d3428acab3678b17bbd2d00c4b">m_start_index_bit</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af2b41944a982febf9af12d438f137b87"></a><!-- doxytag: member="CacheMemory::m_sw_prefetches" ref="af2b41944a982febf9af12d438f137b87" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classCacheMemory.html#af2b41944a982febf9af12d438f137b87">m_sw_prefetches</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a546a29030c6970bfbc1197ae75826bc4"></a><!-- doxytag: member="CacheMemory::m_tag_index" ref="a546a29030c6970bfbc1197ae75826bc4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">m5::hash_map&lt;<a class="el" href="classAddress.html">Address</a>, int&gt; <a class="el" href="classCacheMemory.html#a546a29030c6970bfbc1197ae75826bc4">m_tag_index</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0f63a1bbaf1dee7c23ab3ac06a80d775"></a><!-- doxytag: member="CacheMemory::numDataArrayReads" ref="a0f63a1bbaf1dee7c23ab3ac06a80d775" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classCacheMemory.html#a0f63a1bbaf1dee7c23ab3ac06a80d775">numDataArrayReads</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4034a29f6d2be3493f40aaa13ca6c77a"></a><!-- doxytag: member="CacheMemory::numDataArrayStalls" ref="a4034a29f6d2be3493f40aaa13ca6c77a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classCacheMemory.html#a4034a29f6d2be3493f40aaa13ca6c77a">numDataArrayStalls</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a97557f8d2f957731bdea9fd4537a140e"></a><!-- doxytag: member="CacheMemory::numDataArrayWrites" ref="a97557f8d2f957731bdea9fd4537a140e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classCacheMemory.html#a97557f8d2f957731bdea9fd4537a140e">numDataArrayWrites</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3e723404e0119a13e13ca25460179249"></a><!-- doxytag: member="CacheMemory::numTagArrayReads" ref="a3e723404e0119a13e13ca25460179249" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classCacheMemory.html#a3e723404e0119a13e13ca25460179249">numTagArrayReads</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa8cfd5b3d3480062677e2229d8573483"></a><!-- doxytag: member="CacheMemory::numTagArrayStalls" ref="aa8cfd5b3d3480062677e2229d8573483" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classCacheMemory.html#aa8cfd5b3d3480062677e2229d8573483">numTagArrayStalls</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3e43debd337a55436570324681b20000"></a><!-- doxytag: member="CacheMemory::numTagArrayWrites" ref="a3e43debd337a55436570324681b20000" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classCacheMemory.html#a3e43debd337a55436570324681b20000">numTagArrayWrites</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a68d742104ef77f83fee4d7832cc873fe"></a><!-- doxytag: member="CacheMemory::tagArray" ref="a68d742104ef77f83fee4d7832cc873fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBankedArray.html">BankedArray</a> <a class="el" href="classCacheMemory.html#a68d742104ef77f83fee4d7832cc873fe">tagArray</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>mem/ruby/system/<a class="el" href="CacheMemory_8hh_source.html">CacheMemory.hh</a></li>
<li>mem/ruby/system/<a class="el" href="CacheMemory_8cc.html">CacheMemory.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
