<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス FaultModel</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス FaultModel</h1><!-- doxytag: class="FaultModel" --><!-- doxytag: inherits="SimObject" -->
<p><code>#include &lt;<a class="el" href="FaultModel_8hh_source.html">FaultModel.hh</a>&gt;</code></p>
<div class="dynheader">
FaultModelに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classFaultModel.gif" usemap="#FaultModel_map" alt=""/>
  <map id="FaultModel_map" name="FaultModel_map">
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="105,56,200,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,95,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="105,0,200,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="210,0,305,24"/>
</map>
 </div>
</div>

<p><a href="classFaultModel-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel_1_1FaultModel.html">FaultModel</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFaultModel_1_1system__conf.html">system_conf</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5f">fault_type</a> { <br/>
&nbsp;&nbsp;<a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa5e3d5701e1e7ad68ef8ce6e61b343135">data_corruption__few_bits</a>, 
<a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fab3d1223d794fade671b2f63bc14a87e0">data_corruption__all_bits</a>, 
<a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa2c8ad4552f3e7e28c7f43164f0cedea8">flit_conservation__flit_duplication</a>, 
<a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fadb758411e26971d262e497483d6becf7">flit_conservation__flit_loss_or_split</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa78688a71f46ef6d5c915dacbbe65e564">misrouting</a>, 
<a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5faf319483361a14b6983f1e35359bc9afc">credit_conservation__credit_generation</a>, 
<a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fae7401498e51398da99c21cb2e0acf056">credit_conservation__credit_loss</a>, 
<a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa40686ec21bc4f76a8013d2602a0b44c9">erroneous_allocation__VC</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa5037400f494a1f7f958dbf08e78bd457">erroneous_allocation__switch</a>, 
<a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa6bef1f2c7d102fec7019aa0cb548a275">unfair_arbitration</a>, 
<a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa8fd6d2a4b94af175b1e18503d1f2200f">number_of_fault_types</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21f">conf_record_format</a> { <br/>
&nbsp;&nbsp;<a class="el" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fa661e3c1c70f1697835634d6120c27fba">conf_record_buff_per_vc</a>, 
<a class="el" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21faddfdcf5391cbdeaa8eddaced808b95c1">conf_record_vcs</a>, 
<a class="el" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fae775c7c2b6014dd0e7cf2a21110a1439">conf_record_first_fault_type</a>, 
<a class="el" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fae0a9a36ceaa84ed33759c149e73175db">conf_record_last_fault_type</a> =  conf_record_first_fault_type + number_of_fault_types - 1, 
<br/>
&nbsp;&nbsp;<a class="el" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fa07bd82f54a5768393897ffc8ac9cc552">fields_per_conf_record</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#a84543b68245449294e82d04eb844d743">temperature_record_format</a> { <a class="el" href="classFaultModel.html#a84543b68245449294e82d04eb844d743a403451297f147cd7d99fb6d8551c85bb">temperature_record_temp</a>, 
<a class="el" href="classFaultModel.html#a84543b68245449294e82d04eb844d743a9c15194df607ea0aa56be4487a131c7d">temperature_record_weight</a>, 
<a class="el" href="classFaultModel.html#a84543b68245449294e82d04eb844d743a188f80d79d5384c287be5edd519c6d8a">fields_per_temperature_record</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef FaultModelParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#a7375aa39205bda869bcfb089a9163679">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#ad0752b1f7980300e4978b8ed20041fdc">FaultModel</a> (const <a class="el" href="classFaultModel.html#a7375aa39205bda869bcfb089a9163679">Params</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classFaultModel.html#a7375aa39205bda869bcfb089a9163679">Params</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#a9b0afb8ab704de6844484a41ecbad75f">declare_router</a> (int number_of_inputs, int number_of_outputs, int number_of_vcs_per_vnet, int number_of_buff_per_data_vc, int number_of_buff_per_ctrl_vc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#a0b3a049c6918c05b4fb8a7702d65dd93">fault_type_to_string</a> (int fault_type_index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#a25ca83d60796d678cc73f46c3553368b">fault_vector</a> (int routerID, int temperature, float fault_vector[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#ac7d54b266bf5b3e7b3054fdd875d89df">fault_prob</a> (int routerID, int temperature, float *aggregate_fault_prob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#a7e8442e7139d840c15bdee83789f7ae8">print</a> (void)</td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="structFaultModel_1_1system__conf.html">system_conf</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#aa04aa52748b59c0c6e94daec54d0b10e">configurations</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="structFaultModel_1_1system__conf.html">system_conf</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#a3f1d61888ea857f30c7c8767847c2483">routers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a></td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="a7375aa39205bda869bcfb089a9163679"></a><!-- doxytag: member="FaultModel::Params" ref="a7375aa39205bda869bcfb089a9163679" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef FaultModelParams <a class="el" href="classFaultModel.html#a7375aa39205bda869bcfb089a9163679">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSimObject.html#a0f0761d2db586a23bb2a2880b8f387bb">SimObject</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>列挙型</h2>
<a class="anchor" id="a892d29ada597232548383eb62e8cf21f"></a><!-- doxytag: member="FaultModel::conf_record_format" ref="a892d29ada597232548383eb62e8cf21f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21f">conf_record_format</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a892d29ada597232548383eb62e8cf21fa661e3c1c70f1697835634d6120c27fba"></a><!-- doxytag: member="conf_record_buff_per_vc" ref="a892d29ada597232548383eb62e8cf21fa661e3c1c70f1697835634d6120c27fba" args="" -->conf_record_buff_per_vc</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a892d29ada597232548383eb62e8cf21faddfdcf5391cbdeaa8eddaced808b95c1"></a><!-- doxytag: member="conf_record_vcs" ref="a892d29ada597232548383eb62e8cf21faddfdcf5391cbdeaa8eddaced808b95c1" args="" -->conf_record_vcs</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a892d29ada597232548383eb62e8cf21fae775c7c2b6014dd0e7cf2a21110a1439"></a><!-- doxytag: member="conf_record_first_fault_type" ref="a892d29ada597232548383eb62e8cf21fae775c7c2b6014dd0e7cf2a21110a1439" args="" -->conf_record_first_fault_type</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a892d29ada597232548383eb62e8cf21fae0a9a36ceaa84ed33759c149e73175db"></a><!-- doxytag: member="conf_record_last_fault_type" ref="a892d29ada597232548383eb62e8cf21fae0a9a36ceaa84ed33759c149e73175db" args="" -->conf_record_last_fault_type</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a892d29ada597232548383eb62e8cf21fa07bd82f54a5768393897ffc8ac9cc552"></a><!-- doxytag: member="fields_per_conf_record" ref="a892d29ada597232548383eb62e8cf21fa07bd82f54a5768393897ffc8ac9cc552" args="" -->fields_per_conf_record</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00086"></a>00086     {
<a name="l00087"></a>00087         <a class="code" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fa661e3c1c70f1697835634d6120c27fba">conf_record_buff_per_vc</a>,
<a name="l00088"></a>00088         <a class="code" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21faddfdcf5391cbdeaa8eddaced808b95c1">conf_record_vcs</a>,
<a name="l00089"></a>00089         <a class="code" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fae775c7c2b6014dd0e7cf2a21110a1439">conf_record_first_fault_type</a>,
<a name="l00090"></a>00090         <a class="code" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fae0a9a36ceaa84ed33759c149e73175db">conf_record_last_fault_type</a> = conf_record_first_fault_type + <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa8fd6d2a4b94af175b1e18503d1f2200f">number_of_fault_types</a> - 1,
<a name="l00091"></a>00091         <a class="code" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fa07bd82f54a5768393897ffc8ac9cc552">fields_per_conf_record</a>
<a name="l00092"></a>00092     };
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5f"></a><!-- doxytag: member="FaultModel::fault_type" ref="ad671111bc5a7e95e40340cfe3fb42f5f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5f">fault_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5fa5e3d5701e1e7ad68ef8ce6e61b343135"></a><!-- doxytag: member="data_corruption__few_bits" ref="ad671111bc5a7e95e40340cfe3fb42f5fa5e3d5701e1e7ad68ef8ce6e61b343135" args="" -->data_corruption__few_bits</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5fab3d1223d794fade671b2f63bc14a87e0"></a><!-- doxytag: member="data_corruption__all_bits" ref="ad671111bc5a7e95e40340cfe3fb42f5fab3d1223d794fade671b2f63bc14a87e0" args="" -->data_corruption__all_bits</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5fa2c8ad4552f3e7e28c7f43164f0cedea8"></a><!-- doxytag: member="flit_conservation__flit_duplication" ref="ad671111bc5a7e95e40340cfe3fb42f5fa2c8ad4552f3e7e28c7f43164f0cedea8" args="" -->flit_conservation__flit_duplication</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5fadb758411e26971d262e497483d6becf7"></a><!-- doxytag: member="flit_conservation__flit_loss_or_split" ref="ad671111bc5a7e95e40340cfe3fb42f5fadb758411e26971d262e497483d6becf7" args="" -->flit_conservation__flit_loss_or_split</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5fa78688a71f46ef6d5c915dacbbe65e564"></a><!-- doxytag: member="misrouting" ref="ad671111bc5a7e95e40340cfe3fb42f5fa78688a71f46ef6d5c915dacbbe65e564" args="" -->misrouting</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5faf319483361a14b6983f1e35359bc9afc"></a><!-- doxytag: member="credit_conservation__credit_generation" ref="ad671111bc5a7e95e40340cfe3fb42f5faf319483361a14b6983f1e35359bc9afc" args="" -->credit_conservation__credit_generation</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5fae7401498e51398da99c21cb2e0acf056"></a><!-- doxytag: member="credit_conservation__credit_loss" ref="ad671111bc5a7e95e40340cfe3fb42f5fae7401498e51398da99c21cb2e0acf056" args="" -->credit_conservation__credit_loss</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5fa40686ec21bc4f76a8013d2602a0b44c9"></a><!-- doxytag: member="erroneous_allocation__VC" ref="ad671111bc5a7e95e40340cfe3fb42f5fa40686ec21bc4f76a8013d2602a0b44c9" args="" -->erroneous_allocation__VC</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5fa5037400f494a1f7f958dbf08e78bd457"></a><!-- doxytag: member="erroneous_allocation__switch" ref="ad671111bc5a7e95e40340cfe3fb42f5fa5037400f494a1f7f958dbf08e78bd457" args="" -->erroneous_allocation__switch</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5fa6bef1f2c7d102fec7019aa0cb548a275"></a><!-- doxytag: member="unfair_arbitration" ref="ad671111bc5a7e95e40340cfe3fb42f5fa6bef1f2c7d102fec7019aa0cb548a275" args="" -->unfair_arbitration</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad671111bc5a7e95e40340cfe3fb42f5fa8fd6d2a4b94af175b1e18503d1f2200f"></a><!-- doxytag: member="number_of_fault_types" ref="ad671111bc5a7e95e40340cfe3fb42f5fa8fd6d2a4b94af175b1e18503d1f2200f" args="" -->number_of_fault_types</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00067"></a>00067     {
<a name="l00068"></a>00068         <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa5e3d5701e1e7ad68ef8ce6e61b343135">data_corruption__few_bits</a>,
<a name="l00069"></a>00069         <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fab3d1223d794fade671b2f63bc14a87e0">data_corruption__all_bits</a>,
<a name="l00070"></a>00070         <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa2c8ad4552f3e7e28c7f43164f0cedea8">flit_conservation__flit_duplication</a>,
<a name="l00071"></a>00071         <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fadb758411e26971d262e497483d6becf7">flit_conservation__flit_loss_or_split</a>,
<a name="l00072"></a>00072         <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa78688a71f46ef6d5c915dacbbe65e564">misrouting</a>,
<a name="l00073"></a>00073         <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5faf319483361a14b6983f1e35359bc9afc">credit_conservation__credit_generation</a>,
<a name="l00074"></a>00074         <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fae7401498e51398da99c21cb2e0acf056">credit_conservation__credit_loss</a>,
<a name="l00075"></a>00075         <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa40686ec21bc4f76a8013d2602a0b44c9">erroneous_allocation__VC</a>,
<a name="l00076"></a>00076         <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa5037400f494a1f7f958dbf08e78bd457">erroneous_allocation__switch</a>,
<a name="l00077"></a>00077         <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa6bef1f2c7d102fec7019aa0cb548a275">unfair_arbitration</a>,
<a name="l00078"></a>00078         <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa8fd6d2a4b94af175b1e18503d1f2200f">number_of_fault_types</a>
<a name="l00079"></a>00079     };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a84543b68245449294e82d04eb844d743"></a><!-- doxytag: member="FaultModel::temperature_record_format" ref="a84543b68245449294e82d04eb844d743" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classFaultModel.html#a84543b68245449294e82d04eb844d743">temperature_record_format</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a84543b68245449294e82d04eb844d743a403451297f147cd7d99fb6d8551c85bb"></a><!-- doxytag: member="temperature_record_temp" ref="a84543b68245449294e82d04eb844d743a403451297f147cd7d99fb6d8551c85bb" args="" -->temperature_record_temp</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a84543b68245449294e82d04eb844d743a9c15194df607ea0aa56be4487a131c7d"></a><!-- doxytag: member="temperature_record_weight" ref="a84543b68245449294e82d04eb844d743a9c15194df607ea0aa56be4487a131c7d" args="" -->temperature_record_weight</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a84543b68245449294e82d04eb844d743a188f80d79d5384c287be5edd519c6d8a"></a><!-- doxytag: member="fields_per_temperature_record" ref="a84543b68245449294e82d04eb844d743a188f80d79d5384c287be5edd519c6d8a" args="" -->fields_per_temperature_record</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00095"></a>00095     {
<a name="l00096"></a>00096         <a class="code" href="classFaultModel.html#a84543b68245449294e82d04eb844d743a403451297f147cd7d99fb6d8551c85bb">temperature_record_temp</a>,
<a name="l00097"></a>00097         <a class="code" href="classFaultModel.html#a84543b68245449294e82d04eb844d743a9c15194df607ea0aa56be4487a131c7d">temperature_record_weight</a>,
<a name="l00098"></a>00098         <a class="code" href="classFaultModel.html#a84543b68245449294e82d04eb844d743a188f80d79d5384c287be5edd519c6d8a">fields_per_temperature_record</a>
<a name="l00099"></a>00099     };
</pre></div></p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="ad0752b1f7980300e4978b8ed20041fdc"></a><!-- doxytag: member="FaultModel::FaultModel" ref="ad0752b1f7980300e4978b8ed20041fdc" args="(const Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFaultModel_1_1FaultModel.html">FaultModel</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFaultModel.html#a7375aa39205bda869bcfb089a9163679">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00055"></a>00055                                       : <a class="code" href="classSimObject.html#a153e2844edadce7c286efc5e3a7da911">SimObject</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>)
<a name="l00056"></a>00056 {
<a name="l00057"></a>00057     <span class="comment">// read configurations into &quot;configurations&quot; vector</span>
<a name="l00058"></a>00058     <span class="comment">// format: &lt;buff/vc&gt; &lt;vcs&gt; &lt;10 fault types&gt; </span>
<a name="l00059"></a>00059     <span class="keywordtype">bool</span> more_records = <span class="keyword">true</span>;
<a name="l00060"></a>00060     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; more_records; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> += (<a class="code" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fa07bd82f54a5768393897ffc8ac9cc552">fields_per_conf_record</a>)){
<a name="l00061"></a>00061         system_conf configuration;
<a name="l00062"></a>00062         configuration.buff_per_vc = 
<a name="l00063"></a>00063             <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;baseline_fault_vector_database[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> + <a class="code" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fa661e3c1c70f1697835634d6120c27fba">conf_record_buff_per_vc</a>];
<a name="l00064"></a>00064         configuration.vcs = 
<a name="l00065"></a>00065             <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;baseline_fault_vector_database[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> + <a class="code" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21faddfdcf5391cbdeaa8eddaced808b95c1">conf_record_vcs</a>];
<a name="l00066"></a>00066         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> fault_index = 0; fault_index &lt; <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa8fd6d2a4b94af175b1e18503d1f2200f">number_of_fault_types</a>; 
<a name="l00067"></a>00067             fault_index++){
<a name="l00068"></a>00068             configuration.fault_type[fault_index] = 
<a name="l00069"></a>00069                 <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;baseline_fault_vector_database[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> + 
<a name="l00070"></a>00070                    <a class="code" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fae775c7c2b6014dd0e7cf2a21110a1439">conf_record_first_fault_type</a> + fault_index] / 100;
<a name="l00071"></a>00071         }
<a name="l00072"></a>00072         <a class="code" href="classFaultModel.html#aa04aa52748b59c0c6e94daec54d0b10e">configurations</a>.push_back(configuration);
<a name="l00073"></a>00073         <span class="keywordflow">if</span> (<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;baseline_fault_vector_database[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>+<a class="code" href="classFaultModel.html#a892d29ada597232548383eb62e8cf21fa07bd82f54a5768393897ffc8ac9cc552">fields_per_conf_record</a>] &lt; 0){
<a name="l00074"></a>00074             more_records = <span class="keyword">false</span>;
<a name="l00075"></a>00075         }
<a name="l00076"></a>00076     }
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <span class="comment">// read temperature weights into &quot;temperature_weights&quot; vector</span>
<a name="l00079"></a>00079     <span class="comment">// format: &lt;temperature&gt; &lt;weight&gt;</span>
<a name="l00080"></a>00080     more_records = <span class="keyword">true</span>;
<a name="l00081"></a>00081     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; more_records; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> += (<a class="code" href="classFaultModel.html#a84543b68245449294e82d04eb844d743a188f80d79d5384c287be5edd519c6d8a">fields_per_temperature_record</a>)){
<a name="l00082"></a>00082         <span class="keywordtype">int</span> record_temperature = 
<a name="l00083"></a>00083                <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;temperature_weights_database[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> + <a class="code" href="classFaultModel.html#a84543b68245449294e82d04eb844d743a403451297f147cd7d99fb6d8551c85bb">temperature_record_temp</a>];
<a name="l00084"></a>00084         <span class="keywordtype">int</span> record_weight =
<a name="l00085"></a>00085                <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;temperature_weights_database[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> + <a class="code" href="classFaultModel.html#a84543b68245449294e82d04eb844d743a9c15194df607ea0aa56be4487a131c7d">temperature_record_weight</a>];
<a name="l00086"></a>00086         <span class="keyword">static</span> <span class="keywordtype">int</span> first_record = <span class="keyword">true</span>;
<a name="l00087"></a>00087         <span class="keywordflow">if</span> (first_record){
<a name="l00088"></a>00088             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> temperature = 0; temperature &lt; record_temperature; 
<a name="l00089"></a>00089                  temperature++){
<a name="l00090"></a>00090                  <a class="code" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a>.push_back(0);
<a name="l00091"></a>00091             }
<a name="l00092"></a>00092             first_record = <span class="keyword">false</span>;
<a name="l00093"></a>00093         }
<a name="l00094"></a>00094         assert(record_temperature == <a class="code" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a>.size());
<a name="l00095"></a>00095         <a class="code" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a>.push_back(record_weight);
<a name="l00096"></a>00096         <span class="keywordflow">if</span> (<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;temperature_weights_database[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> + 
<a name="l00097"></a>00097                <a class="code" href="classFaultModel.html#a84543b68245449294e82d04eb844d743a188f80d79d5384c287be5edd519c6d8a">fields_per_temperature_record</a>] &lt; 0){
<a name="l00098"></a>00098             more_records = <span class="keyword">false</span>;
<a name="l00099"></a>00099         }
<a name="l00100"></a>00100     }
<a name="l00101"></a>00101 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a9b0afb8ab704de6844484a41ecbad75f"></a><!-- doxytag: member="FaultModel::declare_router" ref="a9b0afb8ab704de6844484a41ecbad75f" args="(int number_of_inputs, int number_of_outputs, int number_of_vcs_per_vnet, int number_of_buff_per_data_vc, int number_of_buff_per_ctrl_vc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int declare_router </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>number_of_inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>number_of_outputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>number_of_vcs_per_vnet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>number_of_buff_per_data_vc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>number_of_buff_per_ctrl_vc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00140"></a>00140 {
<a name="l00141"></a>00141     <span class="comment">// check inputs (are they legal?)</span>
<a name="l00142"></a>00142     <span class="keywordflow">if</span> (number_of_inputs &lt;= 0 || number_of_outputs &lt;= 0 ||
<a name="l00143"></a>00143         number_of_vcs_per_input &lt;= 0 || number_of_buff_per_data_vc &lt;= 0 || 
<a name="l00144"></a>00144         number_of_buff_per_ctrl_vc &lt;= 0){
<a name="l00145"></a>00145         <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;Fault Model: ERROR in argument of FaultModel_declare_router!&quot;</span>);
<a name="l00146"></a>00146     }
<a name="l00147"></a>00147     <span class="keywordtype">int</span> number_of_buffers_per_vc = <a class="code" href="FaultModel_8cc.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(number_of_buff_per_data_vc,
<a name="l00148"></a>00148                                        number_of_buff_per_ctrl_vc);
<a name="l00149"></a>00149     <span class="keywordtype">int</span> total_vcs = number_of_inputs * number_of_vcs_per_input;
<a name="l00150"></a>00150     <span class="keywordflow">if</span> (total_vcs &gt; <a class="code" href="FaultModel_8hh.html#a9a3db37b47be93a561643b04afb37303">MAX_VCs</a>){
<a name="l00151"></a>00151         <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;Fault Model: ERROR! Number inputs*VCs (MAX_VCs) unsupported&quot;</span>);
<a name="l00152"></a>00152     }
<a name="l00153"></a>00153     <span class="keywordflow">if</span> (number_of_buffers_per_vc &gt; <a class="code" href="FaultModel_8hh.html#ae962d9d6a16983055ca17865b95be5f1">MAX_BUFFERS_per_VC</a>){
<a name="l00154"></a>00154         <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;Fault Model: ERROR! buffers/VC (MAX_BUFFERS_per_VC) too high&quot;</span>);
<a name="l00155"></a>00155     }
<a name="l00156"></a>00156 
<a name="l00157"></a>00157     <span class="comment">// link the router to a DB record</span>
<a name="l00158"></a>00158     <span class="keywordtype">int</span> record_hit = -1;
<a name="l00159"></a>00159     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> record = 0; record &lt; <a class="code" href="classFaultModel.html#aa04aa52748b59c0c6e94daec54d0b10e">configurations</a>.size(); record++){    
<a name="l00160"></a>00160         <span class="keywordflow">if</span> ((<a class="code" href="classFaultModel.html#aa04aa52748b59c0c6e94daec54d0b10e">configurations</a>[record].buff_per_vc == number_of_buffers_per_vc)&amp;&amp;
<a name="l00161"></a>00161             (<a class="code" href="classFaultModel.html#aa04aa52748b59c0c6e94daec54d0b10e">configurations</a>[record].vcs == total_vcs)){
<a name="l00162"></a>00162             record_hit = record;
<a name="l00163"></a>00163         }
<a name="l00164"></a>00164     }
<a name="l00165"></a>00165     <span class="keywordflow">if</span> (record_hit == -1){
<a name="l00166"></a>00166         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Fault Model: ERROR! configuration not found in DB. BUG?&quot;</span>);
<a name="l00167"></a>00167     }
<a name="l00168"></a>00168 
<a name="l00169"></a>00169     <span class="comment">// remember the router and return its ID</span>
<a name="l00170"></a>00170     <a class="code" href="classFaultModel.html#a3f1d61888ea857f30c7c8767847c2483">routers</a>.push_back(<a class="code" href="classFaultModel.html#aa04aa52748b59c0c6e94daec54d0b10e">configurations</a>[record_hit]);
<a name="l00171"></a>00171     <span class="keyword">static</span> <span class="keywordtype">int</span> router_index = 0;
<a name="l00172"></a>00172     <span class="keywordflow">return</span> router_index++;
<a name="l00173"></a>00173 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac7d54b266bf5b3e7b3054fdd875d89df"></a><!-- doxytag: member="FaultModel::fault_prob" ref="ac7d54b266bf5b3e7b3054fdd875d89df" args="(int routerID, int temperature, float *aggregate_fault_prob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fault_prob </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>routerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>temperature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>aggregate_fault_prob</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00214"></a>00214 {
<a name="l00215"></a>00215     *aggregate_fault_prob = 1.0;
<a name="l00216"></a>00216     <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218     <span class="comment">// is the routerID recorded?</span>
<a name="l00219"></a>00219     <span class="keywordflow">if</span> (routerID &lt; 0 || routerID &gt;= ((<span class="keywordtype">int</span>) <a class="code" href="classFaultModel.html#a3f1d61888ea857f30c7c8767847c2483">routers</a>.size())){
<a name="l00220"></a>00220          <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a>(<span class="stringliteral">&quot;Fault Model: ERROR! unknown router ID argument.&quot;</span>);
<a name="l00221"></a>00221         <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;Fault Model: Did you enable the fault model flag)?&quot;</span>);     
<a name="l00222"></a>00222     }
<a name="l00223"></a>00223 
<a name="l00224"></a>00224     <span class="comment">// is the temperature too high/too low?</span>
<a name="l00225"></a>00225     <span class="keywordtype">int</span> temperature = temperature_input;
<a name="l00226"></a>00226     <span class="keywordflow">if</span> (temperature_input &gt;= ((<span class="keywordtype">int</span>) <a class="code" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a>.size()) ){
<a name="l00227"></a>00227         ok = <span class="keyword">false</span>;
<a name="l00228"></a>00228         <a class="code" href="base_2misc_8hh.html#abb243c15dfbeedf4ae64aa213f4f18c7">warn_once</a>(<span class="stringliteral">&quot;Fault Model: Temperature exceeded simulated upper bound.&quot;</span>);
<a name="l00229"></a>00229         <a class="code" href="base_2misc_8hh.html#abb243c15dfbeedf4ae64aa213f4f18c7">warn_once</a>(<span class="stringliteral">&quot;Fault Model: The fault model is not accurate any more.&quot;</span>);
<a name="l00230"></a>00230         temperature = (<a class="code" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a>.size()-1);
<a name="l00231"></a>00231     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (temperature_input &lt; 0){
<a name="l00232"></a>00232         ok = <span class="keyword">false</span>;
<a name="l00233"></a>00233         <a class="code" href="base_2misc_8hh.html#abb243c15dfbeedf4ae64aa213f4f18c7">warn_once</a>(<span class="stringliteral">&quot;Fault Model: Temperature exceeded simulated lower bound.&quot;</span>);
<a name="l00234"></a>00234         <a class="code" href="base_2misc_8hh.html#abb243c15dfbeedf4ae64aa213f4f18c7">warn_once</a>(<span class="stringliteral">&quot;Fault Model: The fault model is not accurate any more.&quot;</span>);
<a name="l00235"></a>00235         temperature = 0;
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238     <span class="comment">// recover the router record and return its aggregate fault probability</span>
<a name="l00239"></a>00239     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa8fd6d2a4b94af175b1e18503d1f2200f">number_of_fault_types</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++){
<a name="l00240"></a>00240         *aggregate_fault_prob=  *aggregate_fault_prob * 
<a name="l00241"></a>00241                                ( 1.0 - (<a class="code" href="classFaultModel.html#a3f1d61888ea857f30c7c8767847c2483">routers</a>[routerID].fault_type[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] * 
<a name="l00242"></a>00242                                  ((float)<a class="code" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a>[temperature])) );
<a name="l00243"></a>00243     }
<a name="l00244"></a>00244     *aggregate_fault_prob = 1.0 - *aggregate_fault_prob;
<a name="l00245"></a>00245     <span class="keywordflow">return</span> ok;
<a name="l00246"></a>00246 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0b3a049c6918c05b4fb8a7702d65dd93"></a><!-- doxytag: member="FaultModel::fault_type_to_string" ref="a0b3a049c6918c05b4fb8a7702d65dd93" args="(int fault_type_index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string fault_type_to_string </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fault_type_index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00105"></a>00105 {
<a name="l00106"></a>00106    <span class="keywordflow">if</span> (ft == <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa5e3d5701e1e7ad68ef8ce6e61b343135">data_corruption__few_bits</a>){
<a name="l00107"></a>00107        <span class="keywordflow">return</span> <span class="stringliteral">&quot;data_corruption__few_bits&quot;</span>;
<a name="l00108"></a>00108    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ft == <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fab3d1223d794fade671b2f63bc14a87e0">data_corruption__all_bits</a>){
<a name="l00109"></a>00109       <span class="keywordflow">return</span> <span class="stringliteral">&quot;data_corruption__all_bits&quot;</span>;
<a name="l00110"></a>00110    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ft == <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa2c8ad4552f3e7e28c7f43164f0cedea8">flit_conservation__flit_duplication</a>){
<a name="l00111"></a>00111       <span class="keywordflow">return</span> <span class="stringliteral">&quot;flit_conservation__flit_duplication&quot;</span>;
<a name="l00112"></a>00112    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ft == <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fadb758411e26971d262e497483d6becf7">flit_conservation__flit_loss_or_split</a>){
<a name="l00113"></a>00113       <span class="keywordflow">return</span> <span class="stringliteral">&quot;flit_conservation__flit_loss_or_split&quot;</span>;
<a name="l00114"></a>00114    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ft == <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa78688a71f46ef6d5c915dacbbe65e564">misrouting</a>){
<a name="l00115"></a>00115       <span class="keywordflow">return</span> <span class="stringliteral">&quot;misrouting&quot;</span>;
<a name="l00116"></a>00116    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ft == <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5faf319483361a14b6983f1e35359bc9afc">credit_conservation__credit_generation</a>){
<a name="l00117"></a>00117       <span class="keywordflow">return</span> <span class="stringliteral">&quot;credit_conservation__credit_generation&quot;</span>;
<a name="l00118"></a>00118    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ft == <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fae7401498e51398da99c21cb2e0acf056">credit_conservation__credit_loss</a>){
<a name="l00119"></a>00119       <span class="keywordflow">return</span> <span class="stringliteral">&quot;credit_conservation__credit_loss&quot;</span>;
<a name="l00120"></a>00120    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ft == <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa40686ec21bc4f76a8013d2602a0b44c9">erroneous_allocation__VC</a>){
<a name="l00121"></a>00121       <span class="keywordflow">return</span> <span class="stringliteral">&quot;erroneous_allocation__VC&quot;</span>;
<a name="l00122"></a>00122    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ft == <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa5037400f494a1f7f958dbf08e78bd457">erroneous_allocation__switch</a>){
<a name="l00123"></a>00123       <span class="keywordflow">return</span> <span class="stringliteral">&quot;erroneous_allocation__switch&quot;</span>;
<a name="l00124"></a>00124    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ft == <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa6bef1f2c7d102fec7019aa0cb548a275">unfair_arbitration</a>){
<a name="l00125"></a>00125       <span class="keywordflow">return</span> <span class="stringliteral">&quot;unfair_arbitration&quot;</span>;
<a name="l00126"></a>00126    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ft == <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa8fd6d2a4b94af175b1e18503d1f2200f">number_of_fault_types</a>){
<a name="l00127"></a>00127       <span class="keywordflow">return</span> <span class="stringliteral">&quot;none&quot;</span>;
<a name="l00128"></a>00128    } <span class="keywordflow">else</span> {
<a name="l00129"></a>00129       <span class="keywordflow">return</span> <span class="stringliteral">&quot;none&quot;</span>;
<a name="l00130"></a>00130    }
<a name="l00131"></a>00131 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a25ca83d60796d678cc73f46c3553368b"></a><!-- doxytag: member="FaultModel::fault_vector" ref="a25ca83d60796d678cc73f46c3553368b" args="(int routerID, int temperature, float fault_vector[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fault_vector </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>routerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>temperature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>fault_vector</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00179"></a>00179 {
<a name="l00180"></a>00180     <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;
<a name="l00181"></a>00181 
<a name="l00182"></a>00182     <span class="comment">// is the routerID recorded?</span>
<a name="l00183"></a>00183     <span class="keywordflow">if</span> (routerID &lt; 0 || routerID &gt;= ((<span class="keywordtype">int</span>) <a class="code" href="classFaultModel.html#a3f1d61888ea857f30c7c8767847c2483">routers</a>.size())){
<a name="l00184"></a>00184          <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a>(<span class="stringliteral">&quot;Fault Model: ERROR! unknown router ID argument.&quot;</span>);
<a name="l00185"></a>00185         <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;Fault Model: Did you enable the fault model flag)?&quot;</span>);     
<a name="l00186"></a>00186     }
<a name="l00187"></a>00187 
<a name="l00188"></a>00188     <span class="comment">// is the temperature too high/too low?</span>
<a name="l00189"></a>00189     <span class="keywordtype">int</span> temperature = temperature_input;
<a name="l00190"></a>00190     <span class="keywordflow">if</span> (temperature_input &gt;= ((<span class="keywordtype">int</span>) <a class="code" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a>.size())){
<a name="l00191"></a>00191         ok = <span class="keyword">false</span>;
<a name="l00192"></a>00192         <a class="code" href="base_2misc_8hh.html#abb243c15dfbeedf4ae64aa213f4f18c7">warn_once</a>(<span class="stringliteral">&quot;Fault Model: Temperature exceeded simulated upper bound.&quot;</span>);
<a name="l00193"></a>00193         <a class="code" href="base_2misc_8hh.html#abb243c15dfbeedf4ae64aa213f4f18c7">warn_once</a>(<span class="stringliteral">&quot;Fault Model: The fault model is not accurate any more.&quot;</span>);
<a name="l00194"></a>00194         temperature = (<a class="code" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a>.size() - 1);
<a name="l00195"></a>00195     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (temperature_input &lt; 0){
<a name="l00196"></a>00196         ok = <span class="keyword">false</span>;
<a name="l00197"></a>00197         <a class="code" href="base_2misc_8hh.html#abb243c15dfbeedf4ae64aa213f4f18c7">warn_once</a>(<span class="stringliteral">&quot;Fault Model: Temperature exceeded simulated lower bound.&quot;</span>);
<a name="l00198"></a>00198         <a class="code" href="base_2misc_8hh.html#abb243c15dfbeedf4ae64aa213f4f18c7">warn_once</a>(<span class="stringliteral">&quot;Fault Model: The fault model is not accurate any more.&quot;</span>);
<a name="l00199"></a>00199         temperature = 0;
<a name="l00200"></a>00200     }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202     <span class="comment">// recover the router record and return its fault vector</span>
<a name="l00203"></a>00203     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa8fd6d2a4b94af175b1e18503d1f2200f">number_of_fault_types</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++){
<a name="l00204"></a>00204         <a class="code" href="classFaultModel.html#a25ca83d60796d678cc73f46c3553368b">fault_vector</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = <a class="code" href="classFaultModel.html#a3f1d61888ea857f30c7c8767847c2483">routers</a>[routerID].fault_type[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] * 
<a name="l00205"></a>00205                           ((float)<a class="code" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a>[temperature]);
<a name="l00206"></a>00206     }
<a name="l00207"></a>00207     <span class="keywordflow">return</span> ok;
<a name="l00208"></a>00208 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acd3c3feb78ae7a8f88fe0f110a718dff"></a><!-- doxytag: member="FaultModel::params" ref="acd3c3feb78ae7a8f88fe0f110a718dff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classFaultModel.html#a7375aa39205bda869bcfb089a9163679">Params</a>* params </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSimObject.html#acd3c3feb78ae7a8f88fe0f110a718dff">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00060"></a>00060 { <span class="keywordflow">return</span> (<span class="keyword">const</span> <a class="code" href="classFaultModel.html#a7375aa39205bda869bcfb089a9163679">Params</a> *)<a class="code" href="classSimObject.html#acaf6024ae9dda44bfb1c67e05ad70aef">_params</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7e8442e7139d840c15bdee83789f7ae8"></a><!-- doxytag: member="FaultModel::print" ref="a7e8442e7139d840c15bdee83789f7ae8" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00251"></a>00251 {
<a name="l00252"></a>00252     cout &lt;&lt; <span class="stringliteral">&quot;--- PRINTING configurations ---\n&quot;</span>;
<a name="l00253"></a>00253     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> record = 0; record &lt; <a class="code" href="classFaultModel.html#aa04aa52748b59c0c6e94daec54d0b10e">configurations</a>.size(); record++){
<a name="l00254"></a>00254         cout &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; record &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;
<a name="l00255"></a>00255         cout &lt;&lt; <span class="stringliteral">&quot;VCs=&quot;</span> &lt;&lt; <a class="code" href="classFaultModel.html#aa04aa52748b59c0c6e94daec54d0b10e">configurations</a>[record].vcs &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00256"></a>00256         cout &lt;&lt; <span class="stringliteral">&quot;Buff/VC=&quot;</span> &lt;&lt; <a class="code" href="classFaultModel.html#aa04aa52748b59c0c6e94daec54d0b10e">configurations</a>[record].buff_per_vc &lt;&lt; <span class="stringliteral">&quot; [&quot;</span>;
<a name="l00257"></a>00257         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> fault_type_num = 0; 
<a name="l00258"></a>00258              fault_type_num &lt; <a class="code" href="classFaultModel.html#ad671111bc5a7e95e40340cfe3fb42f5fa8fd6d2a4b94af175b1e18503d1f2200f">number_of_fault_types</a>; 
<a name="l00259"></a>00259              fault_type_num++){
<a name="l00260"></a>00260             cout &lt;&lt; (100 * <a class="code" href="classFaultModel.html#aa04aa52748b59c0c6e94daec54d0b10e">configurations</a>[record].fault_type[fault_type_num]); 
<a name="l00261"></a>00261             cout &lt;&lt; <span class="stringliteral">&quot;% &quot;</span>;
<a name="l00262"></a>00262         }
<a name="l00263"></a>00263         cout &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;
<a name="l00264"></a>00264     }
<a name="l00265"></a>00265     cout &lt;&lt; <span class="stringliteral">&quot;--- PRINTING temperature weights ---\n&quot;</span>;
<a name="l00266"></a>00266     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> record = 0; record &lt; <a class="code" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a>.size(); record++){
<a name="l00267"></a>00267         cout &lt;&lt; <span class="stringliteral">&quot;temperature=&quot;</span> &lt;&lt; record &lt;&lt; <span class="stringliteral">&quot; =&gt; &quot;</span>;
<a name="l00268"></a>00268         cout &lt;&lt; <span class="stringliteral">&quot;weight=&quot;</span> &lt;&lt; <a class="code" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a>[record];
<a name="l00269"></a>00269         cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00270"></a>00270     }
<a name="l00271"></a>00271 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="aa04aa52748b59c0c6e94daec54d0b10e"></a><!-- doxytag: member="FaultModel::configurations" ref="aa04aa52748b59c0c6e94daec54d0b10e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="structFaultModel_1_1system__conf.html">system_conf</a>&gt; <a class="el" href="classFaultModel.html#aa04aa52748b59c0c6e94daec54d0b10e">configurations</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3f1d61888ea857f30c7c8767847c2483"></a><!-- doxytag: member="FaultModel::routers" ref="a3f1d61888ea857f30c7c8767847c2483" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="structFaultModel_1_1system__conf.html">system_conf</a>&gt; <a class="el" href="classFaultModel.html#a3f1d61888ea857f30c7c8767847c2483">routers</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ada85c55ffa43379d698989a8ee5c0391"></a><!-- doxytag: member="FaultModel::temperature_weights" ref="ada85c55ffa43379d698989a8ee5c0391" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;int&gt; <a class="el" href="classFaultModel.html#ada85c55ffa43379d698989a8ee5c0391">temperature_weights</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>mem/ruby/network/fault_model/<a class="el" href="FaultModel_8hh_source.html">FaultModel.hh</a></li>
<li>mem/ruby/network/fault_model/<a class="el" href="FaultModel_8cc.html">FaultModel.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
