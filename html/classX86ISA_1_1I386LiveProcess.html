<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス I386LiveProcess</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceX86ISA.html">X86ISA</a>::<a class="el" href="classX86ISA_1_1I386LiveProcess.html">I386LiveProcess</a>
  </div>
</div>
<div class="contents">
<h1>クラス I386LiveProcess</h1><!-- doxytag: class="X86ISA::I386LiveProcess" --><!-- doxytag: inherits="X86ISA::X86LiveProcess" -->
<p><code>#include &lt;<a class="el" href="arch_2x86_2process_8hh_source.html">process.hh</a>&gt;</code></p>
<div class="dynheader">
I386LiveProcessに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classX86ISA_1_1I386LiveProcess.gif" usemap="#I386LiveProcess_map" alt=""/>
  <map id="I386LiveProcess_map" name="I386LiveProcess_map">
<area href="classX86ISA_1_1X86LiveProcess.html" alt="X86LiveProcess" shape="rect" coords="122,224,234,248"/>
<area href="classLiveProcess.html" alt="LiveProcess" shape="rect" coords="122,168,234,192"/>
<area href="classProcess.html" alt="Process" shape="rect" coords="122,112,234,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="122,56,234,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,112,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="122,0,234,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="244,0,356,24"/>
<area href="classX86ISA_1_1I386LinuxProcess.html" alt="I386LinuxProcess" shape="rect" coords="122,336,234,360"/>
</map>
 </div>
</div>

<p><a href="classX86ISA_1_1I386LiveProcess-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html">VSyscallPage</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I386LiveProcess.html#a60e5314ffeede1e51c6bcb2cf606ca92">argsInit</a> (int intSize, int pageSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I386LiveProcess.html#a3c34ea9b29f410748d4435a667484924">initState</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I386LiveProcess.html#a1ed38802271de4269c3adfa46c73e7e7">syscall</a> (int64_t callnum, <a class="el" href="classThreadContext.html">ThreadContext</a> *tc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceX86ISA.html#a0e080577527fb3e9685399f75b5caf15">X86ISA::IntReg</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I386LiveProcess.html#a6f33c62983b3e68106d1cdb43b9fc09c">getSyscallArg</a> (<a class="el" href="classThreadContext.html">ThreadContext</a> *tc, int &amp;i)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceX86ISA.html#a0e080577527fb3e9685399f75b5caf15">X86ISA::IntReg</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I386LiveProcess.html#afe872a4ad58edd7774a108ac2ff35d60">getSyscallArg</a> (<a class="el" href="classThreadContext.html">ThreadContext</a> *tc, int &amp;i, int width)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I386LiveProcess.html#a834e8e05416e3487f87d942259506abe">setSyscallArg</a> (<a class="el" href="classThreadContext.html">ThreadContext</a> *tc, int i, <a class="el" href="namespaceX86ISA.html#a0e080577527fb3e9685399f75b5caf15">X86ISA::IntReg</a> <a class="el" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>)</td></tr>
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I386LiveProcess.html#a6556f426be989188ef0a961836b3b490">I386LiveProcess</a> (LiveProcessParams *params, <a class="el" href="classObjectFile.html">ObjectFile</a> *<a class="el" href="classLiveProcess.html#ab6cfcfa7903c66267b3e0351c3caa809">objFile</a>, <a class="el" href="classSyscallDesc.html">SyscallDesc</a> *_syscallDescs, int _numSyscallDescs)</td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html">VSyscallPage</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a></td></tr>
</table>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a6556f426be989188ef0a961836b3b490"></a><!-- doxytag: member="X86ISA::I386LiveProcess::I386LiveProcess" ref="a6556f426be989188ef0a961836b3b490" args="(LiveProcessParams *params, ObjectFile *objFile, SyscallDesc *_syscallDescs, int _numSyscallDescs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1I386LiveProcess.html">I386LiveProcess</a> </td>
          <td>(</td>
          <td class="paramtype">LiveProcessParams *&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classObjectFile.html">ObjectFile</a> *&nbsp;</td>
          <td class="paramname"> <em>objFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSyscallDesc.html">SyscallDesc</a> *&nbsp;</td>
          <td class="paramname"> <em>_syscallDescs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_numSyscallDescs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00132"></a>00132                               :
<a name="l00133"></a>00133     <a class="code" href="classX86ISA_1_1X86LiveProcess.html#a6a12433fc14d1afa3744abbe3c019b7b">X86LiveProcess</a>(<a class="code" href="classSimObject.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>, objFile, _syscallDescs, _numSyscallDescs)
<a name="l00134"></a>00134 {
<a name="l00135"></a>00135     <a class="code" href="classX86ISA_1_1X86LiveProcess.html#ac5ecf9d163642401bfbd3a3c123e7588">_gdtStart</a> = <a class="code" href="base_2types_8hh.html#adcc3cf526a71c0dfaae020d432c78b83">ULL</a>(0xffffd000);
<a name="l00136"></a>00136     <a class="code" href="classX86ISA_1_1X86LiveProcess.html#a758d088d5e01acff75151eb6b1fd4a16">_gdtSize</a> = <a class="code" href="namespaceX86ISA.html#a891eaf95159d764e6efae501c2860a3a">VMPageSize</a>;
<a name="l00137"></a>00137 
<a name="l00138"></a>00138     <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#acbb25a86d519ae439e2d01ddb0b85357">base</a> = 0xffffe000<a class="code" href="base_2types_8hh.html#adcc3cf526a71c0dfaae020d432c78b83">ULL</a>;
<a name="l00139"></a>00139     <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#a8ce507144b5ef53350af753eafb669f0">size</a> = <a class="code" href="namespaceX86ISA.html#a891eaf95159d764e6efae501c2860a3a">VMPageSize</a>;
<a name="l00140"></a>00140     <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#a25e9c58aee3d0c9703241fa6050e180f">vsyscallOffset</a> = 0x400;
<a name="l00141"></a>00141     <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#a1e6ef77838358497dc782b098f3f027b">vsysexitOffset</a> = 0x410;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143     <a class="code" href="classProcess.html#a9301d238f8ee69de69d9a608f23b0ee2">stack_base</a> = <a class="code" href="classX86ISA_1_1X86LiveProcess.html#ac5ecf9d163642401bfbd3a3c123e7588">_gdtStart</a>;
<a name="l00144"></a>00144 
<a name="l00145"></a>00145     <span class="comment">// Set pointer for next thread stack.  Reserve 8M for main stack.</span>
<a name="l00146"></a>00146     <a class="code" href="classProcess.html#a55a3705006af6c58cba9f9a23ba89864">next_thread_stack_base</a> = <a class="code" href="classProcess.html#a9301d238f8ee69de69d9a608f23b0ee2">stack_base</a> - (8 * 1024 * 1024);
<a name="l00147"></a>00147 
<a name="l00148"></a>00148     <span class="comment">// Set up region for mmaps. This was determined empirically and may not</span>
<a name="l00149"></a>00149     <span class="comment">// always be correct.</span>
<a name="l00150"></a>00150     <a class="code" href="classProcess.html#a39ba573f8e6f0a0f33a82245af695ffc">mmap_start</a> = <a class="code" href="classProcess.html#a41a18edd0dbae5a7bb12e20a30c2e3e1">mmap_end</a> = (<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>)0xf7ffe000ULL;
<a name="l00151"></a>00151 }

</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a60e5314ffeede1e51c6bcb2cf606ca92"></a><!-- doxytag: member="X86ISA::I386LiveProcess::argsInit" ref="a60e5314ffeede1e51c6bcb2cf606ca92" args="(int intSize, int pageSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void argsInit </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>intSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pageSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00670"></a>00670 {
<a name="l00671"></a>00671     <a class="code" href="classstd_1_1vector.html">std::vector&lt;AuxVector&lt;uint32_t&gt;</a> &gt; extraAuxvs;
<a name="l00672"></a>00672     <span class="comment">//Tell the binary where the vsyscall part of the vsyscall page is.</span>
<a name="l00673"></a>00673     extraAuxvs.push_back(<a class="code" href="structAuxVector.html">AuxVector&lt;uint32_t&gt;</a>(<a class="code" href="namespaceX86ISA.html#a220a5701eb61c9715f2a66aa880d30b9a39296c9be5af2ec4edc9830fa3da5ee4">M5_AT_SYSINFO</a>,
<a name="l00674"></a>00674                 <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#acbb25a86d519ae439e2d01ddb0b85357">base</a> + <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#a25e9c58aee3d0c9703241fa6050e180f">vsyscallOffset</a>));
<a name="l00675"></a>00675     extraAuxvs.push_back(<a class="code" href="structAuxVector.html">AuxVector&lt;uint32_t&gt;</a>(<a class="code" href="namespaceX86ISA.html#a220a5701eb61c9715f2a66aa880d30b9abd0818adabbd02d06de1065979ec4691">M5_AT_SYSINFO_EHDR</a>,
<a name="l00676"></a>00676                 <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#acbb25a86d519ae439e2d01ddb0b85357">base</a>));
<a name="l00677"></a>00677     X86LiveProcess::argsInit&lt;uint32_t&gt;(pageSize, extraAuxvs);
<a name="l00678"></a>00678 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afe872a4ad58edd7774a108ac2ff35d60"></a><!-- doxytag: member="X86ISA::I386LiveProcess::getSyscallArg" ref="afe872a4ad58edd7774a108ac2ff35d60" args="(ThreadContext *tc, int &amp;i, int width)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceX86ISA.html#a0e080577527fb3e9685399f75b5caf15">X86ISA::IntReg</a> getSyscallArg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td>
          <td class="paramname"> <em>tc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classLiveProcess.html#a383f46521b8667b58a1275f2a3e2fda1">LiveProcess</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00709"></a>00709 {
<a name="l00710"></a>00710     assert(<a class="code" href="namespaceArmISA.html#a0da89c280130b84ae26405a901396428">width</a> == 32 || <a class="code" href="namespaceArmISA.html#a0da89c280130b84ae26405a901396428">width</a> == 64);
<a name="l00711"></a>00711     assert(<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="arch_2x86_2process_8cc.html#afce5b087d1b866c8f91317e6ddbe62dd">NumArgumentRegs</a>);
<a name="l00712"></a>00712     uint64_t retVal = tc-&gt;<a class="code" href="classThreadContext.html#af80734776d68e6acd48e22f6c999394a">readIntReg</a>(<a class="code" href="arch_2x86_2process_8cc.html#a21234b2bd5c54c61398b3eae42a7b474">ArgumentReg32</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++]) &amp; <a class="code" href="namespaceX86ISA.html#a5d76cc2129e79ba1941d2cc2f53b9e8e">mask</a>(32);
<a name="l00713"></a>00713     <span class="keywordflow">if</span> (<a class="code" href="namespaceArmISA.html#a0da89c280130b84ae26405a901396428">width</a> == 64)
<a name="l00714"></a>00714         retVal |= ((uint64_t)tc-&gt;<a class="code" href="classThreadContext.html#af80734776d68e6acd48e22f6c999394a">readIntReg</a>(<a class="code" href="arch_2x86_2process_8cc.html#af2bb90a23fc27d090cab65b3ade30883">ArgumentReg</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++]) &lt;&lt; 32);
<a name="l00715"></a>00715     <span class="keywordflow">return</span> retVal;
<a name="l00716"></a>00716 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6f33c62983b3e68106d1cdb43b9fc09c"></a><!-- doxytag: member="X86ISA::I386LiveProcess::getSyscallArg" ref="a6f33c62983b3e68106d1cdb43b9fc09c" args="(ThreadContext *tc, int &amp;i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceX86ISA.html#a0e080577527fb3e9685399f75b5caf15">X86ISA::IntReg</a> getSyscallArg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td>
          <td class="paramname"> <em>tc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>i</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classLiveProcess.html#aa001ff57ec460026facb89ba19c7bf96">LiveProcess</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00702"></a>00702 {
<a name="l00703"></a>00703     assert(<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="arch_2x86_2process_8cc.html#a605e4a54d04aa4907d4f3c339a4c4476">NumArgumentRegs32</a>);
<a name="l00704"></a>00704     <span class="keywordflow">return</span> tc-&gt;<a class="code" href="classThreadContext.html#af80734776d68e6acd48e22f6c999394a">readIntReg</a>(<a class="code" href="arch_2x86_2process_8cc.html#a21234b2bd5c54c61398b3eae42a7b474">ArgumentReg32</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++]);
<a name="l00705"></a>00705 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3c34ea9b29f410748d4435a667484924"></a><!-- doxytag: member="X86ISA::I386LiveProcess::initState" ref="a3c34ea9b29f410748d4435a667484924" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classX86ISA_1_1I386LiveProcess.html#a3c34ea9b29f410748d4435a667484924">initState()</a> is called on each <a class="el" href="classSimObject.html">SimObject</a> when *not* restoring from a checkpoint. This provides a hook for state initializations that are only required for a "cold start". </p>

<p><a class="el" href="classProcess.html#a3c34ea9b29f410748d4435a667484924">Process</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00258"></a>00258 {
<a name="l00259"></a>00259     <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a3c34ea9b29f410748d4435a667484924">X86LiveProcess::initState</a>();
<a name="l00260"></a>00260 
<a name="l00261"></a>00261     <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a60e5314ffeede1e51c6bcb2cf606ca92">argsInit</a>(<span class="keyword">sizeof</span>(<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>), <a class="code" href="namespaceX86ISA.html#a891eaf95159d764e6efae501c2860a3a">VMPageSize</a>);
<a name="l00262"></a>00262 
<a name="l00263"></a>00263     <span class="comment">/* </span>
<a name="l00264"></a>00264 <span class="comment">     * Set up a GDT for this process. The whole GDT wouldn&apos;t really be for</span>
<a name="l00265"></a>00265 <span class="comment">     * this process, but the only parts we care about are.</span>
<a name="l00266"></a>00266 <span class="comment">     */</span>
<a name="l00267"></a>00267     <a class="code" href="classProcess.html#aaebf8af407502fcc035e598795f77089">allocateMem</a>(<a class="code" href="classX86ISA_1_1X86LiveProcess.html#ac5ecf9d163642401bfbd3a3c123e7588">_gdtStart</a>, <a class="code" href="classX86ISA_1_1X86LiveProcess.html#a758d088d5e01acff75151eb6b1fd4a16">_gdtSize</a>);
<a name="l00268"></a>00268     uint64_t zero = 0;
<a name="l00269"></a>00269     assert(<a class="code" href="classX86ISA_1_1X86LiveProcess.html#a758d088d5e01acff75151eb6b1fd4a16">_gdtSize</a> % <span class="keyword">sizeof</span>(zero) == 0);
<a name="l00270"></a>00270     <span class="keywordflow">for</span> (<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> gdtCurrent = <a class="code" href="classX86ISA_1_1X86LiveProcess.html#ac5ecf9d163642401bfbd3a3c123e7588">_gdtStart</a>;
<a name="l00271"></a>00271             gdtCurrent &lt; <a class="code" href="classX86ISA_1_1X86LiveProcess.html#ac5ecf9d163642401bfbd3a3c123e7588">_gdtStart</a> + <a class="code" href="classX86ISA_1_1X86LiveProcess.html#a758d088d5e01acff75151eb6b1fd4a16">_gdtSize</a>; gdtCurrent += <span class="keyword">sizeof</span>(zero)) {
<a name="l00272"></a>00272         <a class="code" href="classProcess.html#a280be1c93dee29cd2c6d5d1502c60a9b" title="Memory proxy for initialization (image loading).">initVirtMem</a>.<a class="code" href="classPortProxy.html#ab308283d9164c7743ad1cb192a3f2e14">write</a>(gdtCurrent, zero);
<a name="l00273"></a>00273     }
<a name="l00274"></a>00274 
<a name="l00275"></a>00275     <span class="comment">// Set up the vsyscall page for this process.</span>
<a name="l00276"></a>00276     <a class="code" href="classProcess.html#aaebf8af407502fcc035e598795f77089">allocateMem</a>(<a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#acbb25a86d519ae439e2d01ddb0b85357">base</a>, <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#a8ce507144b5ef53350af753eafb669f0">size</a>);
<a name="l00277"></a>00277     uint8_t vsyscallBlob[] = {
<a name="l00278"></a>00278         0x51,       <span class="comment">// push %ecx</span>
<a name="l00279"></a>00279         0x52,       <span class="comment">// push %edp</span>
<a name="l00280"></a>00280         0x55,       <span class="comment">// push %ebp</span>
<a name="l00281"></a>00281         0x89, 0xe5, <span class="comment">// mov %esp, %ebp</span>
<a name="l00282"></a>00282         0x0f, 0x34  <span class="comment">// sysenter</span>
<a name="l00283"></a>00283     };
<a name="l00284"></a>00284     <a class="code" href="classProcess.html#a280be1c93dee29cd2c6d5d1502c60a9b" title="Memory proxy for initialization (image loading).">initVirtMem</a>.<a class="code" href="classSETranslatingPortProxy.html#ad2a72c978fca534c6afc8b0f6ac2fe19">writeBlob</a>(<a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#acbb25a86d519ae439e2d01ddb0b85357">base</a> + <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#a25e9c58aee3d0c9703241fa6050e180f">vsyscallOffset</a>,
<a name="l00285"></a>00285             vsyscallBlob, <span class="keyword">sizeof</span>(vsyscallBlob));
<a name="l00286"></a>00286 
<a name="l00287"></a>00287     uint8_t vsysexitBlob[] = {
<a name="l00288"></a>00288         0x5d,       <span class="comment">// pop %ebp</span>
<a name="l00289"></a>00289         0x5a,       <span class="comment">// pop %edx</span>
<a name="l00290"></a>00290         0x59,       <span class="comment">// pop %ecx</span>
<a name="l00291"></a>00291         0xc3        <span class="comment">// ret</span>
<a name="l00292"></a>00292     };
<a name="l00293"></a>00293     <a class="code" href="classProcess.html#a280be1c93dee29cd2c6d5d1502c60a9b" title="Memory proxy for initialization (image loading).">initVirtMem</a>.<a class="code" href="classSETranslatingPortProxy.html#ad2a72c978fca534c6afc8b0f6ac2fe19">writeBlob</a>(<a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#acbb25a86d519ae439e2d01ddb0b85357">base</a> + <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#a1e6ef77838358497dc782b098f3f027b">vsysexitOffset</a>,
<a name="l00294"></a>00294             vsysexitBlob, <span class="keyword">sizeof</span>(vsysexitBlob));
<a name="l00295"></a>00295 
<a name="l00296"></a>00296     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classProcess.html#a64a72121f39c3cbc68bb1b863c3f43ed">contextIds</a>.size(); <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00297"></a>00297         <a class="code" href="classThreadContext.html">ThreadContext</a> * <a class="code" href="namespaceArmISA.html#a5aff829af55e65b802d83dfcef4e9dd0">tc</a> = <a class="code" href="classProcess.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#af349994bde91bd82c98f31e10c495cd1">getThreadContext</a>(<a class="code" href="classProcess.html#a64a72121f39c3cbc68bb1b863c3f43ed">contextIds</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]);
<a name="l00298"></a>00298 
<a name="l00299"></a>00299         SegAttr dataAttr = 0;
<a name="l00300"></a>00300         dataAttr.dpl = 3;
<a name="l00301"></a>00301         dataAttr.unusable = 0;
<a name="l00302"></a>00302         dataAttr.defaultSize = 1;
<a name="l00303"></a>00303         dataAttr.longMode = 0;
<a name="l00304"></a>00304         dataAttr.avl = 0;
<a name="l00305"></a>00305         dataAttr.granularity = 1;
<a name="l00306"></a>00306         dataAttr.present = 1;
<a name="l00307"></a>00307         dataAttr.type = 3;
<a name="l00308"></a>00308         dataAttr.writable = 1;
<a name="l00309"></a>00309         dataAttr.readable = 1;
<a name="l00310"></a>00310         dataAttr.expandDown = 0;
<a name="l00311"></a>00311         dataAttr.system = 1;
<a name="l00312"></a>00312 
<a name="l00313"></a>00313         <span class="comment">//Initialize the segment registers.</span>
<a name="l00314"></a>00314         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="namespaceX86ISA.html#a93006a29bcdfcda7fdda27c7deec6618">seg</a> = 0; <a class="code" href="namespaceX86ISA.html#a93006a29bcdfcda7fdda27c7deec6618">seg</a> &lt; <a class="code" href="namespaceX86ISA.html#acea32b07c2303d31296b1c07a16c4795a43afe462b4625cd9754dacd2f25c6bf6">NUM_SEGMENTREGS</a>; <a class="code" href="namespaceX86ISA.html#a93006a29bcdfcda7fdda27c7deec6618">seg</a>++) {
<a name="l00315"></a>00315             tc-&gt;<a class="code" href="classThreadContext.html#a2987c1ff22ebdf6cdf354a31462bdbfb">setMiscRegNoEffect</a>(<a class="code" href="namespaceX86ISA.html#a310d36d3d8ec55a84d807cb7e1edf7d6">MISCREG_SEG_BASE</a>(<a class="code" href="namespaceX86ISA.html#a93006a29bcdfcda7fdda27c7deec6618">seg</a>), 0);
<a name="l00316"></a>00316             tc-&gt;<a class="code" href="classThreadContext.html#a2987c1ff22ebdf6cdf354a31462bdbfb">setMiscRegNoEffect</a>(<a class="code" href="namespaceX86ISA.html#a48969e78833727c474e77163559d3cc0">MISCREG_SEG_EFF_BASE</a>(<a class="code" href="namespaceX86ISA.html#a93006a29bcdfcda7fdda27c7deec6618">seg</a>), 0);
<a name="l00317"></a>00317             tc-&gt;<a class="code" href="classThreadContext.html#a2987c1ff22ebdf6cdf354a31462bdbfb">setMiscRegNoEffect</a>(<a class="code" href="namespaceX86ISA.html#abb8ec3742a54286da349c98a1a9c9755">MISCREG_SEG_ATTR</a>(<a class="code" href="namespaceX86ISA.html#a93006a29bcdfcda7fdda27c7deec6618">seg</a>), dataAttr);
<a name="l00318"></a>00318             tc-&gt;<a class="code" href="classThreadContext.html#a2987c1ff22ebdf6cdf354a31462bdbfb">setMiscRegNoEffect</a>(<a class="code" href="namespaceX86ISA.html#a7a287359d6688cb50477df97dcbdd196">MISCREG_SEG_SEL</a>(<a class="code" href="namespaceX86ISA.html#a93006a29bcdfcda7fdda27c7deec6618">seg</a>), 0xB);
<a name="l00319"></a>00319             tc-&gt;<a class="code" href="classThreadContext.html#a2987c1ff22ebdf6cdf354a31462bdbfb">setMiscRegNoEffect</a>(<a class="code" href="namespaceX86ISA.html#af93c7fd7ac0d329975952ac0c2a97f98">MISCREG_SEG_LIMIT</a>(<a class="code" href="namespaceX86ISA.html#a93006a29bcdfcda7fdda27c7deec6618">seg</a>), (<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)(-1));
<a name="l00320"></a>00320         }
<a name="l00321"></a>00321 
<a name="l00322"></a>00322         SegAttr csAttr = 0;
<a name="l00323"></a>00323         csAttr.dpl = 3;
<a name="l00324"></a>00324         csAttr.unusable = 0;
<a name="l00325"></a>00325         csAttr.defaultSize = 1;
<a name="l00326"></a>00326         csAttr.longMode = 0;
<a name="l00327"></a>00327         csAttr.avl = 0;
<a name="l00328"></a>00328         csAttr.granularity = 1;
<a name="l00329"></a>00329         csAttr.present = 1;
<a name="l00330"></a>00330         csAttr.type = 0xa;
<a name="l00331"></a>00331         csAttr.writable = 0;
<a name="l00332"></a>00332         csAttr.readable = 1;
<a name="l00333"></a>00333         csAttr.expandDown = 0;
<a name="l00334"></a>00334         csAttr.system = 1;
<a name="l00335"></a>00335 
<a name="l00336"></a>00336         tc-&gt;<a class="code" href="classThreadContext.html#a2987c1ff22ebdf6cdf354a31462bdbfb">setMiscRegNoEffect</a>(<a class="code" href="namespaceX86ISA.html#a1e522017e015d4c7efd6b2360143aa67ad82143ad6015ca412c3bed9eb748395c">MISCREG_CS_ATTR</a>, csAttr);
<a name="l00337"></a>00337 
<a name="l00338"></a>00338         tc-&gt;<a class="code" href="classThreadContext.html#a2987c1ff22ebdf6cdf354a31462bdbfb">setMiscRegNoEffect</a>(<a class="code" href="namespaceX86ISA.html#a1e522017e015d4c7efd6b2360143aa67a411f7eea5f660aefd04e9ddb9af59992">MISCREG_TSG_BASE</a>, <a class="code" href="classX86ISA_1_1X86LiveProcess.html#ac5ecf9d163642401bfbd3a3c123e7588">_gdtStart</a>);
<a name="l00339"></a>00339         tc-&gt;<a class="code" href="classThreadContext.html#a2987c1ff22ebdf6cdf354a31462bdbfb">setMiscRegNoEffect</a>(<a class="code" href="namespaceX86ISA.html#a1e522017e015d4c7efd6b2360143aa67ad1d47270bb4a1495483a0616c807ce36">MISCREG_TSG_EFF_BASE</a>, <a class="code" href="classX86ISA_1_1X86LiveProcess.html#ac5ecf9d163642401bfbd3a3c123e7588">_gdtStart</a>);
<a name="l00340"></a>00340         tc-&gt;<a class="code" href="classThreadContext.html#a2987c1ff22ebdf6cdf354a31462bdbfb">setMiscRegNoEffect</a>(<a class="code" href="namespaceX86ISA.html#a1e522017e015d4c7efd6b2360143aa67ab33f3d1c95709ab3c0d2e80ff478a62f">MISCREG_TSG_LIMIT</a>, <a class="code" href="classX86ISA_1_1X86LiveProcess.html#ac5ecf9d163642401bfbd3a3c123e7588">_gdtStart</a> + _gdtSize - 1);
<a name="l00341"></a>00341 
<a name="l00342"></a>00342         <span class="comment">// Set the LDT selector to 0 to deactivate it.</span>
<a name="l00343"></a>00343         tc-&gt;<a class="code" href="classThreadContext.html#a2987c1ff22ebdf6cdf354a31462bdbfb">setMiscRegNoEffect</a>(<a class="code" href="namespaceX86ISA.html#a1e522017e015d4c7efd6b2360143aa67a1a1bffbabb8ec2d7995f8460c64258eb">MISCREG_TSL</a>, 0);
<a name="l00344"></a>00344 
<a name="l00345"></a>00345         Efer efer = 0;
<a name="l00346"></a>00346         efer.sce = 1; <span class="comment">// Enable system call extensions.</span>
<a name="l00347"></a>00347         efer.lme = 1; <span class="comment">// Enable long mode.</span>
<a name="l00348"></a>00348         efer.lma = 0; <span class="comment">// Deactivate long mode.</span>
<a name="l00349"></a>00349         efer.nxe = 1; <span class="comment">// Enable nx support.</span>
<a name="l00350"></a>00350         efer.svme = 0; <span class="comment">// Disable svm support for now. It isn&apos;t implemented.</span>
<a name="l00351"></a>00351         efer.ffxsr = 1; <span class="comment">// Turn on fast fxsave and fxrstor.</span>
<a name="l00352"></a>00352         tc-&gt;<a class="code" href="classThreadContext.html#a074166dc2fe3c4aea3ad588ed9883c51">setMiscReg</a>(<a class="code" href="namespaceX86ISA.html#a1e522017e015d4c7efd6b2360143aa67ac2bc7bba381e618f344c3047d968f5a7">MISCREG_EFER</a>, efer);
<a name="l00353"></a>00353 
<a name="l00354"></a>00354         <span class="comment">//Set up the registers that describe the operating mode.</span>
<a name="l00355"></a>00355         CR0 cr0 = 0;
<a name="l00356"></a>00356         cr0.pg = 1; <span class="comment">// Turn on paging.</span>
<a name="l00357"></a>00357         cr0.cd = 0; <span class="comment">// Don&apos;t disable caching.</span>
<a name="l00358"></a>00358         cr0.nw = 0; <span class="comment">// This is bit is defined to be ignored.</span>
<a name="l00359"></a>00359         cr0.am = 0; <span class="comment">// No alignment checking</span>
<a name="l00360"></a>00360         cr0.wp = 0; <span class="comment">// Supervisor mode can write read only pages</span>
<a name="l00361"></a>00361         cr0.ne = 1;
<a name="l00362"></a>00362         cr0.et = 1; <span class="comment">// This should always be 1</span>
<a name="l00363"></a>00363         cr0.ts = 0; <span class="comment">// We don&apos;t do task switching, so causing fp exceptions</span>
<a name="l00364"></a>00364                     <span class="comment">// would be pointless.</span>
<a name="l00365"></a>00365         cr0.em = 0; <span class="comment">// Allow x87 instructions to execute natively.</span>
<a name="l00366"></a>00366         cr0.mp = 1; <span class="comment">// This doesn&apos;t really matter, but the manual suggests</span>
<a name="l00367"></a>00367                     <span class="comment">// setting it to one.</span>
<a name="l00368"></a>00368         cr0.pe = 1; <span class="comment">// We&apos;re definitely in protected mode.</span>
<a name="l00369"></a>00369         tc-&gt;<a class="code" href="classThreadContext.html#a074166dc2fe3c4aea3ad588ed9883c51">setMiscReg</a>(<a class="code" href="namespaceX86ISA.html#a1e522017e015d4c7efd6b2360143aa67ada26b29c24bab13bc6d77060ba44fb33">MISCREG_CR0</a>, cr0);
<a name="l00370"></a>00370 
<a name="l00371"></a>00371         tc-&gt;<a class="code" href="classThreadContext.html#a074166dc2fe3c4aea3ad588ed9883c51">setMiscReg</a>(<a class="code" href="namespaceX86ISA.html#a1e522017e015d4c7efd6b2360143aa67a7346c48560738adc54cb595c3cb544ea">MISCREG_MXCSR</a>, 0x1f80);
<a name="l00372"></a>00372     }
<a name="l00373"></a>00373 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a834e8e05416e3487f87d942259506abe"></a><!-- doxytag: member="X86ISA::I386LiveProcess::setSyscallArg" ref="a834e8e05416e3487f87d942259506abe" args="(ThreadContext *tc, int i, X86ISA::IntReg val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setSyscallArg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td>
          <td class="paramname"> <em>tc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceX86ISA.html#a0e080577527fb3e9685399f75b5caf15">X86ISA::IntReg</a>&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00720"></a>00720 {
<a name="l00721"></a>00721     assert(<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="arch_2x86_2process_8cc.html#afce5b087d1b866c8f91317e6ddbe62dd">NumArgumentRegs</a>);
<a name="l00722"></a>00722     <span class="keywordflow">return</span> tc-&gt;<a class="code" href="classThreadContext.html#a995ac11ab79af59e135d473df10c72da">setIntReg</a>(<a class="code" href="arch_2x86_2process_8cc.html#af2bb90a23fc27d090cab65b3ade30883">ArgumentReg</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>], <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>);
<a name="l00723"></a>00723 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1ed38802271de4269c3adfa46c73e7e7"></a><!-- doxytag: member="X86ISA::I386LiveProcess::syscall" ref="a1ed38802271de4269c3adfa46c73e7e7" args="(int64_t callnum, ThreadContext *tc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syscall </td>
          <td>(</td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>callnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td>
          <td class="paramname"> <em>tc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classLiveProcess.html#a1ed38802271de4269c3adfa46c73e7e7">LiveProcess</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00118"></a>00118 {
<a name="l00119"></a>00119     <a class="code" href="namespaceAlphaISA.html#af780de49982ecf691215cac9b9dfc615">TheISA::PCState</a> <a class="code" href="namespaceX86ISA.html#aecb63c74e066ecd98e04d057e39028c9">pc</a> = tc-&gt;<a class="code" href="classThreadContext.html#a1aaca26c0732d2191edbde1477d7ec13">pcState</a>();
<a name="l00120"></a>00120     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> eip = pc.pc();
<a name="l00121"></a>00121     <span class="keywordflow">if</span> (eip &gt;= <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#acbb25a86d519ae439e2d01ddb0b85357">base</a> &amp;&amp;
<a name="l00122"></a>00122             eip &lt; <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#acbb25a86d519ae439e2d01ddb0b85357">base</a> + <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#a8ce507144b5ef53350af753eafb669f0">size</a>) {
<a name="l00123"></a>00123         pc.npc(<a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#acbb25a86d519ae439e2d01ddb0b85357">base</a> + <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a>.<a class="code" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html#a1e6ef77838358497dc782b098f3f027b">vsysexitOffset</a>);
<a name="l00124"></a>00124         tc-&gt;<a class="code" href="classThreadContext.html#a1aaca26c0732d2191edbde1477d7ec13">pcState</a>(pc);
<a name="l00125"></a>00125     }
<a name="l00126"></a>00126     <a class="code" href="classX86ISA_1_1I386LiveProcess.html#a1ed38802271de4269c3adfa46c73e7e7">X86LiveProcess::syscall</a>(callnum, tc);
<a name="l00127"></a>00127 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a9f7ed190dd32bddc3f1074ce39168abd"></a><!-- doxytag: member="X86ISA::I386LiveProcess::vsyscallPage" ref="a9f7ed190dd32bddc3f1074ce39168abd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1I386LiveProcess_1_1VSyscallPage.html">VSyscallPage</a> <a class="el" href="classX86ISA_1_1I386LiveProcess.html#a9f7ed190dd32bddc3f1074ce39168abd">vsyscallPage</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>arch/x86/<a class="el" href="arch_2x86_2process_8hh_source.html">process.hh</a></li>
<li>arch/x86/<a class="el" href="arch_2x86_2process_8cc.html">process.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
