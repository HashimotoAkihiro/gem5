\hypertarget{classScoreboard}{
\section{クラス Scoreboard}
\label{classScoreboard}\index{Scoreboard@{Scoreboard}}
}


{\ttfamily \#include $<$scoreboard.hh$>$}\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classScoreboard_a4ad4a4f708e90ce7482859dd19a04a98}{Scoreboard} (const std::string \&\_\-my\_\-name, unsigned \_\-numPhysicalRegs, unsigned \_\-numMiscRegs, \hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} \_\-zeroRegIdx, \hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} \_\-fpZeroRegIdx)
\item 
\hyperlink{classScoreboard_ad2193b96d3a42d5a954f64072cc890c2}{$\sim$Scoreboard} ()
\item 
std::string \hyperlink{classScoreboard_a37627d5d5bba7f4a8690c71c2ab3cb07}{name} () const 
\item 
bool \hyperlink{classScoreboard_acf9440aa48311ccc1f0cf3ad9add8437}{getReg} (\hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} reg\_\-idx) const 
\item 
void \hyperlink{classScoreboard_abefd2f48474b0ac4510bef8672c8957a}{setReg} (\hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} reg\_\-idx)
\item 
void \hyperlink{classScoreboard_a69192a05bc6089fef590191f4ca52d11}{unsetReg} (\hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} reg\_\-idx)
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classScoreboard_ace4f4e3c8b8625f569c7e64a169ce2f1}{isZeroReg} (\hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} idx) const 
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
const std::string \hyperlink{classScoreboard_a1b003dc5cfce1a4d8f9a0c4b9b589045}{\_\-name}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ bool $>$ \hyperlink{classScoreboard_a1bbf9bd6403e6be95f85ee26ebb06ca7}{regScoreBoard}
\item 
unsigned \hyperlink{classScoreboard_a0d2a78a8e887f06150904000b2beb6cd}{numPhysRegs}
\item 
unsigned M5\_\-CLASS\_\-VAR\_\-USED \hyperlink{classScoreboard_afa56b73206d6c8a0f68cc31143205f9e}{numTotalRegs}
\item 
\hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} \hyperlink{classScoreboard_ad816cc199dde22b6242ff4a143f5cc19}{zeroRegIdx}
\item 
\hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} \hyperlink{classScoreboard_a55df2fe2fae9704590b9b50a53d48981}{fpZeroRegIdx}
\end{DoxyCompactItemize}


\subsection{説明}
Implements a simple scoreboard to track which registers are ready. This class operates on the unified physical register space, so integer and floating-\/point registers are not distinguished. For convenience, it also accepts operations on the physical-\/space mapping of misc registers, which are numbered starting after the end of the actual physical register file. However, there is no actual scoreboard for misc registers, and they are always considered ready. 

\subsection{コンストラクタとデストラクタ}
\hypertarget{classScoreboard_a4ad4a4f708e90ce7482859dd19a04a98}{
\index{Scoreboard@{Scoreboard}!Scoreboard@{Scoreboard}}
\index{Scoreboard@{Scoreboard}!Scoreboard@{Scoreboard}}
\subsubsection[{Scoreboard}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Scoreboard} (const std::string \& {\em \_\-my\_\-name}, \/  unsigned {\em \_\-numPhysicalRegs}, \/  unsigned {\em \_\-numMiscRegs}, \/  {\bf PhysRegIndex} {\em \_\-zeroRegIdx}, \/  {\bf PhysRegIndex} {\em \_\-fpZeroRegIdx})}}
\label{classScoreboard_a4ad4a4f708e90ce7482859dd19a04a98}
Constructs a scoreboard. 
\begin{DoxyParams}{引数}
\item[{\em \_\-numPhysicalRegs}]Number of physical registers. \item[{\em \_\-numMiscRegs}]Number of miscellaneous registers. \item[{\em \_\-zeroRegIdx}]Index of the zero register. \item[{\em \_\-fpZeroRegIdx}]Index of the FP zero register (if any, currently used only for Alpha). \end{DoxyParams}



\begin{DoxyCode}
40     : _name(_my_name),
41       regScoreBoard(_numPhysicalRegs, true),
42       numPhysRegs(_numPhysicalRegs),
43       numTotalRegs(_numPhysicalRegs + _numMiscRegs),
44       zeroRegIdx(_zeroRegIdx), fpZeroRegIdx(_fpZeroRegIdx)
45 {
46 }
\end{DoxyCode}
\hypertarget{classScoreboard_ad2193b96d3a42d5a954f64072cc890c2}{
\index{Scoreboard@{Scoreboard}!$\sim$Scoreboard@{$\sim$Scoreboard}}
\index{$\sim$Scoreboard@{$\sim$Scoreboard}!Scoreboard@{Scoreboard}}
\subsubsection[{$\sim$Scoreboard}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf Scoreboard} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classScoreboard_ad2193b96d3a42d5a954f64072cc890c2}
Destructor. 


\begin{DoxyCode}
104 {}
\end{DoxyCode}


\subsection{関数}
\hypertarget{classScoreboard_acf9440aa48311ccc1f0cf3ad9add8437}{
\index{Scoreboard@{Scoreboard}!getReg@{getReg}}
\index{getReg@{getReg}!Scoreboard@{Scoreboard}}
\subsubsection[{getReg}]{\setlength{\rightskip}{0pt plus 5cm}bool getReg ({\bf PhysRegIndex} {\em reg\_\-idx}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classScoreboard_acf9440aa48311ccc1f0cf3ad9add8437}
Checks if the register is ready. 


\begin{DoxyCode}
111     {
112         assert(reg_idx < numTotalRegs);
113 
114         if (reg_idx >= numPhysRegs) {
115             // misc regs are always ready
116             return true;
117         }
118 
119         bool ready = regScoreBoard[reg_idx];
120 
121         if (isZeroReg(reg_idx))
122             assert(ready);
123 
124         return ready;
125     }
\end{DoxyCode}
\hypertarget{classScoreboard_ace4f4e3c8b8625f569c7e64a169ce2f1}{
\index{Scoreboard@{Scoreboard}!isZeroReg@{isZeroReg}}
\index{isZeroReg@{isZeroReg}!Scoreboard@{Scoreboard}}
\subsubsection[{isZeroReg}]{\setlength{\rightskip}{0pt plus 5cm}bool isZeroReg ({\bf PhysRegIndex} {\em idx}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classScoreboard_ace4f4e3c8b8625f569c7e64a169ce2f1}



\begin{DoxyCode}
84     {
85         return (idx == zeroRegIdx ||
86                 (THE_ISA == ALPHA_ISA && idx == fpZeroRegIdx));
87     }
\end{DoxyCode}
\hypertarget{classScoreboard_a37627d5d5bba7f4a8690c71c2ab3cb07}{
\index{Scoreboard@{Scoreboard}!name@{name}}
\index{name@{name}!Scoreboard@{Scoreboard}}
\subsubsection[{name}]{\setlength{\rightskip}{0pt plus 5cm}std::string name () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classScoreboard_a37627d5d5bba7f4a8690c71c2ab3cb07}
Returns the name of the scoreboard. 


\begin{DoxyCode}
107 { return _name; };
\end{DoxyCode}
\hypertarget{classScoreboard_abefd2f48474b0ac4510bef8672c8957a}{
\index{Scoreboard@{Scoreboard}!setReg@{setReg}}
\index{setReg@{setReg}!Scoreboard@{Scoreboard}}
\subsubsection[{setReg}]{\setlength{\rightskip}{0pt plus 5cm}void setReg ({\bf PhysRegIndex} {\em reg\_\-idx})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classScoreboard_abefd2f48474b0ac4510bef8672c8957a}
Sets the register as ready. 


\begin{DoxyCode}
129     {
130         assert(reg_idx < numTotalRegs);
131 
132         if (reg_idx >= numPhysRegs) {
133             // misc regs are always ready, ignore attempts to change that
134             return;
135         }
136 
137         DPRINTF(Scoreboard, "Setting reg %i as ready\n", reg_idx);
138 
139         assert(reg_idx < numTotalRegs);
140         regScoreBoard[reg_idx] = true;
141     }
\end{DoxyCode}
\hypertarget{classScoreboard_a69192a05bc6089fef590191f4ca52d11}{
\index{Scoreboard@{Scoreboard}!unsetReg@{unsetReg}}
\index{unsetReg@{unsetReg}!Scoreboard@{Scoreboard}}
\subsubsection[{unsetReg}]{\setlength{\rightskip}{0pt plus 5cm}void unsetReg ({\bf PhysRegIndex} {\em reg\_\-idx})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classScoreboard_a69192a05bc6089fef590191f4ca52d11}
Sets the register as not ready. 


\begin{DoxyCode}
145     {
146         assert(reg_idx < numTotalRegs);
147 
148         if (reg_idx >= numPhysRegs) {
149             // misc regs are always ready, ignore attempts to change that
150             return;
151         }
152 
153         // zero reg should never be marked unready
154         if (isZeroReg(reg_idx))
155             return;
156 
157         regScoreBoard[reg_idx] = false;
158     }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classScoreboard_a1b003dc5cfce1a4d8f9a0c4b9b589045}{
\index{Scoreboard@{Scoreboard}!\_\-name@{\_\-name}}
\index{\_\-name@{\_\-name}!Scoreboard@{Scoreboard}}
\subsubsection[{\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}const std::string {\bf \_\-name}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classScoreboard_a1b003dc5cfce1a4d8f9a0c4b9b589045}
The object name, for DPRINTF. We have to declare this explicitly because \hyperlink{classScoreboard}{Scoreboard} is not a \hyperlink{classSimObject}{SimObject}. \hypertarget{classScoreboard_a55df2fe2fae9704590b9b50a53d48981}{
\index{Scoreboard@{Scoreboard}!fpZeroRegIdx@{fpZeroRegIdx}}
\index{fpZeroRegIdx@{fpZeroRegIdx}!Scoreboard@{Scoreboard}}
\subsubsection[{fpZeroRegIdx}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PhysRegIndex} {\bf fpZeroRegIdx}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classScoreboard_a55df2fe2fae9704590b9b50a53d48981}
The index of the FP zero register. \hypertarget{classScoreboard_a0d2a78a8e887f06150904000b2beb6cd}{
\index{Scoreboard@{Scoreboard}!numPhysRegs@{numPhysRegs}}
\index{numPhysRegs@{numPhysRegs}!Scoreboard@{Scoreboard}}
\subsubsection[{numPhysRegs}]{\setlength{\rightskip}{0pt plus 5cm}unsigned {\bf numPhysRegs}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classScoreboard_a0d2a78a8e887f06150904000b2beb6cd}
The number of actual physical registers \hypertarget{classScoreboard_afa56b73206d6c8a0f68cc31143205f9e}{
\index{Scoreboard@{Scoreboard}!numTotalRegs@{numTotalRegs}}
\index{numTotalRegs@{numTotalRegs}!Scoreboard@{Scoreboard}}
\subsubsection[{numTotalRegs}]{\setlength{\rightskip}{0pt plus 5cm}unsigned M5\_\-CLASS\_\-VAR\_\-USED {\bf numTotalRegs}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classScoreboard_afa56b73206d6c8a0f68cc31143205f9e}
The total number of registers which can be indexed, including the misc registers that come after the physical registers and which are hardwired to be always considered ready. \hypertarget{classScoreboard_a1bbf9bd6403e6be95f85ee26ebb06ca7}{
\index{Scoreboard@{Scoreboard}!regScoreBoard@{regScoreBoard}}
\index{regScoreBoard@{regScoreBoard}!Scoreboard@{Scoreboard}}
\subsubsection[{regScoreBoard}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<$bool$>$ {\bf regScoreBoard}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classScoreboard_a1bbf9bd6403e6be95f85ee26ebb06ca7}
\hyperlink{classScoreboard}{Scoreboard} of physical integer registers, saying whether or not they are ready. \hypertarget{classScoreboard_ad816cc199dde22b6242ff4a143f5cc19}{
\index{Scoreboard@{Scoreboard}!zeroRegIdx@{zeroRegIdx}}
\index{zeroRegIdx@{zeroRegIdx}!Scoreboard@{Scoreboard}}
\subsubsection[{zeroRegIdx}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PhysRegIndex} {\bf zeroRegIdx}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classScoreboard_ad816cc199dde22b6242ff4a143f5cc19}
The index of the zero register. 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
cpu/o3/\hyperlink{scoreboard_8hh}{scoreboard.hh}\item 
cpu/o3/\hyperlink{scoreboard_8cc}{scoreboard.cc}\end{DoxyCompactItemize}
