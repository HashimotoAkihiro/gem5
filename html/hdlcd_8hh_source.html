<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: dev/arm/hdlcd.hh ソースファイル</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li><a href="annotated.html"><span>クラス</span></a></li>
      <li class="current"><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>ファイル一覧</span></a></li>
      <li><a href="globals.html"><span>ファイルメンバ</span></a></li>
    </ul>
  </div>
<h1>dev/arm/hdlcd.hh</h1><a href="hdlcd_8hh.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2010-2013 ARM Limited</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * The license below extends only to copyright in the software and shall</span>
<a name="l00006"></a>00006 <span class="comment"> * not be construed as granting a license to any other intellectual</span>
<a name="l00007"></a>00007 <span class="comment"> * property including but not limited to intellectual property relating</span>
<a name="l00008"></a>00008 <span class="comment"> * to a hardware implementation of the functionality of the software</span>
<a name="l00009"></a>00009 <span class="comment"> * licensed hereunder.  You may use the software subject to the license</span>
<a name="l00010"></a>00010 <span class="comment"> * terms below provided that you ensure that this notice is replicated</span>
<a name="l00011"></a>00011 <span class="comment"> * unmodified and in its entirety in all distributions of the software,</span>
<a name="l00012"></a>00012 <span class="comment"> * modified or unmodified, in source code or in binary form.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00015"></a>00015 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00016"></a>00016 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00017"></a>00017 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00018"></a>00018 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00019"></a>00019 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00020"></a>00020 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00021"></a>00021 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00022"></a>00022 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00023"></a>00023 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00024"></a>00024 <span class="comment"> *</span>
<a name="l00025"></a>00025 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00026"></a>00026 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00027"></a>00027 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00028"></a>00028 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00029"></a>00029 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00030"></a>00030 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00031"></a>00031 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00032"></a>00032 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00033"></a>00033 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00034"></a>00034 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00035"></a>00035 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00036"></a>00036 <span class="comment"> *</span>
<a name="l00037"></a>00037 <span class="comment"> * Authors: Chris Emmons</span>
<a name="l00038"></a>00038 <span class="comment"> */</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 
<a name="l00082"></a>00082 <span class="preprocessor">#ifndef __DEV_ARM_HDLCD_HH__</span>
<a name="l00083"></a>00083 <span class="preprocessor"></span><span class="preprocessor">#define __DEV_ARM_HDLCD_HH__</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span>
<a name="l00085"></a>00085 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="preprocessor">#include &quot;<a class="code" href="amba__device_8hh.html">dev/arm/amba_device.hh</a>&quot;</span>
<a name="l00088"></a>00088 <span class="preprocessor">#include &quot;params/HDLcd.hh&quot;</span>
<a name="l00089"></a>00089 <span class="preprocessor">#include &quot;<a class="code" href="serialize_8hh.html">sim/serialize.hh</a>&quot;</span>
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 <span class="keyword">class </span><a class="code" href="classVncInput.html">VncInput</a>;
<a name="l00092"></a>00092 <span class="keyword">class </span><a class="code" href="classBitmap.html">Bitmap</a>;
<a name="l00093"></a>00093 
<a name="l00094"></a><a class="code" href="classHDLcd.html">00094</a> <span class="keyword">class </span><a class="code" href="classHDLcd.html">HDLcd</a>: <span class="keyword">public</span> <a class="code" href="classAmbaDmaDevice.html">AmbaDmaDevice</a>
<a name="l00095"></a>00095 {
<a name="l00096"></a>00096   <span class="keyword">protected</span>:
<a name="l00098"></a><a class="code" href="classHDLcd.html#ae438dff5177bb7a98567cd94061edab4">00098</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint64_t <a class="code" href="classHDLcd.html#ae438dff5177bb7a98567cd94061edab4">AMBA_ID</a>       = <a class="code" href="base_2types_8hh.html#adcc3cf526a71c0dfaae020d432c78b83">ULL</a>(0xb105f00d00141000);
<a name="l00099"></a>00099 
<a name="l00101"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167a">00101</a>     <span class="keyword">enum</span> <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167a">RegisterOffset</a> {
<a name="l00102"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaaecf3eedf8cb9291bcba326089c9508a">00102</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaaecf3eedf8cb9291bcba326089c9508a">Version</a>          = 0x0000,
<a name="l00103"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1be27d857bb87a9ae6813b06cdcbab49">00103</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1be27d857bb87a9ae6813b06cdcbab49">Int_RawStat</a>      = 0x0010,
<a name="l00104"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafcaf90f877eec92e9d06f667da4ef93a">00104</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafcaf90f877eec92e9d06f667da4ef93a">Int_Clear</a>        = 0x0014,
<a name="l00105"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa41681a9749cd3e11f4e1a1981dda1c7f">00105</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa41681a9749cd3e11f4e1a1981dda1c7f">Int_Mask</a>         = 0x0018,
<a name="l00106"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa0d141ad1f9a40ed4a7f80aed471dde27">00106</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa0d141ad1f9a40ed4a7f80aed471dde27">Int_Status</a>       = 0x001C,
<a name="l00107"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aae73e315a15940c9ec92665d532b0ec3f">00107</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aae73e315a15940c9ec92665d532b0ec3f">Fb_Base</a>          = 0x0100,
<a name="l00108"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa4bb8d9aadacffc879da4c56a479deb50">00108</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa4bb8d9aadacffc879da4c56a479deb50">Fb_Line_Length</a>   = 0x0104,
<a name="l00109"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aab622dfd78db0239caba70c2465460563">00109</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aab622dfd78db0239caba70c2465460563">Fb_Line_Count</a>    = 0x0108,
<a name="l00110"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1a1fed2414dcc0ebf810a266630dc615">00110</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa1a1fed2414dcc0ebf810a266630dc615">Fb_Line_Pitch</a>    = 0x010C,
<a name="l00111"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8ecde41db7d43d0f947af7a4990cadd8">00111</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8ecde41db7d43d0f947af7a4990cadd8">Bus_Options</a>      = 0x0110,
<a name="l00112"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa388f28a3d8b85e71937474d347f4e24d">00112</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa388f28a3d8b85e71937474d347f4e24d">V_Sync</a>           = 0x0200,
<a name="l00113"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaf788d81eab9ff4992ff5550983392df7">00113</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aaf788d81eab9ff4992ff5550983392df7">V_Back_Porch</a>     = 0x0204,
<a name="l00114"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa068573e257c781b4e4eb0af5fb26178e">00114</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa068573e257c781b4e4eb0af5fb26178e">V_Data</a>           = 0x0208,
<a name="l00115"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa69c77a38764fbc5b5567f13b5eb4267b">00115</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa69c77a38764fbc5b5567f13b5eb4267b">V_Front_Porch</a>    = 0x020C,
<a name="l00116"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafad2bb41d868c428adc9f68b275fb34a">00116</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafad2bb41d868c428adc9f68b275fb34a">H_Sync</a>           = 0x0210,
<a name="l00117"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa22ed0ca08a37a1c7a4a6266a3e90363f">00117</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa22ed0ca08a37a1c7a4a6266a3e90363f">H_Back_Porch</a>     = 0x0214,
<a name="l00118"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafdec0d05c0c1116a7462d36544894da5">00118</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafdec0d05c0c1116a7462d36544894da5">H_Data</a>           = 0x0218,
<a name="l00119"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8139349b5f0b13a4b21053d61c043f13">00119</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa8139349b5f0b13a4b21053d61c043f13">H_Front_Porch</a>    = 0x021C,
<a name="l00120"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa080ddbafa8544f5e1f9838d62cea53b5">00120</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa080ddbafa8544f5e1f9838d62cea53b5">Polarities</a>       = 0x0220,
<a name="l00121"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafe3054aee03156c2553151700236dc9c">00121</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aafe3054aee03156c2553151700236dc9c">Command</a>          = 0x0230,
<a name="l00122"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aad92abc727f017e41476afd828019fd6f">00122</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aad92abc727f017e41476afd828019fd6f">Pixel_Format</a>     = 0x0240,
<a name="l00123"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa3c14c44e84578139168434c48cff7ae4">00123</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa3c14c44e84578139168434c48cff7ae4">Red_Select</a>       = 0x0244,
<a name="l00124"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa35c8bdcdce89f753d2e287a46bd09528">00124</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa35c8bdcdce89f753d2e287a46bd09528">Green_Select</a>     = 0x0248,
<a name="l00125"></a><a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa7866c291b06c767b524c00d58fd7e0da">00125</a>         <a class="code" href="classHDLcd.html#a5589603d1462868f128ddcda455b167aa7866c291b06c767b524c00d58fd7e0da">Blue_Select</a>      = 0x024C };
<a name="l00126"></a>00126 
<a name="l00128"></a><a class="code" href="classHDLcd.html#aaf19ce46531fc85edba07a0a76b30a5f">00128</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#aaf19ce46531fc85edba07a0a76b30a5f">BUS_OPTIONS_RESETV</a> = 0x408;
<a name="l00129"></a>00129 
<a name="l00131"></a><a class="code" href="classHDLcd.html#a0cd2a036c21a49eadcc056ff0f20f8dd">00131</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#a0cd2a036c21a49eadcc056ff0f20f8dd">VERSION_RESETV</a> = 0x1CDC0000;
<a name="l00132"></a>00132 
<a name="l00134"></a><a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">00134</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#a5f08b80b40d4315ead7617e660bab910">MAX_OUTSTANDING_DMA_REQ_CAPACITY</a> = 16;
<a name="l00135"></a>00135 
<a name="l00137"></a><a class="code" href="classHDLcd.html#aace62e6eea905bd83b1d848acf8e39c9">00137</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#aace62e6eea905bd83b1d848acf8e39c9">MAX_BURST_LEN</a> = 16;
<a name="l00138"></a>00138 
<a name="l00140"></a><a class="code" href="classHDLcd.html#a43f658311547cdd328f725c29f629d43">00140</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#a43f658311547cdd328f725c29f629d43">PIXEL_BUFFER_CAPACITY</a> = 2048;
<a name="l00141"></a>00141 
<a name="l00143"></a><a class="code" href="classHDLcd.html#a707d5982e8851aee47eb1250db1c4c3b">00143</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#a707d5982e8851aee47eb1250db1c4c3b">AXI_PORT_WIDTH</a> = 8;
<a name="l00144"></a>00144 
<a name="l00150"></a>00150     <a class="code" href="classHDLcd.html#aec6571bbae7a34d8f4acc94770b38fad">BitUnion32</a>(VersionReg)
<a name="l00151"></a><a class="code" href="classHDLcd.html#a4f40fa952becdbdacf7434cd3c404b7d">00151</a>         Bitfield&lt;7,0&gt;   <a class="code" href="classHDLcd.html#a4f40fa952becdbdacf7434cd3c404b7d">version_minor</a>;
<a name="l00152"></a><a class="code" href="classHDLcd.html#a74571fc488367403e0193898d0a5367e">00152</a>         Bitfield&lt;15,8&gt;  <a class="code" href="classHDLcd.html#a74571fc488367403e0193898d0a5367e">version_major</a>;
<a name="l00153"></a><a class="code" href="classHDLcd.html#ac95f3b4958485c9925b2cb7f0302921f">00153</a>         Bitfield&lt;31,16&gt; <a class="code" href="classHDLcd.html#ac95f3b4958485c9925b2cb7f0302921f">product_id</a>;
<a name="l00154"></a>00154     <a class="code" href="classHDLcd.html#ae86db13e164e3134cde1780b881b5a2b">EndBitUnion</a>(VersionReg)
<a name="l00155"></a>00155 
<a name="l00156"></a>00156     <a class="code" href="classHDLcd.html#aec6571bbae7a34d8f4acc94770b38fad">BitUnion32</a>(InterruptReg)
<a name="l00157"></a>00157         Bitfield&lt;0&gt; dma_end;
<a name="l00158"></a><a class="code" href="classHDLcd.html#ad92f2664318eb7510c5ef4ed537fff93">00158</a>         Bitfield&lt;1&gt; <a class="code" href="classHDLcd.html#ad92f2664318eb7510c5ef4ed537fff93">bus_error</a>;
<a name="l00159"></a><a class="code" href="classHDLcd.html#aacc2f986e357e2a77bd80683f3c976aa">00159</a>         Bitfield&lt;2&gt; <a class="code" href="classHDLcd.html#aacc2f986e357e2a77bd80683f3c976aa">vsync</a>;
<a name="l00160"></a><a class="code" href="classHDLcd.html#a7db18d8a83ae23e4d06cf8d21379b664">00160</a>         Bitfield&lt;3&gt; <a class="code" href="classHDLcd.html#a7db18d8a83ae23e4d06cf8d21379b664">underrun</a>;
<a name="l00161"></a>00161     <a class="code" href="classHDLcd.html#ae86db13e164e3134cde1780b881b5a2b">EndBitUnion</a>(InterruptReg)
<a name="l00162"></a>00162 
<a name="l00163"></a>00163     <a class="code" href="classHDLcd.html#aec6571bbae7a34d8f4acc94770b38fad">BitUnion32</a>(FbLineCountReg)
<a name="l00164"></a><a class="code" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">00164</a>         Bitfield&lt;11,0&gt;  <a class="code" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a>;
<a name="l00165"></a><a class="code" href="classHDLcd.html#a582dec2bf3d914fb5d2ddb8feaa38111">00165</a>         Bitfield&lt;31,12&gt; <a class="code" href="classHDLcd.html#a582dec2bf3d914fb5d2ddb8feaa38111">reserved_31_12</a>;
<a name="l00166"></a>00166     <a class="code" href="classHDLcd.html#ae86db13e164e3134cde1780b881b5a2b">EndBitUnion</a>(FbLineCountReg)
<a name="l00167"></a>00167 
<a name="l00168"></a>00168     <a class="code" href="classHDLcd.html#aec6571bbae7a34d8f4acc94770b38fad">BitUnion32</a>(BusOptsReg)
<a name="l00169"></a><a class="code" href="classHDLcd.html#a74212c0c2707c7e25bad89d6ac3004c9">00169</a>         Bitfield&lt;4,0&gt;   <a class="code" href="classHDLcd.html#a74212c0c2707c7e25bad89d6ac3004c9">burst_len</a>;
<a name="l00170"></a><a class="code" href="classHDLcd.html#ada612a1f3eac7720c95c8b754b004b62">00170</a>         Bitfield&lt;7,5&gt;   <a class="code" href="classHDLcd.html#ada612a1f3eac7720c95c8b754b004b62">reserved_7_5</a>;
<a name="l00171"></a><a class="code" href="classHDLcd.html#a5f39b2e7351f4500ef1eb5babcb10381">00171</a>         Bitfield&lt;11,8&gt;  <a class="code" href="classHDLcd.html#a5f39b2e7351f4500ef1eb5babcb10381">max_outstanding</a>;
<a name="l00172"></a>00172         Bitfield&lt;31,12&gt; <a class="code" href="classHDLcd.html#a582dec2bf3d914fb5d2ddb8feaa38111">reserved_31_12</a>;
<a name="l00173"></a>00173     <a class="code" href="classHDLcd.html#ae86db13e164e3134cde1780b881b5a2b">EndBitUnion</a>(BusOptsReg)
<a name="l00174"></a>00174 
<a name="l00175"></a>00175     <a class="code" href="classHDLcd.html#aec6571bbae7a34d8f4acc94770b38fad">BitUnion32</a>(TimingReg)
<a name="l00176"></a><a class="code" href="classHDLcd.html#acb906433e1289aa1c251dc5057746a88">00176</a>         Bitfield&lt;11,0&gt;  <a class="code" href="classHDLcd.html#acb906433e1289aa1c251dc5057746a88">val</a>;
<a name="l00177"></a>00177         Bitfield&lt;31,12&gt; <a class="code" href="classHDLcd.html#a582dec2bf3d914fb5d2ddb8feaa38111">reserved_31_12</a>;
<a name="l00178"></a>00178     <a class="code" href="classHDLcd.html#ae86db13e164e3134cde1780b881b5a2b">EndBitUnion</a>(TimingReg)
<a name="l00179"></a>00179 
<a name="l00180"></a>00180     <a class="code" href="classHDLcd.html#aec6571bbae7a34d8f4acc94770b38fad">BitUnion32</a>(PolaritiesReg)
<a name="l00181"></a>00181         Bitfield&lt;0&gt;    vsync_polarity;
<a name="l00182"></a><a class="code" href="classHDLcd.html#ae1b5cd178099ce9f30eafb12ccf1bde8">00182</a>         Bitfield&lt;1&gt;    <a class="code" href="classHDLcd.html#ae1b5cd178099ce9f30eafb12ccf1bde8">hsync_polarity</a>;
<a name="l00183"></a><a class="code" href="classHDLcd.html#a2e88cca6e78a84d49d34de5407d3d048">00183</a>         Bitfield&lt;2&gt;    <a class="code" href="classHDLcd.html#a2e88cca6e78a84d49d34de5407d3d048">dataen_polarity</a>;
<a name="l00184"></a><a class="code" href="classHDLcd.html#a82bbce2c586afda0822949bce915be7c">00184</a>         Bitfield&lt;3&gt;    <a class="code" href="classHDLcd.html#a82bbce2c586afda0822949bce915be7c">data_polarity</a>;
<a name="l00185"></a><a class="code" href="classHDLcd.html#a4fa9bf08d013c014d2e73e86607b4bed">00185</a>         Bitfield&lt;4&gt;    <a class="code" href="classHDLcd.html#a4fa9bf08d013c014d2e73e86607b4bed">pxlclk_polarity</a>;
<a name="l00186"></a><a class="code" href="classHDLcd.html#a1ac4b70cb79ab9e24b9a264c8b8be6e4">00186</a>         Bitfield&lt;31,5&gt; <a class="code" href="classHDLcd.html#a1ac4b70cb79ab9e24b9a264c8b8be6e4">reserved_31_5</a>;
<a name="l00187"></a>00187     <a class="code" href="classHDLcd.html#ae86db13e164e3134cde1780b881b5a2b">EndBitUnion</a>(PolaritiesReg)
<a name="l00188"></a>00188 
<a name="l00189"></a>00189     <a class="code" href="classHDLcd.html#aec6571bbae7a34d8f4acc94770b38fad">BitUnion32</a>(<a class="code" href="structCommandReg.html">CommandReg</a>)
<a name="l00190"></a>00190         Bitfield&lt;0&gt;    <a class="code" href="namespaceX86ISA.html#a240abf52b962b44d8f18aad15edace65">enable</a>;
<a name="l00191"></a><a class="code" href="classHDLcd.html#a8b3d3dd450f66100b4fc3ee67662400f">00191</a>         Bitfield&lt;31,1&gt; <a class="code" href="classHDLcd.html#a8b3d3dd450f66100b4fc3ee67662400f">reserved_31_1</a>;
<a name="l00192"></a>00192     <a class="code" href="classHDLcd.html#ae86db13e164e3134cde1780b881b5a2b">EndBitUnion</a>(<a class="code" href="structCommandReg.html">CommandReg</a>)
<a name="l00193"></a>00193 
<a name="l00194"></a>00194     <a class="code" href="classHDLcd.html#aec6571bbae7a34d8f4acc94770b38fad">BitUnion32</a>(PixelFormatReg)
<a name="l00195"></a><a class="code" href="classHDLcd.html#ad1c96f2932104796b8b9c1dced5ea441">00195</a>         Bitfield&lt;2,0&gt;  <a class="code" href="classHDLcd.html#ad1c96f2932104796b8b9c1dced5ea441">reserved_2_0</a>;
<a name="l00196"></a><a class="code" href="classHDLcd.html#a6d40f0125f53451c936adc705f608a2b">00196</a>         Bitfield&lt;4,3&gt;  <a class="code" href="classHDLcd.html#a6d40f0125f53451c936adc705f608a2b">bytes_per_pixel</a>;
<a name="l00197"></a><a class="code" href="classHDLcd.html#ac7a399166fd9782945b54c1218b6aa3f">00197</a>         Bitfield&lt;30,5&gt; <a class="code" href="classHDLcd.html#ac7a399166fd9782945b54c1218b6aa3f">reserved_30_5</a>;
<a name="l00198"></a><a class="code" href="classHDLcd.html#adba5c1ae8473b445f9be0125676b2852">00198</a>         Bitfield&lt;31&gt;   <a class="code" href="classHDLcd.html#adba5c1ae8473b445f9be0125676b2852">big_endian</a>;
<a name="l00199"></a>00199     <a class="code" href="classHDLcd.html#ae86db13e164e3134cde1780b881b5a2b">EndBitUnion</a>(PixelFormatReg)
<a name="l00200"></a>00200 
<a name="l00201"></a>00201     <a class="code" href="classHDLcd.html#aec6571bbae7a34d8f4acc94770b38fad">BitUnion32</a>(ColorSelectReg)
<a name="l00202"></a><a class="code" href="classHDLcd.html#a7a229a4786deeddd59c6091247a8c8a6">00202</a>         Bitfield&lt;4,0&gt;   <a class="code" href="classHDLcd.html#a7a229a4786deeddd59c6091247a8c8a6">offset</a>;
<a name="l00203"></a>00203         Bitfield&lt;7,5&gt;   <a class="code" href="classHDLcd.html#ada612a1f3eac7720c95c8b754b004b62">reserved_7_5</a>;
<a name="l00204"></a><a class="code" href="classHDLcd.html#a9165522b50dc058c1a097ae26260fc61">00204</a>         Bitfield&lt;11,8&gt;  <a class="code" href="classHDLcd.html#a9165522b50dc058c1a097ae26260fc61">size</a>;
<a name="l00205"></a><a class="code" href="classHDLcd.html#aead24f2eb2742ac7708882a7d9616412">00205</a>         Bitfield&lt;15,12&gt; <a class="code" href="classHDLcd.html#aead24f2eb2742ac7708882a7d9616412">reserved_15_12</a>;
<a name="l00206"></a><a class="code" href="classHDLcd.html#a8ff8f961eef85324f222954cc8ba53ee">00206</a>         Bitfield&lt;23,16&gt; <a class="code" href="classHDLcd.html#a8ff8f961eef85324f222954cc8ba53ee">default_color</a>;
<a name="l00207"></a><a class="code" href="classHDLcd.html#a55b96b8eb8acba57e5ed38854674db7e">00207</a>         Bitfield&lt;31,24&gt; <a class="code" href="classHDLcd.html#a55b96b8eb8acba57e5ed38854674db7e">reserved_31_24</a>;
<a name="l00208"></a>00208     <a class="code" href="classHDLcd.html#ae86db13e164e3134cde1780b881b5a2b">EndBitUnion</a>(ColorSelectReg)
<a name="l00216"></a>00216     VersionReg <a class="code" href="namespaceslicc_1_1main.html#af9c8593b58583463efe6932e24c9d6e6">version</a>;             
<a name="l00217"></a><a class="code" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">00217</a>     InterruptReg <a class="code" href="classHDLcd.html#af1d60d459d94a3bef2f6e83bdc4c1c43">int_rawstat</a>;       
<a name="l00218"></a><a class="code" href="classHDLcd.html#ab96a978a299a4bf65839845c1c33f414">00218</a>     InterruptReg <a class="code" href="classHDLcd.html#ab96a978a299a4bf65839845c1c33f414">int_clear</a>;         
<a name="l00219"></a><a class="code" href="classHDLcd.html#a8343af5ba122012f4b5b3515d8675b7e">00219</a>     InterruptReg <a class="code" href="classHDLcd.html#a8343af5ba122012f4b5b3515d8675b7e">int_mask</a>;          
<a name="l00220"></a><a class="code" href="classHDLcd.html#a814b02fed91486dd6000055cd1c43e1d">00220</a>     InterruptReg <a class="code" href="classHDLcd.html#a814b02fed91486dd6000055cd1c43e1d">int_status</a>;        
<a name="l00221"></a><a class="code" href="classHDLcd.html#ad9fd5ba71c5b40acdb6fd9adc4fa408b">00221</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classHDLcd.html#ad9fd5ba71c5b40acdb6fd9adc4fa408b">fb_base</a>;               
<a name="l00222"></a><a class="code" href="classHDLcd.html#ab09d20d3fb341f97725e4f27efbee0bd">00222</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classHDLcd.html#ab09d20d3fb341f97725e4f27efbee0bd">fb_line_length</a>;        
<a name="l00223"></a><a class="code" href="classHDLcd.html#a91b3e136cdfa6ff77cbb933239223919">00223</a>     FbLineCountReg <a class="code" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a>;   
<a name="l00224"></a><a class="code" href="classHDLcd.html#a4f20b06285d7a67e4182c190c282ab9b">00224</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classHDLcd.html#a4f20b06285d7a67e4182c190c282ab9b">fb_line_pitch</a>;         
<a name="l00225"></a><a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">00225</a>     BusOptsReg <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>;         
<a name="l00226"></a><a class="code" href="classHDLcd.html#ac1d1b9a4346f8ab7231a25ba0524ac99">00226</a>     TimingReg <a class="code" href="classHDLcd.html#ac1d1b9a4346f8ab7231a25ba0524ac99">v_sync</a>;               
<a name="l00227"></a><a class="code" href="classHDLcd.html#a47ccc8b58ab3dffa549476540cfff908">00227</a>     TimingReg <a class="code" href="classHDLcd.html#a47ccc8b58ab3dffa549476540cfff908">v_back_porch</a>;         
<a name="l00228"></a><a class="code" href="classHDLcd.html#a5a46b3a3d299f421a250c4ca6ca7d17c">00228</a>     TimingReg <a class="code" href="classHDLcd.html#a5a46b3a3d299f421a250c4ca6ca7d17c">v_data</a>;               
<a name="l00229"></a><a class="code" href="classHDLcd.html#ad663411b973f7cad0938ca048f683088">00229</a>     TimingReg <a class="code" href="classHDLcd.html#ad663411b973f7cad0938ca048f683088">v_front_porch</a>;        
<a name="l00230"></a><a class="code" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">00230</a>     TimingReg <a class="code" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a>;               
<a name="l00231"></a><a class="code" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">00231</a>     TimingReg <a class="code" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a>;         
<a name="l00232"></a><a class="code" href="classHDLcd.html#a3610505ba43835b9d3dd548e1848644e">00232</a>     TimingReg <a class="code" href="classHDLcd.html#a3610505ba43835b9d3dd548e1848644e">h_data</a>;               
<a name="l00233"></a><a class="code" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">00233</a>     TimingReg <a class="code" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">h_front_porch</a>;        
<a name="l00234"></a><a class="code" href="classHDLcd.html#a1b4fe6c75f98c50fad2eebc75f143dd2">00234</a>     PolaritiesReg <a class="code" href="classHDLcd.html#a1b4fe6c75f98c50fad2eebc75f143dd2">polarities</a>;       
<a name="l00235"></a><a class="code" href="classHDLcd.html#a9c5f330aee81c99b318a53af189fbc98">00235</a>     <a class="code" href="structCommandReg.html">CommandReg</a> <a class="code" href="classHDLcd.html#a9c5f330aee81c99b318a53af189fbc98">command</a>;             
<a name="l00236"></a><a class="code" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">00236</a>     PixelFormatReg <a class="code" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a>;    
<a name="l00237"></a><a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">00237</a>     ColorSelectReg <a class="code" href="classHDLcd.html#afd72c0120af049b009667393e8d7ce77">red_select</a>;      
<a name="l00238"></a><a class="code" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">00238</a>     ColorSelectReg <a class="code" href="classHDLcd.html#abe59898cf9345a10d5927b545e832923">green_select</a>;    
<a name="l00239"></a><a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">00239</a>     ColorSelectReg <a class="code" href="classHDLcd.html#af7a5fa704ed84e7d98a264c3ddd8b794">blue_select</a>;     
<a name="l00243"></a><a class="code" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">00243</a>     const <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="code" href="classHDLcd.html#a1482911218ac61eabec3de2d904b8274">pixelClock</a>;
<a name="l00244"></a>00244 
<a name="l00246"></a><a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">00246</a>     <a class="code" href="classVncInput.html">VncInput</a> *<a class="code" href="classHDLcd.html#a52d1b5d3426a30e18a452cd67d87ec13">vnc</a>;
<a name="l00247"></a>00247 
<a name="l00249"></a><a class="code" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">00249</a>     <a class="code" href="classBitmap.html">Bitmap</a> *<a class="code" href="classHDLcd.html#ada429bf89af3356a338f9532d68623cc">bmp</a>;
<a name="l00250"></a>00250 
<a name="l00252"></a><a class="code" href="classHDLcd.html#af724472dcdfb49ce72ef865c101a1c0d">00252</a>     std::ostream *<a class="code" href="classHDLcd.html#af724472dcdfb49ce72ef865c101a1c0d">pic</a>;
<a name="l00253"></a>00253 
<a name="l00263"></a><a class="code" href="classHDLcd_1_1DmaDoneEvent.html">00263</a>     class <a class="code" href="classHDLcd_1_1DmaDoneEvent.html">DmaDoneEvent</a> : public <a class="code" href="classEvent.html">Event</a>
<a name="l00264"></a>00264     {
<a name="l00265"></a>00265       <span class="keyword">private</span>:
<a name="l00267"></a><a class="code" href="classHDLcd_1_1DmaDoneEvent.html#a7f03e9152bceeb627cf7ecd2ce94781a">00267</a>         <a class="code" href="classHDLcd.html">HDLcd</a> &amp;obj;
<a name="l00268"></a>00268 
<a name="l00270"></a><a class="code" href="classHDLcd_1_1DmaDoneEvent.html#a2f0f49b234af2515eee766ba335f7dc3">00270</a>         <span class="keywordtype">size_t</span> transSize;
<a name="l00271"></a>00271 
<a name="l00272"></a>00272       <span class="keyword">public</span>:
<a name="l00278"></a><a class="code" href="classHDLcd_1_1DmaDoneEvent.html#a4acb43ff14cf95fdb8b82edab387d481">00278</a>         <a class="code" href="classHDLcd_1_1DmaDoneEvent.html">DmaDoneEvent</a>(<a class="code" href="classHDLcd.html">HDLcd</a> *_obj)
<a name="l00279"></a>00279             : Event(), obj(*_obj), transSize(0) {}
<a name="l00280"></a>00280 
<a name="l00286"></a><a class="code" href="classHDLcd_1_1DmaDoneEvent.html#a12d27d2abd590125ec6c776106e001da">00286</a>         <span class="keywordtype">void</span> <a class="code" href="classHDLcd_1_1DmaDoneEvent.html#a12d27d2abd590125ec6c776106e001da">setTransactionSize</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespaceArmISA.html#a41a9f22a6c7645fac2f8d633371e354d">len</a>) {
<a name="l00287"></a>00287             transSize = len;
<a name="l00288"></a>00288         }
<a name="l00289"></a>00289 
<a name="l00295"></a><a class="code" href="classHDLcd_1_1DmaDoneEvent.html#a356e84d2c44afe22a5887853711ff2a2">00295</a>         <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd_1_1DmaDoneEvent.html#a356e84d2c44afe22a5887853711ff2a2">getTransactionSize</a>()<span class="keyword"> const </span>{
<a name="l00296"></a>00296             <span class="keywordflow">return</span> transSize;
<a name="l00297"></a>00297         }
<a name="l00298"></a>00298 
<a name="l00299"></a><a class="code" href="classHDLcd_1_1DmaDoneEvent.html#a2e9c5136d19b1a95fc427e0852deab5c">00299</a>         <span class="keywordtype">void</span> <a class="code" href="classHDLcd_1_1DmaDoneEvent.html#a2e9c5136d19b1a95fc427e0852deab5c">process</a>() {
<a name="l00300"></a>00300             obj.<a class="code" href="classHDLcd.html#aa86bef1e89693640a33feac9f6871f35">dmaDone</a>(<span class="keyword">this</span>);
<a name="l00301"></a>00301         }
<a name="l00302"></a>00302 
<a name="l00303"></a><a class="code" href="classHDLcd_1_1DmaDoneEvent.html#a6490f765a824ced1cc94979609fe7e07">00303</a>         <span class="keyword">const</span> std::string <a class="code" href="classHDLcd_1_1DmaDoneEvent.html#a6490f765a824ced1cc94979609fe7e07">name</a>()<span class="keyword"> const </span>{
<a name="l00304"></a>00304             <span class="keywordflow">return</span> obj.<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.DmaDoneEvent&quot;</span>;
<a name="l00305"></a>00305         }
<a name="l00306"></a>00306     };
<a name="l00307"></a>00307 
<a name="l00309"></a><a class="code" href="classHDLcd.html#a9c95baa754410596ad866c39aba696f4">00309</a>     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="code" href="classHDLcd.html#a9c95baa754410596ad866c39aba696f4">frameReadStartTime</a>;
<a name="l00310"></a>00310 
<a name="l00312"></a><a class="code" href="classHDLcd.html#ae74c38d13416c4966fdd5c7db4678607">00312</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="classHDLcd.html#ae74c38d13416c4966fdd5c7db4678607">dmaStartAddr</a>;
<a name="l00313"></a>00313 
<a name="l00315"></a><a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">00315</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="classHDLcd.html#afff19aa29c60ac58e1bfa8689c58b923">dmaCurAddr</a>;
<a name="l00316"></a>00316 
<a name="l00319"></a><a class="code" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">00319</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="classHDLcd.html#a49db4d0a53163e636aa5a9e23b93b50c">dmaMaxAddr</a>;
<a name="l00320"></a>00320 
<a name="l00322"></a><a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">00322</a>     <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#a4f93e5868d1229f860a8ca2bfeaa5a12">dmaPendingNum</a>;
<a name="l00323"></a>00323 
<a name="l00325"></a><a class="code" href="classHDLcd.html#a2c55466de4118724cb375f5d1c7844e8">00325</a>     <span class="keywordtype">bool</span> <a class="code" href="classHDLcd.html#a2c55466de4118724cb375f5d1c7844e8">frameUnderrun</a>;
<a name="l00326"></a>00326 
<a name="l00328"></a><a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">00328</a>     uint8_t *<a class="code" href="classHDLcd.html#af1670e6105cdc695dd52fdde8c18f3e1">virtualDisplayBuffer</a>;
<a name="l00329"></a>00329 
<a name="l00331"></a><a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">00331</a>     <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a>;
<a name="l00332"></a>00332 
<a name="l00334"></a><a class="code" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">00334</a>     <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#a9b265584471f3f05939bd3891884ba23">pixelIndex</a>;
<a name="l00335"></a>00335 
<a name="l00337"></a><a class="code" href="classHDLcd.html#ad49d02ec4064ddf6d7055dcdc6128e20">00337</a>     <span class="keywordtype">bool</span> <a class="code" href="classHDLcd.html#ad49d02ec4064ddf6d7055dcdc6128e20">doUpdateParams</a>;
<a name="l00338"></a>00338 
<a name="l00340"></a><a class="code" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">00340</a>     <span class="keywordtype">bool</span> <a class="code" href="classHDLcd.html#a36c69169afb7a9e1f41eb2b5fc7516c5">frameUnderway</a>;
<a name="l00341"></a>00341 
<a name="l00346"></a><a class="code" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">00346</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a>;
<a name="l00347"></a>00347 
<a name="l00355"></a><a class="code" href="classHDLcd.html#ac032891f1184bb5cfedef5c07217b0e9">00355</a>     <span class="keyword">inline</span> uint16_t <a class="code" href="classHDLcd.html#ac032891f1184bb5cfedef5c07217b0e9">maxOutstandingDma</a>()<span class="keyword"> const </span>{
<a name="l00356"></a>00356         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>.max_outstanding;
<a name="l00357"></a>00357     }
<a name="l00358"></a>00358 
<a name="l00364"></a><a class="code" href="classHDLcd.html#a83badcd3087541a2fd96f093739247cb">00364</a>     <span class="keyword">inline</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classHDLcd.html#a83badcd3087541a2fd96f093739247cb">bytesFreeInPixelBuffer</a>()<span class="keyword"> const </span>{
<a name="l00365"></a>00365         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#a43f658311547cdd328f725c29f629d43">PIXEL_BUFFER_CAPACITY</a> - (<a class="code" href="classHDLcd.html#a77d3768993df37b5ded2ce8a0567db9e">pixelBufferSize</a> + <a class="code" href="classHDLcd.html#afea33d6bd5ce3008fa372e08f27ca95e">dmaBytesInFlight</a>);
<a name="l00366"></a>00366     }
<a name="l00367"></a>00367 
<a name="l00373"></a><a class="code" href="classHDLcd.html#addfe179a028990a8ef8df5d347b5b7a9">00373</a>     <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#addfe179a028990a8ef8df5d347b5b7a9">dmaBurstLength</a>()<span class="keyword"> const </span>{
<a name="l00374"></a>00374         assert(<a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>.burst_len &lt;= <a class="code" href="classHDLcd.html#aace62e6eea905bd83b1d848acf8e39c9">MAX_BURST_LEN</a>);
<a name="l00375"></a>00375         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#afdc67b9cdc0c178e0855cbe989449577">bus_options</a>.burst_len;
<a name="l00376"></a>00376     }
<a name="l00377"></a>00377 
<a name="l00383"></a><a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">00383</a>     <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>()<span class="keyword"> const </span>{
<a name="l00384"></a>00384         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#aadff074534cd557dcaa412b3a5860be5">pixel_format</a>.bytes_per_pixel + 1;
<a name="l00385"></a>00385     }
<a name="l00386"></a>00386 
<a name="l00392"></a><a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">00392</a>     <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#a20646dd69e82674924c6e5eb1458eefa">width</a>()<span class="keyword"> const </span>{
<a name="l00393"></a>00393         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#ab09d20d3fb341f97725e4f27efbee0bd">fb_line_length</a> / <a class="code" href="classHDLcd.html#aceeb8e7b68e5186d2459b6ec91a71169">bytesPerPixel</a>();
<a name="l00394"></a>00394     }
<a name="l00395"></a>00395 
<a name="l00401"></a><a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">00401</a>     <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="classHDLcd.html#ac0e3c6ba1d3f8a8e50aa3e3897210a2b">height</a>()<span class="keyword"> const </span>{
<a name="l00402"></a>00402         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#adeb07f49b4b2b8898397dbec03f22bb3">fb_line_count</a>.fb_line_count;
<a name="l00403"></a>00403     }
<a name="l00404"></a>00404 
<a name="l00411"></a><a class="code" href="classHDLcd.html#a7b7fa24d6d051f77c5554b18b422f016">00411</a>     <span class="keyword">inline</span> uint64_t <a class="code" href="classHDLcd.html#a7b7fa24d6d051f77c5554b18b422f016">PClksPerLine</a>()<span class="keyword"> const </span>{
<a name="l00412"></a>00412         <span class="keywordflow">return</span> <a class="code" href="classHDLcd.html#a2bafb13ce63125c580ceb36a81af2817">h_back_porch</a>.val + 1 +
<a name="l00413"></a>00413                <a class="code" href="classHDLcd.html#a3610505ba43835b9d3dd548e1848644e">h_data</a>.val + 1 +
<a name="l00414"></a>00414                <a class="code" href="classHDLcd.html#ab4874d5422f23d038b1a7274da8f43e7">h_front_porch</a>.val + 1 +
<a name="l00415"></a>00415                <a class="code" href="classHDLcd.html#a91efa037cb143bc92279f190b4423748">h_sync</a>.val + 1;
<a name="l00416"></a>00416     }
<a name="l00417"></a>00417 
<a name="l00419"></a>00419     <span class="keywordtype">void</span> <a class="code" href="classHDLcd.html#a0eb6ee93145ff20e40a51ae7b8e4debf">updateVideoParams</a>(<span class="keywordtype">bool</span> unserializing);
<a name="l00420"></a>00420 
<a name="l00422"></a>00422     <span class="keywordtype">void</span> <a class="code" href="classHDLcd.html#ab251ef5c4d9e1f0239542a9d8aa0dc3e">generateInterrupt</a>();
<a name="l00423"></a>00423 
<a name="l00425"></a>00425     <span class="keywordtype">void</span> <a class="code" href="classHDLcd.html#a24932aa8063bd34ee82a44b55990fc56">startFrame</a>();
<a name="l00426"></a>00426 
<a name="l00428"></a>00428     <span class="keywordtype">void</span> <a class="code" href="classHDLcd.html#a275cb0fc5850b339346d533d2e65aaa8">endFrame</a>();
<a name="l00429"></a>00429 
<a name="l00431"></a>00431     <span class="keywordtype">void</span> <a class="code" href="classHDLcd.html#a8b6bacaad93cdca1a4f0697be74311c1">fillPixelBuffer</a>();
<a name="l00432"></a>00432 
<a name="l00434"></a>00434     <span class="keywordtype">void</span> <a class="code" href="classHDLcd.html#aa86bef1e89693640a33feac9f6871f35">dmaDone</a>(DmaDoneEvent *<a class="code" href="namespaceMipsISA.html#aa3b803f4777161a2825178dabfb154f0">event</a>);
<a name="l00435"></a>00435 
<a name="l00437"></a>00437     <span class="keywordtype">void</span> <a class="code" href="classHDLcd.html#a0a49e224296b89d614be23179d98d6a3">renderPixel</a>();
<a name="l00438"></a>00438 
<a name="l00440"></a><a class="code" href="classHDLcd.html#ac7738466b6b60afeb71551c4f830d4fa">00440</a>     <a class="code" href="classEventWrapper.html">EventWrapper&lt;HDLcd, &amp;HDLcd::startFrame&gt;</a> <a class="code" href="classHDLcd.html#ac7738466b6b60afeb71551c4f830d4fa">startFrameEvent</a>;
<a name="l00441"></a>00441 
<a name="l00443"></a><a class="code" href="classHDLcd.html#afec13618cf33587eef480a7e70dece76">00443</a>     <a class="code" href="classEventWrapper.html">EventWrapper&lt;HDLcd, &amp;HDLcd::endFrame&gt;</a> <a class="code" href="classHDLcd.html#afec13618cf33587eef480a7e70dece76">endFrameEvent</a>;
<a name="l00444"></a>00444 
<a name="l00446"></a><a class="code" href="classHDLcd.html#af37803439ed3050f73510b0f8e0523fc">00446</a>     <a class="code" href="classEventWrapper.html">EventWrapper&lt;HDLcd, &amp;HDLcd::renderPixel&gt;</a> <a class="code" href="classHDLcd.html#af37803439ed3050f73510b0f8e0523fc">renderPixelEvent</a>;
<a name="l00447"></a>00447 
<a name="l00449"></a><a class="code" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">00449</a>     <a class="code" href="classEventWrapper.html">EventWrapper&lt;HDLcd, &amp;HDLcd::fillPixelBuffer&gt;</a> <a class="code" href="classHDLcd.html#a1735216e127216309b2b871f35b62fc7">fillPixelBufferEvent</a>;
<a name="l00450"></a>00450 
<a name="l00452"></a><a class="code" href="classHDLcd.html#a5ae08b242f478669f0686028d558332a">00452</a>     <a class="code" href="classEventWrapper.html">EventWrapper&lt;HDLcd, &amp;HDLcd::generateInterrupt&gt;</a> <a class="code" href="classHDLcd.html#a5ae08b242f478669f0686028d558332a">intEvent</a>;
<a name="l00453"></a>00453 
<a name="l00471"></a><a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">00471</a>     <a class="code" href="classstd_1_1vector.html">std::vector&lt;DmaDoneEvent&gt;</a> <a class="code" href="classHDLcd.html#aa50a0179a2d530a0a45d74b014c425fe">dmaDoneEventAll</a>;
<a name="l00472"></a>00472 
<a name="l00474"></a><a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">00474</a>     <a class="code" href="classstd_1_1vector.html">std::vector&lt;DmaDoneEvent *&gt;</a> <a class="code" href="classHDLcd.html#ada9c1832b166debd201f034b2fcb4ab2">dmaDoneEventFree</a>;
<a name="l00477"></a><a class="code" href="classHDLcd.html#abf8ed1a0152ea70d689ffce800cd32fd">00477</a>     <span class="keywordtype">bool</span> <a class="code" href="classHDLcd.html#abf8ed1a0152ea70d689ffce800cd32fd">enableCapture</a>;
<a name="l00478"></a>00478 
<a name="l00479"></a>00479   <span class="keyword">public</span>:
<a name="l00480"></a><a class="code" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">00480</a>     <span class="keyword">typedef</span> HDLcdParams <a class="code" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">Params</a>;
<a name="l00481"></a>00481 
<a name="l00482"></a>00482     <span class="keyword">const</span> <a class="code" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">Params</a> *
<a name="l00483"></a><a class="code" href="classHDLcd.html#acd3c3feb78ae7a8f88fe0f110a718dff">00483</a>     <a class="code" href="classHDLcd.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>()<span class="keyword"> const</span>
<a name="l00484"></a>00484 <span class="keyword">    </span>{
<a name="l00485"></a>00485         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">Params</a> *<span class="keyword">&gt;</span>(<a class="code" href="classSimObject.html#acaf6024ae9dda44bfb1c67e05ad70aef">_params</a>);
<a name="l00486"></a>00486     }
<a name="l00487"></a>00487     <a class="code" href="classHDLcd.html#a02114caff8968787e64ab481aeb6ae09">HDLcd</a>(<span class="keyword">const</span> <a class="code" href="classHDLcd.html#a31ccb03af3b5962a67bed42eca6ce2f0">Params</a> *<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>);
<a name="l00488"></a>00488     <a class="code" href="classHDLcd.html#af9e41a7cf9baf266c10c60ea6fb4b529">~HDLcd</a>();
<a name="l00489"></a>00489 
<a name="l00490"></a>00490     <span class="keyword">virtual</span> <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="code" href="classHDLcd.html#a613ec7d5e1ec64f8d21fec78ae8e568e">read</a>(<a class="code" href="classPacket.html">PacketPtr</a> pkt);
<a name="l00491"></a>00491     <span class="keyword">virtual</span> <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="code" href="classHDLcd.html#a4cefab464e72b5dd42c003a0a4341802">write</a>(<a class="code" href="classPacket.html">PacketPtr</a> pkt);
<a name="l00492"></a>00492 
<a name="l00493"></a>00493     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classHDLcd.html#a53e036786d17361be4c7320d39c99b84">serialize</a>(std::ostream &amp;<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>);
<a name="l00494"></a>00494     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classHDLcd.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a>(<a class="code" href="classCheckpoint.html">Checkpoint</a> *cp, <span class="keyword">const</span> std::string &amp;section);
<a name="l00495"></a>00495 
<a name="l00501"></a>00501     <a class="code" href="classstd_1_1list.html">AddrRangeList</a> <a class="code" href="classHDLcd.html#a36cf113d5e5e091ebddb32306c098fae">getAddrRanges</a>() <span class="keyword">const</span>;
<a name="l00502"></a>00502 };
<a name="l00503"></a>00503 
<a name="l00504"></a>00504 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
