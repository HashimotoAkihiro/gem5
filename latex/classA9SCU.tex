\hypertarget{classA9SCU}{
\section{クラス A9SCU}
\label{classA9SCU}\index{A9SCU@{A9SCU}}
}


{\ttfamily \#include $<$a9scu.hh$>$}A9SCUに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=7cm]{classA9SCU}
\end{center}
\end{figure}
\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
typedef A9SCUParams \hyperlink{classA9SCU_a6264a26c977c4e8d51cb6b3d6cd3a842}{Params}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classA9SCU_aafe83320aca70b23aeacd2370cc7c905}{A9SCU} (\hyperlink{classA9SCU_a6264a26c977c4e8d51cb6b3d6cd3a842}{Params} $\ast$p)
\item 
virtual \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classA9SCU_a613ec7d5e1ec64f8d21fec78ae8e568e}{read} (\hyperlink{classPacket}{PacketPtr} pkt)
\item 
virtual \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classA9SCU_a4cefab464e72b5dd42c003a0a4341802}{write} (\hyperlink{classPacket}{PacketPtr} pkt)
\end{DoxyCompactItemize}
\subsection*{Protected 型}
\begin{DoxyCompactItemize}
\item 
enum \{ \hyperlink{classA9SCU_a394b3903fbf00ba2b6243f60689a5a5fa472675dc9774d12a861cde09d5f590e2}{Control} =  0x00, 
\hyperlink{classA9SCU_a394b3903fbf00ba2b6243f60689a5a5fa5c9e6911f4248ff02074469a6b247156}{Config} =  0x04
 \}
\end{DoxyCompactItemize}


\subsection{型定義}
\hypertarget{classA9SCU_a6264a26c977c4e8d51cb6b3d6cd3a842}{
\index{A9SCU@{A9SCU}!Params@{Params}}
\index{Params@{Params}!A9SCU@{A9SCU}}
\subsubsection[{Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef A9SCUParams {\bf Params}}}
\label{classA9SCU_a6264a26c977c4e8d51cb6b3d6cd3a842}


\hyperlink{classBasicPioDevice_a2845515ac6467f10540747053c8a0449}{BasicPioDevice}を再定義しています。

\subsection{列挙型}
\hypertarget{classA9SCU_a394b3903fbf00ba2b6243f60689a5a5f}{
\subsubsection[{"@42}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classA9SCU_a394b3903fbf00ba2b6243f60689a5a5f}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{Control@{Control}!A9SCU@{A9SCU}}\index{A9SCU@{A9SCU}!Control@{Control}}\item[{\em 
\hypertarget{classA9SCU_a394b3903fbf00ba2b6243f60689a5a5fa472675dc9774d12a861cde09d5f590e2}{
Control}
\label{classA9SCU_a394b3903fbf00ba2b6243f60689a5a5fa472675dc9774d12a861cde09d5f590e2}
}]\index{Config@{Config}!A9SCU@{A9SCU}}\index{A9SCU@{A9SCU}!Config@{Config}}\item[{\em 
\hypertarget{classA9SCU_a394b3903fbf00ba2b6243f60689a5a5fa5c9e6911f4248ff02074469a6b247156}{
Config}
\label{classA9SCU_a394b3903fbf00ba2b6243f60689a5a5fa5c9e6911f4248ff02074469a6b247156}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
53          {
54         Control     = 0x00,
55         Config      = 0x04,
56     };
\end{DoxyCode}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classA9SCU_aafe83320aca70b23aeacd2370cc7c905}{
\index{A9SCU@{A9SCU}!A9SCU@{A9SCU}}
\index{A9SCU@{A9SCU}!A9SCU@{A9SCU}}
\subsubsection[{A9SCU}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A9SCU} ({\bf Params} $\ast$ {\em p})}}
\label{classA9SCU_aafe83320aca70b23aeacd2370cc7c905}
The constructor for \hyperlink{classRealView}{RealView} just registers itself with the MMU. 
\begin{DoxyParams}{引数}
\item[{\em p}]params structure \end{DoxyParams}



\begin{DoxyCode}
48     : BasicPioDevice(p, 0x60)
49 {
50 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classA9SCU_a613ec7d5e1ec64f8d21fec78ae8e568e}{
\index{A9SCU@{A9SCU}!read@{read}}
\index{read@{read}!A9SCU@{A9SCU}}
\subsubsection[{read}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} read ({\bf PacketPtr} {\em pkt})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classA9SCU_a613ec7d5e1ec64f8d21fec78ae8e568e}
Handle a read to the device 
\begin{DoxyParams}{引数}
\item[{\em pkt}]The memory request. \item[{\em data}]Where to put the data. \end{DoxyParams}


\hyperlink{classPioDevice_a842312590432036092c422c87a442358}{PioDevice}を実装しています。


\begin{DoxyCode}
54 {
55     assert(pkt->getAddr() >= pioAddr && pkt->getAddr() < pioAddr + pioSize);
56     assert(pkt->getSize() == 4);
57     Addr daddr = pkt->getAddr() - pioAddr;
58     pkt->allocate();
59 
60     switch(daddr) {
61       case Control:
62         pkt->set(1); // SCU already enabled
63         break;
64       case Config:
65         /* Without making a completely new SCU, we can use the core count field
66          * as 4 bits and inform the OS of up to 16 CPUs.  Although the core
67          * count is technically bits [1:0] only, bits [3:2] are SBZ for future
68          * expansion like this.
69          */
70         if (sys->numContexts() > 4) {
71             warn_once("A9SCU with >4 CPUs is unsupported\n");
72             if (sys->numContexts() > 15)
73                 fatal("Too many CPUs (%d) for A9SCU!\n", sys->numContexts());
74         }
75         int smp_bits, core_cnt;
76         smp_bits = power(2,sys->numContexts()) - 1;
77         core_cnt = sys->numContexts() - 1;
78         pkt->set(smp_bits << 4 | core_cnt);
79         break;
80       default:
81         // Only configuration register is implemented
82         panic("Tried to read SCU at offset %#x\n", daddr);
83         break;
84     }
85     pkt->makeAtomicResponse();
86     return pioDelay;
87 
88 }
\end{DoxyCode}
\hypertarget{classA9SCU_a4cefab464e72b5dd42c003a0a4341802}{
\index{A9SCU@{A9SCU}!write@{write}}
\index{write@{write}!A9SCU@{A9SCU}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} write ({\bf PacketPtr} {\em pkt})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classA9SCU_a4cefab464e72b5dd42c003a0a4341802}
All writes are panic. 
\begin{DoxyParams}{引数}
\item[{\em pkt}]The memory request. \item[{\em data}]the data \end{DoxyParams}


\hyperlink{classPioDevice_afe8371668d023bb2516b286e5e399b6f}{PioDevice}を実装しています。


\begin{DoxyCode}
92 {
93     assert(pkt->getAddr() >= pioAddr && pkt->getAddr() < pioAddr + pioSize);
94 
95     Addr daddr = pkt->getAddr() - pioAddr;
96     switch (daddr) {
97       default:
98         // Nothing implemented at this point
99         panic("Tried to write SCU at offset %#x\n", daddr);
100         break;
101     }
102     pkt->makeAtomicResponse();
103     return pioDelay;
104 }
\end{DoxyCode}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
dev/arm/\hyperlink{a9scu_8hh}{a9scu.hh}\item 
dev/arm/\hyperlink{a9scu_8cc}{a9scu.cc}\end{DoxyCompactItemize}
