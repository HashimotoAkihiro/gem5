\hypertarget{core_8cc}{
\section{sim/core.cc}
\label{core_8cc}\index{sim/core.cc@{sim/core.cc}}
}
{\ttfamily \#include $<$iostream$>$}\par
{\ttfamily \#include $<$string$>$}\par
{\ttfamily \#include \char`\"{}base/callback.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}base/output.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}sim/core.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}sim/eventq.hh\char`\"{}}\par
\subsection*{ネームスペース}
\begin{DoxyCompactItemize}
\item 
namespace \hyperlink{namespaceSimClock}{SimClock}
\item 
namespace \hyperlink{namespaceSimClock_1_1Float}{SimClock::Float}
\item 
namespace \hyperlink{namespaceSimClock_1_1Int}{SimClock::Int}
\end{DoxyCompactItemize}
\subsection*{関数}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{core_8cc_a563bf37014962b47bb575473a2d75d93}{setClockFrequency} (\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} ticksPerSecond)
\item 
void \hyperlink{core_8cc_abfdec28cdaa5264936db6d3d32377409}{setOutputDir} (const string \&dir)
\item 
\hyperlink{classCallbackQueue}{CallbackQueue} \& \hyperlink{core_8cc_a6fc0361365d8483385bbdafb157b7500}{exitCallbacks} ()
\item 
void \hyperlink{core_8cc_acbc78ce26c7964097d562909c589d585}{registerExitCallback} (\hyperlink{classCallback}{Callback} $\ast$callback)
\item 
void \hyperlink{core_8cc_a77e16fe0c066fb9cde89cf37cfe3d2c7}{doExitCleanup} ()
\end{DoxyCompactItemize}
\subsection*{変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{namespaceSimClock_af196276bdf8e65836e88981a33d57943}{Frequency}
\begin{DoxyCompactList}\small\item\em The simulated frequency of \hyperlink{statistics_8hh_a7acdccbf0d35ce0c159c0cdd36371b22}{curTick()}. (In ticks per second). \item\end{DoxyCompactList}\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{namespaceSimClock_1_1Int_a747b4704194d75d03891708cbba227b7}{s}
\begin{DoxyCompactList}\small\item\em second \item\end{DoxyCompactList}\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{namespaceSimClock_1_1Int_ac4888dd8ac1c3bbc038feb1b22a411bc}{ms}
\begin{DoxyCompactList}\small\item\em millisecond \item\end{DoxyCompactList}\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{namespaceSimClock_1_1Int_a5d9982f5170bf420523d942720c32d8c}{us}
\begin{DoxyCompactList}\small\item\em microsecond \item\end{DoxyCompactList}\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{namespaceSimClock_1_1Int_a370bc05be45c1b9f039369ffd5c0efd4}{ns}
\begin{DoxyCompactList}\small\item\em nanosecond \item\end{DoxyCompactList}\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{namespaceSimClock_1_1Int_a9f647c4d124b807dbc6569248ce7f3aa}{ps}
\begin{DoxyCompactList}\small\item\em picosecond \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}{\bf }\par
{\em \label{_amgrpd41d8cd98f00b204e9800998ecf8427e}
 }\begin{DoxyCompactItemize}
\item 
double \hyperlink{namespaceSimClock_1_1Float_ad62e712560f6344b96d4c080a2ba9c92}{s}
\begin{DoxyCompactList}\small\item\em second \item\end{DoxyCompactList}\item 
double \hyperlink{namespaceSimClock_1_1Float_ac0c30c1e98c242e3e868c424886912e5}{ms}
\begin{DoxyCompactList}\small\item\em millisecond \item\end{DoxyCompactList}\item 
double \hyperlink{namespaceSimClock_1_1Float_ae7c3f130041d41277e5d8509f85fa4c6}{us}
\begin{DoxyCompactList}\small\item\em microsecond \item\end{DoxyCompactList}\item 
double \hyperlink{namespaceSimClock_1_1Float_a476bed566643072ee0ed28f78d0db370}{ns}
\begin{DoxyCompactList}\small\item\em nanosecond \item\end{DoxyCompactList}\item 
double \hyperlink{namespaceSimClock_1_1Float_a2b58822b2dc20f33784218fa3dd7f7e5}{ps}
\begin{DoxyCompactList}\small\item\em picosecond \item\end{DoxyCompactList}\item 
double \hyperlink{namespaceSimClock_1_1Float_ae948b0dd36766efb49b99048c221a702}{Hz}
\begin{DoxyCompactList}\small\item\em Hz. \item\end{DoxyCompactList}\item 
double \hyperlink{namespaceSimClock_1_1Float_ab2e340334239e07b45475bf2b578bd1d}{kHz}
\begin{DoxyCompactList}\small\item\em kHz \item\end{DoxyCompactList}\item 
double \hyperlink{namespaceSimClock_1_1Float_a7a6d6f8f8fab330c0cc34994ece36b64}{MHz}
\begin{DoxyCompactList}\small\item\em MHz. \item\end{DoxyCompactList}\item 
double \hyperlink{namespaceSimClock_1_1Float_a9b4a24d7eeaec1a9d21d6f0f3b86527f}{GHZ}
\begin{DoxyCompactList}\small\item\em GHz. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}


\subsection{関数}
\hypertarget{core_8cc_a77e16fe0c066fb9cde89cf37cfe3d2c7}{
\index{core.cc@{core.cc}!doExitCleanup@{doExitCleanup}}
\index{doExitCleanup@{doExitCleanup}!core.cc@{core.cc}}
\subsubsection[{doExitCleanup}]{\setlength{\rightskip}{0pt plus 5cm}void doExitCleanup ()}}
\label{core_8cc_a77e16fe0c066fb9cde89cf37cfe3d2c7}
Do C++ simulator exit processing. Exported to SWIG to be invoked when simulator terminates via Python's atexit mechanism. 


\begin{DoxyCode}
126 {
127     exitCallbacks().process();
128     exitCallbacks().clear();
129 
130     cout.flush();
131 }
\end{DoxyCode}
\hypertarget{core_8cc_a6fc0361365d8483385bbdafb157b7500}{
\index{core.cc@{core.cc}!exitCallbacks@{exitCallbacks}}
\index{exitCallbacks@{exitCallbacks}!core.cc@{core.cc}}
\subsubsection[{exitCallbacks}]{\setlength{\rightskip}{0pt plus 5cm}{\bf CallbackQueue}\& exitCallbacks ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{core_8cc_a6fc0361365d8483385bbdafb157b7500}
Queue of C++ callbacks to invoke on simulator exit. 


\begin{DoxyCode}
106 {
107     static CallbackQueue theQueue;
108     return theQueue;
109 }
\end{DoxyCode}
\hypertarget{core_8cc_acbc78ce26c7964097d562909c589d585}{
\index{core.cc@{core.cc}!registerExitCallback@{registerExitCallback}}
\index{registerExitCallback@{registerExitCallback}!core.cc@{core.cc}}
\subsubsection[{registerExitCallback}]{\setlength{\rightskip}{0pt plus 5cm}void registerExitCallback ({\bf Callback} $\ast$ {\em callback})}}
\label{core_8cc_acbc78ce26c7964097d562909c589d585}
\hyperlink{classRegister}{Register} an exit callback. 


\begin{DoxyCode}
116 {
117     exitCallbacks().add(callback);
118 }
\end{DoxyCode}
\hypertarget{core_8cc_a563bf37014962b47bb575473a2d75d93}{
\index{core.cc@{core.cc}!setClockFrequency@{setClockFrequency}}
\index{setClockFrequency@{setClockFrequency}!core.cc@{core.cc}}
\subsubsection[{setClockFrequency}]{\setlength{\rightskip}{0pt plus 5cm}void setClockFrequency ({\bf Tick} {\em ticksPerSecond})}}
\label{core_8cc_a563bf37014962b47bb575473a2d75d93}



\begin{DoxyCode}
73 {
74     using namespace SimClock;
75     Frequency = ticksPerSecond;
76     Float::s = static_cast<double>(Frequency);
77     Float::ms = Float::s / 1.0e3;
78     Float::us = Float::s / 1.0e6;
79     Float::ns = Float::s / 1.0e9;
80     Float::ps = Float::s / 1.0e12;
81 
82     Float::Hz  = 1.0 / Float::s;
83     Float::kHz = 1.0 / Float::ms;
84     Float::MHz = 1.0 / Float::us;
85     Float::GHZ = 1.0 / Float::ns;
86 
87     Int::s  = Frequency;
88     Int::ms = Int::s / 1000;
89     Int::us = Int::ms / 1000;
90     Int::ns = Int::us / 1000;
91     Int::ps = Int::ns / 1000;
92 
93 }
\end{DoxyCode}
\hypertarget{core_8cc_abfdec28cdaa5264936db6d3d32377409}{
\index{core.cc@{core.cc}!setOutputDir@{setOutputDir}}
\index{setOutputDir@{setOutputDir}!core.cc@{core.cc}}
\subsubsection[{setOutputDir}]{\setlength{\rightskip}{0pt plus 5cm}void setOutputDir (const string \& {\em dir})}}
\label{core_8cc_abfdec28cdaa5264936db6d3d32377409}



\begin{DoxyCode}
97 {
98     simout.setDirectory(dir);
99 }
\end{DoxyCode}
