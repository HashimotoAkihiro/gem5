<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス DrainManager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス DrainManager</h1><!-- doxytag: class="DrainManager" -->
<p><code>#include &lt;<a class="el" href="drain_8hh_source.html">drain.hh</a>&gt;</code></p>

<p><a href="classDrainManager-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrainManager.html#a506f93f39ee1dafe8f3c8c2a52750690">DrainManager</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrainManager.html#a62f756d150df3c855b036af9c2e16d51">~DrainManager</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrainManager.html#ab5eefd157f1a652223437e06c6148169">getCount</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrainManager.html#a768ed4108d4a470957ab9bffef1f9181">setCount</a> (int count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrainManager.html#ab89d10e368d2e82061eddb9e40022382">signalDrainDone</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrainManager.html#ac5e51d21241b750913609915d78e7dcc">drainCycleDone</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDrainManager.html#a9f6ec1ea6f54a85f7a9130fb4f468a23">_count</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<p>This class coordinates draining of a <a class="el" href="classSystem.html">System</a>.</p>
<p>When draining a <a class="el" href="classSystem.html">System</a>, we need to make sure that all SimObjects in that system have drained their state before declaring the operation to be successful. This class keeps track of how many objects are still in the process of draining their state. Once it determines that all objects have drained their state, it exits the simulation loop.</p>
<dl class="note"><dt><b>覚え書き:</b></dt><dd>A <a class="el" href="classSystem.html">System</a> might not be completely drained even though the <a class="el" href="classDrainManager.html">DrainManager</a> has caused the simulation loop to exit. Draining needs to be restarted until all <a class="el" href="classDrainable.html">Drainable</a> objects declare that they don't need further simulation to be completely drained. See <a class="el" href="classDrainable.html">Drainable</a> for more information. </dd></dl>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a506f93f39ee1dafe8f3c8c2a52750690"></a><!-- doxytag: member="DrainManager::DrainManager" ref="a506f93f39ee1dafe8f3c8c2a52750690" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDrainManager.html">DrainManager</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00044"></a>00044     : <a class="code" href="classDrainManager.html#a9f6ec1ea6f54a85f7a9130fb4f468a23">_count</a>(0)
<a name="l00045"></a>00045 {
<a name="l00046"></a>00046 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a62f756d150df3c855b036af9c2e16d51"></a><!-- doxytag: member="DrainManager::~DrainManager" ref="a62f756d150df3c855b036af9c2e16d51" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classDrainManager.html">DrainManager</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00049"></a>00049 {
<a name="l00050"></a>00050 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="ac5e51d21241b750913609915d78e7dcc"></a><!-- doxytag: member="DrainManager::drainCycleDone" ref="ac5e51d21241b750913609915d78e7dcc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drainCycleDone </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCallback.html">Callback</a> when all registered <a class="el" href="classDrainable.html">Drainable</a> objects have completed a drain cycle. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00054"></a>00054 {
<a name="l00055"></a>00055     <a class="code" href="sim__events_8cc.html#abca976500ad365c77607ab77d87698a7">exitSimLoop</a>(<span class="stringliteral">&quot;Finished drain&quot;</span>, 0);
<a name="l00056"></a>00056 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab5eefd157f1a652223437e06c6148169"></a><!-- doxytag: member="DrainManager::getCount" ref="ab5eefd157f1a652223437e06c6148169" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int getCount </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the number of objects registered with this <a class="el" href="classDrainManager.html">DrainManager</a> that are currently draining their state.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>Number of objects currently draining. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00078"></a>00078 { <span class="keywordflow">return</span> <a class="code" href="classDrainManager.html#a9f6ec1ea6f54a85f7a9130fb4f468a23">_count</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a768ed4108d4a470957ab9bffef1f9181"></a><!-- doxytag: member="DrainManager::setCount" ref="a768ed4108d4a470957ab9bffef1f9181" args="(int count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setCount </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00080"></a>00080 { <a class="code" href="classDrainManager.html#a9f6ec1ea6f54a85f7a9130fb4f468a23">_count</a> = <a class="code" href="namespaceX86ISA.html#a668f84c330035fdb72824eb18e09cd09">count</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab89d10e368d2e82061eddb9e40022382"></a><!-- doxytag: member="DrainManager::signalDrainDone" ref="ab89d10e368d2e82061eddb9e40022382" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signalDrainDone </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify the <a class="el" href="classDrainManager.html">DrainManager</a> that a <a class="el" href="classDrainable.html">Drainable</a> object has finished draining. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00086"></a>00086                            {
<a name="l00087"></a>00087         assert(<a class="code" href="classDrainManager.html#a9f6ec1ea6f54a85f7a9130fb4f468a23">_count</a> &gt; 0);
<a name="l00088"></a>00088         <span class="keywordflow">if</span> (--<a class="code" href="classDrainManager.html#a9f6ec1ea6f54a85f7a9130fb4f468a23">_count</a> == 0)
<a name="l00089"></a>00089             <a class="code" href="classDrainManager.html#ac5e51d21241b750913609915d78e7dcc">drainCycleDone</a>();
<a name="l00090"></a>00090     }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a9f6ec1ea6f54a85f7a9130fb4f468a23"></a><!-- doxytag: member="DrainManager::_count" ref="a9f6ec1ea6f54a85f7a9130fb4f468a23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classDrainManager.html#a9f6ec1ea6f54a85f7a9130fb4f468a23">_count</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of objects still draining. </p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>sim/<a class="el" href="drain_8hh_source.html">drain.hh</a></li>
<li>sim/<a class="el" href="drain_8cc.html">drain.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
