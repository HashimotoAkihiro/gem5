\hypertarget{cprintftime_8cc}{
\section{unittest/cprintftime.cc}
\label{cprintftime_8cc}\index{unittest/cprintftime.cc@{unittest/cprintftime.cc}}
}
{\ttfamily \#include $<$iostream$>$}\par
{\ttfamily \#include $<$list$>$}\par
{\ttfamily \#include $<$sstream$>$}\par
{\ttfamily \#include $<$string$>$}\par
{\ttfamily \#include \char`\"{}base/cprintf.hh\char`\"{}}\par
\subsection*{関数}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{cprintftime_8cc_afd138cc57dc264323170a93cc805ebe4}{handle\_\-alarm} (int signal)
\item 
void \hyperlink{cprintftime_8cc_ae49a9462570fed004f01a1d4a2d2d936}{do\_\-test} (int seconds)
\item 
int \hyperlink{cprintftime_8cc_ae66f6b31b5ad750f1fe042a706a4e3d4}{main} ()
\end{DoxyCompactItemize}
\subsection*{変数}
\begin{DoxyCompactItemize}
\item 
volatile int \hyperlink{cprintftime_8cc_ad263606c4f32031e57d51306ae5cf58e}{stop} = false
\end{DoxyCompactItemize}


\subsection{関数}
\hypertarget{cprintftime_8cc_ae49a9462570fed004f01a1d4a2d2d936}{
\index{cprintftime.cc@{cprintftime.cc}!do\_\-test@{do\_\-test}}
\index{do\_\-test@{do\_\-test}!cprintftime.cc@{cprintftime.cc}}
\subsubsection[{do\_\-test}]{\setlength{\rightskip}{0pt plus 5cm}void do\_\-test (int {\em seconds})}}
\label{cprintftime_8cc_ae49a9462570fed004f01a1d4a2d2d936}



\begin{DoxyCode}
50 {
51     stop = false;
52     alarm(seconds);
53 }
\end{DoxyCode}
\hypertarget{cprintftime_8cc_afd138cc57dc264323170a93cc805ebe4}{
\index{cprintftime.cc@{cprintftime.cc}!handle\_\-alarm@{handle\_\-alarm}}
\index{handle\_\-alarm@{handle\_\-alarm}!cprintftime.cc@{cprintftime.cc}}
\subsubsection[{handle\_\-alarm}]{\setlength{\rightskip}{0pt plus 5cm}void handle\_\-alarm (int {\em signal})}}
\label{cprintftime_8cc_afd138cc57dc264323170a93cc805ebe4}



\begin{DoxyCode}
44 {
45     stop = true;
46 }
\end{DoxyCode}
\hypertarget{cprintftime_8cc_ae66f6b31b5ad750f1fe042a706a4e3d4}{
\index{cprintftime.cc@{cprintftime.cc}!main@{main}}
\index{main@{main}!cprintftime.cc@{cprintftime.cc}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main ()}}
\label{cprintftime_8cc_ae66f6b31b5ad750f1fe042a706a4e3d4}



\begin{DoxyCode}
57 {
58     stringstream result;
59     int iterations = 0;
60 
61     signal(SIGALRM, handle_alarm);
62 
63     do_test(10);
64     while (!stop) {
65         stringstream result;
66         ccprintf(result,
67                  "this is a %s of %d iterations %3.2f %#x\n",
68                  "test", iterations, 51.934, &result);
69 
70         iterations += 1;
71     }
72 
73     cprintf("completed %d iterations of ccprintf in 10s, %f iterations/s\n",
74             iterations, iterations / 10.0);
75 
76     do_test(10);
77     while (!stop) {
78         char result[1024];
79         sprintf(result,
80                  "this is a %s of %d iterations %3.2f %#x\n",
81                  "test", iterations, 51.934, &result);
82 
83         iterations += 1;
84     }
85 
86     cprintf("completed %d iterations of sprintf in 10s, %f iterations/s\n",
87             iterations, iterations / 10.0);
88 
89     return 0;
90 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{cprintftime_8cc_ad263606c4f32031e57d51306ae5cf58e}{
\index{cprintftime.cc@{cprintftime.cc}!stop@{stop}}
\index{stop@{stop}!cprintftime.cc@{cprintftime.cc}}
\subsubsection[{stop}]{\setlength{\rightskip}{0pt plus 5cm}volatile int {\bf stop} = false}}
\label{cprintftime_8cc_ad263606c4f32031e57d51306ae5cf58e}
