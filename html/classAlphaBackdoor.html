<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス AlphaBackdoor</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス AlphaBackdoor</h1><!-- doxytag: class="AlphaBackdoor" --><!-- doxytag: inherits="BasicPioDevice" -->
<p><code>#include &lt;<a class="el" href="backdoor_8hh_source.html">backdoor.hh</a>&gt;</code></p>
<div class="dynheader">
AlphaBackdoorに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classAlphaBackdoor.gif" usemap="#AlphaBackdoor_map" alt=""/>
  <map id="AlphaBackdoor_map" name="AlphaBackdoor_map">
<area href="classBasicPioDevice.html" alt="BasicPioDevice" shape="rect" coords="111,280,212,304"/>
<area href="classPioDevice.html" alt="PioDevice" shape="rect" coords="111,224,212,248"/>
<area href="classMemObject.html" alt="MemObject" shape="rect" coords="111,168,212,192"/>
<area href="classClockedObject.html" alt="ClockedObject" shape="rect" coords="111,112,212,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="111,56,212,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,101,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="111,0,212,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="222,0,323,24"/>
</map>
 </div>
</div>

<p><a href="classAlphaBackdoor-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAlphaBackdoor_1_1Access.html">Access</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef AlphaBackdoorParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#a3311d1ef17b579d409e4cf342f9c696f">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#aa3df553820be57af9fef79cf8c933afa">AlphaBackdoor</a> (const <a class="el" href="classAlphaBackdoor.html#a3311d1ef17b579d409e4cf342f9c696f">Params</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAlphaBackdoor.html#a3311d1ef17b579d409e4cf342f9c696f">Params</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#aecc7d8debf54990ffeaaed5bac7d7d81">startup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classm5_1_1params_1_1Tick.html">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#a613ec7d5e1ec64f8d21fec78ae8e568e">read</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classm5_1_1params_1_1Tick.html">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#a4cefab464e72b5dd42c003a0a4341802">write</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#ad6272f80ae37e8331e3969b3f072a801">serialize</a> (std::ostream &amp;os)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section)</td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" >union {</td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;<a class="el" href="structAlphaBackdoor_1_1Access.html">Access</a> *&nbsp;&nbsp;&nbsp;<a class="el" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a></td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;uint8_t *&nbsp;&nbsp;&nbsp;<a class="el" href="classAlphaBackdoor.html#ab2f889c072e672bb334695bb8a796d55">consoleData</a></td></tr>
<tr><td class="memItemLeft" valign="top">};&nbsp;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimpleDisk.html">SimpleDisk</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#a7a34a11311e1d03257d51166e64c9a9f">disk</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTerminal.html">Terminal</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#ad511a78bad32e194354d8323bc23a4e3">terminal</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAlphaSystem.html">AlphaSystem</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#a33258b14e97cdadc0a00878bba22adda">system</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseCPU.html">BaseCPU</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlphaBackdoor.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<p>Memory mapped interface to the system console. This device represents a shared data region between the OS <a class="el" href="namespaceKernel.html">Kernel</a> and the <a class="el" href="classSystem.html">System</a> Console Backdoor.</p>
<p>The system console is a small standalone program that is initially run when the system boots. It contains the necessary code to access the boot disk, to read/write from the console, and to pass boot parameters to the kernel.</p>
<p>This version of the system console is very different from the one that would be found in a real system. Many of the functions use some sort of backdoor to get their job done. For example, reading from the boot device on a real system would require a minimal device driver to access the disk controller, but since we have a simulator here, we are able to bypass the disk controller and access the disk image directly. There are also some things like reading the kernel off the disk image into memory that are normally taken care of by the console that are now taken care of by the simulator.</p>
<p>These shortcuts are acceptable since the system console is primarily used doing boot before the kernel has loaded its device drivers. </p>
<hr/><h2>型定義</h2>
<a class="anchor" id="a3311d1ef17b579d409e4cf342f9c696f"></a><!-- doxytag: member="AlphaBackdoor::Params" ref="a3311d1ef17b579d409e4cf342f9c696f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef AlphaBackdoorParams <a class="el" href="classAlphaBackdoor.html#a3311d1ef17b579d409e4cf342f9c696f">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classBasicPioDevice.html#a2845515ac6467f10540747053c8a0449">BasicPioDevice</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="aa3df553820be57af9fef79cf8c933afa"></a><!-- doxytag: member="AlphaBackdoor::AlphaBackdoor" ref="aa3df553820be57af9fef79cf8c933afa" args="(const Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAlphaBackdoor.html">AlphaBackdoor</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAlphaBackdoor.html#a3311d1ef17b579d409e4cf342f9c696f">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00065"></a>00065     : <a class="code" href="classBasicPioDevice.html#acd907d772eed45afbc723fd39de00481">BasicPioDevice</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structAlphaAccess.html">AlphaAccess</a>)),
<a name="l00066"></a>00066       <a class="code" href="classAlphaBackdoor.html#a7a34a11311e1d03257d51166e64c9a9f">disk</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;disk), <a class="code" href="classAlphaBackdoor.html#ad511a78bad32e194354d8323bc23a4e3">terminal</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;terminal),
<a name="l00067"></a>00067       <a class="code" href="classAlphaBackdoor.html#a33258b14e97cdadc0a00878bba22adda">system</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;system), <a class="code" href="classAlphaBackdoor.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;cpu)
<a name="l00068"></a>00068 {
<a name="l00069"></a>00069     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a> = <span class="keyword">new</span> Access();
<a name="l00070"></a>00070     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a589399e9f33ae0028f3868360bf5a665">last_offset</a> = <a class="code" href="classBasicPioDevice.html#a390529fe683187c290621e1822e0d5d1">pioSize</a> - 1;
<a name="l00071"></a>00071 
<a name="l00072"></a>00072     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#acd99bb05ca015e7d74448acb1deba7ca">version</a> = <a class="code" href="alpha_2access_8h.html#a230394ed2c06c294dc70028d0b579b5d">ALPHA_ACCESS_VERSION</a>;
<a name="l00073"></a>00073     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a0374285e1002cc600d14cc247fd69f94">diskUnit</a> = 1;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#ab117d67754396b0fafd41fe5b8c9a806">diskCount</a> = 0;
<a name="l00076"></a>00076     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a95271ef36180e56020f8e5f3814ff64e">diskPAddr</a> = 0;
<a name="l00077"></a>00077     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a5faab42437acf9c9f2d137fdc52d3131">diskBlock</a> = 0;
<a name="l00078"></a>00078     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#acbc96b4c47cd54efc8a5979bfb60f748">diskOperation</a> = 0;
<a name="l00079"></a>00079     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a0e8d6cc1d8754f3ca0765d5587997a57">outputChar</a> = 0;
<a name="l00080"></a>00080     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a648610dfd10a138f6e0897c45da0855c">inputChar</a> = 0;
<a name="l00081"></a>00081     std::memset(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a42f441fefccfd9ff9dcc3535cccbc427">cpuStack</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a42f441fefccfd9ff9dcc3535cccbc427">cpuStack</a>));
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="acd3c3feb78ae7a8f88fe0f110a718dff"></a><!-- doxytag: member="AlphaBackdoor::params" ref="acd3c3feb78ae7a8f88fe0f110a718dff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classAlphaBackdoor.html#a3311d1ef17b579d409e4cf342f9c696f">Params</a>* params </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classBasicPioDevice.html#acd3c3feb78ae7a8f88fe0f110a718dff">BasicPioDevice</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00106"></a>00106     {
<a name="l00107"></a>00107         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classAlphaBackdoor.html#a3311d1ef17b579d409e4cf342f9c696f">Params</a> *<span class="keyword">&gt;</span>(<a class="code" href="classSimObject.html#acaf6024ae9dda44bfb1c67e05ad70aef">_params</a>);
<a name="l00108"></a>00108     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a613ec7d5e1ec64f8d21fec78ae8e568e"></a><!-- doxytag: member="AlphaBackdoor::read" ref="a613ec7d5e1ec64f8d21fec78ae8e568e" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classm5_1_1params_1_1Tick.html">Tick</a> read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>memory mapped reads and writes </p>

<p><p>XXX Do we want to push the addr munging to a bus brige or something? So the device has it's physical address and then the bridge adds on whatever machine dependent address swizzle is required?</p>
</p>

<p><a class="el" href="classPioDevice.html#a842312590432036092c422c87a442358">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00103"></a>00103 {
<a name="l00104"></a>00104 
<a name="l00110"></a>00110     assert(pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() &gt;= <a class="code" href="classBasicPioDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a> &amp;&amp; pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() &lt; <a class="code" href="classBasicPioDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a> + <a class="code" href="classBasicPioDevice.html#a390529fe683187c290621e1822e0d5d1">pioSize</a>);
<a name="l00111"></a>00111 
<a name="l00112"></a>00112     <a class="code" href="classm5_1_1params_1_1Addr.html">Addr</a> daddr = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() - <a class="code" href="classBasicPioDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a>;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114     pkt-&gt;<a class="code" href="classPacket.html#acaefe811b78a2fdc4a0dba0c4029c3ef">allocate</a>();
<a name="l00115"></a>00115     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00116"></a>00116 
<a name="l00117"></a>00117     <span class="keywordflow">switch</span> (pkt-&gt;<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>())
<a name="l00118"></a>00118     {
<a name="l00119"></a>00119         <span class="keywordflow">case</span> <span class="keyword">sizeof</span>(<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>):
<a name="l00120"></a>00120             <span class="keywordflow">switch</span> (daddr)
<a name="l00121"></a>00121             {
<a name="l00122"></a>00122                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, last_offset):
<a name="l00123"></a>00123                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;last_offset);
<a name="l00124"></a>00124                     <span class="keywordflow">break</span>;
<a name="l00125"></a>00125                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, <a class="code" href="namespaceslicc_1_1main.html#af9c8593b58583463efe6932e24c9d6e6">version</a>):
<a name="l00126"></a>00126                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="namespaceslicc_1_1main.html#af9c8593b58583463efe6932e24c9d6e6">version</a>);
<a name="l00127"></a>00127                     <span class="keywordflow">break</span>;
<a name="l00128"></a>00128                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, <a class="code" href="namespaceArmISA.html#aae77f5bbeda95be5744dd0d73d9704b8">numCPUs</a>):
<a name="l00129"></a>00129                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="namespaceArmISA.html#aae77f5bbeda95be5744dd0d73d9704b8">numCPUs</a>);
<a name="l00130"></a>00130                     <span class="keywordflow">break</span>;
<a name="l00131"></a>00131                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, intrClockFrequency):
<a name="l00132"></a>00132                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;intrClockFrequency);
<a name="l00133"></a>00133                     <span class="keywordflow">break</span>;
<a name="l00134"></a>00134                 <span class="keywordflow">default</span>:
<a name="l00135"></a>00135                     <span class="comment">/* Old console code read in everyting as a 32bit int</span>
<a name="l00136"></a>00136 <span class="comment">                     * we now break that for better error checking.</span>
<a name="l00137"></a>00137 <span class="comment">                     */</span>
<a name="l00138"></a>00138                   pkt-&gt;<a class="code" href="classPacket.html#a44c3e4fcce6474af8052d68e75826c13">setBadAddress</a>();
<a name="l00139"></a>00139             }
<a name="l00140"></a>00140             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classAlphaBackdoor.html">AlphaBackdoor</a>, <span class="stringliteral">&quot;read: offset=%#x val=%#x\n&quot;</span>, daddr,
<a name="l00141"></a>00141                     pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;());
<a name="l00142"></a>00142             <span class="keywordflow">break</span>;
<a name="l00143"></a>00143         <span class="keywordflow">case</span> <span class="keyword">sizeof</span>(uint64_t):
<a name="l00144"></a>00144             <span class="keywordflow">switch</span> (daddr)
<a name="l00145"></a>00145             {
<a name="l00146"></a>00146                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, inputChar):
<a name="l00147"></a>00147                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#ad511a78bad32e194354d8323bc23a4e3">terminal</a>-&gt;console_in());
<a name="l00148"></a>00148                     <span class="keywordflow">break</span>;
<a name="l00149"></a>00149                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, cpuClock):
<a name="l00150"></a>00150                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;cpuClock);
<a name="l00151"></a>00151                     <span class="keywordflow">break</span>;
<a name="l00152"></a>00152                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, mem_size):
<a name="l00153"></a>00153                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;mem_size);
<a name="l00154"></a>00154                     <span class="keywordflow">break</span>;
<a name="l00155"></a>00155                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, kernStart):
<a name="l00156"></a>00156                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;kernStart);
<a name="l00157"></a>00157                     <span class="keywordflow">break</span>;
<a name="l00158"></a>00158                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, kernEnd):
<a name="l00159"></a>00159                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;kernEnd);
<a name="l00160"></a>00160                     <span class="keywordflow">break</span>;
<a name="l00161"></a>00161                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, entryPoint):
<a name="l00162"></a>00162                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;entryPoint);
<a name="l00163"></a>00163                     <span class="keywordflow">break</span>;
<a name="l00164"></a>00164                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, diskUnit):
<a name="l00165"></a>00165                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskUnit);
<a name="l00166"></a>00166                     <span class="keywordflow">break</span>;
<a name="l00167"></a>00167                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, diskCount):
<a name="l00168"></a>00168                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskCount);
<a name="l00169"></a>00169                     <span class="keywordflow">break</span>;
<a name="l00170"></a>00170                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, diskPAddr):
<a name="l00171"></a>00171                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskPAddr);
<a name="l00172"></a>00172                     <span class="keywordflow">break</span>;
<a name="l00173"></a>00173                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, diskBlock):
<a name="l00174"></a>00174                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskBlock);
<a name="l00175"></a>00175                     <span class="keywordflow">break</span>;
<a name="l00176"></a>00176                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, diskOperation):
<a name="l00177"></a>00177                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskOperation);
<a name="l00178"></a>00178                     <span class="keywordflow">break</span>;
<a name="l00179"></a>00179                 <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, outputChar):
<a name="l00180"></a>00180                     pkt-&gt;set(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;outputChar);
<a name="l00181"></a>00181                     <span class="keywordflow">break</span>;
<a name="l00182"></a>00182                 <span class="keywordflow">default</span>:
<a name="l00183"></a>00183                     <span class="keywordtype">int</span> cpunum = (daddr - offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, cpuStack)) /
<a name="l00184"></a>00184                                  <span class="keyword">sizeof</span>(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a42f441fefccfd9ff9dcc3535cccbc427">cpuStack</a>[0]);
<a name="l00185"></a>00185 
<a name="l00186"></a>00186                     <span class="keywordflow">if</span> (cpunum &gt;= 0 &amp;&amp; cpunum &lt; 64)
<a name="l00187"></a>00187                         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a42f441fefccfd9ff9dcc3535cccbc427">cpuStack</a>[cpunum]);
<a name="l00188"></a>00188                     <span class="keywordflow">else</span>
<a name="l00189"></a>00189                         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Unknown 64bit access, %#x\n&quot;</span>, daddr);
<a name="l00190"></a>00190             }
<a name="l00191"></a>00191             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classAlphaBackdoor.html">AlphaBackdoor</a>, <span class="stringliteral">&quot;read: offset=%#x val=%#x\n&quot;</span>, daddr,
<a name="l00192"></a>00192                     pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;uint64_t&gt;());
<a name="l00193"></a>00193             <span class="keywordflow">break</span>;
<a name="l00194"></a>00194         <span class="keywordflow">default</span>:
<a name="l00195"></a>00195           pkt-&gt;<a class="code" href="classPacket.html#a44c3e4fcce6474af8052d68e75826c13">setBadAddress</a>();
<a name="l00196"></a>00196     }
<a name="l00197"></a>00197     <span class="keywordflow">return</span> <a class="code" href="classBasicPioDevice.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>;
<a name="l00198"></a>00198 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad6272f80ae37e8331e3969b3f072a801"></a><!-- doxytag: member="AlphaBackdoor::serialize" ref="ad6272f80ae37e8331e3969b3f072a801" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>standard serialization routines for checkpointing </p>

<p><a class="el" href="classSerializable.html#ad6272f80ae37e8331e3969b3f072a801">Serializable</a>を再定義しています。</p>

</div>
</div>
<a class="anchor" id="aecc7d8debf54990ffeaaed5bac7d7d81"></a><!-- doxytag: member="AlphaBackdoor::startup" ref="aecc7d8debf54990ffeaaed5bac7d7d81" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void startup </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classAlphaBackdoor.html#aecc7d8debf54990ffeaaed5bac7d7d81">startup()</a> is the final initialization call before simulation. All state is initialized (including unserialized state, if any, such as the <a class="el" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick()</a> value), so this is the appropriate place to schedule initial event(s) for objects that need them. </p>

<p><a class="el" href="classSimObject.html#aecc7d8debf54990ffeaaed5bac7d7d81">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00087"></a>00087 {
<a name="l00088"></a>00088     <a class="code" href="classAlphaBackdoor.html#a33258b14e97cdadc0a00878bba22adda">system</a>-&gt;<a class="code" href="classAlphaSystem.html#a67fd461df8578f316a9be1cc3e5d70ec">setAlphaAccess</a>(<a class="code" href="classBasicPioDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a>);
<a name="l00089"></a>00089     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a62fe5772fdad74fda85b8510032153e0">numCPUs</a> = <a class="code" href="classAlphaBackdoor.html#a33258b14e97cdadc0a00878bba22adda">system</a>-&gt;<a class="code" href="classSystem.html#a905b96f2c022dcde596bdb806661bcae">numContexts</a>();
<a name="l00090"></a>00090     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a031a9a2b7278c18413f2c17d8dd9d77c">kernStart</a> = <a class="code" href="classAlphaBackdoor.html#a33258b14e97cdadc0a00878bba22adda">system</a>-&gt;<a class="code" href="classSystem.html#a5e068cbb27ba6c95ea26869f88964845">getKernelStart</a>();
<a name="l00091"></a>00091     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a6741af28865e38d678856e45e22a097e">kernEnd</a> = <a class="code" href="classAlphaBackdoor.html#a33258b14e97cdadc0a00878bba22adda">system</a>-&gt;<a class="code" href="classSystem.html#ab1fd157e4287a41711d83b7a48161c2b">getKernelEnd</a>();
<a name="l00092"></a>00092     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a4425463a9d69b9f56bf1ac63c00d490d">entryPoint</a> = <a class="code" href="classAlphaBackdoor.html#a33258b14e97cdadc0a00878bba22adda">system</a>-&gt;<a class="code" href="classSystem.html#a21bc77f01980debea40a75c23c9a7ae8">getKernelEntry</a>();
<a name="l00093"></a>00093     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#ae177731dc45fab0258bb6f72ebf37785">mem_size</a> = <a class="code" href="classAlphaBackdoor.html#a33258b14e97cdadc0a00878bba22adda">system</a>-&gt;<a class="code" href="classSystem.html#a21f1f1db9f5cb71e5e24790fbac5f30f">memSize</a>();
<a name="l00094"></a>00094     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a1a28e6675c07a466d48206a22e992a0d">cpuClock</a> = <a class="code" href="classAlphaBackdoor.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a>-&gt;frequency() / 1000000; <span class="comment">// In MHz</span>
<a name="l00095"></a>00095     <a class="code" href="classTsunami.html">Tsunami</a> *tsunami = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classTsunami.html">Tsunami</a> *<span class="keyword">&gt;</span>(<a class="code" href="classAlphaBackdoor.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>()-&gt;platform);
<a name="l00096"></a>00096     <span class="keywordflow">if</span> (!tsunami)
<a name="l00097"></a>00097         <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;Platform is not Tsunami.\n&quot;</span>);
<a name="l00098"></a>00098     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a67afaa4123cf0004c80816f4a4622b68">intrClockFrequency</a> = tsunami-&gt;<a class="code" href="classTsunami.html#a9d42ea935a6d6bddb63076040468dfe4">io</a>-&gt;<a class="code" href="classTsunamiIO.html#ae7d31c6aab76d9d4e74e5e7227337651">frequency</a>();
<a name="l00099"></a>00099 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af22e5d6d660b97db37003ac61ac4ee49"></a><!-- doxytag: member="AlphaBackdoor::unserialize" ref="af22e5d6d660b97db37003ac61ac4ee49" args="(Checkpoint *cp, const std::string &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#af100c4e9feabf3cd918619c88c718387">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00307"></a>00307 {
<a name="l00308"></a>00308     <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaBackdoor_1_1Access.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a>(cp, section);
<a name="l00309"></a>00309 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4cefab464e72b5dd42c003a0a4341802"></a><!-- doxytag: member="AlphaBackdoor::write" ref="a4cefab464e72b5dd42c003a0a4341802" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classm5_1_1params_1_1Tick.html">Tick</a> write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pure virtual function that the device must implement. Called when a write command is recieved by the port. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html">Packet</a> describing this request </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of ticks it took to complete </dd></dl>

<p><a class="el" href="classPioDevice.html#afe8371668d023bb2516b286e5e399b6f">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00202"></a>00202 {
<a name="l00203"></a>00203     assert(pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() &gt;= <a class="code" href="classBasicPioDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a> &amp;&amp; pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() &lt; <a class="code" href="classBasicPioDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a> + <a class="code" href="classBasicPioDevice.html#a390529fe683187c290621e1822e0d5d1">pioSize</a>);
<a name="l00204"></a>00204     <a class="code" href="classm5_1_1params_1_1Addr.html">Addr</a> daddr = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() - <a class="code" href="classBasicPioDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a>;
<a name="l00205"></a>00205 
<a name="l00206"></a>00206     uint64_t <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> = pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;uint64_t&gt;();
<a name="l00207"></a>00207     assert(pkt-&gt;<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>() == <span class="keyword">sizeof</span>(uint64_t));
<a name="l00208"></a>00208 
<a name="l00209"></a>00209     <span class="keywordflow">switch</span> (daddr) {
<a name="l00210"></a>00210       <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, diskUnit):
<a name="l00211"></a>00211         <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskUnit = val;
<a name="l00212"></a>00212         <span class="keywordflow">break</span>;
<a name="l00213"></a>00213 
<a name="l00214"></a>00214       <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, diskCount):
<a name="l00215"></a>00215         <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskCount = val;
<a name="l00216"></a>00216         <span class="keywordflow">break</span>;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218       <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, diskPAddr):
<a name="l00219"></a>00219         <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskPAddr = val;
<a name="l00220"></a>00220         <span class="keywordflow">break</span>;
<a name="l00221"></a>00221 
<a name="l00222"></a>00222       <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, diskBlock):
<a name="l00223"></a>00223         <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskBlock = val;
<a name="l00224"></a>00224         <span class="keywordflow">break</span>;
<a name="l00225"></a>00225 
<a name="l00226"></a>00226       <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, diskOperation):
<a name="l00227"></a>00227         if (val == 0x13)
<a name="l00228"></a>00228             <a class="code" href="classAlphaBackdoor.html#a7a34a11311e1d03257d51166e64c9a9f">disk</a>-&gt;<a class="code" href="classAlphaBackdoor.html#a613ec7d5e1ec64f8d21fec78ae8e568e">read</a>(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskPAddr, <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskBlock,
<a name="l00229"></a>00229                        <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;diskCount);
<a name="l00230"></a>00230         <span class="keywordflow">else</span>
<a name="l00231"></a>00231             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Invalid disk operation!&quot;</span>);
<a name="l00232"></a>00232 
<a name="l00233"></a>00233         <span class="keywordflow">break</span>;
<a name="l00234"></a>00234 
<a name="l00235"></a>00235       <span class="keywordflow">case</span> offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, outputChar):
<a name="l00236"></a>00236         <a class="code" href="classAlphaBackdoor.html#ad511a78bad32e194354d8323bc23a4e3">terminal</a>-&gt;out((char)(val &amp; 0xff));
<a name="l00237"></a>00237         <span class="keywordflow">break</span>;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239       <span class="keywordflow">default</span>:
<a name="l00240"></a>00240         <span class="keywordtype">int</span> cpunum = (daddr - offsetof(<a class="code" href="structAlphaAccess.html">AlphaAccess</a>, cpuStack)) /
<a name="l00241"></a>00241                      <span class="keyword">sizeof</span>(<a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a42f441fefccfd9ff9dcc3535cccbc427">cpuStack</a>[0]);
<a name="l00242"></a>00242         <a class="code" href="base_2misc_8hh.html#ae7d790080fa18103d7582effff570b9e">inform</a>(<span class="stringliteral">&quot;Launching CPU %d @ %d&quot;</span>, cpunum, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>());
<a name="l00243"></a>00243         assert(val &gt; 0 &amp;&amp; <span class="stringliteral">&quot;Must not access primary cpu&quot;</span>);
<a name="l00244"></a>00244         <span class="keywordflow">if</span> (cpunum &gt;= 0 &amp;&amp; cpunum &lt; 64)
<a name="l00245"></a>00245             <a class="code" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a>-&gt;<a class="code" href="structAlphaAccess.html#a42f441fefccfd9ff9dcc3535cccbc427">cpuStack</a>[cpunum] = val;
<a name="l00246"></a>00246         <span class="keywordflow">else</span>
<a name="l00247"></a>00247             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Unknown 64bit access, %#x\n&quot;</span>, daddr);
<a name="l00248"></a>00248     }
<a name="l00249"></a>00249 
<a name="l00250"></a>00250     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00251"></a>00251 
<a name="l00252"></a>00252     <span class="keywordflow">return</span> <a class="code" href="classBasicPioDevice.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>;
<a name="l00253"></a>00253 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a41932bd9bc77001bc6e7dc163b180f9e"></a><!-- doxytag: member="AlphaBackdoor::@41" ref="a41932bd9bc77001bc6e7dc163b180f9e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union { ... } <code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1800e69c50cf6e59ebb8fcd881caf482"></a><!-- doxytag: member="AlphaBackdoor::alphaAccess" ref="a1800e69c50cf6e59ebb8fcd881caf482" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAlphaBackdoor_1_1Access.html">Access</a>* <a class="el" href="classAlphaBackdoor.html#a1800e69c50cf6e59ebb8fcd881caf482">alphaAccess</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab2f889c072e672bb334695bb8a796d55"></a><!-- doxytag: member="AlphaBackdoor::consoleData" ref="ab2f889c072e672bb334695bb8a796d55" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* <a class="el" href="classAlphaBackdoor.html#ab2f889c072e672bb334695bb8a796d55">consoleData</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7a31ca9fefb2fe821f29a270678912db"></a><!-- doxytag: member="AlphaBackdoor::cpu" ref="a7a31ca9fefb2fe821f29a270678912db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseCPU.html">BaseCPU</a>* <a class="el" href="classAlphaBackdoor.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a pointer to the CPU boot cpu </p>

</div>
</div>
<a class="anchor" id="a7a34a11311e1d03257d51166e64c9a9f"></a><!-- doxytag: member="AlphaBackdoor::disk" ref="a7a34a11311e1d03257d51166e64c9a9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimpleDisk.html">SimpleDisk</a>* <a class="el" href="classAlphaBackdoor.html#a7a34a11311e1d03257d51166e64c9a9f">disk</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the disk must be accessed from the console </p>

</div>
</div>
<a class="anchor" id="a33258b14e97cdadc0a00878bba22adda"></a><!-- doxytag: member="AlphaBackdoor::system" ref="a33258b14e97cdadc0a00878bba22adda" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAlphaSystem.html">AlphaSystem</a>* <a class="el" href="classAlphaBackdoor.html#a33258b14e97cdadc0a00878bba22adda">system</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a pointer to the system we are running in </p>

</div>
</div>
<a class="anchor" id="ad511a78bad32e194354d8323bc23a4e3"></a><!-- doxytag: member="AlphaBackdoor::terminal" ref="ad511a78bad32e194354d8323bc23a4e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTerminal.html">Terminal</a>* <a class="el" href="classAlphaBackdoor.html#ad511a78bad32e194354d8323bc23a4e3">terminal</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the system console (the terminal) is accessable from the console </p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>dev/alpha/<a class="el" href="backdoor_8hh_source.html">backdoor.hh</a></li>
<li>dev/alpha/<a class="el" href="backdoor_8cc.html">backdoor.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
