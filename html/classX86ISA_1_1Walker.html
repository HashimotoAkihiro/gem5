<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス Walker</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceX86ISA.html">X86ISA</a>::<a class="el" href="classX86ISA_1_1Walker.html">Walker</a>
  </div>
</div>
<div class="contents">
<h1>クラス Walker</h1><!-- doxytag: class="X86ISA::Walker" --><!-- doxytag: inherits="MemObject" -->
<p><code>#include &lt;<a class="el" href="pagetable__walker_8hh_source.html">pagetable_walker.hh</a>&gt;</code></p>
<div class="dynheader">
Walkerに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classX86ISA_1_1Walker.gif" usemap="#Walker_map" alt=""/>
  <map id="Walker_map" name="Walker_map">
<area href="classMemObject.html" alt="MemObject" shape="rect" coords="105,168,200,192"/>
<area href="classClockedObject.html" alt="ClockedObject" shape="rect" coords="105,112,200,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="105,56,200,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,95,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="105,0,200,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="210,0,305,24"/>
</map>
 </div>
</div>

<p><a href="classX86ISA_1_1Walker-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker_1_1WalkerPort.html">WalkerPort</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structX86ISA_1_1Walker_1_1WalkerSenderState.html">WalkerSenderState</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker_1_1WalkerState.html">WalkerState</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef X86PagetableWalkerParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a55ceaa41cdace6176b677cc22eb01bf6">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#af431777dfd02888658d8bf01cc7ee789">start</a> (<a class="el" href="classThreadContext.html">ThreadContext</a> *_tc, <a class="el" href="classBaseTLB_1_1Translation.html">BaseTLB::Translation</a> *translation, <a class="el" href="classRequest.html">RequestPtr</a> req, <a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a> mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#ad0337e2c2472a149328d21cd4310165f">startFunctional</a> (<a class="el" href="classThreadContext.html">ThreadContext</a> *_tc, <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &amp;<a class="el" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a>, unsigned &amp;logBytes, <a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a> mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseMasterPort.html">BaseMasterPort</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#adc4e675e51defbdd1e354dac729d0703">getMasterPort</a> (const std::string &amp;if_name, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> idx=<a class="el" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a57c4132ed7eb199686bbcfb0de7722ac">setTLB</a> (<a class="el" href="classX86ISA_1_1TLB.html">TLB</a> *_tlb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classX86ISA_1_1Walker.html#a55ceaa41cdace6176b677cc22eb01bf6">Params</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a9a124fc3abef67f86629216ab6699ec0">Walker</a> (const <a class="el" href="classX86ISA_1_1Walker.html#a55ceaa41cdace6176b677cc22eb01bf6">Params</a> *params)</td></tr>
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a5cbf57f9ccdc6270d898ddca6d54905a">startWalkWrapper</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a482dba5588f4bee43e498875a61e5e0b">recvTimingResp</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a29cb5a4f98063ce6e9210eacbdb35298">recvRetry</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#ad26bf3182653f73846811f045dcaafb6">sendTiming</a> (<a class="el" href="classX86ISA_1_1Walker_1_1WalkerState.html">WalkerState</a> *sendingState, <a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classX86ISA_1_1Walker_1_1WalkerPort.html">WalkerPort</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a5934d4dbd0362d5d5d65c63ff6f247b0">port</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="classX86ISA_1_1Walker_1_1WalkerState.html">WalkerState</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classX86ISA_1_1Walker_1_1WalkerState.html">WalkerState</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a5d3b5c10c016916fae2a38d5affcb907">funcState</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classX86ISA_1_1TLB.html">TLB</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a9f0e11329a702fd34819769c899e4bd3">tlb</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSystem.html">System</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a8ae37465ba84acfef6af3e9b9e6dbbd5">sys</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a96ec6a422ac492d05f8b3edc5b58532b">masterId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#acd34c708c5a97f4ce631bb3b00404045">numSquashable</a></td></tr>
<tr><td colspan="2"><h2>フレンド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#a707eeb53fafd90cd7776b08a7acf6214">WalkerPort</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Walker.html#ade52153fce1d8cac346d2287dc441289">WalkerState</a></td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="a55ceaa41cdace6176b677cc22eb01bf6"></a><!-- doxytag: member="X86ISA::Walker::Params" ref="a55ceaa41cdace6176b677cc22eb01bf6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef X86PagetableWalkerParams <a class="el" href="classX86ISA_1_1Walker.html#a55ceaa41cdace6176b677cc22eb01bf6">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classMemObject.html#a905bbc621eeec0ed08859e21c8c95412">MemObject</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a9a124fc3abef67f86629216ab6699ec0"></a><!-- doxytag: member="X86ISA::Walker::Walker" ref="a9a124fc3abef67f86629216ab6699ec0" args="(const Params *params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1Walker.html">Walker</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classX86ISA_1_1Walker.html#a55ceaa41cdace6176b677cc22eb01bf6">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>params</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00206"></a>00206                                      :
<a name="l00207"></a>00207             <a class="code" href="classMemObject.html#a0390aa3eb5acd29074fac67b8d6472bd">MemObject</a>(<a class="code" href="classX86ISA_1_1Walker.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>), <a class="code" href="classX86ISA_1_1Walker.html#a5934d4dbd0362d5d5d65c63ff6f247b0">port</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.port&quot;</span>, <span class="keyword">this</span>),
<a name="l00208"></a>00208             <a class="code" href="classX86ISA_1_1Walker.html#a5d3b5c10c016916fae2a38d5affcb907">funcState</a>(<span class="keyword">this</span>, <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>, <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>, <span class="keyword">true</span>), <a class="code" href="classX86ISA_1_1Walker.html#a9f0e11329a702fd34819769c899e4bd3">tlb</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>), <a class="code" href="classX86ISA_1_1Walker.html#a8ae37465ba84acfef6af3e9b9e6dbbd5">sys</a>(<a class="code" href="classX86ISA_1_1Walker.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>-&gt;system),
<a name="l00209"></a>00209             <a class="code" href="classX86ISA_1_1Walker.html#a96ec6a422ac492d05f8b3edc5b58532b">masterId</a>(<a class="code" href="classX86ISA_1_1Walker.html#a8ae37465ba84acfef6af3e9b9e6dbbd5">sys</a>-&gt;<a class="code" href="classSystem.html#a906e073613d8d8e76e11c1bf9310a25c">getMasterId</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>())),
<a name="l00210"></a>00210             <a class="code" href="classX86ISA_1_1Walker.html#acd34c708c5a97f4ce631bb3b00404045">numSquashable</a>(<a class="code" href="classX86ISA_1_1Walker.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>-&gt;num_squash_per_cycle)
<a name="l00211"></a>00211         {
<a name="l00212"></a>00212         }
    };
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="adc4e675e51defbdd1e354dac729d0703"></a><!-- doxytag: member="X86ISA::Walker::getMasterPort" ref="adc4e675e51defbdd1e354dac729d0703" args="(const std::string &amp;if_name, PortID idx=InvalidPortID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseMasterPort.html">BaseMasterPort</a> &amp; getMasterPort </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>if_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>idx</em> = <code><a class="el" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a master port with a given name and index. This is used at binding time and returns a reference to a protocol-agnostic base master port.</p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>if_name</em>&nbsp;</td><td><a class="el" href="classPort.html">Port</a> name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>idx</em>&nbsp;</td><td>Index in the case of a VectorPort</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>A reference to the given port </dd></dl>

<p><a class="el" href="classMemObject.html#adc4e675e51defbdd1e354dac729d0703">MemObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00184"></a>00184 {
<a name="l00185"></a>00185     <span class="keywordflow">if</span> (if_name == <span class="stringliteral">&quot;port&quot;</span>)
<a name="l00186"></a>00186         <span class="keywordflow">return</span> <a class="code" href="classX86ISA_1_1Walker.html#a5934d4dbd0362d5d5d65c63ff6f247b0">port</a>;
<a name="l00187"></a>00187     <span class="keywordflow">else</span>
<a name="l00188"></a>00188         <span class="keywordflow">return</span> <a class="code" href="classX86ISA_1_1Walker.html#adc4e675e51defbdd1e354dac729d0703">MemObject::getMasterPort</a>(if_name, idx);
<a name="l00189"></a>00189 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acd3c3feb78ae7a8f88fe0f110a718dff"></a><!-- doxytag: member="X86ISA::Walker::params" ref="acd3c3feb78ae7a8f88fe0f110a718dff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classX86ISA_1_1Walker.html#a55ceaa41cdace6176b677cc22eb01bf6">Params</a>* params </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classMemObject.html#acd3c3feb78ae7a8f88fe0f110a718dff">MemObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00202"></a>00202         {
<a name="l00203"></a>00203             <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classX86ISA_1_1Walker.html#a55ceaa41cdace6176b677cc22eb01bf6">Params</a> *<span class="keyword">&gt;</span>(<a class="code" href="classSimObject.html#acaf6024ae9dda44bfb1c67e05ad70aef">_params</a>);
<a name="l00204"></a>00204         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a29cb5a4f98063ce6e9210eacbdb35298"></a><!-- doxytag: member="X86ISA::Walker::recvRetry" ref="a29cb5a4f98063ce6e9210eacbdb35298" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void recvRetry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00156"></a>00156 {
<a name="l00157"></a>00157     <a class="code" href="classstd_1_1list.html">std::list&lt;WalkerState *&gt;::iterator</a> iter;
<a name="l00158"></a>00158     <span class="keywordflow">for</span> (iter = <a class="code" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a>.begin(); iter != <a class="code" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a>.end(); iter++) {
<a name="l00159"></a>00159         <a class="code" href="classX86ISA_1_1Walker.html#ade52153fce1d8cac346d2287dc441289">WalkerState</a> * walkerState = *(iter);
<a name="l00160"></a>00160         <span class="keywordflow">if</span> (walkerState-&gt;isRetrying()) {
<a name="l00161"></a>00161             walkerState-&gt;retry();
<a name="l00162"></a>00162         }
<a name="l00163"></a>00163     }
<a name="l00164"></a>00164 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a482dba5588f4bee43e498875a61e5e0b"></a><!-- doxytag: member="X86ISA::Walker::recvTimingResp" ref="a482dba5588f4bee43e498875a61e5e0b" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool recvTimingResp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00124"></a>00124 {
<a name="l00125"></a>00125     WalkerSenderState * senderState =
<a name="l00126"></a>00126         <span class="keyword">dynamic_cast&lt;</span>WalkerSenderState *<span class="keyword">&gt;</span>(pkt-&gt;<a class="code" href="classPacket.html#a6f73d3ef605e592952b5586975161bfd">popSenderState</a>());
<a name="l00127"></a>00127     <a class="code" href="classX86ISA_1_1Walker.html#ade52153fce1d8cac346d2287dc441289">WalkerState</a> * senderWalk = senderState-&gt;senderWalk;
<a name="l00128"></a>00128     <span class="keywordtype">bool</span> walkComplete = senderWalk-&gt;recvPacket(pkt);
<a name="l00129"></a>00129     <span class="keyword">delete</span> senderState;
<a name="l00130"></a>00130     <span class="keywordflow">if</span> (walkComplete) {
<a name="l00131"></a>00131         <a class="code" href="classstd_1_1list.html">std::list&lt;WalkerState *&gt;::iterator</a> iter;
<a name="l00132"></a>00132         <span class="keywordflow">for</span> (iter = <a class="code" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a>.begin(); iter != <a class="code" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a>.end(); iter++) {
<a name="l00133"></a>00133             <a class="code" href="classX86ISA_1_1Walker.html#ade52153fce1d8cac346d2287dc441289">WalkerState</a> * walkerState = *(iter);
<a name="l00134"></a>00134             <span class="keywordflow">if</span> (walkerState == senderWalk) {
<a name="l00135"></a>00135                 iter = <a class="code" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a>.erase(iter);
<a name="l00136"></a>00136                 <span class="keywordflow">break</span>;
<a name="l00137"></a>00137             }
<a name="l00138"></a>00138         }
<a name="l00139"></a>00139         <span class="keyword">delete</span> senderWalk;
<a name="l00140"></a>00140         <span class="comment">// Since we block requests when another is outstanding, we</span>
<a name="l00141"></a>00141         <span class="comment">// need to check if there is a waiting request to be serviced</span>
<a name="l00142"></a>00142         <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a>.size())
<a name="l00143"></a>00143             <a class="code" href="classX86ISA_1_1Walker.html#a5cbf57f9ccdc6270d898ddca6d54905a">startWalkWrapper</a>();
<a name="l00144"></a>00144     }
<a name="l00145"></a>00145     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00146"></a>00146 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad26bf3182653f73846811f045dcaafb6"></a><!-- doxytag: member="X86ISA::Walker::sendTiming" ref="ad26bf3182653f73846811f045dcaafb6" args="(WalkerState *sendingState, PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sendTiming </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classX86ISA_1_1Walker_1_1WalkerState.html">WalkerState</a> *&nbsp;</td>
          <td class="paramname"> <em>sendingState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00167"></a>00167 {
<a name="l00168"></a>00168     WalkerSenderState* walker_state = <span class="keyword">new</span> WalkerSenderState(sendingState);
<a name="l00169"></a>00169     pkt-&gt;<a class="code" href="classPacket.html#a6a6aa11d6c2aec2df5aafeefe2847d8e">pushSenderState</a>(walker_state);
<a name="l00170"></a>00170     <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Walker.html#a5934d4dbd0362d5d5d65c63ff6f247b0">port</a>.<a class="code" href="classMasterPort.html#aafaf979005392447714384794f1a8610">sendTimingReq</a>(pkt)) {
<a name="l00171"></a>00171         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00172"></a>00172     } <span class="keywordflow">else</span> {
<a name="l00173"></a>00173         <span class="comment">// undo the adding of the sender state and delete it, as we</span>
<a name="l00174"></a>00174         <span class="comment">// will do it again the next time we attempt to send it</span>
<a name="l00175"></a>00175         pkt-&gt;<a class="code" href="classPacket.html#a6f73d3ef605e592952b5586975161bfd">popSenderState</a>();
<a name="l00176"></a>00176         <span class="keyword">delete</span> walker_state;
<a name="l00177"></a>00177         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00178"></a>00178     }
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a57c4132ed7eb199686bbcfb0de7722ac"></a><!-- doxytag: member="X86ISA::Walker::setTLB" ref="a57c4132ed7eb199686bbcfb0de7722ac" args="(TLB *_tlb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setTLB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classX86ISA_1_1TLB.html">TLB</a> *&nbsp;</td>
          <td class="paramname"> <em>_tlb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00194"></a>00194         {
<a name="l00195"></a>00195             <a class="code" href="classX86ISA_1_1Walker.html#a9f0e11329a702fd34819769c899e4bd3">tlb</a> = _tlb;
<a name="l00196"></a>00196         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af431777dfd02888658d8bf01cc7ee789"></a><!-- doxytag: member="X86ISA::Walker::start" ref="af431777dfd02888658d8bf01cc7ee789" args="(ThreadContext *_tc, BaseTLB::Translation *translation, RequestPtr req, BaseTLB::Mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td>
          <td class="paramname"> <em>_tc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseTLB_1_1Translation.html">BaseTLB::Translation</a> *&nbsp;</td>
          <td class="paramname"> <em>translation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad0337e2c2472a149328d21cd4310165f"></a><!-- doxytag: member="X86ISA::Walker::startFunctional" ref="ad0337e2c2472a149328d21cd4310165f" args="(ThreadContext *_tc, Addr &amp;addr, unsigned &amp;logBytes, BaseTLB::Mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> startFunctional </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td>
          <td class="paramname"> <em>_tc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned &amp;&nbsp;</td>
          <td class="paramname"> <em>logBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseTLB.html#a46c8a310cf4c094f8c80e1cb8dc1f911">BaseTLB::Mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00111"></a>00111 {
<a name="l00112"></a>00112     <a class="code" href="classX86ISA_1_1Walker.html#a5d3b5c10c016916fae2a38d5affcb907">funcState</a>.<a class="code" href="classX86ISA_1_1Walker_1_1WalkerState.html#a92aeb88528be9893c2e8fe61629fc942">initState</a>(_tc, _mode);
<a name="l00113"></a>00113     <span class="keywordflow">return</span> <a class="code" href="classX86ISA_1_1Walker.html#a5d3b5c10c016916fae2a38d5affcb907">funcState</a>.<a class="code" href="classX86ISA_1_1Walker_1_1WalkerState.html#ac1af47bc545fc273626009cb651d3b39">startFunctional</a>(<a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a>, logBytes);
<a name="l00114"></a>00114 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5cbf57f9ccdc6270d898ddca6d54905a"></a><!-- doxytag: member="X86ISA::Walker::startWalkWrapper" ref="a5cbf57f9ccdc6270d898ddca6d54905a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void startWalkWrapper </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00204"></a>00204 {
<a name="l00205"></a>00205     <span class="keywordtype">unsigned</span> num_squashed = 0;
<a name="l00206"></a>00206     <a class="code" href="classX86ISA_1_1Walker.html#ade52153fce1d8cac346d2287dc441289">WalkerState</a> *currState = <a class="code" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a>.front();
<a name="l00207"></a>00207     <span class="keywordflow">while</span> ((num_squashed &lt; <a class="code" href="classX86ISA_1_1Walker.html#acd34c708c5a97f4ce631bb3b00404045">numSquashable</a>) &amp;&amp; currState &amp;&amp;
<a name="l00208"></a>00208         currState-&gt;translation-&gt;squashed()) {
<a name="l00209"></a>00209         <a class="code" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a>.pop_front();
<a name="l00210"></a>00210         num_squashed++;
<a name="l00211"></a>00211 
<a name="l00212"></a>00212         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(PageTableWalker, <span class="stringliteral">&quot;Squashing table walk for address %#x\n&quot;</span>,
<a name="l00213"></a>00213             currState-&gt;req-&gt;getVaddr());
<a name="l00214"></a>00214 
<a name="l00215"></a>00215         <span class="comment">// finish the translation which will delete the translation object</span>
<a name="l00216"></a>00216         currState-&gt;translation-&gt;finish(<span class="keyword">new</span> <a class="code" href="classUnimpFault.html">UnimpFault</a>(<span class="stringliteral">&quot;Squashed Inst&quot;</span>),
<a name="l00217"></a>00217                 currState-&gt;req, currState-&gt;tc, currState-&gt;mode);
<a name="l00218"></a>00218 
<a name="l00219"></a>00219         <span class="comment">// delete the current request</span>
<a name="l00220"></a>00220         <span class="keyword">delete</span> currState;
<a name="l00221"></a>00221 
<a name="l00222"></a>00222         <span class="comment">// check the next translation request, if it exists</span>
<a name="l00223"></a>00223         <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a>.size())
<a name="l00224"></a>00224             currState = <a class="code" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a>.front();
<a name="l00225"></a>00225         <span class="keywordflow">else</span>
<a name="l00226"></a>00226             currState = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00227"></a>00227     }
<a name="l00228"></a>00228     <span class="keywordflow">if</span> (currState &amp;&amp; !currState-&gt;wasStarted())
<a name="l00229"></a>00229         currState-&gt;startWalk();
<a name="l00230"></a>00230 }
</pre></div></p>

</div>
</div>
<hr/><h2>フレンドと関連する関数</h2>
<a class="anchor" id="a707eeb53fafd90cd7776b08a7acf6214"></a><!-- doxytag: member="X86ISA::Walker::WalkerPort" ref="a707eeb53fafd90cd7776b08a7acf6214" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classX86ISA_1_1Walker_1_1WalkerPort.html">WalkerPort</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ade52153fce1d8cac346d2287dc441289"></a><!-- doxytag: member="X86ISA::Walker::WalkerState" ref="ade52153fce1d8cac346d2287dc441289" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classX86ISA_1_1Walker_1_1WalkerState.html">WalkerState</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a5d2384e533dcdc7ac9570b89d6f39807"></a><!-- doxytag: member="X86ISA::Walker::currStates" ref="a5d2384e533dcdc7ac9570b89d6f39807" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="classX86ISA_1_1Walker_1_1WalkerState.html">WalkerState</a> *&gt; <a class="el" href="classX86ISA_1_1Walker.html#a5d2384e533dcdc7ac9570b89d6f39807">currStates</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5d3b5c10c016916fae2a38d5affcb907"></a><!-- doxytag: member="X86ISA::Walker::funcState" ref="a5d3b5c10c016916fae2a38d5affcb907" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1Walker_1_1WalkerState.html">WalkerState</a> <a class="el" href="classX86ISA_1_1Walker.html#a5d3b5c10c016916fae2a38d5affcb907">funcState</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a96ec6a422ac492d05f8b3edc5b58532b"></a><!-- doxytag: member="X86ISA::Walker::masterId" ref="a96ec6a422ac492d05f8b3edc5b58532b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a> <a class="el" href="classX86ISA_1_1Walker.html#a96ec6a422ac492d05f8b3edc5b58532b">masterId</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="acd34c708c5a97f4ce631bb3b00404045"></a><!-- doxytag: member="X86ISA::Walker::numSquashable" ref="acd34c708c5a97f4ce631bb3b00404045" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classX86ISA_1_1Walker.html#acd34c708c5a97f4ce631bb3b00404045">numSquashable</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5934d4dbd0362d5d5d65c63ff6f247b0"></a><!-- doxytag: member="X86ISA::Walker::port" ref="a5934d4dbd0362d5d5d65c63ff6f247b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1Walker_1_1WalkerPort.html">WalkerPort</a> <a class="el" href="classX86ISA_1_1Walker.html#a5934d4dbd0362d5d5d65c63ff6f247b0">port</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8ae37465ba84acfef6af3e9b9e6dbbd5"></a><!-- doxytag: member="X86ISA::Walker::sys" ref="a8ae37465ba84acfef6af3e9b9e6dbbd5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSystem.html">System</a>* <a class="el" href="classX86ISA_1_1Walker.html#a8ae37465ba84acfef6af3e9b9e6dbbd5">sys</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9f0e11329a702fd34819769c899e4bd3"></a><!-- doxytag: member="X86ISA::Walker::tlb" ref="a9f0e11329a702fd34819769c899e4bd3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1TLB.html">TLB</a>* <a class="el" href="classX86ISA_1_1Walker.html#a9f0e11329a702fd34819769c899e4bd3">tlb</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>arch/x86/<a class="el" href="pagetable__walker_8hh_source.html">pagetable_walker.hh</a></li>
<li>arch/x86/<a class="el" href="pagetable__walker_8cc.html">pagetable_walker.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
