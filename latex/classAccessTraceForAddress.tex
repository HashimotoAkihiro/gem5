\hypertarget{classAccessTraceForAddress}{
\section{クラス AccessTraceForAddress}
\label{classAccessTraceForAddress}\index{AccessTraceForAddress@{AccessTraceForAddress}}
}


{\ttfamily \#include $<$AccessTraceForAddress.hh$>$}\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classAccessTraceForAddress_a39e3c32f62a22b90aae6b635958cd33b}{AccessTraceForAddress} ()
\item 
\hyperlink{classAccessTraceForAddress_aaa716e2119d8eda1e7428c63cedd2d75}{$\sim$AccessTraceForAddress} ()
\item 
void \hyperlink{classAccessTraceForAddress_a53120b1754f27e405338f9ab6e3408cc}{setAddress} (const \hyperlink{classAddress}{Address} \&addr)
\item 
void \hyperlink{classAccessTraceForAddress_a6ef5b8f5316bc299293f80e66d246a34}{update} (RubyRequestType type, RubyAccessMode access\_\-mode, \hyperlink{TypeDefines_8hh_a83c14b4ae37e80071f6b3506a6c46151}{NodeID} cpu, bool sharing\_\-miss)
\item 
int \hyperlink{classAccessTraceForAddress_af262952019c2e5f874224855cf7fb8bd}{getTotal} () const 
\item 
int \hyperlink{classAccessTraceForAddress_a7cf842218272765ebb03269975968026}{getSharing} () const 
\item 
int \hyperlink{classAccessTraceForAddress_a85c70aea5e7b3ab23bd505f66e16cbef}{getTouchedBy} () const 
\item 
const \hyperlink{classAddress}{Address} \& \hyperlink{classAccessTraceForAddress_aca15ef966561def0b4db75a6f7e085b6}{getAddress} () const 
\item 
void \hyperlink{classAccessTraceForAddress_ae8690c0646a12dd970f77127705f1449}{addSample} (int value)
\item 
void \hyperlink{classAccessTraceForAddress_ac55fe386a101fbae38c716067c9966a0}{print} (std::ostream \&out) const 
\end{DoxyCompactItemize}
\subsection*{Static Public メソッド}
\begin{DoxyCompactItemize}
\item 
static bool \hyperlink{classAccessTraceForAddress_af4b2dcff6f65bd1bcbcc0cd9995d0d35}{less\_\-equal} (const \hyperlink{classAccessTraceForAddress}{AccessTraceForAddress} $\ast$n1, const \hyperlink{classAccessTraceForAddress}{AccessTraceForAddress} $\ast$n2)
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classAddress}{Address} \hyperlink{classAccessTraceForAddress_a82a0fb091bb145547996e49b5ee3dde2}{m\_\-addr}
\item 
\hyperlink{TypeDefines_8hh_a29940ae63ec06c9998bba873e25407ad}{uint64} \hyperlink{classAccessTraceForAddress_ae62f2a92a6f690a36ae0b5ced2d59436}{m\_\-loads}
\item 
\hyperlink{TypeDefines_8hh_a29940ae63ec06c9998bba873e25407ad}{uint64} \hyperlink{classAccessTraceForAddress_abcc38814f3109146f39c33101a05acfa}{m\_\-stores}
\item 
\hyperlink{TypeDefines_8hh_a29940ae63ec06c9998bba873e25407ad}{uint64} \hyperlink{classAccessTraceForAddress_a1ea551bccefc550ef504659581af39e2}{m\_\-atomics}
\item 
\hyperlink{TypeDefines_8hh_a29940ae63ec06c9998bba873e25407ad}{uint64} \hyperlink{classAccessTraceForAddress_af87f35ffb1854fd41c3a82edaf4a9ff7}{m\_\-total}
\item 
\hyperlink{TypeDefines_8hh_a29940ae63ec06c9998bba873e25407ad}{uint64} \hyperlink{classAccessTraceForAddress_a4050103e54b773a2c5905995b437c5cf}{m\_\-user}
\item 
\hyperlink{TypeDefines_8hh_a29940ae63ec06c9998bba873e25407ad}{uint64} \hyperlink{classAccessTraceForAddress_a540937c20ba2f2895bc4a5bb3aac19dd}{m\_\-sharing}
\item 
\hyperlink{classSet}{Set} \hyperlink{classAccessTraceForAddress_a4949c45d0cddbcbbefb81cc89c85cf17}{m\_\-touched\_\-by}
\item 
\hyperlink{classHistogram}{Histogram} $\ast$ \hyperlink{classAccessTraceForAddress_ab6bcc5b2b4ee7d5b76f8bb879015abcc}{m\_\-histogram\_\-ptr}
\end{DoxyCompactItemize}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classAccessTraceForAddress_a39e3c32f62a22b90aae6b635958cd33b}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!AccessTraceForAddress@{AccessTraceForAddress}}
\index{AccessTraceForAddress@{AccessTraceForAddress}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{AccessTraceForAddress}]{\setlength{\rightskip}{0pt plus 5cm}{\bf AccessTraceForAddress} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAccessTraceForAddress_a39e3c32f62a22b90aae6b635958cd33b}



\begin{DoxyCode}
46         : m_loads(0), m_stores(0), m_atomics(0), m_total(0), m_user(0),
47           m_sharing(0), m_histogram_ptr(NULL)
48     { }
\end{DoxyCode}
\hypertarget{classAccessTraceForAddress_aaa716e2119d8eda1e7428c63cedd2d75}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!$\sim$AccessTraceForAddress@{$\sim$AccessTraceForAddress}}
\index{$\sim$AccessTraceForAddress@{$\sim$AccessTraceForAddress}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{$\sim$AccessTraceForAddress}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf AccessTraceForAddress} ()}}
\label{classAccessTraceForAddress_aaa716e2119d8eda1e7428c63cedd2d75}



\begin{DoxyCode}
33 {
34     if (m_histogram_ptr) {
35         delete m_histogram_ptr;
36         m_histogram_ptr = NULL;
37     }
38 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classAccessTraceForAddress_ae8690c0646a12dd970f77127705f1449}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!addSample@{addSample}}
\index{addSample@{addSample}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{addSample}]{\setlength{\rightskip}{0pt plus 5cm}void addSample (int {\em value})}}
\label{classAccessTraceForAddress_ae8690c0646a12dd970f77127705f1449}



\begin{DoxyCode}
98 {
99     assert(m_total == 0);
100     if (m_histogram_ptr == NULL) {
101         m_histogram_ptr = new Histogram;
102     }
103     m_histogram_ptr->add(value);
104 }
\end{DoxyCode}
\hypertarget{classAccessTraceForAddress_aca15ef966561def0b4db75a6f7e085b6}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!getAddress@{getAddress}}
\index{getAddress@{getAddress}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{getAddress}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Address}\& getAddress () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAccessTraceForAddress_aca15ef966561def0b4db75a6f7e085b6}



\begin{DoxyCode}
57 { return m_addr; }
\end{DoxyCode}
\hypertarget{classAccessTraceForAddress_a7cf842218272765ebb03269975968026}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!getSharing@{getSharing}}
\index{getSharing@{getSharing}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{getSharing}]{\setlength{\rightskip}{0pt plus 5cm}int getSharing () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAccessTraceForAddress_a7cf842218272765ebb03269975968026}



\begin{DoxyCode}
55 { return m_sharing; }
\end{DoxyCode}
\hypertarget{classAccessTraceForAddress_af262952019c2e5f874224855cf7fb8bd}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!getTotal@{getTotal}}
\index{getTotal@{getTotal}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{getTotal}]{\setlength{\rightskip}{0pt plus 5cm}int getTotal () const}}
\label{classAccessTraceForAddress_af262952019c2e5f874224855cf7fb8bd}



\begin{DoxyCode}
88 {
89     if (m_histogram_ptr == NULL) {
90         return m_total;
91     } else {
92         return m_histogram_ptr->getTotal();
93     }
94 }
\end{DoxyCode}
\hypertarget{classAccessTraceForAddress_a85c70aea5e7b3ab23bd505f66e16cbef}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!getTouchedBy@{getTouchedBy}}
\index{getTouchedBy@{getTouchedBy}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{getTouchedBy}]{\setlength{\rightskip}{0pt plus 5cm}int getTouchedBy () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAccessTraceForAddress_a85c70aea5e7b3ab23bd505f66e16cbef}



\begin{DoxyCode}
56 { return m_touched_by.count(); }
\end{DoxyCode}
\hypertarget{classAccessTraceForAddress_af4b2dcff6f65bd1bcbcc0cd9995d0d35}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!less\_\-equal@{less\_\-equal}}
\index{less\_\-equal@{less\_\-equal}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{less\_\-equal}]{\setlength{\rightskip}{0pt plus 5cm}static bool less\_\-equal (const {\bf AccessTraceForAddress} $\ast$ {\em n1}, \/  const {\bf AccessTraceForAddress} $\ast$ {\em n2})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, static\mbox{]}}}}
\label{classAccessTraceForAddress_af4b2dcff6f65bd1bcbcc0cd9995d0d35}



\begin{DoxyCode}
65     {
66         return n1->getTotal() <= n2->getTotal();
67     }
\end{DoxyCode}
\hypertarget{classAccessTraceForAddress_ac55fe386a101fbae38c716067c9966a0}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!print@{print}}
\index{print@{print}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{print}]{\setlength{\rightskip}{0pt plus 5cm}void print (std::ostream \& {\em out}) const}}
\label{classAccessTraceForAddress_ac55fe386a101fbae38c716067c9966a0}



\begin{DoxyCode}
42 {
43     out << m_addr;
44 
45     if (m_histogram_ptr == NULL) {
46         out << " " << m_total;
47         out << " | " << m_loads;
48         out << " " << m_stores;
49         out << " " << m_atomics;
50         out << " | " << m_user;
51         out << " " << m_total-m_user;
52         out << " | " << m_sharing;
53         out << " | " << m_touched_by.count();
54     } else {
55         assert(m_total == 0);
56         out << " " << (*m_histogram_ptr);
57     }
58 }
\end{DoxyCode}
\hypertarget{classAccessTraceForAddress_a53120b1754f27e405338f9ab6e3408cc}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!setAddress@{setAddress}}
\index{setAddress@{setAddress}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{setAddress}]{\setlength{\rightskip}{0pt plus 5cm}void setAddress (const {\bf Address} \& {\em addr})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAccessTraceForAddress_a53120b1754f27e405338f9ab6e3408cc}



\begin{DoxyCode}
51 { m_addr = addr; }
\end{DoxyCode}
\hypertarget{classAccessTraceForAddress_a6ef5b8f5316bc299293f80e66d246a34}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!update@{update}}
\index{update@{update}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}void update (RubyRequestType {\em type}, \/  RubyAccessMode {\em access\_\-mode}, \/  {\bf NodeID} {\em cpu}, \/  bool {\em sharing\_\-miss})}}
\label{classAccessTraceForAddress_a6ef5b8f5316bc299293f80e66d246a34}



\begin{DoxyCode}
64 {
65     m_touched_by.add(cpu);
66     m_total++;
67     if(type == RubyRequestType_ATOMIC) {
68         m_atomics++;
69     } else if(type == RubyRequestType_LD){
70         m_loads++;
71     } else if (type == RubyRequestType_ST){
72         m_stores++;
73     } else {
74         //  ERROR_MSG("Trying to add invalid access to trace");
75     }
76 
77     if (access_mode == RubyAccessMode_User) {
78         m_user++;
79     }
80 
81     if (sharing_miss) {
82         m_sharing++;
83     }
84 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classAccessTraceForAddress_a82a0fb091bb145547996e49b5ee3dde2}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!m\_\-addr@{m\_\-addr}}
\index{m\_\-addr@{m\_\-addr}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{m\_\-addr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Address} {\bf m\_\-addr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAccessTraceForAddress_a82a0fb091bb145547996e49b5ee3dde2}
\hypertarget{classAccessTraceForAddress_a1ea551bccefc550ef504659581af39e2}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!m\_\-atomics@{m\_\-atomics}}
\index{m\_\-atomics@{m\_\-atomics}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{m\_\-atomics}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint64} {\bf m\_\-atomics}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAccessTraceForAddress_a1ea551bccefc550ef504659581af39e2}
\hypertarget{classAccessTraceForAddress_ab6bcc5b2b4ee7d5b76f8bb879015abcc}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!m\_\-histogram\_\-ptr@{m\_\-histogram\_\-ptr}}
\index{m\_\-histogram\_\-ptr@{m\_\-histogram\_\-ptr}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{m\_\-histogram\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Histogram}$\ast$ {\bf m\_\-histogram\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAccessTraceForAddress_ab6bcc5b2b4ee7d5b76f8bb879015abcc}
\hypertarget{classAccessTraceForAddress_ae62f2a92a6f690a36ae0b5ced2d59436}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!m\_\-loads@{m\_\-loads}}
\index{m\_\-loads@{m\_\-loads}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{m\_\-loads}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint64} {\bf m\_\-loads}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAccessTraceForAddress_ae62f2a92a6f690a36ae0b5ced2d59436}
\hypertarget{classAccessTraceForAddress_a540937c20ba2f2895bc4a5bb3aac19dd}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!m\_\-sharing@{m\_\-sharing}}
\index{m\_\-sharing@{m\_\-sharing}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{m\_\-sharing}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint64} {\bf m\_\-sharing}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAccessTraceForAddress_a540937c20ba2f2895bc4a5bb3aac19dd}
\hypertarget{classAccessTraceForAddress_abcc38814f3109146f39c33101a05acfa}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!m\_\-stores@{m\_\-stores}}
\index{m\_\-stores@{m\_\-stores}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{m\_\-stores}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint64} {\bf m\_\-stores}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAccessTraceForAddress_abcc38814f3109146f39c33101a05acfa}
\hypertarget{classAccessTraceForAddress_af87f35ffb1854fd41c3a82edaf4a9ff7}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!m\_\-total@{m\_\-total}}
\index{m\_\-total@{m\_\-total}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{m\_\-total}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint64} {\bf m\_\-total}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAccessTraceForAddress_af87f35ffb1854fd41c3a82edaf4a9ff7}
\hypertarget{classAccessTraceForAddress_a4949c45d0cddbcbbefb81cc89c85cf17}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!m\_\-touched\_\-by@{m\_\-touched\_\-by}}
\index{m\_\-touched\_\-by@{m\_\-touched\_\-by}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{m\_\-touched\_\-by}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Set} {\bf m\_\-touched\_\-by}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAccessTraceForAddress_a4949c45d0cddbcbbefb81cc89c85cf17}
\hypertarget{classAccessTraceForAddress_a4050103e54b773a2c5905995b437c5cf}{
\index{AccessTraceForAddress@{AccessTraceForAddress}!m\_\-user@{m\_\-user}}
\index{m\_\-user@{m\_\-user}!AccessTraceForAddress@{AccessTraceForAddress}}
\subsubsection[{m\_\-user}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint64} {\bf m\_\-user}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAccessTraceForAddress_a4050103e54b773a2c5905995b437c5cf}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/ruby/profiler/\hyperlink{AccessTraceForAddress_8hh}{AccessTraceForAddress.hh}\item 
mem/ruby/profiler/\hyperlink{AccessTraceForAddress_8cc}{AccessTraceForAddress.cc}\end{DoxyCompactItemize}
