<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス Process</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス Process</h1><!-- doxytag: class="Process" --><!-- doxytag: inherits="SimObject" -->
<p><code>#include &lt;<a class="el" href="sim_2process_8hh_source.html">process.hh</a>&gt;</code></p>
<div class="dynheader">
Processに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classProcess.gif" usemap="#Process_map" alt=""/>
  <map id="Process_map" name="Process_map">
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="700,56,830,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="560,0,690,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="700,0,830,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="840,0,970,24"/>
<area href="classLiveProcess.html" alt="LiveProcess" shape="rect" coords="700,168,830,192"/>
<area href="classAlphaLiveProcess.html" alt="AlphaLiveProcess" shape="rect" coords="0,224,130,248"/>
<area href="classArmLiveProcess.html" alt="ArmLiveProcess" shape="rect" coords="280,224,410,248"/>
<area href="classMipsLiveProcess.html" alt="MipsLiveProcess" shape="rect" coords="560,224,690,248"/>
<area href="classMipsLiveProcess.html" alt="MipsLiveProcess" shape="rect" coords="700,224,830,248"/>
<area href="classPowerLiveProcess.html" alt="PowerLiveProcess" shape="rect" coords="840,224,970,248"/>
<area href="classSparcLiveProcess.html" alt="SparcLiveProcess" shape="rect" coords="980,224,1110,248"/>
<area href="classX86ISA_1_1X86LiveProcess.html" alt="X86LiveProcess" shape="rect" coords="1260,224,1390,248"/>
<area href="classAlphaISA_1_1AlphaLinuxProcess.html" alt="AlphaLinuxProcess" shape="rect" coords="140,280,270,304"/>
<area href="classAlphaISA_1_1AlphaTru64Process.html" alt="AlphaTru64Process" shape="rect" coords="140,336,270,360"/>
<area href="classArmLiveProcess32.html" alt="ArmLiveProcess32" shape="rect" coords="420,280,550,304"/>
<area href="classArmLiveProcess64.html" alt="ArmLiveProcess64" shape="rect" coords="420,336,550,360"/>
<area href="classMipsLinuxProcess.html" alt="MipsLinuxProcess" shape="rect" coords="560,280,690,304"/>
<area href="classMipsLinuxProcess.html" alt="MipsLinuxProcess" shape="rect" coords="700,280,830,304"/>
<area href="classPowerLinuxProcess.html" alt="PowerLinuxProcess" shape="rect" coords="840,280,970,304"/>
<area href="classSparc32LiveProcess.html" alt="Sparc32LiveProcess" shape="rect" coords="1120,280,1250,304"/>
<area href="classSparc64LiveProcess.html" alt="Sparc64LiveProcess" shape="rect" coords="1120,336,1250,360"/>
<area href="classX86ISA_1_1I386LiveProcess.html" alt="I386LiveProcess" shape="rect" coords="1400,280,1530,304"/>
<area href="classX86ISA_1_1X86__64LiveProcess.html" alt="X86_64LiveProcess" shape="rect" coords="1400,336,1530,360"/>
</map>
 </div>
</div>

<p><a href="classProcess-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess_1_1FdMap.html">FdMap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess_1_1LiveProcess.html">LiveProcess</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess_1_1Process.html">Process</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structProcess_1_1WaitRec.html">WaitRec</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#ac5c70b967092e10582ce2f165e174890">numCpus</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aec797e960b8c534f9105fbd4ee83f2c7">assignThreadContext</a> (int context_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#ac26b4f23be05f684886e00f4f7526a0e">findFreeContext</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a580745d5543eb666c37e2a5f37fb32a0">progName</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a292e48ab06f50224924454b6c74c90e4">dup_fd</a> (int sim_fd, int tgt_fd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aa98d99fb9a7db11be09b4e5b818d1795">alloc_fd</a> (int sim_fd, std::string filename, int flags, int mode, bool pipe)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a8c39614271eb6220f2db1bd774f43849">free_fd</a> (int tgt_fd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#ac7bb7ef35884d6fb4a2c02f167ab7679">sim_fd</a> (int tgt_fd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classProcess_1_1FdMap.html">FdMap</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#ac12196dd197c6731a021e211a95edb2d">sim_fd_obj</a> (int tgt_fd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a65bfd573cf5c576db37f79195adb9cbc">fix_file_offsets</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aec771386421777782ca6bec97dd93db3">find_file_offsets</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a06811a348d456174f7ad9f2b8f03a129">setReadPipeSource</a> (int read_pipe_fd, int source_fd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a0abb4f4856f531e5b48484f5114a5bf9">syscall</a> (int64_t callnum, <a class="el" href="classThreadContext.html">ThreadContext</a> *tc)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aaebf8af407502fcc035e598795f77089">allocateMem</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, int64_t size, bool clobber=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a5bfc8cca2ce6b8a330e0c209468e5f71">fixupStackFault</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#ac2bb68c3c87d0a046f848f537abb23fc">map</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> paddr, int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a53e036786d17361be4c7320d39c99b84">serialize</a> (std::ostream &amp;os)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section)</td></tr>
<tr><td colspan="2"><h2>Static Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#acea5ecbb223871b0d852b03b68837461">openInputFile</a> (const std::string &amp;filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a230c9c6213b49eef2273fa99e3a511ba">openOutputFile</a> (const std::string &amp;filename)</td></tr>
<tr><td colspan="2"><h2>Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSystem.html">System</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#af27ccd765f13a4b7bd119dc7579e2746">system</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a64a72121f39c3cbc68bb1b863c3f43ed">contextIds</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">std::list</a>&lt; <a class="el" href="structProcess_1_1WaitRec.html">WaitRec</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a8af61364ae9c966602b3b5ec1c0f7f09">waitList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aa0d3d9ff2a6fcb719d3b83226bb50638">brk_point</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a9301d238f8ee69de69d9a608f23b0ee2">stack_base</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a846e164ff6493f2b7001b0adc9dfe535">stack_size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a03ca56edd14eafca9beec28c150e05a6">stack_min</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a02d0240a7f8b3d791b54cd01f9370121">max_stack_size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a55a3705006af6c58cba9f9a23ba89864">next_thread_stack_base</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a39ba573f8e6f0a0f33a82245af695ffc">mmap_start</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a41a18edd0dbae5a7bb12e20a30c2e3e1">mmap_end</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a2e51a258c95c46a8e3b3b4c2c74795e6">nxm_start</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aa47cd9dfc4d79b68bb78ee4b10b8298d">nxm_end</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a71ce639346bf9b5caabdf218544e302a">num_syscalls</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a570045a30dc7f4c596f2fa18dfdfbed5">M5_pid</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPageTable.html">PageTable</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#ad14ffa23ad731f6003755b643f999049">pTable</a></td></tr>
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a2c30075e49c804623c22b25934cfa02a">Process</a> (ProcessParams *params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a3c34ea9b29f410748d4435a667484924">initState</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSETranslatingPortProxy.html">SETranslatingPortProxy</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a280be1c93dee29cd2c6d5d1502c60a9b">initVirtMem</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Memory proxy for initialization (image loading).  <a href="#a280be1c93dee29cd2c6d5d1502c60a9b"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classProcess_1_1FdMap.html">FdMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a> [<a class="el" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a>+1]</td></tr>
<tr><td colspan="2"><h2>Static Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a> = 256</td></tr>
</table>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a2c30075e49c804623c22b25934cfa02a"></a><!-- doxytag: member="Process::Process" ref="a2c30075e49c804623c22b25934cfa02a" args="(ProcessParams *params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classProcess_1_1Process.html">Process</a> </td>
          <td>(</td>
          <td class="paramtype">ProcessParams *&nbsp;</td>
          <td class="paramname"> <em>params</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00104"></a>00104     : <a class="code" href="classSimObject.html#a153e2844edadce7c286efc5e3a7da911">SimObject</a>(<a class="code" href="classSimObject.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>), <a class="code" href="classProcess.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>(<a class="code" href="classSimObject.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>-&gt;system),
<a name="l00105"></a>00105       <a class="code" href="classProcess.html#a02d0240a7f8b3d791b54cd01f9370121">max_stack_size</a>(<a class="code" href="classSimObject.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>-&gt;max_stack_size),
<a name="l00106"></a>00106       <a class="code" href="classProcess.html#a570045a30dc7f4c596f2fa18dfdfbed5">M5_pid</a>(<a class="code" href="classProcess.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#a402028e3641447d7638e44c37190c7e3">allocatePID</a>()),
<a name="l00107"></a>00107       <a class="code" href="classProcess.html#ad14ffa23ad731f6003755b643f999049">pTable</a>(<span class="keyword">new</span> <a class="code" href="classPageTable.html">PageTable</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>(), <a class="code" href="classProcess.html#a570045a30dc7f4c596f2fa18dfdfbed5">M5_pid</a>)),
<a name="l00108"></a>00108       <a class="code" href="classProcess.html#a280be1c93dee29cd2c6d5d1502c60a9b" title="Memory proxy for initialization (image loading).">initVirtMem</a>(<a class="code" href="classProcess.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#ac19ed7d066a1932ab5b2309af9af350c">getSystemPort</a>(), <span class="keyword">this</span>,
<a name="l00109"></a>00109                   <a class="code" href="classSETranslatingPortProxy.html#ac60b92a362d833ef83dd912047a36afeae1a8e8cd4807ad56b76df10995885c33">SETranslatingPortProxy::Always</a>)
<a name="l00110"></a>00110 {
<a name="l00111"></a>00111     <span class="keywordtype">string</span> in = <a class="code" href="classSimObject.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>-&gt;input;
<a name="l00112"></a>00112     <span class="keywordtype">string</span> out = <a class="code" href="classSimObject.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>-&gt;output;
<a name="l00113"></a>00113     <span class="keywordtype">string</span> err = <a class="code" href="classSimObject.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a>-&gt;errout;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115     <span class="comment">// initialize file descriptors to default: same as simulator</span>
<a name="l00116"></a>00116     <span class="keywordtype">int</span> stdin_fd, stdout_fd, stderr_fd;
<a name="l00117"></a>00117 
<a name="l00118"></a>00118     <span class="keywordflow">if</span> (in == <span class="stringliteral">&quot;stdin&quot;</span> || in == <span class="stringliteral">&quot;cin&quot;</span>)
<a name="l00119"></a>00119         stdin_fd = STDIN_FILENO;
<a name="l00120"></a>00120     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (in == <span class="stringliteral">&quot;None&quot;</span>)
<a name="l00121"></a>00121         stdin_fd = -1;
<a name="l00122"></a>00122     <span class="keywordflow">else</span>
<a name="l00123"></a>00123         stdin_fd = <a class="code" href="classProcess.html#acea5ecbb223871b0d852b03b68837461">Process::openInputFile</a>(in);
<a name="l00124"></a>00124 
<a name="l00125"></a>00125     <span class="keywordflow">if</span> (out == <span class="stringliteral">&quot;stdout&quot;</span> || out == <span class="stringliteral">&quot;cout&quot;</span>)
<a name="l00126"></a>00126         stdout_fd = STDOUT_FILENO;
<a name="l00127"></a>00127     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out == <span class="stringliteral">&quot;stderr&quot;</span> || out == <span class="stringliteral">&quot;cerr&quot;</span>)
<a name="l00128"></a>00128         stdout_fd = STDERR_FILENO;
<a name="l00129"></a>00129     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out == <span class="stringliteral">&quot;None&quot;</span>)
<a name="l00130"></a>00130         stdout_fd = -1;
<a name="l00131"></a>00131     <span class="keywordflow">else</span>
<a name="l00132"></a>00132         stdout_fd = <a class="code" href="classProcess.html#a230c9c6213b49eef2273fa99e3a511ba">Process::openOutputFile</a>(out);
<a name="l00133"></a>00133 
<a name="l00134"></a>00134     <span class="keywordflow">if</span> (err == <span class="stringliteral">&quot;stdout&quot;</span> || err == <span class="stringliteral">&quot;cout&quot;</span>)
<a name="l00135"></a>00135         stderr_fd = STDOUT_FILENO;
<a name="l00136"></a>00136     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <span class="stringliteral">&quot;stderr&quot;</span> || err == <span class="stringliteral">&quot;cerr&quot;</span>)
<a name="l00137"></a>00137         stderr_fd = STDERR_FILENO;
<a name="l00138"></a>00138     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <span class="stringliteral">&quot;None&quot;</span>)
<a name="l00139"></a>00139         stderr_fd = -1;
<a name="l00140"></a>00140     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == out)
<a name="l00141"></a>00141         stderr_fd = stdout_fd;
<a name="l00142"></a>00142     <span class="keywordflow">else</span>
<a name="l00143"></a>00143         stderr_fd = <a class="code" href="classProcess.html#a230c9c6213b49eef2273fa99e3a511ba">Process::openOutputFile</a>(err);
<a name="l00144"></a>00144 
<a name="l00145"></a>00145     <span class="comment">// initialize first 3 fds (stdin, stdout, stderr)</span>
<a name="l00146"></a>00146     <a class="code" href="classProcess_1_1FdMap.html">Process::FdMap</a> *fdo = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[STDIN_FILENO];
<a name="l00147"></a>00147     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = stdin_fd;
<a name="l00148"></a>00148     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a> = in;
<a name="l00149"></a>00149     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> = O_RDONLY;
<a name="l00150"></a>00150     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> = -1;
<a name="l00151"></a>00151     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#af57442475b89e86b86478fe902d7c4d1">fileOffset</a> = 0;
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     fdo =  &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[STDOUT_FILENO];
<a name="l00154"></a>00154     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = stdout_fd;
<a name="l00155"></a>00155     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a> = out;
<a name="l00156"></a>00156     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> =  O_WRONLY | O_CREAT | O_TRUNC;
<a name="l00157"></a>00157     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> = 0774;
<a name="l00158"></a>00158     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#af57442475b89e86b86478fe902d7c4d1">fileOffset</a> = 0;
<a name="l00159"></a>00159 
<a name="l00160"></a>00160     fdo = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[STDERR_FILENO];
<a name="l00161"></a>00161     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = stderr_fd;
<a name="l00162"></a>00162     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a> = err;
<a name="l00163"></a>00163     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> = O_WRONLY;
<a name="l00164"></a>00164     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> = -1;
<a name="l00165"></a>00165     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#af57442475b89e86b86478fe902d7c4d1">fileOffset</a> = 0;
<a name="l00166"></a>00166 
<a name="l00167"></a>00167 
<a name="l00168"></a>00168     <span class="comment">// mark remaining fds as free</span>
<a name="l00169"></a>00169     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 3; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt;= <a class="code" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a>; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00170"></a>00170         fdo = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>];
<a name="l00171"></a>00171         fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = -1;
<a name="l00172"></a>00172     }
<a name="l00173"></a>00173 
<a name="l00174"></a>00174     <a class="code" href="classProcess.html#a39ba573f8e6f0a0f33a82245af695ffc">mmap_start</a> = <a class="code" href="classProcess.html#a41a18edd0dbae5a7bb12e20a30c2e3e1">mmap_end</a> = 0;
<a name="l00175"></a>00175     <a class="code" href="classProcess.html#a2e51a258c95c46a8e3b3b4c2c74795e6">nxm_start</a> = <a class="code" href="classProcess.html#aa47cd9dfc4d79b68bb78ee4b10b8298d">nxm_end</a> = 0;
<a name="l00176"></a>00176     <span class="comment">// other parameters will be initialized when the program is loaded</span>
<a name="l00177"></a>00177 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="aa98d99fb9a7db11be09b4e5b818d1795"></a><!-- doxytag: member="Process::alloc_fd" ref="aa98d99fb9a7db11be09b4e5b818d1795" args="(int sim_fd, std::string filename, int flags, int mode, bool pipe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int alloc_fd </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sim_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>pipe</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aaebf8af407502fcc035e598795f77089"></a><!-- doxytag: member="Process::allocateMem" ref="aaebf8af407502fcc035e598795f77089" args="(Addr vaddr, int64_t size, bool clobber=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void allocateMem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>clobber</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00329"></a>00329 {
<a name="l00330"></a>00330     <span class="keywordtype">int</span> npages = <a class="code" href="intmath_8hh.html#ae842b412d3570df97a944085b8f85850">divCeil</a>(size, (int64_t)<a class="code" href="namespaceAlphaISA.html#a06fc87d81c62e9abb8790b6e5713c55babe0c83362ff9a394bc07b0e26f089b83">VMPageSize</a>);
<a name="l00331"></a>00331     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> paddr = <a class="code" href="classProcess.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#ab816e894891a147b8ba762d89f46c902">allocPhysPages</a>(npages);
<a name="l00332"></a>00332     <a class="code" href="classProcess.html#ad14ffa23ad731f6003755b643f999049">pTable</a>-&gt;<a class="code" href="classPageTable.html#aff59f07ef2928facc67674a304b1e7e9">map</a>(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, paddr, size, clobber);
<a name="l00333"></a>00333 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aec797e960b8c534f9105fbd4ee83f2c7"></a><!-- doxytag: member="Process::assignThreadContext" ref="aec797e960b8c534f9105fbd4ee83f2c7" args="(int context_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void assignThreadContext </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>context_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00170"></a>00170     {
<a name="l00171"></a>00171         <a class="code" href="classProcess.html#a64a72121f39c3cbc68bb1b863c3f43ed">contextIds</a>.push_back(context_id);
<a name="l00172"></a>00172     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a292e48ab06f50224924454b6c74c90e4"></a><!-- doxytag: member="Process::dup_fd" ref="a292e48ab06f50224924454b6c74c90e4" args="(int sim_fd, int tgt_fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dup_fd </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sim_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tgt_fd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00254"></a>00254 {
<a name="l00255"></a>00255     <span class="keywordflow">if</span> (tgt_fd &lt; 0 || tgt_fd &gt; <a class="code" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a>)
<a name="l00256"></a>00256         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Process::dup_fd tried to dup past MAX_FD (%d)&quot;</span>, tgt_fd);
<a name="l00257"></a>00257 
<a name="l00258"></a>00258     <a class="code" href="classProcess_1_1FdMap.html">Process::FdMap</a> *fdo = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[tgt_fd];
<a name="l00259"></a>00259     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = <a class="code" href="classProcess.html#ac7bb7ef35884d6fb4a2c02f167ab7679">sim_fd</a>;
<a name="l00260"></a>00260 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aec771386421777782ca6bec97dd93db3"></a><!-- doxytag: member="Process::find_file_offsets" ref="aec771386421777782ca6bec97dd93db3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void find_file_offsets </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00458"></a>00458 {
<a name="l00459"></a>00459     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="classProcess.html#a8c39614271eb6220f2db1bd774f43849">free_fd</a> = 0; <a class="code" href="classProcess.html#a8c39614271eb6220f2db1bd774f43849">free_fd</a> &lt;= <a class="code" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a>; ++<a class="code" href="classProcess.html#a8c39614271eb6220f2db1bd774f43849">free_fd</a>) {
<a name="l00460"></a>00460         <a class="code" href="classProcess_1_1FdMap.html">Process::FdMap</a> *fdo = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[<a class="code" href="classProcess.html#a8c39614271eb6220f2db1bd774f43849">free_fd</a>];
<a name="l00461"></a>00461         <span class="keywordflow">if</span> (fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> != -1) {
<a name="l00462"></a>00462             fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#af57442475b89e86b86478fe902d7c4d1">fileOffset</a> = lseek(fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, 0, SEEK_CUR);
<a name="l00463"></a>00463         } <span class="keywordflow">else</span> {
<a name="l00464"></a>00464                 fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a> = <span class="stringliteral">&quot;NULL&quot;</span>;
<a name="l00465"></a>00465                 fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#af57442475b89e86b86478fe902d7c4d1">fileOffset</a> = 0;
<a name="l00466"></a>00466         }
<a name="l00467"></a>00467     }
<a name="l00468"></a>00468 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac26b4f23be05f684886e00f4f7526a0e"></a><!-- doxytag: member="Process::findFreeContext" ref="ac26b4f23be05f684886e00f4f7526a0e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreadContext.html">ThreadContext</a> * findFreeContext </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00225"></a>00225 {
<a name="l00226"></a>00226     <span class="keywordtype">int</span> size = <a class="code" href="classProcess.html#a64a72121f39c3cbc68bb1b863c3f43ed">contextIds</a>.size();
<a name="l00227"></a>00227     <a class="code" href="classThreadContext.html">ThreadContext</a> *<a class="code" href="namespaceArmISA.html#a5aff829af55e65b802d83dfcef4e9dd0">tc</a>;
<a name="l00228"></a>00228     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; size; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00229"></a>00229         tc = <a class="code" href="classProcess.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#af349994bde91bd82c98f31e10c495cd1">getThreadContext</a>(<a class="code" href="classProcess.html#a64a72121f39c3cbc68bb1b863c3f43ed">contextIds</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]);
<a name="l00230"></a>00230         <span class="keywordflow">if</span> (tc-&gt;<a class="code" href="classThreadContext.html#adfba9b39542cba955a02b8ff3ba023a9">status</a>() == <a class="code" href="classThreadContext.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba185a75df63e845aec97632afd6a34d6a">ThreadContext::Halted</a>) {
<a name="l00231"></a>00231             <span class="comment">// inactive context, free to use</span>
<a name="l00232"></a>00232             <span class="keywordflow">return</span> tc;
<a name="l00233"></a>00233         }
<a name="l00234"></a>00234     }
<a name="l00235"></a>00235     <span class="keywordflow">return</span> <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00236"></a>00236 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a65bfd573cf5c576db37f79195adb9cbc"></a><!-- doxytag: member="Process::fix_file_offsets" ref="a65bfd573cf5c576db37f79195adb9cbc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fix_file_offsets </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00363"></a>00363 {
<a name="l00364"></a>00364     <a class="code" href="classProcess_1_1FdMap.html">Process::FdMap</a> *fdo_stdin = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[STDIN_FILENO];
<a name="l00365"></a>00365     <a class="code" href="classProcess_1_1FdMap.html">Process::FdMap</a> *fdo_stdout = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[STDOUT_FILENO];
<a name="l00366"></a>00366     <a class="code" href="classProcess_1_1FdMap.html">Process::FdMap</a> *fdo_stderr = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[STDERR_FILENO];
<a name="l00367"></a>00367     <span class="keywordtype">string</span> in = fdo_stdin-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a>;
<a name="l00368"></a>00368     <span class="keywordtype">string</span> out = fdo_stdout-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a>;
<a name="l00369"></a>00369     <span class="keywordtype">string</span> err = fdo_stderr-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a>;
<a name="l00370"></a>00370 
<a name="l00371"></a>00371     <span class="comment">// initialize file descriptors to default: same as simulator</span>
<a name="l00372"></a>00372     <span class="keywordtype">int</span> stdin_fd, stdout_fd, stderr_fd;
<a name="l00373"></a>00373 
<a name="l00374"></a>00374     <span class="keywordflow">if</span> (in == <span class="stringliteral">&quot;stdin&quot;</span> || in == <span class="stringliteral">&quot;cin&quot;</span>)
<a name="l00375"></a>00375         stdin_fd = STDIN_FILENO;
<a name="l00376"></a>00376     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (in == <span class="stringliteral">&quot;None&quot;</span>)
<a name="l00377"></a>00377         stdin_fd = -1;
<a name="l00378"></a>00378     <span class="keywordflow">else</span> {
<a name="l00379"></a>00379         <span class="comment">// open standard in and seek to the right location</span>
<a name="l00380"></a>00380         stdin_fd = <a class="code" href="classProcess.html#acea5ecbb223871b0d852b03b68837461">Process::openInputFile</a>(in);
<a name="l00381"></a>00381         <span class="keywordflow">if</span> (lseek(stdin_fd, fdo_stdin-&gt;<a class="code" href="classProcess_1_1FdMap.html#af57442475b89e86b86478fe902d7c4d1">fileOffset</a>, SEEK_SET) &lt; 0)
<a name="l00382"></a>00382             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Unable to seek to correct location in file: %s&quot;</span>, in);
<a name="l00383"></a>00383     }
<a name="l00384"></a>00384 
<a name="l00385"></a>00385     <span class="keywordflow">if</span> (out == <span class="stringliteral">&quot;stdout&quot;</span> || out == <span class="stringliteral">&quot;cout&quot;</span>)
<a name="l00386"></a>00386         stdout_fd = STDOUT_FILENO;
<a name="l00387"></a>00387     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out == <span class="stringliteral">&quot;stderr&quot;</span> || out == <span class="stringliteral">&quot;cerr&quot;</span>)
<a name="l00388"></a>00388         stdout_fd = STDERR_FILENO;
<a name="l00389"></a>00389     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out == <span class="stringliteral">&quot;None&quot;</span>)
<a name="l00390"></a>00390         stdout_fd = -1;
<a name="l00391"></a>00391     <span class="keywordflow">else</span> {
<a name="l00392"></a>00392         stdout_fd = <a class="code" href="classProcess.html#a230c9c6213b49eef2273fa99e3a511ba">Process::openOutputFile</a>(out);
<a name="l00393"></a>00393         <span class="keywordflow">if</span> (lseek(stdout_fd, fdo_stdout-&gt;<a class="code" href="classProcess_1_1FdMap.html#af57442475b89e86b86478fe902d7c4d1">fileOffset</a>, SEEK_SET) &lt; 0)
<a name="l00394"></a>00394             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Unable to seek to correct location in file: %s&quot;</span>, out);
<a name="l00395"></a>00395     }
<a name="l00396"></a>00396 
<a name="l00397"></a>00397     <span class="keywordflow">if</span> (err == <span class="stringliteral">&quot;stdout&quot;</span> || err == <span class="stringliteral">&quot;cout&quot;</span>)
<a name="l00398"></a>00398         stderr_fd = STDOUT_FILENO;
<a name="l00399"></a>00399     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <span class="stringliteral">&quot;stderr&quot;</span> || err == <span class="stringliteral">&quot;cerr&quot;</span>)
<a name="l00400"></a>00400         stderr_fd = STDERR_FILENO;
<a name="l00401"></a>00401     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <span class="stringliteral">&quot;None&quot;</span>)
<a name="l00402"></a>00402         stderr_fd = -1;
<a name="l00403"></a>00403     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == out)
<a name="l00404"></a>00404         stderr_fd = stdout_fd;
<a name="l00405"></a>00405     <span class="keywordflow">else</span> {
<a name="l00406"></a>00406         stderr_fd = <a class="code" href="classProcess.html#a230c9c6213b49eef2273fa99e3a511ba">Process::openOutputFile</a>(err);
<a name="l00407"></a>00407         <span class="keywordflow">if</span> (lseek(stderr_fd, fdo_stderr-&gt;<a class="code" href="classProcess_1_1FdMap.html#af57442475b89e86b86478fe902d7c4d1">fileOffset</a>, SEEK_SET) &lt; 0)
<a name="l00408"></a>00408             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Unable to seek to correct location in file: %s&quot;</span>, err);
<a name="l00409"></a>00409     }
<a name="l00410"></a>00410 
<a name="l00411"></a>00411     fdo_stdin-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = stdin_fd;
<a name="l00412"></a>00412     fdo_stdout-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = stdout_fd;
<a name="l00413"></a>00413     fdo_stderr-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = stderr_fd;
<a name="l00414"></a>00414 
<a name="l00415"></a>00415 
<a name="l00416"></a>00416     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="classProcess.html#a8c39614271eb6220f2db1bd774f43849">free_fd</a> = 3; <a class="code" href="classProcess.html#a8c39614271eb6220f2db1bd774f43849">free_fd</a> &lt;= <a class="code" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a>; ++<a class="code" href="classProcess.html#a8c39614271eb6220f2db1bd774f43849">free_fd</a>) {
<a name="l00417"></a>00417         <a class="code" href="classProcess_1_1FdMap.html">Process::FdMap</a> *fdo = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[<a class="code" href="classProcess.html#a8c39614271eb6220f2db1bd774f43849">free_fd</a>];
<a name="l00418"></a>00418         <span class="keywordflow">if</span> (fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> != -1) {
<a name="l00419"></a>00419             <span class="keywordflow">if</span> (fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a9260c74a8a3973a8cb2ac4c6656d5a20">isPipe</a>){
<a name="l00420"></a>00420                 <span class="keywordflow">if</span> (fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a> == <span class="stringliteral">&quot;PIPE-WRITE&quot;</span>)
<a name="l00421"></a>00421                     <span class="keywordflow">continue</span>;
<a name="l00422"></a>00422                 <span class="keywordflow">else</span> {
<a name="l00423"></a>00423                     assert (fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a> == <span class="stringliteral">&quot;PIPE-READ&quot;</span>);
<a name="l00424"></a>00424                     <span class="comment">//create a new pipe</span>
<a name="l00425"></a>00425                     <span class="keywordtype">int</span> fds[2];
<a name="l00426"></a>00426                     <span class="keywordtype">int</span> pipe_retval = pipe(fds);
<a name="l00427"></a>00427 
<a name="l00428"></a>00428                     <span class="keywordflow">if</span> (pipe_retval &lt; 0) {
<a name="l00429"></a>00429                         <span class="comment">// error</span>
<a name="l00430"></a>00430                         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Unable to create new pipe.&quot;</span>);
<a name="l00431"></a>00431                     }
<a name="l00432"></a>00432                     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = fds[0]; <span class="comment">//set read pipe</span>
<a name="l00433"></a>00433                     <a class="code" href="classProcess_1_1FdMap.html">Process::FdMap</a> *fdo_write = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#abc824a1a926dd34c7050c0ea4ace0d65">readPipeSource</a>];
<a name="l00434"></a>00434                     <span class="keywordflow">if</span> (fdo_write-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a> != <span class="stringliteral">&quot;PIPE-WRITE&quot;</span>)
<a name="l00435"></a>00435                         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a> (<span class="stringliteral">&quot;Couldn&apos;t find write end of the pipe&quot;</span>);
<a name="l00436"></a>00436 
<a name="l00437"></a>00437                     fdo_write-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = fds[1];<span class="comment">//set write pipe</span>
<a name="l00438"></a>00438                }
<a name="l00439"></a>00439             } <span class="keywordflow">else</span> {
<a name="l00440"></a>00440                 <span class="comment">//Open file</span>
<a name="l00441"></a>00441                 <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a87001e8063b8b1b5dc88f5a4b43b2a5a">fd</a> = open(fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a>.c_str(), fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>, fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>);
<a name="l00442"></a>00442 
<a name="l00443"></a>00443                 <span class="keywordflow">if</span> (fd == -1)
<a name="l00444"></a>00444                     <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Unable to open file: %s&quot;</span>, fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a>);
<a name="l00445"></a>00445                 fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = fd;
<a name="l00446"></a>00446 
<a name="l00447"></a>00447                 <span class="comment">//Seek to correct location before checkpoint</span>
<a name="l00448"></a>00448                 <span class="keywordflow">if</span> (lseek(fd,fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#af57442475b89e86b86478fe902d7c4d1">fileOffset</a>, SEEK_SET) &lt; 0)
<a name="l00449"></a>00449                     <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Unable to seek to correct location in file: %s&quot;</span>,
<a name="l00450"></a>00450                           fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a>);
<a name="l00451"></a>00451             }
<a name="l00452"></a>00452         }
<a name="l00453"></a>00453     }
<a name="l00454"></a>00454 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5bfc8cca2ce6b8a330e0c209468e5f71"></a><!-- doxytag: member="Process::fixupStackFault" ref="a5bfc8cca2ce6b8a330e0c209468e5f71" args="(Addr vaddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fixupStackFault </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Attempt to fix up a fault at vaddr by allocating a page on the stack. </p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>Whether the fault has been fixed. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00337"></a>00337 {
<a name="l00338"></a>00338     <span class="comment">// Check if this is already on the stack and there&apos;s just no page there</span>
<a name="l00339"></a>00339     <span class="comment">// yet.</span>
<a name="l00340"></a>00340     <span class="keywordflow">if</span> (<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> &gt;= <a class="code" href="classProcess.html#a03ca56edd14eafca9beec28c150e05a6">stack_min</a> &amp;&amp; <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> &lt; <a class="code" href="classProcess.html#a9301d238f8ee69de69d9a608f23b0ee2">stack_base</a>) {
<a name="l00341"></a>00341         <a class="code" href="classProcess.html#aaebf8af407502fcc035e598795f77089">allocateMem</a>(<a class="code" href="intmath_8hh.html#a343c19b0ae885d5f3c7960987096e9d5">roundDown</a>(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, <a class="code" href="namespaceAlphaISA.html#a06fc87d81c62e9abb8790b6e5713c55babe0c83362ff9a394bc07b0e26f089b83">VMPageSize</a>), <a class="code" href="namespaceAlphaISA.html#a06fc87d81c62e9abb8790b6e5713c55babe0c83362ff9a394bc07b0e26f089b83">VMPageSize</a>);
<a name="l00342"></a>00342         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00343"></a>00343     }
<a name="l00344"></a>00344 
<a name="l00345"></a>00345     <span class="comment">// We&apos;ve accessed the next page of the stack, so extend it to include</span>
<a name="l00346"></a>00346     <span class="comment">// this address.</span>
<a name="l00347"></a>00347     <span class="keywordflow">if</span> (vaddr &lt; stack_min &amp;&amp; vaddr &gt;= <a class="code" href="classProcess.html#a9301d238f8ee69de69d9a608f23b0ee2">stack_base</a> - <a class="code" href="classProcess.html#a02d0240a7f8b3d791b54cd01f9370121">max_stack_size</a>) {
<a name="l00348"></a>00348         <span class="keywordflow">while</span> (<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> &lt; <a class="code" href="classProcess.html#a03ca56edd14eafca9beec28c150e05a6">stack_min</a>) {
<a name="l00349"></a>00349             <a class="code" href="classProcess.html#a03ca56edd14eafca9beec28c150e05a6">stack_min</a> -= <a class="code" href="namespaceAlphaISA.html#ad9d6a4d965e107c9a7214f096107296b">TheISA::PageBytes</a>;
<a name="l00350"></a>00350             <span class="keywordflow">if</span> (<a class="code" href="classProcess.html#a9301d238f8ee69de69d9a608f23b0ee2">stack_base</a> - <a class="code" href="classProcess.html#a03ca56edd14eafca9beec28c150e05a6">stack_min</a> &gt; <a class="code" href="classProcess.html#a02d0240a7f8b3d791b54cd01f9370121">max_stack_size</a>)
<a name="l00351"></a>00351                 <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;Maximum stack size exceeded\n&quot;</span>);
<a name="l00352"></a>00352             <a class="code" href="classProcess.html#aaebf8af407502fcc035e598795f77089">allocateMem</a>(<a class="code" href="classProcess.html#a03ca56edd14eafca9beec28c150e05a6">stack_min</a>, <a class="code" href="namespaceAlphaISA.html#ad9d6a4d965e107c9a7214f096107296b">TheISA::PageBytes</a>);
<a name="l00353"></a>00353             <a class="code" href="base_2misc_8hh.html#ae7d790080fa18103d7582effff570b9e">inform</a>(<span class="stringliteral">&quot;Increasing stack size by one page.&quot;</span>);
<a name="l00354"></a>00354         };
<a name="l00355"></a>00355         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00356"></a>00356     }
<a name="l00357"></a>00357     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00358"></a>00358 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8c39614271eb6220f2db1bd774f43849"></a><!-- doxytag: member="Process::free_fd" ref="a8c39614271eb6220f2db1bd774f43849" args="(int tgt_fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_fd </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tgt_fd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00293"></a>00293 {
<a name="l00294"></a>00294     <a class="code" href="classProcess_1_1FdMap.html">Process::FdMap</a> *fdo = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[tgt_fd];
<a name="l00295"></a>00295     <span class="keywordflow">if</span> (fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> == -1)
<a name="l00296"></a>00296         <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a>(<span class="stringliteral">&quot;Process::free_fd: request to free unused fd %d&quot;</span>, tgt_fd);
<a name="l00297"></a>00297 
<a name="l00298"></a>00298     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = -1;
<a name="l00299"></a>00299     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ae80f820219e45772366a2a68de6a54c4">filename</a> = <span class="stringliteral">&quot;NULL&quot;</span>;
<a name="l00300"></a>00300     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> = 0;
<a name="l00301"></a>00301     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#af57442475b89e86b86478fe902d7c4d1">fileOffset</a> = 0;
<a name="l00302"></a>00302     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> = 0;
<a name="l00303"></a>00303     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#a9260c74a8a3973a8cb2ac4c6656d5a20">isPipe</a> = <span class="keyword">false</span>;
<a name="l00304"></a>00304     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#abc824a1a926dd34c7050c0ea4ace0d65">readPipeSource</a> = 0;
<a name="l00305"></a>00305 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3c34ea9b29f410748d4435a667484924"></a><!-- doxytag: member="Process::initState" ref="a3c34ea9b29f410748d4435a667484924" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classProcess.html#a3c34ea9b29f410748d4435a667484924">initState()</a> is called on each <a class="el" href="classSimObject.html">SimObject</a> when *not* restoring from a checkpoint. This provides a hook for state initializations that are only required for a "cold start". </p>

<p><a class="el" href="classSimObject.html#a3c34ea9b29f410748d4435a667484924">SimObject</a>を再定義しています。</p>

<p><a class="el" href="classAlphaLiveProcess.html#a3c34ea9b29f410748d4435a667484924">AlphaLiveProcess</a>, <a class="el" href="classArmLinuxProcess32.html#a3c34ea9b29f410748d4435a667484924">ArmLinuxProcess32</a>, <a class="el" href="classArmLinuxProcess64.html#a3c34ea9b29f410748d4435a667484924">ArmLinuxProcess64</a>, <a class="el" href="classArmLiveProcess32.html#a3c34ea9b29f410748d4435a667484924">ArmLiveProcess32</a>, <a class="el" href="classArmLiveProcess64.html#a3c34ea9b29f410748d4435a667484924">ArmLiveProcess64</a>, <a class="el" href="classMipsLiveProcess.html#a3c34ea9b29f410748d4435a667484924">MipsLiveProcess</a>, <a class="el" href="classMipsLiveProcess.html#a3c34ea9b29f410748d4435a667484924">MipsLiveProcess</a>, <a class="el" href="classPowerLinuxProcess.html#a3c34ea9b29f410748d4435a667484924">PowerLinuxProcess</a>, <a class="el" href="classPowerLiveProcess.html#a3c34ea9b29f410748d4435a667484924">PowerLiveProcess</a>, <a class="el" href="classSparcLiveProcess.html#a3c34ea9b29f410748d4435a667484924">SparcLiveProcess</a>, <a class="el" href="classSparc32LiveProcess.html#a3c34ea9b29f410748d4435a667484924">Sparc32LiveProcess</a>, <a class="el" href="classSparc64LiveProcess.html#a3c34ea9b29f410748d4435a667484924">Sparc64LiveProcess</a>, <a class="el" href="classX86ISA_1_1X86__64LiveProcess.html#a3c34ea9b29f410748d4435a667484924">X86_64LiveProcess</a>, と <a class="el" href="classX86ISA_1_1I386LiveProcess.html#a3c34ea9b29f410748d4435a667484924">I386LiveProcess</a>で再定義されています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00240"></a>00240 {
<a name="l00241"></a>00241     <span class="keywordflow">if</span> (<a class="code" href="classProcess.html#a64a72121f39c3cbc68bb1b863c3f43ed">contextIds</a>.empty())
<a name="l00242"></a>00242         <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;Process %s is not associated with any HW contexts!\n&quot;</span>, <a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>());
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <span class="comment">// first thread context for this process... initialize &amp; enable</span>
<a name="l00245"></a>00245     <a class="code" href="classThreadContext.html">ThreadContext</a> *<a class="code" href="namespaceArmISA.html#a5aff829af55e65b802d83dfcef4e9dd0">tc</a> = <a class="code" href="classProcess.html#af27ccd765f13a4b7bd119dc7579e2746">system</a>-&gt;<a class="code" href="classSystem.html#af349994bde91bd82c98f31e10c495cd1">getThreadContext</a>(<a class="code" href="classProcess.html#a64a72121f39c3cbc68bb1b863c3f43ed">contextIds</a>[0]);
<a name="l00246"></a>00246 
<a name="l00247"></a>00247     <span class="comment">// mark this context as active so it will start ticking.</span>
<a name="l00248"></a>00248     tc-&gt;<a class="code" href="classThreadContext.html#a9270160e6cce25ded6999f6e4e60a3ed">activate</a>(<a class="code" href="classCycles.html">Cycles</a>(0));
<a name="l00249"></a>00249 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac2bb68c3c87d0a046f848f537abb23fc"></a><!-- doxytag: member="Process::map" ref="ac2bb68c3c87d0a046f848f537abb23fc" args="(Addr vaddr, Addr paddr, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Map a contiguous range of virtual addresses in this process's address space to a contiguous range of physical addresses. This function exists primarily to enable exposing the map operation to python, so that configuration scripts can set up mappings in SE mode.</p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vaddr</em>&nbsp;</td><td>The starting virtual address of the range. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>paddr</em>&nbsp;</td><td>The starting physical address of the range. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The length of the range in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>True if the map operation was successful. (At this point in time, the map operation always succeeds.) </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00548"></a>00548 {
<a name="l00549"></a>00549     <a class="code" href="classProcess.html#ad14ffa23ad731f6003755b643f999049">pTable</a>-&gt;<a class="code" href="classPageTable.html#aff59f07ef2928facc67674a304b1e7e9">map</a>(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, paddr, size);
<a name="l00550"></a>00550     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00551"></a>00551 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac5c70b967092e10582ce2f165e174890"></a><!-- doxytag: member="Process::numCpus" ref="ac5c70b967092e10582ce2f165e174890" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int numCpus </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00077"></a>00077 { <span class="keywordflow">return</span> <a class="code" href="classProcess.html#a64a72121f39c3cbc68bb1b863c3f43ed">contextIds</a>.size(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acea5ecbb223871b0d852b03b68837461"></a><!-- doxytag: member="Process::openInputFile" ref="acea5ecbb223871b0d852b03b68837461" args="(const std::string &amp;filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int openInputFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>filename</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a230c9c6213b49eef2273fa99e3a511ba"></a><!-- doxytag: member="Process::openOutputFile" ref="a230c9c6213b49eef2273fa99e3a511ba" args="(const std::string &amp;filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int openOutputFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>filename</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a580745d5543eb666c37e2a5f37fb32a0"></a><!-- doxytag: member="Process::progName" ref="a580745d5543eb666c37e2a5f37fb32a0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const char* progName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classLiveProcess.html#a580745d5543eb666c37e2a5f37fb32a0">LiveProcess</a>で再定義されています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00178"></a>00178 { <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4dc637449366fcdfc4e764cdf12d9b11"></a><!-- doxytag: member="Process::regStats" ref="a4dc637449366fcdfc4e764cdf12d9b11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void regStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRegister.html">Register</a> statistics for this object. </p>

<p><a class="el" href="classSimObject.html#a4dc637449366fcdfc4e764cdf12d9b11">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00182"></a>00182 {
<a name="l00183"></a>00183     <span class="keyword">using namespace </span>Stats;
<a name="l00184"></a>00184 
<a name="l00185"></a>00185     <a class="code" href="classProcess.html#a71ce639346bf9b5caabdf218544e302a">num_syscalls</a>
<a name="l00186"></a>00186         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.num_syscalls&quot;</span>)
<a name="l00187"></a>00187         .desc(<span class="stringliteral">&quot;Number of system calls&quot;</span>)
<a name="l00188"></a>00188         ;
<a name="l00189"></a>00189 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53e036786d17361be4c7320d39c99b84"></a><!-- doxytag: member="Process::serialize" ref="a53e036786d17361be4c7320d39c99b84" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#ad6272f80ae37e8331e3969b3f072a801">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00501"></a>00501 {
<a name="l00502"></a>00502     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#aa0d3d9ff2a6fcb719d3b83226bb50638">brk_point</a>);
<a name="l00503"></a>00503     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a9301d238f8ee69de69d9a608f23b0ee2">stack_base</a>);
<a name="l00504"></a>00504     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a846e164ff6493f2b7001b0adc9dfe535">stack_size</a>);
<a name="l00505"></a>00505     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a03ca56edd14eafca9beec28c150e05a6">stack_min</a>);
<a name="l00506"></a>00506     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a55a3705006af6c58cba9f9a23ba89864">next_thread_stack_base</a>);
<a name="l00507"></a>00507     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a39ba573f8e6f0a0f33a82245af695ffc">mmap_start</a>);
<a name="l00508"></a>00508     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a41a18edd0dbae5a7bb12e20a30c2e3e1">mmap_end</a>);
<a name="l00509"></a>00509     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a2e51a258c95c46a8e3b3b4c2c74795e6">nxm_start</a>);
<a name="l00510"></a>00510     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#aa47cd9dfc4d79b68bb78ee4b10b8298d">nxm_end</a>);
<a name="l00511"></a>00511     <a class="code" href="classProcess.html#aec771386421777782ca6bec97dd93db3">find_file_offsets</a>();
<a name="l00512"></a>00512     <a class="code" href="classProcess.html#ad14ffa23ad731f6003755b643f999049">pTable</a>-&gt;<a class="code" href="classPageTable.html#a53e036786d17361be4c7320d39c99b84">serialize</a>(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>);
<a name="l00513"></a>00513     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a> = 0; <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a> &lt;= <a class="code" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a>; <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>++) {
<a name="l00514"></a>00514         <a class="code" href="classSerializable.html#a02882ba301442518e82872ad4574a3f0">nameOut</a>(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.FdMap%d&quot;</span>, <a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>(), <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>));
<a name="l00515"></a>00515         <a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>].<a class="code" href="classProcess_1_1FdMap.html#a53e036786d17361be4c7320d39c99b84">serialize</a>(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>);
<a name="l00516"></a>00516     }
<a name="l00517"></a>00517     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a570045a30dc7f4c596f2fa18dfdfbed5">M5_pid</a>);
<a name="l00518"></a>00518 
<a name="l00519"></a>00519 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a06811a348d456174f7ad9f2b8f03a129"></a><!-- doxytag: member="Process::setReadPipeSource" ref="a06811a348d456174f7ad9f2b8f03a129" args="(int read_pipe_fd, int source_fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setReadPipeSource </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>read_pipe_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>source_fd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00472"></a>00472 {
<a name="l00473"></a>00473     <a class="code" href="classProcess_1_1FdMap.html">Process::FdMap</a> *fdo = &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[read_pipe_fd];
<a name="l00474"></a>00474     fdo-&gt;<a class="code" href="classProcess_1_1FdMap.html#abc824a1a926dd34c7050c0ea4ace0d65">readPipeSource</a> = source_fd;
<a name="l00475"></a>00475 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac7bb7ef35884d6fb4a2c02f167ab7679"></a><!-- doxytag: member="Process::sim_fd" ref="ac7bb7ef35884d6fb4a2c02f167ab7679" args="(int tgt_fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sim_fd </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tgt_fd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00311"></a>00311 {
<a name="l00312"></a>00312     <span class="keywordflow">if</span> (tgt_fd &lt; 0 || tgt_fd &gt; <a class="code" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a>)
<a name="l00313"></a>00313         <span class="keywordflow">return</span> -1;
<a name="l00314"></a>00314 
<a name="l00315"></a>00315     <span class="keywordflow">return</span> <a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[tgt_fd].<a class="code" href="classProcess_1_1FdMap.html#a6f8059414f0228f0256115e024eeed4b">fd</a>;
<a name="l00316"></a>00316 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac12196dd197c6731a021e211a95edb2d"></a><!-- doxytag: member="Process::sim_fd_obj" ref="ac12196dd197c6731a021e211a95edb2d" args="(int tgt_fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classProcess_1_1FdMap.html">Process::FdMap</a> * sim_fd_obj </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tgt_fd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00320"></a>00320 {
<a name="l00321"></a>00321     <span class="keywordflow">if</span> (tgt_fd &lt; 0 || tgt_fd &gt; <a class="code" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a>)
<a name="l00322"></a>00322         <span class="keywordflow">return</span> <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00323"></a>00323 
<a name="l00324"></a>00324     <span class="keywordflow">return</span> &amp;<a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[tgt_fd];
<a name="l00325"></a>00325 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0abb4f4856f531e5b48484f5114a5bf9"></a><!-- doxytag: member="Process::syscall" ref="a0abb4f4856f531e5b48484f5114a5bf9" args="(int64_t callnum, ThreadContext *tc)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void syscall </td>
          <td>(</td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>callnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td>
          <td class="paramname"> <em>tc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classX86ISA_1_1I386LiveProcess.html#a1ed38802271de4269c3adfa46c73e7e7">I386LiveProcess</a>, と <a class="el" href="classLiveProcess.html#a1ed38802271de4269c3adfa46c73e7e7">LiveProcess</a>で実装されています。</p>

</div>
</div>
<a class="anchor" id="af22e5d6d660b97db37003ac61ac4ee49"></a><!-- doxytag: member="Process::unserialize" ref="af22e5d6d660b97db37003ac61ac4ee49" args="(Checkpoint *cp, const std::string &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#af100c4e9feabf3cd918619c88c718387">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00523"></a>00523 {
<a name="l00524"></a>00524     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#aa0d3d9ff2a6fcb719d3b83226bb50638">brk_point</a>);
<a name="l00525"></a>00525     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a9301d238f8ee69de69d9a608f23b0ee2">stack_base</a>);
<a name="l00526"></a>00526     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a846e164ff6493f2b7001b0adc9dfe535">stack_size</a>);
<a name="l00527"></a>00527     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a03ca56edd14eafca9beec28c150e05a6">stack_min</a>);
<a name="l00528"></a>00528     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a55a3705006af6c58cba9f9a23ba89864">next_thread_stack_base</a>);
<a name="l00529"></a>00529     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a39ba573f8e6f0a0f33a82245af695ffc">mmap_start</a>);
<a name="l00530"></a>00530     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a41a18edd0dbae5a7bb12e20a30c2e3e1">mmap_end</a>);
<a name="l00531"></a>00531     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#a2e51a258c95c46a8e3b3b4c2c74795e6">nxm_start</a>);
<a name="l00532"></a>00532     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classProcess.html#aa47cd9dfc4d79b68bb78ee4b10b8298d">nxm_end</a>);
<a name="l00533"></a>00533     <a class="code" href="classProcess.html#ad14ffa23ad731f6003755b643f999049">pTable</a>-&gt;<a class="code" href="classPageTable.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a>(cp, section);
<a name="l00534"></a>00534     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a> = 0; <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a> &lt;= <a class="code" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a>; <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>++) {
<a name="l00535"></a>00535         <a class="code" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[<a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>].<a class="code" href="classProcess_1_1FdMap.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.FdMap%d&quot;</span>, section, <a class="code" href="namespaceX86ISA.html#ab5f9a01fc40e47853ae9551b008afcbd">x</a>));
<a name="l00536"></a>00536     }
<a name="l00537"></a>00537     <a class="code" href="classProcess.html#a65bfd573cf5c576db37f79195adb9cbc">fix_file_offsets</a>();
<a name="l00538"></a>00538     <a class="code" href="serialize_8hh.html#a4589b5c4561e2466c1318470af9c05bc">UNSERIALIZE_OPT_SCALAR</a>(<a class="code" href="classProcess.html#a570045a30dc7f4c596f2fa18dfdfbed5">M5_pid</a>);
<a name="l00539"></a>00539     <span class="comment">// The above returns a bool so that you could do something if you don&apos;t</span>
<a name="l00540"></a>00540     <span class="comment">// find the param in the checkpoint if you wanted to, like set a default</span>
<a name="l00541"></a>00541     <span class="comment">// but in this case we&apos;ll just stick with the instantianted value if not</span>
<a name="l00542"></a>00542     <span class="comment">// found.   </span>
<a name="l00543"></a>00543 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="aa0d3d9ff2a6fcb719d3b83226bb50638"></a><!-- doxytag: member="Process::brk_point" ref="aa0d3d9ff2a6fcb719d3b83226bb50638" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classProcess.html#aa0d3d9ff2a6fcb719d3b83226bb50638">brk_point</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a64a72121f39c3cbc68bb1b863c3f43ed"></a><!-- doxytag: member="Process::contextIds" ref="a64a72121f39c3cbc68bb1b863c3f43ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;int&gt; <a class="el" href="classProcess.html#a64a72121f39c3cbc68bb1b863c3f43ed">contextIds</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad817e277dc908ed0f32c4180c5ddb350"></a><!-- doxytag: member="Process::fd_map" ref="ad817e277dc908ed0f32c4180c5ddb350" args="[MAX_FD+1]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classProcess_1_1FdMap.html">FdMap</a> <a class="el" href="classProcess.html#ad817e277dc908ed0f32c4180c5ddb350">fd_map</a>[<a class="el" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a>+1]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a280be1c93dee29cd2c6d5d1502c60a9b"></a><!-- doxytag: member="Process::initVirtMem" ref="a280be1c93dee29cd2c6d5d1502c60a9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSETranslatingPortProxy.html">SETranslatingPortProxy</a> <a class="el" href="classProcess.html#a280be1c93dee29cd2c6d5d1502c60a9b">initVirtMem</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Memory proxy for initialization (image loading). </p>

</div>
</div>
<a class="anchor" id="a570045a30dc7f4c596f2fa18dfdfbed5"></a><!-- doxytag: member="Process::M5_pid" ref="a570045a30dc7f4c596f2fa18dfdfbed5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classProcess.html#a570045a30dc7f4c596f2fa18dfdfbed5">M5_pid</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2a18c1a4811677d6adabab2287226bb1"></a><!-- doxytag: member="Process::MAX_FD" ref="a2a18c1a4811677d6adabab2287226bb1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classProcess.html#a2a18c1a4811677d6adabab2287226bb1">MAX_FD</a> = 256<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a02d0240a7f8b3d791b54cd01f9370121"></a><!-- doxytag: member="Process::max_stack_size" ref="a02d0240a7f8b3d791b54cd01f9370121" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classProcess.html#a02d0240a7f8b3d791b54cd01f9370121">max_stack_size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a41a18edd0dbae5a7bb12e20a30c2e3e1"></a><!-- doxytag: member="Process::mmap_end" ref="a41a18edd0dbae5a7bb12e20a30c2e3e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classProcess.html#a41a18edd0dbae5a7bb12e20a30c2e3e1">mmap_end</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a39ba573f8e6f0a0f33a82245af695ffc"></a><!-- doxytag: member="Process::mmap_start" ref="a39ba573f8e6f0a0f33a82245af695ffc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classProcess.html#a39ba573f8e6f0a0f33a82245af695ffc">mmap_start</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a55a3705006af6c58cba9f9a23ba89864"></a><!-- doxytag: member="Process::next_thread_stack_base" ref="a55a3705006af6c58cba9f9a23ba89864" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classProcess.html#a55a3705006af6c58cba9f9a23ba89864">next_thread_stack_base</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a71ce639346bf9b5caabdf218544e302a"></a><!-- doxytag: member="Process::num_syscalls" ref="a71ce639346bf9b5caabdf218544e302a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classProcess.html#a71ce639346bf9b5caabdf218544e302a">num_syscalls</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa47cd9dfc4d79b68bb78ee4b10b8298d"></a><!-- doxytag: member="Process::nxm_end" ref="aa47cd9dfc4d79b68bb78ee4b10b8298d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classProcess.html#aa47cd9dfc4d79b68bb78ee4b10b8298d">nxm_end</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e51a258c95c46a8e3b3b4c2c74795e6"></a><!-- doxytag: member="Process::nxm_start" ref="a2e51a258c95c46a8e3b3b4c2c74795e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classProcess.html#a2e51a258c95c46a8e3b3b4c2c74795e6">nxm_start</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad14ffa23ad731f6003755b643f999049"></a><!-- doxytag: member="Process::pTable" ref="ad14ffa23ad731f6003755b643f999049" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPageTable.html">PageTable</a>* <a class="el" href="classProcess.html#ad14ffa23ad731f6003755b643f999049">pTable</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9301d238f8ee69de69d9a608f23b0ee2"></a><!-- doxytag: member="Process::stack_base" ref="a9301d238f8ee69de69d9a608f23b0ee2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classProcess.html#a9301d238f8ee69de69d9a608f23b0ee2">stack_base</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a03ca56edd14eafca9beec28c150e05a6"></a><!-- doxytag: member="Process::stack_min" ref="a03ca56edd14eafca9beec28c150e05a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classProcess.html#a03ca56edd14eafca9beec28c150e05a6">stack_min</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a846e164ff6493f2b7001b0adc9dfe535"></a><!-- doxytag: member="Process::stack_size" ref="a846e164ff6493f2b7001b0adc9dfe535" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classProcess.html#a846e164ff6493f2b7001b0adc9dfe535">stack_size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af27ccd765f13a4b7bd119dc7579e2746"></a><!-- doxytag: member="Process::system" ref="af27ccd765f13a4b7bd119dc7579e2746" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSystem.html">System</a>* <a class="el" href="classProcess.html#af27ccd765f13a4b7bd119dc7579e2746">system</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to object representing the system this process is running on. </p>

</div>
</div>
<a class="anchor" id="a8af61364ae9c966602b3b5ec1c0f7f09"></a><!-- doxytag: member="Process::waitList" ref="a8af61364ae9c966602b3b5ec1c0f7f09" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">std::list</a>&lt;<a class="el" href="structProcess_1_1WaitRec.html">WaitRec</a>&gt; <a class="el" href="classProcess.html#a8af61364ae9c966602b3b5ec1c0f7f09">waitList</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>sim/<a class="el" href="sim_2process_8hh_source.html">process.hh</a></li>
<li>sim/<a class="el" href="sim_2process_8cc.html">process.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
