<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス SyscallReturn</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス SyscallReturn</h1><!-- doxytag: class="SyscallReturn" -->
<p><code>#include &lt;<a class="el" href="syscallreturn_8hh_source.html">syscallreturn.hh</a>&gt;</code></p>

<p><a href="classSyscallReturn-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSyscallReturn.html#a7fdded1828c9eb76cd086f4f55f38da8">SyscallReturn</a> (int64_t v)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSyscallReturn.html#a997bdb2ede937063f361964236058fb0">~SyscallReturn</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSyscallReturn.html#a4a56e02db533279e0c23d6010779933e">successful</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Was the system call successful?  <a href="#a4a56e02db533279e0c23d6010779933e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSyscallReturn.html#ab1977b33a1e2019fef23edea0d7e6f2b">returnValue</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The return value.  <a href="#ab1977b33a1e2019fef23edea0d7e6f2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSyscallReturn.html#a0d37ad312e6fa6704e35c2008d21ec0a">errnoValue</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The errno value.  <a href="#a0d37ad312e6fa6704e35c2008d21ec0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSyscallReturn.html#a57588b532e202b278d875d4e4b1f0e9b">encodedValue</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The encoded value (as described above).  <a href="#a57588b532e202b278d875d4e4b1f0e9b"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSyscallReturn.html#ac072af30c4ffbc834bb4c681f6ecb514">value</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<p>This class represents the return value from an emulated system call, including any errno setting.</p>
<p>On some platforms, the return value and errno are encoded in a single signed integer. A value less than zero but greater than -4096 indicates an error, and the value is the negation of the errno value. Otherwise, the call was successful and the integer is the return value. (Large negative numbers are considered successful to allow syscalls to return pointers to high memory, e.g., stack addresses.) See, for example, Appendix A of the AMD64 ABI spec at <a href="http://www.x86-64.org/documentation/abi.pdf.">http://www.x86-64.org/documentation/abi.pdf.</a></p>
<p>Other platforms use a more complex interface, returning a value and an error code in separate registers.</p>
<p>This class is designed to support both types of interfaces. </p>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a7fdded1828c9eb76cd086f4f55f38da8"></a><!-- doxytag: member="SyscallReturn::SyscallReturn" ref="a7fdded1828c9eb76cd086f4f55f38da8" args="(int64_t v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSyscallReturn.html">SyscallReturn</a> </td>
          <td>(</td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>v</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For simplicity, allow the object to be initialized with a single signed integer using the same positive=success, negative=-errno convention described above.</p>
<p>Typically this constructor is used as a default type conversion, so a bare integer is used where a <a class="el" href="classSyscallReturn.html">SyscallReturn</a> value is expected, e.g., as the return value from a system call emulation function ('return 0;' or 'return -EFAULT;'). </p>

<p><div class="fragment"><pre class="fragment"><a name="l00067"></a>00067         : <a class="code" href="classSyscallReturn.html#ac072af30c4ffbc834bb4c681f6ecb514">value</a>(<a class="code" href="namespaceArmISA.html#ad5f56baee4d3318d20e008bed3480804">v</a>)
<a name="l00068"></a>00068     {}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a997bdb2ede937063f361964236058fb0"></a><!-- doxytag: member="SyscallReturn::~SyscallReturn" ref="a997bdb2ede937063f361964236058fb0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classSyscallReturn.html">SyscallReturn</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00070"></a>00070 {}
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a57588b532e202b278d875d4e4b1f0e9b"></a><!-- doxytag: member="SyscallReturn::encodedValue" ref="a57588b532e202b278d875d4e4b1f0e9b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t encodedValue </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The encoded value (as described above). </p>

<p><div class="fragment"><pre class="fragment"><a name="l00094"></a>00094     {
<a name="l00095"></a>00095         <span class="keywordflow">return</span> <a class="code" href="classSyscallReturn.html#ac072af30c4ffbc834bb4c681f6ecb514">value</a>;
<a name="l00096"></a>00096     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0d37ad312e6fa6704e35c2008d21ec0a"></a><!-- doxytag: member="SyscallReturn::errnoValue" ref="a0d37ad312e6fa6704e35c2008d21ec0a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int errnoValue </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The errno value. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00087"></a>00087     {
<a name="l00088"></a>00088         assert(!<a class="code" href="classSyscallReturn.html#a4a56e02db533279e0c23d6010779933e" title="Was the system call successful?">successful</a>());
<a name="l00089"></a>00089         <span class="keywordflow">return</span> -<a class="code" href="classSyscallReturn.html#ac072af30c4ffbc834bb4c681f6ecb514">value</a>;
<a name="l00090"></a>00090     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab1977b33a1e2019fef23edea0d7e6f2b"></a><!-- doxytag: member="SyscallReturn::returnValue" ref="ab1977b33a1e2019fef23edea0d7e6f2b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t returnValue </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The return value. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00080"></a>00080     {
<a name="l00081"></a>00081         assert(<a class="code" href="classSyscallReturn.html#a4a56e02db533279e0c23d6010779933e" title="Was the system call successful?">successful</a>());
<a name="l00082"></a>00082         <span class="keywordflow">return</span> <a class="code" href="classSyscallReturn.html#ac072af30c4ffbc834bb4c681f6ecb514">value</a>;
<a name="l00083"></a>00083     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4a56e02db533279e0c23d6010779933e"></a><!-- doxytag: member="SyscallReturn::successful" ref="a4a56e02db533279e0c23d6010779933e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool successful </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Was the system call successful? </p>

<p><div class="fragment"><pre class="fragment"><a name="l00074"></a>00074     {
<a name="l00075"></a>00075         <span class="keywordflow">return</span> (<a class="code" href="classSyscallReturn.html#ac072af30c4ffbc834bb4c681f6ecb514">value</a> &gt;= 0 || <a class="code" href="classSyscallReturn.html#ac072af30c4ffbc834bb4c681f6ecb514">value</a> &lt;= -4096);
<a name="l00076"></a>00076     }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="ac072af30c4ffbc834bb4c681f6ecb514"></a><!-- doxytag: member="SyscallReturn::value" ref="ac072af30c4ffbc834bb4c681f6ecb514" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="classSyscallReturn.html#ac072af30c4ffbc834bb4c681f6ecb514">value</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>sim/<a class="el" href="syscallreturn_8hh_source.html">syscallreturn.hh</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
