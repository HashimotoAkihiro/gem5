<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: base/inet.hh ソースファイル</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li><a href="annotated.html"><span>クラス</span></a></li>
      <li class="current"><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>ファイル一覧</span></a></li>
      <li><a href="globals.html"><span>ファイルメンバ</span></a></li>
    </ul>
  </div>
<h1>base/inet.hh</h1><a href="inet_8hh.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2013 ARM Limited</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * The license below extends only to copyright in the software and shall</span>
<a name="l00006"></a>00006 <span class="comment"> * not be construed as granting a license to any other intellectual</span>
<a name="l00007"></a>00007 <span class="comment"> * property including but not limited to intellectual property relating</span>
<a name="l00008"></a>00008 <span class="comment"> * to a hardware implementation of the functionality of the software</span>
<a name="l00009"></a>00009 <span class="comment"> * licensed hereunder.  You may use the software subject to the license</span>
<a name="l00010"></a>00010 <span class="comment"> * terms below provided that you ensure that this notice is replicated</span>
<a name="l00011"></a>00011 <span class="comment"> * unmodified and in its entirety in all distributions of the software,</span>
<a name="l00012"></a>00012 <span class="comment"> * modified or unmodified, in source code or in binary form.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * Copyright (c) 2002-2005 The Regents of The University of Michigan</span>
<a name="l00015"></a>00015 <span class="comment"> * Copyright (c) 2010 Advanced Micro Devices, Inc.</span>
<a name="l00016"></a>00016 <span class="comment"> * All rights reserved.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00019"></a>00019 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00020"></a>00020 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00021"></a>00021 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00022"></a>00022 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00023"></a>00023 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00024"></a>00024 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00025"></a>00025 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00026"></a>00026 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00027"></a>00027 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00028"></a>00028 <span class="comment"> *</span>
<a name="l00029"></a>00029 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00030"></a>00030 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00031"></a>00031 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00032"></a>00032 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00033"></a>00033 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00034"></a>00034 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00035"></a>00035 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00036"></a>00036 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00037"></a>00037 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00038"></a>00038 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00039"></a>00039 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00040"></a>00040 <span class="comment"> *</span>
<a name="l00041"></a>00041 <span class="comment"> * Authors: Nathan Binkert</span>
<a name="l00042"></a>00042 <span class="comment"> *          Steve Reinhardt</span>
<a name="l00043"></a>00043 <span class="comment"> *          Gabe Black</span>
<a name="l00044"></a>00044 <span class="comment"> *          Geoffrey Blake</span>
<a name="l00045"></a>00045 <span class="comment"> */</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="preprocessor">#ifndef __BASE_INET_HH__</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#define __BASE_INET_HH__</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;iosfwd&gt;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &lt;utility&gt;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="preprocessor">#include &quot;<a class="code" href="base_2types_8hh.html">base/types.hh</a>&quot;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &quot;<a class="code" href="etherpkt_8hh.html">dev/etherpkt.hh</a>&quot;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;dnet/os.h&quot;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &quot;dnet/eth.h&quot;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &quot;dnet/ip.h&quot;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;dnet/ip6.h&quot;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &quot;dnet/addr.h&quot;</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include &quot;dnet/arp.h&quot;</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include &quot;dnet/icmp.h&quot;</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include &quot;dnet/tcp.h&quot;</span>
<a name="l00065"></a>00065 <span class="preprocessor">#include &quot;dnet/udp.h&quot;</span>
<a name="l00066"></a>00066 <span class="preprocessor">#include &quot;dnet/intf.h&quot;</span>
<a name="l00067"></a>00067 <span class="preprocessor">#include &quot;dnet/route.h&quot;</span>
<a name="l00068"></a>00068 <span class="preprocessor">#include &quot;dnet/fw.h&quot;</span>
<a name="l00069"></a>00069 <span class="preprocessor">#include &quot;dnet/blob.h&quot;</span>
<a name="l00070"></a>00070 <span class="preprocessor">#include &quot;dnet/rand.h&quot;</span>
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="keyword">namespace </span>Net {
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="comment">/*</span>
<a name="l00075"></a>00075 <span class="comment"> * Ethernet Stuff</span>
<a name="l00076"></a>00076 <span class="comment"> */</span>
<a name="l00077"></a><a class="code" href="structNet_1_1EthAddr.html">00077</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1EthAddr.html">EthAddr</a> : <span class="keyword">protected</span> eth_addr
<a name="l00078"></a>00078 {
<a name="l00079"></a>00079   <span class="keyword">protected</span>:
<a name="l00080"></a>00080     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1EthAddr.html#ac5e1557023352646a8f2d30d06025d89">parse</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="structNet_1_1EthAddr.html#a0ac65c3f2d8239c6908c643e8ef77bfb">addr</a>);
<a name="l00081"></a>00081 
<a name="l00082"></a>00082   <span class="keyword">public</span>:
<a name="l00083"></a>00083     <a class="code" href="structNet_1_1EthAddr.html#ace178b96ff6b3ce7b06668bfab519ca7">EthAddr</a>();
<a name="l00084"></a>00084     <a class="code" href="structNet_1_1EthAddr.html#ace178b96ff6b3ce7b06668bfab519ca7">EthAddr</a>(<span class="keyword">const</span> uint8_t <a class="code" href="namespaceArmISA.html#a0a78b1e6387f72b53868e01d764dc355">ea</a>[ETH_ADDR_LEN]);
<a name="l00085"></a>00085     <a class="code" href="structNet_1_1EthAddr.html#ace178b96ff6b3ce7b06668bfab519ca7">EthAddr</a>(<span class="keyword">const</span> eth_addr &amp;<a class="code" href="namespaceArmISA.html#a0a78b1e6387f72b53868e01d764dc355">ea</a>);
<a name="l00086"></a>00086     <a class="code" href="structNet_1_1EthAddr.html#ace178b96ff6b3ce7b06668bfab519ca7">EthAddr</a>(<span class="keyword">const</span> std::string &amp;addr);
<a name="l00087"></a>00087     <span class="keyword">const</span> <a class="code" href="structNet_1_1EthAddr.html">EthAddr</a> &amp;<a class="code" href="structNet_1_1EthAddr.html#aadea9643872fce4d806d30964030733e">operator=</a>(<span class="keyword">const</span> eth_addr &amp;ea);
<a name="l00088"></a>00088     <span class="keyword">const</span> <a class="code" href="structNet_1_1EthAddr.html">EthAddr</a> &amp;<a class="code" href="structNet_1_1EthAddr.html#aadea9643872fce4d806d30964030733e">operator=</a>(<span class="keyword">const</span> std::string &amp;addr);
<a name="l00089"></a>00089 
<a name="l00090"></a><a class="code" href="structNet_1_1EthAddr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">00090</a>     <span class="keywordtype">int</span> <a class="code" href="structNet_1_1EthAddr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(eth_addr); }
<a name="l00091"></a>00091 
<a name="l00092"></a><a class="code" href="structNet_1_1EthAddr.html#aaa586eeaf354005403ca8e20f961b6c3">00092</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1EthAddr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;data[0]; }
<a name="l00093"></a><a class="code" href="structNet_1_1EthAddr.html#add4fb6fe45a091194dc9eac521194698">00093</a>     uint8_t *<a class="code" href="structNet_1_1EthAddr.html#add4fb6fe45a091194dc9eac521194698">bytes</a>() { <span class="keywordflow">return</span> &amp;data[0]; }
<a name="l00094"></a>00094 
<a name="l00095"></a><a class="code" href="structNet_1_1EthAddr.html#a0ac65c3f2d8239c6908c643e8ef77bfb">00095</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1EthAddr.html#a0ac65c3f2d8239c6908c643e8ef77bfb">addr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;data[0]; }
<a name="l00096"></a><a class="code" href="structNet_1_1EthAddr.html#a45303c1f67152b8e55f3883c04910da5">00096</a>     <span class="keywordtype">bool</span> <a class="code" href="structNet_1_1EthAddr.html#a45303c1f67152b8e55f3883c04910da5">unicast</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> data[0] == 0x00; }
<a name="l00097"></a><a class="code" href="structNet_1_1EthAddr.html#a129144d2909f78d33eb17f9f8caedb94">00097</a>     <span class="keywordtype">bool</span> <a class="code" href="structNet_1_1EthAddr.html#a129144d2909f78d33eb17f9f8caedb94">multicast</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> data[0] == 0x01; }
<a name="l00098"></a><a class="code" href="structNet_1_1EthAddr.html#ae7f045c4687f86f0288db4bd7c1ac6f1">00098</a>     <span class="keywordtype">bool</span> <a class="code" href="structNet_1_1EthAddr.html#ae7f045c4687f86f0288db4bd7c1ac6f1">broadcast</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> data[0] == 0xff; }
<a name="l00099"></a>00099     std::string <a class="code" href="structNet_1_1EthAddr.html#a14a0e4fdb44bd7be64a3c6e5d94f8f0e">string</a>() <span class="keyword">const</span>;
<a name="l00100"></a>00100 
<a name="l00101"></a><a class="code" href="structNet_1_1EthAddr.html#a6b0df69d39b0e944a8337f52c840be2d">00101</a>     <a class="code" href="structNet_1_1EthAddr.html#a6b0df69d39b0e944a8337f52c840be2d">operator uint64_t</a>()<span class="keyword"> const</span>
<a name="l00102"></a>00102 <span class="keyword">    </span>{
<a name="l00103"></a>00103         uint64_t <a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a> = 0;
<a name="l00104"></a>00104         reg |= ((uint64_t)data[0]) &lt;&lt; 40;
<a name="l00105"></a>00105         reg |= ((uint64_t)data[1]) &lt;&lt; 32;
<a name="l00106"></a>00106         reg |= ((uint64_t)data[2]) &lt;&lt; 24;
<a name="l00107"></a>00107         reg |= ((uint64_t)data[3]) &lt;&lt; 16;
<a name="l00108"></a>00108         reg |= ((uint64_t)data[4]) &lt;&lt; 8;
<a name="l00109"></a>00109         reg |= ((uint64_t)data[5]) &lt;&lt; 0;
<a name="l00110"></a>00110         <span class="keywordflow">return</span> reg;
<a name="l00111"></a>00111     }
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 };
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 std::ostream &amp;<a class="code" href="namespaceNet.html#a6ee6ae0fe485e2f01a9b42ab77329d7d">operator&lt;&lt;</a>(std::ostream &amp;stream, <span class="keyword">const</span> EthAddr &amp;<a class="code" href="namespaceArmISA.html#a0a78b1e6387f72b53868e01d764dc355">ea</a>);
<a name="l00116"></a>00116 <span class="keywordtype">bool</span> <a class="code" href="namespaceNet.html#a1f08134ae5bedef31ccc578238491634">operator==</a>(<span class="keyword">const</span> EthAddr &amp;left, <span class="keyword">const</span> EthAddr &amp;right);
<a name="l00117"></a>00117 
<a name="l00118"></a><a class="code" href="structNet_1_1EthHdr.html">00118</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> : <span class="keyword">public</span> eth_hdr
<a name="l00119"></a>00119 {
<a name="l00120"></a><a class="code" href="structNet_1_1EthHdr.html#ab77c052e3da73dead20179a30fe14546">00120</a>     <span class="keywordtype">bool</span> <a class="code" href="structNet_1_1EthHdr.html#ab77c052e3da73dead20179a30fe14546">isVlan</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (ntohs(eth_type) == ETH_TYPE_8021Q); }
<a name="l00121"></a><a class="code" href="structNet_1_1EthHdr.html#a236542f3042d3c2ac7d98d1a7ad75269">00121</a>     uint16_t <a class="code" href="structNet_1_1EthHdr.html#a236542f3042d3c2ac7d98d1a7ad75269">type</a>()<span class="keyword"> const </span>{
<a name="l00122"></a>00122         <span class="keywordflow">if</span> (!<a class="code" href="structNet_1_1EthHdr.html#ab77c052e3da73dead20179a30fe14546">isVlan</a>())
<a name="l00123"></a>00123             <span class="keywordflow">return</span> ntohs(eth_type);
<a name="l00124"></a>00124         <span class="keywordflow">else</span>
<a name="l00125"></a>00125             <span class="comment">// L3 type is now 16 bytes into the hdr with 802.1Q</span>
<a name="l00126"></a>00126             <span class="comment">// instead of 12.  dnet/eth.h only supports 802.1</span>
<a name="l00127"></a>00127             <span class="keywordflow">return</span> ntohs(*((uint16_t*)(((uint8_t *)<span class="keyword">this</span>) + 16)));
<a name="l00128"></a>00128     }
<a name="l00129"></a><a class="code" href="structNet_1_1EthHdr.html#afc72e33f3356269c9ff905dfc17ed070">00129</a>     uint16_t <a class="code" href="structNet_1_1EthHdr.html#afc72e33f3356269c9ff905dfc17ed070">vlanId</a>()<span class="keyword"> const </span>{
<a name="l00130"></a>00130         <span class="keywordflow">if</span> (<a class="code" href="structNet_1_1EthHdr.html#ab77c052e3da73dead20179a30fe14546">isVlan</a>())
<a name="l00131"></a>00131             <span class="keywordflow">return</span> ntohs(*((uint16_t*)(((uint8_t *)<span class="keyword">this</span>) + 14)));
<a name="l00132"></a>00132         <span class="keywordflow">else</span>
<a name="l00133"></a>00133             <span class="keywordflow">return</span> 0x0000;
<a name="l00134"></a>00134     }
<a name="l00135"></a>00135 
<a name="l00136"></a><a class="code" href="structNet_1_1EthHdr.html#a51749901bf4eabf2967325c9b4482d35">00136</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1EthAddr.html">EthAddr</a> &amp;<a class="code" href="structNet_1_1EthHdr.html#a51749901bf4eabf2967325c9b4482d35">src</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *(<a class="code" href="structNet_1_1EthAddr.html">EthAddr</a> *)&amp;eth_src; }
<a name="l00137"></a><a class="code" href="structNet_1_1EthHdr.html#a69ca058eabf9eab6f3aba644b89a65e0">00137</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1EthAddr.html">EthAddr</a> &amp;<a class="code" href="structNet_1_1EthHdr.html#a69ca058eabf9eab6f3aba644b89a65e0">dst</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *(<a class="code" href="structNet_1_1EthAddr.html">EthAddr</a> *)&amp;eth_dst; }
<a name="l00138"></a>00138 
<a name="l00139"></a><a class="code" href="structNet_1_1EthHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">00139</a>     <span class="keywordtype">int</span> <a class="code" href="structNet_1_1EthHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>()<span class="keyword"> const </span>{
<a name="l00140"></a>00140         <span class="keywordflow">if</span> (!<a class="code" href="structNet_1_1EthHdr.html#ab77c052e3da73dead20179a30fe14546">isVlan</a>())
<a name="l00141"></a>00141             <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(eth_hdr);
<a name="l00142"></a>00142         <span class="keywordflow">else</span>
<a name="l00143"></a>00143             <span class="keywordflow">return</span> (<span class="keyword">sizeof</span>(eth_hdr)+4);
<a name="l00144"></a>00144     }
<a name="l00145"></a>00145 
<a name="l00146"></a><a class="code" href="structNet_1_1EthHdr.html#aaa586eeaf354005403ca8e20f961b6c3">00146</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1EthHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keyword">const</span> uint8_t *)<span class="keyword">this</span>; }
<a name="l00147"></a><a class="code" href="structNet_1_1EthHdr.html#a5f0d069ddb9d067af9e94963bd1fc7a2">00147</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1EthHdr.html#a5f0d069ddb9d067af9e94963bd1fc7a2">payload</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1EthHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + <a class="code" href="structNet_1_1EthHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>(); }
<a name="l00148"></a><a class="code" href="structNet_1_1EthHdr.html#add4fb6fe45a091194dc9eac521194698">00148</a>     uint8_t *<a class="code" href="structNet_1_1EthHdr.html#add4fb6fe45a091194dc9eac521194698">bytes</a>() { <span class="keywordflow">return</span> (uint8_t *)<span class="keyword">this</span>; }
<a name="l00149"></a><a class="code" href="structNet_1_1EthHdr.html#a79ce21e3572e587b71de7af1ac640b6f">00149</a>     uint8_t *<a class="code" href="structNet_1_1EthHdr.html#a79ce21e3572e587b71de7af1ac640b6f">payload</a>() { <span class="keywordflow">return</span> <a class="code" href="structNet_1_1EthHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + <a class="code" href="structNet_1_1EthHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>(); }
<a name="l00150"></a>00150 };
<a name="l00151"></a>00151 
<a name="l00152"></a><a class="code" href="classNet_1_1EthPtr.html">00152</a> <span class="keyword">class </span><a class="code" href="classNet_1_1EthPtr.html">EthPtr</a>
<a name="l00153"></a>00153 {
<a name="l00154"></a>00154   <span class="keyword">protected</span>:
<a name="l00155"></a><a class="code" href="classNet_1_1EthPtr.html#a443900f39d853561c56d3bda41a2a423">00155</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classNet_1_1IpPtr.html">IpPtr</a>;
<a name="l00156"></a><a class="code" href="classNet_1_1EthPtr.html#a9438284c41fe8111a2ca980de73308b2">00156</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classNet_1_1Ip6Ptr.html">Ip6Ptr</a>;
<a name="l00157"></a><a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">00157</a>     <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>;
<a name="l00158"></a>00158 
<a name="l00159"></a>00159   <span class="keyword">public</span>:
<a name="l00160"></a><a class="code" href="classNet_1_1EthPtr.html#adf874f340fa266b7e35f19f0b5ad5184">00160</a>     <a class="code" href="classNet_1_1EthPtr.html#adf874f340fa266b7e35f19f0b5ad5184">EthPtr</a>() {}
<a name="l00161"></a><a class="code" href="classNet_1_1EthPtr.html#ae8d736d4c10ee329e7c9a6af3d9ef7e5">00161</a>     <a class="code" href="classNet_1_1EthPtr.html#ae8d736d4c10ee329e7c9a6af3d9ef7e5">EthPtr</a>(<span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> &amp;ptr) : <a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(ptr) { }
<a name="l00162"></a>00162 
<a name="l00163"></a><a class="code" href="classNet_1_1EthPtr.html#a2052a08e4c8b20c791ce160b46616234">00163</a>     <a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *<a class="code" href="classNet_1_1EthPtr.html#a2052a08e4c8b20c791ce160b46616234">operator-&gt;</a>() { <span class="keywordflow">return</span> (<a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *)<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a>; }
<a name="l00164"></a><a class="code" href="classNet_1_1EthPtr.html#ac8e3102ab3c8268a484913e355ff61c2">00164</a>     <a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> &amp;<a class="code" href="classNet_1_1EthPtr.html#ac8e3102ab3c8268a484913e355ff61c2">operator*</a>() { <span class="keywordflow">return</span> *(<a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *)<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a>; }
<a name="l00165"></a><a class="code" href="classNet_1_1EthPtr.html#a9b3d3c77c792d971ebf5f4f2e07ff5e1">00165</a>     <a class="code" href="classNet_1_1EthPtr.html#a9b3d3c77c792d971ebf5f4f2e07ff5e1">operator EthHdr *</a>() { <span class="keywordflow">return</span> (<a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *)<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a>; }
<a name="l00166"></a>00166 
<a name="l00167"></a><a class="code" href="classNet_1_1EthPtr.html#a99f34a16b79c9394a9a8f011186a52ed">00167</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *<a class="code" href="classNet_1_1EthPtr.html#a99f34a16b79c9394a9a8f011186a52ed">operator-&gt;</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keyword">const</span> <a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *)<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a>; }
<a name="l00168"></a><a class="code" href="classNet_1_1EthPtr.html#a9a3bab93af9c16eed0a09f218657b76a">00168</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> &amp;<a class="code" href="classNet_1_1EthPtr.html#a9a3bab93af9c16eed0a09f218657b76a">operator*</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *(<span class="keyword">const</span> <a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *)<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a>; }
<a name="l00169"></a><a class="code" href="classNet_1_1EthPtr.html#afad950f77e0684c02410878904f3c723">00169</a>     <a class="code" href="classNet_1_1EthPtr.html#afad950f77e0684c02410878904f3c723">operator const EthHdr *</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keyword">const</span> <a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *)<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a>; }
<a name="l00170"></a>00170 
<a name="l00171"></a><a class="code" href="classNet_1_1EthPtr.html#a2dd4c8ad09a8ada02ddfd93b9d0ab4e4">00171</a>     <span class="keyword">const</span> <a class="code" href="classNet_1_1EthPtr.html">EthPtr</a> &amp;<a class="code" href="classNet_1_1EthPtr.html#a2dd4c8ad09a8ada02ddfd93b9d0ab4e4">operator=</a>(<span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> &amp;ptr) { <a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a> = ptr; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="classNet_1_1EthPtr.html#a13e32a6fa7b2f1b41d1d8dc32d8fda9e">00173</a>     <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1EthPtr.html#a13e32a6fa7b2f1b41d1d8dc32d8fda9e">packet</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00174"></a><a class="code" href="classNet_1_1EthPtr.html#a549ac5c293e8047f1be38ca356e160da">00174</a>     <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1EthPtr.html#a549ac5c293e8047f1be38ca356e160da">packet</a>() { <span class="keywordflow">return</span> <a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00175"></a><a class="code" href="classNet_1_1EthPtr.html#ac8b1d32dbd52d431450c70b151cfa205">00175</a>     <span class="keywordtype">bool</span> <a class="code" href="classNet_1_1EthPtr.html#ac8b1d32dbd52d431450c70b151cfa205">operator!</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00176"></a><a class="code" href="classNet_1_1EthPtr.html#aa385aa18f5e42db5a415c25a90f4193d">00176</a>     <a class="code" href="classNet_1_1EthPtr.html#aa385aa18f5e42db5a415c25a90f4193d">operator bool</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00177"></a><a class="code" href="classNet_1_1EthPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">00177</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1EthPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">off</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0; }
<a name="l00178"></a><a class="code" href="classNet_1_1EthPtr.html#ae6fc8073bc02ff3fd03030e0936d56eb">00178</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1EthPtr.html#ae6fc8073bc02ff3fd03030e0936d56eb">pstart</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1EthPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">off</a>() + ((<span class="keyword">const</span> <a class="code" href="structNet_1_1EthHdr.html">EthHdr</a>*)<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a>)-&gt;size(); }
<a name="l00179"></a>00179 };
<a name="l00180"></a>00180 
<a name="l00181"></a>00181 <span class="comment">/*</span>
<a name="l00182"></a>00182 <span class="comment"> * IP Stuff</span>
<a name="l00183"></a>00183 <span class="comment"> */</span>
<a name="l00184"></a><a class="code" href="structNet_1_1IpAddress.html">00184</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1IpAddress.html">IpAddress</a>
<a name="l00185"></a>00185 {
<a name="l00186"></a>00186   <span class="keyword">protected</span>:
<a name="l00187"></a><a class="code" href="structNet_1_1IpAddress.html#a87153b713af02b56e608fc9b7257f681">00187</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1IpAddress.html#a87153b713af02b56e608fc9b7257f681">_ip</a>;
<a name="l00188"></a>00188 
<a name="l00189"></a>00189   <span class="keyword">public</span>:
<a name="l00190"></a><a class="code" href="structNet_1_1IpAddress.html#a48835bc26cbd293cbae0e69671e5b5c2">00190</a>     <a class="code" href="structNet_1_1IpAddress.html#a48835bc26cbd293cbae0e69671e5b5c2">IpAddress</a>() : <a class="code" href="structNet_1_1IpAddress.html#a87153b713af02b56e608fc9b7257f681">_ip</a>(0)
<a name="l00191"></a>00191     {}
<a name="l00192"></a><a class="code" href="structNet_1_1IpAddress.html#ac64c29f95fc85f030281b767a3ba1815">00192</a>     <a class="code" href="structNet_1_1IpAddress.html#a48835bc26cbd293cbae0e69671e5b5c2">IpAddress</a>(<span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> __ip) : <a class="code" href="structNet_1_1IpAddress.html#a87153b713af02b56e608fc9b7257f681">_ip</a>(__ip)
<a name="l00193"></a>00193     {}
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="structNet_1_1IpAddress.html#aa1d8477a72711a88f69e5fbac840c143">00195</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1IpAddress.html#aa1d8477a72711a88f69e5fbac840c143">ip</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1IpAddress.html#a87153b713af02b56e608fc9b7257f681">_ip</a>; }
<a name="l00196"></a>00196 
<a name="l00197"></a>00197     std::string <a class="code" href="structNet_1_1IpAddress.html#a14a0e4fdb44bd7be64a3c6e5d94f8f0e">string</a>() <span class="keyword">const</span>;
<a name="l00198"></a>00198 };
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 std::ostream &amp;<a class="code" href="namespaceNet.html#a6ee6ae0fe485e2f01a9b42ab77329d7d">operator&lt;&lt;</a>(std::ostream &amp;stream, <span class="keyword">const</span> IpAddress &amp;<a class="code" href="namespaceMipsISA.html#a552537e69fb6790dc747d253dcc24884">ia</a>);
<a name="l00201"></a>00201 <span class="keywordtype">bool</span> <a class="code" href="namespaceNet.html#a1f08134ae5bedef31ccc578238491634">operator==</a>(<span class="keyword">const</span> IpAddress &amp;left, <span class="keyword">const</span> IpAddress &amp;right);
<a name="l00202"></a>00202 
<a name="l00203"></a><a class="code" href="structNet_1_1IpNetmask.html">00203</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1IpNetmask.html">IpNetmask</a> : <span class="keyword">public</span> <a class="code" href="structNet_1_1IpAddress.html">IpAddress</a>
<a name="l00204"></a>00204 {
<a name="l00205"></a>00205   <span class="keyword">protected</span>:
<a name="l00206"></a><a class="code" href="structNet_1_1IpNetmask.html#ae0f53299fbdcc8b2714448516f52b618">00206</a>     uint8_t <a class="code" href="structNet_1_1IpNetmask.html#ae0f53299fbdcc8b2714448516f52b618">_netmask</a>;
<a name="l00207"></a>00207 
<a name="l00208"></a>00208   <span class="keyword">public</span>:
<a name="l00209"></a><a class="code" href="structNet_1_1IpNetmask.html#a22d90b95dda2de18df28ed4239cc328f">00209</a>     <a class="code" href="structNet_1_1IpNetmask.html#a22d90b95dda2de18df28ed4239cc328f">IpNetmask</a>() : <a class="code" href="structNet_1_1IpAddress.html">IpAddress</a>(), <a class="code" href="structNet_1_1IpNetmask.html#ae0f53299fbdcc8b2714448516f52b618">_netmask</a>(0)
<a name="l00210"></a>00210     {}
<a name="l00211"></a><a class="code" href="structNet_1_1IpNetmask.html#ac2e215919611af0cd36f6d54848c00b7">00211</a>     <a class="code" href="structNet_1_1IpNetmask.html#a22d90b95dda2de18df28ed4239cc328f">IpNetmask</a>(<span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> __ip, <span class="keyword">const</span> uint8_t __netmask) :
<a name="l00212"></a>00212         <a class="code" href="structNet_1_1IpAddress.html">IpAddress</a>(__ip), <a class="code" href="structNet_1_1IpNetmask.html#ae0f53299fbdcc8b2714448516f52b618">_netmask</a>(__netmask)
<a name="l00213"></a>00213     {}
<a name="l00214"></a>00214 
<a name="l00215"></a><a class="code" href="structNet_1_1IpNetmask.html#ab76fb02ae3d0c5d13e8b01f95df60a7f">00215</a>     uint8_t <a class="code" href="structNet_1_1IpNetmask.html#ab76fb02ae3d0c5d13e8b01f95df60a7f">netmask</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1IpNetmask.html#ae0f53299fbdcc8b2714448516f52b618">_netmask</a>; }
<a name="l00216"></a>00216 
<a name="l00217"></a>00217     std::string <a class="code" href="structNet_1_1IpNetmask.html#a14a0e4fdb44bd7be64a3c6e5d94f8f0e">string</a>() <span class="keyword">const</span>;
<a name="l00218"></a>00218 };
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 std::ostream &amp;<a class="code" href="namespaceNet.html#a6ee6ae0fe485e2f01a9b42ab77329d7d">operator&lt;&lt;</a>(std::ostream &amp;stream, <span class="keyword">const</span> IpNetmask &amp;in);
<a name="l00221"></a>00221 <span class="keywordtype">bool</span> <a class="code" href="namespaceNet.html#a1f08134ae5bedef31ccc578238491634">operator==</a>(<span class="keyword">const</span> IpNetmask &amp;left, <span class="keyword">const</span> IpNetmask &amp;right);
<a name="l00222"></a>00222 
<a name="l00223"></a><a class="code" href="structNet_1_1IpWithPort.html">00223</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1IpWithPort.html">IpWithPort</a> : <span class="keyword">public</span> <a class="code" href="structNet_1_1IpAddress.html">IpAddress</a>
<a name="l00224"></a>00224 {
<a name="l00225"></a>00225   <span class="keyword">protected</span>:
<a name="l00226"></a><a class="code" href="structNet_1_1IpWithPort.html#a88bd61cbe4cfff3dd0b207683764b309">00226</a>     uint16_t <a class="code" href="structNet_1_1IpWithPort.html#a88bd61cbe4cfff3dd0b207683764b309">_port</a>;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228   <span class="keyword">public</span>:
<a name="l00229"></a><a class="code" href="structNet_1_1IpWithPort.html#a1771a6da4d74457f6e966b0d72d4145b">00229</a>     <a class="code" href="structNet_1_1IpWithPort.html#a1771a6da4d74457f6e966b0d72d4145b">IpWithPort</a>() : <a class="code" href="structNet_1_1IpAddress.html">IpAddress</a>(), <a class="code" href="structNet_1_1IpWithPort.html#a88bd61cbe4cfff3dd0b207683764b309">_port</a>(0)
<a name="l00230"></a>00230     {}
<a name="l00231"></a><a class="code" href="structNet_1_1IpWithPort.html#a746247c56e595fc6f43a1e0795141dc8">00231</a>     <a class="code" href="structNet_1_1IpWithPort.html#a1771a6da4d74457f6e966b0d72d4145b">IpWithPort</a>(<span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> __ip, <span class="keyword">const</span> uint16_t __port) :
<a name="l00232"></a>00232         <a class="code" href="structNet_1_1IpAddress.html">IpAddress</a>(__ip), <a class="code" href="structNet_1_1IpWithPort.html#a88bd61cbe4cfff3dd0b207683764b309">_port</a>(__port)
<a name="l00233"></a>00233     {}
<a name="l00234"></a>00234 
<a name="l00235"></a><a class="code" href="structNet_1_1IpWithPort.html#a6eef45013e8da0731ab2f08b19bac9fd">00235</a>     uint8_t <a class="code" href="structNet_1_1IpWithPort.html#a6eef45013e8da0731ab2f08b19bac9fd">port</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1IpWithPort.html#a88bd61cbe4cfff3dd0b207683764b309">_port</a>; }
<a name="l00236"></a>00236 
<a name="l00237"></a>00237     std::string <a class="code" href="structNet_1_1IpWithPort.html#a14a0e4fdb44bd7be64a3c6e5d94f8f0e">string</a>() <span class="keyword">const</span>;
<a name="l00238"></a>00238 };
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 std::ostream &amp;<a class="code" href="namespaceNet.html#a6ee6ae0fe485e2f01a9b42ab77329d7d">operator&lt;&lt;</a>(std::ostream &amp;stream, <span class="keyword">const</span> IpWithPort &amp;iwp);
<a name="l00241"></a>00241 <span class="keywordtype">bool</span> <a class="code" href="namespaceNet.html#a1f08134ae5bedef31ccc578238491634">operator==</a>(<span class="keyword">const</span> IpWithPort &amp;left, <span class="keyword">const</span> IpWithPort &amp;right);
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 <span class="keyword">struct </span>IpOpt;
<a name="l00244"></a><a class="code" href="structNet_1_1IpHdr.html">00244</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1IpHdr.html">IpHdr</a> : <span class="keyword">public</span> ip_hdr
<a name="l00245"></a>00245 {
<a name="l00246"></a><a class="code" href="structNet_1_1IpHdr.html#aa3599d88ee3f2dd92bec653b3a607b6b">00246</a>     uint8_t  <a class="code" href="structNet_1_1IpHdr.html#aa3599d88ee3f2dd92bec653b3a607b6b">version</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ip_v; }
<a name="l00247"></a><a class="code" href="structNet_1_1IpHdr.html#af9fa03e0db57f22a41099243b33a6825">00247</a>     uint8_t  <a class="code" href="structNet_1_1IpHdr.html#af9fa03e0db57f22a41099243b33a6825">hlen</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ip_hl * 4; }
<a name="l00248"></a><a class="code" href="structNet_1_1IpHdr.html#a3e6d0a8eff33e0b923222365fbeff0ef">00248</a>     uint8_t  <a class="code" href="structNet_1_1IpHdr.html#a3e6d0a8eff33e0b923222365fbeff0ef">tos</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ip_tos; }
<a name="l00249"></a><a class="code" href="structNet_1_1IpHdr.html#aca537e1680645b058d622981e2fb1c13">00249</a>     uint16_t <a class="code" href="structNet_1_1IpHdr.html#aca537e1680645b058d622981e2fb1c13">len</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(ip_len); }
<a name="l00250"></a><a class="code" href="structNet_1_1IpHdr.html#ad7a497f547f07fe4ac682194ed947640">00250</a>     uint16_t <a class="code" href="structNet_1_1IpHdr.html#ad7a497f547f07fe4ac682194ed947640">id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(ip_id); }
<a name="l00251"></a><a class="code" href="structNet_1_1IpHdr.html#a9560560c1794340e38ce0c57de395e26">00251</a>     uint16_t <a class="code" href="structNet_1_1IpHdr.html#a9560560c1794340e38ce0c57de395e26">frag_flags</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(ip_off) &gt;&gt; 13; }
<a name="l00252"></a><a class="code" href="structNet_1_1IpHdr.html#a0a3a20b42e18de08418ef99471e7e006">00252</a>     uint16_t <a class="code" href="structNet_1_1IpHdr.html#a0a3a20b42e18de08418ef99471e7e006">frag_off</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(ip_off) &amp; 0x1fff; }
<a name="l00253"></a><a class="code" href="structNet_1_1IpHdr.html#a9618cc77ddbbbdcbeb181b51cb1c3fc5">00253</a>     uint8_t  <a class="code" href="structNet_1_1IpHdr.html#a9618cc77ddbbbdcbeb181b51cb1c3fc5">ttl</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ip_ttl; }
<a name="l00254"></a><a class="code" href="structNet_1_1IpHdr.html#abb57dba0db48d3e9fea9d5aedf436c3e">00254</a>     uint8_t  <a class="code" href="structNet_1_1IpHdr.html#abb57dba0db48d3e9fea9d5aedf436c3e">proto</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ip_p; }
<a name="l00255"></a><a class="code" href="structNet_1_1IpHdr.html#acbf3c502c7393ef0178454b237b2562f">00255</a>     uint16_t <a class="code" href="structNet_1_1IpHdr.html#acbf3c502c7393ef0178454b237b2562f">sum</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ip_sum; }
<a name="l00256"></a><a class="code" href="structNet_1_1IpHdr.html#aefa78f6739e5a282710f048091182465">00256</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1IpHdr.html#aefa78f6739e5a282710f048091182465">src</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohl(ip_src); }
<a name="l00257"></a><a class="code" href="structNet_1_1IpHdr.html#abaa51876b847ffb08a197c2629fd726f">00257</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1IpHdr.html#abaa51876b847ffb08a197c2629fd726f">dst</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohl(ip_dst); }
<a name="l00258"></a>00258 
<a name="l00259"></a><a class="code" href="structNet_1_1IpHdr.html#ae0171ec0578adacce8cceb6a804f97f1">00259</a>     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1IpHdr.html#ae0171ec0578adacce8cceb6a804f97f1">sum</a>(uint16_t <a class="code" href="structNet_1_1IpHdr.html#acbf3c502c7393ef0178454b237b2562f">sum</a>) { ip_sum = sum; }
<a name="l00260"></a><a class="code" href="structNet_1_1IpHdr.html#a9db8dfe86557c01909531924c64daddb">00260</a>     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1IpHdr.html#a9db8dfe86557c01909531924c64daddb">id</a>(uint16_t _id) { ip_id = htons(_id); }
<a name="l00261"></a><a class="code" href="structNet_1_1IpHdr.html#a6d227a891dced5a88df38f29d545e8aa">00261</a>     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1IpHdr.html#a6d227a891dced5a88df38f29d545e8aa">len</a>(uint16_t _len) { ip_len = htons(_len); }
<a name="l00262"></a>00262 
<a name="l00263"></a>00263     <span class="keywordtype">bool</span> <a class="code" href="structNet_1_1IpHdr.html#a0a9696ccdde553123aa20c1e2c63ccee">options</a>(<a class="code" href="classstd_1_1vector.html">std::vector&lt;const IpOpt *&gt;</a> &amp;vec) <span class="keyword">const</span>;
<a name="l00264"></a>00264 
<a name="l00265"></a><a class="code" href="structNet_1_1IpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">00265</a>     <span class="keywordtype">int</span> <a class="code" href="structNet_1_1IpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1IpHdr.html#af9fa03e0db57f22a41099243b33a6825">hlen</a>(); }
<a name="l00266"></a><a class="code" href="structNet_1_1IpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">00266</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1IpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keyword">const</span> uint8_t *)<span class="keyword">this</span>; }
<a name="l00267"></a><a class="code" href="structNet_1_1IpHdr.html#a5f0d069ddb9d067af9e94963bd1fc7a2">00267</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1IpHdr.html#a5f0d069ddb9d067af9e94963bd1fc7a2">payload</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1IpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + <a class="code" href="structNet_1_1IpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>(); }
<a name="l00268"></a><a class="code" href="structNet_1_1IpHdr.html#add4fb6fe45a091194dc9eac521194698">00268</a>     uint8_t *<a class="code" href="structNet_1_1IpHdr.html#add4fb6fe45a091194dc9eac521194698">bytes</a>() { <span class="keywordflow">return</span> (uint8_t *)<span class="keyword">this</span>; }
<a name="l00269"></a><a class="code" href="structNet_1_1IpHdr.html#a79ce21e3572e587b71de7af1ac640b6f">00269</a>     uint8_t *<a class="code" href="structNet_1_1IpHdr.html#a79ce21e3572e587b71de7af1ac640b6f">payload</a>() { <span class="keywordflow">return</span> <a class="code" href="structNet_1_1IpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + <a class="code" href="structNet_1_1IpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>(); }
<a name="l00270"></a>00270 };
<a name="l00271"></a>00271 
<a name="l00272"></a><a class="code" href="classNet_1_1IpPtr.html">00272</a> <span class="keyword">class </span><a class="code" href="classNet_1_1IpPtr.html">IpPtr</a>
<a name="l00273"></a>00273 {
<a name="l00274"></a>00274   <span class="keyword">protected</span>:
<a name="l00275"></a><a class="code" href="classNet_1_1IpPtr.html#aaa26166329482f65ba88b88bb72b04ed">00275</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classNet_1_1TcpPtr.html">TcpPtr</a>;
<a name="l00276"></a><a class="code" href="classNet_1_1IpPtr.html#ae00019f223a3b97d7f64791d15e438e5">00276</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classNet_1_1UdpPtr.html">UdpPtr</a>;
<a name="l00277"></a><a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">00277</a>     <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>;
<a name="l00278"></a><a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">00278</a>     <span class="keywordtype">bool</span> <a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>;
<a name="l00279"></a>00279 
<a name="l00280"></a><a class="code" href="classNet_1_1IpPtr.html#af1faec8f5ac9a74b80fa6ce84b17a7c6">00280</a>     <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> &amp;ptr)
<a name="l00281"></a>00281     {
<a name="l00282"></a>00282         <a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a> = 0;
<a name="l00283"></a>00283         <a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a> = <span class="keyword">false</span>;
<a name="l00284"></a>00284 
<a name="l00285"></a>00285         <span class="keywordflow">if</span> (ptr) {
<a name="l00286"></a>00286             <a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *eth = (<a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *)ptr-&gt;data;
<a name="l00287"></a>00287             if (eth-&gt;<a class="code" href="structNet_1_1EthHdr.html#a236542f3042d3c2ac7d98d1a7ad75269">type</a>() == ETH_TYPE_IP)
<a name="l00288"></a>00288                 <a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a> = ptr;
<a name="l00289"></a>00289             <span class="keywordflow">if</span> (eth-&gt;<a class="code" href="structNet_1_1EthHdr.html#ab77c052e3da73dead20179a30fe14546">isVlan</a>())
<a name="l00290"></a>00290                 <a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a> = <span class="keyword">true</span>;
<a name="l00291"></a>00291         }
<a name="l00292"></a>00292     }
<a name="l00293"></a>00293 
<a name="l00294"></a>00294   <span class="keyword">public</span>:
<a name="l00295"></a><a class="code" href="classNet_1_1IpPtr.html#a31b5c090bf379e291000879aa49a8af6">00295</a>     <a class="code" href="classNet_1_1IpPtr.html#a31b5c090bf379e291000879aa49a8af6">IpPtr</a>() : <a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>(false) {}
<a name="l00296"></a><a class="code" href="classNet_1_1IpPtr.html#ae8184005d4874fca0a6abb2b940e9649">00296</a>     <a class="code" href="classNet_1_1IpPtr.html#ae8184005d4874fca0a6abb2b940e9649">IpPtr</a>(<span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> &amp;ptr) : <a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>(false) { <span class="keyword">set</span>(ptr); }
<a name="l00297"></a><a class="code" href="classNet_1_1IpPtr.html#adc162de1f572a7cadab4cc93b61cf2c4">00297</a>     <a class="code" href="classNet_1_1IpPtr.html#adc162de1f572a7cadab4cc93b61cf2c4">IpPtr</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1EthPtr.html">EthPtr</a> &amp;ptr) : <a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>(false) { <span class="keyword">set</span>(ptr.<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>); }
<a name="l00298"></a><a class="code" href="classNet_1_1IpPtr.html#a9eb7bc9c16efeb9f19f09a3e4ff89dcc">00298</a>     <a class="code" href="classNet_1_1IpPtr.html#a9eb7bc9c16efeb9f19f09a3e4ff89dcc">IpPtr</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1IpPtr.html">IpPtr</a> &amp;ptr) : <a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(ptr.<a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>), <a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>(ptr.<a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>) { }
<a name="l00299"></a>00299 
<a name="l00300"></a><a class="code" href="classNet_1_1IpPtr.html#ad540e4acc1acafd79e71d9680bdc66f9">00300</a>     <a class="code" href="structNet_1_1IpHdr.html">IpHdr</a> *<span class="keyword">get</span>() { <span class="keywordflow">return</span> (<a class="code" href="structNet_1_1IpHdr.html">IpHdr</a> *)(<a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a> + <span class="keyword">sizeof</span>(eth_hdr) +
<a name="l00301"></a>00301                                    ((<a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>) ? 4 : 0)); }
<a name="l00302"></a><a class="code" href="classNet_1_1IpPtr.html#a7091b007cde47df0c303a0c1dd10fa01">00302</a>     <a class="code" href="structNet_1_1IpHdr.html">IpHdr</a> *<a class="code" href="classNet_1_1IpPtr.html#a7091b007cde47df0c303a0c1dd10fa01">operator-&gt;</a>() { <span class="keywordflow">return</span> <span class="keyword">get</span>(); }
<a name="l00303"></a><a class="code" href="classNet_1_1IpPtr.html#af7ec99d1e439b4734cca731edef84bdc">00303</a>     <a class="code" href="structNet_1_1IpHdr.html">IpHdr</a> &amp;<a class="code" href="classNet_1_1IpPtr.html#af7ec99d1e439b4734cca731edef84bdc">operator*</a>() { <span class="keywordflow">return</span> *<span class="keyword">get</span>(); }
<a name="l00304"></a>00304 
<a name="l00305"></a><a class="code" href="classNet_1_1IpPtr.html#a3558d2be06e557d21b960c7cacb91b76">00305</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1IpHdr.html">IpHdr</a> *<span class="keyword">get</span>() <span class="keyword">const</span>
<a name="l00306"></a>00306     { <span class="keywordflow">return</span> (<span class="keyword">const</span> <a class="code" href="structNet_1_1IpHdr.html">IpHdr</a> *)(<a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a> + <span class="keyword">sizeof</span>(eth_hdr) +
<a name="l00307"></a>00307                             ((<a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>) ? 4 : 0)); }
<a name="l00308"></a><a class="code" href="classNet_1_1IpPtr.html#a900bb7613ccda315763fa19c10202f94">00308</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1IpHdr.html">IpHdr</a> *<a class="code" href="classNet_1_1IpPtr.html#a900bb7613ccda315763fa19c10202f94">operator-&gt;</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">get</span>(); }
<a name="l00309"></a><a class="code" href="classNet_1_1IpPtr.html#a304f52e91f52d5f6971631f4a7dda56c">00309</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1IpHdr.html">IpHdr</a> &amp;<a class="code" href="classNet_1_1IpPtr.html#a304f52e91f52d5f6971631f4a7dda56c">operator*</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *<span class="keyword">get</span>(); }
<a name="l00310"></a>00310 
<a name="l00311"></a><a class="code" href="classNet_1_1IpPtr.html#a373856ac40644c22335b0b137e2a9bb4">00311</a>     <span class="keyword">const</span> <a class="code" href="classNet_1_1IpPtr.html">IpPtr</a> &amp;<a class="code" href="classNet_1_1IpPtr.html#a373856ac40644c22335b0b137e2a9bb4">operator=</a>(<span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> &amp;ptr) { <span class="keyword">set</span>(ptr); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00312"></a><a class="code" href="classNet_1_1IpPtr.html#ac147460b6f6c5c20d843d221874da926">00312</a>     <span class="keyword">const</span> <a class="code" href="classNet_1_1IpPtr.html">IpPtr</a> &amp;<a class="code" href="classNet_1_1IpPtr.html#ac147460b6f6c5c20d843d221874da926">operator=</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1EthPtr.html">EthPtr</a> &amp;ptr) { <span class="keyword">set</span>(ptr.<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00313"></a><a class="code" href="classNet_1_1IpPtr.html#a292e63bcdaae09f0b23fc198ca8fcac1">00313</a>     <span class="keyword">const</span> <a class="code" href="classNet_1_1IpPtr.html">IpPtr</a> &amp;<a class="code" href="classNet_1_1IpPtr.html#a292e63bcdaae09f0b23fc198ca8fcac1">operator=</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1IpPtr.html">IpPtr</a> &amp;ptr) { <a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a> = ptr.<a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00314"></a>00314 
<a name="l00315"></a><a class="code" href="classNet_1_1IpPtr.html#a13e32a6fa7b2f1b41d1d8dc32d8fda9e">00315</a>     <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1IpPtr.html#a13e32a6fa7b2f1b41d1d8dc32d8fda9e">packet</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00316"></a><a class="code" href="classNet_1_1IpPtr.html#a549ac5c293e8047f1be38ca356e160da">00316</a>     <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1IpPtr.html#a549ac5c293e8047f1be38ca356e160da">packet</a>() { <span class="keywordflow">return</span> <a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00317"></a><a class="code" href="classNet_1_1IpPtr.html#ac8b1d32dbd52d431450c70b151cfa205">00317</a>     <span class="keywordtype">bool</span> <a class="code" href="classNet_1_1IpPtr.html#ac8b1d32dbd52d431450c70b151cfa205">operator!</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00318"></a><a class="code" href="classNet_1_1IpPtr.html#aa385aa18f5e42db5a415c25a90f4193d">00318</a>     <a class="code" href="classNet_1_1IpPtr.html#aa385aa18f5e42db5a415c25a90f4193d">operator bool</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1IpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00319"></a><a class="code" href="classNet_1_1IpPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">00319</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1IpPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">off</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keyword">sizeof</span>(eth_hdr) + ((<a class="code" href="classNet_1_1IpPtr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>) ? 4 : 0)); }
<a name="l00320"></a><a class="code" href="classNet_1_1IpPtr.html#ae6fc8073bc02ff3fd03030e0936d56eb">00320</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1IpPtr.html#ae6fc8073bc02ff3fd03030e0936d56eb">pstart</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classNet_1_1IpPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">off</a>() + <span class="keyword">get</span>()-&gt;size()); }
<a name="l00321"></a>00321 };
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 uint16_t <a class="code" href="namespaceNet.html#a7c7758a7af16c9b808dcb8ddf7aa1a34">cksum</a>(<span class="keyword">const</span> IpPtr &amp;ptr);
<a name="l00324"></a>00324 
<a name="l00325"></a><a class="code" href="structNet_1_1IpOpt.html">00325</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1IpOpt.html">IpOpt</a> : <span class="keyword">public</span> ip_opt
<a name="l00326"></a>00326 {
<a name="l00327"></a><a class="code" href="structNet_1_1IpOpt.html#a7c3e8c8aa22970484617493a084000b9">00327</a>     uint8_t <a class="code" href="structNet_1_1IpOpt.html#a7c3e8c8aa22970484617493a084000b9">type</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> opt_type; }
<a name="l00328"></a><a class="code" href="structNet_1_1IpOpt.html#ab6dfc174bfa7c03b65bb47a5a95635fc">00328</a>     uint8_t <a class="code" href="structNet_1_1IpOpt.html#ab6dfc174bfa7c03b65bb47a5a95635fc">typeNumber</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> IP_OPT_NUMBER(opt_type); }
<a name="l00329"></a><a class="code" href="structNet_1_1IpOpt.html#af0f70ac78a76faa3fe76ccd7bf90acf5">00329</a>     uint8_t <a class="code" href="structNet_1_1IpOpt.html#af0f70ac78a76faa3fe76ccd7bf90acf5">typeClass</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> IP_OPT_CLASS(opt_type); }
<a name="l00330"></a><a class="code" href="structNet_1_1IpOpt.html#a582d9edfaa08e08e2c34dc79575c42bb">00330</a>     uint8_t <a class="code" href="structNet_1_1IpOpt.html#a582d9edfaa08e08e2c34dc79575c42bb">typeCopied</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> IP_OPT_COPIED(opt_type); }
<a name="l00331"></a><a class="code" href="structNet_1_1IpOpt.html#a157a538f6c0e591c974744259b42d8f3">00331</a>     uint8_t <a class="code" href="structNet_1_1IpOpt.html#a157a538f6c0e591c974744259b42d8f3">len</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> IP_OPT_TYPEONLY(<a class="code" href="structNet_1_1IpOpt.html#a7c3e8c8aa22970484617493a084000b9">type</a>()) ? 1 : opt_len; }
<a name="l00332"></a>00332 
<a name="l00333"></a><a class="code" href="structNet_1_1IpOpt.html#a91618c1cf25e9f87b1603e51b2a89607">00333</a>     <span class="keywordtype">bool</span> <a class="code" href="structNet_1_1IpOpt.html#a91618c1cf25e9f87b1603e51b2a89607">isNumber</a>(<span class="keywordtype">int</span> num)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1IpOpt.html#ab6dfc174bfa7c03b65bb47a5a95635fc">typeNumber</a>() == IP_OPT_NUMBER(num); }
<a name="l00334"></a><a class="code" href="structNet_1_1IpOpt.html#af8db3392ce09aa2444a45b96329091b3">00334</a>     <span class="keywordtype">bool</span> <a class="code" href="structNet_1_1IpOpt.html#af8db3392ce09aa2444a45b96329091b3">isClass</a>(<span class="keywordtype">int</span> cls)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1IpOpt.html#af0f70ac78a76faa3fe76ccd7bf90acf5">typeClass</a>() == IP_OPT_CLASS(cls); }
<a name="l00335"></a><a class="code" href="structNet_1_1IpOpt.html#ae46fa46d3ed974922da4d9114fa327cc">00335</a>     <span class="keywordtype">bool</span> <a class="code" href="structNet_1_1IpOpt.html#ae46fa46d3ed974922da4d9114fa327cc">isCopied</a>(<span class="keywordtype">int</span> cpy)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1IpOpt.html#a582d9edfaa08e08e2c34dc79575c42bb">typeCopied</a>() == IP_OPT_COPIED(cpy); }
<a name="l00336"></a>00336 
<a name="l00337"></a><a class="code" href="structNet_1_1IpOpt.html#a40fe50b14bf164129156972247acb8e4">00337</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1IpOpt.html#a40fe50b14bf164129156972247acb8e4">data</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> opt_data.data8; }
<a name="l00338"></a>00338     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1IpOpt.html#afe3a37791e9a20e6780aa9a1aec92a2c">sec</a>(ip_opt_data_sec &amp;<a class="code" href="structNet_1_1IpOpt.html#afe3a37791e9a20e6780aa9a1aec92a2c">sec</a>) <span class="keyword">const</span>;
<a name="l00339"></a>00339     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1IpOpt.html#a61ee22a35991ca04735272c593016b09">lsrr</a>(ip_opt_data_rr &amp;<a class="code" href="namespaceArmISA.html#ac64b6be5ecc081277063e5b98851c0cb">rr</a>) <span class="keyword">const</span>;
<a name="l00340"></a>00340     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1IpOpt.html#a97784b42fb7ffd38b1bd1ffe8b222002">ssrr</a>(ip_opt_data_rr &amp;<a class="code" href="namespaceArmISA.html#ac64b6be5ecc081277063e5b98851c0cb">rr</a>) <span class="keyword">const</span>;
<a name="l00341"></a>00341     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1IpOpt.html#ac94e6af869d0dc5da39d06906a4951ae">ts</a>(ip_opt_data_ts &amp;<a class="code" href="structNet_1_1IpOpt.html#ac94e6af869d0dc5da39d06906a4951ae">ts</a>) <span class="keyword">const</span>;
<a name="l00342"></a><a class="code" href="structNet_1_1IpOpt.html#ae28ba2d1127ea1914b0e5f42376b47e1">00342</a>     uint16_t <a class="code" href="structNet_1_1IpOpt.html#ae28ba2d1127ea1914b0e5f42376b47e1">satid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(opt_data.satid); }
<a name="l00343"></a><a class="code" href="structNet_1_1IpOpt.html#a8575b82df43e40c41d2dc3e23563924a">00343</a>     uint16_t <a class="code" href="structNet_1_1IpOpt.html#a8575b82df43e40c41d2dc3e23563924a">mtup</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(opt_data.mtu); }
<a name="l00344"></a><a class="code" href="structNet_1_1IpOpt.html#afd89c74369442ef3d38570103bafb2b9">00344</a>     uint16_t <a class="code" href="structNet_1_1IpOpt.html#afd89c74369442ef3d38570103bafb2b9">mtur</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(opt_data.mtu); }
<a name="l00345"></a>00345     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1IpOpt.html#ace178303b38d98788c16c141f3b55971">tr</a>(ip_opt_data_tr &amp;<a class="code" href="structNet_1_1IpOpt.html#ace178303b38d98788c16c141f3b55971">tr</a>) <span class="keyword">const</span>;
<a name="l00346"></a><a class="code" href="structNet_1_1IpOpt.html#a1ba4b27f70795a232d47b7de4bec0a63">00346</a>     <span class="keyword">const</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *<a class="code" href="structNet_1_1IpOpt.html#a1ba4b27f70795a232d47b7de4bec0a63">addext</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;opt_data.addext[0]; }
<a name="l00347"></a><a class="code" href="structNet_1_1IpOpt.html#a00f74d6764a9468eb1192d5434140717">00347</a>     uint16_t <a class="code" href="structNet_1_1IpOpt.html#a00f74d6764a9468eb1192d5434140717">rtralt</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(opt_data.rtralt); }
<a name="l00348"></a>00348     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1IpOpt.html#acb263b631e7b25b777b2300a459dde33">sdb</a>(<a class="code" href="classstd_1_1vector.html">std::vector&lt;uint32_t&gt;</a> &amp;vec) <span class="keyword">const</span>;
<a name="l00349"></a>00349 };
<a name="l00350"></a>00350 
<a name="l00351"></a>00351 <span class="comment">/*</span>
<a name="l00352"></a>00352 <span class="comment"> * Ip6 Classes</span>
<a name="l00353"></a>00353 <span class="comment"> */</span>
<a name="l00354"></a>00354 <span class="keyword">struct </span>Ip6Opt;
<a name="l00355"></a><a class="code" href="structNet_1_1Ip6Hdr.html">00355</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1Ip6Hdr.html">Ip6Hdr</a> : <span class="keyword">public</span> ip6_hdr
<a name="l00356"></a>00356 {
<a name="l00357"></a><a class="code" href="structNet_1_1Ip6Hdr.html#aa3599d88ee3f2dd92bec653b3a607b6b">00357</a>     uint8_t <a class="code" href="structNet_1_1Ip6Hdr.html#aa3599d88ee3f2dd92bec653b3a607b6b">version</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ip6_vfc; }
<a name="l00358"></a><a class="code" href="structNet_1_1Ip6Hdr.html#abd45f80ddf5023fd59eeb0812111da65">00358</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1Ip6Hdr.html#abd45f80ddf5023fd59eeb0812111da65">flow</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohl(ip6_flow); }
<a name="l00359"></a><a class="code" href="structNet_1_1Ip6Hdr.html#a86c05206b7d72010f7438756e85fb9ec">00359</a>     uint16_t <a class="code" href="structNet_1_1Ip6Hdr.html#a86c05206b7d72010f7438756e85fb9ec">plen</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(ip6_plen); }
<a name="l00360"></a><a class="code" href="structNet_1_1Ip6Hdr.html#a99ca1c2b90035435849dd875b138bdad">00360</a>     uint16_t <a class="code" href="structNet_1_1Ip6Hdr.html#a99ca1c2b90035435849dd875b138bdad">hlen</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> IP6_HDR_LEN; }
<a name="l00361"></a><a class="code" href="structNet_1_1Ip6Hdr.html#aa9a773e8c63669710e2900218d27c6ef">00361</a>     uint8_t <a class="code" href="structNet_1_1Ip6Hdr.html#aa9a773e8c63669710e2900218d27c6ef">nxt</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ip6_nxt; }
<a name="l00362"></a><a class="code" href="structNet_1_1Ip6Hdr.html#a12dbfe3b5265507c192dfb7654aed123">00362</a>     uint8_t <a class="code" href="structNet_1_1Ip6Hdr.html#a12dbfe3b5265507c192dfb7654aed123">hlim</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ip6_hlim; }
<a name="l00363"></a>00363 
<a name="l00364"></a><a class="code" href="structNet_1_1Ip6Hdr.html#ac89e62d050ac7229700d8a59b0e2b29d">00364</a>     <span class="keyword">const</span> uint8_t* <a class="code" href="structNet_1_1Ip6Hdr.html#ac89e62d050ac7229700d8a59b0e2b29d">src</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ip6_src.data; }
<a name="l00365"></a><a class="code" href="structNet_1_1Ip6Hdr.html#afbd6887ef6e6210e797a3a2dbc71be8e">00365</a>     <span class="keyword">const</span> uint8_t* <a class="code" href="structNet_1_1Ip6Hdr.html#afbd6887ef6e6210e797a3a2dbc71be8e">dst</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ip6_dst.data; }
<a name="l00366"></a>00366 
<a name="l00367"></a>00367     <span class="keywordtype">int</span> <a class="code" href="structNet_1_1Ip6Hdr.html#a8d453fe4c2ad6428fd6c6ec4c3aa38e2">extensionLength</a>() <span class="keyword">const</span>;
<a name="l00368"></a>00368     <span class="keyword">const</span> <a class="code" href="structNet_1_1Ip6Opt.html">Ip6Opt</a>* <a class="code" href="structNet_1_1Ip6Hdr.html#a260c2330d0e33c41c2f44baf15f1badc">getExt</a>(uint8_t <a class="code" href="namespaceArmISA.html#a75c8faae0fc49ac3aec956c53d2ebf36">ext</a>) <span class="keyword">const</span>;
<a name="l00369"></a><a class="code" href="structNet_1_1Ip6Hdr.html#a8c75a1a568b300b2ba9952ccdc5bd66e">00369</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1Ip6Opt.html">Ip6Opt</a>* <a class="code" href="structNet_1_1Ip6Hdr.html#a8c75a1a568b300b2ba9952ccdc5bd66e">fragmentExt</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1Ip6Hdr.html#a260c2330d0e33c41c2f44baf15f1badc">getExt</a>(IP_PROTO_FRAGMENT); }
<a name="l00370"></a><a class="code" href="structNet_1_1Ip6Hdr.html#a3a8a479e7dbca9c422af60d927be851c">00370</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1Ip6Opt.html">Ip6Opt</a>* <a class="code" href="structNet_1_1Ip6Hdr.html#a3a8a479e7dbca9c422af60d927be851c">rtTypeExt</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1Ip6Hdr.html#a260c2330d0e33c41c2f44baf15f1badc">getExt</a>(IP_PROTO_ROUTING); }
<a name="l00371"></a><a class="code" href="structNet_1_1Ip6Hdr.html#a02acb1122703acb86b2730fce2642676">00371</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1Ip6Opt.html">Ip6Opt</a>* <a class="code" href="structNet_1_1Ip6Hdr.html#a02acb1122703acb86b2730fce2642676">dstOptExt</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1Ip6Hdr.html#a260c2330d0e33c41c2f44baf15f1badc">getExt</a>(IP_PROTO_DSTOPTS); }
<a name="l00372"></a>00372     uint8_t <a class="code" href="structNet_1_1Ip6Hdr.html#abb57dba0db48d3e9fea9d5aedf436c3e">proto</a>() <span class="keyword">const</span>;
<a name="l00373"></a>00373 
<a name="l00374"></a><a class="code" href="structNet_1_1Ip6Hdr.html#a081a2967518430d101328245d43d3be5">00374</a>     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1Ip6Hdr.html#a081a2967518430d101328245d43d3be5">plen</a>(uint16_t _plen) { ip6_plen = htons(_plen); }
<a name="l00375"></a>00375 
<a name="l00376"></a><a class="code" href="structNet_1_1Ip6Hdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">00376</a>     <span class="keywordtype">int</span> <a class="code" href="structNet_1_1Ip6Hdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> IP6_HDR_LEN + <a class="code" href="structNet_1_1Ip6Hdr.html#a8d453fe4c2ad6428fd6c6ec4c3aa38e2">extensionLength</a>(); }
<a name="l00377"></a><a class="code" href="structNet_1_1Ip6Hdr.html#aaa586eeaf354005403ca8e20f961b6c3">00377</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1Ip6Hdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keyword">const</span> uint8_t *)<span class="keyword">this</span>; }
<a name="l00378"></a><a class="code" href="structNet_1_1Ip6Hdr.html#a5f0d069ddb9d067af9e94963bd1fc7a2">00378</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1Ip6Hdr.html#a5f0d069ddb9d067af9e94963bd1fc7a2">payload</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1Ip6Hdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + IP6_HDR_LEN
<a name="l00379"></a>00379                                             + <a class="code" href="structNet_1_1Ip6Hdr.html#a8d453fe4c2ad6428fd6c6ec4c3aa38e2">extensionLength</a>(); }
<a name="l00380"></a><a class="code" href="structNet_1_1Ip6Hdr.html#add4fb6fe45a091194dc9eac521194698">00380</a>     uint8_t *<a class="code" href="structNet_1_1Ip6Hdr.html#add4fb6fe45a091194dc9eac521194698">bytes</a>() { <span class="keywordflow">return</span> (uint8_t *)<span class="keyword">this</span>; }
<a name="l00381"></a><a class="code" href="structNet_1_1Ip6Hdr.html#a79ce21e3572e587b71de7af1ac640b6f">00381</a>     uint8_t *<a class="code" href="structNet_1_1Ip6Hdr.html#a79ce21e3572e587b71de7af1ac640b6f">payload</a>() { <span class="keywordflow">return</span> <a class="code" href="structNet_1_1Ip6Hdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + IP6_HDR_LEN
<a name="l00382"></a>00382                                 + <a class="code" href="structNet_1_1Ip6Hdr.html#a8d453fe4c2ad6428fd6c6ec4c3aa38e2">extensionLength</a>(); }
<a name="l00383"></a>00383 };
<a name="l00384"></a>00384 
<a name="l00385"></a><a class="code" href="classNet_1_1Ip6Ptr.html">00385</a> <span class="keyword">class </span><a class="code" href="classNet_1_1Ip6Ptr.html">Ip6Ptr</a>
<a name="l00386"></a>00386 {
<a name="l00387"></a>00387   <span class="keyword">protected</span>:
<a name="l00388"></a><a class="code" href="classNet_1_1Ip6Ptr.html#aaa26166329482f65ba88b88bb72b04ed">00388</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classNet_1_1TcpPtr.html">TcpPtr</a>;
<a name="l00389"></a><a class="code" href="classNet_1_1Ip6Ptr.html#ae00019f223a3b97d7f64791d15e438e5">00389</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classNet_1_1UdpPtr.html">UdpPtr</a>;
<a name="l00390"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">00390</a>     <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>;
<a name="l00391"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">00391</a>     <span class="keywordtype">bool</span> <a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>;
<a name="l00392"></a>00392 
<a name="l00393"></a><a class="code" href="classNet_1_1Ip6Ptr.html#af1faec8f5ac9a74b80fa6ce84b17a7c6">00393</a>     <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> &amp;ptr)
<a name="l00394"></a>00394     {
<a name="l00395"></a>00395         <a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a> = 0;
<a name="l00396"></a>00396         <a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a> = <span class="keyword">false</span>;
<a name="l00397"></a>00397 
<a name="l00398"></a>00398         <span class="keywordflow">if</span> (ptr) {
<a name="l00399"></a>00399             <a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *eth = (<a class="code" href="structNet_1_1EthHdr.html">EthHdr</a> *)ptr-&gt;data;
<a name="l00400"></a>00400             if (eth-&gt;<a class="code" href="structNet_1_1EthHdr.html#a236542f3042d3c2ac7d98d1a7ad75269">type</a>() == ETH_TYPE_IPV6)
<a name="l00401"></a>00401                 <a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a> = ptr;
<a name="l00402"></a>00402             <span class="keywordflow">if</span> (eth-&gt;<a class="code" href="structNet_1_1EthHdr.html#ab77c052e3da73dead20179a30fe14546">isVlan</a>())
<a name="l00403"></a>00403                 <a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a> = <span class="keyword">true</span>;
<a name="l00404"></a>00404         }
<a name="l00405"></a>00405     }
<a name="l00406"></a>00406 
<a name="l00407"></a>00407   <span class="keyword">public</span>:
<a name="l00408"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a75d6a7523173f72c88514ee711268901">00408</a>     <a class="code" href="classNet_1_1Ip6Ptr.html#a75d6a7523173f72c88514ee711268901">Ip6Ptr</a>() : <a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>(false) {}
<a name="l00409"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a90edf6d8ac8b0716f364984dab646a17">00409</a>     <a class="code" href="classNet_1_1Ip6Ptr.html#a90edf6d8ac8b0716f364984dab646a17">Ip6Ptr</a>(<span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> &amp;ptr) : <a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>(false) { <span class="keyword">set</span>(ptr); }
<a name="l00410"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a03be662680a7d23572b2adc19a93632c">00410</a>     <a class="code" href="classNet_1_1Ip6Ptr.html#a03be662680a7d23572b2adc19a93632c">Ip6Ptr</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1EthPtr.html">EthPtr</a> &amp;ptr) : <a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>(false) { <span class="keyword">set</span>(ptr.<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>); }
<a name="l00411"></a><a class="code" href="classNet_1_1Ip6Ptr.html#af64998b77b2440221f41c0d58a9fd829">00411</a>     <a class="code" href="classNet_1_1Ip6Ptr.html#af64998b77b2440221f41c0d58a9fd829">Ip6Ptr</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1Ip6Ptr.html">Ip6Ptr</a> &amp;ptr) : <a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(ptr.<a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>), <a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>(ptr.<a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>) { }
<a name="l00412"></a>00412 
<a name="l00413"></a><a class="code" href="classNet_1_1Ip6Ptr.html#af8951ecff7acf8200ba3355263f4e10c">00413</a>     <a class="code" href="structNet_1_1Ip6Hdr.html">Ip6Hdr</a> *<span class="keyword">get</span>() { <span class="keywordflow">return</span> (<a class="code" href="structNet_1_1Ip6Hdr.html">Ip6Hdr</a> *)(<a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a> + <span class="keyword">sizeof</span>(eth_hdr)
<a name="l00414"></a>00414                                       + ((<a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>) ? 4 : 0)); }
<a name="l00415"></a><a class="code" href="classNet_1_1Ip6Ptr.html#afbc698b88972ac0ed87189431ed2405d">00415</a>     <a class="code" href="structNet_1_1Ip6Hdr.html">Ip6Hdr</a> *<a class="code" href="classNet_1_1Ip6Ptr.html#afbc698b88972ac0ed87189431ed2405d">operator-&gt;</a>() { <span class="keywordflow">return</span> <span class="keyword">get</span>(); }
<a name="l00416"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a4d4722dfa685e1f6908c1f12384973c4">00416</a>     <a class="code" href="structNet_1_1Ip6Hdr.html">Ip6Hdr</a> &amp;<a class="code" href="classNet_1_1Ip6Ptr.html#a4d4722dfa685e1f6908c1f12384973c4">operator*</a>() { <span class="keywordflow">return</span> *<span class="keyword">get</span>(); }
<a name="l00417"></a>00417 
<a name="l00418"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a5f0ef57d1f75ef52759d4affd8772cf7">00418</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1Ip6Hdr.html">Ip6Hdr</a> *<span class="keyword">get</span>() <span class="keyword">const</span>
<a name="l00419"></a>00419     { <span class="keywordflow">return</span> (<span class="keyword">const</span> <a class="code" href="structNet_1_1Ip6Hdr.html">Ip6Hdr</a> *)(<a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a> + <span class="keyword">sizeof</span>(eth_hdr)
<a name="l00420"></a>00420                               + ((<a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>) ? 4 : 0)); }
<a name="l00421"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a04bea2f4087ca47c04affe3e878001c6">00421</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1Ip6Hdr.html">Ip6Hdr</a> *<a class="code" href="classNet_1_1Ip6Ptr.html#a04bea2f4087ca47c04affe3e878001c6">operator-&gt;</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">get</span>(); }
<a name="l00422"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a4dae11dfdfaedfdd731ff7caa28e2cd2">00422</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1Ip6Hdr.html">Ip6Hdr</a> &amp;<a class="code" href="classNet_1_1Ip6Ptr.html#a4dae11dfdfaedfdd731ff7caa28e2cd2">operator*</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *<span class="keyword">get</span>(); }
<a name="l00423"></a>00423 
<a name="l00424"></a><a class="code" href="classNet_1_1Ip6Ptr.html#ac9f875b985f1f903a22efa555afe74e3">00424</a>     <span class="keyword">const</span> <a class="code" href="classNet_1_1Ip6Ptr.html">Ip6Ptr</a> &amp;<a class="code" href="classNet_1_1Ip6Ptr.html#ac9f875b985f1f903a22efa555afe74e3">operator=</a>(<span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> &amp;ptr)
<a name="l00425"></a>00425     { <span class="keyword">set</span>(ptr); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00426"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a3e72174b84b4802f753e4c42b0c207b5">00426</a>     <span class="keyword">const</span> <a class="code" href="classNet_1_1Ip6Ptr.html">Ip6Ptr</a> &amp;<a class="code" href="classNet_1_1Ip6Ptr.html#ac9f875b985f1f903a22efa555afe74e3">operator=</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1EthPtr.html">EthPtr</a> &amp;ptr)
<a name="l00427"></a>00427     { <span class="keyword">set</span>(ptr.<a class="code" href="classNet_1_1EthPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00428"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a4f80dfc3261fbb886b014d16e991360d">00428</a>     <span class="keyword">const</span> <a class="code" href="classNet_1_1Ip6Ptr.html">Ip6Ptr</a> &amp;<a class="code" href="classNet_1_1Ip6Ptr.html#ac9f875b985f1f903a22efa555afe74e3">operator=</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1Ip6Ptr.html">Ip6Ptr</a> &amp;ptr)
<a name="l00429"></a>00429     { <a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a> = ptr.<a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00430"></a>00430 
<a name="l00431"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a13e32a6fa7b2f1b41d1d8dc32d8fda9e">00431</a>     <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1Ip6Ptr.html#a13e32a6fa7b2f1b41d1d8dc32d8fda9e">packet</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00432"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a549ac5c293e8047f1be38ca356e160da">00432</a>     <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1Ip6Ptr.html#a549ac5c293e8047f1be38ca356e160da">packet</a>() { <span class="keywordflow">return</span> <a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00433"></a><a class="code" href="classNet_1_1Ip6Ptr.html#ac8b1d32dbd52d431450c70b151cfa205">00433</a>     <span class="keywordtype">bool</span> <a class="code" href="classNet_1_1Ip6Ptr.html#ac8b1d32dbd52d431450c70b151cfa205">operator!</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00434"></a><a class="code" href="classNet_1_1Ip6Ptr.html#aa385aa18f5e42db5a415c25a90f4193d">00434</a>     <a class="code" href="classNet_1_1Ip6Ptr.html#aa385aa18f5e42db5a415c25a90f4193d">operator bool</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1Ip6Ptr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00435"></a><a class="code" href="classNet_1_1Ip6Ptr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">00435</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1Ip6Ptr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">off</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(eth_hdr) + ((<a class="code" href="classNet_1_1Ip6Ptr.html#a0d4c03dd0e48319a9a4c5f4148c8a496">eth_hdr_vlan</a>) ? 4 : 0); }
<a name="l00436"></a><a class="code" href="classNet_1_1Ip6Ptr.html#ae6fc8073bc02ff3fd03030e0936d56eb">00436</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1Ip6Ptr.html#ae6fc8073bc02ff3fd03030e0936d56eb">pstart</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1Ip6Ptr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">off</a>() + <span class="keyword">get</span>()-&gt;size(); }
<a name="l00437"></a>00437 };
<a name="l00438"></a>00438 
<a name="l00439"></a>00439 <span class="comment">// Dnet supplied ipv6 opt header is incomplete and</span>
<a name="l00440"></a>00440 <span class="comment">// newer NIC card filters expect a more robust</span>
<a name="l00441"></a>00441 <span class="comment">// ipv6 header option declaration.</span>
<a name="l00442"></a><a class="code" href="structNet_1_1ip6__opt__fragment.html">00442</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1ip6__opt__fragment.html">ip6_opt_fragment</a> {
<a name="l00443"></a><a class="code" href="structNet_1_1ip6__opt__fragment.html#a7062f9d68a633bff5bf72880711ddfed">00443</a>     uint16_t <a class="code" href="structNet_1_1ip6__opt__fragment.html#a7062f9d68a633bff5bf72880711ddfed">offlg</a>;
<a name="l00444"></a><a class="code" href="structNet_1_1ip6__opt__fragment.html#ade289faa01a0cab7f7b9b2727cee6c34">00444</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1ip6__opt__fragment.html#ade289faa01a0cab7f7b9b2727cee6c34">ident</a>;
<a name="l00445"></a>00445 };
<a name="l00446"></a>00446 
<a name="l00447"></a><a class="code" href="structNet_1_1ip6__opt__routing__type2.html">00447</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1ip6__opt__routing__type2.html">ip6_opt_routing_type2</a> {
<a name="l00448"></a><a class="code" href="structNet_1_1ip6__opt__routing__type2.html#a1d127017fb298b889f4ba24752d08b8e">00448</a>     uint8_t <a class="code" href="structNet_1_1ip6__opt__routing__type2.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;
<a name="l00449"></a><a class="code" href="structNet_1_1ip6__opt__routing__type2.html#adb2cddb552828de64405e671146d80a9">00449</a>     uint8_t <a class="code" href="structNet_1_1ip6__opt__routing__type2.html#adb2cddb552828de64405e671146d80a9">segleft</a>;
<a name="l00450"></a><a class="code" href="structNet_1_1ip6__opt__routing__type2.html#aa43c4c21b173ada1b6b7568956f0d650">00450</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1ip6__opt__routing__type2.html#aa43c4c21b173ada1b6b7568956f0d650">reserved</a>;
<a name="l00451"></a><a class="code" href="structNet_1_1ip6__opt__routing__type2.html#ae32b25ff633168fbdecd8d24293034cd">00451</a>     ip6_addr_t <a class="code" href="structNet_1_1ip6__opt__routing__type2.html#ae32b25ff633168fbdecd8d24293034cd">addr</a>;
<a name="l00452"></a>00452 };
<a name="l00453"></a>00453 
<a name="l00454"></a><a class="code" href="inet_8hh.html#a7a2b87ebb21ea96cd4fcdf7e9511270b">00454</a> <span class="preprocessor">#define HOME_ADDRESS_OPTION 0xC9</span>
<a name="l00455"></a><a class="code" href="structNet_1_1ip6__opt__dstopts.html">00455</a> <span class="preprocessor"></span><span class="keyword">struct </span><a class="code" href="structNet_1_1ip6__opt__dstopts.html">ip6_opt_dstopts</a> {
<a name="l00456"></a><a class="code" href="structNet_1_1ip6__opt__dstopts.html#a1d127017fb298b889f4ba24752d08b8e">00456</a>     uint8_t <a class="code" href="structNet_1_1ip6__opt__dstopts.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;
<a name="l00457"></a><a class="code" href="structNet_1_1ip6__opt__dstopts.html#ab2b3adeb2a67e656ff030b56727fd0ac">00457</a>     uint8_t <a class="code" href="structNet_1_1ip6__opt__dstopts.html#ab2b3adeb2a67e656ff030b56727fd0ac">length</a>;
<a name="l00458"></a><a class="code" href="structNet_1_1ip6__opt__dstopts.html#ae32b25ff633168fbdecd8d24293034cd">00458</a>     ip6_addr_t <a class="code" href="structNet_1_1ip6__opt__dstopts.html#ae32b25ff633168fbdecd8d24293034cd">addr</a>;
<a name="l00459"></a>00459 } <a class="code" href="init_8cc.html#aff02fcdd36bf0c05520cfd39fd4eff67">__attribute__</a>((<a class="code" href="namespaceNet.html#a4bfa83470dbd48cb568b3c42fdf1e48d">packed</a>));
<a name="l00460"></a>00460 
<a name="l00461"></a><a class="code" href="structNet_1_1ip6__opt__hdr.html">00461</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1ip6__opt__hdr.html">ip6_opt_hdr</a>
<a name="l00462"></a>00462 {
<a name="l00463"></a><a class="code" href="structNet_1_1ip6__opt__hdr.html#ac7f9555ba1faa017dc2ff39b58aff8ce">00463</a>     uint8_t <a class="code" href="structNet_1_1ip6__opt__hdr.html#ac7f9555ba1faa017dc2ff39b58aff8ce">ext_nxt</a>;
<a name="l00464"></a><a class="code" href="structNet_1_1ip6__opt__hdr.html#ad0620f7d472e8ff6fb14a61d1cbbc9c9">00464</a>     uint8_t <a class="code" href="structNet_1_1ip6__opt__hdr.html#ad0620f7d472e8ff6fb14a61d1cbbc9c9">ext_len</a>;
<a name="l00465"></a>00465     <span class="keyword">union </span>{
<a name="l00466"></a><a class="code" href="structNet_1_1ip6__opt__hdr.html#a18673b2f11c7baba50d70623efe6406f">00466</a>         <span class="keyword">struct </span><a class="code" href="structNet_1_1ip6__opt__fragment.html">ip6_opt_fragment</a> <a class="code" href="structNet_1_1ip6__opt__hdr.html#a18673b2f11c7baba50d70623efe6406f">fragment</a>;
<a name="l00467"></a><a class="code" href="structNet_1_1ip6__opt__hdr.html#a2f52f6b4de93b55e73dbe318c454a120">00467</a>         <span class="keyword">struct </span><a class="code" href="structNet_1_1ip6__opt__routing__type2.html">ip6_opt_routing_type2</a> <a class="code" href="structNet_1_1ip6__opt__hdr.html#a2f52f6b4de93b55e73dbe318c454a120">rtType2</a>;
<a name="l00468"></a><a class="code" href="structNet_1_1ip6__opt__hdr.html#ac28fafaa7bdaffb93818229fc6f825f3">00468</a>         <span class="keyword">struct </span><a class="code" href="structNet_1_1ip6__opt__dstopts.html">ip6_opt_dstopts</a> <a class="code" href="structNet_1_1ip6__opt__hdr.html#ac28fafaa7bdaffb93818229fc6f825f3">dstOpts</a>;
<a name="l00469"></a>00469     } <a class="code" href="structNet_1_1ip6__opt__hdr.html#a267f25744ac328d55f93bc5bc9b11eed">ext_data</a>;
<a name="l00470"></a>00470 } <a class="code" href="init_8cc.html#aff02fcdd36bf0c05520cfd39fd4eff67">__attribute__</a>((<a class="code" href="namespaceNet.html#a4bfa83470dbd48cb568b3c42fdf1e48d">packed</a>));
<a name="l00471"></a>00471 
<a name="l00472"></a><a class="code" href="structNet_1_1Ip6Opt.html">00472</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1Ip6Opt.html">Ip6Opt</a> : <span class="keyword">public</span> <a class="code" href="structNet_1_1ip6__opt__hdr.html">ip6_opt_hdr</a>
<a name="l00473"></a>00473 {
<a name="l00474"></a><a class="code" href="structNet_1_1Ip6Opt.html#aa9a773e8c63669710e2900218d27c6ef">00474</a>     uint8_t <a class="code" href="structNet_1_1Ip6Opt.html#aa9a773e8c63669710e2900218d27c6ef">nxt</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1ip6__opt__hdr.html#ac7f9555ba1faa017dc2ff39b58aff8ce">ext_nxt</a>; }
<a name="l00475"></a><a class="code" href="structNet_1_1Ip6Opt.html#a7534c13a4cde0c08f78d23e82ae8a95a">00475</a>     uint8_t <a class="code" href="structNet_1_1Ip6Opt.html#a7534c13a4cde0c08f78d23e82ae8a95a">extlen</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1ip6__opt__hdr.html#ad0620f7d472e8ff6fb14a61d1cbbc9c9">ext_len</a>; }
<a name="l00476"></a><a class="code" href="structNet_1_1Ip6Opt.html#a157a538f6c0e591c974744259b42d8f3">00476</a>     uint8_t <a class="code" href="structNet_1_1Ip6Opt.html#a157a538f6c0e591c974744259b42d8f3">len</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1Ip6Opt.html#a7534c13a4cde0c08f78d23e82ae8a95a">extlen</a>() + 8; }
<a name="l00477"></a>00477 
<a name="l00478"></a>00478     <span class="comment">// Supporting the types of header extensions likely to be encountered:</span>
<a name="l00479"></a>00479     <span class="comment">// fragment, routing type 2 and dstopts.</span>
<a name="l00480"></a>00480 
<a name="l00481"></a>00481     <span class="comment">// Routing type 2</span>
<a name="l00482"></a><a class="code" href="structNet_1_1Ip6Opt.html#ae4c748b4f01abc85d308a627b0278519">00482</a>     uint8_t  <a class="code" href="structNet_1_1Ip6Opt.html#ae4c748b4f01abc85d308a627b0278519">rtType2Type</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1ip6__opt__hdr.html#a267f25744ac328d55f93bc5bc9b11eed">ext_data</a>.rtType2.type; }
<a name="l00483"></a><a class="code" href="structNet_1_1Ip6Opt.html#abd5ab0d9ec38e56938b883bf078a505e">00483</a>     uint8_t  <a class="code" href="structNet_1_1Ip6Opt.html#abd5ab0d9ec38e56938b883bf078a505e">rtType2SegLft</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1ip6__opt__hdr.html#a267f25744ac328d55f93bc5bc9b11eed">ext_data</a>.rtType2.segleft; }
<a name="l00484"></a><a class="code" href="structNet_1_1Ip6Opt.html#aa75855e56afe6f1a873a89ec9065eece">00484</a>     <span class="keyword">const</span> uint8_t* <a class="code" href="structNet_1_1Ip6Opt.html#aa75855e56afe6f1a873a89ec9065eece">rtType2Addr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1ip6__opt__hdr.html#a267f25744ac328d55f93bc5bc9b11eed">ext_data</a>.rtType2.addr.data; }
<a name="l00485"></a>00485 
<a name="l00486"></a>00486     <span class="comment">// Fragment</span>
<a name="l00487"></a><a class="code" href="structNet_1_1Ip6Opt.html#abfef731b01a07ca7e0e74553e1c2a003">00487</a>     uint16_t <a class="code" href="structNet_1_1Ip6Opt.html#abfef731b01a07ca7e0e74553e1c2a003">fragmentOfflg</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(<a class="code" href="structNet_1_1ip6__opt__hdr.html#a267f25744ac328d55f93bc5bc9b11eed">ext_data</a>.fragment.offlg); }
<a name="l00488"></a><a class="code" href="structNet_1_1Ip6Opt.html#ad96851ce3053dc49058d578dd69a788a">00488</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1Ip6Opt.html#ad96851ce3053dc49058d578dd69a788a">fragmentIdent</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohl(<a class="code" href="structNet_1_1ip6__opt__hdr.html#a267f25744ac328d55f93bc5bc9b11eed">ext_data</a>.fragment.ident); }
<a name="l00489"></a>00489 
<a name="l00490"></a>00490     <span class="comment">// Dst Options/Home Address Option</span>
<a name="l00491"></a><a class="code" href="structNet_1_1Ip6Opt.html#aa05fb424a60fa702a51de9d9910be690">00491</a>     uint8_t <a class="code" href="structNet_1_1Ip6Opt.html#aa05fb424a60fa702a51de9d9910be690">dstOptType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1ip6__opt__hdr.html#a267f25744ac328d55f93bc5bc9b11eed">ext_data</a>.dstOpts.type; }
<a name="l00492"></a><a class="code" href="structNet_1_1Ip6Opt.html#a6ee761d697e9f0054f319129b91e262e">00492</a>     uint8_t <a class="code" href="structNet_1_1Ip6Opt.html#a6ee761d697e9f0054f319129b91e262e">dstOptLength</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1ip6__opt__hdr.html#a267f25744ac328d55f93bc5bc9b11eed">ext_data</a>.dstOpts.length; }
<a name="l00493"></a><a class="code" href="structNet_1_1Ip6Opt.html#a7e470ca7eb55174fbce80124e7604633">00493</a>     <span class="keyword">const</span> uint8_t* <a class="code" href="structNet_1_1Ip6Opt.html#a7e470ca7eb55174fbce80124e7604633">dstOptAddr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1ip6__opt__hdr.html#a267f25744ac328d55f93bc5bc9b11eed">ext_data</a>.dstOpts.addr.data; }
<a name="l00494"></a>00494 };
<a name="l00495"></a>00495 
<a name="l00496"></a>00496 
<a name="l00497"></a>00497 <span class="comment">/*</span>
<a name="l00498"></a>00498 <span class="comment"> * TCP Stuff</span>
<a name="l00499"></a>00499 <span class="comment"> */</span>
<a name="l00500"></a>00500 <span class="keyword">struct </span>TcpOpt;
<a name="l00501"></a><a class="code" href="structNet_1_1TcpHdr.html">00501</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1TcpHdr.html">TcpHdr</a> : <span class="keyword">public</span> tcp_hdr
<a name="l00502"></a>00502 {
<a name="l00503"></a><a class="code" href="structNet_1_1TcpHdr.html#ac8b130feab6c3c849b62ee42ad32d6c2">00503</a>     uint16_t <a class="code" href="structNet_1_1TcpHdr.html#ac8b130feab6c3c849b62ee42ad32d6c2">sport</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(th_sport); }
<a name="l00504"></a><a class="code" href="structNet_1_1TcpHdr.html#aba1e568ee57bc49dc901f0beb54a62af">00504</a>     uint16_t <a class="code" href="structNet_1_1TcpHdr.html#aba1e568ee57bc49dc901f0beb54a62af">dport</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(th_dport); }
<a name="l00505"></a><a class="code" href="structNet_1_1TcpHdr.html#a049ec62f8a78c4e0a1ff4ed72d54efb1">00505</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1TcpHdr.html#a049ec62f8a78c4e0a1ff4ed72d54efb1">seq</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohl(th_seq); }
<a name="l00506"></a><a class="code" href="structNet_1_1TcpHdr.html#ac525b742fa49239d72c1a5b7171bbe69">00506</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1TcpHdr.html#ac525b742fa49239d72c1a5b7171bbe69">ack</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohl(th_ack); }
<a name="l00507"></a><a class="code" href="structNet_1_1TcpHdr.html#a3f7bd9781841d27d2dd7d69b8c666b34">00507</a>     uint8_t  <a class="code" href="structNet_1_1TcpHdr.html#a3f7bd9781841d27d2dd7d69b8c666b34">off</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> th_off*4; }
<a name="l00508"></a><a class="code" href="structNet_1_1TcpHdr.html#a54191ca9612c1e21fbc7e3133792a809">00508</a>     uint8_t  <a class="code" href="structNet_1_1TcpHdr.html#a54191ca9612c1e21fbc7e3133792a809">flags</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> th_flags &amp; 0x3f; }
<a name="l00509"></a><a class="code" href="structNet_1_1TcpHdr.html#aada963d6f2ef1f4802bfe71a346bdc5e">00509</a>     uint16_t <a class="code" href="structNet_1_1TcpHdr.html#aada963d6f2ef1f4802bfe71a346bdc5e">win</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(th_win); }
<a name="l00510"></a><a class="code" href="structNet_1_1TcpHdr.html#acbf3c502c7393ef0178454b237b2562f">00510</a>     uint16_t <a class="code" href="structNet_1_1TcpHdr.html#acbf3c502c7393ef0178454b237b2562f">sum</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> th_sum; }
<a name="l00511"></a><a class="code" href="structNet_1_1TcpHdr.html#ad713d66036461e2df776046f5f0a6fd1">00511</a>     uint16_t <a class="code" href="structNet_1_1TcpHdr.html#ad713d66036461e2df776046f5f0a6fd1">urp</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(th_urp); }
<a name="l00512"></a>00512 
<a name="l00513"></a><a class="code" href="structNet_1_1TcpHdr.html#ae0171ec0578adacce8cceb6a804f97f1">00513</a>     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1TcpHdr.html#ae0171ec0578adacce8cceb6a804f97f1">sum</a>(uint16_t <a class="code" href="structNet_1_1TcpHdr.html#acbf3c502c7393ef0178454b237b2562f">sum</a>) { th_sum = sum; }
<a name="l00514"></a><a class="code" href="structNet_1_1TcpHdr.html#abdc79019c979df22c7838608d8165b8e">00514</a>     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1TcpHdr.html#abdc79019c979df22c7838608d8165b8e">seq</a>(<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> _seq) { th_seq = htonl(_seq); }
<a name="l00515"></a><a class="code" href="structNet_1_1TcpHdr.html#aeaeb21104a163e0151ec998def60ffad">00515</a>     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1TcpHdr.html#aeaeb21104a163e0151ec998def60ffad">flags</a>(uint8_t _flags) { th_flags  = _flags; } 
<a name="l00516"></a>00516 
<a name="l00517"></a>00517     <span class="keywordtype">bool</span> <a class="code" href="structNet_1_1TcpHdr.html#ad42e4f03cdf97f26900594dc2c07c43f">options</a>(<a class="code" href="classstd_1_1vector.html">std::vector&lt;const TcpOpt *&gt;</a> &amp;vec) <span class="keyword">const</span>;
<a name="l00518"></a>00518 
<a name="l00519"></a><a class="code" href="structNet_1_1TcpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">00519</a>     <span class="keywordtype">int</span> <a class="code" href="structNet_1_1TcpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1TcpHdr.html#a3f7bd9781841d27d2dd7d69b8c666b34">off</a>(); }
<a name="l00520"></a><a class="code" href="structNet_1_1TcpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">00520</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1TcpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keyword">const</span> uint8_t *)<span class="keyword">this</span>; }
<a name="l00521"></a><a class="code" href="structNet_1_1TcpHdr.html#a5f0d069ddb9d067af9e94963bd1fc7a2">00521</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1TcpHdr.html#a5f0d069ddb9d067af9e94963bd1fc7a2">payload</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1TcpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + <a class="code" href="structNet_1_1TcpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>(); }
<a name="l00522"></a><a class="code" href="structNet_1_1TcpHdr.html#add4fb6fe45a091194dc9eac521194698">00522</a>     uint8_t *<a class="code" href="structNet_1_1TcpHdr.html#add4fb6fe45a091194dc9eac521194698">bytes</a>() { <span class="keywordflow">return</span> (uint8_t *)<span class="keyword">this</span>; }
<a name="l00523"></a><a class="code" href="structNet_1_1TcpHdr.html#a79ce21e3572e587b71de7af1ac640b6f">00523</a>     uint8_t *<a class="code" href="structNet_1_1TcpHdr.html#a79ce21e3572e587b71de7af1ac640b6f">payload</a>() { <span class="keywordflow">return</span> <a class="code" href="structNet_1_1TcpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + <a class="code" href="structNet_1_1TcpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>(); }
<a name="l00524"></a>00524 };
<a name="l00525"></a>00525 
<a name="l00526"></a><a class="code" href="classNet_1_1TcpPtr.html">00526</a> <span class="keyword">class </span><a class="code" href="classNet_1_1TcpPtr.html">TcpPtr</a>
<a name="l00527"></a>00527 {
<a name="l00528"></a>00528   <span class="keyword">protected</span>:
<a name="l00529"></a><a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">00529</a>     <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>;
<a name="l00530"></a><a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">00530</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>;
<a name="l00531"></a>00531 
<a name="l00532"></a><a class="code" href="classNet_1_1TcpPtr.html#a777f6c709e0743045ba3536e4e184d09">00532</a>     <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> &amp;ptr, <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a>) { <a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a> = ptr; <a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a> = <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a>; }
<a name="l00533"></a><a class="code" href="classNet_1_1TcpPtr.html#a0a0778623a259833ee4dc0317212ffec">00533</a>     <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keyword">const</span> <a class="code" href="classNet_1_1IpPtr.html">IpPtr</a> &amp;ptr)
<a name="l00534"></a>00534     {
<a name="l00535"></a>00535         <span class="keywordflow">if</span> (ptr &amp;&amp; ptr-&gt;proto() == IP_PROTO_TCP)
<a name="l00536"></a>00536             <span class="keyword">set</span>(ptr.p, ptr.pstart());
<a name="l00537"></a>00537         <span class="keywordflow">else</span>
<a name="l00538"></a>00538             <span class="keyword">set</span>(0, 0);
<a name="l00539"></a>00539     }
<a name="l00540"></a><a class="code" href="classNet_1_1TcpPtr.html#aff41448998f095ea26efa08f89bb1c7d">00540</a>     <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keyword">const</span> <a class="code" href="classNet_1_1Ip6Ptr.html">Ip6Ptr</a> &amp;ptr)
<a name="l00541"></a>00541     {
<a name="l00542"></a>00542         <span class="keywordflow">if</span> (ptr &amp;&amp; ptr-&gt;proto() == IP_PROTO_TCP)
<a name="l00543"></a>00543             <span class="keyword">set</span>(ptr.p, ptr.pstart());
<a name="l00544"></a>00544         <span class="keywordflow">else</span>
<a name="l00545"></a>00545             <span class="keyword">set</span>(0, 0);
<a name="l00546"></a>00546     }
<a name="l00547"></a>00547 
<a name="l00548"></a>00548   <span class="keyword">public</span>:
<a name="l00549"></a><a class="code" href="classNet_1_1TcpPtr.html#ac6e8d0bb54cb7e4603a42ea0db870e32">00549</a>     <a class="code" href="classNet_1_1TcpPtr.html#ac6e8d0bb54cb7e4603a42ea0db870e32">TcpPtr</a>() : <a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>(0) {}
<a name="l00550"></a><a class="code" href="classNet_1_1TcpPtr.html#ae6fa0d839da0d9cae52d8f1fed13b9df">00550</a>     <a class="code" href="classNet_1_1TcpPtr.html#ae6fa0d839da0d9cae52d8f1fed13b9df">TcpPtr</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1IpPtr.html">IpPtr</a> &amp;ptr) : <a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>(0) { <span class="keyword">set</span>(ptr); }
<a name="l00551"></a><a class="code" href="classNet_1_1TcpPtr.html#a13ffa86151b1bfcf1f980300581ed5d8">00551</a>     <a class="code" href="classNet_1_1TcpPtr.html#a13ffa86151b1bfcf1f980300581ed5d8">TcpPtr</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1Ip6Ptr.html">Ip6Ptr</a> &amp;ptr) : <a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>(0) { <span class="keyword">set</span>(ptr); }
<a name="l00552"></a><a class="code" href="classNet_1_1TcpPtr.html#a352cc3516ed67de8487c9205b9376ea0">00552</a>     <a class="code" href="classNet_1_1TcpPtr.html#a352cc3516ed67de8487c9205b9376ea0">TcpPtr</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1TcpPtr.html">TcpPtr</a> &amp;ptr) : <a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(ptr.<a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>), <a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>(ptr.<a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>) {}
<a name="l00553"></a>00553 
<a name="l00554"></a><a class="code" href="classNet_1_1TcpPtr.html#ad425903dd5be36812b8cb0f3fc9c3b49">00554</a>     <a class="code" href="structNet_1_1TcpHdr.html">TcpHdr</a> *<span class="keyword">get</span>() { <span class="keywordflow">return</span> (<a class="code" href="structNet_1_1TcpHdr.html">TcpHdr</a> *)(<a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a> + <a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>); }
<a name="l00555"></a><a class="code" href="classNet_1_1TcpPtr.html#a77ed9d83e032caec54b831aabea50dac">00555</a>     <a class="code" href="structNet_1_1TcpHdr.html">TcpHdr</a> *<a class="code" href="classNet_1_1TcpPtr.html#a77ed9d83e032caec54b831aabea50dac">operator-&gt;</a>() { <span class="keywordflow">return</span> <span class="keyword">get</span>(); }
<a name="l00556"></a><a class="code" href="classNet_1_1TcpPtr.html#a8a7f53969ce71388158c3e38493ba9f3">00556</a>     <a class="code" href="structNet_1_1TcpHdr.html">TcpHdr</a> &amp;<a class="code" href="classNet_1_1TcpPtr.html#a8a7f53969ce71388158c3e38493ba9f3">operator*</a>() { <span class="keywordflow">return</span> *<span class="keyword">get</span>(); }
<a name="l00557"></a>00557 
<a name="l00558"></a><a class="code" href="classNet_1_1TcpPtr.html#a6d31bdfc8c5f84b6a4a791db973df4c2">00558</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1TcpHdr.html">TcpHdr</a> *<span class="keyword">get</span>() <span class="keyword">const</span> { <span class="keywordflow">return</span> (<span class="keyword">const</span> <a class="code" href="structNet_1_1TcpHdr.html">TcpHdr</a> *)(<a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a> + <a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>); }
<a name="l00559"></a><a class="code" href="classNet_1_1TcpPtr.html#a5a8969d9dfbdfb9e8c0566fb2300e05d">00559</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1TcpHdr.html">TcpHdr</a> *<a class="code" href="classNet_1_1TcpPtr.html#a5a8969d9dfbdfb9e8c0566fb2300e05d">operator-&gt;</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">get</span>(); }
<a name="l00560"></a><a class="code" href="classNet_1_1TcpPtr.html#a2ca7a4d104b858c85e87c0ae34a2c1a4">00560</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1TcpHdr.html">TcpHdr</a> &amp;<a class="code" href="classNet_1_1TcpPtr.html#a2ca7a4d104b858c85e87c0ae34a2c1a4">operator*</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *<span class="keyword">get</span>(); }
<a name="l00561"></a>00561 
<a name="l00562"></a><a class="code" href="classNet_1_1TcpPtr.html#a75eaf964740c52e5f7c2274f530dacb3">00562</a>     <span class="keyword">const</span> <a class="code" href="classNet_1_1TcpPtr.html">TcpPtr</a> &amp;<a class="code" href="classNet_1_1TcpPtr.html#a75eaf964740c52e5f7c2274f530dacb3">operator=</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1IpPtr.html">IpPtr</a> &amp;<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>)
<a name="l00563"></a>00563     { <span class="keyword">set</span>(i); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00564"></a><a class="code" href="classNet_1_1TcpPtr.html#a886897a4af35dd25e1d94e9758f2a635">00564</a>     <span class="keyword">const</span> <a class="code" href="classNet_1_1TcpPtr.html">TcpPtr</a> &amp;<a class="code" href="classNet_1_1TcpPtr.html#a75eaf964740c52e5f7c2274f530dacb3">operator=</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1TcpPtr.html">TcpPtr</a> &amp;<a class="code" href="namespaceArmISA.html#af5dfd7e551f8c5b461816e813dab252f">t</a>)
<a name="l00565"></a>00565     { <span class="keyword">set</span>(t.<a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>, t.<a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00566"></a>00566 
<a name="l00567"></a><a class="code" href="classNet_1_1TcpPtr.html#a13e32a6fa7b2f1b41d1d8dc32d8fda9e">00567</a>     <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1TcpPtr.html#a13e32a6fa7b2f1b41d1d8dc32d8fda9e">packet</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00568"></a><a class="code" href="classNet_1_1TcpPtr.html#a549ac5c293e8047f1be38ca356e160da">00568</a>     <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1TcpPtr.html#a549ac5c293e8047f1be38ca356e160da">packet</a>() { <span class="keywordflow">return</span> <a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00569"></a><a class="code" href="classNet_1_1TcpPtr.html#ac8b1d32dbd52d431450c70b151cfa205">00569</a>     <span class="keywordtype">bool</span> <a class="code" href="classNet_1_1TcpPtr.html#ac8b1d32dbd52d431450c70b151cfa205">operator!</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00570"></a><a class="code" href="classNet_1_1TcpPtr.html#aa385aa18f5e42db5a415c25a90f4193d">00570</a>     <a class="code" href="classNet_1_1TcpPtr.html#aa385aa18f5e42db5a415c25a90f4193d">operator bool</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1TcpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00571"></a><a class="code" href="classNet_1_1TcpPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">00571</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1TcpPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">off</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1TcpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>; }
<a name="l00572"></a><a class="code" href="classNet_1_1TcpPtr.html#ae6fc8073bc02ff3fd03030e0936d56eb">00572</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1TcpPtr.html#ae6fc8073bc02ff3fd03030e0936d56eb">pstart</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1TcpPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">off</a>() + <span class="keyword">get</span>()-&gt;size(); }
<a name="l00573"></a>00573 };
<a name="l00574"></a>00574 
<a name="l00575"></a>00575 uint16_t <a class="code" href="namespaceNet.html#a7c7758a7af16c9b808dcb8ddf7aa1a34">cksum</a>(<span class="keyword">const</span> TcpPtr &amp;ptr);
<a name="l00576"></a>00576 
<a name="l00577"></a><a class="code" href="structNet_1_1TcpOpt.html">00577</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1TcpOpt.html">TcpOpt</a> : <span class="keyword">public</span> tcp_opt
<a name="l00578"></a>00578 {
<a name="l00579"></a><a class="code" href="structNet_1_1TcpOpt.html#a7c3e8c8aa22970484617493a084000b9">00579</a>     uint8_t <a class="code" href="structNet_1_1TcpOpt.html#a7c3e8c8aa22970484617493a084000b9">type</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> opt_type; }
<a name="l00580"></a><a class="code" href="structNet_1_1TcpOpt.html#a157a538f6c0e591c974744259b42d8f3">00580</a>     uint8_t <a class="code" href="structNet_1_1TcpOpt.html#a157a538f6c0e591c974744259b42d8f3">len</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> TCP_OPT_TYPEONLY(<a class="code" href="structNet_1_1TcpOpt.html#a7c3e8c8aa22970484617493a084000b9">type</a>()) ? 1 : opt_len; }
<a name="l00581"></a>00581 
<a name="l00582"></a><a class="code" href="structNet_1_1TcpOpt.html#abb7301dd1b816fcfb0f9922c1cd7675c">00582</a>     <span class="keywordtype">bool</span> <a class="code" href="structNet_1_1TcpOpt.html#abb7301dd1b816fcfb0f9922c1cd7675c">isopt</a>(<span class="keywordtype">int</span> opt)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1TcpOpt.html#a7c3e8c8aa22970484617493a084000b9">type</a>() == opt; }
<a name="l00583"></a>00583 
<a name="l00584"></a><a class="code" href="structNet_1_1TcpOpt.html#a40fe50b14bf164129156972247acb8e4">00584</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1TcpOpt.html#a40fe50b14bf164129156972247acb8e4">data</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> opt_data.data8; }
<a name="l00585"></a>00585 
<a name="l00586"></a><a class="code" href="structNet_1_1TcpOpt.html#a491854d4ab28d4ea5f41179a126d14d3">00586</a>     uint16_t <a class="code" href="structNet_1_1TcpOpt.html#a491854d4ab28d4ea5f41179a126d14d3">mss</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(opt_data.mss); }
<a name="l00587"></a><a class="code" href="structNet_1_1TcpOpt.html#adfbec769c302b867b62db9af7657c03f">00587</a>     uint8_t <a class="code" href="structNet_1_1TcpOpt.html#adfbec769c302b867b62db9af7657c03f">wscale</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> opt_data.wscale; }
<a name="l00588"></a><a class="code" href="structNet_1_1TcpOpt.html#af0842b965063493bddbb1e8348321da5">00588</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1TcpOpt.html#af0842b965063493bddbb1e8348321da5">echo</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohl(opt_data.echo); }
<a name="l00589"></a><a class="code" href="structNet_1_1TcpOpt.html#aeba716f8ccf8e3bd796ce39ec3bf4959">00589</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1TcpOpt.html#aeba716f8ccf8e3bd796ce39ec3bf4959">tsval</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohl(opt_data.timestamp[0]); }
<a name="l00590"></a><a class="code" href="structNet_1_1TcpOpt.html#ab7cc35de244b5c22056e78886b23467c">00590</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1TcpOpt.html#ab7cc35de244b5c22056e78886b23467c">tsecr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohl(opt_data.timestamp[1]); }
<a name="l00591"></a><a class="code" href="structNet_1_1TcpOpt.html#a0c5bd4685231a3185f123fccb2a8313d">00591</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structNet_1_1TcpOpt.html#a0c5bd4685231a3185f123fccb2a8313d">cc</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohl(opt_data.cc); }
<a name="l00592"></a><a class="code" href="structNet_1_1TcpOpt.html#a0e5c67cd3adfdeed4e0e17fd18e8dc62">00592</a>     uint8_t <a class="code" href="structNet_1_1TcpOpt.html#a0e5c67cd3adfdeed4e0e17fd18e8dc62">cksum</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> opt_data.cksum; }
<a name="l00593"></a><a class="code" href="structNet_1_1TcpOpt.html#ae647e910f0d658910b0dd25bb686ac46">00593</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1TcpOpt.html#ae647e910f0d658910b0dd25bb686ac46">md5</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> opt_data.md5; }
<a name="l00594"></a>00594 
<a name="l00595"></a><a class="code" href="structNet_1_1TcpOpt.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">00595</a>     <span class="keywordtype">int</span> <a class="code" href="structNet_1_1TcpOpt.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1TcpOpt.html#a157a538f6c0e591c974744259b42d8f3">len</a>(); }
<a name="l00596"></a><a class="code" href="structNet_1_1TcpOpt.html#aaa586eeaf354005403ca8e20f961b6c3">00596</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1TcpOpt.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keyword">const</span> uint8_t *)<span class="keyword">this</span>; }
<a name="l00597"></a><a class="code" href="structNet_1_1TcpOpt.html#a5f0d069ddb9d067af9e94963bd1fc7a2">00597</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1TcpOpt.html#a5f0d069ddb9d067af9e94963bd1fc7a2">payload</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1TcpOpt.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + <a class="code" href="structNet_1_1TcpOpt.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>(); }
<a name="l00598"></a><a class="code" href="structNet_1_1TcpOpt.html#add4fb6fe45a091194dc9eac521194698">00598</a>     uint8_t *<a class="code" href="structNet_1_1TcpOpt.html#add4fb6fe45a091194dc9eac521194698">bytes</a>() { <span class="keywordflow">return</span> (uint8_t *)<span class="keyword">this</span>; }
<a name="l00599"></a><a class="code" href="structNet_1_1TcpOpt.html#a79ce21e3572e587b71de7af1ac640b6f">00599</a>     uint8_t *<a class="code" href="structNet_1_1TcpOpt.html#a79ce21e3572e587b71de7af1ac640b6f">payload</a>() { <span class="keywordflow">return</span> <a class="code" href="structNet_1_1TcpOpt.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + <a class="code" href="structNet_1_1TcpOpt.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>(); }
<a name="l00600"></a>00600 };
<a name="l00601"></a>00601 
<a name="l00602"></a>00602 <span class="comment">/*</span>
<a name="l00603"></a>00603 <span class="comment"> * UDP Stuff</span>
<a name="l00604"></a>00604 <span class="comment"> */</span>
<a name="l00605"></a><a class="code" href="structNet_1_1UdpHdr.html">00605</a> <span class="keyword">struct </span><a class="code" href="structNet_1_1UdpHdr.html">UdpHdr</a> : <span class="keyword">public</span> udp_hdr
<a name="l00606"></a>00606 {
<a name="l00607"></a><a class="code" href="structNet_1_1UdpHdr.html#ac8b130feab6c3c849b62ee42ad32d6c2">00607</a>     uint16_t <a class="code" href="structNet_1_1UdpHdr.html#ac8b130feab6c3c849b62ee42ad32d6c2">sport</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(uh_sport); }
<a name="l00608"></a><a class="code" href="structNet_1_1UdpHdr.html#aba1e568ee57bc49dc901f0beb54a62af">00608</a>     uint16_t <a class="code" href="structNet_1_1UdpHdr.html#aba1e568ee57bc49dc901f0beb54a62af">dport</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(uh_dport); }
<a name="l00609"></a><a class="code" href="structNet_1_1UdpHdr.html#aca537e1680645b058d622981e2fb1c13">00609</a>     uint16_t <a class="code" href="structNet_1_1UdpHdr.html#aca537e1680645b058d622981e2fb1c13">len</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ntohs(uh_ulen); }
<a name="l00610"></a><a class="code" href="structNet_1_1UdpHdr.html#acbf3c502c7393ef0178454b237b2562f">00610</a>     uint16_t <a class="code" href="structNet_1_1UdpHdr.html#acbf3c502c7393ef0178454b237b2562f">sum</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> uh_sum; }
<a name="l00611"></a>00611 
<a name="l00612"></a><a class="code" href="structNet_1_1UdpHdr.html#ae0171ec0578adacce8cceb6a804f97f1">00612</a>     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1UdpHdr.html#ae0171ec0578adacce8cceb6a804f97f1">sum</a>(uint16_t <a class="code" href="structNet_1_1UdpHdr.html#acbf3c502c7393ef0178454b237b2562f">sum</a>) { uh_sum = sum; }
<a name="l00613"></a><a class="code" href="structNet_1_1UdpHdr.html#a6d227a891dced5a88df38f29d545e8aa">00613</a>     <span class="keywordtype">void</span> <a class="code" href="structNet_1_1UdpHdr.html#a6d227a891dced5a88df38f29d545e8aa">len</a>(uint16_t _len) { uh_ulen = htons(_len); }
<a name="l00614"></a>00614 
<a name="l00615"></a><a class="code" href="structNet_1_1UdpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">00615</a>     <span class="keywordtype">int</span> <a class="code" href="structNet_1_1UdpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(udp_hdr); }
<a name="l00616"></a><a class="code" href="structNet_1_1UdpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">00616</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1UdpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keyword">const</span> uint8_t *)<span class="keyword">this</span>; }
<a name="l00617"></a><a class="code" href="structNet_1_1UdpHdr.html#a5f0d069ddb9d067af9e94963bd1fc7a2">00617</a>     <span class="keyword">const</span> uint8_t *<a class="code" href="structNet_1_1UdpHdr.html#a5f0d069ddb9d067af9e94963bd1fc7a2">payload</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structNet_1_1UdpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + <a class="code" href="structNet_1_1UdpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>(); }
<a name="l00618"></a><a class="code" href="structNet_1_1UdpHdr.html#add4fb6fe45a091194dc9eac521194698">00618</a>     uint8_t *<a class="code" href="structNet_1_1UdpHdr.html#add4fb6fe45a091194dc9eac521194698">bytes</a>() { <span class="keywordflow">return</span> (uint8_t *)<span class="keyword">this</span>; }
<a name="l00619"></a><a class="code" href="structNet_1_1UdpHdr.html#a79ce21e3572e587b71de7af1ac640b6f">00619</a>     uint8_t *<a class="code" href="structNet_1_1UdpHdr.html#a79ce21e3572e587b71de7af1ac640b6f">payload</a>() { <span class="keywordflow">return</span> <a class="code" href="structNet_1_1UdpHdr.html#aaa586eeaf354005403ca8e20f961b6c3">bytes</a>() + <a class="code" href="structNet_1_1UdpHdr.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>(); }
<a name="l00620"></a>00620 };
<a name="l00621"></a>00621 
<a name="l00622"></a><a class="code" href="classNet_1_1UdpPtr.html">00622</a> <span class="keyword">class </span><a class="code" href="classNet_1_1UdpPtr.html">UdpPtr</a>
<a name="l00623"></a>00623 {
<a name="l00624"></a>00624   <span class="keyword">protected</span>:
<a name="l00625"></a><a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">00625</a>     <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>;
<a name="l00626"></a><a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">00626</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>;
<a name="l00627"></a>00627 
<a name="l00628"></a><a class="code" href="classNet_1_1UdpPtr.html#a777f6c709e0743045ba3536e4e184d09">00628</a>     <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> &amp;ptr, <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a>) { <a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a> = ptr; <a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a> = <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a>; }
<a name="l00629"></a><a class="code" href="classNet_1_1UdpPtr.html#a0a0778623a259833ee4dc0317212ffec">00629</a>     <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keyword">const</span> <a class="code" href="classNet_1_1IpPtr.html">IpPtr</a> &amp;ptr)
<a name="l00630"></a>00630     {
<a name="l00631"></a>00631         <span class="keywordflow">if</span> (ptr &amp;&amp; ptr-&gt;proto() == IP_PROTO_UDP)
<a name="l00632"></a>00632             <span class="keyword">set</span>(ptr.p, ptr.pstart());
<a name="l00633"></a>00633         <span class="keywordflow">else</span>
<a name="l00634"></a>00634             <span class="keyword">set</span>(0, 0);
<a name="l00635"></a>00635     }
<a name="l00636"></a><a class="code" href="classNet_1_1UdpPtr.html#aff41448998f095ea26efa08f89bb1c7d">00636</a>     <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keyword">const</span> <a class="code" href="classNet_1_1Ip6Ptr.html">Ip6Ptr</a> &amp;ptr)
<a name="l00637"></a>00637     {
<a name="l00638"></a>00638         <span class="keywordflow">if</span> (ptr &amp;&amp; ptr-&gt;proto() == IP_PROTO_UDP)
<a name="l00639"></a>00639             <span class="keyword">set</span>(ptr.p, ptr.pstart());
<a name="l00640"></a>00640         <span class="keywordflow">else</span>
<a name="l00641"></a>00641             <span class="keyword">set</span>(0, 0);
<a name="l00642"></a>00642     }
<a name="l00643"></a>00643 
<a name="l00644"></a>00644   <span class="keyword">public</span>:
<a name="l00645"></a><a class="code" href="classNet_1_1UdpPtr.html#abcd425aa7abed2d3c310a9a911ee3dd8">00645</a>     <a class="code" href="classNet_1_1UdpPtr.html#abcd425aa7abed2d3c310a9a911ee3dd8">UdpPtr</a>() : <a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>(0) {}
<a name="l00646"></a><a class="code" href="classNet_1_1UdpPtr.html#a37b049e8b05df97038b6520b650880f8">00646</a>     <a class="code" href="classNet_1_1UdpPtr.html#a37b049e8b05df97038b6520b650880f8">UdpPtr</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1IpPtr.html">IpPtr</a> &amp;ptr) : <a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>(0) { <span class="keyword">set</span>(ptr); }
<a name="l00647"></a><a class="code" href="classNet_1_1UdpPtr.html#afbb62bb41d751a157c1969b023b3ac2c">00647</a>     <a class="code" href="classNet_1_1UdpPtr.html#afbb62bb41d751a157c1969b023b3ac2c">UdpPtr</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1Ip6Ptr.html">Ip6Ptr</a> &amp;ptr) : <a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(0), <a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>(0) { <span class="keyword">set</span>(ptr); }
<a name="l00648"></a><a class="code" href="classNet_1_1UdpPtr.html#a3fb1538c6e5e4348f6dfdb963fc4b724">00648</a>     <a class="code" href="classNet_1_1UdpPtr.html#a3fb1538c6e5e4348f6dfdb963fc4b724">UdpPtr</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1UdpPtr.html">UdpPtr</a> &amp;ptr) : <a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>(ptr.<a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>), <a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>(ptr.<a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>) {}
<a name="l00649"></a>00649 
<a name="l00650"></a><a class="code" href="classNet_1_1UdpPtr.html#a894be408d8fb0e2b4224991c64ed69e0">00650</a>     <a class="code" href="structNet_1_1UdpHdr.html">UdpHdr</a> *<span class="keyword">get</span>() { <span class="keywordflow">return</span> (<a class="code" href="structNet_1_1UdpHdr.html">UdpHdr</a> *)(<a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a> + <a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>); }
<a name="l00651"></a><a class="code" href="classNet_1_1UdpPtr.html#a04f04b83c0b726766c5767db893bf65e">00651</a>     <a class="code" href="structNet_1_1UdpHdr.html">UdpHdr</a> *<a class="code" href="classNet_1_1UdpPtr.html#a04f04b83c0b726766c5767db893bf65e">operator-&gt;</a>() { <span class="keywordflow">return</span> <span class="keyword">get</span>(); }
<a name="l00652"></a><a class="code" href="classNet_1_1UdpPtr.html#acef4258ce7955f5d7d8d10f79fd19825">00652</a>     <a class="code" href="structNet_1_1UdpHdr.html">UdpHdr</a> &amp;<a class="code" href="classNet_1_1UdpPtr.html#acef4258ce7955f5d7d8d10f79fd19825">operator*</a>() { <span class="keywordflow">return</span> *<span class="keyword">get</span>(); }
<a name="l00653"></a>00653 
<a name="l00654"></a><a class="code" href="classNet_1_1UdpPtr.html#acdc10278933ff9a5efed69df7bdc4230">00654</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1UdpHdr.html">UdpHdr</a> *<span class="keyword">get</span>() <span class="keyword">const</span> { <span class="keywordflow">return</span> (<span class="keyword">const</span> <a class="code" href="structNet_1_1UdpHdr.html">UdpHdr</a> *)(<a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>-&gt;<a class="code" href="classRefCountingPtr.html#ac88dceffbecaed1137b0e27783adbcc5">data</a> + <a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>); }
<a name="l00655"></a><a class="code" href="classNet_1_1UdpPtr.html#ae6a408523ebfb6e70d224efab6193010">00655</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1UdpHdr.html">UdpHdr</a> *<a class="code" href="classNet_1_1UdpPtr.html#ae6a408523ebfb6e70d224efab6193010">operator-&gt;</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">get</span>(); }
<a name="l00656"></a><a class="code" href="classNet_1_1UdpPtr.html#aab2f2ca8ddd9aa479e1de4067e47a5fd">00656</a>     <span class="keyword">const</span> <a class="code" href="structNet_1_1UdpHdr.html">UdpHdr</a> &amp;<a class="code" href="classNet_1_1UdpPtr.html#aab2f2ca8ddd9aa479e1de4067e47a5fd">operator*</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *<span class="keyword">get</span>(); }
<a name="l00657"></a>00657 
<a name="l00658"></a><a class="code" href="classNet_1_1UdpPtr.html#a86eade3b854c44d7f65c9775bc391295">00658</a>     <span class="keyword">const</span> <a class="code" href="classNet_1_1UdpPtr.html">UdpPtr</a> &amp;<a class="code" href="classNet_1_1UdpPtr.html#a86eade3b854c44d7f65c9775bc391295">operator=</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1IpPtr.html">IpPtr</a> &amp;<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) { <span class="keyword">set</span>(i); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00659"></a><a class="code" href="classNet_1_1UdpPtr.html#abe501d76a9a5d61533a88257e47ce552">00659</a>     <span class="keyword">const</span> <a class="code" href="classNet_1_1UdpPtr.html">UdpPtr</a> &amp;<a class="code" href="classNet_1_1UdpPtr.html#a86eade3b854c44d7f65c9775bc391295">operator=</a>(<span class="keyword">const</span> <a class="code" href="classNet_1_1UdpPtr.html">UdpPtr</a> &amp;<a class="code" href="namespaceArmISA.html#af5dfd7e551f8c5b461816e813dab252f">t</a>)
<a name="l00660"></a>00660     { <span class="keyword">set</span>(t.<a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>, t.<a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00661"></a>00661 
<a name="l00662"></a><a class="code" href="classNet_1_1UdpPtr.html#a13e32a6fa7b2f1b41d1d8dc32d8fda9e">00662</a>     <span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1UdpPtr.html#a13e32a6fa7b2f1b41d1d8dc32d8fda9e">packet</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00663"></a><a class="code" href="classNet_1_1UdpPtr.html#a549ac5c293e8047f1be38ca356e160da">00663</a>     <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> <a class="code" href="classNet_1_1UdpPtr.html#a549ac5c293e8047f1be38ca356e160da">packet</a>() { <span class="keywordflow">return</span> <a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00664"></a><a class="code" href="classNet_1_1UdpPtr.html#ac8b1d32dbd52d431450c70b151cfa205">00664</a>     <span class="keywordtype">bool</span> <a class="code" href="classNet_1_1UdpPtr.html#ac8b1d32dbd52d431450c70b151cfa205">operator!</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00665"></a><a class="code" href="classNet_1_1UdpPtr.html#aa385aa18f5e42db5a415c25a90f4193d">00665</a>     <a class="code" href="classNet_1_1UdpPtr.html#aa385aa18f5e42db5a415c25a90f4193d">operator bool</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1UdpPtr.html#a764b18a7236ca83fd4bd750516da7d09">p</a>; }
<a name="l00666"></a><a class="code" href="classNet_1_1UdpPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">00666</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1UdpPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">off</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1UdpPtr.html#ae333e6fee474f238b35b4bf86e60a8ee">_off</a>; }
<a name="l00667"></a><a class="code" href="classNet_1_1UdpPtr.html#ae6fc8073bc02ff3fd03030e0936d56eb">00667</a>     <span class="keywordtype">int</span> <a class="code" href="classNet_1_1UdpPtr.html#ae6fc8073bc02ff3fd03030e0936d56eb">pstart</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classNet_1_1UdpPtr.html#a81fa7ab0c6e92d4496ee915a8a3705f9">off</a>() + <span class="keyword">get</span>()-&gt;size(); }
<a name="l00668"></a>00668 };
<a name="l00669"></a>00669 
<a name="l00670"></a>00670 uint16_t <a class="code" href="namespaceNet.html#ac143008a44a1456ad6b820780ca5980e">__tu_cksum6</a>(<span class="keyword">const</span> Ip6Ptr &amp;<a class="code" href="namespaceMipsISA.html#a4c627576c8807b5e6378b05b8d3b7489">ip6</a>);
<a name="l00671"></a>00671 uint16_t <a class="code" href="namespaceNet.html#aa160b2c868a18f1793e719a750f41891">__tu_cksum</a>(<span class="keyword">const</span> IpPtr &amp;<a class="code" href="namespaceiGbReg_1_1TxdOp.html#a95c40243f7e4760653e10ce95673f381">ip</a>);
<a name="l00672"></a>00672 uint16_t <a class="code" href="namespaceNet.html#a7c7758a7af16c9b808dcb8ddf7aa1a34">cksum</a>(<span class="keyword">const</span> UdpPtr &amp;ptr);
<a name="l00673"></a>00673 
<a name="l00674"></a>00674 <span class="keywordtype">int</span> <a class="code" href="namespaceNet.html#a7e50a230aeed27f50f5dd05a5768c74c">hsplit</a>(<span class="keyword">const</span> <a class="code" href="classRefCountingPtr.html">EthPacketPtr</a> &amp;ptr);
<a name="l00675"></a>00675 
<a name="l00676"></a>00676 } <span class="comment">// namespace Net</span>
<a name="l00677"></a>00677 
<a name="l00678"></a>00678 <span class="preprocessor">#endif // __BASE_INET_HH__</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
