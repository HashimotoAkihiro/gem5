\hypertarget{symtest_8cc}{
\section{unittest/symtest.cc}
\label{symtest_8cc}\index{unittest/symtest.cc@{unittest/symtest.cc}}
}
{\ttfamily \#include $<$iostream$>$}\par
{\ttfamily \#include \char`\"{}base/loader/symtab.hh\char`\"{}}\par
{\ttfamily \#include \char`\"{}base/str.hh\char`\"{}}\par
\subsection*{関数}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{symtest_8cc_a344d486e700dcf6a2021be7ccd6f118a}{usage} (const char $\ast$\hyperlink{initest_8cc_ab9e1449fd00c98428516f0b41eddcb10}{progname})
\item 
int \hyperlink{symtest_8cc_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{関数}
\hypertarget{symtest_8cc_a0ddf1224851353fc92bfbff6f499fa97}{
\index{symtest.cc@{symtest.cc}!main@{main}}
\index{main@{main}!symtest.cc@{symtest.cc}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (int {\em argc}, \/  char $\ast$ {\em argv}\mbox{[}$\,$\mbox{]})}}
\label{symtest_8cc_a0ddf1224851353fc92bfbff6f499fa97}



\begin{DoxyCode}
50 {
51     SymbolTable symtab;
52 
53     if (argc != 3)
54         usage(argv[0]);
55 
56     if (!symtab.load(argv[1])) {
57         cout << "could not load symbol file: " << argv[1] << endl;
58         exit(1);
59     }
60 
61     string symbol = argv[2];
62     Addr address;
63 
64     if (!to_number(symbol, address)) {
65         if (!symtab.findAddress(symbol, address)) {
66             cout << "could not find symbol: " << symbol << endl;
67             exit(1);
68         }
69 
70         cout << symbol << " -> " << "0x" << hex << address << endl;
71     } else {
72         if (!symtab.findSymbol(address, symbol)) {
73             cout << "could not find address: " << address << endl;
74             exit(1);
75         }
76 
77         cout << "0x" << hex << address << " -> " << symbol<< endl;
78     }
79 
80     return 0;
81 }
\end{DoxyCode}
\hypertarget{symtest_8cc_a344d486e700dcf6a2021be7ccd6f118a}{
\index{symtest.cc@{symtest.cc}!usage@{usage}}
\index{usage@{usage}!symtest.cc@{symtest.cc}}
\subsubsection[{usage}]{\setlength{\rightskip}{0pt plus 5cm}void usage (const char $\ast$ {\em progname})}}
\label{symtest_8cc_a344d486e700dcf6a2021be7ccd6f118a}



\begin{DoxyCode}
42 {
43     cout << "Usage: " << progname << " <symbol file> <symbol>" << endl;
44 
45     exit(1);
46 }
\end{DoxyCode}
