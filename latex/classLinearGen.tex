\hypertarget{classLinearGen}{
\section{クラス LinearGen}
\label{classLinearGen}\index{LinearGen@{LinearGen}}
}


{\ttfamily \#include $<$generators.hh$>$}LinearGenに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2cm]{classLinearGen}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLinearGen_a8b696a23a093c2b9afcdf1826af1966a}{LinearGen} (const std::string \&\hyperlink{classBaseGen_a1b003dc5cfce1a4d8f9a0c4b9b589045}{\_\-name}, \hyperlink{request_8hh_ac366b729262fd8e7cbd3283da6f775cf}{MasterID} master\_\-id, \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \_\-duration, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} start\_\-addr, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} end\_\-addr, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \_\-blocksize, \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} min\_\-period, \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} max\_\-period, uint8\_\-t read\_\-percent, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} data\_\-limit)
\item 
void \hyperlink{classLinearGen_a2759dad6560aaf485b16356d7142d69d}{enter} ()
\item 
\hyperlink{classPacket}{PacketPtr} \hyperlink{classLinearGen_a938aa9841a9a62a776afbd0768af5379}{getNextPacket} ()
\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classLinearGen_a65f805b54c24ac3ce0a37716de3e8abc}{nextPacketTick} (bool elastic, \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} delay) const 
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classLinearGen_a6aeb968ddd05c079215ef147ed22708a}{startAddr}
\item 
const \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classLinearGen_a1f198116a3da3ee4d73abf4760f70815}{endAddr}
\item 
const \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classLinearGen_aebddb11d20f173e7a5ec2c9f2f591171}{blocksize}
\item 
const \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classLinearGen_a4e49eae3c2467df5de83a296f8123619}{minPeriod}
\item 
const \hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classLinearGen_a1c8c13cc371c24fa5cbb14c737c97f9d}{maxPeriod}
\item 
const uint8\_\-t \hyperlink{classLinearGen_af72793641cb115852317a23ca19dc514}{readPercent}
\item 
const \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classLinearGen_ad6ef2f2a9a6167b2d84c3246a2dd2e92}{dataLimit}
\item 
\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classLinearGen_a76968ef2ad8d208fe33cfb493986e85a}{nextAddr}
\item 
\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classLinearGen_a708cc056d3a52d0f8f5a2cceffdc6d99}{dataManipulated}
\end{DoxyCompactItemize}


\subsection{説明}
The linear generator generates sequential requests from a start to an end address, with a fixed block size. A fraction of the requests are reads, as determined by the read percent. There is an optional data limit for when to stop generating new requests. 

\subsection{コンストラクタとデストラクタ}
\hypertarget{classLinearGen_a8b696a23a093c2b9afcdf1826af1966a}{
\index{LinearGen@{LinearGen}!LinearGen@{LinearGen}}
\index{LinearGen@{LinearGen}!LinearGen@{LinearGen}}
\subsubsection[{LinearGen}]{\setlength{\rightskip}{0pt plus 5cm}{\bf LinearGen} (const std::string \& {\em \_\-name}, \/  {\bf MasterID} {\em master\_\-id}, \/  {\bf Tick} {\em \_\-duration}, \/  {\bf Addr} {\em start\_\-addr}, \/  {\bf Addr} {\em end\_\-addr}, \/  {\bf Addr} {\em \_\-blocksize}, \/  {\bf Tick} {\em min\_\-period}, \/  {\bf Tick} {\em max\_\-period}, \/  uint8\_\-t {\em read\_\-percent}, \/  {\bf Addr} {\em data\_\-limit})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classLinearGen_a8b696a23a093c2b9afcdf1826af1966a}
Create a linear address sequence generator. \hyperlink{classSet}{Set} min\_\-period == max\_\-period for a fixed inter-\/transaction time.


\begin{DoxyParams}{引数}
\item[{\em \_\-name}]Name to use for status and debug \item[{\em master\_\-id}]MasterID set on each request \item[{\em \_\-duration}]duration of this state before transitioning \item[{\em start\_\-addr}]Start address \item[{\em end\_\-addr}]End address \item[{\em \_\-blocksize}]Size used for transactions injected \item[{\em min\_\-period}]Lower limit of random inter-\/transaction time \item[{\em max\_\-period}]Upper limit of random inter-\/transaction time \item[{\em read\_\-percent}]Percent of transactions that are reads \item[{\em data\_\-limit}]Upper limit on how much data to read/write \end{DoxyParams}



\begin{DoxyCode}
189         : BaseGen(_name, master_id, _duration),
190           startAddr(start_addr), endAddr(end_addr),
191           blocksize(_blocksize), minPeriod(min_period),
192           maxPeriod(max_period), readPercent(read_percent),
193           dataLimit(data_limit)
194     { }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classLinearGen_a2759dad6560aaf485b16356d7142d69d}{
\index{LinearGen@{LinearGen}!enter@{enter}}
\index{enter@{enter}!LinearGen@{LinearGen}}
\subsubsection[{enter}]{\setlength{\rightskip}{0pt plus 5cm}void enter ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classLinearGen_a2759dad6560aaf485b16356d7142d69d}
Enter this generator state. 

\hyperlink{classBaseGen_ac51895063c53dfbc0f47a01940a3aa05}{BaseGen}を実装しています。


\begin{DoxyCode}
76 {
77     // reset the address and the data counter
78     nextAddr = startAddr;
79     dataManipulated = 0;
80 }
\end{DoxyCode}
\hypertarget{classLinearGen_a938aa9841a9a62a776afbd0768af5379}{
\index{LinearGen@{LinearGen}!getNextPacket@{getNextPacket}}
\index{getNextPacket@{getNextPacket}!LinearGen@{LinearGen}}
\subsubsection[{getNextPacket}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PacketPtr} getNextPacket ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classLinearGen_a938aa9841a9a62a776afbd0768af5379}
Get the next generated packet.

\begin{DoxyReturn}{戻り値}
A packet to be sent at the current tick 
\end{DoxyReturn}


\hyperlink{classBaseGen_a6cdb7c977e91dfc33aeea10a3dfcefed}{BaseGen}を実装しています。


\begin{DoxyCode}
84 {
85     // choose if we generate a read or a write here
86     bool isRead = readPercent != 0 &&
87         (readPercent == 100 || random_mt.random<uint8_t>(0, 100) < readPercent);
88 
89     assert((readPercent == 0 && !isRead) || (readPercent == 100 && isRead) ||
90            readPercent != 100);
91 
92     DPRINTF(TrafficGen, "LinearGen::getNextPacket: %c to addr %x, size %d\n",
93             isRead ? 'r' : 'w', nextAddr, blocksize);
94 
95     // Add the amount of data manipulated to the total
96     dataManipulated += blocksize;
97 
98     PacketPtr pkt = getPacket(nextAddr, blocksize,
99                               isRead ? MemCmd::ReadReq : MemCmd::WriteReq);
100 
101     // increment the address
102     nextAddr += blocksize;
103 
104     // If we have reached the end of the address space, reset the
105     // address to the start of the range
106     if (nextAddr > endAddr) {
107         DPRINTF(TrafficGen, "Wrapping address to the start of "
108                 "the range\n");
109         nextAddr = startAddr;
110     }
111 
112     return pkt;
113 }
\end{DoxyCode}
\hypertarget{classLinearGen_a65f805b54c24ac3ce0a37716de3e8abc}{
\index{LinearGen@{LinearGen}!nextPacketTick@{nextPacketTick}}
\index{nextPacketTick@{nextPacketTick}!LinearGen@{LinearGen}}
\subsubsection[{nextPacketTick}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} nextPacketTick (bool {\em elastic}, \/  {\bf Tick} {\em delay}) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classLinearGen_a65f805b54c24ac3ce0a37716de3e8abc}
Determine the tick when the next packet is available. MaxTick means that there will not be any further packets in the current activation cycle of the generator.


\begin{DoxyParams}{引数}
\item[{\em elastic}]should the injection respond to flow control or not \item[{\em delay}]time the previous packet spent waiting \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
next tick when a packet is available 
\end{DoxyReturn}


\hyperlink{classBaseGen_abee7e4d35054bbc37e9332bbd17f4a69}{BaseGen}を実装しています。


\begin{DoxyCode}
117 {
118     // Check to see if we have reached the data limit. If dataLimit is
119     // zero we do not have a data limit and therefore we will keep
120     // generating requests for the entire residency in this state.
121     if (dataLimit && dataManipulated >= dataLimit) {
122         DPRINTF(TrafficGen, "Data limit for LinearGen reached.\n");
123         // there are no more requests, therefore return MaxTick
124         return MaxTick;
125     } else {
126         // return the time when the next request should take place
127         Tick wait = random_mt.random<Tick>(minPeriod, maxPeriod);
128 
129         // compensate for the delay experienced to not be elastic, by
130         // default the value we generate is from the time we are
131         // asked, so the elasticity happens automatically
132         if (!elastic) {
133             if (wait < delay)
134                 wait = 0;
135             else
136                 wait -= delay;
137         }
138 
139         return curTick() + wait;
140     }
141 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classLinearGen_aebddb11d20f173e7a5ec2c9f2f591171}{
\index{LinearGen@{LinearGen}!blocksize@{blocksize}}
\index{blocksize@{blocksize}!LinearGen@{LinearGen}}
\subsubsection[{blocksize}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Addr} {\bf blocksize}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLinearGen_aebddb11d20f173e7a5ec2c9f2f591171}
Blocksize and address increment \hypertarget{classLinearGen_ad6ef2f2a9a6167b2d84c3246a2dd2e92}{
\index{LinearGen@{LinearGen}!dataLimit@{dataLimit}}
\index{dataLimit@{dataLimit}!LinearGen@{LinearGen}}
\subsubsection[{dataLimit}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Addr} {\bf dataLimit}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLinearGen_ad6ef2f2a9a6167b2d84c3246a2dd2e92}
Maximum amount of data to manipulate \hypertarget{classLinearGen_a708cc056d3a52d0f8f5a2cceffdc6d99}{
\index{LinearGen@{LinearGen}!dataManipulated@{dataManipulated}}
\index{dataManipulated@{dataManipulated}!LinearGen@{LinearGen}}
\subsubsection[{dataManipulated}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} {\bf dataManipulated}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLinearGen_a708cc056d3a52d0f8f5a2cceffdc6d99}
Counter to determine the amount of data manipulated. Used to determine if we should continue generating requests. \hypertarget{classLinearGen_a1f198116a3da3ee4d73abf4760f70815}{
\index{LinearGen@{LinearGen}!endAddr@{endAddr}}
\index{endAddr@{endAddr}!LinearGen@{LinearGen}}
\subsubsection[{endAddr}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Addr} {\bf endAddr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLinearGen_a1f198116a3da3ee4d73abf4760f70815}
End of address range \hypertarget{classLinearGen_a1c8c13cc371c24fa5cbb14c737c97f9d}{
\index{LinearGen@{LinearGen}!maxPeriod@{maxPeriod}}
\index{maxPeriod@{maxPeriod}!LinearGen@{LinearGen}}
\subsubsection[{maxPeriod}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Tick} {\bf maxPeriod}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLinearGen_a1c8c13cc371c24fa5cbb14c737c97f9d}
\hypertarget{classLinearGen_a4e49eae3c2467df5de83a296f8123619}{
\index{LinearGen@{LinearGen}!minPeriod@{minPeriod}}
\index{minPeriod@{minPeriod}!LinearGen@{LinearGen}}
\subsubsection[{minPeriod}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Tick} {\bf minPeriod}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLinearGen_a4e49eae3c2467df5de83a296f8123619}
\hyperlink{classRequest}{Request} generation period \hypertarget{classLinearGen_a76968ef2ad8d208fe33cfb493986e85a}{
\index{LinearGen@{LinearGen}!nextAddr@{nextAddr}}
\index{nextAddr@{nextAddr}!LinearGen@{LinearGen}}
\subsubsection[{nextAddr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} {\bf nextAddr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLinearGen_a76968ef2ad8d208fe33cfb493986e85a}
\hyperlink{classAddress}{Address} of next request \hypertarget{classLinearGen_af72793641cb115852317a23ca19dc514}{
\index{LinearGen@{LinearGen}!readPercent@{readPercent}}
\index{readPercent@{readPercent}!LinearGen@{LinearGen}}
\subsubsection[{readPercent}]{\setlength{\rightskip}{0pt plus 5cm}const uint8\_\-t {\bf readPercent}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLinearGen_af72793641cb115852317a23ca19dc514}
Percent of generated transactions that should be reads \hypertarget{classLinearGen_a6aeb968ddd05c079215ef147ed22708a}{
\index{LinearGen@{LinearGen}!startAddr@{startAddr}}
\index{startAddr@{startAddr}!LinearGen@{LinearGen}}
\subsubsection[{startAddr}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Addr} {\bf startAddr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classLinearGen_a6aeb968ddd05c079215ef147ed22708a}
Start of address range 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
cpu/testers/traffic\_\-gen/\hyperlink{generators_8hh}{generators.hh}\item 
cpu/testers/traffic\_\-gen/\hyperlink{generators_8cc}{generators.cc}\end{DoxyCompactItemize}
