\hypertarget{classFullO3CPU}{
\section{クラス テンプレート FullO3CPU$<$ Impl $>$}
\label{classFullO3CPU}\index{FullO3CPU@{FullO3CPU}}
}


{\ttfamily \#include $<$cpu.hh$>$}FullO3CPU$<$ Impl $>$に対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3cm]{classFullO3CPU}
\end{center}
\end{figure}
\subsection*{構成}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classFullO3CPU_1_1ActivateThreadEvent}{ActivateThreadEvent}
\item 
class \hyperlink{classFullO3CPU_1_1DcachePort}{DcachePort}
\item 
class \hyperlink{classFullO3CPU_1_1DeallocateContextEvent}{DeallocateContextEvent}
\item 
class \hyperlink{classFullO3CPU_1_1IcachePort}{IcachePort}
\item 
class \hyperlink{classFullO3CPU_1_1TickEvent}{TickEvent}
\end{DoxyCompactItemize}
\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70b}{Status} \{ \par
\hyperlink{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba2f5f2c4a8c4f4f0519d503dcdfbf55cb}{Running}, 
\hyperlink{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70bad3fa9ae9431d6cb1772f9d9df48cab19}{Idle}, 
\hyperlink{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba185a75df63e845aec97632afd6a34d6a}{Halted}, 
\hyperlink{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba9463ee9b8700258a1019b4b9d2d77a30}{Blocked}, 
\par
\hyperlink{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba2c25b24188e2b53c8706769167a82779}{SwitchedOut}
 \}
\item 
enum \hyperlink{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353d}{StageIdx} \{ \par
\hyperlink{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353da58acaf31e32cdcbea7664d3286a361f4}{FetchIdx}, 
\hyperlink{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353da103b4435764d4d2723ba580aa798e258}{DecodeIdx}, 
\hyperlink{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353daa1e6e6121c69679ec31ba66d1e1397a4}{RenameIdx}, 
\hyperlink{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353dae8242e5f6fe07d4611f47d1908eb01ad}{IEWIdx}, 
\par
\hyperlink{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353dab4e6ff6a24d7c325f21753fe2a827048}{CommitIdx}, 
\hyperlink{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353dad4d98708d468a3805751e2e5d21b0fea}{NumStages}
 \}
\item 
typedef Impl::CPUPol \hyperlink{classFullO3CPU_a622513cd9a0b12a706b26c3320585f92}{CPUPolicy}
\item 
typedef Impl::DynInstPtr \hyperlink{classFullO3CPU_a028ce10889c5f6450239d9e9a7347976}{DynInstPtr}
\item 
typedef Impl::O3CPU \hyperlink{classFullO3CPU_a44622cf06940413482836cb62931ac3f}{O3CPU}
\item 
typedef \hyperlink{structO3ThreadState}{O3ThreadState}$<$ Impl $>$ \hyperlink{classFullO3CPU_a19d73166363cbf2e4ed0ddec44afa8d4}{ImplState}
\item 
typedef \hyperlink{structO3ThreadState}{O3ThreadState}$<$ Impl $>$ \hyperlink{classFullO3CPU_ad5e0f9b655492f45720f8d756f11d3b5}{Thread}
\item 
typedef \hyperlink{classstd_1_1list}{std::list}$<$ \hyperlink{classFullO3CPU_a028ce10889c5f6450239d9e9a7347976}{DynInstPtr} $>$::iterator \hyperlink{classFullO3CPU_a184cb829e22cc656acb41864f68f51ea}{ListIt}
\item 
typedef CPUPolicy::TimeStruct \hyperlink{classFullO3CPU_aa6c328aeb664577b61817285d04f3631}{TimeStruct}
\item 
typedef CPUPolicy::FetchStruct \hyperlink{classFullO3CPU_ae885ff43c757f445563029fd15cdf70c}{FetchStruct}
\item 
typedef CPUPolicy::DecodeStruct \hyperlink{classFullO3CPU_ae7f8b193f518ed524a498ef7ab564902}{DecodeStruct}
\item 
typedef CPUPolicy::RenameStruct \hyperlink{classFullO3CPU_a494521ebae1f8b01fe0ed16320494e6a}{RenameStruct}
\item 
typedef CPUPolicy::IEWStruct \hyperlink{classFullO3CPU_a8ca44c33753253e21ca215123e8b5005}{IEWStruct}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classFullO3CPU_aa8d6265cca6a8e1449d64b99483b1ecc}{FullO3CPU} (DerivO3CPUParams $\ast$params)
\item 
\hyperlink{classFullO3CPU_a6788b6adc1e142f49c6776ba4c85d824}{$\sim$FullO3CPU} ()
\item 
void \hyperlink{classFullO3CPU_a4dc637449366fcdfc4e764cdf12d9b11}{regStats} ()
\item 
void \hyperlink{classFullO3CPU_aa2dab17a363fd4307274d579796adcf7}{regProbePoints} ()
\item 
void \hyperlink{classFullO3CPU_a2d698ff909513b48a1263f8a5440e067}{demapPage} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} vaddr, uint64\_\-t asn)
\item 
void \hyperlink{classFullO3CPU_ac8a36d45a839b07f50b73f1eee119615}{demapInstPage} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} vaddr, uint64\_\-t asn)
\item 
void \hyperlink{classFullO3CPU_a26789603cc94992d18f8ddedfff96acf}{demapDataPage} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} vaddr, uint64\_\-t asn)
\item 
void \hyperlink{classFullO3CPU_a873dd91783f9efb4a590aded1f70d6b0}{tick} ()
\item 
void \hyperlink{classFullO3CPU_a02fd73d861ef2e4aabb38c0c9ff82947}{init} ()
\item 
void \hyperlink{classFullO3CPU_aecc7d8debf54990ffeaaed5bac7d7d81}{startup} ()
\item 
int \hyperlink{classFullO3CPU_a2cf759e627e96ea55f7b91a72d437652}{numActiveThreads} ()
\item 
void \hyperlink{classFullO3CPU_a687aa4600423bb30ecf3bb1da6cd6000}{activateThread} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_ad11d9216ad92d9036ebf37844cf6e706}{deactivateThread} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_abf4dca4fa0a9358ec4ac26ccbf17233b}{insertThread} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a5fd824111bd328c70c3060d121ac5d49}{removeThread} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
virtual \hyperlink{base_2types_8hh_ae1475755791765b8e6f6a8bb091e273e}{Counter} \hyperlink{classFullO3CPU_a7e01d94bb5a6e15fa8c94bcdf276115d}{totalInsts} () const 
\item 
virtual \hyperlink{base_2types_8hh_ae1475755791765b8e6f6a8bb091e273e}{Counter} \hyperlink{classFullO3CPU_a76fa5df6827aaa8fc26deebad97d9e78}{totalOps} () const 
\item 
void \hyperlink{classFullO3CPU_aadedce642b14c1bde1b3281767df99d4}{activateContext} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid, \hyperlink{classCycles}{Cycles} delay)
\item 
void \hyperlink{classFullO3CPU_aed2e2b9af515a66bdde61b85f150856a}{suspendContext} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
bool \hyperlink{classFullO3CPU_a64179a936408228ff1718afd541e230b}{scheduleDeallocateContext} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid, bool remove, \hyperlink{classCycles}{Cycles} delay=\hyperlink{classCycles}{Cycles}(1))
\item 
void \hyperlink{classFullO3CPU_ac2156e0955d5e1ef6e06cd0e2ab218e4}{haltContext} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a47befc2af24481200005f0b9cffab093}{activateWhenReady} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_aa44d4f535cfaf67b335cab7e390a9257}{doContextSwitch} ()
\item 
void \hyperlink{classFullO3CPU_a00247488696e6ff608a2a44673578094}{updateThreadPriority} ()
\item 
bool \hyperlink{classFullO3CPU_a8256d21571cb453f728d6b85e6fc6d15}{isDraining} () const 
\item 
void \hyperlink{classFullO3CPU_a688ca491f5419c29fb81f8235ba1dc13}{serializeThread} (std::ostream \&os, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a5122e6d6fdbdb3cb9ba72ae970f00a9e}{unserializeThread} (\hyperlink{classCheckpoint}{Checkpoint} $\ast$cp, const std::string \&section, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a2d6a2bbae85e604392f43b3418cdec97}{syscall} (int64\_\-t callnum, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
unsigned int \hyperlink{classFullO3CPU_a4e932bfc8aa6dfb998b8496a0f04ace3}{drain} (\hyperlink{classDrainManager}{DrainManager} $\ast$drain\_\-manager)
\item 
void \hyperlink{classFullO3CPU_a8f020d3237536fe007fc488c4125c5d8}{drainResume} ()
\item 
void \hyperlink{classFullO3CPU_a07a52466ac4d8d91cbfb73b9ceb42988}{commitDrained} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
virtual void \hyperlink{classFullO3CPU_a05f299b443f8cc73a93d61572edc0218}{switchOut} ()
\item 
virtual void \hyperlink{classFullO3CPU_ac82d2b8d331b2e8e6854a95d2917dfa2}{takeOverFrom} (\hyperlink{classBaseCPU_1_1BaseCPU}{BaseCPU} $\ast$oldCPU)
\item 
void \hyperlink{classFullO3CPU_ae2e1ccebe596a180f8105d57f9a93645}{verifyMemoryMode} () const 
\item 
\hyperlink{inst__seq_8hh_a258d93d98edaedee089435c19ea2ea2e}{InstSeqNum} \hyperlink{classFullO3CPU_ace86a0dff0fe9648b7221e3a98fb4533}{getAndIncrementInstSeq} ()
\item 
void \hyperlink{classFullO3CPU_a23c9d89f64f4cfd6f48b106b99b119c4}{trap} (\hyperlink{classRefCountingPtr}{Fault} fault, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst)
\item 
\hyperlink{classRefCountingPtr}{Fault} \hyperlink{classFullO3CPU_a3820de4f7e76b56c6d795f27bf49c097}{hwrei} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
bool \hyperlink{classFullO3CPU_a875eebdeba298f450fe84b0a05349afe}{simPalCheck} (int palFunc, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
\hyperlink{classRefCountingPtr}{Fault} \hyperlink{classFullO3CPU_aa2bbcc75bdfc0f2355cd06731e6f5d69}{getInterrupts} ()
\item 
void \hyperlink{classFullO3CPU_ac3b13f31ae4a2de2b647e09c37a10822}{processInterrupts} (\hyperlink{classRefCountingPtr}{Fault} interrupt)
\item 
void \hyperlink{classFullO3CPU_ade0430439247877006d7df950f94918a}{halt} ()
\item 
bool \hyperlink{classFullO3CPU_af5f6a59bc2ed83b0cf9203ba8c63bf34}{validInstAddr} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} addr)
\item 
bool \hyperlink{classFullO3CPU_afe01e4cef8897b8a4ff99d575875c9db}{validDataAddr} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} addr)
\item 
TheISA::MiscReg \hyperlink{classFullO3CPU_adab97969b95d7b02e858364997dd7968}{readMiscRegNoEffect} (int misc\_\-reg, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
TheISA::MiscReg \hyperlink{classFullO3CPU_ae9d0992c10f59b8dc47ea56b3a778c32}{readMiscReg} (int misc\_\-reg, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_acd6f1f298148bb7eebfa8c800c4066e2}{setMiscRegNoEffect} (int misc\_\-reg, const TheISA::MiscReg \&val, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a880c4c099ed7676fcbc9f76989e400b7}{setMiscReg} (int misc\_\-reg, const TheISA::MiscReg \&val, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
uint64\_\-t \hyperlink{classFullO3CPU_a21c850cd41ab977a2cf3450fe66ec25a}{readIntReg} (int reg\_\-idx)
\item 
TheISA::FloatReg \hyperlink{classFullO3CPU_a2f97d83baef4fbda00b7f7f62779752f}{readFloatReg} (int reg\_\-idx)
\item 
TheISA::FloatRegBits \hyperlink{classFullO3CPU_a4998e6615f835676762af364eff198e3}{readFloatRegBits} (int reg\_\-idx)
\item 
TheISA::CCReg \hyperlink{classFullO3CPU_ac3d147c535052bfb1f8e8fe0697168d7}{readCCReg} (int reg\_\-idx)
\item 
void \hyperlink{classFullO3CPU_abc264e8ee37c6bd7d7b5759b97c34356}{setIntReg} (int reg\_\-idx, uint64\_\-t val)
\item 
void \hyperlink{classFullO3CPU_ab4fbd29dd25664125eb83aa0d1c45a96}{setFloatReg} (int reg\_\-idx, TheISA::FloatReg val)
\item 
void \hyperlink{classFullO3CPU_ad25b1101e69d1987937252f44c48fb96}{setFloatRegBits} (int reg\_\-idx, TheISA::FloatRegBits val)
\item 
void \hyperlink{classFullO3CPU_ab41bd7f1c28d09676694843602e180b6}{setCCReg} (int reg\_\-idx, TheISA::CCReg val)
\item 
uint64\_\-t \hyperlink{classFullO3CPU_a804e1580f078efbacee5689c6a922743}{readArchIntReg} (int reg\_\-idx, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
float \hyperlink{classFullO3CPU_adaf99a897128e25170e65323b1a5e342}{readArchFloatReg} (int reg\_\-idx, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
uint64\_\-t \hyperlink{classFullO3CPU_a60141decbd780846e6669adf59970db1}{readArchFloatRegInt} (int reg\_\-idx, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
TheISA::CCReg \hyperlink{classFullO3CPU_a58ef256fe449eed12535745bd734f4ef}{readArchCCReg} (int reg\_\-idx, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a09df95cc1f92c9002cd7c0506e2ba864}{setArchIntReg} (int reg\_\-idx, uint64\_\-t val, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_ac527b87a643907df19ca5f4600200382}{setArchFloatReg} (int reg\_\-idx, float val, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a1295e65a7841d7e83a5f3a3c44770c8f}{setArchFloatRegInt} (int reg\_\-idx, uint64\_\-t val, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_aae7106b0574d000f60ebacc2f938fe62}{setArchCCReg} (int reg\_\-idx, TheISA::CCReg val, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a3b836956ac0c48ddf740167753bded14}{pcState} (const TheISA::PCState \&newPCState, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
TheISA::PCState \hyperlink{classFullO3CPU_af486ac7476906f63fc6696b3e76a411b}{pcState} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classFullO3CPU_afae6152cf4b3a51162d6e64247c1ac09}{instAddr} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
\hyperlink{base_2types_8hh_adfb4d8b20c5abc8be73dd367b16f2d57}{MicroPC} \hyperlink{classFullO3CPU_aa295441afc0fa8f449dc1a0cb7c7b994}{microPC} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{classFullO3CPU_af1caba1f04cf2802d742d1a16b961e79}{nextInstAddr} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_ac4c7a18be5c282d711310ffb7b6f82f7}{squashFromTC} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
\hyperlink{classFullO3CPU_a184cb829e22cc656acb41864f68f51ea}{ListIt} \hyperlink{classFullO3CPU_ac6e8e55d456fb0d761c64063087d298a}{addInst} (\hyperlink{classFullO3CPU_a028ce10889c5f6450239d9e9a7347976}{DynInstPtr} \&inst)
\item 
void \hyperlink{classFullO3CPU_a4edfd60ed9beaf439e83cfda0ba130e7}{instDone} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid, \hyperlink{classFullO3CPU_a028ce10889c5f6450239d9e9a7347976}{DynInstPtr} \&inst)
\item 
void \hyperlink{classFullO3CPU_a6f40adbce5903c52e6460ab8c17489ef}{removeFrontInst} (\hyperlink{classFullO3CPU_a028ce10889c5f6450239d9e9a7347976}{DynInstPtr} \&inst)
\item 
void \hyperlink{classFullO3CPU_a37bf3e194e9e98e4e7366e35fb6ebf49}{removeInstsNotInROB} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a79f7e36d4bd89fe4528b665a949a0023}{removeInstsUntil} (const \hyperlink{inst__seq_8hh_a258d93d98edaedee089435c19ea2ea2e}{InstSeqNum} \&seq\_\-num, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a2b698a48b0c233f49e2994bc28dc0bbf}{squashInstIt} (const \hyperlink{classFullO3CPU_a184cb829e22cc656acb41864f68f51ea}{ListIt} \&instIt, \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a7bc351a2a79efb6dc9f88f8a6a2ed33c}{cleanUpRemovedInsts} ()
\item 
void \hyperlink{classFullO3CPU_a80587b4fe043bbe1995536cb3b361588}{dumpInsts} ()
\item 
void \hyperlink{classFullO3CPU_ad7e5c2506873e8dc8c71740ac6dabb23}{activityThisCycle} ()
\item 
void \hyperlink{classFullO3CPU_a631f1fd5f15efc2953529efa22868bcd}{activateStage} (const \hyperlink{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353d}{StageIdx} idx)
\item 
void \hyperlink{classFullO3CPU_a9ebbaf1718ed44d77051269c9734f6ae}{deactivateStage} (const \hyperlink{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353d}{StageIdx} idx)
\item 
void \hyperlink{classFullO3CPU_abce3a63b123f84972e4df7962f9b870e}{wakeCPU} ()
\item 
virtual void \hyperlink{classFullO3CPU_ae674290a26ecbd622c5160e38e8a4fe9}{wakeup} ()
\item 
\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} \hyperlink{classFullO3CPU_a64117a0245250fc5be941e729bedcc03}{getFreeTid} ()
\item 
\hyperlink{classThreadContext}{ThreadContext} $\ast$ \hyperlink{classFullO3CPU_acaae0f849591d618f1c202e5ed29b4e4}{tcBase} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
\hyperlink{classRefCountingPtr}{Fault} \hyperlink{classFullO3CPU_a0bdeb74163a7a4d65b7773897ef8eb09}{read} (\hyperlink{classRequest}{RequestPtr} \&req, \hyperlink{classRequest}{RequestPtr} \&sreqLow, \hyperlink{classRequest}{RequestPtr} \&sreqHigh, uint8\_\-t $\ast$data, int load\_\-idx)
\item 
\hyperlink{classRefCountingPtr}{Fault} \hyperlink{classFullO3CPU_a43e0f9eec34726914d8eb76f5d884cc8}{write} (\hyperlink{classRequest}{RequestPtr} \&req, \hyperlink{classRequest}{RequestPtr} \&sreqLow, \hyperlink{classRequest}{RequestPtr} \&sreqHigh, uint8\_\-t $\ast$data, int store\_\-idx)
\item 
virtual \hyperlink{classMasterPort}{MasterPort} \& \hyperlink{classFullO3CPU_a40da530cb5dd380fd7fc0d786e94d5eb}{getInstPort} ()
\item 
virtual \hyperlink{classMasterPort}{MasterPort} \& \hyperlink{classFullO3CPU_aeea6b55ae1c4be53c21dbee434b221d4}{getDataPort} ()
\end{DoxyCompactItemize}
\subsection*{Public 変数}
\begin{DoxyCompactItemize}
\item 
TheISA::TLB $\ast$ \hyperlink{classFullO3CPU_abcb37ddc11515555d8484702697bc4bb}{itb}
\item 
TheISA::TLB $\ast$ \hyperlink{classFullO3CPU_ad2fd039621f87592c4b344d4f8948e78}{dtb}
\begin{DoxyCompactList}\small\item\em choose inline that I chose dtb,itb is Data and Instructino TLB. \item\end{DoxyCompactList}\item 
\hyperlink{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70b}{Status} \hyperlink{classFullO3CPU_a6cdf6e6db875a442f3ab6db542bd2bb5}{\_\-status}
\item 
\hyperlink{classProbePointArg}{ProbePointArg}$<$ \hyperlink{classPacket}{PacketPtr} $>$ $\ast$ \hyperlink{classFullO3CPU_aa39ae53643b00bc644caa5967b8a428a}{ppInstAccessComplete}
\item 
\hyperlink{classProbePointArg}{ProbePointArg}$<$ \hyperlink{classstd_1_1pair}{std::pair}$<$ \hyperlink{classFullO3CPU_a028ce10889c5f6450239d9e9a7347976}{DynInstPtr}, \hyperlink{classPacket}{PacketPtr} $>$ $>$ $\ast$ \hyperlink{classFullO3CPU_a4cbcb5b1a3968d3e5229656571604ba5}{ppDataAccessComplete}
\item 
int \hyperlink{classFullO3CPU_a19e374b98940ff65bd4d9d17f198738c}{instcount}
\item 
\hyperlink{classstd_1_1list}{std::list}$<$ \hyperlink{classFullO3CPU_a028ce10889c5f6450239d9e9a7347976}{DynInstPtr} $>$ \hyperlink{classFullO3CPU_ae10a391d02ce1ef67ee13cd82b7d46e5}{instList}
\item 
std::queue$<$ \hyperlink{classFullO3CPU_a184cb829e22cc656acb41864f68f51ea}{ListIt} $>$ \hyperlink{classFullO3CPU_a574cb1bed7660bb2bb6940365f6a3315}{removeList}
\item 
bool \hyperlink{classFullO3CPU_a2825a91132fe292d64dca3c61fd07410}{removeInstsThisCycle}
\item 
\hyperlink{classTimeBuffer}{TimeBuffer}$<$ \hyperlink{structTimeStruct}{TimeStruct} $>$ \hyperlink{classFullO3CPU_ad72b6568a4a40f54d071c31bef16bf2e}{timeBuffer}
\item 
\hyperlink{classTimeBuffer}{TimeBuffer}$<$ \hyperlink{classFullO3CPU_ae885ff43c757f445563029fd15cdf70c}{FetchStruct} $>$ \hyperlink{classFullO3CPU_a0b4f1aa3830d6db3cb15a9a46c531cc2}{fetchQueue}
\item 
\hyperlink{classTimeBuffer}{TimeBuffer}$<$ \hyperlink{classFullO3CPU_ae7f8b193f518ed524a498ef7ab564902}{DecodeStruct} $>$ \hyperlink{classFullO3CPU_a8c674fbc9b0625a2231b669aceb0dd73}{decodeQueue}
\item 
\hyperlink{classTimeBuffer}{TimeBuffer}$<$ \hyperlink{classFullO3CPU_a494521ebae1f8b01fe0ed16320494e6a}{RenameStruct} $>$ \hyperlink{classFullO3CPU_ae590391fe7915c744cde571b7d15d893}{renameQueue}
\item 
\hyperlink{classTimeBuffer}{TimeBuffer}$<$ \hyperlink{classFullO3CPU_a8ca44c33753253e21ca215123e8b5005}{IEWStruct} $>$ \hyperlink{classFullO3CPU_a9429710408b27da398dc15a2eb80b9fc}{iewQueue}
\item 
\hyperlink{inst__seq_8hh_a258d93d98edaedee089435c19ea2ea2e}{InstSeqNum} \hyperlink{classFullO3CPU_a5f72a799d8b189b4fccda3cde457145e}{globalSeqNum}
\item 
\hyperlink{classChecker}{Checker}$<$ Impl $>$ $\ast$ \hyperlink{classFullO3CPU_a85ab02c76c80bbfce7b3ce7981c55f68}{checker}
\item 
\hyperlink{classSystem}{System} $\ast$ \hyperlink{classFullO3CPU_af27ccd765f13a4b7bd119dc7579e2746}{system}
\item 
\hyperlink{classDrainManager}{DrainManager} $\ast$ \hyperlink{classFullO3CPU_a329b71fb934a93312ca0aacbf5a3f982}{drainManager}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{structO3ThreadState}{Thread} $\ast$ $>$ \hyperlink{classFullO3CPU_afe9da004c5a3f37cbb72fa3763d4c0d1}{thread}
\item 
bool \hyperlink{classFullO3CPU_a4fd841dc8d29605dc13a120cc5a9b438}{contextSwitch}
\item 
\hyperlink{classstd_1_1list}{std::list}$<$ int $>$ \hyperlink{classFullO3CPU_a11435331f730084ec731d6f88c255290}{cpuWaitList}
\item 
\hyperlink{classCycles}{Cycles} \hyperlink{classFullO3CPU_a88989147c1b0b4ccba38fa941722ce5d}{lastRunningCycle}
\item 
\hyperlink{base_2types_8hh_a5c8ed81b7d238c9083e1037ba6d61643}{Tick} \hyperlink{classFullO3CPU_af81ed3d351dcefbd5ca122147676af22}{lastActivatedCycle}
\item 
std::map$<$ \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID}, unsigned $>$ \hyperlink{classFullO3CPU_a08db914bbe37a5fa8c008248fa9647f6}{threadMap}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} $>$ \hyperlink{classFullO3CPU_a457642e81692e24e601ec32c778042a2}{tids}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classFullO3CPU_a174dbfb3c7b892914a54cec44ed2eeaf}{timesIdled}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classFullO3CPU_a42e0f4c18fdb8ef7504f5c45d697fb14}{idleCycles}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classFullO3CPU_abb746a633705067014bd46e175928a51}{quiesceCycles}
\item 
\hyperlink{classStats_1_1Vector}{Stats::Vector} \hyperlink{classFullO3CPU_a45901e46dca5846ddd857aecbee16645}{committedInsts}
\item 
\hyperlink{classStats_1_1Vector}{Stats::Vector} \hyperlink{classFullO3CPU_a16789fd9e4f632e091d740c772094f80}{committedOps}
\item 
\hyperlink{classStats_1_1Formula}{Stats::Formula} \hyperlink{classFullO3CPU_af68d211cace2daa3df90471d7af93ad8}{cpi}
\item 
\hyperlink{classStats_1_1Formula}{Stats::Formula} \hyperlink{classFullO3CPU_a5bd2f06c271dd03138cad92251716f5d}{totalCpi}
\item 
\hyperlink{classStats_1_1Formula}{Stats::Formula} \hyperlink{classFullO3CPU_a6f168a31ee4084b6167d6761a4124014}{ipc}
\item 
\hyperlink{classStats_1_1Formula}{Stats::Formula} \hyperlink{classFullO3CPU_ae8551f10097f4b2e5ed3febf0d9417e3}{totalIpc}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classFullO3CPU_a46ee31ba135b8a26d7544abb48c242ef}{intRegfileReads}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classFullO3CPU_a0539045bb3599b1c57886d55a19fa2d2}{intRegfileWrites}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classFullO3CPU_a616c93341fb6b23449fcbbab249f2b41}{fpRegfileReads}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classFullO3CPU_ad308a484dfaaaff1d57080527f19f3be}{fpRegfileWrites}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classFullO3CPU_a54d1bb817fb61f8ea36ad3b2063f27c6}{ccRegfileReads}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classFullO3CPU_abd236585eb8f96cd37f7cea04204d456}{ccRegfileWrites}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classFullO3CPU_a587b32e057f5caad670d221c166bda5e}{miscRegfileReads}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{classFullO3CPU_a457c81c9e364d41871df8cb5f04ea1b4}{miscRegfileWrites}
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
CPUPolicy::Fetch \hyperlink{classFullO3CPU_ac41165b4dc11673a5e8f6c8679717c1b}{fetch}
\item 
CPUPolicy::Decode \hyperlink{classFullO3CPU_a21ddb57c5e4f70298cee97ee543e3bdb}{decode}
\item 
CPUPolicy::Rename \hyperlink{classFullO3CPU_a39ad9a464eaaff03051506711d40fc5f}{rename}
\item 
CPUPolicy::IEW \hyperlink{classFullO3CPU_afbb39e841c20e3affe28f4ca3e8c0992}{iew}
\item 
CPUPolicy::Commit \hyperlink{classFullO3CPU_a2cb9d36b31d8d38af97362bb47f6e930}{commit}
\item 
\hyperlink{classPhysRegFile}{PhysRegFile} \hyperlink{classFullO3CPU_aa760a1e4a392e8e5c1dd8ed85b9f56fe}{regFile}
\item 
CPUPolicy::FreeList \hyperlink{classFullO3CPU_ad5655f9bbf3c5b09877a612be7fc6b65}{freeList}
\item 
CPUPolicy::RenameMap \hyperlink{classFullO3CPU_a777805217a21e32ee39d1203bca3da53}{renameMap} \mbox{[}Impl::MaxThreads\mbox{]}
\item 
CPUPolicy::RenameMap \hyperlink{classFullO3CPU_a276327b80d93babf5512b90c6daae5e4}{commitRenameMap} \mbox{[}Impl::MaxThreads\mbox{]}
\item 
CPUPolicy::ROB \hyperlink{classFullO3CPU_ad649787f87175a89806eeccaee4832e9}{rob}
\item 
\hyperlink{classstd_1_1list}{std::list}$<$ \hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} $>$ \hyperlink{classFullO3CPU_ae8939711cc7f6e9c795d16df91f9f258}{activeThreads}
\item 
\hyperlink{classScoreboard}{Scoreboard} \hyperlink{classFullO3CPU_a5e0ec8da05a369f0327b7b78c44faa36}{scoreboard}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ TheISA::ISA $\ast$ $>$ \hyperlink{classFullO3CPU_aa0d8dc5e214b94342d1f730e4e34ae82}{isa}
\item 
\hyperlink{classFullO3CPU_1_1IcachePort}{IcachePort} \hyperlink{classFullO3CPU_a290723656a84b9cc90dfce377af9aad0}{icachePort}
\item 
\hyperlink{classFullO3CPU_1_1DcachePort}{DcachePort} \hyperlink{classFullO3CPU_a38b03978ad7720fdc910ff6a8b44585f}{dcachePort}
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classFullO3CPU_a71eb9ea7b25032de341033111b946dfc}{scheduleTickEvent} (\hyperlink{classCycles}{Cycles} delay)
\item 
void \hyperlink{classFullO3CPU_ad819e7898bd94721d107a35fde764390}{unscheduleTickEvent} ()
\item 
void \hyperlink{classFullO3CPU_a20e502f38206c8cd988064e7bed53bb5}{scheduleActivateThreadEvent} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid, \hyperlink{classCycles}{Cycles} delay)
\item 
void \hyperlink{classFullO3CPU_ae0bacbe9552a4b3a03f2748d2d58b3a2}{unscheduleActivateThreadEvent} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
void \hyperlink{classFullO3CPU_a8c575b3dcfc822888003b64457ac9755}{scheduleDeallocateContextEvent} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid, bool remove, \hyperlink{classCycles}{Cycles} delay)
\item 
void \hyperlink{classFullO3CPU_adce69706fd17d1dca824e60ab0100e8b}{unscheduleDeallocateContextEvent} (\hyperlink{base_2types_8hh_ab39b1a4f9dad884694c7a74ed69e6a6b}{ThreadID} tid)
\item 
bool \hyperlink{classFullO3CPU_a250ca18dfc0316e340eaa2ec45d73c3e}{tryDrain} ()
\item 
void \hyperlink{classFullO3CPU_a0240eb42fa57fe5d3788093f62b77347}{drainSanityCheck} () const 
\item 
bool \hyperlink{classFullO3CPU_adf5473c18a3d7c1e88c4a2072bce5526}{isDrained} () const 
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classFullO3CPU_1_1TickEvent}{TickEvent} \hyperlink{classFullO3CPU_aa36b8e894416f0ec98f701ab08f2ac22}{tickEvent}
\item 
\hyperlink{classFullO3CPU_1_1ActivateThreadEvent}{ActivateThreadEvent} \hyperlink{classFullO3CPU_a2cc2815b59781367286d6a31fc45e9d3}{activateThreadEvent} \mbox{[}Impl::MaxThreads\mbox{]}
\item 
\hyperlink{classFullO3CPU_1_1DeallocateContextEvent}{DeallocateContextEvent} \hyperlink{classFullO3CPU_aaf8ffd47de062d6900cb500a3caccdb5}{deallocateContextEvent} \mbox{[}Impl::MaxThreads\mbox{]}
\item 
\hyperlink{classActivityRecorder}{ActivityRecorder} \hyperlink{classFullO3CPU_ae5ad3ebe67382e7fbc7fddcf48ae9c6c}{activityRec}
\end{DoxyCompactItemize}
\subsection*{フレンド}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classFullO3CPU_a8744c7a2c370330e0f577992900dfb66}{O3ThreadContext$<$ Impl $>$}
\end{DoxyCompactItemize}


\subsection{説明}
\subsubsection*{template$<$class Impl$>$ class FullO3CPU$<$ Impl $>$}

\hyperlink{classFullO3CPU}{FullO3CPU} class, has each of the stages (fetch through commit) within it, as well as all of the time buffers between stages. The \hyperlink{classFullO3CPU_a873dd91783f9efb4a590aded1f70d6b0}{tick()} function for the CPU is defined here. 

\subsection{型定義}
\hypertarget{classFullO3CPU_a622513cd9a0b12a706b26c3320585f92}{
\index{FullO3CPU@{FullO3CPU}!CPUPolicy@{CPUPolicy}}
\index{CPUPolicy@{CPUPolicy}!FullO3CPU@{FullO3CPU}}
\subsubsection[{CPUPolicy}]{\setlength{\rightskip}{0pt plus 5cm}typedef Impl::CPUPol {\bf CPUPolicy}}}
\label{classFullO3CPU_a622513cd9a0b12a706b26c3320585f92}
\hypertarget{classFullO3CPU_ae7f8b193f518ed524a498ef7ab564902}{
\index{FullO3CPU@{FullO3CPU}!DecodeStruct@{DecodeStruct}}
\index{DecodeStruct@{DecodeStruct}!FullO3CPU@{FullO3CPU}}
\subsubsection[{DecodeStruct}]{\setlength{\rightskip}{0pt plus 5cm}typedef CPUPolicy::DecodeStruct {\bf DecodeStruct}}}
\label{classFullO3CPU_ae7f8b193f518ed524a498ef7ab564902}
\hypertarget{classFullO3CPU_a028ce10889c5f6450239d9e9a7347976}{
\index{FullO3CPU@{FullO3CPU}!DynInstPtr@{DynInstPtr}}
\index{DynInstPtr@{DynInstPtr}!FullO3CPU@{FullO3CPU}}
\subsubsection[{DynInstPtr}]{\setlength{\rightskip}{0pt plus 5cm}typedef Impl::DynInstPtr {\bf DynInstPtr}}}
\label{classFullO3CPU_a028ce10889c5f6450239d9e9a7347976}
\hypertarget{classFullO3CPU_ae885ff43c757f445563029fd15cdf70c}{
\index{FullO3CPU@{FullO3CPU}!FetchStruct@{FetchStruct}}
\index{FetchStruct@{FetchStruct}!FullO3CPU@{FullO3CPU}}
\subsubsection[{FetchStruct}]{\setlength{\rightskip}{0pt plus 5cm}typedef CPUPolicy::FetchStruct {\bf FetchStruct}}}
\label{classFullO3CPU_ae885ff43c757f445563029fd15cdf70c}
\hypertarget{classFullO3CPU_a8ca44c33753253e21ca215123e8b5005}{
\index{FullO3CPU@{FullO3CPU}!IEWStruct@{IEWStruct}}
\index{IEWStruct@{IEWStruct}!FullO3CPU@{FullO3CPU}}
\subsubsection[{IEWStruct}]{\setlength{\rightskip}{0pt plus 5cm}typedef CPUPolicy::IEWStruct {\bf IEWStruct}}}
\label{classFullO3CPU_a8ca44c33753253e21ca215123e8b5005}
\hypertarget{classFullO3CPU_a19d73166363cbf2e4ed0ddec44afa8d4}{
\index{FullO3CPU@{FullO3CPU}!ImplState@{ImplState}}
\index{ImplState@{ImplState}!FullO3CPU@{FullO3CPU}}
\subsubsection[{ImplState}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf O3ThreadState}$<$Impl$>$ {\bf ImplState}}}
\label{classFullO3CPU_a19d73166363cbf2e4ed0ddec44afa8d4}
\hypertarget{classFullO3CPU_a184cb829e22cc656acb41864f68f51ea}{
\index{FullO3CPU@{FullO3CPU}!ListIt@{ListIt}}
\index{ListIt@{ListIt}!FullO3CPU@{FullO3CPU}}
\subsubsection[{ListIt}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf std::list}$<${\bf DynInstPtr}$>$::iterator {\bf ListIt}}}
\label{classFullO3CPU_a184cb829e22cc656acb41864f68f51ea}
\hypertarget{classFullO3CPU_a44622cf06940413482836cb62931ac3f}{
\index{FullO3CPU@{FullO3CPU}!O3CPU@{O3CPU}}
\index{O3CPU@{O3CPU}!FullO3CPU@{FullO3CPU}}
\subsubsection[{O3CPU}]{\setlength{\rightskip}{0pt plus 5cm}typedef Impl::O3CPU {\bf O3CPU}}}
\label{classFullO3CPU_a44622cf06940413482836cb62931ac3f}
\hypertarget{classFullO3CPU_a494521ebae1f8b01fe0ed16320494e6a}{
\index{FullO3CPU@{FullO3CPU}!RenameStruct@{RenameStruct}}
\index{RenameStruct@{RenameStruct}!FullO3CPU@{FullO3CPU}}
\subsubsection[{RenameStruct}]{\setlength{\rightskip}{0pt plus 5cm}typedef CPUPolicy::RenameStruct {\bf RenameStruct}}}
\label{classFullO3CPU_a494521ebae1f8b01fe0ed16320494e6a}
\hypertarget{classFullO3CPU_ad5e0f9b655492f45720f8d756f11d3b5}{
\index{FullO3CPU@{FullO3CPU}!Thread@{Thread}}
\index{Thread@{Thread}!FullO3CPU@{FullO3CPU}}
\subsubsection[{Thread}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf O3ThreadState}$<$Impl$>$ {\bf Thread}}}
\label{classFullO3CPU_ad5e0f9b655492f45720f8d756f11d3b5}
\hypertarget{classFullO3CPU_aa6c328aeb664577b61817285d04f3631}{
\index{FullO3CPU@{FullO3CPU}!TimeStruct@{TimeStruct}}
\index{TimeStruct@{TimeStruct}!FullO3CPU@{FullO3CPU}}
\subsubsection[{TimeStruct}]{\setlength{\rightskip}{0pt plus 5cm}typedef CPUPolicy::TimeStruct {\bf TimeStruct}}}
\label{classFullO3CPU_aa6c328aeb664577b61817285d04f3631}
Typedefs from the Impl to get the structs that each of the time buffers should use. 

\subsection{列挙型}
\hypertarget{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353d}{
\index{FullO3CPU@{FullO3CPU}!StageIdx@{StageIdx}}
\index{StageIdx@{StageIdx}!FullO3CPU@{FullO3CPU}}
\subsubsection[{StageIdx}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf StageIdx}}}
\label{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353d}
Enum to give each stage a specific index, so when calling \hyperlink{classFullO3CPU_a631f1fd5f15efc2953529efa22868bcd}{activateStage()} or \hyperlink{classFullO3CPU_a9ebbaf1718ed44d77051269c9734f6ae}{deactivateStage()}, they can specify which stage is being activated/deactivated. \begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{FetchIdx@{FetchIdx}!FullO3CPU@{FullO3CPU}}\index{FullO3CPU@{FullO3CPU}!FetchIdx@{FetchIdx}}\item[{\em 
\hypertarget{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353da58acaf31e32cdcbea7664d3286a361f4}{
FetchIdx}
\label{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353da58acaf31e32cdcbea7664d3286a361f4}
}]\index{DecodeIdx@{DecodeIdx}!FullO3CPU@{FullO3CPU}}\index{FullO3CPU@{FullO3CPU}!DecodeIdx@{DecodeIdx}}\item[{\em 
\hypertarget{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353da103b4435764d4d2723ba580aa798e258}{
DecodeIdx}
\label{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353da103b4435764d4d2723ba580aa798e258}
}]\index{RenameIdx@{RenameIdx}!FullO3CPU@{FullO3CPU}}\index{FullO3CPU@{FullO3CPU}!RenameIdx@{RenameIdx}}\item[{\em 
\hypertarget{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353daa1e6e6121c69679ec31ba66d1e1397a4}{
RenameIdx}
\label{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353daa1e6e6121c69679ec31ba66d1e1397a4}
}]\index{IEWIdx@{IEWIdx}!FullO3CPU@{FullO3CPU}}\index{FullO3CPU@{FullO3CPU}!IEWIdx@{IEWIdx}}\item[{\em 
\hypertarget{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353dae8242e5f6fe07d4611f47d1908eb01ad}{
IEWIdx}
\label{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353dae8242e5f6fe07d4611f47d1908eb01ad}
}]\index{CommitIdx@{CommitIdx}!FullO3CPU@{FullO3CPU}}\index{FullO3CPU@{FullO3CPU}!CommitIdx@{CommitIdx}}\item[{\em 
\hypertarget{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353dab4e6ff6a24d7c325f21753fe2a827048}{
CommitIdx}
\label{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353dab4e6ff6a24d7c325f21753fe2a827048}
}]\index{NumStages@{NumStages}!FullO3CPU@{FullO3CPU}}\index{FullO3CPU@{FullO3CPU}!NumStages@{NumStages}}\item[{\em 
\hypertarget{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353dad4d98708d468a3805751e2e5d21b0fea}{
NumStages}
\label{classFullO3CPU_ad8ae6b222928fd7316fcf1f9f233353dad4d98708d468a3805751e2e5d21b0fea}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
706                   {
707         FetchIdx,
708         DecodeIdx,
709         RenameIdx,
710         IEWIdx,
711         CommitIdx,
712         NumStages };
\end{DoxyCode}
\hypertarget{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70b}{
\index{FullO3CPU@{FullO3CPU}!Status@{Status}}
\index{Status@{Status}!FullO3CPU@{FullO3CPU}}
\subsubsection[{Status}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Status}}}
\label{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70b}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{Running@{Running}!FullO3CPU@{FullO3CPU}}\index{FullO3CPU@{FullO3CPU}!Running@{Running}}\item[{\em 
\hypertarget{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba2f5f2c4a8c4f4f0519d503dcdfbf55cb}{
Running}
\label{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba2f5f2c4a8c4f4f0519d503dcdfbf55cb}
}]\index{Idle@{Idle}!FullO3CPU@{FullO3CPU}}\index{FullO3CPU@{FullO3CPU}!Idle@{Idle}}\item[{\em 
\hypertarget{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70bad3fa9ae9431d6cb1772f9d9df48cab19}{
Idle}
\label{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70bad3fa9ae9431d6cb1772f9d9df48cab19}
}]\index{Halted@{Halted}!FullO3CPU@{FullO3CPU}}\index{FullO3CPU@{FullO3CPU}!Halted@{Halted}}\item[{\em 
\hypertarget{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba185a75df63e845aec97632afd6a34d6a}{
Halted}
\label{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba185a75df63e845aec97632afd6a34d6a}
}]\index{Blocked@{Blocked}!FullO3CPU@{FullO3CPU}}\index{FullO3CPU@{FullO3CPU}!Blocked@{Blocked}}\item[{\em 
\hypertarget{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba9463ee9b8700258a1019b4b9d2d77a30}{
Blocked}
\label{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba9463ee9b8700258a1019b4b9d2d77a30}
}]\index{SwitchedOut@{SwitchedOut}!FullO3CPU@{FullO3CPU}}\index{FullO3CPU@{FullO3CPU}!SwitchedOut@{SwitchedOut}}\item[{\em 
\hypertarget{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba2c25b24188e2b53c8706769167a82779}{
SwitchedOut}
\label{classFullO3CPU_a67a0db04d321a74b7e7fcfd3f1a3f70ba2c25b24188e2b53c8706769167a82779}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
114                 {
115         Running,
116         Idle,
117         Halted,
118         Blocked,
119         SwitchedOut
120     };
\end{DoxyCode}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classFullO3CPU_aa8d6265cca6a8e1449d64b99483b1ecc}{
\index{FullO3CPU@{FullO3CPU}!FullO3CPU@{FullO3CPU}}
\index{FullO3CPU@{FullO3CPU}!FullO3CPU@{FullO3CPU}}
\subsubsection[{FullO3CPU}]{\setlength{\rightskip}{0pt plus 5cm}{\bf FullO3CPU} (DerivO3CPUParams $\ast$ {\em params})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_aa8d6265cca6a8e1449d64b99483b1ecc}
Constructs a CPU with the given parameters. 


\begin{DoxyCode}
213     : BaseO3CPU(params),
214       itb(params->itb),
215       dtb(params->dtb),
216       tickEvent(this),
217 #ifndef NDEBUG
218       instcount(0),
219 #endif
220       removeInstsThisCycle(false),
221       fetch(this, params),
222       decode(this, params),
223       rename(this, params),
224       iew(this, params),
225       commit(this, params),
226 
227       regFile(params->numPhysIntRegs,
228               params->numPhysFloatRegs,
229               params->numPhysCCRegs),
230 
231       freeList(name() + ".freelist", &regFile),
232 
233       rob(this, params),
234 
235       scoreboard(name() + ".scoreboard",
236                  regFile.totalNumPhysRegs(), TheISA::NumMiscRegs,
237                  TheISA::ZeroReg, TheISA::ZeroReg),
238 
239       isa(numThreads, NULL),
240 
241       icachePort(&fetch, this),
242       dcachePort(&iew.ldstQueue, this),
243 
244       timeBuffer(params->backComSize, params->forwardComSize),
245       fetchQueue(params->backComSize, params->forwardComSize),
246       decodeQueue(params->backComSize, params->forwardComSize),
247       renameQueue(params->backComSize, params->forwardComSize),
248       iewQueue(params->backComSize, params->forwardComSize),
249       activityRec(name(), NumStages,
250                   params->backComSize + params->forwardComSize,
251                   params->activity),
252 
253       globalSeqNum(1),
254       system(params->system),
255       drainManager(NULL),
256       lastRunningCycle(curCycle())
257 {
258     if (!params->switched_out) {
259         _status = Running;
260     } else {
261         _status = SwitchedOut;
262     }
263 
264     if (params->checker) {
265         BaseCPU *temp_checker = params->checker;
266         checker = dynamic_cast<Checker<Impl> *>(temp_checker);
267         checker->setIcachePort(&icachePort);
268         checker->setSystem(params->system);
269     } else {
270         checker = NULL;
271     }
272 
273     if (!FullSystem) {
274         thread.resize(numThreads);
275         tids.resize(numThreads);
276     }
277 
278     // The stages also need their CPU pointer setup.  However this
279     // must be done at the upper level CPU because they have pointers
280     // to the upper level CPU, and not this FullO3CPU.
281 
282     // Set up Pointers to the activeThreads list for each stage
283     fetch.setActiveThreads(&activeThreads);
284     decode.setActiveThreads(&activeThreads);
285     rename.setActiveThreads(&activeThreads);
286     iew.setActiveThreads(&activeThreads);
287     commit.setActiveThreads(&activeThreads);
288 
289     // Give each of the stages the time buffer they will use.
290     fetch.setTimeBuffer(&timeBuffer);
291     decode.setTimeBuffer(&timeBuffer);
292     rename.setTimeBuffer(&timeBuffer);
293     iew.setTimeBuffer(&timeBuffer);
294     commit.setTimeBuffer(&timeBuffer);
295 
296     // Also setup each of the stages' queues.
297     fetch.setFetchQueue(&fetchQueue);
298     decode.setFetchQueue(&fetchQueue);
299     commit.setFetchQueue(&fetchQueue);
300     decode.setDecodeQueue(&decodeQueue);
301     rename.setDecodeQueue(&decodeQueue);
302     rename.setRenameQueue(&renameQueue);
303     iew.setRenameQueue(&renameQueue);
304     iew.setIEWQueue(&iewQueue);
305     commit.setIEWQueue(&iewQueue);
306     commit.setRenameQueue(&renameQueue);
307 
308     commit.setIEWStage(&iew);
309     rename.setIEWStage(&iew);
310     rename.setCommitStage(&commit);
311 
312     ThreadID active_threads;
313     if (FullSystem) {
314         active_threads = 1;
315     } else {
316         active_threads = params->workload.size();
317 
318         if (active_threads > Impl::MaxThreads) {
319             panic("Workload Size too large. Increase the 'MaxThreads' "
320                   "constant in your O3CPU impl. file (e.g. o3/alpha/impl.hh) "
321                   "or edit your workload size.");
322         }
323     }
324 
325     //Make Sure That this a Valid Architeture
326     assert(params->numPhysIntRegs   >= numThreads * TheISA::NumIntRegs);
327     assert(params->numPhysFloatRegs >= numThreads * TheISA::NumFloatRegs);
328     assert(params->numPhysCCRegs >= numThreads * TheISA::NumCCRegs);
329 
330     rename.setScoreboard(&scoreboard);
331     iew.setScoreboard(&scoreboard);
332 
333     // Setup the rename map for whichever stages need it.
334     for (ThreadID tid = 0; tid < numThreads; tid++) {
335         isa[tid] = params->isa[tid];
336 
337         // Only Alpha has an FP zero register, so for other ISAs we
338         // use an invalid FP register index to avoid special treatment
339         // of any valid FP reg.
340         RegIndex invalidFPReg = TheISA::NumFloatRegs + 1;
341         RegIndex fpZeroReg =
342             (THE_ISA == ALPHA_ISA) ? TheISA::ZeroReg : invalidFPReg;
343 
344         commitRenameMap[tid].init(&regFile, TheISA::ZeroReg, fpZeroReg,
345                                   &freeList);
346 
347         renameMap[tid].init(&regFile, TheISA::ZeroReg, fpZeroReg,
348                             &freeList);
349 
350         activateThreadEvent[tid].init(tid, this);
351         deallocateContextEvent[tid].init(tid, this);
352     }
353 
354     // Initialize rename map to assign physical registers to the
355     // architectural registers for active threads only.
356     for (ThreadID tid = 0; tid < active_threads; tid++) {
357         for (RegIndex ridx = 0; ridx < TheISA::NumIntRegs; ++ridx) {
358             // Note that we can't use the rename() method because we don't
359             // want special treatment for the zero register at this point
360             PhysRegIndex phys_reg = freeList.getIntReg();
361             renameMap[tid].setIntEntry(ridx, phys_reg);
362             commitRenameMap[tid].setIntEntry(ridx, phys_reg);
363         }
364 
365         for (RegIndex ridx = 0; ridx < TheISA::NumFloatRegs; ++ridx) {
366             PhysRegIndex phys_reg = freeList.getFloatReg();
367             renameMap[tid].setFloatEntry(ridx, phys_reg);
368             commitRenameMap[tid].setFloatEntry(ridx, phys_reg);
369         }
370 
371         for (RegIndex ridx = 0; ridx < TheISA::NumCCRegs; ++ridx) {
372             PhysRegIndex phys_reg = freeList.getCCReg();
373             renameMap[tid].setCCEntry(ridx, phys_reg);
374             commitRenameMap[tid].setCCEntry(ridx, phys_reg);
375         }
376     }
377 
378     rename.setRenameMap(renameMap);
379     commit.setRenameMap(commitRenameMap);
380     rename.setFreeList(&freeList);
381 
382     // Setup the ROB for whichever stages need it.
383     commit.setROB(&rob);
384 
385     lastActivatedCycle = 0;
386 #if 0
387     // Give renameMap & rename stage access to the freeList;
388     for (ThreadID tid = 0; tid < numThreads; tid++)
389         globalSeqNum[tid] = 1;
390 #endif
391 
392     contextSwitch = false;
393     DPRINTF(O3CPU, "Creating O3CPU object.\n");
394 
395     // Setup any thread state.
396     this->thread.resize(this->numThreads);
397 
398     for (ThreadID tid = 0; tid < this->numThreads; ++tid) {
399         if (FullSystem) {
400             // SMT is not supported in FS mode yet.
401             assert(this->numThreads == 1);
402             this->thread[tid] = new Thread(this, 0, NULL);
403         } else {
404             if (tid < params->workload.size()) {
405                 DPRINTF(O3CPU, "Workload[%i] process is %#x",
406                         tid, this->thread[tid]);
407                 this->thread[tid] = new typename FullO3CPU<Impl>::Thread(
408                         (typename Impl::O3CPU *)(this),
409                         tid, params->workload[tid]);
410 
411                 //usedTids[tid] = true;
412                 //threadMap[tid] = tid;
413             } else {
414                 //Allocate Empty thread so M5 can use later
415                 //when scheduling threads to CPU
416                 Process* dummy_proc = NULL;
417 
418                 this->thread[tid] = new typename FullO3CPU<Impl>::Thread(
419                         (typename Impl::O3CPU *)(this),
420                         tid, dummy_proc);
421                 //usedTids[tid] = false;
422             }
423         }
424 
425         ThreadContext *tc;
426 
427         // Setup the TC that will serve as the interface to the threads/CPU.
428         O3ThreadContext<Impl> *o3_tc = new O3ThreadContext<Impl>;
429 
430         tc = o3_tc;
431 
432         // If we're using a checker, then the TC should be the
433         // CheckerThreadContext.
434         if (params->checker) {
435             tc = new CheckerThreadContext<O3ThreadContext<Impl> >(
436                 o3_tc, this->checker);
437         }
438 
439         o3_tc->cpu = (typename Impl::O3CPU *)(this);
440         assert(o3_tc->cpu);
441         o3_tc->thread = this->thread[tid];
442 
443         if (FullSystem) {
444             // Setup quiesce event.
445             this->thread[tid]->quiesceEvent = new EndQuiesceEvent(tc);
446         }
447         // Give the thread the TC.
448         this->thread[tid]->tc = tc;
449 
450         // Add the TC to the CPU's list of TC's.
451         this->threadContexts.push_back(tc);
452     }
453 
454     // FullO3CPU always requires an interrupt controller.
455     if (!params->switched_out && !interrupts) {
456         fatal("FullO3CPU %s has no interrupt controller.\n"
457               "Ensure createInterruptController() is called.\n", name());
458     }
459 
460     for (ThreadID tid = 0; tid < this->numThreads; tid++)
461         this->thread[tid]->setFuncExeInst(0);
462 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a6788b6adc1e142f49c6776ba4c85d824}{
\index{FullO3CPU@{FullO3CPU}!$\sim$FullO3CPU@{$\sim$FullO3CPU}}
\index{$\sim$FullO3CPU@{$\sim$FullO3CPU}!FullO3CPU@{FullO3CPU}}
\subsubsection[{$\sim$FullO3CPU}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf FullO3CPU} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a6788b6adc1e142f49c6776ba4c85d824}
Destructor. 


\begin{DoxyCode}
466 {
467 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classFullO3CPU_aadedce642b14c1bde1b3281767df99d4}{
\index{FullO3CPU@{FullO3CPU}!activateContext@{activateContext}}
\index{activateContext@{activateContext}!FullO3CPU@{FullO3CPU}}
\subsubsection[{activateContext}]{\setlength{\rightskip}{0pt plus 5cm}void activateContext ({\bf ThreadID} {\em tid}, \/  {\bf Cycles} {\em delay})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_aadedce642b14c1bde1b3281767df99d4}
Add Thread to Active Threads List. 


\begin{DoxyCode}
762 {
763     assert(!switchedOut());
764 
765     // Needs to set each stage to running as well.
766     if (delay){
767         DPRINTF(O3CPU, "[tid:%i]: Scheduling thread context to activate "
768                 "on cycle %d\n", tid, clockEdge(delay));
769         scheduleActivateThreadEvent(tid, delay);
770     } else {
771         activateThread(tid);
772     }
773 
774     // We don't want to wake the CPU if it is drained. In that case,
775     // we just want to flag the thread as active and schedule the tick
776     // event from drainResume() instead.
777     if (getDrainState() == Drainable::Drained)
778         return;
779 
780     // If we are time 0 or if the last activation time is in the past,
781     // schedule the next tick and wake up the fetch unit
782     if (lastActivatedCycle == 0 || lastActivatedCycle < curTick()) {
783         scheduleTickEvent(delay);
784 
785         // Be sure to signal that there's some activity so the CPU doesn't
786         // deschedule itself.
787         activityRec.activity();
788         fetch.wakeFromQuiesce();
789 
790         Cycles cycles(curCycle() - lastRunningCycle);
791         // @todo: This is an oddity that is only here to match the stats
792         if (cycles != 0)
793             --cycles;
794         quiesceCycles += cycles;
795 
796         lastActivatedCycle = curTick();
797 
798         _status = Running;
799     }
800 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a631f1fd5f15efc2953529efa22868bcd}{
\index{FullO3CPU@{FullO3CPU}!activateStage@{activateStage}}
\index{activateStage@{activateStage}!FullO3CPU@{FullO3CPU}}
\subsubsection[{activateStage}]{\setlength{\rightskip}{0pt plus 5cm}void activateStage (const {\bf StageIdx} {\em idx})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a631f1fd5f15efc2953529efa22868bcd}
Changes a stage's status to active within the activity recorder. 


\begin{DoxyCode}
755     { activityRec.activateStage(idx); }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a687aa4600423bb30ecf3bb1da6cd6000}{
\index{FullO3CPU@{FullO3CPU}!activateThread@{activateThread}}
\index{activateThread@{activateThread}!FullO3CPU@{FullO3CPU}}
\subsubsection[{activateThread}]{\setlength{\rightskip}{0pt plus 5cm}void activateThread ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a687aa4600423bb30ecf3bb1da6cd6000}
Add Thread to Active Threads List 


\begin{DoxyCode}
700 {
701     list<ThreadID>::iterator isActive =
702         std::find(activeThreads.begin(), activeThreads.end(), tid);
703 
704     DPRINTF(O3CPU, "[tid:%i]: Calling activate thread.\n", tid);
705     assert(!switchedOut());
706 
707     if (isActive == activeThreads.end()) {
708         DPRINTF(O3CPU, "[tid:%i]: Adding to active threads list\n",
709                 tid);
710 
711         activeThreads.push_back(tid);
712     }
713 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a47befc2af24481200005f0b9cffab093}{
\index{FullO3CPU@{FullO3CPU}!activateWhenReady@{activateWhenReady}}
\index{activateWhenReady@{activateWhenReady}!FullO3CPU@{FullO3CPU}}
\subsubsection[{activateWhenReady}]{\setlength{\rightskip}{0pt plus 5cm}void activateWhenReady ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a47befc2af24481200005f0b9cffab093}
Activate a Thread When CPU Resources are Available. 


\begin{DoxyCode}
977 {
978     DPRINTF(O3CPU,"[tid:%i]: Checking if resources are available for incoming"
979             "(e.g. PhysRegs/ROB/IQ/LSQ) \n",
980             tid);
981 
982     bool ready = true;
983 
984     // Should these all be '<' not '>='?  This seems backwards...
985     if (freeList.numFreeIntRegs() >= TheISA::NumIntRegs) {
986         DPRINTF(O3CPU,"[tid:%i] Suspending thread due to not enough "
987                 "Phys. Int. Regs.\n",
988                 tid);
989         ready = false;
990     } else if (freeList.numFreeFloatRegs() >= TheISA::NumFloatRegs) {
991         DPRINTF(O3CPU,"[tid:%i] Suspending thread due to not enough "
992                 "Phys. Float. Regs.\n",
993                 tid);
994         ready = false;
995     } else if (freeList.numFreeCCRegs() >= TheISA::NumCCRegs) {
996         DPRINTF(O3CPU,"[tid:%i] Suspending thread due to not enough "
997                 "Phys. CC. Regs.\n",
998                 tid);
999         ready = false;
1000     } else if (commit.rob->numFreeEntries() >=
1001                commit.rob->entryAmount(activeThreads.size() + 1)) {
1002         DPRINTF(O3CPU,"[tid:%i] Suspending thread due to not enough "
1003                 "ROB entries.\n",
1004                 tid);
1005         ready = false;
1006     } else if (iew.instQueue.numFreeEntries() >=
1007                iew.instQueue.entryAmount(activeThreads.size() + 1)) {
1008         DPRINTF(O3CPU,"[tid:%i] Suspending thread due to not enough "
1009                 "IQ entries.\n",
1010                 tid);
1011         ready = false;
1012     } else if (iew.ldstQueue.numFreeEntries() >=
1013                iew.ldstQueue.entryAmount(activeThreads.size() + 1)) {
1014         DPRINTF(O3CPU,"[tid:%i] Suspending thread due to not enough "
1015                 "LSQ entries.\n",
1016                 tid);
1017         ready = false;
1018     }
1019 
1020     if (ready) {
1021         insertThread(tid);
1022 
1023         contextSwitch = false;
1024 
1025         cpuWaitList.remove(tid);
1026     } else {
1027         suspendContext(tid);
1028 
1029         //blocks fetch
1030         contextSwitch = true;
1031 
1032         //@todo: dont always add to waitlist
1033         //do waitlist
1034         cpuWaitList.push_back(tid);
1035     }
1036 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ad7e5c2506873e8dc8c71740ac6dabb23}{
\index{FullO3CPU@{FullO3CPU}!activityThisCycle@{activityThisCycle}}
\index{activityThisCycle@{activityThisCycle}!FullO3CPU@{FullO3CPU}}
\subsubsection[{activityThisCycle}]{\setlength{\rightskip}{0pt plus 5cm}void activityThisCycle ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ad7e5c2506873e8dc8c71740ac6dabb23}
Records that there was time buffer activity this cycle. 


\begin{DoxyCode}
751 { activityRec.activity(); }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ac6e8e55d456fb0d761c64063087d298a}{
\index{FullO3CPU@{FullO3CPU}!addInst@{addInst}}
\index{addInst@{addInst}!FullO3CPU@{FullO3CPU}}
\subsubsection[{addInst}]{\setlength{\rightskip}{0pt plus 5cm}{\bf FullO3CPU}$<$ Impl $>$::{\bf ListIt} addInst ({\bf DynInstPtr} \& {\em inst})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ac6e8e55d456fb0d761c64063087d298a}
Function to add instruction onto the head of the list of the instructions. Used when new instructions are fetched. 


\begin{DoxyCode}
1587 {
1588     instList.push_back(inst);
1589 
1590     return --(instList.end());
1591 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a7bc351a2a79efb6dc9f88f8a6a2ed33c}{
\index{FullO3CPU@{FullO3CPU}!cleanUpRemovedInsts@{cleanUpRemovedInsts}}
\index{cleanUpRemovedInsts@{cleanUpRemovedInsts}!FullO3CPU@{FullO3CPU}}
\subsubsection[{cleanUpRemovedInsts}]{\setlength{\rightskip}{0pt plus 5cm}void cleanUpRemovedInsts ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a7bc351a2a79efb6dc9f88f8a6a2ed33c}
Cleans up all instructions on the remove list. 


\begin{DoxyCode}
1725 {
1726     while (!removeList.empty()) {
1727         DPRINTF(O3CPU, "Removing instruction, "
1728                 "[tid:%i] [sn:%lli] PC %s\n",
1729                 (*removeList.front())->threadNumber,
1730                 (*removeList.front())->seqNum,
1731                 (*removeList.front())->pcState());
1732 
1733         instList.erase(removeList.front());
1734 
1735         removeList.pop();
1736     }
1737 
1738     removeInstsThisCycle = false;
1739 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a07a52466ac4d8d91cbfb73b9ceb42988}{
\index{FullO3CPU@{FullO3CPU}!commitDrained@{commitDrained}}
\index{commitDrained@{commitDrained}!FullO3CPU@{FullO3CPU}}
\subsubsection[{commitDrained}]{\setlength{\rightskip}{0pt plus 5cm}void commitDrained ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a07a52466ac4d8d91cbfb73b9ceb42988}
Commit has reached a safe point to drain a thread.

Commit calls this method to inform the pipeline that it has reached a point where it is not executed microcode and is about to squash uncommitted instructions to fully drain the pipeline. 


\begin{DoxyCode}
1286 {
1287     fetch.drainStall(tid);
1288 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a9ebbaf1718ed44d77051269c9734f6ae}{
\index{FullO3CPU@{FullO3CPU}!deactivateStage@{deactivateStage}}
\index{deactivateStage@{deactivateStage}!FullO3CPU@{FullO3CPU}}
\subsubsection[{deactivateStage}]{\setlength{\rightskip}{0pt plus 5cm}void deactivateStage (const {\bf StageIdx} {\em idx})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a9ebbaf1718ed44d77051269c9734f6ae}
Changes a stage's status to inactive within the activity recorder. 


\begin{DoxyCode}
759     { activityRec.deactivateStage(idx); }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ad11d9216ad92d9036ebf37844cf6e706}{
\index{FullO3CPU@{FullO3CPU}!deactivateThread@{deactivateThread}}
\index{deactivateThread@{deactivateThread}!FullO3CPU@{FullO3CPU}}
\subsubsection[{deactivateThread}]{\setlength{\rightskip}{0pt plus 5cm}void deactivateThread ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ad11d9216ad92d9036ebf37844cf6e706}
Remove Thread from Active Threads List 


\begin{DoxyCode}
718 {
719     //Remove From Active List, if Active
720     list<ThreadID>::iterator thread_it =
721         std::find(activeThreads.begin(), activeThreads.end(), tid);
722 
723     DPRINTF(O3CPU, "[tid:%i]: Calling deactivate thread.\n", tid);
724     assert(!switchedOut());
725 
726     if (thread_it != activeThreads.end()) {
727         DPRINTF(O3CPU,"[tid:%i]: Removing from active threads list\n",
728                 tid);
729         activeThreads.erase(thread_it);
730     }
731 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a26789603cc94992d18f8ddedfff96acf}{
\index{FullO3CPU@{FullO3CPU}!demapDataPage@{demapDataPage}}
\index{demapDataPage@{demapDataPage}!FullO3CPU@{FullO3CPU}}
\subsubsection[{demapDataPage}]{\setlength{\rightskip}{0pt plus 5cm}void demapDataPage ({\bf Addr} {\em vaddr}, \/  uint64\_\-t {\em asn})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a26789603cc94992d18f8ddedfff96acf}



\begin{DoxyCode}
396     {
397         this->dtb->demapPage(vaddr, asn);
398     }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ac8a36d45a839b07f50b73f1eee119615}{
\index{FullO3CPU@{FullO3CPU}!demapInstPage@{demapInstPage}}
\index{demapInstPage@{demapInstPage}!FullO3CPU@{FullO3CPU}}
\subsubsection[{demapInstPage}]{\setlength{\rightskip}{0pt plus 5cm}void demapInstPage ({\bf Addr} {\em vaddr}, \/  uint64\_\-t {\em asn})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ac8a36d45a839b07f50b73f1eee119615}



\begin{DoxyCode}
391     {
392         this->itb->demapPage(vaddr, asn);
393     }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a2d698ff909513b48a1263f8a5440e067}{
\index{FullO3CPU@{FullO3CPU}!demapPage@{demapPage}}
\index{demapPage@{demapPage}!FullO3CPU@{FullO3CPU}}
\subsubsection[{demapPage}]{\setlength{\rightskip}{0pt plus 5cm}void demapPage ({\bf Addr} {\em vaddr}, \/  uint64\_\-t {\em asn})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a2d698ff909513b48a1263f8a5440e067}



\begin{DoxyCode}
385     {
386         this->itb->demapPage(vaddr, asn);
387         this->dtb->demapPage(vaddr, asn);
388     }
\end{DoxyCode}
\hypertarget{classFullO3CPU_aa44d4f535cfaf67b335cab7e390a9257}{
\index{FullO3CPU@{FullO3CPU}!doContextSwitch@{doContextSwitch}}
\index{doContextSwitch@{doContextSwitch}!FullO3CPU@{FullO3CPU}}
\subsubsection[{doContextSwitch}]{\setlength{\rightskip}{0pt plus 5cm}void doContextSwitch ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_aa44d4f535cfaf67b335cab7e390a9257}
Add or Remove a Thread Context in the CPU. 


\begin{DoxyCode}
1827 {
1828     if (contextSwitch) {
1829 
1830         //ADD CODE TO DEACTIVE THREAD HERE (???)
1831 
1832         ThreadID size = cpuWaitList.size();
1833         for (ThreadID tid = 0; tid < size; tid++) {
1834             activateWhenReady(tid);
1835         }
1836 
1837         if (cpuWaitList.size() == 0)
1838             contextSwitch = true;
1839     }
1840 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a4e932bfc8aa6dfb998b8496a0f04ace3}{
\index{FullO3CPU@{FullO3CPU}!drain@{drain}}
\index{drain@{drain}!FullO3CPU@{FullO3CPU}}
\subsubsection[{drain}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int drain ({\bf DrainManager} $\ast$ {\em drain\_\-manager})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a4e932bfc8aa6dfb998b8496a0f04ace3}
Starts draining the CPU's pipeline of all instructions in order to stop all memory accesses. 


\begin{DoxyCode}
1150 {
1151     // If the CPU isn't doing anything, then return immediately.
1152     if (switchedOut()) {
1153         setDrainState(Drainable::Drained);
1154         return 0;
1155     }
1156 
1157     DPRINTF(Drain, "Draining...\n");
1158     setDrainState(Drainable::Draining);
1159 
1160     // We only need to signal a drain to the commit stage as this
1161     // initiates squashing controls the draining. Once the commit
1162     // stage commits an instruction where it is safe to stop, it'll
1163     // squash the rest of the instructions in the pipeline and force
1164     // the fetch stage to stall. The pipeline will be drained once all
1165     // in-flight instructions have retired.
1166     commit.drain();
1167 
1168     // Wake the CPU and record activity so everything can drain out if
1169     // the CPU was not able to immediately drain.
1170     if (!isDrained())  {
1171         drainManager = drain_manager;
1172 
1173         wakeCPU();
1174         activityRec.activity();
1175 
1176         DPRINTF(Drain, "CPU not drained\n");
1177 
1178         return 1;
1179     } else {
1180         setDrainState(Drainable::Drained);
1181         DPRINTF(Drain, "CPU is already drained\n");
1182         if (tickEvent.scheduled())
1183             deschedule(tickEvent);
1184 
1185         // Flush out any old data from the time buffers.  In
1186         // particular, there might be some data in flight from the
1187         // fetch stage that isn't visible in any of the CPU buffers we
1188         // test in isDrained().
1189         for (int i = 0; i < timeBuffer.getSize(); ++i) {
1190             timeBuffer.advance();
1191             fetchQueue.advance();
1192             decodeQueue.advance();
1193             renameQueue.advance();
1194             iewQueue.advance();
1195         }
1196 
1197         drainSanityCheck();
1198         return 0;
1199     }
1200 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a8f020d3237536fe007fc488c4125c5d8}{
\index{FullO3CPU@{FullO3CPU}!drainResume@{drainResume}}
\index{drainResume@{drainResume}!FullO3CPU@{FullO3CPU}}
\subsubsection[{drainResume}]{\setlength{\rightskip}{0pt plus 5cm}void drainResume ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a8f020d3237536fe007fc488c4125c5d8}
Resumes execution after a drain. 


\begin{DoxyCode}
1293 {
1294     setDrainState(Drainable::Running);
1295     if (switchedOut())
1296         return;
1297 
1298     DPRINTF(Drain, "Resuming...\n");
1299     verifyMemoryMode();
1300 
1301     fetch.drainResume();
1302     commit.drainResume();
1303 
1304     _status = Idle;
1305     for (ThreadID i = 0; i < thread.size(); i++) {
1306         if (thread[i]->status() == ThreadContext::Active) {
1307             DPRINTF(Drain, "Activating thread: %i\n", i);
1308             activateThread(i);
1309             _status = Running;
1310         }
1311     }
1312 
1313     assert(!tickEvent.scheduled());
1314     if (_status == Running)
1315         schedule(tickEvent, nextCycle());
1316 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a0240eb42fa57fe5d3788093f62b77347}{
\index{FullO3CPU@{FullO3CPU}!drainSanityCheck@{drainSanityCheck}}
\index{drainSanityCheck@{drainSanityCheck}!FullO3CPU@{FullO3CPU}}
\subsubsection[{drainSanityCheck}]{\setlength{\rightskip}{0pt plus 5cm}void drainSanityCheck () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classFullO3CPU_a0240eb42fa57fe5d3788093f62b77347}
Perform sanity checks after a drain.

This method is called from \hyperlink{classFullO3CPU_a4e932bfc8aa6dfb998b8496a0f04ace3}{drain()} when it has determined that the CPU is fully drained when gem5 is compiled with the NDEBUG macro undefined. The intention of this method is to do more extensive tests than the \hyperlink{classFullO3CPU_adf5473c18a3d7c1e88c4a2072bce5526}{isDrained()} method to weed out any draining bugs. 


\begin{DoxyCode}
1222 {
1223     assert(isDrained());
1224     fetch.drainSanityCheck();
1225     decode.drainSanityCheck();
1226     rename.drainSanityCheck();
1227     iew.drainSanityCheck();
1228     commit.drainSanityCheck();
1229 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a80587b4fe043bbe1995536cb3b361588}{
\index{FullO3CPU@{FullO3CPU}!dumpInsts@{dumpInsts}}
\index{dumpInsts@{dumpInsts}!FullO3CPU@{FullO3CPU}}
\subsubsection[{dumpInsts}]{\setlength{\rightskip}{0pt plus 5cm}void dumpInsts ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a80587b4fe043bbe1995536cb3b361588}
\hyperlink{namespaceDebug}{Debug} function to print all instructions on the list. 


\begin{DoxyCode}
1751 {
1752     int num = 0;
1753 
1754     ListIt inst_list_it = instList.begin();
1755 
1756     cprintf("Dumping Instruction List\n");
1757 
1758     while (inst_list_it != instList.end()) {
1759         cprintf("Instruction:%i\nPC:%#x\n[tid:%i]\n[sn:%lli]\nIssued:%i\n"
1760                 "Squashed:%i\n\n",
1761                 num, (*inst_list_it)->instAddr(), (*inst_list_it)->threadNumber,
1762                 (*inst_list_it)->seqNum, (*inst_list_it)->isIssued(),
1763                 (*inst_list_it)->isSquashed());
1764         inst_list_it++;
1765         ++num;
1766     }
1767 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ace86a0dff0fe9648b7221e3a98fb4533}{
\index{FullO3CPU@{FullO3CPU}!getAndIncrementInstSeq@{getAndIncrementInstSeq}}
\index{getAndIncrementInstSeq@{getAndIncrementInstSeq}!FullO3CPU@{FullO3CPU}}
\subsubsection[{getAndIncrementInstSeq}]{\setlength{\rightskip}{0pt plus 5cm}{\bf InstSeqNum} getAndIncrementInstSeq ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ace86a0dff0fe9648b7221e3a98fb4533}
Get the current instruction sequence number, and increment it. 


\begin{DoxyCode}
498     { return globalSeqNum++; }
\end{DoxyCode}
\hypertarget{classFullO3CPU_aeea6b55ae1c4be53c21dbee434b221d4}{
\index{FullO3CPU@{FullO3CPU}!getDataPort@{getDataPort}}
\index{getDataPort@{getDataPort}!FullO3CPU@{FullO3CPU}}
\subsubsection[{getDataPort}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf MasterPort}\& getDataPort ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classFullO3CPU_aeea6b55ae1c4be53c21dbee434b221d4}
Get the dcache port (used to find block size for translations). 


\begin{DoxyCode}
833 { return dcachePort; }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a64117a0245250fc5be941e729bedcc03}{
\index{FullO3CPU@{FullO3CPU}!getFreeTid@{getFreeTid}}
\index{getFreeTid@{getFreeTid}!FullO3CPU@{FullO3CPU}}
\subsubsection[{getFreeTid}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ThreadID} getFreeTid ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a64117a0245250fc5be941e729bedcc03}
Gets a free thread id. Use if thread ids change across system. 


\begin{DoxyCode}
1813 {
1814     for (ThreadID tid = 0; tid < numThreads; tid++) {
1815         if (!tids[tid]) {
1816             tids[tid] = true;
1817             return tid;
1818         }
1819     }
1820 
1821     return InvalidThreadID;
1822 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a40da530cb5dd380fd7fc0d786e94d5eb}{
\index{FullO3CPU@{FullO3CPU}!getInstPort@{getInstPort}}
\index{getInstPort@{getInstPort}!FullO3CPU@{FullO3CPU}}
\subsubsection[{getInstPort}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf MasterPort}\& getInstPort ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classFullO3CPU_a40da530cb5dd380fd7fc0d786e94d5eb}
Used by the fetch unit to get a hold of the instruction port. 


\begin{DoxyCode}
830 { return icachePort; }
\end{DoxyCode}
\hypertarget{classFullO3CPU_aa2bbcc75bdfc0f2355cd06731e6f5d69}{
\index{FullO3CPU@{FullO3CPU}!getInterrupts@{getInterrupts}}
\index{getInterrupts@{getInterrupts}!FullO3CPU@{FullO3CPU}}
\subsubsection[{getInterrupts}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Fault} getInterrupts ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_aa2bbcc75bdfc0f2355cd06731e6f5d69}
Returns the Fault for any valid interrupt. 


\begin{DoxyCode}
1082 {
1083     // Check if there are any outstanding interrupts
1084     return this->interrupts->getInterrupt(this->threadContexts[0]);
1085 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ade0430439247877006d7df950f94918a}{
\index{FullO3CPU@{FullO3CPU}!halt@{halt}}
\index{halt@{halt}!FullO3CPU@{FullO3CPU}}
\subsubsection[{halt}]{\setlength{\rightskip}{0pt plus 5cm}void halt ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ade0430439247877006d7df950f94918a}
Halts the CPU. 


\begin{DoxyCode}
515 { panic("Halt not implemented!\n"); }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ac2156e0955d5e1ef6e06cd0e2ab218e4}{
\index{FullO3CPU@{FullO3CPU}!haltContext@{haltContext}}
\index{haltContext@{haltContext}!FullO3CPU@{FullO3CPU}}
\subsubsection[{haltContext}]{\setlength{\rightskip}{0pt plus 5cm}void haltContext ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ac2156e0955d5e1ef6e06cd0e2ab218e4}
Remove Thread from Active Threads List \&\& Remove Thread Context from CPU. 


\begin{DoxyCode}
841 {
842     //For now, this is the same as deallocate
843     DPRINTF(O3CPU,"[tid:%i]: Halt Context called. Deallocating", tid);
844     assert(!switchedOut());
845     scheduleDeallocateContext(tid, true, Cycles(1));
846 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a3820de4f7e76b56c6d795f27bf49c097}{
\index{FullO3CPU@{FullO3CPU}!hwrei@{hwrei}}
\index{hwrei@{hwrei}!FullO3CPU@{FullO3CPU}}
\subsubsection[{hwrei}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Fault} hwrei ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a3820de4f7e76b56c6d795f27bf49c097}
HW return from error interrupt. 


\begin{DoxyCode}
1041 {
1042 #if THE_ISA == ALPHA_ISA
1043     // Need to clear the lock flag upon returning from an interrupt.
1044     this->setMiscRegNoEffect(AlphaISA::MISCREG_LOCKFLAG, false, tid);
1045 
1046     this->thread[tid]->kernelStats->hwrei();
1047 
1048     // FIXME: XXX check for interrupts? XXX
1049 #endif
1050     return NoFault;
1051 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a02fd73d861ef2e4aabb38c0c9ff82947}{
\index{FullO3CPU@{FullO3CPU}!init@{init}}
\index{init@{init}!FullO3CPU@{FullO3CPU}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void init ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a02fd73d861ef2e4aabb38c0c9ff82947}
Initialize the CPU 


\begin{DoxyCode}
657 {
658     BaseCPU::init();
659 
660     for (ThreadID tid = 0; tid < numThreads; ++tid) {
661         // Set noSquashFromTC so that the CPU doesn't squash when initially
662         // setting up registers.
663         thread[tid]->noSquashFromTC = true;
664         // Initialise the ThreadContext's memory proxies
665         thread[tid]->initMemProxies(thread[tid]->getTC());
666     }
667 
668     if (FullSystem && !params()->switched_out) {
669         for (ThreadID tid = 0; tid < numThreads; tid++) {
670             ThreadContext *src_tc = threadContexts[tid];
671             TheISA::initCPU(src_tc, src_tc->contextId());
672         }
673     }
674 
675     // Clear noSquashFromTC.
676     for (int tid = 0; tid < numThreads; ++tid)
677         thread[tid]->noSquashFromTC = false;
678 
679     commit.setThreads(thread);
680 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_abf4dca4fa0a9358ec4ac26ccbf17233b}{
\index{FullO3CPU@{FullO3CPU}!insertThread@{insertThread}}
\index{insertThread@{insertThread}!FullO3CPU@{FullO3CPU}}
\subsubsection[{insertThread}]{\setlength{\rightskip}{0pt plus 5cm}void insertThread ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_abf4dca4fa0a9358ec4ac26ccbf17233b}
Setup CPU to insert a thread's context 


\begin{DoxyCode}
851 {
852     DPRINTF(O3CPU,"[tid:%i] Initializing thread into CPU");
853     // Will change now that the PC and thread state is internal to the CPU
854     // and not in the ThreadContext.
855     ThreadContext *src_tc;
856     if (FullSystem)
857         src_tc = system->threadContexts[tid];
858     else
859         src_tc = tcBase(tid);
860 
861     //Bind Int Regs to Rename Map
862     for (int ireg = 0; ireg < TheISA::NumIntRegs; ireg++) {
863         PhysRegIndex phys_reg = freeList.getIntReg();
864 
865         renameMap[tid].setEntry(ireg,phys_reg);
866         scoreboard.setReg(phys_reg);
867     }
868 
869     //Bind Float Regs to Rename Map
870     int max_reg = TheISA::NumIntRegs + TheISA::NumFloatRegs;
871     for (int freg = TheISA::NumIntRegs; freg < max_reg; freg++) {
872         PhysRegIndex phys_reg = freeList.getFloatReg();
873 
874         renameMap[tid].setEntry(freg,phys_reg);
875         scoreboard.setReg(phys_reg);
876     }
877 
878     //Bind condition-code Regs to Rename Map
879     max_reg = TheISA::NumIntRegs + TheISA::NumFloatRegs + TheISA::NumCCRegs;
880     for (int creg = TheISA::NumIntRegs + TheISA::NumFloatRegs;
881          creg < max_reg; creg++) {
882         PhysRegIndex phys_reg = freeList.getCCReg();
883 
884         renameMap[tid].setEntry(creg,phys_reg);
885         scoreboard.setReg(phys_reg);
886     }
887 
888     //Copy Thread Data Into RegFile
889     //this->copyFromTC(tid);
890 
891     //Set PC/NPC/NNPC
892     pcState(src_tc->pcState(), tid);
893 
894     src_tc->setStatus(ThreadContext::Active);
895 
896     activateContext(tid, Cycles(1));
897 
898     //Reset ROB/IQ/LSQ Entries
899     commit.rob->resetEntries();
900     iew.resetEntries();
901 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_afae6152cf4b3a51162d6e64247c1ac09}{
\index{FullO3CPU@{FullO3CPU}!instAddr@{instAddr}}
\index{instAddr@{instAddr}!FullO3CPU@{FullO3CPU}}
\subsubsection[{instAddr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} instAddr ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_afae6152cf4b3a51162d6e64247c1ac09}
Reads the commit PC of a specific thread. 


\begin{DoxyCode}
1558 {
1559     return commit.instAddr(tid);
1560 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a4edfd60ed9beaf439e83cfda0ba130e7}{
\index{FullO3CPU@{FullO3CPU}!instDone@{instDone}}
\index{instDone@{instDone}!FullO3CPU@{FullO3CPU}}
\subsubsection[{instDone}]{\setlength{\rightskip}{0pt plus 5cm}void instDone ({\bf ThreadID} {\em tid}, \/  {\bf DynInstPtr} \& {\em inst})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a4edfd60ed9beaf439e83cfda0ba130e7}
Function to tell the CPU that an instruction has completed. 


\begin{DoxyCode}
1596 {
1597     // Keep an instruction count.
1598     if (!inst->isMicroop() || inst->isLastMicroop()) {
1599         thread[tid]->numInst++;
1600         thread[tid]->numInsts++;
1601         committedInsts[tid]++;
1602     }
1603     thread[tid]->numOp++;
1604     thread[tid]->numOps++;
1605     committedOps[tid]++;
1606 
1607     system->totalNumInsts++;
1608     // Check for instruction-count-based events.
1609     comInstEventQueue[tid]->serviceEvents(thread[tid]->numInst);
1610     system->instEventQueue.serviceEvents(system->totalNumInsts);
1611 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_adf5473c18a3d7c1e88c4a2072bce5526}{
\index{FullO3CPU@{FullO3CPU}!isDrained@{isDrained}}
\index{isDrained@{isDrained}!FullO3CPU@{FullO3CPU}}
\subsubsection[{isDrained}]{\setlength{\rightskip}{0pt plus 5cm}bool isDrained () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classFullO3CPU_adf5473c18a3d7c1e88c4a2072bce5526}
\hyperlink{classCheck}{Check} if a system is in a drained state. 


\begin{DoxyCode}
1234 {
1235     bool drained(true);
1236 
1237     for (ThreadID i = 0; i < thread.size(); ++i) {
1238         if (activateThreadEvent[i].scheduled()) {
1239             DPRINTF(Drain, "CPU not drained, tread %i has a "
1240                     "pending activate event\n", i);
1241             drained = false;
1242         }
1243         if (deallocateContextEvent[i].scheduled()) {
1244             DPRINTF(Drain, "CPU not drained, tread %i has a "
1245                     "pending deallocate context event\n", i);
1246             drained = false;
1247         }
1248     }
1249 
1250     if (!instList.empty() || !removeList.empty()) {
1251         DPRINTF(Drain, "Main CPU structures not drained.\n");
1252         drained = false;
1253     }
1254 
1255     if (!fetch.isDrained()) {
1256         DPRINTF(Drain, "Fetch not drained.\n");
1257         drained = false;
1258     }
1259 
1260     if (!decode.isDrained()) {
1261         DPRINTF(Drain, "Decode not drained.\n");
1262         drained = false;
1263     }
1264 
1265     if (!rename.isDrained()) {
1266         DPRINTF(Drain, "Rename not drained.\n");
1267         drained = false;
1268     }
1269 
1270     if (!iew.isDrained()) {
1271         DPRINTF(Drain, "IEW not drained.\n");
1272         drained = false;
1273     }
1274 
1275     if (!commit.isDrained()) {
1276         DPRINTF(Drain, "Commit not drained.\n");
1277         drained = false;
1278     }
1279 
1280     return drained;
1281 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a8256d21571cb453f728d6b85e6fc6d15}{
\index{FullO3CPU@{FullO3CPU}!isDraining@{isDraining}}
\index{isDraining@{isDraining}!FullO3CPU@{FullO3CPU}}
\subsubsection[{isDraining}]{\setlength{\rightskip}{0pt plus 5cm}bool isDraining () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a8256d21571cb453f728d6b85e6fc6d15}
Is the CPU draining? 


\begin{DoxyCode}
459 { return getDrainState() == Drainable::Draining; }
\end{DoxyCode}
\hypertarget{classFullO3CPU_aa295441afc0fa8f449dc1a0cb7c7b994}{
\index{FullO3CPU@{FullO3CPU}!microPC@{microPC}}
\index{microPC@{microPC}!FullO3CPU@{FullO3CPU}}
\subsubsection[{microPC}]{\setlength{\rightskip}{0pt plus 5cm}{\bf MicroPC} microPC ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_aa295441afc0fa8f449dc1a0cb7c7b994}
Reads the commit micro PC of a specific thread. 


\begin{DoxyCode}
1572 {
1573     return commit.microPC(tid);
1574 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_af1caba1f04cf2802d742d1a16b961e79}{
\index{FullO3CPU@{FullO3CPU}!nextInstAddr@{nextInstAddr}}
\index{nextInstAddr@{nextInstAddr}!FullO3CPU@{FullO3CPU}}
\subsubsection[{nextInstAddr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Addr} nextInstAddr ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_af1caba1f04cf2802d742d1a16b961e79}
Reads the next PC of a specific thread. 


\begin{DoxyCode}
1565 {
1566     return commit.nextInstAddr(tid);
1567 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a2cf759e627e96ea55f7b91a72d437652}{
\index{FullO3CPU@{FullO3CPU}!numActiveThreads@{numActiveThreads}}
\index{numActiveThreads@{numActiveThreads}!FullO3CPU@{FullO3CPU}}
\subsubsection[{numActiveThreads}]{\setlength{\rightskip}{0pt plus 5cm}int numActiveThreads ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a2cf759e627e96ea55f7b91a72d437652}
Returns the Number of Active Threads in the CPU 


\begin{DoxyCode}
412     { return activeThreads.size(); }
\end{DoxyCode}
\hypertarget{classFullO3CPU_af486ac7476906f63fc6696b3e76a411b}{
\index{FullO3CPU@{FullO3CPU}!pcState@{pcState}}
\index{pcState@{pcState}!FullO3CPU@{FullO3CPU}}
\subsubsection[{pcState}]{\setlength{\rightskip}{0pt plus 5cm}TheISA::PCState pcState ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_af486ac7476906f63fc6696b3e76a411b}
Reads the commit PC state of a specific thread. 


\begin{DoxyCode}
1544 {
1545     return commit.pcState(tid);
1546 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a3b836956ac0c48ddf740167753bded14}{
\index{FullO3CPU@{FullO3CPU}!pcState@{pcState}}
\index{pcState@{pcState}!FullO3CPU@{FullO3CPU}}
\subsubsection[{pcState}]{\setlength{\rightskip}{0pt plus 5cm}void pcState (const TheISA::PCState \& {\em newPCState}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a3b836956ac0c48ddf740167753bded14}
Sets the commit PC state of a specific thread. 


\begin{DoxyCode}
1551 {
1552     commit.pcState(val, tid);
1553 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ac3b13f31ae4a2de2b647e09c37a10822}{
\index{FullO3CPU@{FullO3CPU}!processInterrupts@{processInterrupts}}
\index{processInterrupts@{processInterrupts}!FullO3CPU@{FullO3CPU}}
\subsubsection[{processInterrupts}]{\setlength{\rightskip}{0pt plus 5cm}void processInterrupts ({\bf Fault} {\em interrupt})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ac3b13f31ae4a2de2b647e09c37a10822}
Processes any an interrupt fault. 


\begin{DoxyCode}
1090 {
1091     // Check for interrupts here.  For now can copy the code that
1092     // exists within isa_fullsys_traits.hh.  Also assume that thread 0
1093     // is the one that handles the interrupts.
1094     // @todo: Possibly consolidate the interrupt checking code.
1095     // @todo: Allow other threads to handle interrupts.
1096 
1097     assert(interrupt != NoFault);
1098     this->interrupts->updateIntrInfo(this->threadContexts[0]);
1099 
1100     DPRINTF(O3CPU, "Interrupt %s being handled\n", interrupt->name());
1101     this->trap(interrupt, 0, NULL);
1102 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a0bdeb74163a7a4d65b7773897ef8eb09}{
\index{FullO3CPU@{FullO3CPU}!read@{read}}
\index{read@{read}!FullO3CPU@{FullO3CPU}}
\subsubsection[{read}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Fault} read ({\bf RequestPtr} \& {\em req}, \/  {\bf RequestPtr} \& {\em sreqLow}, \/  {\bf RequestPtr} \& {\em sreqHigh}, \/  uint8\_\-t $\ast$ {\em data}, \/  int {\em load\_\-idx})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a0bdeb74163a7a4d65b7773897ef8eb09}
CPU read function, forwards read to \hyperlink{classLSQ}{LSQ}. 


\begin{DoxyCode}
816     {
817         return this->iew.ldstQueue.read(req, sreqLow, sreqHigh,
818                                         data, load_idx);
819     }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a58ef256fe449eed12535745bd734f4ef}{
\index{FullO3CPU@{FullO3CPU}!readArchCCReg@{readArchCCReg}}
\index{readArchCCReg@{readArchCCReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{readArchCCReg}]{\setlength{\rightskip}{0pt plus 5cm}CCReg readArchCCReg (int {\em reg\_\-idx}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a58ef256fe449eed12535745bd734f4ef}



\begin{DoxyCode}
1494 {
1495     ccRegfileReads++;
1496     PhysRegIndex phys_reg = commitRenameMap[tid].lookupCC(reg_idx);
1497 
1498     return regFile.readCCReg(phys_reg);
1499 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_adaf99a897128e25170e65323b1a5e342}{
\index{FullO3CPU@{FullO3CPU}!readArchFloatReg@{readArchFloatReg}}
\index{readArchFloatReg@{readArchFloatReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{readArchFloatReg}]{\setlength{\rightskip}{0pt plus 5cm}float readArchFloatReg (int {\em reg\_\-idx}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_adaf99a897128e25170e65323b1a5e342}



\begin{DoxyCode}
1474 {
1475     fpRegfileReads++;
1476     PhysRegIndex phys_reg = commitRenameMap[tid].lookupFloat(reg_idx);
1477 
1478     return regFile.readFloatReg(phys_reg);
1479 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a60141decbd780846e6669adf59970db1}{
\index{FullO3CPU@{FullO3CPU}!readArchFloatRegInt@{readArchFloatRegInt}}
\index{readArchFloatRegInt@{readArchFloatRegInt}!FullO3CPU@{FullO3CPU}}
\subsubsection[{readArchFloatRegInt}]{\setlength{\rightskip}{0pt plus 5cm}uint64\_\-t readArchFloatRegInt (int {\em reg\_\-idx}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a60141decbd780846e6669adf59970db1}



\begin{DoxyCode}
1484 {
1485     fpRegfileReads++;
1486     PhysRegIndex phys_reg = commitRenameMap[tid].lookupFloat(reg_idx);
1487 
1488     return regFile.readFloatRegBits(phys_reg);
1489 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a804e1580f078efbacee5689c6a922743}{
\index{FullO3CPU@{FullO3CPU}!readArchIntReg@{readArchIntReg}}
\index{readArchIntReg@{readArchIntReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{readArchIntReg}]{\setlength{\rightskip}{0pt plus 5cm}uint64\_\-t readArchIntReg (int {\em reg\_\-idx}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a804e1580f078efbacee5689c6a922743}



\begin{DoxyCode}
1464 {
1465     intRegfileReads++;
1466     PhysRegIndex phys_reg = commitRenameMap[tid].lookupInt(reg_idx);
1467 
1468     return regFile.readIntReg(phys_reg);
1469 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ac3d147c535052bfb1f8e8fe0697168d7}{
\index{FullO3CPU@{FullO3CPU}!readCCReg@{readCCReg}}
\index{readCCReg@{readCCReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{readCCReg}]{\setlength{\rightskip}{0pt plus 5cm}CCReg readCCReg (int {\em reg\_\-idx})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ac3d147c535052bfb1f8e8fe0697168d7}



\begin{DoxyCode}
1424 {
1425     ccRegfileReads++;
1426     return regFile.readCCReg(reg_idx);
1427 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a2f97d83baef4fbda00b7f7f62779752f}{
\index{FullO3CPU@{FullO3CPU}!readFloatReg@{readFloatReg}}
\index{readFloatReg@{readFloatReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{readFloatReg}]{\setlength{\rightskip}{0pt plus 5cm}FloatReg readFloatReg (int {\em reg\_\-idx})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a2f97d83baef4fbda00b7f7f62779752f}



\begin{DoxyCode}
1408 {
1409     fpRegfileReads++;
1410     return regFile.readFloatReg(reg_idx);
1411 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a4998e6615f835676762af364eff198e3}{
\index{FullO3CPU@{FullO3CPU}!readFloatRegBits@{readFloatRegBits}}
\index{readFloatRegBits@{readFloatRegBits}!FullO3CPU@{FullO3CPU}}
\subsubsection[{readFloatRegBits}]{\setlength{\rightskip}{0pt plus 5cm}FloatRegBits readFloatRegBits (int {\em reg\_\-idx})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a4998e6615f835676762af364eff198e3}



\begin{DoxyCode}
1416 {
1417     fpRegfileReads++;
1418     return regFile.readFloatRegBits(reg_idx);
1419 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a21c850cd41ab977a2cf3450fe66ec25a}{
\index{FullO3CPU@{FullO3CPU}!readIntReg@{readIntReg}}
\index{readIntReg@{readIntReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{readIntReg}]{\setlength{\rightskip}{0pt plus 5cm}uint64\_\-t readIntReg (int {\em reg\_\-idx})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a21c850cd41ab977a2cf3450fe66ec25a}



\begin{DoxyCode}
1400 {
1401     intRegfileReads++;
1402     return regFile.readIntReg(reg_idx);
1403 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ae9d0992c10f59b8dc47ea56b3a778c32}{
\index{FullO3CPU@{FullO3CPU}!readMiscReg@{readMiscReg}}
\index{readMiscReg@{readMiscReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{readMiscReg}]{\setlength{\rightskip}{0pt plus 5cm}TheISA::MiscReg readMiscReg (int {\em misc\_\-reg}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ae9d0992c10f59b8dc47ea56b3a778c32}
Reads a misc. register, including any side effects the read might have as defined by the architecture. 


\begin{DoxyCode}
1375 {
1376     miscRegfileReads++;
1377     return this->isa[tid]->readMiscReg(misc_reg, tcBase(tid));
1378 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_adab97969b95d7b02e858364997dd7968}{
\index{FullO3CPU@{FullO3CPU}!readMiscRegNoEffect@{readMiscRegNoEffect}}
\index{readMiscRegNoEffect@{readMiscRegNoEffect}!FullO3CPU@{FullO3CPU}}
\subsubsection[{readMiscRegNoEffect}]{\setlength{\rightskip}{0pt plus 5cm}TheISA::MiscReg readMiscRegNoEffect (int {\em misc\_\-reg}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_adab97969b95d7b02e858364997dd7968}
\hyperlink{classRegister}{Register} accessors. Index refers to the physical register index. Reads a miscellaneous register. 


\begin{DoxyCode}
1368 {
1369     return this->isa[tid]->readMiscRegNoEffect(misc_reg);
1370 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_aa2dab17a363fd4307274d579796adcf7}{
\index{FullO3CPU@{FullO3CPU}!regProbePoints@{regProbePoints}}
\index{regProbePoints@{regProbePoints}!FullO3CPU@{FullO3CPU}}
\subsubsection[{regProbePoints}]{\setlength{\rightskip}{0pt plus 5cm}void regProbePoints ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_aa2dab17a363fd4307274d579796adcf7}
\hyperlink{classRegister}{Register} probe points. 


\begin{DoxyCode}
472 {
473     ppInstAccessComplete = new ProbePointArg<PacketPtr>(getProbeManager(), "InstA
      ccessComplete");
474     ppDataAccessComplete = new ProbePointArg<std::pair<DynInstPtr, PacketPtr> >(g
      etProbeManager(), "DataAccessComplete");
475     fetch.regProbePoints();
476     iew.regProbePoints();
477     commit.regProbePoints();
478 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a4dc637449366fcdfc4e764cdf12d9b11}{
\index{FullO3CPU@{FullO3CPU}!regStats@{regStats}}
\index{regStats@{regStats}!FullO3CPU@{FullO3CPU}}
\subsubsection[{regStats}]{\setlength{\rightskip}{0pt plus 5cm}void regStats ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a4dc637449366fcdfc4e764cdf12d9b11}
Registers statistics. 

\hyperlink{classBaseO3CPU_a4dc637449366fcdfc4e764cdf12d9b11}{BaseO3CPU}を再定義しています。


\begin{DoxyCode}
483 {
484     BaseO3CPU::regStats();
485 
486     // Register any of the O3CPU's stats here.
487     timesIdled
488         .name(name() + ".timesIdled")
489         .desc("Number of times that the entire CPU went into an idle state and"
490               " unscheduled itself")
491         .prereq(timesIdled);
492 
493     idleCycles
494         .name(name() + ".idleCycles")
495         .desc("Total number of cycles that the CPU has spent unscheduled due "
496               "to idling")
497         .prereq(idleCycles);
498 
499     quiesceCycles
500         .name(name() + ".quiesceCycles")
501         .desc("Total number of cycles that CPU has spent quiesced or waiting "
502               "for an interrupt")
503         .prereq(quiesceCycles);
504 
505     // Number of Instructions simulated
506     // --------------------------------
507     // Should probably be in Base CPU but need templated
508     // MaxThreads so put in here instead
509     committedInsts
510         .init(numThreads)
511         .name(name() + ".committedInsts")
512         .desc("Number of Instructions Simulated")
513         .flags(Stats::total);
514 
515     committedOps
516         .init(numThreads)
517         .name(name() + ".committedOps")
518         .desc("Number of Ops (including micro ops) Simulated")
519         .flags(Stats::total);
520 
521     cpi
522         .name(name() + ".cpi")
523         .desc("CPI: Cycles Per Instruction")
524         .precision(6);
525     cpi = numCycles / committedInsts;
526 
527     totalCpi
528         .name(name() + ".cpi_total")
529         .desc("CPI: Total CPI of All Threads")
530         .precision(6);
531     totalCpi = numCycles / sum(committedInsts);
532 
533     ipc
534         .name(name() + ".ipc")
535         .desc("IPC: Instructions Per Cycle")
536         .precision(6);
537     ipc =  committedInsts / numCycles;
538 
539     totalIpc
540         .name(name() + ".ipc_total")
541         .desc("IPC: Total IPC of All Threads")
542         .precision(6);
543     totalIpc =  sum(committedInsts) / numCycles;
544 
545     this->fetch.regStats();
546     this->decode.regStats();
547     this->rename.regStats();
548     this->iew.regStats();
549     this->commit.regStats();
550     this->rob.regStats();
551 
552     intRegfileReads
553         .name(name() + ".int_regfile_reads")
554         .desc("number of integer regfile reads")
555         .prereq(intRegfileReads);
556 
557     intRegfileWrites
558         .name(name() + ".int_regfile_writes")
559         .desc("number of integer regfile writes")
560         .prereq(intRegfileWrites);
561 
562     fpRegfileReads
563         .name(name() + ".fp_regfile_reads")
564         .desc("number of floating regfile reads")
565         .prereq(fpRegfileReads);
566 
567     fpRegfileWrites
568         .name(name() + ".fp_regfile_writes")
569         .desc("number of floating regfile writes")
570         .prereq(fpRegfileWrites);
571 
572     ccRegfileReads
573         .name(name() + ".cc_regfile_reads")
574         .desc("number of cc regfile reads")
575         .prereq(ccRegfileReads);
576 
577     ccRegfileWrites
578         .name(name() + ".cc_regfile_writes")
579         .desc("number of cc regfile writes")
580         .prereq(ccRegfileWrites);
581 
582     miscRegfileReads
583         .name(name() + ".misc_regfile_reads")
584         .desc("number of misc regfile reads")
585         .prereq(miscRegfileReads);
586 
587     miscRegfileWrites
588         .name(name() + ".misc_regfile_writes")
589         .desc("number of misc regfile writes")
590         .prereq(miscRegfileWrites);
591 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a6f40adbce5903c52e6460ab8c17489ef}{
\index{FullO3CPU@{FullO3CPU}!removeFrontInst@{removeFrontInst}}
\index{removeFrontInst@{removeFrontInst}!FullO3CPU@{FullO3CPU}}
\subsubsection[{removeFrontInst}]{\setlength{\rightskip}{0pt plus 5cm}void removeFrontInst ({\bf DynInstPtr} \& {\em inst})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a6f40adbce5903c52e6460ab8c17489ef}
Remove an instruction from the front end of the list. There's no restriction on location of the instruction. 


\begin{DoxyCode}
1616 {
1617     DPRINTF(O3CPU, "Removing committed instruction [tid:%i] PC %s "
1618             "[sn:%lli]\n",
1619             inst->threadNumber, inst->pcState(), inst->seqNum);
1620 
1621     removeInstsThisCycle = true;
1622 
1623     // Remove the front instruction.
1624     removeList.push(inst->getInstListIt());
1625 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a37bf3e194e9e98e4e7366e35fb6ebf49}{
\index{FullO3CPU@{FullO3CPU}!removeInstsNotInROB@{removeInstsNotInROB}}
\index{removeInstsNotInROB@{removeInstsNotInROB}!FullO3CPU@{FullO3CPU}}
\subsubsection[{removeInstsNotInROB}]{\setlength{\rightskip}{0pt plus 5cm}void removeInstsNotInROB ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a37bf3e194e9e98e4e7366e35fb6ebf49}
Remove all instructions that are not currently in the \hyperlink{classROB}{ROB}. There's also an option to not squash delay slot instructions. 


\begin{DoxyCode}
1630 {
1631     DPRINTF(O3CPU, "Thread %i: Deleting instructions from instruction"
1632             " list.\n", tid);
1633 
1634     ListIt end_it;
1635 
1636     bool rob_empty = false;
1637 
1638     if (instList.empty()) {
1639         return;
1640     } else if (rob.isEmpty(tid)) {
1641         DPRINTF(O3CPU, "ROB is empty, squashing all insts.\n");
1642         end_it = instList.begin();
1643         rob_empty = true;
1644     } else {
1645         end_it = (rob.readTailInst(tid))->getInstListIt();
1646         DPRINTF(O3CPU, "ROB is not empty, squashing insts not in ROB.\n");
1647     }
1648 
1649     removeInstsThisCycle = true;
1650 
1651     ListIt inst_it = instList.end();
1652 
1653     inst_it--;
1654 
1655     // Walk through the instruction list, removing any instructions
1656     // that were inserted after the given instruction iterator, end_it.
1657     while (inst_it != end_it) {
1658         assert(!instList.empty());
1659 
1660         squashInstIt(inst_it, tid);
1661 
1662         inst_it--;
1663     }
1664 
1665     // If the ROB was empty, then we actually need to remove the first
1666     // instruction as well.
1667     if (rob_empty) {
1668         squashInstIt(inst_it, tid);
1669     }
1670 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a79f7e36d4bd89fe4528b665a949a0023}{
\index{FullO3CPU@{FullO3CPU}!removeInstsUntil@{removeInstsUntil}}
\index{removeInstsUntil@{removeInstsUntil}!FullO3CPU@{FullO3CPU}}
\subsubsection[{removeInstsUntil}]{\setlength{\rightskip}{0pt plus 5cm}void removeInstsUntil (const {\bf InstSeqNum} \& {\em seq\_\-num}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a79f7e36d4bd89fe4528b665a949a0023}
Remove all instructions younger than the given sequence number. 


\begin{DoxyCode}
1675 {
1676     assert(!instList.empty());
1677 
1678     removeInstsThisCycle = true;
1679 
1680     ListIt inst_iter = instList.end();
1681 
1682     inst_iter--;
1683 
1684     DPRINTF(O3CPU, "Deleting instructions from instruction "
1685             "list that are from [tid:%i] and above [sn:%lli] (end=%lli).\n",
1686             tid, seq_num, (*inst_iter)->seqNum);
1687 
1688     while ((*inst_iter)->seqNum > seq_num) {
1689 
1690         bool break_loop = (inst_iter == instList.begin());
1691 
1692         squashInstIt(inst_iter, tid);
1693 
1694         inst_iter--;
1695 
1696         if (break_loop)
1697             break;
1698     }
1699 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a5fd824111bd328c70c3060d121ac5d49}{
\index{FullO3CPU@{FullO3CPU}!removeThread@{removeThread}}
\index{removeThread@{removeThread}!FullO3CPU@{FullO3CPU}}
\subsubsection[{removeThread}]{\setlength{\rightskip}{0pt plus 5cm}void removeThread ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a5fd824111bd328c70c3060d121ac5d49}
Remove all of a thread's context from CPU 


\begin{DoxyCode}
906 {
907     DPRINTF(O3CPU,"[tid:%i] Removing thread context from CPU.\n", tid);
908 
909     // Copy Thread Data From RegFile
910     // If thread is suspended, it might be re-allocated
911     // this->copyToTC(tid);
912 
913 
914     // @todo: 2-27-2008: Fix how we free up rename mappings
915     // here to alleviate the case for double-freeing registers
916     // in SMT workloads.
917 
918     // Unbind Int Regs from Rename Map
919     for (int ireg = 0; ireg < TheISA::NumIntRegs; ireg++) {
920         PhysRegIndex phys_reg = renameMap[tid].lookup(ireg);
921 
922         scoreboard.unsetReg(phys_reg);
923         freeList.addReg(phys_reg);
924     }
925 
926     // Unbind Float Regs from Rename Map
927     int max_reg = TheISA::NumIntRegs + TheISA::NumFloatRegs;
928     for (int freg = TheISA::NumIntRegs; freg < max_reg; freg++) {
929         PhysRegIndex phys_reg = renameMap[tid].lookup(freg);
930 
931         scoreboard.unsetReg(phys_reg);
932         freeList.addReg(phys_reg);
933     }
934 
935     // Unbind condition-code Regs from Rename Map
936     max_reg = TheISA::NumIntRegs + TheISA::NumFloatRegs + TheISA::NumCCRegs;
937     for (int creg = TheISA::NumIntRegs + TheISA::NumFloatRegs;
938          creg < max_reg; creg++) {
939         PhysRegIndex phys_reg = renameMap[tid].lookup(creg);
940 
941         scoreboard.unsetReg(phys_reg);
942         freeList.addReg(phys_reg);
943     }
944 
945     // Squash Throughout Pipeline
946     DynInstPtr inst = commit.rob->readHeadInst(tid);
947     InstSeqNum squash_seq_num = inst->seqNum;
948     fetch.squash(0, squash_seq_num, inst, tid);
949     decode.squash(tid);
950     rename.squash(squash_seq_num, tid);
951     iew.squash(tid);
952     iew.ldstQueue.squash(squash_seq_num, tid);
953     commit.rob->squash(squash_seq_num, tid);
954 
955 
956     assert(iew.instQueue.getCount(tid) == 0);
957     assert(iew.ldstQueue.getCount(tid) == 0);
958 
959     // Reset ROB/IQ/LSQ Entries
960 
961     // Commented out for now.  This should be possible to do by
962     // telling all the pipeline stages to drain first, and then
963     // checking until the drain completes.  Once the pipeline is
964     // drained, call resetEntries(). - 10-09-06 ktlim
965 /*
966     if (activeThreads.size() >= 1) {
967         commit.rob->resetEntries();
968         iew.resetEntries();
969     }
970 */
971 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a20e502f38206c8cd988064e7bed53bb5}{
\index{FullO3CPU@{FullO3CPU}!scheduleActivateThreadEvent@{scheduleActivateThreadEvent}}
\index{scheduleActivateThreadEvent@{scheduleActivateThreadEvent}!FullO3CPU@{FullO3CPU}}
\subsubsection[{scheduleActivateThreadEvent}]{\setlength{\rightskip}{0pt plus 5cm}void scheduleActivateThreadEvent ({\bf ThreadID} {\em tid}, \/  {\bf Cycles} {\em delay})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classFullO3CPU_a20e502f38206c8cd988064e7bed53bb5}
Schedule thread to activate , regardless of its current state. 


\begin{DoxyCode}
258     {
259         // Schedule thread to activate, regardless of its current state.
260         if (activateThreadEvent[tid].squashed())
261             reschedule(activateThreadEvent[tid],
262                        clockEdge(delay));
263         else if (!activateThreadEvent[tid].scheduled()) {
264             Tick when = clockEdge(delay);
265 
266             // Check if the deallocateEvent is also scheduled, and make
267             // sure they do not happen at same time causing a sleep that
268             // is never woken from.
269             if (deallocateContextEvent[tid].scheduled() &&
270                 deallocateContextEvent[tid].when() == when) {
271                 when++;
272             }
273 
274             schedule(activateThreadEvent[tid], when);
275         }
276     }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a64179a936408228ff1718afd541e230b}{
\index{FullO3CPU@{FullO3CPU}!scheduleDeallocateContext@{scheduleDeallocateContext}}
\index{scheduleDeallocateContext@{scheduleDeallocateContext}!FullO3CPU@{FullO3CPU}}
\subsubsection[{scheduleDeallocateContext}]{\setlength{\rightskip}{0pt plus 5cm}bool scheduleDeallocateContext ({\bf ThreadID} {\em tid}, \/  bool {\em remove}, \/  {\bf Cycles} {\em delay} = {\ttfamily {\bf Cycles}(1)})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a64179a936408228ff1718afd541e230b}
Remove Thread from Active Threads List \&\& Possibly Remove Thread Context from CPU. 


\begin{DoxyCode}
806 {
807     // Schedule removal of thread data from CPU
808     if (delay){
809         DPRINTF(O3CPU, "[tid:%i]: Scheduling thread context to deallocate "
810                 "on tick %d\n", tid, clockEdge(delay));
811         scheduleDeallocateContextEvent(tid, remove, delay);
812         return false;
813     } else {
814         deactivateThread(tid);
815         if (remove)
816             removeThread(tid);
817         return true;
818     }
819 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a8c575b3dcfc822888003b64457ac9755}{
\index{FullO3CPU@{FullO3CPU}!scheduleDeallocateContextEvent@{scheduleDeallocateContextEvent}}
\index{scheduleDeallocateContextEvent@{scheduleDeallocateContextEvent}!FullO3CPU@{FullO3CPU}}
\subsubsection[{scheduleDeallocateContextEvent}]{\setlength{\rightskip}{0pt plus 5cm}void scheduleDeallocateContextEvent ({\bf ThreadID} {\em tid}, \/  bool {\em remove}, \/  {\bf Cycles} {\em delay})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classFullO3CPU_a8c575b3dcfc822888003b64457ac9755}
Schedule cpu to deallocate thread context. 


\begin{DoxyCode}
321     {
322         // Schedule thread to activate, regardless of its current state.
323         if (deallocateContextEvent[tid].squashed())
324             reschedule(deallocateContextEvent[tid],
325                        clockEdge(delay));
326         else if (!deallocateContextEvent[tid].scheduled())
327             schedule(deallocateContextEvent[tid],
328                      clockEdge(delay));
329     }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a71eb9ea7b25032de341033111b946dfc}{
\index{FullO3CPU@{FullO3CPU}!scheduleTickEvent@{scheduleTickEvent}}
\index{scheduleTickEvent@{scheduleTickEvent}!FullO3CPU@{FullO3CPU}}
\subsubsection[{scheduleTickEvent}]{\setlength{\rightskip}{0pt plus 5cm}void scheduleTickEvent ({\bf Cycles} {\em delay})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classFullO3CPU_a71eb9ea7b25032de341033111b946dfc}
Schedule tick event, regardless of its current state. 


\begin{DoxyCode}
218     {
219         if (tickEvent.squashed())
220             reschedule(tickEvent, clockEdge(delay));
221         else if (!tickEvent.scheduled())
222             schedule(tickEvent, clockEdge(delay));
223     }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a688ca491f5419c29fb81f8235ba1dc13}{
\index{FullO3CPU@{FullO3CPU}!serializeThread@{serializeThread}}
\index{serializeThread@{serializeThread}!FullO3CPU@{FullO3CPU}}
\subsubsection[{serializeThread}]{\setlength{\rightskip}{0pt plus 5cm}void serializeThread (std::ostream \& {\em os}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a688ca491f5419c29fb81f8235ba1dc13}



\begin{DoxyCode}
1135 {
1136     thread[tid]->serialize(os);
1137 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_aae7106b0574d000f60ebacc2f938fe62}{
\index{FullO3CPU@{FullO3CPU}!setArchCCReg@{setArchCCReg}}
\index{setArchCCReg@{setArchCCReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{setArchCCReg}]{\setlength{\rightskip}{0pt plus 5cm}void setArchCCReg (int {\em reg\_\-idx}, \/  TheISA::CCReg {\em val}, \/  {\bf ThreadID} {\em tid})}}
\label{classFullO3CPU_aae7106b0574d000f60ebacc2f938fe62}
\hypertarget{classFullO3CPU_ac527b87a643907df19ca5f4600200382}{
\index{FullO3CPU@{FullO3CPU}!setArchFloatReg@{setArchFloatReg}}
\index{setArchFloatReg@{setArchFloatReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{setArchFloatReg}]{\setlength{\rightskip}{0pt plus 5cm}void setArchFloatReg (int {\em reg\_\-idx}, \/  float {\em val}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ac527b87a643907df19ca5f4600200382}



\begin{DoxyCode}
1514 {
1515     fpRegfileWrites++;
1516     PhysRegIndex phys_reg = commitRenameMap[tid].lookupFloat(reg_idx);
1517 
1518     regFile.setFloatReg(phys_reg, val);
1519 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a1295e65a7841d7e83a5f3a3c44770c8f}{
\index{FullO3CPU@{FullO3CPU}!setArchFloatRegInt@{setArchFloatRegInt}}
\index{setArchFloatRegInt@{setArchFloatRegInt}!FullO3CPU@{FullO3CPU}}
\subsubsection[{setArchFloatRegInt}]{\setlength{\rightskip}{0pt plus 5cm}void setArchFloatRegInt (int {\em reg\_\-idx}, \/  uint64\_\-t {\em val}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a1295e65a7841d7e83a5f3a3c44770c8f}



\begin{DoxyCode}
1524 {
1525     fpRegfileWrites++;
1526     PhysRegIndex phys_reg = commitRenameMap[tid].lookupFloat(reg_idx);
1527 
1528     regFile.setFloatRegBits(phys_reg, val);
1529 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a09df95cc1f92c9002cd7c0506e2ba864}{
\index{FullO3CPU@{FullO3CPU}!setArchIntReg@{setArchIntReg}}
\index{setArchIntReg@{setArchIntReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{setArchIntReg}]{\setlength{\rightskip}{0pt plus 5cm}void setArchIntReg (int {\em reg\_\-idx}, \/  uint64\_\-t {\em val}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a09df95cc1f92c9002cd7c0506e2ba864}
Architectural register accessors. Looks up in the commit rename table to obtain the true physical index of the architected register first, then accesses that physical register. 


\begin{DoxyCode}
1504 {
1505     intRegfileWrites++;
1506     PhysRegIndex phys_reg = commitRenameMap[tid].lookupInt(reg_idx);
1507 
1508     regFile.setIntReg(phys_reg, val);
1509 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ab41bd7f1c28d09676694843602e180b6}{
\index{FullO3CPU@{FullO3CPU}!setCCReg@{setCCReg}}
\index{setCCReg@{setCCReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{setCCReg}]{\setlength{\rightskip}{0pt plus 5cm}void setCCReg (int {\em reg\_\-idx}, \/  TheISA::CCReg {\em val})}}
\label{classFullO3CPU_ab41bd7f1c28d09676694843602e180b6}
\hypertarget{classFullO3CPU_ab4fbd29dd25664125eb83aa0d1c45a96}{
\index{FullO3CPU@{FullO3CPU}!setFloatReg@{setFloatReg}}
\index{setFloatReg@{setFloatReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{setFloatReg}]{\setlength{\rightskip}{0pt plus 5cm}void setFloatReg (int {\em reg\_\-idx}, \/  TheISA::FloatReg {\em val})}}
\label{classFullO3CPU_ab4fbd29dd25664125eb83aa0d1c45a96}
\hypertarget{classFullO3CPU_ad25b1101e69d1987937252f44c48fb96}{
\index{FullO3CPU@{FullO3CPU}!setFloatRegBits@{setFloatRegBits}}
\index{setFloatRegBits@{setFloatRegBits}!FullO3CPU@{FullO3CPU}}
\subsubsection[{setFloatRegBits}]{\setlength{\rightskip}{0pt plus 5cm}void setFloatRegBits (int {\em reg\_\-idx}, \/  TheISA::FloatRegBits {\em val})}}
\label{classFullO3CPU_ad25b1101e69d1987937252f44c48fb96}
\hypertarget{classFullO3CPU_abc264e8ee37c6bd7d7b5759b97c34356}{
\index{FullO3CPU@{FullO3CPU}!setIntReg@{setIntReg}}
\index{setIntReg@{setIntReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{setIntReg}]{\setlength{\rightskip}{0pt plus 5cm}void setIntReg (int {\em reg\_\-idx}, \/  uint64\_\-t {\em val})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_abc264e8ee37c6bd7d7b5759b97c34356}



\begin{DoxyCode}
1432 {
1433     intRegfileWrites++;
1434     regFile.setIntReg(reg_idx, val);
1435 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a880c4c099ed7676fcbc9f76989e400b7}{
\index{FullO3CPU@{FullO3CPU}!setMiscReg@{setMiscReg}}
\index{setMiscReg@{setMiscReg}!FullO3CPU@{FullO3CPU}}
\subsubsection[{setMiscReg}]{\setlength{\rightskip}{0pt plus 5cm}void setMiscReg (int {\em misc\_\-reg}, \/  const TheISA::MiscReg \& {\em val}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a880c4c099ed7676fcbc9f76989e400b7}
Sets a misc. register, including any side effects the write might have as defined by the architecture. 


\begin{DoxyCode}
1392 {
1393     miscRegfileWrites++;
1394     this->isa[tid]->setMiscReg(misc_reg, val, tcBase(tid));
1395 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_acd6f1f298148bb7eebfa8c800c4066e2}{
\index{FullO3CPU@{FullO3CPU}!setMiscRegNoEffect@{setMiscRegNoEffect}}
\index{setMiscRegNoEffect@{setMiscRegNoEffect}!FullO3CPU@{FullO3CPU}}
\subsubsection[{setMiscRegNoEffect}]{\setlength{\rightskip}{0pt plus 5cm}void setMiscRegNoEffect (int {\em misc\_\-reg}, \/  const TheISA::MiscReg \& {\em val}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_acd6f1f298148bb7eebfa8c800c4066e2}
Sets a miscellaneous register. 


\begin{DoxyCode}
1384 {
1385     this->isa[tid]->setMiscRegNoEffect(misc_reg, val);
1386 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a875eebdeba298f450fe84b0a05349afe}{
\index{FullO3CPU@{FullO3CPU}!simPalCheck@{simPalCheck}}
\index{simPalCheck@{simPalCheck}!FullO3CPU@{FullO3CPU}}
\subsubsection[{simPalCheck}]{\setlength{\rightskip}{0pt plus 5cm}bool simPalCheck (int {\em palFunc}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a875eebdeba298f450fe84b0a05349afe}



\begin{DoxyCode}
1056 {
1057 #if THE_ISA == ALPHA_ISA
1058     if (this->thread[tid]->kernelStats)
1059         this->thread[tid]->kernelStats->callpal(palFunc,
1060                                                 this->threadContexts[tid]);
1061 
1062     switch (palFunc) {
1063       case PAL::halt:
1064         halt();
1065         if (--System::numSystemsRunning == 0)
1066             exitSimLoop("all cpus halted");
1067         break;
1068 
1069       case PAL::bpt:
1070       case PAL::bugchk:
1071         if (this->system->breakpoint())
1072             return false;
1073         break;
1074     }
1075 #endif
1076     return true;
1077 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ac4c7a18be5c282d711310ffb7b6f82f7}{
\index{FullO3CPU@{FullO3CPU}!squashFromTC@{squashFromTC}}
\index{squashFromTC@{squashFromTC}!FullO3CPU@{FullO3CPU}}
\subsubsection[{squashFromTC}]{\setlength{\rightskip}{0pt plus 5cm}void squashFromTC ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ac4c7a18be5c282d711310ffb7b6f82f7}
Initiates a squash of all in-\/flight instructions for a given thread. The source of the squash is an external update of state through the TC. 


\begin{DoxyCode}
1579 {
1580     this->thread[tid]->noSquashFromTC = true;
1581     this->commit.generateTCEvent(tid);
1582 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a2b698a48b0c233f49e2994bc28dc0bbf}{
\index{FullO3CPU@{FullO3CPU}!squashInstIt@{squashInstIt}}
\index{squashInstIt@{squashInstIt}!FullO3CPU@{FullO3CPU}}
\subsubsection[{squashInstIt}]{\setlength{\rightskip}{0pt plus 5cm}void squashInstIt (const {\bf ListIt} \& {\em instIt}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a2b698a48b0c233f49e2994bc28dc0bbf}
Removes the instruction pointed to by the iterator. 


\begin{DoxyCode}
1704 {
1705     if ((*instIt)->threadNumber == tid) {
1706         DPRINTF(O3CPU, "Squashing instruction, "
1707                 "[tid:%i] [sn:%lli] PC %s\n",
1708                 (*instIt)->threadNumber,
1709                 (*instIt)->seqNum,
1710                 (*instIt)->pcState());
1711 
1712         // Mark it as squashed.
1713         (*instIt)->setSquashed();
1714 
1715         // @todo: Formulate a consistent method for deleting
1716         // instructions from the instruction list
1717         // Remove the instruction from the list.
1718         removeList.push(instIt);
1719     }
1720 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_aecc7d8debf54990ffeaaed5bac7d7d81}{
\index{FullO3CPU@{FullO3CPU}!startup@{startup}}
\index{startup@{startup}!FullO3CPU@{FullO3CPU}}
\subsubsection[{startup}]{\setlength{\rightskip}{0pt plus 5cm}void startup ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_aecc7d8debf54990ffeaaed5bac7d7d81}



\begin{DoxyCode}
685 {
686     BaseCPU::startup();
687     for (int tid = 0; tid < numThreads; ++tid)
688         isa[tid]->startup(threadContexts[tid]);
689 
690     fetch.startupStage();
691     decode.startupStage();
692     iew.startupStage();
693     rename.startupStage();
694     commit.startupStage();
695 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_aed2e2b9af515a66bdde61b85f150856a}{
\index{FullO3CPU@{FullO3CPU}!suspendContext@{suspendContext}}
\index{suspendContext@{suspendContext}!FullO3CPU@{FullO3CPU}}
\subsubsection[{suspendContext}]{\setlength{\rightskip}{0pt plus 5cm}void suspendContext ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_aed2e2b9af515a66bdde61b85f150856a}
Remove Thread from Active Threads List 


\begin{DoxyCode}
824 {
825     DPRINTF(O3CPU,"[tid: %i]: Suspending Thread Context.\n", tid);
826     assert(!switchedOut());
827     bool deallocated = scheduleDeallocateContext(tid, false, Cycles(1));
828     // If this was the last thread then unschedule the tick event.
829     if ((activeThreads.size() == 1 && !deallocated) ||
830         activeThreads.size() == 0)
831         unscheduleTickEvent();
832 
833     DPRINTF(Quiesce, "Suspending Context\n");
834     lastRunningCycle = curCycle();
835     _status = Idle;
836 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a05f299b443f8cc73a93d61572edc0218}{
\index{FullO3CPU@{FullO3CPU}!switchOut@{switchOut}}
\index{switchOut@{switchOut}!FullO3CPU@{FullO3CPU}}
\subsubsection[{switchOut}]{\setlength{\rightskip}{0pt plus 5cm}void switchOut ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classFullO3CPU_a05f299b443f8cc73a93d61572edc0218}
Switches out this CPU. 


\begin{DoxyCode}
1321 {
1322     DPRINTF(O3CPU, "Switching out\n");
1323     BaseCPU::switchOut();
1324 
1325     activityRec.reset();
1326 
1327     _status = SwitchedOut;
1328 
1329     if (checker)
1330         checker->switchOut();
1331 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a2d6a2bbae85e604392f43b3418cdec97}{
\index{FullO3CPU@{FullO3CPU}!syscall@{syscall}}
\index{syscall@{syscall}!FullO3CPU@{FullO3CPU}}
\subsubsection[{syscall}]{\setlength{\rightskip}{0pt plus 5cm}void syscall (int64\_\-t {\em callnum}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a2d6a2bbae85e604392f43b3418cdec97}
Executes a syscall. \begin{Desc}
\item[\hyperlink{todo__todo000027}{TODO}]: Determine if this needs to be virtual. \end{Desc}



\begin{DoxyCode}
1115 {
1116     DPRINTF(O3CPU, "[tid:%i] Executing syscall().\n\n", tid);
1117 
1118     DPRINTF(Activity,"Activity: syscall() called.\n");
1119 
1120     // Temporarily increase this by one to account for the syscall
1121     // instruction.
1122     ++(this->thread[tid]->funcExeInst);
1123 
1124     // Execute the actual syscall.
1125     this->thread[tid]->syscall(callnum);
1126 
1127     // Decrease funcExeInst by one as the normal commit will handle
1128     // incrementing it.
1129     --(this->thread[tid]->funcExeInst);
1130 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ac82d2b8d331b2e8e6854a95d2917dfa2}{
\index{FullO3CPU@{FullO3CPU}!takeOverFrom@{takeOverFrom}}
\index{takeOverFrom@{takeOverFrom}!FullO3CPU@{FullO3CPU}}
\subsubsection[{takeOverFrom}]{\setlength{\rightskip}{0pt plus 5cm}void takeOverFrom ({\bf BaseCPU} $\ast$ {\em oldCPU})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classFullO3CPU_ac82d2b8d331b2e8e6854a95d2917dfa2}
Takes over from another CPU. 


\begin{DoxyCode}
1336 {
1337     BaseCPU::takeOverFrom(oldCPU);
1338 
1339     fetch.takeOverFrom();
1340     decode.takeOverFrom();
1341     rename.takeOverFrom();
1342     iew.takeOverFrom();
1343     commit.takeOverFrom();
1344 
1345     assert(!tickEvent.scheduled());
1346 
1347     FullO3CPU<Impl> *oldO3CPU = dynamic_cast<FullO3CPU<Impl>*>(oldCPU);
1348     if (oldO3CPU)
1349         globalSeqNum = oldO3CPU->globalSeqNum;
1350 
1351     lastRunningCycle = curCycle();
1352     _status = Idle;
1353 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_acaae0f849591d618f1c202e5ed29b4e4}{
\index{FullO3CPU@{FullO3CPU}!tcBase@{tcBase}}
\index{tcBase@{tcBase}!FullO3CPU@{FullO3CPU}}
\subsubsection[{tcBase}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ThreadContext}$\ast$ tcBase ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_acaae0f849591d618f1c202e5ed29b4e4}
Returns a pointer to a thread context. 


\begin{DoxyCode}
773     {
774         return thread[tid]->getTC();
775     }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a873dd91783f9efb4a590aded1f70d6b0}{
\index{FullO3CPU@{FullO3CPU}!tick@{tick}}
\index{tick@{tick}!FullO3CPU@{FullO3CPU}}
\subsubsection[{tick}]{\setlength{\rightskip}{0pt plus 5cm}void tick ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a873dd91783f9efb4a590aded1f70d6b0}
Ticks CPU, calling \hyperlink{classFullO3CPU_a873dd91783f9efb4a590aded1f70d6b0}{tick()} on each stage, and checking the overall activity to see if the CPU should deschedule itself. 


\begin{DoxyCode}
596 {
597     DPRINTF(O3CPU, "\n\nFullO3CPU: Ticking main, FullO3CPU.\n");
598     assert(!switchedOut());
599     assert(getDrainState() != Drainable::Drained);
600 
601     ++numCycles;
602 
603 //    activity = false;
604 
605     //Tick each of the stages
606     fetch.tick();
607 
608     decode.tick();
609 
610     rename.tick();
611 
612     iew.tick();
613 
614     commit.tick();
615 
616     if (!FullSystem)
617         doContextSwitch();
618 
619     // Now advance the time buffers
620     timeBuffer.advance();
621 
622     fetchQueue.advance();
623     decodeQueue.advance();
624     renameQueue.advance();
625     iewQueue.advance();
626 
627     activityRec.advance();
628 
629     if (removeInstsThisCycle) {
630         cleanUpRemovedInsts();
631     }
632 
633     if (!tickEvent.scheduled()) {
634         if (_status == SwitchedOut) {
635             DPRINTF(O3CPU, "Switched out!\n");
636             // increment stat
637             lastRunningCycle = curCycle();
638         } else if (!activityRec.active() || _status == Idle) {
639             DPRINTF(O3CPU, "Idle!\n");
640             lastRunningCycle = curCycle();
641             timesIdled++;
642         } else {
643             schedule(tickEvent, clockEdge(Cycles(1)));
644             DPRINTF(O3CPU, "Scheduling next tick!\n");
645         }
646     }
647 
648     if (!FullSystem)
649         updateThreadPriority();
650 
651     tryDrain();
652 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a7e01d94bb5a6e15fa8c94bcdf276115d}{
\index{FullO3CPU@{FullO3CPU}!totalInsts@{totalInsts}}
\index{totalInsts@{totalInsts}!FullO3CPU@{FullO3CPU}}
\subsubsection[{totalInsts}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Counter} totalInsts () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classFullO3CPU_a7e01d94bb5a6e15fa8c94bcdf276115d}
Count the Total Instructions Committed in the CPU. 


\begin{DoxyCode}
736 {
737     Counter total(0);
738 
739     ThreadID size = thread.size();
740     for (ThreadID i = 0; i < size; i++)
741         total += thread[i]->numInst;
742 
743     return total;
744 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a76fa5df6827aaa8fc26deebad97d9e78}{
\index{FullO3CPU@{FullO3CPU}!totalOps@{totalOps}}
\index{totalOps@{totalOps}!FullO3CPU@{FullO3CPU}}
\subsubsection[{totalOps}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Counter} totalOps () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classFullO3CPU_a76fa5df6827aaa8fc26deebad97d9e78}
Count the Total Ops (including micro ops) committed in the CPU. 


\begin{DoxyCode}
749 {
750     Counter total(0);
751 
752     ThreadID size = thread.size();
753     for (ThreadID i = 0; i < size; i++)
754         total += thread[i]->numOp;
755 
756     return total;
757 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a23c9d89f64f4cfd6f48b106b99b119c4}{
\index{FullO3CPU@{FullO3CPU}!trap@{trap}}
\index{trap@{trap}!FullO3CPU@{FullO3CPU}}
\subsubsection[{trap}]{\setlength{\rightskip}{0pt plus 5cm}void trap ({\bf Fault} {\em fault}, \/  {\bf ThreadID} {\em tid}, \/  {\bf StaticInstPtr} {\em inst})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a23c9d89f64f4cfd6f48b106b99b119c4}
Traps to handle given fault. 


\begin{DoxyCode}
1107 {
1108     // Pass the thread's TC into the invoke method.
1109     fault->invoke(this->threadContexts[tid], inst);
1110 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a250ca18dfc0316e340eaa2ec45d73c3e}{
\index{FullO3CPU@{FullO3CPU}!tryDrain@{tryDrain}}
\index{tryDrain@{tryDrain}!FullO3CPU@{FullO3CPU}}
\subsubsection[{tryDrain}]{\setlength{\rightskip}{0pt plus 5cm}bool tryDrain ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classFullO3CPU_a250ca18dfc0316e340eaa2ec45d73c3e}
\hyperlink{classCheck}{Check} if the pipeline has drained and signal the \hyperlink{classDrainManager}{DrainManager}.

This method checks if a drain has been requested and if the CPU has drained successfully (i.e., there are no instructions in the pipeline). If the CPU has drained, it deschedules the tick event and signals the drain manager.

\begin{DoxyReturn}{戻り値}
False if a drain hasn't been requested or the CPU hasn't drained, true otherwise. 
\end{DoxyReturn}



\begin{DoxyCode}
1205 {
1206     if (!drainManager || !isDrained())
1207         return false;
1208 
1209     if (tickEvent.scheduled())
1210         deschedule(tickEvent);
1211 
1212     DPRINTF(Drain, "CPU done draining, processing drain event\n");
1213     drainManager->signalDrainDone();
1214     drainManager = NULL;
1215 
1216     return true;
1217 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ae0bacbe9552a4b3a03f2748d2d58b3a2}{
\index{FullO3CPU@{FullO3CPU}!unscheduleActivateThreadEvent@{unscheduleActivateThreadEvent}}
\index{unscheduleActivateThreadEvent@{unscheduleActivateThreadEvent}!FullO3CPU@{FullO3CPU}}
\subsubsection[{unscheduleActivateThreadEvent}]{\setlength{\rightskip}{0pt plus 5cm}void unscheduleActivateThreadEvent ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classFullO3CPU_ae0bacbe9552a4b3a03f2748d2d58b3a2}
Unschedule actiavte thread event, regardless of its current state. 


\begin{DoxyCode}
281     {
282         if (activateThreadEvent[tid].scheduled())
283             activateThreadEvent[tid].squash();
284     }
\end{DoxyCode}
\hypertarget{classFullO3CPU_adce69706fd17d1dca824e60ab0100e8b}{
\index{FullO3CPU@{FullO3CPU}!unscheduleDeallocateContextEvent@{unscheduleDeallocateContextEvent}}
\index{unscheduleDeallocateContextEvent@{unscheduleDeallocateContextEvent}!FullO3CPU@{FullO3CPU}}
\subsubsection[{unscheduleDeallocateContextEvent}]{\setlength{\rightskip}{0pt plus 5cm}void unscheduleDeallocateContextEvent ({\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classFullO3CPU_adce69706fd17d1dca824e60ab0100e8b}
Unschedule thread deallocation in CPU 


\begin{DoxyCode}
334     {
335         if (deallocateContextEvent[tid].scheduled())
336             deallocateContextEvent[tid].squash();
337     }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ad819e7898bd94721d107a35fde764390}{
\index{FullO3CPU@{FullO3CPU}!unscheduleTickEvent@{unscheduleTickEvent}}
\index{unscheduleTickEvent@{unscheduleTickEvent}!FullO3CPU@{FullO3CPU}}
\subsubsection[{unscheduleTickEvent}]{\setlength{\rightskip}{0pt plus 5cm}void unscheduleTickEvent ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classFullO3CPU_ad819e7898bd94721d107a35fde764390}
Unschedule tick event, regardless of its current state. 


\begin{DoxyCode}
227     {
228         if (tickEvent.scheduled())
229             tickEvent.squash();
230     }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a5122e6d6fdbdb3cb9ba72ae970f00a9e}{
\index{FullO3CPU@{FullO3CPU}!unserializeThread@{unserializeThread}}
\index{unserializeThread@{unserializeThread}!FullO3CPU@{FullO3CPU}}
\subsubsection[{unserializeThread}]{\setlength{\rightskip}{0pt plus 5cm}void unserializeThread ({\bf Checkpoint} $\ast$ {\em cp}, \/  const std::string \& {\em section}, \/  {\bf ThreadID} {\em tid})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a5122e6d6fdbdb3cb9ba72ae970f00a9e}



\begin{DoxyCode}
1143 {
1144     thread[tid]->unserialize(cp, section);
1145 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a00247488696e6ff608a2a44673578094}{
\index{FullO3CPU@{FullO3CPU}!updateThreadPriority@{updateThreadPriority}}
\index{updateThreadPriority@{updateThreadPriority}!FullO3CPU@{FullO3CPU}}
\subsubsection[{updateThreadPriority}]{\setlength{\rightskip}{0pt plus 5cm}void updateThreadPriority ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a00247488696e6ff608a2a44673578094}
Update The Order In Which We \hyperlink{classProcess}{Process} Threads. 


\begin{DoxyCode}
1845 {
1846     if (activeThreads.size() > 1) {
1847         //DEFAULT TO ROUND ROBIN SCHEME
1848         //e.g. Move highest priority to end of thread list
1849         list<ThreadID>::iterator list_begin = activeThreads.begin();
1850 
1851         unsigned high_thread = *list_begin;
1852 
1853         activeThreads.erase(list_begin);
1854 
1855         activeThreads.push_back(high_thread);
1856     }
1857 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_afe01e4cef8897b8a4ff99d575875c9db}{
\index{FullO3CPU@{FullO3CPU}!validDataAddr@{validDataAddr}}
\index{validDataAddr@{validDataAddr}!FullO3CPU@{FullO3CPU}}
\subsubsection[{validDataAddr}]{\setlength{\rightskip}{0pt plus 5cm}bool validDataAddr ({\bf Addr} {\em addr})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_afe01e4cef8897b8a4ff99d575875c9db}
\hyperlink{classCheck}{Check} if this address is a valid data address. 


\begin{DoxyCode}
521 { return true; }
\end{DoxyCode}
\hypertarget{classFullO3CPU_af5f6a59bc2ed83b0cf9203ba8c63bf34}{
\index{FullO3CPU@{FullO3CPU}!validInstAddr@{validInstAddr}}
\index{validInstAddr@{validInstAddr}!FullO3CPU@{FullO3CPU}}
\subsubsection[{validInstAddr}]{\setlength{\rightskip}{0pt plus 5cm}bool validInstAddr ({\bf Addr} {\em addr})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_af5f6a59bc2ed83b0cf9203ba8c63bf34}
\hyperlink{classCheck}{Check} if this address is a valid instruction address. 


\begin{DoxyCode}
518 { return true; }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ae2e1ccebe596a180f8105d57f9a93645}{
\index{FullO3CPU@{FullO3CPU}!verifyMemoryMode@{verifyMemoryMode}}
\index{verifyMemoryMode@{verifyMemoryMode}!FullO3CPU@{FullO3CPU}}
\subsubsection[{verifyMemoryMode}]{\setlength{\rightskip}{0pt plus 5cm}void verifyMemoryMode () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_ae2e1ccebe596a180f8105d57f9a93645}



\begin{DoxyCode}
1358 {
1359     if (!system->isTimingMode()) {
1360         fatal("The O3 CPU requires the memory system to be in "
1361               "'timing' mode.\n");
1362     }
1363 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_abce3a63b123f84972e4df7962f9b870e}{
\index{FullO3CPU@{FullO3CPU}!wakeCPU@{wakeCPU}}
\index{wakeCPU@{wakeCPU}!FullO3CPU@{FullO3CPU}}
\subsubsection[{wakeCPU}]{\setlength{\rightskip}{0pt plus 5cm}void wakeCPU ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_abce3a63b123f84972e4df7962f9b870e}
Wakes the CPU, rescheduling the CPU if it's not already active. 


\begin{DoxyCode}
1779 {
1780     if (activityRec.active() || tickEvent.scheduled()) {
1781         DPRINTF(Activity, "CPU already running.\n");
1782         return;
1783     }
1784 
1785     DPRINTF(Activity, "Waking up CPU\n");
1786 
1787     Cycles cycles(curCycle() - lastRunningCycle);
1788     // @todo: This is an oddity that is only here to match the stats
1789     if (cycles != 0)
1790         --cycles;
1791     idleCycles += cycles;
1792     numCycles += cycles;
1793 
1794     schedule(tickEvent, clockEdge());
1795 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_ae674290a26ecbd622c5160e38e8a4fe9}{
\index{FullO3CPU@{FullO3CPU}!wakeup@{wakeup}}
\index{wakeup@{wakeup}!FullO3CPU@{FullO3CPU}}
\subsubsection[{wakeup}]{\setlength{\rightskip}{0pt plus 5cm}void wakeup ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classFullO3CPU_ae674290a26ecbd622c5160e38e8a4fe9}


\hyperlink{classBaseCPU_a75101f8aee74078c8c3c1d1f3617f7cc}{BaseCPU}を再定義しています。


\begin{DoxyCode}
1800 {
1801     if (this->thread[0]->status() != ThreadContext::Suspended)
1802         return;
1803 
1804     this->wakeCPU();
1805 
1806     DPRINTF(Quiesce, "Suspended Processor woken\n");
1807     this->threadContexts[0]->activate();
1808 }
\end{DoxyCode}
\hypertarget{classFullO3CPU_a43e0f9eec34726914d8eb76f5d884cc8}{
\index{FullO3CPU@{FullO3CPU}!write@{write}}
\index{write@{write}!FullO3CPU@{FullO3CPU}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Fault} write ({\bf RequestPtr} \& {\em req}, \/  {\bf RequestPtr} \& {\em sreqLow}, \/  {\bf RequestPtr} \& {\em sreqHigh}, \/  uint8\_\-t $\ast$ {\em data}, \/  int {\em store\_\-idx})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFullO3CPU_a43e0f9eec34726914d8eb76f5d884cc8}
CPU write function, forwards write to \hyperlink{classLSQ}{LSQ}. 


\begin{DoxyCode}
824     {
825         return this->iew.ldstQueue.write(req, sreqLow, sreqHigh,
826                                          data, store_idx);
827     }
\end{DoxyCode}


\subsection{フレンドと関連する関数}
\hypertarget{classFullO3CPU_a8744c7a2c370330e0f577992900dfb66}{
\index{FullO3CPU@{FullO3CPU}!O3ThreadContext$<$ Impl $>$@{O3ThreadContext$<$ Impl $>$}}
\index{O3ThreadContext$<$ Impl $>$@{O3ThreadContext$<$ Impl $>$}!FullO3CPU@{FullO3CPU}}
\subsubsection[{O3ThreadContext$<$ Impl $>$}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf O3ThreadContext}$<$ Impl $>$\hspace{0.3cm}{\ttfamily  \mbox{[}friend\mbox{]}}}}
\label{classFullO3CPU_a8744c7a2c370330e0f577992900dfb66}


\subsection{変数}
\hypertarget{classFullO3CPU_a6cdf6e6db875a442f3ab6db542bd2bb5}{
\index{FullO3CPU@{FullO3CPU}!\_\-status@{\_\-status}}
\index{\_\-status@{\_\-status}!FullO3CPU@{FullO3CPU}}
\subsubsection[{\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Status} {\bf \_\-status}}}
\label{classFullO3CPU_a6cdf6e6db875a442f3ab6db542bd2bb5}
Overall CPU status. \hypertarget{classFullO3CPU_a2cc2815b59781367286d6a31fc45e9d3}{
\index{FullO3CPU@{FullO3CPU}!activateThreadEvent@{activateThreadEvent}}
\index{activateThreadEvent@{activateThreadEvent}!FullO3CPU@{FullO3CPU}}
\subsubsection[{activateThreadEvent}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ActivateThreadEvent} {\bf activateThreadEvent}\mbox{[}Impl::MaxThreads\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFullO3CPU_a2cc2815b59781367286d6a31fc45e9d3}
The tick event used for scheduling CPU ticks. \hypertarget{classFullO3CPU_ae8939711cc7f6e9c795d16df91f9f258}{
\index{FullO3CPU@{FullO3CPU}!activeThreads@{activeThreads}}
\index{activeThreads@{activeThreads}!FullO3CPU@{FullO3CPU}}
\subsubsection[{activeThreads}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::list}$<${\bf ThreadID}$>$ {\bf activeThreads}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_ae8939711cc7f6e9c795d16df91f9f258}
Active Threads List \hypertarget{classFullO3CPU_ae5ad3ebe67382e7fbc7fddcf48ae9c6c}{
\index{FullO3CPU@{FullO3CPU}!activityRec@{activityRec}}
\index{activityRec@{activityRec}!FullO3CPU@{FullO3CPU}}
\subsubsection[{activityRec}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ActivityRecorder} {\bf activityRec}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFullO3CPU_ae5ad3ebe67382e7fbc7fddcf48ae9c6c}
The activity recorder; used to tell if the CPU has any activity remaining or if it can go to idle and deschedule itself. \hypertarget{classFullO3CPU_a54d1bb817fb61f8ea36ad3b2063f27c6}{
\index{FullO3CPU@{FullO3CPU}!ccRegfileReads@{ccRegfileReads}}
\index{ccRegfileReads@{ccRegfileReads}!FullO3CPU@{FullO3CPU}}
\subsubsection[{ccRegfileReads}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf ccRegfileReads}}}
\label{classFullO3CPU_a54d1bb817fb61f8ea36ad3b2063f27c6}
\hypertarget{classFullO3CPU_abd236585eb8f96cd37f7cea04204d456}{
\index{FullO3CPU@{FullO3CPU}!ccRegfileWrites@{ccRegfileWrites}}
\index{ccRegfileWrites@{ccRegfileWrites}!FullO3CPU@{FullO3CPU}}
\subsubsection[{ccRegfileWrites}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf ccRegfileWrites}}}
\label{classFullO3CPU_abd236585eb8f96cd37f7cea04204d456}
\hypertarget{classFullO3CPU_a85ab02c76c80bbfce7b3ce7981c55f68}{
\index{FullO3CPU@{FullO3CPU}!checker@{checker}}
\index{checker@{checker}!FullO3CPU@{FullO3CPU}}
\subsubsection[{checker}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Checker}$<$Impl$>$$\ast$ {\bf checker}}}
\label{classFullO3CPU_a85ab02c76c80bbfce7b3ce7981c55f68}
Pointer to the checker, which can dynamically verify instruction results at run time. This can be set to NULL if it is not being used. 

\hyperlink{classBaseCPU_ad79de7771e2fdfe4aa9ba3d4f7e6972c}{BaseCPU}を再定義しています。\hypertarget{classFullO3CPU_a2cb9d36b31d8d38af97362bb47f6e930}{
\index{FullO3CPU@{FullO3CPU}!commit@{commit}}
\index{commit@{commit}!FullO3CPU@{FullO3CPU}}
\subsubsection[{commit}]{\setlength{\rightskip}{0pt plus 5cm}CPUPolicy::Commit {\bf commit}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_a2cb9d36b31d8d38af97362bb47f6e930}
The commit stage. \hypertarget{classFullO3CPU_a276327b80d93babf5512b90c6daae5e4}{
\index{FullO3CPU@{FullO3CPU}!commitRenameMap@{commitRenameMap}}
\index{commitRenameMap@{commitRenameMap}!FullO3CPU@{FullO3CPU}}
\subsubsection[{commitRenameMap}]{\setlength{\rightskip}{0pt plus 5cm}CPUPolicy::RenameMap {\bf commitRenameMap}\mbox{[}Impl::MaxThreads\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_a276327b80d93babf5512b90c6daae5e4}
The commit rename map. \hypertarget{classFullO3CPU_a45901e46dca5846ddd857aecbee16645}{
\index{FullO3CPU@{FullO3CPU}!committedInsts@{committedInsts}}
\index{committedInsts@{committedInsts}!FullO3CPU@{FullO3CPU}}
\subsubsection[{committedInsts}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Vector} {\bf committedInsts}}}
\label{classFullO3CPU_a45901e46dca5846ddd857aecbee16645}
Stat for the number of committed instructions per thread. \hypertarget{classFullO3CPU_a16789fd9e4f632e091d740c772094f80}{
\index{FullO3CPU@{FullO3CPU}!committedOps@{committedOps}}
\index{committedOps@{committedOps}!FullO3CPU@{FullO3CPU}}
\subsubsection[{committedOps}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Vector} {\bf committedOps}}}
\label{classFullO3CPU_a16789fd9e4f632e091d740c772094f80}
Stat for the number of committed ops (including micro ops) per thread. \hypertarget{classFullO3CPU_a4fd841dc8d29605dc13a120cc5a9b438}{
\index{FullO3CPU@{FullO3CPU}!contextSwitch@{contextSwitch}}
\index{contextSwitch@{contextSwitch}!FullO3CPU@{FullO3CPU}}
\subsubsection[{contextSwitch}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf contextSwitch}}}
\label{classFullO3CPU_a4fd841dc8d29605dc13a120cc5a9b438}
Is there a context switch pending? \hypertarget{classFullO3CPU_af68d211cace2daa3df90471d7af93ad8}{
\index{FullO3CPU@{FullO3CPU}!cpi@{cpi}}
\index{cpi@{cpi}!FullO3CPU@{FullO3CPU}}
\subsubsection[{cpi}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Formula} {\bf cpi}}}
\label{classFullO3CPU_af68d211cace2daa3df90471d7af93ad8}
Stat for the CPI per thread. \hypertarget{classFullO3CPU_a11435331f730084ec731d6f88c255290}{
\index{FullO3CPU@{FullO3CPU}!cpuWaitList@{cpuWaitList}}
\index{cpuWaitList@{cpuWaitList}!FullO3CPU@{FullO3CPU}}
\subsubsection[{cpuWaitList}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::list}$<$int$>$ {\bf cpuWaitList}}}
\label{classFullO3CPU_a11435331f730084ec731d6f88c255290}
Threads Scheduled to Enter CPU \hypertarget{classFullO3CPU_a38b03978ad7720fdc910ff6a8b44585f}{
\index{FullO3CPU@{FullO3CPU}!dcachePort@{dcachePort}}
\index{dcachePort@{dcachePort}!FullO3CPU@{FullO3CPU}}
\subsubsection[{dcachePort}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DcachePort} {\bf dcachePort}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_a38b03978ad7720fdc910ff6a8b44585f}
Data port. Note that it has to appear after the iew stages \hypertarget{classFullO3CPU_aaf8ffd47de062d6900cb500a3caccdb5}{
\index{FullO3CPU@{FullO3CPU}!deallocateContextEvent@{deallocateContextEvent}}
\index{deallocateContextEvent@{deallocateContextEvent}!FullO3CPU@{FullO3CPU}}
\subsubsection[{deallocateContextEvent}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DeallocateContextEvent} {\bf deallocateContextEvent}\mbox{[}Impl::MaxThreads\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFullO3CPU_aaf8ffd47de062d6900cb500a3caccdb5}
The tick event used for scheduling CPU ticks. \hypertarget{classFullO3CPU_a21ddb57c5e4f70298cee97ee543e3bdb}{
\index{FullO3CPU@{FullO3CPU}!decode@{decode}}
\index{decode@{decode}!FullO3CPU@{FullO3CPU}}
\subsubsection[{decode}]{\setlength{\rightskip}{0pt plus 5cm}CPUPolicy::Decode {\bf decode}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_a21ddb57c5e4f70298cee97ee543e3bdb}
The decode stage. \hypertarget{classFullO3CPU_a8c674fbc9b0625a2231b669aceb0dd73}{
\index{FullO3CPU@{FullO3CPU}!decodeQueue@{decodeQueue}}
\index{decodeQueue@{decodeQueue}!FullO3CPU@{FullO3CPU}}
\subsubsection[{decodeQueue}]{\setlength{\rightskip}{0pt plus 5cm}{\bf TimeBuffer}$<${\bf DecodeStruct}$>$ {\bf decodeQueue}}}
\label{classFullO3CPU_a8c674fbc9b0625a2231b669aceb0dd73}
The decode stage's instruction queue. \hypertarget{classFullO3CPU_a329b71fb934a93312ca0aacbf5a3f982}{
\index{FullO3CPU@{FullO3CPU}!drainManager@{drainManager}}
\index{drainManager@{drainManager}!FullO3CPU@{FullO3CPU}}
\subsubsection[{drainManager}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DrainManager}$\ast$ {\bf drainManager}}}
\label{classFullO3CPU_a329b71fb934a93312ca0aacbf5a3f982}
\hyperlink{classDrainManager}{DrainManager} to notify when draining has completed. \hypertarget{classFullO3CPU_ad2fd039621f87592c4b344d4f8948e78}{
\index{FullO3CPU@{FullO3CPU}!dtb@{dtb}}
\index{dtb@{dtb}!FullO3CPU@{FullO3CPU}}
\subsubsection[{dtb}]{\setlength{\rightskip}{0pt plus 5cm}TheISA::TLB$\ast$ {\bf dtb}}}
\label{classFullO3CPU_ad2fd039621f87592c4b344d4f8948e78}


choose inline that I chose dtb,itb is Data and Instructino TLB. 

\hyperlink{classBaseCPU_a6be3ef152e982fb57e224c4a32a431b7}{BaseCPU}を再定義しています。\hypertarget{classFullO3CPU_ac41165b4dc11673a5e8f6c8679717c1b}{
\index{FullO3CPU@{FullO3CPU}!fetch@{fetch}}
\index{fetch@{fetch}!FullO3CPU@{FullO3CPU}}
\subsubsection[{fetch}]{\setlength{\rightskip}{0pt plus 5cm}CPUPolicy::Fetch {\bf fetch}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_ac41165b4dc11673a5e8f6c8679717c1b}
The fetch stage. \hypertarget{classFullO3CPU_a0b4f1aa3830d6db3cb15a9a46c531cc2}{
\index{FullO3CPU@{FullO3CPU}!fetchQueue@{fetchQueue}}
\index{fetchQueue@{fetchQueue}!FullO3CPU@{FullO3CPU}}
\subsubsection[{fetchQueue}]{\setlength{\rightskip}{0pt plus 5cm}{\bf TimeBuffer}$<${\bf FetchStruct}$>$ {\bf fetchQueue}}}
\label{classFullO3CPU_a0b4f1aa3830d6db3cb15a9a46c531cc2}
The fetch stage's instruction queue. \hypertarget{classFullO3CPU_a616c93341fb6b23449fcbbab249f2b41}{
\index{FullO3CPU@{FullO3CPU}!fpRegfileReads@{fpRegfileReads}}
\index{fpRegfileReads@{fpRegfileReads}!FullO3CPU@{FullO3CPU}}
\subsubsection[{fpRegfileReads}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf fpRegfileReads}}}
\label{classFullO3CPU_a616c93341fb6b23449fcbbab249f2b41}
\hypertarget{classFullO3CPU_ad308a484dfaaaff1d57080527f19f3be}{
\index{FullO3CPU@{FullO3CPU}!fpRegfileWrites@{fpRegfileWrites}}
\index{fpRegfileWrites@{fpRegfileWrites}!FullO3CPU@{FullO3CPU}}
\subsubsection[{fpRegfileWrites}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf fpRegfileWrites}}}
\label{classFullO3CPU_ad308a484dfaaaff1d57080527f19f3be}
\hypertarget{classFullO3CPU_ad5655f9bbf3c5b09877a612be7fc6b65}{
\index{FullO3CPU@{FullO3CPU}!freeList@{freeList}}
\index{freeList@{freeList}!FullO3CPU@{FullO3CPU}}
\subsubsection[{freeList}]{\setlength{\rightskip}{0pt plus 5cm}CPUPolicy::FreeList {\bf freeList}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_ad5655f9bbf3c5b09877a612be7fc6b65}
The free list. \hypertarget{classFullO3CPU_a5f72a799d8b189b4fccda3cde457145e}{
\index{FullO3CPU@{FullO3CPU}!globalSeqNum@{globalSeqNum}}
\index{globalSeqNum@{globalSeqNum}!FullO3CPU@{FullO3CPU}}
\subsubsection[{globalSeqNum}]{\setlength{\rightskip}{0pt plus 5cm}{\bf InstSeqNum} {\bf globalSeqNum}}}
\label{classFullO3CPU_a5f72a799d8b189b4fccda3cde457145e}
The global sequence number counter. \hypertarget{classFullO3CPU_a290723656a84b9cc90dfce377af9aad0}{
\index{FullO3CPU@{FullO3CPU}!icachePort@{icachePort}}
\index{icachePort@{icachePort}!FullO3CPU@{FullO3CPU}}
\subsubsection[{icachePort}]{\setlength{\rightskip}{0pt plus 5cm}{\bf IcachePort} {\bf icachePort}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_a290723656a84b9cc90dfce377af9aad0}
Instruction port. Note that it has to appear after the fetch stage. \hypertarget{classFullO3CPU_a42e0f4c18fdb8ef7504f5c45d697fb14}{
\index{FullO3CPU@{FullO3CPU}!idleCycles@{idleCycles}}
\index{idleCycles@{idleCycles}!FullO3CPU@{FullO3CPU}}
\subsubsection[{idleCycles}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf idleCycles}}}
\label{classFullO3CPU_a42e0f4c18fdb8ef7504f5c45d697fb14}
Stat for total number of cycles the CPU spends descheduled. \hypertarget{classFullO3CPU_afbb39e841c20e3affe28f4ca3e8c0992}{
\index{FullO3CPU@{FullO3CPU}!iew@{iew}}
\index{iew@{iew}!FullO3CPU@{FullO3CPU}}
\subsubsection[{iew}]{\setlength{\rightskip}{0pt plus 5cm}CPUPolicy::IEW {\bf iew}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_afbb39e841c20e3affe28f4ca3e8c0992}
The issue/execute/writeback stages. \hypertarget{classFullO3CPU_a9429710408b27da398dc15a2eb80b9fc}{
\index{FullO3CPU@{FullO3CPU}!iewQueue@{iewQueue}}
\index{iewQueue@{iewQueue}!FullO3CPU@{FullO3CPU}}
\subsubsection[{iewQueue}]{\setlength{\rightskip}{0pt plus 5cm}{\bf TimeBuffer}$<${\bf IEWStruct}$>$ {\bf iewQueue}}}
\label{classFullO3CPU_a9429710408b27da398dc15a2eb80b9fc}
The IEW stage's instruction queue. \hypertarget{classFullO3CPU_a19e374b98940ff65bd4d9d17f198738c}{
\index{FullO3CPU@{FullO3CPU}!instcount@{instcount}}
\index{instcount@{instcount}!FullO3CPU@{FullO3CPU}}
\subsubsection[{instcount}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf instcount}}}
\label{classFullO3CPU_a19e374b98940ff65bd4d9d17f198738c}
Count of total number of dynamic instructions in flight. \hypertarget{classFullO3CPU_ae10a391d02ce1ef67ee13cd82b7d46e5}{
\index{FullO3CPU@{FullO3CPU}!instList@{instList}}
\index{instList@{instList}!FullO3CPU@{FullO3CPU}}
\subsubsection[{instList}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::list}$<${\bf DynInstPtr}$>$ {\bf instList}}}
\label{classFullO3CPU_ae10a391d02ce1ef67ee13cd82b7d46e5}
List of all the instructions in flight. \hypertarget{classFullO3CPU_a46ee31ba135b8a26d7544abb48c242ef}{
\index{FullO3CPU@{FullO3CPU}!intRegfileReads@{intRegfileReads}}
\index{intRegfileReads@{intRegfileReads}!FullO3CPU@{FullO3CPU}}
\subsubsection[{intRegfileReads}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf intRegfileReads}}}
\label{classFullO3CPU_a46ee31ba135b8a26d7544abb48c242ef}
\hypertarget{classFullO3CPU_a0539045bb3599b1c57886d55a19fa2d2}{
\index{FullO3CPU@{FullO3CPU}!intRegfileWrites@{intRegfileWrites}}
\index{intRegfileWrites@{intRegfileWrites}!FullO3CPU@{FullO3CPU}}
\subsubsection[{intRegfileWrites}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf intRegfileWrites}}}
\label{classFullO3CPU_a0539045bb3599b1c57886d55a19fa2d2}
\hypertarget{classFullO3CPU_a6f168a31ee4084b6167d6761a4124014}{
\index{FullO3CPU@{FullO3CPU}!ipc@{ipc}}
\index{ipc@{ipc}!FullO3CPU@{FullO3CPU}}
\subsubsection[{ipc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Formula} {\bf ipc}}}
\label{classFullO3CPU_a6f168a31ee4084b6167d6761a4124014}
Stat for the IPC per thread. \hypertarget{classFullO3CPU_aa0d8dc5e214b94342d1f730e4e34ae82}{
\index{FullO3CPU@{FullO3CPU}!isa@{isa}}
\index{isa@{isa}!FullO3CPU@{FullO3CPU}}
\subsubsection[{isa}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<$TheISA::ISA $\ast$$>$ {\bf isa}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_aa0d8dc5e214b94342d1f730e4e34ae82}


\hyperlink{classBaseCPU_a6d1804c8bb7cb5ff7f700541100052c4}{BaseCPU}を再定義しています。\hypertarget{classFullO3CPU_abcb37ddc11515555d8484702697bc4bb}{
\index{FullO3CPU@{FullO3CPU}!itb@{itb}}
\index{itb@{itb}!FullO3CPU@{FullO3CPU}}
\subsubsection[{itb}]{\setlength{\rightskip}{0pt plus 5cm}TheISA::TLB$\ast$ {\bf itb}}}
\label{classFullO3CPU_abcb37ddc11515555d8484702697bc4bb}


\hyperlink{classBaseCPU_a05093b507c1f741f2150103b12ac7056}{BaseCPU}を再定義しています。\hypertarget{classFullO3CPU_af81ed3d351dcefbd5ca122147676af22}{
\index{FullO3CPU@{FullO3CPU}!lastActivatedCycle@{lastActivatedCycle}}
\index{lastActivatedCycle@{lastActivatedCycle}!FullO3CPU@{FullO3CPU}}
\subsubsection[{lastActivatedCycle}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tick} {\bf lastActivatedCycle}}}
\label{classFullO3CPU_af81ed3d351dcefbd5ca122147676af22}
The cycle that the CPU was last activated by a new thread \hypertarget{classFullO3CPU_a88989147c1b0b4ccba38fa941722ce5d}{
\index{FullO3CPU@{FullO3CPU}!lastRunningCycle@{lastRunningCycle}}
\index{lastRunningCycle@{lastRunningCycle}!FullO3CPU@{FullO3CPU}}
\subsubsection[{lastRunningCycle}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Cycles} {\bf lastRunningCycle}}}
\label{classFullO3CPU_a88989147c1b0b4ccba38fa941722ce5d}
The cycle that the CPU was last running, used for statistics. \hypertarget{classFullO3CPU_a587b32e057f5caad670d221c166bda5e}{
\index{FullO3CPU@{FullO3CPU}!miscRegfileReads@{miscRegfileReads}}
\index{miscRegfileReads@{miscRegfileReads}!FullO3CPU@{FullO3CPU}}
\subsubsection[{miscRegfileReads}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf miscRegfileReads}}}
\label{classFullO3CPU_a587b32e057f5caad670d221c166bda5e}
\hypertarget{classFullO3CPU_a457c81c9e364d41871df8cb5f04ea1b4}{
\index{FullO3CPU@{FullO3CPU}!miscRegfileWrites@{miscRegfileWrites}}
\index{miscRegfileWrites@{miscRegfileWrites}!FullO3CPU@{FullO3CPU}}
\subsubsection[{miscRegfileWrites}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf miscRegfileWrites}}}
\label{classFullO3CPU_a457c81c9e364d41871df8cb5f04ea1b4}
\hypertarget{classFullO3CPU_a4cbcb5b1a3968d3e5229656571604ba5}{
\index{FullO3CPU@{FullO3CPU}!ppDataAccessComplete@{ppDataAccessComplete}}
\index{ppDataAccessComplete@{ppDataAccessComplete}!FullO3CPU@{FullO3CPU}}
\subsubsection[{ppDataAccessComplete}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ProbePointArg}$<${\bf std::pair}$<${\bf DynInstPtr}, {\bf PacketPtr}$>$ $>$$\ast$ {\bf ppDataAccessComplete}}}
\label{classFullO3CPU_a4cbcb5b1a3968d3e5229656571604ba5}
\hypertarget{classFullO3CPU_aa39ae53643b00bc644caa5967b8a428a}{
\index{FullO3CPU@{FullO3CPU}!ppInstAccessComplete@{ppInstAccessComplete}}
\index{ppInstAccessComplete@{ppInstAccessComplete}!FullO3CPU@{FullO3CPU}}
\subsubsection[{ppInstAccessComplete}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ProbePointArg}$<${\bf PacketPtr}$>$$\ast$ {\bf ppInstAccessComplete}}}
\label{classFullO3CPU_aa39ae53643b00bc644caa5967b8a428a}
\hypertarget{classFullO3CPU_abb746a633705067014bd46e175928a51}{
\index{FullO3CPU@{FullO3CPU}!quiesceCycles@{quiesceCycles}}
\index{quiesceCycles@{quiesceCycles}!FullO3CPU@{FullO3CPU}}
\subsubsection[{quiesceCycles}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf quiesceCycles}}}
\label{classFullO3CPU_abb746a633705067014bd46e175928a51}
Stat for total number of cycles the CPU spends descheduled due to a quiesce operation or waiting for an interrupt. \hypertarget{classFullO3CPU_aa760a1e4a392e8e5c1dd8ed85b9f56fe}{
\index{FullO3CPU@{FullO3CPU}!regFile@{regFile}}
\index{regFile@{regFile}!FullO3CPU@{FullO3CPU}}
\subsubsection[{regFile}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PhysRegFile} {\bf regFile}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_aa760a1e4a392e8e5c1dd8ed85b9f56fe}
The register file. \hypertarget{classFullO3CPU_a2825a91132fe292d64dca3c61fd07410}{
\index{FullO3CPU@{FullO3CPU}!removeInstsThisCycle@{removeInstsThisCycle}}
\index{removeInstsThisCycle@{removeInstsThisCycle}!FullO3CPU@{FullO3CPU}}
\subsubsection[{removeInstsThisCycle}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf removeInstsThisCycle}}}
\label{classFullO3CPU_a2825a91132fe292d64dca3c61fd07410}
Records if instructions need to be removed this cycle due to being retired or squashed. \hypertarget{classFullO3CPU_a574cb1bed7660bb2bb6940365f6a3315}{
\index{FullO3CPU@{FullO3CPU}!removeList@{removeList}}
\index{removeList@{removeList}!FullO3CPU@{FullO3CPU}}
\subsubsection[{removeList}]{\setlength{\rightskip}{0pt plus 5cm}std::queue$<${\bf ListIt}$>$ {\bf removeList}}}
\label{classFullO3CPU_a574cb1bed7660bb2bb6940365f6a3315}
List of all the instructions that will be removed at the end of this cycle. \hypertarget{classFullO3CPU_a39ad9a464eaaff03051506711d40fc5f}{
\index{FullO3CPU@{FullO3CPU}!rename@{rename}}
\index{rename@{rename}!FullO3CPU@{FullO3CPU}}
\subsubsection[{rename}]{\setlength{\rightskip}{0pt plus 5cm}CPUPolicy::Rename {\bf rename}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_a39ad9a464eaaff03051506711d40fc5f}
The dispatch stage. \hypertarget{classFullO3CPU_a777805217a21e32ee39d1203bca3da53}{
\index{FullO3CPU@{FullO3CPU}!renameMap@{renameMap}}
\index{renameMap@{renameMap}!FullO3CPU@{FullO3CPU}}
\subsubsection[{renameMap}]{\setlength{\rightskip}{0pt plus 5cm}CPUPolicy::RenameMap {\bf renameMap}\mbox{[}Impl::MaxThreads\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_a777805217a21e32ee39d1203bca3da53}
The rename map. \hypertarget{classFullO3CPU_ae590391fe7915c744cde571b7d15d893}{
\index{FullO3CPU@{FullO3CPU}!renameQueue@{renameQueue}}
\index{renameQueue@{renameQueue}!FullO3CPU@{FullO3CPU}}
\subsubsection[{renameQueue}]{\setlength{\rightskip}{0pt plus 5cm}{\bf TimeBuffer}$<${\bf RenameStruct}$>$ {\bf renameQueue}}}
\label{classFullO3CPU_ae590391fe7915c744cde571b7d15d893}
The rename stage's instruction queue. \hypertarget{classFullO3CPU_ad649787f87175a89806eeccaee4832e9}{
\index{FullO3CPU@{FullO3CPU}!rob@{rob}}
\index{rob@{rob}!FullO3CPU@{FullO3CPU}}
\subsubsection[{rob}]{\setlength{\rightskip}{0pt plus 5cm}CPUPolicy::ROB {\bf rob}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_ad649787f87175a89806eeccaee4832e9}
The re-\/order buffer. \hypertarget{classFullO3CPU_a5e0ec8da05a369f0327b7b78c44faa36}{
\index{FullO3CPU@{FullO3CPU}!scoreboard@{scoreboard}}
\index{scoreboard@{scoreboard}!FullO3CPU@{FullO3CPU}}
\subsubsection[{scoreboard}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Scoreboard} {\bf scoreboard}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classFullO3CPU_a5e0ec8da05a369f0327b7b78c44faa36}
Integer \hyperlink{classRegister}{Register} \hyperlink{classScoreboard}{Scoreboard} \hypertarget{classFullO3CPU_af27ccd765f13a4b7bd119dc7579e2746}{
\index{FullO3CPU@{FullO3CPU}!system@{system}}
\index{system@{system}!FullO3CPU@{FullO3CPU}}
\subsubsection[{system}]{\setlength{\rightskip}{0pt plus 5cm}{\bf System}$\ast$ {\bf system}}}
\label{classFullO3CPU_af27ccd765f13a4b7bd119dc7579e2746}
Pointer to the system. 

\hyperlink{classBaseCPU_ab737471139f5a296e5b26e8a0e1b0744}{BaseCPU}を再定義しています。\hypertarget{classFullO3CPU_afe9da004c5a3f37cbb72fa3763d4c0d1}{
\index{FullO3CPU@{FullO3CPU}!thread@{thread}}
\index{thread@{thread}!FullO3CPU@{FullO3CPU}}
\subsubsection[{thread}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf Thread} $\ast$$>$ {\bf thread}}}
\label{classFullO3CPU_afe9da004c5a3f37cbb72fa3763d4c0d1}
Pointers to all of the threads in the CPU. \hypertarget{classFullO3CPU_a08db914bbe37a5fa8c008248fa9647f6}{
\index{FullO3CPU@{FullO3CPU}!threadMap@{threadMap}}
\index{threadMap@{threadMap}!FullO3CPU@{FullO3CPU}}
\subsubsection[{threadMap}]{\setlength{\rightskip}{0pt plus 5cm}std::map$<${\bf ThreadID}, unsigned$>$ {\bf threadMap}}}
\label{classFullO3CPU_a08db914bbe37a5fa8c008248fa9647f6}
Mapping for system thread id to cpu id \hypertarget{classFullO3CPU_aa36b8e894416f0ec98f701ab08f2ac22}{
\index{FullO3CPU@{FullO3CPU}!tickEvent@{tickEvent}}
\index{tickEvent@{tickEvent}!FullO3CPU@{FullO3CPU}}
\subsubsection[{tickEvent}]{\setlength{\rightskip}{0pt plus 5cm}{\bf TickEvent} {\bf tickEvent}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFullO3CPU_aa36b8e894416f0ec98f701ab08f2ac22}
The tick event used for scheduling CPU ticks. \hypertarget{classFullO3CPU_a457642e81692e24e601ec32c778042a2}{
\index{FullO3CPU@{FullO3CPU}!tids@{tids}}
\index{tids@{tids}!FullO3CPU@{FullO3CPU}}
\subsubsection[{tids}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf ThreadID}$>$ {\bf tids}}}
\label{classFullO3CPU_a457642e81692e24e601ec32c778042a2}
Available thread ids in the cpu \hypertarget{classFullO3CPU_ad72b6568a4a40f54d071c31bef16bf2e}{
\index{FullO3CPU@{FullO3CPU}!timeBuffer@{timeBuffer}}
\index{timeBuffer@{timeBuffer}!FullO3CPU@{FullO3CPU}}
\subsubsection[{timeBuffer}]{\setlength{\rightskip}{0pt plus 5cm}{\bf TimeBuffer}$<${\bf TimeStruct}$>$ {\bf timeBuffer}}}
\label{classFullO3CPU_ad72b6568a4a40f54d071c31bef16bf2e}
The main time buffer to do backwards communication. \hypertarget{classFullO3CPU_a174dbfb3c7b892914a54cec44ed2eeaf}{
\index{FullO3CPU@{FullO3CPU}!timesIdled@{timesIdled}}
\index{timesIdled@{timesIdled}!FullO3CPU@{FullO3CPU}}
\subsubsection[{timesIdled}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Scalar} {\bf timesIdled}}}
\label{classFullO3CPU_a174dbfb3c7b892914a54cec44ed2eeaf}
Stat for total number of times the CPU is descheduled. \hypertarget{classFullO3CPU_a5bd2f06c271dd03138cad92251716f5d}{
\index{FullO3CPU@{FullO3CPU}!totalCpi@{totalCpi}}
\index{totalCpi@{totalCpi}!FullO3CPU@{FullO3CPU}}
\subsubsection[{totalCpi}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Formula} {\bf totalCpi}}}
\label{classFullO3CPU_a5bd2f06c271dd03138cad92251716f5d}
Stat for the total CPI. \hypertarget{classFullO3CPU_ae8551f10097f4b2e5ed3febf0d9417e3}{
\index{FullO3CPU@{FullO3CPU}!totalIpc@{totalIpc}}
\index{totalIpc@{totalIpc}!FullO3CPU@{FullO3CPU}}
\subsubsection[{totalIpc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats::Formula} {\bf totalIpc}}}
\label{classFullO3CPU_ae8551f10097f4b2e5ed3febf0d9417e3}
Stat for the total IPC. 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
cpu/o3/\hyperlink{o3_2cpu_8hh}{cpu.hh}\item 
cpu/o3/\hyperlink{o3_2cpu_8cc}{cpu.cc}\end{DoxyCompactItemize}
