\hypertarget{classSymbolTable}{
\section{クラス SymbolTable}
\label{classSymbolTable}\index{SymbolTable@{SymbolTable}}
}


{\ttfamily \#include $<$symtab.hh$>$}\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
typedef std::map$<$ \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr}, std::string $>$ \hyperlink{classSymbolTable_a774a5b092c28960e65c8301f26a0bf88}{ATable}
\item 
typedef std::map$<$ std::string, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} $>$ \hyperlink{classSymbolTable_ad1bd5f7577278d0dd7a1b10fe53e8d9e}{STable}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSymbolTable_a8b1c95b7c6fcc42a2755109c007522df}{SymbolTable} ()
\item 
\hyperlink{classSymbolTable_ae77cee612a9d2a6f7a551a160d2881b3}{SymbolTable} (const std::string \&file)
\item 
\hyperlink{classSymbolTable_a7287b454c50232a03ae1ccd90d952d02}{$\sim$SymbolTable} ()
\item 
void \hyperlink{classSymbolTable_ac8bb3912a3ce86b15842e79d0b421204}{clear} ()
\item 
bool \hyperlink{classSymbolTable_a353cad0b34c8bd0e7e0341a8061b054d}{insert} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} address, std::string symbol)
\item 
bool \hyperlink{classSymbolTable_a9c68305a6794dc960db947d68839b724}{load} (const std::string \&file)
\item 
const \hyperlink{classSymbolTable_a774a5b092c28960e65c8301f26a0bf88}{ATable} \& \hyperlink{classSymbolTable_a8f7d793012417ce9fe6e6c8e9297fccb}{getAddrTable} () const 
\item 
const \hyperlink{classSymbolTable_ad1bd5f7577278d0dd7a1b10fe53e8d9e}{STable} \& \hyperlink{classSymbolTable_aa116520a144e1e071acb011e028dcb79}{getSymbolTable} () const 
\item 
void \hyperlink{classSymbolTable_ab4138b21b48e3371a8e20df72b675a88}{serialize} (const std::string \&base, std::ostream \&os)
\item 
void \hyperlink{classSymbolTable_a147c320e3d6506edf5587a40cd8e430d}{unserialize} (const std::string \&base, \hyperlink{classCheckpoint}{Checkpoint} $\ast$cp, const std::string \&section)
\item 
bool \hyperlink{classSymbolTable_a4b647562ef2e4ebd101bbbd93c13bd25}{findSymbol} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} address, std::string \&symbol) const 
\item 
bool \hyperlink{classSymbolTable_a14c997354df4213240205fe85d61a504}{findAddress} (const std::string \&symbol, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \&address) const 
\item 
bool \hyperlink{classSymbolTable_a924f4948c47d7e7f08aee0527921629f}{findNearestSymbol} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} addr, std::string \&symbol, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \&symaddr, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \&nextaddr) const 
\item 
bool \hyperlink{classSymbolTable_a92050be34461e2a753aec9fc9df50d64}{findNearestSymbol} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} addr, std::string \&symbol, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \&symaddr) const 
\item 
bool \hyperlink{classSymbolTable_a7495ab63f39dbd30ffac2d4fc219e227}{findNearestAddr} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} addr, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \&symaddr, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \&nextaddr) const 
\item 
bool \hyperlink{classSymbolTable_ae1f88ba313684b4be515c914b7b14411}{findNearestAddr} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} addr, \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \&symaddr) const 
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classSymbolTable_a31fc93d64da60991f0126e0001eddbe0}{upperBound} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} addr, ATable::const\_\-iterator \&iter) const 
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSymbolTable_a774a5b092c28960e65c8301f26a0bf88}{ATable} \hyperlink{classSymbolTable_a4be159a25acfb2f92b2504ddde718ac3}{addrTable}
\item 
\hyperlink{classSymbolTable_ad1bd5f7577278d0dd7a1b10fe53e8d9e}{STable} \hyperlink{classSymbolTable_ab9b42e61946f386ede84d40320270925}{symbolTable}
\end{DoxyCompactItemize}


\subsection{型定義}
\hypertarget{classSymbolTable_a774a5b092c28960e65c8301f26a0bf88}{
\index{SymbolTable@{SymbolTable}!ATable@{ATable}}
\index{ATable@{ATable}!SymbolTable@{SymbolTable}}
\subsubsection[{ATable}]{\setlength{\rightskip}{0pt plus 5cm}typedef std::map$<${\bf Addr}, std::string$>$ {\bf ATable}}}
\label{classSymbolTable_a774a5b092c28960e65c8301f26a0bf88}
\hypertarget{classSymbolTable_ad1bd5f7577278d0dd7a1b10fe53e8d9e}{
\index{SymbolTable@{SymbolTable}!STable@{STable}}
\index{STable@{STable}!SymbolTable@{SymbolTable}}
\subsubsection[{STable}]{\setlength{\rightskip}{0pt plus 5cm}typedef std::map$<$std::string, {\bf Addr}$>$ {\bf STable}}}
\label{classSymbolTable_ad1bd5f7577278d0dd7a1b10fe53e8d9e}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classSymbolTable_a8b1c95b7c6fcc42a2755109c007522df}{
\index{SymbolTable@{SymbolTable}!SymbolTable@{SymbolTable}}
\index{SymbolTable@{SymbolTable}!SymbolTable@{SymbolTable}}
\subsubsection[{SymbolTable}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SymbolTable} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSymbolTable_a8b1c95b7c6fcc42a2755109c007522df}



\begin{DoxyCode}
67 {}
\end{DoxyCode}
\hypertarget{classSymbolTable_ae77cee612a9d2a6f7a551a160d2881b3}{
\index{SymbolTable@{SymbolTable}!SymbolTable@{SymbolTable}}
\index{SymbolTable@{SymbolTable}!SymbolTable@{SymbolTable}}
\subsubsection[{SymbolTable}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SymbolTable} (const std::string \& {\em file})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSymbolTable_ae77cee612a9d2a6f7a551a160d2881b3}



\begin{DoxyCode}
68 { load(file); }
\end{DoxyCode}
\hypertarget{classSymbolTable_a7287b454c50232a03ae1ccd90d952d02}{
\index{SymbolTable@{SymbolTable}!$\sim$SymbolTable@{$\sim$SymbolTable}}
\index{$\sim$SymbolTable@{$\sim$SymbolTable}!SymbolTable@{SymbolTable}}
\subsubsection[{$\sim$SymbolTable}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf SymbolTable} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSymbolTable_a7287b454c50232a03ae1ccd90d952d02}



\begin{DoxyCode}
69 {}
\end{DoxyCode}


\subsection{関数}
\hypertarget{classSymbolTable_ac8bb3912a3ce86b15842e79d0b421204}{
\index{SymbolTable@{SymbolTable}!clear@{clear}}
\index{clear@{clear}!SymbolTable@{SymbolTable}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}void clear ()}}
\label{classSymbolTable_ac8bb3912a3ce86b15842e79d0b421204}
\hypertarget{classSymbolTable_a14c997354df4213240205fe85d61a504}{
\index{SymbolTable@{SymbolTable}!findAddress@{findAddress}}
\index{findAddress@{findAddress}!SymbolTable@{SymbolTable}}
\subsubsection[{findAddress}]{\setlength{\rightskip}{0pt plus 5cm}bool findAddress (const std::string \& {\em symbol}, \/  {\bf Addr} \& {\em address}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSymbolTable_a14c997354df4213240205fe85d61a504}



\begin{DoxyCode}
97     {
98         STable::const_iterator i = symbolTable.find(symbol);
99         if (i == symbolTable.end())
100             return false;
101 
102         address = (*i).second;
103         return true;
104     }
\end{DoxyCode}
\hypertarget{classSymbolTable_ae1f88ba313684b4be515c914b7b14411}{
\index{SymbolTable@{SymbolTable}!findNearestAddr@{findNearestAddr}}
\index{findNearestAddr@{findNearestAddr}!SymbolTable@{SymbolTable}}
\subsubsection[{findNearestAddr}]{\setlength{\rightskip}{0pt plus 5cm}bool findNearestAddr ({\bf Addr} {\em addr}, \/  {\bf Addr} \& {\em symaddr}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSymbolTable_ae1f88ba313684b4be515c914b7b14411}



\begin{DoxyCode}
160     {
161         ATable::const_iterator i;
162         if (!upperBound(addr, i))
163             return false;
164 
165         --i;
166         symaddr = i->first;
167         return true;
168     }
\end{DoxyCode}
\hypertarget{classSymbolTable_a7495ab63f39dbd30ffac2d4fc219e227}{
\index{SymbolTable@{SymbolTable}!findNearestAddr@{findNearestAddr}}
\index{findNearestAddr@{findNearestAddr}!SymbolTable@{SymbolTable}}
\subsubsection[{findNearestAddr}]{\setlength{\rightskip}{0pt plus 5cm}bool findNearestAddr ({\bf Addr} {\em addr}, \/  {\bf Addr} \& {\em symaddr}, \/  {\bf Addr} \& {\em nextaddr}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSymbolTable_a7495ab63f39dbd30ffac2d4fc219e227}



\begin{DoxyCode}
147     {
148         ATable::const_iterator i;
149         if (!upperBound(addr, i))
150             return false;
151 
152         nextaddr = i->first;
153         --i;
154         symaddr = i->first;
155         return true;
156     }
\end{DoxyCode}
\hypertarget{classSymbolTable_a92050be34461e2a753aec9fc9df50d64}{
\index{SymbolTable@{SymbolTable}!findNearestSymbol@{findNearestSymbol}}
\index{findNearestSymbol@{findNearestSymbol}!SymbolTable@{SymbolTable}}
\subsubsection[{findNearestSymbol}]{\setlength{\rightskip}{0pt plus 5cm}bool findNearestSymbol ({\bf Addr} {\em addr}, \/  std::string \& {\em symbol}, \/  {\bf Addr} \& {\em symaddr}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSymbolTable_a92050be34461e2a753aec9fc9df50d64}
Overload for \hyperlink{classSymbolTable_a924f4948c47d7e7f08aee0527921629f}{findNearestSymbol()} for callers who don't care about nextaddr. 


\begin{DoxyCode}
133     {
134         ATable::const_iterator i;
135         if (!upperBound(addr, i))
136             return false;
137 
138         --i;
139         symaddr = i->first;
140         symbol = i->second;
141         return true;
142     }
\end{DoxyCode}
\hypertarget{classSymbolTable_a924f4948c47d7e7f08aee0527921629f}{
\index{SymbolTable@{SymbolTable}!findNearestSymbol@{findNearestSymbol}}
\index{findNearestSymbol@{findNearestSymbol}!SymbolTable@{SymbolTable}}
\subsubsection[{findNearestSymbol}]{\setlength{\rightskip}{0pt plus 5cm}bool findNearestSymbol ({\bf Addr} {\em addr}, \/  std::string \& {\em symbol}, \/  {\bf Addr} \& {\em symaddr}, \/  {\bf Addr} \& {\em nextaddr}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSymbolTable_a924f4948c47d7e7f08aee0527921629f}
Find the nearest symbol equal to or less than the supplied address (e.g., the label for the enclosing function). 
\begin{DoxyParams}{引数}
\item[{\em addr}]The address to look up. \item[{\em symbol}]Return reference for symbol string. \item[{\em symaddr}]Return reference for symbol address. \item[{\em nextaddr}]\hyperlink{classAddress}{Address} of following symbol (for determining valid range of symbol). \end{DoxyParams}

\begin{DoxyRetVals}{戻り値}
\item[{\em True}]if a symbol was found. \end{DoxyRetVals}



\begin{DoxyCode}
117     {
118         ATable::const_iterator i;
119         if (!upperBound(addr, i))
120             return false;
121 
122         nextaddr = i->first;
123         --i;
124         symaddr = i->first;
125         symbol = i->second;
126         return true;
127     }
\end{DoxyCode}
\hypertarget{classSymbolTable_a4b647562ef2e4ebd101bbbd93c13bd25}{
\index{SymbolTable@{SymbolTable}!findSymbol@{findSymbol}}
\index{findSymbol@{findSymbol}!SymbolTable@{SymbolTable}}
\subsubsection[{findSymbol}]{\setlength{\rightskip}{0pt plus 5cm}bool findSymbol ({\bf Addr} {\em address}, \/  std::string \& {\em symbol}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSymbolTable_a4b647562ef2e4ebd101bbbd93c13bd25}



\begin{DoxyCode}
86     {
87         ATable::const_iterator i = addrTable.find(address);
88         if (i == addrTable.end())
89             return false;
90 
91         symbol = (*i).second;
92         return true;
93     }
\end{DoxyCode}
\hypertarget{classSymbolTable_a8f7d793012417ce9fe6e6c8e9297fccb}{
\index{SymbolTable@{SymbolTable}!getAddrTable@{getAddrTable}}
\index{getAddrTable@{getAddrTable}!SymbolTable@{SymbolTable}}
\subsubsection[{getAddrTable}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf ATable}\& getAddrTable () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSymbolTable_a8f7d793012417ce9fe6e6c8e9297fccb}



\begin{DoxyCode}
75 { return addrTable; }
\end{DoxyCode}
\hypertarget{classSymbolTable_aa116520a144e1e071acb011e028dcb79}{
\index{SymbolTable@{SymbolTable}!getSymbolTable@{getSymbolTable}}
\index{getSymbolTable@{getSymbolTable}!SymbolTable@{SymbolTable}}
\subsubsection[{getSymbolTable}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf STable}\& getSymbolTable () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSymbolTable_aa116520a144e1e071acb011e028dcb79}



\begin{DoxyCode}
76 { return symbolTable; }
\end{DoxyCode}
\hypertarget{classSymbolTable_a353cad0b34c8bd0e7e0341a8061b054d}{
\index{SymbolTable@{SymbolTable}!insert@{insert}}
\index{insert@{insert}!SymbolTable@{SymbolTable}}
\subsubsection[{insert}]{\setlength{\rightskip}{0pt plus 5cm}bool insert ({\bf Addr} {\em address}, \/  std::string {\em symbol})}}
\label{classSymbolTable_a353cad0b34c8bd0e7e0341a8061b054d}
\hypertarget{classSymbolTable_a9c68305a6794dc960db947d68839b724}{
\index{SymbolTable@{SymbolTable}!load@{load}}
\index{load@{load}!SymbolTable@{SymbolTable}}
\subsubsection[{load}]{\setlength{\rightskip}{0pt plus 5cm}bool load (const std::string \& {\em file})}}
\label{classSymbolTable_a9c68305a6794dc960db947d68839b724}
\hypertarget{classSymbolTable_ab4138b21b48e3371a8e20df72b675a88}{
\index{SymbolTable@{SymbolTable}!serialize@{serialize}}
\index{serialize@{serialize}!SymbolTable@{SymbolTable}}
\subsubsection[{serialize}]{\setlength{\rightskip}{0pt plus 5cm}void serialize (const std::string \& {\em base}, \/  std::ostream \& {\em os})}}
\label{classSymbolTable_ab4138b21b48e3371a8e20df72b675a88}
\hypertarget{classSymbolTable_a147c320e3d6506edf5587a40cd8e430d}{
\index{SymbolTable@{SymbolTable}!unserialize@{unserialize}}
\index{unserialize@{unserialize}!SymbolTable@{SymbolTable}}
\subsubsection[{unserialize}]{\setlength{\rightskip}{0pt plus 5cm}void unserialize (const std::string \& {\em base}, \/  {\bf Checkpoint} $\ast$ {\em cp}, \/  const std::string \& {\em section})}}
\label{classSymbolTable_a147c320e3d6506edf5587a40cd8e430d}
\hypertarget{classSymbolTable_a31fc93d64da60991f0126e0001eddbe0}{
\index{SymbolTable@{SymbolTable}!upperBound@{upperBound}}
\index{upperBound@{upperBound}!SymbolTable@{SymbolTable}}
\subsubsection[{upperBound}]{\setlength{\rightskip}{0pt plus 5cm}bool upperBound ({\bf Addr} {\em addr}, \/  ATable::const\_\-iterator \& {\em iter}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, private\mbox{]}}}}
\label{classSymbolTable_a31fc93d64da60991f0126e0001eddbe0}



\begin{DoxyCode}
55     {
56         // find first key *larger* than desired address
57         iter = addrTable.upper_bound(addr);
58 
59         // if very first key is larger, we're out of luck
60         if (iter == addrTable.begin())
61             return false;
62 
63         return true;
64     }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classSymbolTable_a4be159a25acfb2f92b2504ddde718ac3}{
\index{SymbolTable@{SymbolTable}!addrTable@{addrTable}}
\index{addrTable@{addrTable}!SymbolTable@{SymbolTable}}
\subsubsection[{addrTable}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ATable} {\bf addrTable}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSymbolTable_a4be159a25acfb2f92b2504ddde718ac3}
\hypertarget{classSymbolTable_ab9b42e61946f386ede84d40320270925}{
\index{SymbolTable@{SymbolTable}!symbolTable@{symbolTable}}
\index{symbolTable@{symbolTable}!SymbolTable@{SymbolTable}}
\subsubsection[{symbolTable}]{\setlength{\rightskip}{0pt plus 5cm}{\bf STable} {\bf symbolTable}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSymbolTable_ab9b42e61946f386ede84d40320270925}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
base/loader/\hyperlink{symtab_8hh}{symtab.hh}\end{DoxyCompactItemize}
