\hypertarget{classArmISA_1_1SupervisorCall}{
\section{クラス SupervisorCall}
\label{classArmISA_1_1SupervisorCall}\index{ArmISA::SupervisorCall@{ArmISA::SupervisorCall}}
}


{\ttfamily \#include $<$faults.hh$>$}SupervisorCallに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5cm]{classArmISA_1_1SupervisorCall}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classArmISA_1_1SupervisorCall_a138ed4243912a600cdc9e392d4522e57}{SupervisorCall} (ExtMachInst \_\-machInst, \hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \_\-iss, \hyperlink{namespaceArmISA_a04034d12009cf36227f4d2abff3331a2}{ExceptionClass} \_\-overrideEc=EC\_\-INVALID)
\item 
void \hyperlink{classArmISA_1_1SupervisorCall_a2bd783b42262278d41157d428e1f8d6f}{invoke} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{namespaceArmISA_a5aff829af55e65b802d83dfcef4e9dd0}{tc}, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst=\hyperlink{classStaticInst_aa793d9793af735f09096369fb17567b6}{StaticInst::nullStaticInstPtr})
\item 
bool \hyperlink{classArmISA_1_1SupervisorCall_a16facd13ba8e6d15d2b865882c379d5f}{routeToHyp} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{namespaceArmISA_a5aff829af55e65b802d83dfcef4e9dd0}{tc}) const 
\item 
\hyperlink{namespaceArmISA_a04034d12009cf36227f4d2abff3331a2}{ExceptionClass} \hyperlink{classArmISA_1_1SupervisorCall_aefab73b22a74d7c48b8a23230906d7cd}{ec} (\hyperlink{classThreadContext}{ThreadContext} $\ast$\hyperlink{namespaceArmISA_a5aff829af55e65b802d83dfcef4e9dd0}{tc}) const 
\item 
\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \hyperlink{classArmISA_1_1SupervisorCall_a54f4d33ac162a95fd5b3830cf7fab8ff}{iss} () const 
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespaceArmISA_a04034d12009cf36227f4d2abff3331a2}{ExceptionClass} \hyperlink{classArmISA_1_1SupervisorCall_af5e67d95019a0b5aba4c42205567eda7}{overrideEc}
\end{DoxyCompactItemize}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classArmISA_1_1SupervisorCall_a138ed4243912a600cdc9e392d4522e57}{
\index{ArmISA::SupervisorCall@{ArmISA::SupervisorCall}!SupervisorCall@{SupervisorCall}}
\index{SupervisorCall@{SupervisorCall}!ArmISA::SupervisorCall@{ArmISA::SupervisorCall}}
\subsubsection[{SupervisorCall}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SupervisorCall} (ExtMachInst {\em \_\-machInst}, \/  {\bf uint32\_\-t} {\em \_\-iss}, \/  {\bf ExceptionClass} {\em \_\-overrideEc} = {\ttfamily EC\_\-INVALID})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classArmISA_1_1SupervisorCall_a138ed4243912a600cdc9e392d4522e57}



\begin{DoxyCode}
293                                                             :
294         ArmFaultVals<SupervisorCall>(_machInst, _iss),
295         overrideEc(_overrideEc)
296     {}

\end{DoxyCode}


\subsection{関数}
\hypertarget{classArmISA_1_1SupervisorCall_aefab73b22a74d7c48b8a23230906d7cd}{
\index{ArmISA::SupervisorCall@{ArmISA::SupervisorCall}!ec@{ec}}
\index{ec@{ec}!ArmISA::SupervisorCall@{ArmISA::SupervisorCall}}
\subsubsection[{ec}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ExceptionClass} ec ({\bf ThreadContext} $\ast$ {\em tc}) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classArmISA_1_1SupervisorCall_aefab73b22a74d7c48b8a23230906d7cd}


\hyperlink{classArmISA_1_1ArmFaultVals_aa4dd5fb47a1253dbe17e692e905a8c7c}{ArmFaultVals$<$ SupervisorCall $>$}を再定義しています。


\begin{DoxyCode}
813 {
814     return (overrideEc != EC_INVALID) ? overrideEc :
815         (from64 ? EC_SVC_64 : vals.ec);
816 }
\end{DoxyCode}
\hypertarget{classArmISA_1_1SupervisorCall_a2bd783b42262278d41157d428e1f8d6f}{
\index{ArmISA::SupervisorCall@{ArmISA::SupervisorCall}!invoke@{invoke}}
\index{invoke@{invoke}!ArmISA::SupervisorCall@{ArmISA::SupervisorCall}}
\subsubsection[{invoke}]{\setlength{\rightskip}{0pt plus 5cm}void invoke ({\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf StaticInstPtr} {\em inst} = {\ttfamily {\bf StaticInst::nullStaticInstPtr}})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classArmISA_1_1SupervisorCall_a2bd783b42262278d41157d428e1f8d6f}


\hyperlink{classArmISA_1_1ArmFault_a2bd783b42262278d41157d428e1f8d6f}{ArmFault}を再定義しています。


\begin{DoxyCode}
771 {
772     if (FullSystem) {
773         ArmFault::invoke(tc, inst);
774         return;
775     }
776 
777     // As of now, there isn't a 32 bit thumb version of this instruction.
778     assert(!machInst.bigThumb);
779     uint32_t callNum;
780     CPSR cpsr = tc->readMiscReg(MISCREG_CPSR);
781     OperatingMode mode = (OperatingMode)(uint8_t)cpsr.mode;
782     if (opModeIs64(mode))
783         callNum = tc->readIntReg(INTREG_X8);
784     else
785         callNum = tc->readIntReg(INTREG_R7);
786     tc->syscall(callNum);
787 
788     // Advance the PC since that won't happen automatically.
789     PCState pc = tc->pcState();
790     assert(inst);
791     inst->advancePC(pc);
792     tc->pcState(pc);
793 }
\end{DoxyCode}
\hypertarget{classArmISA_1_1SupervisorCall_a54f4d33ac162a95fd5b3830cf7fab8ff}{
\index{ArmISA::SupervisorCall@{ArmISA::SupervisorCall}!iss@{iss}}
\index{iss@{iss}!ArmISA::SupervisorCall@{ArmISA::SupervisorCall}}
\subsubsection[{iss}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\_\-t} iss () const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classArmISA_1_1SupervisorCall_a54f4d33ac162a95fd5b3830cf7fab8ff}


\hyperlink{classArmISA_1_1ArmFaultVals_a1049bf31f8df10c66994603055cf531d}{ArmFaultVals$<$ SupervisorCall $>$}を再定義しています。


\begin{DoxyCode}
820 {
821     // Even if we have a 24 bit imm from an arm32 instruction then we only use
822     // the bottom 16 bits for the ISS value (it doesn't hurt for AArch64 SVC).
823     return issRaw & 0xFFFF;
824 }
\end{DoxyCode}
\hypertarget{classArmISA_1_1SupervisorCall_a16facd13ba8e6d15d2b865882c379d5f}{
\index{ArmISA::SupervisorCall@{ArmISA::SupervisorCall}!routeToHyp@{routeToHyp}}
\index{routeToHyp@{routeToHyp}!ArmISA::SupervisorCall@{ArmISA::SupervisorCall}}
\subsubsection[{routeToHyp}]{\setlength{\rightskip}{0pt plus 5cm}bool routeToHyp ({\bf ThreadContext} $\ast$ {\em tc}) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classArmISA_1_1SupervisorCall_a16facd13ba8e6d15d2b865882c379d5f}


\hyperlink{classArmISA_1_1ArmFault_a6fa7b734487c2a8da04a28ace414a355}{ArmFault}を再定義しています。


\begin{DoxyCode}
797 {
798     bool toHyp;
799 
800     SCR  scr  = tc->readMiscRegNoEffect(MISCREG_SCR);
801     HCR  hcr  = tc->readMiscRegNoEffect(MISCREG_HCR);
802     CPSR cpsr = tc->readMiscRegNoEffect(MISCREG_CPSR);
803 
804     // if in Hyp mode then stay in Hyp mode
805     toHyp  = scr.ns && (cpsr.mode == MODE_HYP);
806     // if HCR.TGE is set to 1, take to Hyp mode through Hyp Trap vector
807     toHyp |= !inSecureState(scr, cpsr) && hcr.tge && (cpsr.mode == MODE_USER);
808     return toHyp;
809 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classArmISA_1_1SupervisorCall_af5e67d95019a0b5aba4c42205567eda7}{
\index{ArmISA::SupervisorCall@{ArmISA::SupervisorCall}!overrideEc@{overrideEc}}
\index{overrideEc@{overrideEc}!ArmISA::SupervisorCall@{ArmISA::SupervisorCall}}
\subsubsection[{overrideEc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ExceptionClass} {\bf overrideEc}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classArmISA_1_1SupervisorCall_af5e67d95019a0b5aba4c42205567eda7}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
arch/arm/\hyperlink{arch_2arm_2faults_8hh}{faults.hh}\item 
arch/arm/\hyperlink{arch_2arm_2faults_8cc}{faults.cc}\end{DoxyCompactItemize}
