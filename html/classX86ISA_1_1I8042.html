<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス I8042</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceX86ISA.html">X86ISA</a>::<a class="el" href="classX86ISA_1_1I8042.html">I8042</a>
  </div>
</div>
<div class="contents">
<h1>クラス I8042</h1><!-- doxytag: class="X86ISA::I8042" --><!-- doxytag: inherits="BasicPioDevice" -->
<p><code>#include &lt;<a class="el" href="i8042_8hh_source.html">i8042.hh</a>&gt;</code></p>
<div class="dynheader">
I8042に対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classX86ISA_1_1I8042.gif" usemap="#I8042_map" alt=""/>
  <map id="I8042_map" name="I8042_map">
<area href="classBasicPioDevice.html" alt="BasicPioDevice" shape="rect" coords="111,280,212,304"/>
<area href="classPioDevice.html" alt="PioDevice" shape="rect" coords="111,224,212,248"/>
<area href="classMemObject.html" alt="MemObject" shape="rect" coords="111,168,212,192"/>
<area href="classClockedObject.html" alt="ClockedObject" shape="rect" coords="111,112,212,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="111,56,212,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,101,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="111,0,212,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="222,0,323,24"/>
</map>
 </div>
</div>

<p><a href="classX86ISA_1_1I8042-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef I8042Params&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#ae70fe038127f3e2a71a81dde45f38dc5">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classX86ISA_1_1I8042.html#ae70fe038127f3e2a71a81dde45f38dc5">Params</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a> (<a class="el" href="classX86ISA_1_1I8042.html#ae70fe038127f3e2a71a81dde45f38dc5">Params</a> *<a class="el" href="namespaceX86ISA.html#af675c1d542a25b96e11164b80809a856">p</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">AddrRangeList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a36cf113d5e5e091ebddb32306c098fae">getAddrRanges</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a613ec7d5e1ec64f8d21fec78ae8e568e">read</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a4cefab464e72b5dd42c003a0a4341802">write</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a53e036786d17361be4c7320d39c99b84">serialize</a> (std::ostream &amp;<a class="el" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section)</td></tr>
<tr><td colspan="2"><h2>Protected 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153">Command</a> { <br/>
&nbsp;&nbsp;<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a23d5de50ab3986c273f16d27873759b8">GetCommandByte</a> =  0x20, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a9b0985cd9d73a7881a7453e9287fc020">ReadControllerRamBase</a> =  0x20, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153ab1dea94380ecd4e4c89e930df17d8d47">WriteCommandByte</a> =  0x60, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a05cf4c570a5283bcd19744ece80507ea">WriteControllerRamBase</a> =  0x60, 
<br/>
&nbsp;&nbsp;<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a22b61ddbb05a5f9d258cd86e4f257cca">CheckForPassword</a> =  0xA4, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a2eaca5606959cbc70001d3138ceda8b6">LoadPassword</a> =  0xA5, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a015a89c4c142f0f69d5ac2cb7bf56b9c">CheckPassword</a> =  0xA6, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153abbe97dae342dfdf3e85a257c90a6ce60">DisableMouse</a> =  0xA7, 
<br/>
&nbsp;&nbsp;<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a16c1a67575ff1313d2c25473e8ac04e4">EnableMouse</a> =  0xA8, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a6277be2e9193123b1eac49cca489fc0c">TestMouse</a> =  0xA9, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a9248a447bc1c5001d5692afd5fc86f06">SelfTest</a> =  0xAA, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a1c8233858c433f8bdbc3ce5185c0a101">InterfaceTest</a> =  0xAB, 
<br/>
&nbsp;&nbsp;<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a099644eade2e1c756daae13c264ba5b8">DiagnosticDump</a> =  0xAC, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153aeb0e477719ae6fd34645beef2a1ad752">DisableKeyboard</a> =  0xAD, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a1f7b43427403a4c6f1574b16c967cecc">EnableKeyboard</a> =  0xAE, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a8509d4fd3b0205f744f648a4bc2052d7">ReadInputPort</a> =  0xC0, 
<br/>
&nbsp;&nbsp;<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a051d34b6b649514ad2cd950431393bb1">ContinuousPollLow</a> =  0xC1, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a04558413a7a04cf4f5348e31f7e25d41">ContinuousPollHigh</a> =  0xC2, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153aade35f253085f916a9e93b23f87d7192">ReadOutputPort</a> =  0xD0, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a4f2168d3b7108d68797c401ca07dcadd">WriteOutputPort</a> =  0xD1, 
<br/>
&nbsp;&nbsp;<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a3ec3c826304679aa03f277eb6f237b78">WriteKeyboardOutputBuff</a> =  0xD2, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a1472aac208d2a3be8de4ea68f2df7582">WriteMouseOutputBuff</a> =  0xD3, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153aca85cf74a065e596943486095dc366ef">WriteToMouse</a> =  0xD4, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a6389bcd602a97980469a0dc45b453b7c">DisableA20</a> =  0xDD, 
<br/>
&nbsp;&nbsp;<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a43a94edb97e3e43d85007fd572854b22">EnableA20</a> =  0xDF, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153afcf1121396fa916967c3206c5803eb11">ReadTestInputs</a> =  0xE0, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a711be2129b337131e878f1dfc6d9a79d">PulseOutputBitBase</a> =  0xF0, 
<a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a7256ac4658ec7af1eb4705b83266a603">SystemReset</a> =  0xFE
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#ac0c09369d67be3737e41443fac983e6a">BitUnion8</a> (StatusReg) Bitfield&lt; 7 &gt; parityError</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a1da145de36668df00f37d59c90f5eae2">EndBitUnion</a> (StatusReg) BitUnion8(CommandByte) Bitfield&lt; 6 &gt; convertScanCodes</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#ad32329bafc0b040cc55ed2025f6ed478">EndBitUnion</a> (CommandByte) <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> latency</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#abc11493a3bf9f79d51f3c434c64483da">writeData</a> (uint8_t newData, bool <a class="el" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a>=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a1ba9c6a2a23bdea21924e02dc6cf9d22">readDataOut</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 6 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a1e751f93440ec6b2aa8aba4c7336d6ea">timeout</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 5 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a43270e273e78021e88be7f7afe75721c">mouseOutputFull</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 4 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a4f11d228c35e9d97c1cc003762735a41">keyboardUnlocked</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 3 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a18c2dccc45c7e23576d55985c4b23eb5">commandLast</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 2 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a0a84c3649aab70a73e2c963a742a4643">passedSelfTest</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a39b55243e60ceda31d8762352cc3748c">inputFull</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 0 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a7f94b3d2e2e3de211854f0645c7e0ec6">outputFull</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 5 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#ad59723c85703511350224ef784f6a9ac">disableMouse</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 4 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#ac82b276112510c9b2475d568d42b4d9e">disableKeyboard</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a38053b2dbafabea0adbbe5a36998f465">mouseFullInt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 0 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a212d28c640ebffd0723d406a3e85ba13">keyboardFullInt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#af1be5149a7fbbf84684505d8ef42f46f">dataPort</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a922fab707fbbc527ea7d1df668c33513">commandPort</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">StatusReg&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CommandByte&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a09dcf88896631b75dbb19f2a5be01e30">dataReg</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classX86ISA_1_1IntSourcePin.html">IntSourcePin</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a43567e6650dc601b0bdbb359a639d974">mouseIntPin</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classX86ISA_1_1IntSourcePin.html">IntSourcePin</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a93c7118e433fc446924c13e65a718473">keyboardIntPin</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classX86ISA_1_1PS2Mouse.html">PS2Mouse</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classX86ISA_1_1PS2Keyboard.html">PS2Keyboard</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#a4d45508aaea1af22f73cbd9fa5525f33">keyboard</a></td></tr>
<tr><td colspan="2"><h2>Static Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1I8042.html#afa7b02fd8bda5e1de413e0b8776294ad">NoCommand</a> = (uint16_t)(-1)</td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="ae70fe038127f3e2a71a81dde45f38dc5"></a><!-- doxytag: member="X86ISA::I8042::Params" ref="ae70fe038127f3e2a71a81dde45f38dc5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef I8042Params <a class="el" href="classX86ISA_1_1I8042.html#ae70fe038127f3e2a71a81dde45f38dc5">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classBasicPioDevice.html#a2845515ac6467f10540747053c8a0449">BasicPioDevice</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>列挙型</h2>
<a class="anchor" id="a2afce0a47a93eee73a314d53e4890153"></a><!-- doxytag: member="X86ISA::I8042::Command" ref="a2afce0a47a93eee73a314d53e4890153" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153">Command</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a23d5de50ab3986c273f16d27873759b8"></a><!-- doxytag: member="GetCommandByte" ref="a2afce0a47a93eee73a314d53e4890153a23d5de50ab3986c273f16d27873759b8" args="" -->GetCommandByte</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a9b0985cd9d73a7881a7453e9287fc020"></a><!-- doxytag: member="ReadControllerRamBase" ref="a2afce0a47a93eee73a314d53e4890153a9b0985cd9d73a7881a7453e9287fc020" args="" -->ReadControllerRamBase</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153ab1dea94380ecd4e4c89e930df17d8d47"></a><!-- doxytag: member="WriteCommandByte" ref="a2afce0a47a93eee73a314d53e4890153ab1dea94380ecd4e4c89e930df17d8d47" args="" -->WriteCommandByte</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a05cf4c570a5283bcd19744ece80507ea"></a><!-- doxytag: member="WriteControllerRamBase" ref="a2afce0a47a93eee73a314d53e4890153a05cf4c570a5283bcd19744ece80507ea" args="" -->WriteControllerRamBase</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a22b61ddbb05a5f9d258cd86e4f257cca"></a><!-- doxytag: member="CheckForPassword" ref="a2afce0a47a93eee73a314d53e4890153a22b61ddbb05a5f9d258cd86e4f257cca" args="" -->CheckForPassword</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a2eaca5606959cbc70001d3138ceda8b6"></a><!-- doxytag: member="LoadPassword" ref="a2afce0a47a93eee73a314d53e4890153a2eaca5606959cbc70001d3138ceda8b6" args="" -->LoadPassword</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a015a89c4c142f0f69d5ac2cb7bf56b9c"></a><!-- doxytag: member="CheckPassword" ref="a2afce0a47a93eee73a314d53e4890153a015a89c4c142f0f69d5ac2cb7bf56b9c" args="" -->CheckPassword</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153abbe97dae342dfdf3e85a257c90a6ce60"></a><!-- doxytag: member="DisableMouse" ref="a2afce0a47a93eee73a314d53e4890153abbe97dae342dfdf3e85a257c90a6ce60" args="" -->DisableMouse</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a16c1a67575ff1313d2c25473e8ac04e4"></a><!-- doxytag: member="EnableMouse" ref="a2afce0a47a93eee73a314d53e4890153a16c1a67575ff1313d2c25473e8ac04e4" args="" -->EnableMouse</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a6277be2e9193123b1eac49cca489fc0c"></a><!-- doxytag: member="TestMouse" ref="a2afce0a47a93eee73a314d53e4890153a6277be2e9193123b1eac49cca489fc0c" args="" -->TestMouse</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a9248a447bc1c5001d5692afd5fc86f06"></a><!-- doxytag: member="SelfTest" ref="a2afce0a47a93eee73a314d53e4890153a9248a447bc1c5001d5692afd5fc86f06" args="" -->SelfTest</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a1c8233858c433f8bdbc3ce5185c0a101"></a><!-- doxytag: member="InterfaceTest" ref="a2afce0a47a93eee73a314d53e4890153a1c8233858c433f8bdbc3ce5185c0a101" args="" -->InterfaceTest</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a099644eade2e1c756daae13c264ba5b8"></a><!-- doxytag: member="DiagnosticDump" ref="a2afce0a47a93eee73a314d53e4890153a099644eade2e1c756daae13c264ba5b8" args="" -->DiagnosticDump</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153aeb0e477719ae6fd34645beef2a1ad752"></a><!-- doxytag: member="DisableKeyboard" ref="a2afce0a47a93eee73a314d53e4890153aeb0e477719ae6fd34645beef2a1ad752" args="" -->DisableKeyboard</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a1f7b43427403a4c6f1574b16c967cecc"></a><!-- doxytag: member="EnableKeyboard" ref="a2afce0a47a93eee73a314d53e4890153a1f7b43427403a4c6f1574b16c967cecc" args="" -->EnableKeyboard</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a8509d4fd3b0205f744f648a4bc2052d7"></a><!-- doxytag: member="ReadInputPort" ref="a2afce0a47a93eee73a314d53e4890153a8509d4fd3b0205f744f648a4bc2052d7" args="" -->ReadInputPort</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a051d34b6b649514ad2cd950431393bb1"></a><!-- doxytag: member="ContinuousPollLow" ref="a2afce0a47a93eee73a314d53e4890153a051d34b6b649514ad2cd950431393bb1" args="" -->ContinuousPollLow</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a04558413a7a04cf4f5348e31f7e25d41"></a><!-- doxytag: member="ContinuousPollHigh" ref="a2afce0a47a93eee73a314d53e4890153a04558413a7a04cf4f5348e31f7e25d41" args="" -->ContinuousPollHigh</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153aade35f253085f916a9e93b23f87d7192"></a><!-- doxytag: member="ReadOutputPort" ref="a2afce0a47a93eee73a314d53e4890153aade35f253085f916a9e93b23f87d7192" args="" -->ReadOutputPort</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a4f2168d3b7108d68797c401ca07dcadd"></a><!-- doxytag: member="WriteOutputPort" ref="a2afce0a47a93eee73a314d53e4890153a4f2168d3b7108d68797c401ca07dcadd" args="" -->WriteOutputPort</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a3ec3c826304679aa03f277eb6f237b78"></a><!-- doxytag: member="WriteKeyboardOutputBuff" ref="a2afce0a47a93eee73a314d53e4890153a3ec3c826304679aa03f277eb6f237b78" args="" -->WriteKeyboardOutputBuff</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a1472aac208d2a3be8de4ea68f2df7582"></a><!-- doxytag: member="WriteMouseOutputBuff" ref="a2afce0a47a93eee73a314d53e4890153a1472aac208d2a3be8de4ea68f2df7582" args="" -->WriteMouseOutputBuff</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153aca85cf74a065e596943486095dc366ef"></a><!-- doxytag: member="WriteToMouse" ref="a2afce0a47a93eee73a314d53e4890153aca85cf74a065e596943486095dc366ef" args="" -->WriteToMouse</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a6389bcd602a97980469a0dc45b453b7c"></a><!-- doxytag: member="DisableA20" ref="a2afce0a47a93eee73a314d53e4890153a6389bcd602a97980469a0dc45b453b7c" args="" -->DisableA20</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a43a94edb97e3e43d85007fd572854b22"></a><!-- doxytag: member="EnableA20" ref="a2afce0a47a93eee73a314d53e4890153a43a94edb97e3e43d85007fd572854b22" args="" -->EnableA20</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153afcf1121396fa916967c3206c5803eb11"></a><!-- doxytag: member="ReadTestInputs" ref="a2afce0a47a93eee73a314d53e4890153afcf1121396fa916967c3206c5803eb11" args="" -->ReadTestInputs</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a711be2129b337131e878f1dfc6d9a79d"></a><!-- doxytag: member="PulseOutputBitBase" ref="a2afce0a47a93eee73a314d53e4890153a711be2129b337131e878f1dfc6d9a79d" args="" -->PulseOutputBitBase</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2afce0a47a93eee73a314d53e4890153a7256ac4658ec7af1eb4705b83266a603"></a><!-- doxytag: member="SystemReset" ref="a2afce0a47a93eee73a314d53e4890153a7256ac4658ec7af1eb4705b83266a603" args="" -->SystemReset</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00163"></a>00163     {
<a name="l00164"></a>00164         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a23d5de50ab3986c273f16d27873759b8">GetCommandByte</a> = 0x20,
<a name="l00165"></a>00165         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a9b0985cd9d73a7881a7453e9287fc020">ReadControllerRamBase</a> = 0x20,
<a name="l00166"></a>00166         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153ab1dea94380ecd4e4c89e930df17d8d47">WriteCommandByte</a> = 0x60,
<a name="l00167"></a>00167         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a05cf4c570a5283bcd19744ece80507ea">WriteControllerRamBase</a> = 0x60,
<a name="l00168"></a>00168         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a22b61ddbb05a5f9d258cd86e4f257cca">CheckForPassword</a> = 0xA4,
<a name="l00169"></a>00169         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a2eaca5606959cbc70001d3138ceda8b6">LoadPassword</a> = 0xA5,
<a name="l00170"></a>00170         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a015a89c4c142f0f69d5ac2cb7bf56b9c">CheckPassword</a> = 0xA6,
<a name="l00171"></a>00171         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153abbe97dae342dfdf3e85a257c90a6ce60">DisableMouse</a> = 0xA7,
<a name="l00172"></a>00172         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a16c1a67575ff1313d2c25473e8ac04e4">EnableMouse</a> = 0xA8,
<a name="l00173"></a>00173         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a6277be2e9193123b1eac49cca489fc0c">TestMouse</a> = 0xA9,
<a name="l00174"></a>00174         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a9248a447bc1c5001d5692afd5fc86f06">SelfTest</a> = 0xAA,
<a name="l00175"></a>00175         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a1c8233858c433f8bdbc3ce5185c0a101">InterfaceTest</a> = 0xAB,
<a name="l00176"></a>00176         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a099644eade2e1c756daae13c264ba5b8">DiagnosticDump</a> = 0xAC,
<a name="l00177"></a>00177         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153aeb0e477719ae6fd34645beef2a1ad752">DisableKeyboard</a> = 0xAD,
<a name="l00178"></a>00178         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a1f7b43427403a4c6f1574b16c967cecc">EnableKeyboard</a> = 0xAE,
<a name="l00179"></a>00179         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a8509d4fd3b0205f744f648a4bc2052d7">ReadInputPort</a> = 0xC0,
<a name="l00180"></a>00180         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a051d34b6b649514ad2cd950431393bb1">ContinuousPollLow</a> = 0xC1,
<a name="l00181"></a>00181         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a04558413a7a04cf4f5348e31f7e25d41">ContinuousPollHigh</a> = 0xC2,
<a name="l00182"></a>00182         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153aade35f253085f916a9e93b23f87d7192">ReadOutputPort</a> = 0xD0,
<a name="l00183"></a>00183         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a4f2168d3b7108d68797c401ca07dcadd">WriteOutputPort</a> = 0xD1,
<a name="l00184"></a>00184         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a3ec3c826304679aa03f277eb6f237b78">WriteKeyboardOutputBuff</a> = 0xD2,
<a name="l00185"></a>00185         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a1472aac208d2a3be8de4ea68f2df7582">WriteMouseOutputBuff</a> = 0xD3,
<a name="l00186"></a>00186         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153aca85cf74a065e596943486095dc366ef">WriteToMouse</a> = 0xD4,
<a name="l00187"></a>00187         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a6389bcd602a97980469a0dc45b453b7c">DisableA20</a> = 0xDD,
<a name="l00188"></a>00188         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a43a94edb97e3e43d85007fd572854b22">EnableA20</a> = 0xDF,
<a name="l00189"></a>00189         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153afcf1121396fa916967c3206c5803eb11">ReadTestInputs</a> = 0xE0,
<a name="l00190"></a>00190         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a711be2129b337131e878f1dfc6d9a79d">PulseOutputBitBase</a> = 0xF0,
<a name="l00191"></a>00191         <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a7256ac4658ec7af1eb4705b83266a603">SystemReset</a> = 0xFE
<a name="l00192"></a>00192     };
</pre></div></p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a46a61113522fbd1946d4f58441b939bf"></a><!-- doxytag: member="X86ISA::I8042::I8042" ref="a46a61113522fbd1946d4f58441b939bf" args="(Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1I8042.html">I8042</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classX86ISA_1_1I8042.html#ae70fe038127f3e2a71a81dde45f38dc5">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00048"></a>00048     : <a class="code" href="classBasicPioDevice.html#acd907d772eed45afbc723fd39de00481">BasicPioDevice</a>(<a class="code" href="namespaceX86ISA.html#af675c1d542a25b96e11164b80809a856">p</a>, 0), <span class="comment">// pioSize arg is dummy value... not used</span>
<a name="l00049"></a>00049       latency(<a class="code" href="namespaceX86ISA.html#af675c1d542a25b96e11164b80809a856">p</a>-&gt;pio_latency),
<a name="l00050"></a>00050       <a class="code" href="classX86ISA_1_1I8042.html#af1be5149a7fbbf84684505d8ef42f46f">dataPort</a>(<a class="code" href="namespaceX86ISA.html#af675c1d542a25b96e11164b80809a856">p</a>-&gt;data_port), <a class="code" href="classX86ISA_1_1I8042.html#a922fab707fbbc527ea7d1df668c33513">commandPort</a>(<a class="code" href="namespaceX86ISA.html#af675c1d542a25b96e11164b80809a856">p</a>-&gt;command_port),
<a name="l00051"></a>00051       <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>(0), <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>(0), <a class="code" href="classX86ISA_1_1I8042.html#a09dcf88896631b75dbb19f2a5be01e30">dataReg</a>(0), <a class="code" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a>(<a class="code" href="classX86ISA_1_1I8042.html#afa7b02fd8bda5e1de413e0b8776294ad">NoCommand</a>),
<a name="l00052"></a>00052       <a class="code" href="classX86ISA_1_1I8042.html#a43567e6650dc601b0bdbb359a639d974">mouseIntPin</a>(<a class="code" href="namespaceX86ISA.html#af675c1d542a25b96e11164b80809a856">p</a>-&gt;mouse_int_pin), <a class="code" href="classX86ISA_1_1I8042.html#a93c7118e433fc446924c13e65a718473">keyboardIntPin</a>(<a class="code" href="namespaceX86ISA.html#af675c1d542a25b96e11164b80809a856">p</a>-&gt;keyboard_int_pin)
<a name="l00053"></a>00053 {
<a name="l00054"></a>00054     <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.passedSelfTest = 1;
<a name="l00055"></a>00055     <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.commandLast = 1;
<a name="l00056"></a>00056     <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.keyboardUnlocked = 1;
<a name="l00057"></a>00057 
<a name="l00058"></a>00058     <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.convertScanCodes = 1;
<a name="l00059"></a>00059     <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.passedSelfTest = 1;
<a name="l00060"></a>00060     <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.keyboardFullInt = 1;
<a name="l00061"></a>00061 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="ac0c09369d67be3737e41443fac983e6a"></a><!-- doxytag: member="X86ISA::I8042::BitUnion8" ref="ac0c09369d67be3737e41443fac983e6a" args="(StatusReg) Bitfield&lt; 7 &gt; parityError" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BitUnion8 </td>
          <td>(</td>
          <td class="paramtype">StatusReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad32329bafc0b040cc55ed2025f6ed478"></a><!-- doxytag: member="X86ISA::I8042::EndBitUnion" ref="ad32329bafc0b040cc55ed2025f6ed478" args="(CommandByte) Tick latency" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">CommandByte&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1da145de36668df00f37d59c90f5eae2"></a><!-- doxytag: member="X86ISA::I8042::EndBitUnion" ref="a1da145de36668df00f37d59c90f5eae2" args="(StatusReg) BitUnion8(CommandByte) Bitfield&lt; 6 &gt; convertScanCodes" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">StatusReg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a36cf113d5e5e091ebddb32306c098fae"></a><!-- doxytag: member="X86ISA::I8042::getAddrRanges" ref="a36cf113d5e5e091ebddb32306c098fae" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">AddrRangeList</a> getAddrRanges </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determine the address ranges that this device responds to.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>a list of non-overlapping address ranges </dd></dl>

<p><a class="el" href="classBasicPioDevice.html#a36cf113d5e5e091ebddb32306c098fae">BasicPioDevice</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00066"></a>00066 {
<a name="l00067"></a>00067     <a class="code" href="classstd_1_1list.html">AddrRangeList</a> ranges;
<a name="l00068"></a>00068     <span class="comment">// TODO: Are these really supposed to be a single byte and not 4?</span>
<a name="l00069"></a>00069     ranges.push_back(<a class="code" href="addr__range_8hh.html#a59cd089c5b2fbc6eecd8507757432740">RangeSize</a>(<a class="code" href="classX86ISA_1_1I8042.html#af1be5149a7fbbf84684505d8ef42f46f">dataPort</a>, 1));
<a name="l00070"></a>00070     ranges.push_back(<a class="code" href="addr__range_8hh.html#a59cd089c5b2fbc6eecd8507757432740">RangeSize</a>(<a class="code" href="classX86ISA_1_1I8042.html#a922fab707fbbc527ea7d1df668c33513">commandPort</a>, 1));
<a name="l00071"></a>00071     <span class="keywordflow">return</span> ranges;
<a name="l00072"></a>00072 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acd3c3feb78ae7a8f88fe0f110a718dff"></a><!-- doxytag: member="X86ISA::I8042::params" ref="acd3c3feb78ae7a8f88fe0f110a718dff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classX86ISA_1_1I8042.html#ae70fe038127f3e2a71a81dde45f38dc5">Params</a>* params </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classBasicPioDevice.html#acd3c3feb78ae7a8f88fe0f110a718dff">BasicPioDevice</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00240"></a>00240     {
<a name="l00241"></a>00241         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classX86ISA_1_1I8042.html#ae70fe038127f3e2a71a81dde45f38dc5">Params</a> *<span class="keyword">&gt;</span>(<a class="code" href="classSimObject.html#acaf6024ae9dda44bfb1c67e05ad70aef">_params</a>);
<a name="l00242"></a>00242     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a613ec7d5e1ec64f8d21fec78ae8e568e"></a><!-- doxytag: member="X86ISA::I8042::read" ref="a613ec7d5e1ec64f8d21fec78ae8e568e" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pure virtual function that the device must implement. Called when a read command is recieved by the port. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html">Packet</a> describing this request </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of ticks it took to complete </dd></dl>

<p><a class="el" href="classPioDevice.html#a842312590432036092c422c87a442358">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00314"></a>00314 {
<a name="l00315"></a>00315     assert(pkt-&gt;<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>() == 1);
<a name="l00316"></a>00316     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a> = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>();
<a name="l00317"></a>00317     <span class="keywordflow">if</span> (addr == <a class="code" href="classX86ISA_1_1I8042.html#af1be5149a7fbbf84684505d8ef42f46f">dataPort</a>) {
<a name="l00318"></a>00318         uint8_t data = <a class="code" href="classX86ISA_1_1I8042.html#a1ba9c6a2a23bdea21924e02dc6cf9d22">readDataOut</a>();
<a name="l00319"></a>00319         <span class="comment">//DPRINTF(I8042, &quot;Read from data port got %#02x.\n&quot;, data);</span>
<a name="l00320"></a>00320         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;uint8_t&gt;(data);
<a name="l00321"></a>00321     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addr == <a class="code" href="classX86ISA_1_1I8042.html#a922fab707fbbc527ea7d1df668c33513">commandPort</a>) {
<a name="l00322"></a>00322         <span class="comment">//DPRINTF(I8042, &quot;Read status as %#02x.\n&quot;, (uint8_t)statusReg);</span>
<a name="l00323"></a>00323         pkt-&gt;<a class="code" href="classPacket.html#a64d947d8dd285398050238bf26c1d8d2">set</a>&lt;uint8_t&gt;((uint8_t)<a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>);
<a name="l00324"></a>00324     } <span class="keywordflow">else</span> {
<a name="l00325"></a>00325         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Read from unrecognized port %#x.\n&quot;</span>, addr);
<a name="l00326"></a>00326     }
<a name="l00327"></a>00327     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00328"></a>00328     <span class="keywordflow">return</span> latency;
<a name="l00329"></a>00329 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1ba9c6a2a23bdea21924e02dc6cf9d22"></a><!-- doxytag: member="X86ISA::I8042::readDataOut" ref="a1ba9c6a2a23bdea21924e02dc6cf9d22" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t readDataOut </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00118"></a>00118 {
<a name="l00119"></a>00119     uint8_t data = <a class="code" href="classX86ISA_1_1I8042.html#a09dcf88896631b75dbb19f2a5be01e30">dataReg</a>;
<a name="l00120"></a>00120     <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.outputFull = 0;
<a name="l00121"></a>00121     <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.mouseOutputFull = 0;
<a name="l00122"></a>00122     <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1I8042.html#a4d45508aaea1af22f73cbd9fa5525f33">keyboard</a>.hasData()) {
<a name="l00123"></a>00123         <a class="code" href="classX86ISA_1_1I8042.html#abc11493a3bf9f79d51f3c434c64483da">writeData</a>(<a class="code" href="classX86ISA_1_1I8042.html#a4d45508aaea1af22f73cbd9fa5525f33">keyboard</a>.getData(), <span class="keyword">false</span>);
<a name="l00124"></a>00124     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a>.hasData()) {
<a name="l00125"></a>00125         <a class="code" href="classX86ISA_1_1I8042.html#abc11493a3bf9f79d51f3c434c64483da">writeData</a>(<a class="code" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a>.getData(), <span class="keyword">true</span>);
<a name="l00126"></a>00126     }
<a name="l00127"></a>00127     <span class="keywordflow">return</span> data;
<a name="l00128"></a>00128 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53e036786d17361be4c7320d39c99b84"></a><!-- doxytag: member="X86ISA::I8042::serialize" ref="a53e036786d17361be4c7320d39c99b84" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#ad6272f80ae37e8331e3969b3f072a801">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00467"></a>00467 {
<a name="l00468"></a>00468     uint8_t statusRegData = <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.__data;
<a name="l00469"></a>00469     uint8_t commandByteData = <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.__data;
<a name="l00470"></a>00470     
<a name="l00471"></a>00471     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1I8042.html#af1be5149a7fbbf84684505d8ef42f46f">dataPort</a>);
<a name="l00472"></a>00472     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1I8042.html#a922fab707fbbc527ea7d1df668c33513">commandPort</a>);
<a name="l00473"></a>00473     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(statusRegData);
<a name="l00474"></a>00474     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(commandByteData);
<a name="l00475"></a>00475     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1I8042.html#a09dcf88896631b75dbb19f2a5be01e30">dataReg</a>);
<a name="l00476"></a>00476     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a>);
<a name="l00477"></a>00477     <a class="code" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a>.serialize(<span class="stringliteral">&quot;mouse&quot;</span>, <a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>);
<a name="l00478"></a>00478     <a class="code" href="classX86ISA_1_1I8042.html#a4d45508aaea1af22f73cbd9fa5525f33">keyboard</a>.serialize(<span class="stringliteral">&quot;keyboard&quot;</span>, <a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>);
<a name="l00479"></a>00479 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af22e5d6d660b97db37003ac61ac4ee49"></a><!-- doxytag: member="X86ISA::I8042::unserialize" ref="af22e5d6d660b97db37003ac61ac4ee49" args="(Checkpoint *cp, const std::string &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#af100c4e9feabf3cd918619c88c718387">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00483"></a>00483 {
<a name="l00484"></a>00484     uint8_t statusRegData;
<a name="l00485"></a>00485     uint8_t commandByteData;
<a name="l00486"></a>00486 
<a name="l00487"></a>00487     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1I8042.html#af1be5149a7fbbf84684505d8ef42f46f">dataPort</a>);
<a name="l00488"></a>00488     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1I8042.html#a922fab707fbbc527ea7d1df668c33513">commandPort</a>);
<a name="l00489"></a>00489     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(statusRegData);
<a name="l00490"></a>00490     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(commandByteData);
<a name="l00491"></a>00491     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1I8042.html#a09dcf88896631b75dbb19f2a5be01e30">dataReg</a>);
<a name="l00492"></a>00492     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a>);
<a name="l00493"></a>00493     <a class="code" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a>.unserialize(<span class="stringliteral">&quot;mouse&quot;</span>, cp, section);
<a name="l00494"></a>00494     <a class="code" href="classX86ISA_1_1I8042.html#a4d45508aaea1af22f73cbd9fa5525f33">keyboard</a>.unserialize(<span class="stringliteral">&quot;keyboard&quot;</span>, cp, section);
<a name="l00495"></a>00495 
<a name="l00496"></a>00496     <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.__data = statusRegData;
<a name="l00497"></a>00497     <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.__data = commandByteData;
<a name="l00498"></a>00498 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4cefab464e72b5dd42c003a0a4341802"></a><!-- doxytag: member="X86ISA::I8042::write" ref="a4cefab464e72b5dd42c003a0a4341802" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pure virtual function that the device must implement. Called when a write command is recieved by the port. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html">Packet</a> describing this request </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of ticks it took to complete </dd></dl>

<p><a class="el" href="classPioDevice.html#afe8371668d023bb2516b286e5e399b6f">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00333"></a>00333 {
<a name="l00334"></a>00334     assert(pkt-&gt;<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>() == 1);
<a name="l00335"></a>00335     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a> = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>();
<a name="l00336"></a>00336     uint8_t data = pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;uint8_t&gt;();
<a name="l00337"></a>00337     <span class="keywordflow">if</span> (addr == <a class="code" href="classX86ISA_1_1I8042.html#af1be5149a7fbbf84684505d8ef42f46f">dataPort</a>) {
<a name="l00338"></a>00338         <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.commandLast = 0;
<a name="l00339"></a>00339         <span class="keywordflow">switch</span> (<a class="code" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a>) {
<a name="l00340"></a>00340           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#afa7b02fd8bda5e1de413e0b8776294ad">NoCommand</a>:
<a name="l00341"></a>00341             <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1I8042.html#a4d45508aaea1af22f73cbd9fa5525f33">keyboard</a>.processData(data)) {
<a name="l00342"></a>00342                 <a class="code" href="classX86ISA_1_1I8042.html#abc11493a3bf9f79d51f3c434c64483da">writeData</a>(<a class="code" href="classX86ISA_1_1I8042.html#a4d45508aaea1af22f73cbd9fa5525f33">keyboard</a>.getData(), <span class="keyword">false</span>);
<a name="l00343"></a>00343             }
<a name="l00344"></a>00344             <span class="keywordflow">break</span>;
<a name="l00345"></a>00345           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153aca85cf74a065e596943486095dc366ef">WriteToMouse</a>:
<a name="l00346"></a>00346             <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a>.processData(data)) {
<a name="l00347"></a>00347                 <a class="code" href="classX86ISA_1_1I8042.html#abc11493a3bf9f79d51f3c434c64483da">writeData</a>(<a class="code" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a>.getData(), <span class="keyword">true</span>);
<a name="l00348"></a>00348             }
<a name="l00349"></a>00349             <span class="keywordflow">break</span>;
<a name="l00350"></a>00350           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153ab1dea94380ecd4e4c89e930df17d8d47">WriteCommandByte</a>:
<a name="l00351"></a>00351             <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a> = data;
<a name="l00352"></a>00352             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Got data %#02x for \&quot;Write &quot;</span>
<a name="l00353"></a>00353                     <span class="stringliteral">&quot;command byte\&quot; command.\n&quot;</span>, data);
<a name="l00354"></a>00354             <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.passedSelfTest = (uint8_t)<a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.passedSelfTest;
<a name="l00355"></a>00355             <span class="keywordflow">break</span>;
<a name="l00356"></a>00356           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a1472aac208d2a3be8de4ea68f2df7582">WriteMouseOutputBuff</a>:
<a name="l00357"></a>00357             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Got data %#02x for \&quot;Write &quot;</span>
<a name="l00358"></a>00358                     <span class="stringliteral">&quot;mouse output buffer\&quot; command.\n&quot;</span>, data);
<a name="l00359"></a>00359             <a class="code" href="classX86ISA_1_1I8042.html#abc11493a3bf9f79d51f3c434c64483da">writeData</a>(data, <span class="keyword">true</span>);
<a name="l00360"></a>00360             <span class="keywordflow">break</span>;
<a name="l00361"></a>00361           <span class="keywordflow">default</span>:
<a name="l00362"></a>00362             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Data written for unrecognized &quot;</span>
<a name="l00363"></a>00363                     <span class="stringliteral">&quot;command %#02x\n&quot;</span>, <a class="code" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a>);
<a name="l00364"></a>00364         }
<a name="l00365"></a>00365         <a class="code" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a> = <a class="code" href="classX86ISA_1_1I8042.html#afa7b02fd8bda5e1de413e0b8776294ad">NoCommand</a>;
<a name="l00366"></a>00366     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addr == <a class="code" href="classX86ISA_1_1I8042.html#a922fab707fbbc527ea7d1df668c33513">commandPort</a>) {
<a name="l00367"></a>00367         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Got command %#02x.\n&quot;</span>, data);
<a name="l00368"></a>00368         <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.commandLast = 1;
<a name="l00369"></a>00369         <span class="comment">// These purposefully leave off the first byte of the controller RAM</span>
<a name="l00370"></a>00370         <span class="comment">// so it can be handled specially.</span>
<a name="l00371"></a>00371         <span class="keywordflow">if</span> (data &gt; <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a9b0985cd9d73a7881a7453e9287fc020">ReadControllerRamBase</a> &amp;&amp;
<a name="l00372"></a>00372                 data &lt; <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a9b0985cd9d73a7881a7453e9287fc020">ReadControllerRamBase</a> + <a class="code" href="i8042_8cc.html#a527fb948ab9d231a8845ce970e7a7df9">RamSize</a>) {
<a name="l00373"></a>00373             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Attempted to use i8042 read controller RAM command to &quot;</span>
<a name="l00374"></a>00374                     <span class="stringliteral">&quot;get byte %d.\n&quot;</span>, data - <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a9b0985cd9d73a7881a7453e9287fc020">ReadControllerRamBase</a>);
<a name="l00375"></a>00375         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data &gt; <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a05cf4c570a5283bcd19744ece80507ea">WriteControllerRamBase</a> &amp;&amp;
<a name="l00376"></a>00376                 data &lt; <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a05cf4c570a5283bcd19744ece80507ea">WriteControllerRamBase</a> + <a class="code" href="i8042_8cc.html#a527fb948ab9d231a8845ce970e7a7df9">RamSize</a>) {
<a name="l00377"></a>00377             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Attempted to use i8042 read controller RAM command to &quot;</span>
<a name="l00378"></a>00378                     <span class="stringliteral">&quot;get byte %d.\n&quot;</span>, data - <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a9b0985cd9d73a7881a7453e9287fc020">ReadControllerRamBase</a>);
<a name="l00379"></a>00379         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data &gt;= <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a711be2129b337131e878f1dfc6d9a79d">PulseOutputBitBase</a> &amp;&amp;
<a name="l00380"></a>00380                 data &lt; <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a711be2129b337131e878f1dfc6d9a79d">PulseOutputBitBase</a> + <a class="code" href="i8042_8cc.html#a90f09d11846a6089f12415643b5bc38a">NumOutputBits</a>) {
<a name="l00381"></a>00381             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Attempted to use i8042 pulse output bit command to &quot;</span>
<a name="l00382"></a>00382                     <span class="stringliteral">&quot;to pulse bit %d.\n&quot;</span>, data - <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a711be2129b337131e878f1dfc6d9a79d">PulseOutputBitBase</a>);
<a name="l00383"></a>00383         }
<a name="l00384"></a>00384         <span class="keywordflow">switch</span> (data) {
<a name="l00385"></a>00385           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a23d5de50ab3986c273f16d27873759b8">GetCommandByte</a>:
<a name="l00386"></a>00386             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Getting command byte.\n&quot;</span>);
<a name="l00387"></a>00387             <a class="code" href="classX86ISA_1_1I8042.html#abc11493a3bf9f79d51f3c434c64483da">writeData</a>(<a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>);
<a name="l00388"></a>00388             <span class="keywordflow">break</span>;
<a name="l00389"></a>00389           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153ab1dea94380ecd4e4c89e930df17d8d47">WriteCommandByte</a>:
<a name="l00390"></a>00390             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Setting command byte.\n&quot;</span>);
<a name="l00391"></a>00391             <a class="code" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a> = <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153ab1dea94380ecd4e4c89e930df17d8d47">WriteCommandByte</a>;
<a name="l00392"></a>00392             <span class="keywordflow">break</span>;
<a name="l00393"></a>00393           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a22b61ddbb05a5f9d258cd86e4f257cca">CheckForPassword</a>:
<a name="l00394"></a>00394             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Check for password\&quot; command not implemented.\n&quot;</span>);
<a name="l00395"></a>00395           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a2eaca5606959cbc70001d3138ceda8b6">LoadPassword</a>:
<a name="l00396"></a>00396             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Load password\&quot; command not implemented.\n&quot;</span>);
<a name="l00397"></a>00397           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a015a89c4c142f0f69d5ac2cb7bf56b9c">CheckPassword</a>:
<a name="l00398"></a>00398             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Check password\&quot; command not implemented.\n&quot;</span>);
<a name="l00399"></a>00399           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153abbe97dae342dfdf3e85a257c90a6ce60">DisableMouse</a>:
<a name="l00400"></a>00400             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Disabling mouse at controller.\n&quot;</span>);
<a name="l00401"></a>00401             <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.disableMouse = 1;
<a name="l00402"></a>00402             <span class="keywordflow">break</span>;
<a name="l00403"></a>00403           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a16c1a67575ff1313d2c25473e8ac04e4">EnableMouse</a>:
<a name="l00404"></a>00404             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Enabling mouse at controller.\n&quot;</span>);
<a name="l00405"></a>00405             <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.disableMouse = 0;
<a name="l00406"></a>00406             <span class="keywordflow">break</span>;
<a name="l00407"></a>00407           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a6277be2e9193123b1eac49cca489fc0c">TestMouse</a>:
<a name="l00408"></a>00408             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Test mouse\&quot; command not implemented.\n&quot;</span>);
<a name="l00409"></a>00409           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a9248a447bc1c5001d5692afd5fc86f06">SelfTest</a>:
<a name="l00410"></a>00410             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Self test\&quot; command not implemented.\n&quot;</span>);
<a name="l00411"></a>00411           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a1c8233858c433f8bdbc3ce5185c0a101">InterfaceTest</a>:
<a name="l00412"></a>00412             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Interface test\&quot; command not implemented.\n&quot;</span>);
<a name="l00413"></a>00413           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a099644eade2e1c756daae13c264ba5b8">DiagnosticDump</a>:
<a name="l00414"></a>00414             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Diagnostic dump\&quot; command not implemented.\n&quot;</span>);
<a name="l00415"></a>00415           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153aeb0e477719ae6fd34645beef2a1ad752">DisableKeyboard</a>:
<a name="l00416"></a>00416             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Disabling keyboard at controller.\n&quot;</span>);
<a name="l00417"></a>00417             <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.disableKeyboard = 1;
<a name="l00418"></a>00418             <span class="keywordflow">break</span>;
<a name="l00419"></a>00419           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a1f7b43427403a4c6f1574b16c967cecc">EnableKeyboard</a>:
<a name="l00420"></a>00420             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Enabling keyboard at controller.\n&quot;</span>);
<a name="l00421"></a>00421             <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.disableKeyboard = 0;
<a name="l00422"></a>00422             <span class="keywordflow">break</span>;
<a name="l00423"></a>00423           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a8509d4fd3b0205f744f648a4bc2052d7">ReadInputPort</a>:
<a name="l00424"></a>00424             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Read input port\&quot; command not implemented.\n&quot;</span>);
<a name="l00425"></a>00425           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a051d34b6b649514ad2cd950431393bb1">ContinuousPollLow</a>:
<a name="l00426"></a>00426             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Continuous poll low\&quot; command not implemented.\n&quot;</span>);
<a name="l00427"></a>00427           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a04558413a7a04cf4f5348e31f7e25d41">ContinuousPollHigh</a>:
<a name="l00428"></a>00428             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Continuous poll high\&quot; command not implemented.\n&quot;</span>);
<a name="l00429"></a>00429           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153aade35f253085f916a9e93b23f87d7192">ReadOutputPort</a>:
<a name="l00430"></a>00430             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Read output port\&quot; command not implemented.\n&quot;</span>);
<a name="l00431"></a>00431           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a4f2168d3b7108d68797c401ca07dcadd">WriteOutputPort</a>:
<a name="l00432"></a>00432             <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a>(<span class="stringliteral">&quot;i8042 \&quot;Write output port\&quot; command not implemented.\n&quot;</span>);
<a name="l00433"></a>00433             <a class="code" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a> = <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a4f2168d3b7108d68797c401ca07dcadd">WriteOutputPort</a>;
<a name="l00434"></a>00434           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a3ec3c826304679aa03f277eb6f237b78">WriteKeyboardOutputBuff</a>:
<a name="l00435"></a>00435             <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a>(<span class="stringliteral">&quot;i8042 \&quot;Write keyboard output buffer\&quot; &quot;</span>
<a name="l00436"></a>00436                     <span class="stringliteral">&quot;command not implemented.\n&quot;</span>);
<a name="l00437"></a>00437             <a class="code" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a> = <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a3ec3c826304679aa03f277eb6f237b78">WriteKeyboardOutputBuff</a>;
<a name="l00438"></a>00438           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a1472aac208d2a3be8de4ea68f2df7582">WriteMouseOutputBuff</a>:
<a name="l00439"></a>00439             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Got command to write to mouse output buffer.\n&quot;</span>);
<a name="l00440"></a>00440             <a class="code" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a> = <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a1472aac208d2a3be8de4ea68f2df7582">WriteMouseOutputBuff</a>;
<a name="l00441"></a>00441             <span class="keywordflow">break</span>;
<a name="l00442"></a>00442           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153aca85cf74a065e596943486095dc366ef">WriteToMouse</a>:
<a name="l00443"></a>00443             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Expecting mouse command.\n&quot;</span>);
<a name="l00444"></a>00444             <a class="code" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a> = <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153aca85cf74a065e596943486095dc366ef">WriteToMouse</a>;
<a name="l00445"></a>00445             <span class="keywordflow">break</span>;
<a name="l00446"></a>00446           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a6389bcd602a97980469a0dc45b453b7c">DisableA20</a>:
<a name="l00447"></a>00447             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Disable A20\&quot; command not implemented.\n&quot;</span>);
<a name="l00448"></a>00448           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a43a94edb97e3e43d85007fd572854b22">EnableA20</a>:
<a name="l00449"></a>00449             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Enable A20\&quot; command not implemented.\n&quot;</span>);
<a name="l00450"></a>00450           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153afcf1121396fa916967c3206c5803eb11">ReadTestInputs</a>:
<a name="l00451"></a>00451             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;Read test inputs\&quot; command not implemented.\n&quot;</span>);
<a name="l00452"></a>00452           <span class="keywordflow">case</span> <a class="code" href="classX86ISA_1_1I8042.html#a2afce0a47a93eee73a314d53e4890153a7256ac4658ec7af1eb4705b83266a603">SystemReset</a>:
<a name="l00453"></a>00453             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;i8042 \&quot;System reset\&quot; command not implemented.\n&quot;</span>);
<a name="l00454"></a>00454           <span class="keywordflow">default</span>:
<a name="l00455"></a>00455             <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a>(<span class="stringliteral">&quot;Write to unknown i8042 &quot;</span>
<a name="l00456"></a>00456                     <span class="stringliteral">&quot;(keyboard controller) command port.\n&quot;</span>);
<a name="l00457"></a>00457         }
<a name="l00458"></a>00458     } <span class="keywordflow">else</span> {
<a name="l00459"></a>00459         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Write to unrecognized port %#x.\n&quot;</span>, addr);
<a name="l00460"></a>00460     }
<a name="l00461"></a>00461     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00462"></a>00462     <span class="keywordflow">return</span> latency;
<a name="l00463"></a>00463 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abc11493a3bf9f79d51f3c434c64483da"></a><!-- doxytag: member="X86ISA::I8042::writeData" ref="abc11493a3bf9f79d51f3c434c64483da" args="(uint8_t newData, bool mouse=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeData </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>newData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>mouse</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00076"></a>00076 {
<a name="l00077"></a>00077     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Set data %#02x.\n&quot;</span>, newData);
<a name="l00078"></a>00078     <a class="code" href="classX86ISA_1_1I8042.html#a09dcf88896631b75dbb19f2a5be01e30">dataReg</a> = newData;
<a name="l00079"></a>00079     <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.outputFull = 1;
<a name="l00080"></a>00080     <a class="code" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a>.mouseOutputFull = (<a class="code" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a> ? 1 : 0);
<a name="l00081"></a>00081     <span class="keywordflow">if</span> (!<a class="code" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a> &amp;&amp; <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.keyboardFullInt) {
<a name="l00082"></a>00082         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Sending keyboard interrupt.\n&quot;</span>);
<a name="l00083"></a>00083         <a class="code" href="classX86ISA_1_1I8042.html#a93c7118e433fc446924c13e65a718473">keyboardIntPin</a>-&gt;raise();
<a name="l00084"></a>00084         <span class="comment">//This is a hack</span>
<a name="l00085"></a>00085         <a class="code" href="classX86ISA_1_1I8042.html#a93c7118e433fc446924c13e65a718473">keyboardIntPin</a>-&gt;lower();
<a name="l00086"></a>00086     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a> &amp;&amp; <a class="code" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a>.mouseFullInt) {
<a name="l00087"></a>00087         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classX86ISA_1_1I8042.html#a46a61113522fbd1946d4f58441b939bf">I8042</a>, <span class="stringliteral">&quot;Sending mouse interrupt.\n&quot;</span>);
<a name="l00088"></a>00088         <a class="code" href="classX86ISA_1_1I8042.html#a43567e6650dc601b0bdbb359a639d974">mouseIntPin</a>-&gt;raise();
<a name="l00089"></a>00089         <span class="comment">//This is a hack</span>
<a name="l00090"></a>00090         <a class="code" href="classX86ISA_1_1I8042.html#a43567e6650dc601b0bdbb359a639d974">mouseIntPin</a>-&gt;lower();
<a name="l00091"></a>00091     }
<a name="l00092"></a>00092 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a70ba06fc42f64ee547bc6ac1d84b8605"></a><!-- doxytag: member="X86ISA::I8042::commandByte" ref="a70ba06fc42f64ee547bc6ac1d84b8605" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CommandByte <a class="el" href="classX86ISA_1_1I8042.html#a70ba06fc42f64ee547bc6ac1d84b8605">commandByte</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a18c2dccc45c7e23576d55985c4b23eb5"></a><!-- doxytag: member="X86ISA::I8042::commandLast" ref="a18c2dccc45c7e23576d55985c4b23eb5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;3&gt; <a class="el" href="classX86ISA_1_1I8042.html#a18c2dccc45c7e23576d55985c4b23eb5">commandLast</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a922fab707fbbc527ea7d1df668c33513"></a><!-- doxytag: member="X86ISA::I8042::commandPort" ref="a922fab707fbbc527ea7d1df668c33513" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classX86ISA_1_1I8042.html#a922fab707fbbc527ea7d1df668c33513">commandPort</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af1be5149a7fbbf84684505d8ef42f46f"></a><!-- doxytag: member="X86ISA::I8042::dataPort" ref="af1be5149a7fbbf84684505d8ef42f46f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classX86ISA_1_1I8042.html#af1be5149a7fbbf84684505d8ef42f46f">dataPort</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a09dcf88896631b75dbb19f2a5be01e30"></a><!-- doxytag: member="X86ISA::I8042::dataReg" ref="a09dcf88896631b75dbb19f2a5be01e30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="classX86ISA_1_1I8042.html#a09dcf88896631b75dbb19f2a5be01e30">dataReg</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac82b276112510c9b2475d568d42b4d9e"></a><!-- doxytag: member="X86ISA::I8042::disableKeyboard" ref="ac82b276112510c9b2475d568d42b4d9e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;4&gt; <a class="el" href="classX86ISA_1_1I8042.html#ac82b276112510c9b2475d568d42b4d9e">disableKeyboard</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad59723c85703511350224ef784f6a9ac"></a><!-- doxytag: member="X86ISA::I8042::disableMouse" ref="ad59723c85703511350224ef784f6a9ac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;5&gt; <a class="el" href="classX86ISA_1_1I8042.html#ad59723c85703511350224ef784f6a9ac">disableMouse</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a39b55243e60ceda31d8762352cc3748c"></a><!-- doxytag: member="X86ISA::I8042::inputFull" ref="a39b55243e60ceda31d8762352cc3748c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;1&gt; <a class="el" href="classX86ISA_1_1I8042.html#a39b55243e60ceda31d8762352cc3748c">inputFull</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4d45508aaea1af22f73cbd9fa5525f33"></a><!-- doxytag: member="X86ISA::I8042::keyboard" ref="a4d45508aaea1af22f73cbd9fa5525f33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1PS2Keyboard.html">PS2Keyboard</a> <a class="el" href="classX86ISA_1_1I8042.html#a4d45508aaea1af22f73cbd9fa5525f33">keyboard</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a212d28c640ebffd0723d406a3e85ba13"></a><!-- doxytag: member="X86ISA::I8042::keyboardFullInt" ref="a212d28c640ebffd0723d406a3e85ba13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;0&gt; <a class="el" href="classX86ISA_1_1I8042.html#a212d28c640ebffd0723d406a3e85ba13">keyboardFullInt</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a93c7118e433fc446924c13e65a718473"></a><!-- doxytag: member="X86ISA::I8042::keyboardIntPin" ref="a93c7118e433fc446924c13e65a718473" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1IntSourcePin.html">IntSourcePin</a>* <a class="el" href="classX86ISA_1_1I8042.html#a93c7118e433fc446924c13e65a718473">keyboardIntPin</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4f11d228c35e9d97c1cc003762735a41"></a><!-- doxytag: member="X86ISA::I8042::keyboardUnlocked" ref="a4f11d228c35e9d97c1cc003762735a41" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;4&gt; <a class="el" href="classX86ISA_1_1I8042.html#a4f11d228c35e9d97c1cc003762735a41">keyboardUnlocked</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0db1139e4bbd0a84a125c3aec0cb4334"></a><!-- doxytag: member="X86ISA::I8042::lastCommand" ref="a0db1139e4bbd0a84a125c3aec0cb4334" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="classX86ISA_1_1I8042.html#a0db1139e4bbd0a84a125c3aec0cb4334">lastCommand</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab174297071ac5e00a17024b3ea4489a8"></a><!-- doxytag: member="X86ISA::I8042::mouse" ref="ab174297071ac5e00a17024b3ea4489a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1PS2Mouse.html">PS2Mouse</a> <a class="el" href="classX86ISA_1_1I8042.html#ab174297071ac5e00a17024b3ea4489a8">mouse</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a38053b2dbafabea0adbbe5a36998f465"></a><!-- doxytag: member="X86ISA::I8042::mouseFullInt" ref="a38053b2dbafabea0adbbe5a36998f465" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;1&gt; <a class="el" href="classX86ISA_1_1I8042.html#a38053b2dbafabea0adbbe5a36998f465">mouseFullInt</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a43567e6650dc601b0bdbb359a639d974"></a><!-- doxytag: member="X86ISA::I8042::mouseIntPin" ref="a43567e6650dc601b0bdbb359a639d974" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1IntSourcePin.html">IntSourcePin</a>* <a class="el" href="classX86ISA_1_1I8042.html#a43567e6650dc601b0bdbb359a639d974">mouseIntPin</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a43270e273e78021e88be7f7afe75721c"></a><!-- doxytag: member="X86ISA::I8042::mouseOutputFull" ref="a43270e273e78021e88be7f7afe75721c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;5&gt; <a class="el" href="classX86ISA_1_1I8042.html#a43270e273e78021e88be7f7afe75721c">mouseOutputFull</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afa7b02fd8bda5e1de413e0b8776294ad"></a><!-- doxytag: member="X86ISA::I8042::NoCommand" ref="afa7b02fd8bda5e1de413e0b8776294ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t <a class="el" href="classX86ISA_1_1I8042.html#afa7b02fd8bda5e1de413e0b8776294ad">NoCommand</a> = (uint16_t)(-1)<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7f94b3d2e2e3de211854f0645c7e0ec6"></a><!-- doxytag: member="X86ISA::I8042::outputFull" ref="a7f94b3d2e2e3de211854f0645c7e0ec6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;0&gt; <a class="el" href="classX86ISA_1_1I8042.html#a7f94b3d2e2e3de211854f0645c7e0ec6">outputFull</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0a84c3649aab70a73e2c963a742a4643"></a><!-- doxytag: member="X86ISA::I8042::passedSelfTest" ref="a0a84c3649aab70a73e2c963a742a4643" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt; 2 &gt; <a class="el" href="classX86ISA_1_1I8042.html#a0a84c3649aab70a73e2c963a742a4643">passedSelfTest</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a08336c94695c08fbcf6cb02060bd9b94"></a><!-- doxytag: member="X86ISA::I8042::statusReg" ref="a08336c94695c08fbcf6cb02060bd9b94" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusReg <a class="el" href="classX86ISA_1_1I8042.html#a08336c94695c08fbcf6cb02060bd9b94">statusReg</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1e751f93440ec6b2aa8aba4c7336d6ea"></a><!-- doxytag: member="X86ISA::I8042::timeout" ref="a1e751f93440ec6b2aa8aba4c7336d6ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;6&gt; <a class="el" href="classX86ISA_1_1I8042.html#a1e751f93440ec6b2aa8aba4c7336d6ea">timeout</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>dev/x86/<a class="el" href="i8042_8hh_source.html">i8042.hh</a></li>
<li>dev/x86/<a class="el" href="i8042_8cc.html">i8042.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
