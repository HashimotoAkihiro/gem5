\hypertarget{classStats_1_1Formula}{
\section{クラス Formula}
\label{classStats_1_1Formula}\index{Stats::Formula@{Stats::Formula}}
}


{\ttfamily \#include $<$statistics.hh$>$}Formulaに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4cm]{classStats_1_1Formula}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classStats_1_1Formula_a3b99b8902a1d298951025096a0537dd8}{Formula} ()
\item 
\hyperlink{classStats_1_1Formula_aa382261a63758affb764f96c7281436e}{Formula} (\hyperlink{classStats_1_1Temp}{Temp} r)
\item 
const \hyperlink{classStats_1_1Formula}{Formula} \& \hyperlink{classStats_1_1Formula_a1b436830b3390f8a71ca2f460ef3e5b7}{operator=} (\hyperlink{classStats_1_1Temp}{Temp} r)
\item 
const \hyperlink{classStats_1_1Formula}{Formula} \& \hyperlink{classStats_1_1Formula_a42c7af4fd136e07033823e9965715d7b}{operator+=} (\hyperlink{classStats_1_1Temp}{Temp} r)
\item 
const \hyperlink{classStats_1_1Formula}{Formula} \& \hyperlink{classStats_1_1Formula_a90b02014636934b23364214dcceff3c4}{operator/=} (\hyperlink{classStats_1_1Temp}{Temp} r)
\item 
void \hyperlink{classStats_1_1Formula_a9dff2394cecff3afb2bf8662c9c9bc04}{result} (\hyperlink{classstd_1_1vector}{VResult} \&vec) const 
\item 
\hyperlink{namespaceStats_ad874d2cfd4b4a29ebd480bb2e67f20ae}{Result} \hyperlink{classStats_1_1Formula_a35c6e2ed3fc81b40d69052a062113ead}{total} () const 
\item 
\hyperlink{namespaceStats_ada51e68d31936547d3729c82daf6b7c6}{size\_\-type} \hyperlink{classStats_1_1Formula_a503ab01f6c0142145d3434f6924714e7}{size} () const 
\item 
void \hyperlink{classStats_1_1Formula_a1825b40ca3bc3a1ba67fdb58fac5015c}{prepare} ()
\item 
void \hyperlink{classStats_1_1Formula_ad20897c5c8bd47f5d4005989bead0e55}{reset} ()
\item 
bool \hyperlink{classStats_1_1Formula_a4e72b01b727d3165e75cba84eb507491}{zero} () const 
\item 
std::string \hyperlink{classStats_1_1Formula_a0bd251dfecae718a4c1568eb3d660697}{str} () const 
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classRefCountingPtr}{NodePtr} \hyperlink{classStats_1_1Formula_a9d644ae9def8b6b8b9df1adf4955671d}{root}
\end{DoxyCompactItemize}
\subsection*{フレンド}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classStats_1_1Formula_a39c12a27b0e249e02bb7ef7a1af12f47}{Temp}
\end{DoxyCompactItemize}


\subsection{説明}
A formula for statistics that is calculated when printed. A formula is stored as a tree of Nodes that represent the equation to calculate. \begin{DoxySeeAlso}{参照}
Stat, ScalarStat, VectorStat, \hyperlink{classStats_1_1Node}{Node}, \hyperlink{classStats_1_1Temp}{Temp} 
\end{DoxySeeAlso}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classStats_1_1Formula_a3b99b8902a1d298951025096a0537dd8}{
\index{Stats::Formula@{Stats::Formula}!Formula@{Formula}}
\index{Formula@{Formula}!Stats::Formula@{Stats::Formula}}
\subsubsection[{Formula}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Formula} ()}}
\label{classStats_1_1Formula_a3b99b8902a1d298951025096a0537dd8}
Create and initialize thie formula, and register it with the database. 


\begin{DoxyCode}
377 {
378 }
\end{DoxyCode}
\hypertarget{classStats_1_1Formula_aa382261a63758affb764f96c7281436e}{
\index{Stats::Formula@{Stats::Formula}!Formula@{Formula}}
\index{Formula@{Formula}!Stats::Formula@{Stats::Formula}}
\subsubsection[{Formula}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Formula} ({\bf Temp} {\em r})}}
\label{classStats_1_1Formula_aa382261a63758affb764f96c7281436e}
Create a formula with the given root node, register it with the database. 
\begin{DoxyParams}{引数}
\item[{\em r}]The root of the expression tree. \end{DoxyParams}



\begin{DoxyCode}
381 {
382     root = r;
383     setInit();
384     assert(size());
385 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classStats_1_1Formula_a42c7af4fd136e07033823e9965715d7b}{
\index{Stats::Formula@{Stats::Formula}!operator+=@{operator+=}}
\index{operator+=@{operator+=}!Stats::Formula@{Stats::Formula}}
\subsubsection[{operator+=}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Formula} \& operator+= ({\bf Temp} {\em r})}}
\label{classStats_1_1Formula_a42c7af4fd136e07033823e9965715d7b}
Add the given tree to the existing one. 
\begin{DoxyParams}{引数}
\item[{\em r}]The root of the expression tree. \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
a reference to this formula. 
\end{DoxyReturn}



\begin{DoxyCode}
399 {
400     if (root)
401         root = NodePtr(new BinaryNode<std::plus<Result> >(root, r));
402     else {
403         root = r;
404         setInit();
405     }
406 
407     assert(size());
408     return *this;
409 }
\end{DoxyCode}
\hypertarget{classStats_1_1Formula_a90b02014636934b23364214dcceff3c4}{
\index{Stats::Formula@{Stats::Formula}!operator/=@{operator/=}}
\index{operator/=@{operator/=}!Stats::Formula@{Stats::Formula}}
\subsubsection[{operator/=}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Formula} \& operator/= ({\bf Temp} {\em r})}}
\label{classStats_1_1Formula_a90b02014636934b23364214dcceff3c4}
Divide the existing tree by the given one. 
\begin{DoxyParams}{引数}
\item[{\em r}]The root of the expression tree. \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
a reference to this formula. 
\end{DoxyReturn}



\begin{DoxyCode}
413 {
414     assert (root);
415     root = NodePtr(new BinaryNode<std::divides<Result> >(root, r));
416 
417     assert(size());
418     return *this;
419 }
\end{DoxyCode}
\hypertarget{classStats_1_1Formula_a1b436830b3390f8a71ca2f460ef3e5b7}{
\index{Stats::Formula@{Stats::Formula}!operator=@{operator=}}
\index{operator=@{operator=}!Stats::Formula@{Stats::Formula}}
\subsubsection[{operator=}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Formula} \& operator= ({\bf Temp} {\em r})}}
\label{classStats_1_1Formula_a1b436830b3390f8a71ca2f460ef3e5b7}
\hyperlink{classSet}{Set} an unitialized \hyperlink{classStats_1_1Formula}{Formula} to the given root. 
\begin{DoxyParams}{引数}
\item[{\em r}]The root of the expression tree. \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
a reference to this formula. 
\end{DoxyReturn}



\begin{DoxyCode}
389 {
390     assert(!root && "Can't change formulas");
391     root = r;
392     setInit();
393     assert(size());
394     return *this;
395 }
\end{DoxyCode}
\hypertarget{classStats_1_1Formula_a1825b40ca3bc3a1ba67fdb58fac5015c}{
\index{Stats::Formula@{Stats::Formula}!prepare@{prepare}}
\index{prepare@{prepare}!Stats::Formula@{Stats::Formula}}
\subsubsection[{prepare}]{\setlength{\rightskip}{0pt plus 5cm}void prepare ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classStats_1_1Formula_a1825b40ca3bc3a1ba67fdb58fac5015c}


\hyperlink{classStats_1_1DataWrapVec_a1825b40ca3bc3a1ba67fdb58fac5015c}{DataWrapVec$<$ Formula, FormulaInfoProxy $>$}を再定義しています。


\begin{DoxyCode}
2944 { }
\end{DoxyCode}
\hypertarget{classStats_1_1Formula_ad20897c5c8bd47f5d4005989bead0e55}{
\index{Stats::Formula@{Stats::Formula}!reset@{reset}}
\index{reset@{reset}!Stats::Formula@{Stats::Formula}}
\subsubsection[{reset}]{\setlength{\rightskip}{0pt plus 5cm}void reset ()}}
\label{classStats_1_1Formula_ad20897c5c8bd47f5d4005989bead0e55}
Formulas don't need to be reset 

\hyperlink{classStats_1_1DataWrapVec_ad20897c5c8bd47f5d4005989bead0e55}{DataWrapVec$<$ Formula, FormulaInfoProxy $>$}を再定義しています。


\begin{DoxyCode}
445 {
446 }
\end{DoxyCode}
\hypertarget{classStats_1_1Formula_a9dff2394cecff3afb2bf8662c9c9bc04}{
\index{Stats::Formula@{Stats::Formula}!result@{result}}
\index{result@{result}!Stats::Formula@{Stats::Formula}}
\subsubsection[{result}]{\setlength{\rightskip}{0pt plus 5cm}void result ({\bf VResult} \& {\em vec}) const}}
\label{classStats_1_1Formula_a9dff2394cecff3afb2bf8662c9c9bc04}
Return the result of the Fomula in a vector. If there were no \hyperlink{classStats_1_1Vector}{Vector} components to the \hyperlink{classStats_1_1Formula}{Formula}, then the vector is size 1. If there were, like x/y with x being a vector of size 3, then the result returned will be x\mbox{[}0\mbox{]}/y, x\mbox{[}1\mbox{]}/y, x\mbox{[}2\mbox{]}/y, respectively. \begin{DoxyReturn}{戻り値}
The result vector. 
\end{DoxyReturn}



\begin{DoxyCode}
423 {
424     if (root)
425         vec = root->result();
426 }
\end{DoxyCode}
\hypertarget{classStats_1_1Formula_a503ab01f6c0142145d3434f6924714e7}{
\index{Stats::Formula@{Stats::Formula}!size@{size}}
\index{size@{size}!Stats::Formula@{Stats::Formula}}
\subsubsection[{size}]{\setlength{\rightskip}{0pt plus 5cm}{\bf size\_\-type} size () const}}
\label{classStats_1_1Formula_a503ab01f6c0142145d3434f6924714e7}
Return the number of elements in the tree. 


\begin{DoxyCode}
436 {
437     if (!root)
438         return 0;
439     else
440         return root->size();
441 }
\end{DoxyCode}
\hypertarget{classStats_1_1Formula_a0bd251dfecae718a4c1568eb3d660697}{
\index{Stats::Formula@{Stats::Formula}!str@{str}}
\index{str@{str}!Stats::Formula@{Stats::Formula}}
\subsubsection[{str}]{\setlength{\rightskip}{0pt plus 5cm}string str () const}}
\label{classStats_1_1Formula_a0bd251dfecae718a4c1568eb3d660697}



\begin{DoxyCode}
461 {
462     return root ? root->str() : "";
463 }
\end{DoxyCode}
\hypertarget{classStats_1_1Formula_a35c6e2ed3fc81b40d69052a062113ead}{
\index{Stats::Formula@{Stats::Formula}!total@{total}}
\index{total@{total}!Stats::Formula@{Stats::Formula}}
\subsubsection[{total}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Result} total () const}}
\label{classStats_1_1Formula_a35c6e2ed3fc81b40d69052a062113ead}
Return the total \hyperlink{classStats_1_1Formula}{Formula} result. If there is a \hyperlink{classStats_1_1Vector}{Vector} component to this \hyperlink{classStats_1_1Formula}{Formula}, then this is the result of the \hyperlink{classStats_1_1Formula}{Formula} if the formula is applied after summing all the components of the \hyperlink{classStats_1_1Vector}{Vector}. For example, if \hyperlink{classStats_1_1Formula}{Formula} is x/y where x is size 3, then \hyperlink{classStats_1_1Formula_a35c6e2ed3fc81b40d69052a062113ead}{total()} will return (x\mbox{[}1\mbox{]}+x\mbox{[}2\mbox{]}+x\mbox{[}3\mbox{]})/y. If there is no \hyperlink{classStats_1_1Vector}{Vector} component, \hyperlink{classStats_1_1Formula_a35c6e2ed3fc81b40d69052a062113ead}{total()} returns the same value as the first entry in the VResult \hyperlink{namespaceX86ISA_ae13bf1250853ff6b72aabe3c79b587cc}{val()} returns. \begin{DoxyReturn}{戻り値}
The total of the result vector. 
\end{DoxyReturn}



\begin{DoxyCode}
430 {
431     return root ? root->total() : 0.0;
432 }
\end{DoxyCode}
\hypertarget{classStats_1_1Formula_a4e72b01b727d3165e75cba84eb507491}{
\index{Stats::Formula@{Stats::Formula}!zero@{zero}}
\index{zero@{zero}!Stats::Formula@{Stats::Formula}}
\subsubsection[{zero}]{\setlength{\rightskip}{0pt plus 5cm}bool zero () const}}
\label{classStats_1_1Formula_a4e72b01b727d3165e75cba84eb507491}
\begin{DoxyReturn}{戻り値}
true if this stat has a value and satisfies its requirement as a prereq 
\end{DoxyReturn}


\hyperlink{classStats_1_1InfoAccess_a4e72b01b727d3165e75cba84eb507491}{InfoAccess}を再定義しています。


\begin{DoxyCode}
450 {
451     VResult vec;
452     result(vec);
453     for (VResult::size_type i = 0; i < vec.size(); ++i)
454         if (vec[i] != 0.0)
455             return false;
456     return true;
457 }
\end{DoxyCode}


\subsection{フレンドと関連する関数}
\hypertarget{classStats_1_1Formula_a39c12a27b0e249e02bb7ef7a1af12f47}{
\index{Stats::Formula@{Stats::Formula}!Temp@{Temp}}
\index{Temp@{Temp}!Stats::Formula@{Stats::Formula}}
\subsubsection[{Temp}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Temp}\hspace{0.3cm}{\ttfamily  \mbox{[}friend\mbox{]}}}}
\label{classStats_1_1Formula_a39c12a27b0e249e02bb7ef7a1af12f47}


\subsection{変数}
\hypertarget{classStats_1_1Formula_a9d644ae9def8b6b8b9df1adf4955671d}{
\index{Stats::Formula@{Stats::Formula}!root@{root}}
\index{root@{root}!Stats::Formula@{Stats::Formula}}
\subsubsection[{root}]{\setlength{\rightskip}{0pt plus 5cm}{\bf NodePtr} {\bf root}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classStats_1_1Formula_a9d644ae9def8b6b8b9df1adf4955671d}
The root of the tree which represents the \hyperlink{classStats_1_1Formula}{Formula} 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
base/\hyperlink{statistics_8hh}{statistics.hh}\item 
base/\hyperlink{statistics_8cc}{statistics.cc}\end{DoxyCompactItemize}
