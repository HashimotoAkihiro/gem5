<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス RubyTester</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス RubyTester</h1><!-- doxytag: class="RubyTester" --><!-- doxytag: inherits="MemObject" -->
<p><code>#include &lt;<a class="el" href="RubyTester_8hh_source.html">RubyTester.hh</a>&gt;</code></p>
<div class="dynheader">
RubyTesterに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classRubyTester.gif" usemap="#RubyTester_map" alt=""/>
  <map id="RubyTester_map" name="RubyTester_map">
<area href="classMemObject.html" alt="MemObject" shape="rect" coords="105,168,200,192"/>
<area href="classClockedObject.html" alt="ClockedObject" shape="rect" coords="105,112,200,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="105,56,200,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,95,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="105,0,200,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="210,0,305,24"/>
</map>
 </div>
</div>

<p><a href="classRubyTester-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester_1_1CheckStartEvent.html">CheckStartEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester_1_1CpuPort.html">CpuPort</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester_1_1RubyTester.html">RubyTester</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRubyTester_1_1SenderState.html">SenderState</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef RubyTesterParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a6785f65e1745860fc5b53cbf4aefc2f7">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#ae8f6793530023408995b1e046935c263">RubyTester</a> (const <a class="el" href="classRubyTester.html#a6785f65e1745860fc5b53cbf4aefc2f7">Params</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#ac53d3f47921859fb0e3792c18c8643d7">~RubyTester</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classBaseMasterPort.html">BaseMasterPort</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#adc4e675e51defbdd1e354dac729d0703">getMasterPort</a> (const std::string &amp;if_name, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> idx=<a class="el" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a42293ff3a28b9881992792d7fdee907b">isInstReadableCpuPort</a> (int idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMasterPort.html">MasterPort</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#aa82782a52c45fe9caea72eb6beee63c3">getReadableCpuPort</a> (int idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMasterPort.html">MasterPort</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a77680df4a8d2917c7f961e56eff08e96">getWritableCpuPort</a> (int idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#ae674290a26ecbd622c5160e38e8a4fe9">wakeup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a7bf3ac9b8e83cf7ec4fd1462ead30b3b">incrementCheckCompletions</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a38f932a0a623730fe10783f46d243cef">printStats</a> (std::ostream &amp;out) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#ac7ec7476159db4e2bb0372e30010fc9e">clearStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a773d0e977425600264039f8941f18496">printConfig</a> (std::ostream &amp;out) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#ac55fe386a101fbae38c716067c9966a0">print</a> (std::ostream &amp;out) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#ae69c65056b8f5eb9fee22f365c58662c">getCheckFlush</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a9b7d32db0521388c0953e531c79aab50">masterId</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRubyTester_1_1CheckStartEvent.html">CheckStartEvent</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a9975e990a9801088084cd2d769a8039e">checkStartEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a23e4e74239f2919fd2f05d672fbf7cb7">_masterId</a></td></tr>
<tr><td colspan="2"><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a8b71a10b528265ae6a63c53c28360d60">hitCallback</a> (<a class="el" href="TypeDefines_8hh.html#a83c14b4ae37e80071f6b3506a6c46151">NodeID</a> proc, <a class="el" href="classSubBlock.html">SubBlock</a> *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a514b854b1aebca4ab64690855d9588b9">checkForDeadlock</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a48ff36f9d0f5c4edd6ef8231861867d6">RubyTester</a> (const <a class="el" href="classRubyTester_1_1RubyTester.html">RubyTester</a> &amp;obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRubyTester_1_1RubyTester.html">RubyTester</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a71d9335b80022b21a3a95907e238efe6">operator=</a> (const <a class="el" href="classRubyTester_1_1RubyTester.html">RubyTester</a> &amp;obj)</td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCheckTable.html">CheckTable</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#aea4972439fb74004b80eb744d5adaf03">m_checkTable_ptr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classTime.html">Time</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a64bbb232772e2688790c89678aafa89e">m_last_progress_vector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a696a7ada843596770ab04a749b5ffd67">m_num_cpus</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a2cdd157694ca34abf0f26e715ed66907">m_checks_completed</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classMasterPort.html">MasterPort</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#ac70f96ce30f653210523935c455b76f4">writePorts</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classMasterPort.html">MasterPort</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a54fb656689e153912405d489825d2a90">m_checks_to_complete</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#ad5abdeaaf93c52d671abd33a762b4876">m_deadlock_threshold</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#aedeaccd67403213e1e43d99ff1c70f44">m_num_writers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a7d224a04c5f0d1049dd6c6ab070884cb">m_num_readers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a40394bd6ef55e1c6f0d6d614b2039886">m_wakeup_frequency</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#a6c0bbb19bd909943c050b498ec1350ba">m_check_flush</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubyTester.html#acf32e95ded135b636d78d731d850fc0f">m_num_inst_ports</a></td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="a6785f65e1745860fc5b53cbf4aefc2f7"></a><!-- doxytag: member="RubyTester::Params" ref="a6785f65e1745860fc5b53cbf4aefc2f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef RubyTesterParams <a class="el" href="classRubyTester.html#a6785f65e1745860fc5b53cbf4aefc2f7">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classMemObject.html#a905bbc621eeec0ed08859e21c8c95412">MemObject</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="ae8f6793530023408995b1e046935c263"></a><!-- doxytag: member="RubyTester::RubyTester" ref="ae8f6793530023408995b1e046935c263" args="(const Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRubyTester_1_1RubyTester.html">RubyTester</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRubyTester.html#a6785f65e1745860fc5b53cbf4aefc2f7">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00053"></a>00053   : <a class="code" href="classMemObject.html#a0390aa3eb5acd29074fac67b8d6472bd">MemObject</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>), <a class="code" href="classRubyTester.html#a9975e990a9801088084cd2d769a8039e">checkStartEvent</a>(<span class="keyword">this</span>),
<a name="l00054"></a>00054     <a class="code" href="classRubyTester.html#a23e4e74239f2919fd2f05d672fbf7cb7">_masterId</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;system-&gt;getMasterId(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>())),
<a name="l00055"></a>00055     <a class="code" href="classRubyTester.html#a696a7ada843596770ab04a749b5ffd67">m_num_cpus</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;num_cpus),
<a name="l00056"></a>00056     <a class="code" href="classRubyTester.html#a54fb656689e153912405d489825d2a90">m_checks_to_complete</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;checks_to_complete),
<a name="l00057"></a>00057     <a class="code" href="classRubyTester.html#ad5abdeaaf93c52d671abd33a762b4876">m_deadlock_threshold</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;deadlock_threshold),
<a name="l00058"></a>00058     <a class="code" href="classRubyTester.html#a40394bd6ef55e1c6f0d6d614b2039886">m_wakeup_frequency</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;wakeup_frequency),
<a name="l00059"></a>00059     <a class="code" href="classRubyTester.html#a6c0bbb19bd909943c050b498ec1350ba">m_check_flush</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;check_flush),
<a name="l00060"></a>00060     <a class="code" href="classRubyTester.html#acf32e95ded135b636d78d731d850fc0f">m_num_inst_ports</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;port_cpuInstPort_connection_count)
<a name="l00061"></a>00061 {
<a name="l00062"></a>00062     <a class="code" href="classRubyTester.html#a2cdd157694ca34abf0f26e715ed66907">m_checks_completed</a> = 0;
<a name="l00063"></a>00063 
<a name="l00064"></a>00064     <span class="comment">//</span>
<a name="l00065"></a>00065     <span class="comment">// Create the requested inst and data ports and place them on the</span>
<a name="l00066"></a>00066     <span class="comment">// appropriate read and write port lists.  The reason for the subtle</span>
<a name="l00067"></a>00067     <span class="comment">// difference between inst and data ports vs. read and write ports is</span>
<a name="l00068"></a>00068     <span class="comment">// from the tester&apos;s perspective, it only needs to know whether a port</span>
<a name="l00069"></a>00069     <span class="comment">// supports reads (checks) or writes (actions).  Meanwhile, the protocol</span>
<a name="l00070"></a>00070     <span class="comment">// controllers have data ports (support read and writes) or inst ports</span>
<a name="l00071"></a>00071     <span class="comment">// (support only reads).</span>
<a name="l00072"></a>00072     <span class="comment">// Note: the inst ports are the lowest elements of the readPort vector,</span>
<a name="l00073"></a>00073     <span class="comment">// then the data ports are added to the readPort vector</span>
<a name="l00074"></a>00074     <span class="comment">//</span>
<a name="l00075"></a>00075     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;port_cpuInstPort_connection_count; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00076"></a>00076         <a class="code" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a>.push_back(<span class="keyword">new</span> CpuPort(<a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s-instPort%d&quot;</span>, <a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>(), <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>),
<a name="l00077"></a>00077                                         <span class="keyword">this</span>, <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>));
<a name="l00078"></a>00078     }
<a name="l00079"></a>00079     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;port_cpuDataPort_connection_count; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00080"></a>00080         CpuPort *port = <span class="keyword">new</span> CpuPort(<a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s-dataPort%d&quot;</span>, <a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>(), <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>),
<a name="l00081"></a>00081                                     <span class="keyword">this</span>, <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>);
<a name="l00082"></a>00082         <a class="code" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a>.push_back(port);
<a name="l00083"></a>00083         <a class="code" href="classRubyTester.html#ac70f96ce30f653210523935c455b76f4">writePorts</a>.push_back(port);
<a name="l00084"></a>00084     }
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     <span class="comment">// add the check start event to the event queue</span>
<a name="l00087"></a>00087     <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classRubyTester.html#a9975e990a9801088084cd2d769a8039e">checkStartEvent</a>, 1);
<a name="l00088"></a>00088 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac53d3f47921859fb0e3792c18c8643d7"></a><!-- doxytag: member="RubyTester::~RubyTester" ref="ac53d3f47921859fb0e3792c18c8643d7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classRubyTester_1_1RubyTester.html">RubyTester</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00091"></a>00091 {
<a name="l00092"></a>00092     <span class="keyword">delete</span> <a class="code" href="classRubyTester.html#aea4972439fb74004b80eb744d5adaf03">m_checkTable_ptr</a>;
<a name="l00093"></a>00093     <span class="comment">// Only delete the readPorts since the writePorts are just a subset</span>
<a name="l00094"></a>00094     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a>.size(); <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++)
<a name="l00095"></a>00095         <span class="keyword">delete</span> <a class="code" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>];
<a name="l00096"></a>00096 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a48ff36f9d0f5c4edd6ef8231861867d6"></a><!-- doxytag: member="RubyTester::RubyTester" ref="a48ff36f9d0f5c4edd6ef8231861867d6" args="(const RubyTester &amp;obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRubyTester_1_1RubyTester.html">RubyTester</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRubyTester_1_1RubyTester.html">RubyTester</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a514b854b1aebca4ab64690855d9588b9"></a><!-- doxytag: member="RubyTester::checkForDeadlock" ref="a514b854b1aebca4ab64690855d9588b9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void checkForDeadlock </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00226"></a>00226 {
<a name="l00227"></a>00227     <span class="keywordtype">int</span> size = <a class="code" href="classRubyTester.html#a64bbb232772e2688790c89678aafa89e">m_last_progress_vector</a>.size();
<a name="l00228"></a>00228     <a class="code" href="classTime.html">Time</a> current_time = <a class="code" href="classClockedObject.html#a3f6dfa1d3e7cd47666433b6caa4d34d6">curCycle</a>();
<a name="l00229"></a>00229     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> processor = 0; processor &lt; size; processor++) {
<a name="l00230"></a>00230         <span class="keywordflow">if</span> ((current_time - <a class="code" href="classRubyTester.html#a64bbb232772e2688790c89678aafa89e">m_last_progress_vector</a>[processor]) &gt;
<a name="l00231"></a>00231                 <a class="code" href="classRubyTester.html#ad5abdeaaf93c52d671abd33a762b4876">m_deadlock_threshold</a>) {
<a name="l00232"></a>00232             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Deadlock detected: current_time: %d last_progress_time: %d &quot;</span>
<a name="l00233"></a>00233                   <span class="stringliteral">&quot;difference:  %d processor: %d\n&quot;</span>,
<a name="l00234"></a>00234                   current_time, <a class="code" href="classRubyTester.html#a64bbb232772e2688790c89678aafa89e">m_last_progress_vector</a>[processor],
<a name="l00235"></a>00235                   current_time - <a class="code" href="classRubyTester.html#a64bbb232772e2688790c89678aafa89e">m_last_progress_vector</a>[processor], processor);
<a name="l00236"></a>00236         }
<a name="l00237"></a>00237     }
<a name="l00238"></a>00238 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac7ec7476159db4e2bb0372e30010fc9e"></a><!-- doxytag: member="RubyTester::clearStats" ref="ac7ec7476159db4e2bb0372e30010fc9e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00109"></a>00109 {}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae69c65056b8f5eb9fee22f365c58662c"></a><!-- doxytag: member="RubyTester::getCheckFlush" ref="ae69c65056b8f5eb9fee22f365c58662c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getCheckFlush </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00113"></a>00113 { <span class="keywordflow">return</span> <a class="code" href="classRubyTester.html#a6c0bbb19bd909943c050b498ec1350ba">m_check_flush</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adc4e675e51defbdd1e354dac729d0703"></a><!-- doxytag: member="RubyTester::getMasterPort" ref="adc4e675e51defbdd1e354dac729d0703" args="(const std::string &amp;if_name, PortID idx=InvalidPortID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseMasterPort.html">BaseMasterPort</a> &amp; getMasterPort </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>if_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>idx</em> = <code><a class="el" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a master port with a given name and index. This is used at binding time and returns a reference to a protocol-agnostic base master port.</p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>if_name</em>&nbsp;</td><td><a class="el" href="classPort.html">Port</a> name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>idx</em>&nbsp;</td><td>Index in the case of a VectorPort</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>A reference to the given port </dd></dl>

<p><a class="el" href="classMemObject.html#adc4e675e51defbdd1e354dac729d0703">MemObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00116"></a>00116 {
<a name="l00117"></a>00117     <span class="keywordflow">if</span> (if_name != <span class="stringliteral">&quot;cpuInstPort&quot;</span> &amp;&amp; if_name != <span class="stringliteral">&quot;cpuDataPort&quot;</span>) {
<a name="l00118"></a>00118         <span class="comment">// pass it along to our super class</span>
<a name="l00119"></a>00119         <span class="keywordflow">return</span> <a class="code" href="classRubyTester.html#adc4e675e51defbdd1e354dac729d0703">MemObject::getMasterPort</a>(if_name, idx);
<a name="l00120"></a>00120     } <span class="keywordflow">else</span> {
<a name="l00121"></a>00121         <span class="keywordflow">if</span> (if_name == <span class="stringliteral">&quot;cpuInstPort&quot;</span>) {
<a name="l00122"></a>00122             <span class="keywordflow">if</span> (idx &gt; <a class="code" href="classRubyTester.html#acf32e95ded135b636d78d731d850fc0f">m_num_inst_ports</a>) {
<a name="l00123"></a>00123                 <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;RubyTester::getMasterPort: unknown inst port idx %d\n&quot;</span>,
<a name="l00124"></a>00124                       idx);
<a name="l00125"></a>00125             }
<a name="l00126"></a>00126             <span class="comment">//</span>
<a name="l00127"></a>00127             <span class="comment">// inst ports directly map to the lowest readPort elements</span>
<a name="l00128"></a>00128             <span class="comment">//</span>
<a name="l00129"></a>00129             <span class="keywordflow">return</span> *<a class="code" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a>[idx];
<a name="l00130"></a>00130         } <span class="keywordflow">else</span> {
<a name="l00131"></a>00131             assert(if_name == <span class="stringliteral">&quot;cpuDataPort&quot;</span>);
<a name="l00132"></a>00132             <span class="comment">//</span>
<a name="l00133"></a>00133             <span class="comment">// add the inst port offset to translate to the correct read port</span>
<a name="l00134"></a>00134             <span class="comment">// index</span>
<a name="l00135"></a>00135             <span class="comment">//</span>
<a name="l00136"></a>00136             <span class="keywordtype">int</span> read_idx = idx + <a class="code" href="classRubyTester.html#acf32e95ded135b636d78d731d850fc0f">m_num_inst_ports</a>;
<a name="l00137"></a>00137             <span class="keywordflow">if</span> (read_idx &gt;= static_cast&lt;PortID&gt;(<a class="code" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a>.size())) {
<a name="l00138"></a>00138                 <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;RubyTester::getMasterPort: unknown data port idx %d\n&quot;</span>,
<a name="l00139"></a>00139                       idx);
<a name="l00140"></a>00140             }
<a name="l00141"></a>00141             <span class="keywordflow">return</span> *<a class="code" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a>[read_idx];
<a name="l00142"></a>00142         }
<a name="l00143"></a>00143     }
<a name="l00144"></a>00144 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa82782a52c45fe9caea72eb6beee63c3"></a><!-- doxytag: member="RubyTester::getReadableCpuPort" ref="aa82782a52c45fe9caea72eb6beee63c3" args="(int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMasterPort.html">MasterPort</a> * getReadableCpuPort </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00172"></a>00172 {
<a name="l00173"></a>00173     assert(idx &gt;= 0 &amp;&amp; idx &lt; <a class="code" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a>.size());
<a name="l00174"></a>00174 
<a name="l00175"></a>00175     <span class="keywordflow">return</span> <a class="code" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a>[idx];
<a name="l00176"></a>00176 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a77680df4a8d2917c7f961e56eff08e96"></a><!-- doxytag: member="RubyTester::getWritableCpuPort" ref="a77680df4a8d2917c7f961e56eff08e96" args="(int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMasterPort.html">MasterPort</a> * getWritableCpuPort </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00180"></a>00180 {
<a name="l00181"></a>00181     assert(idx &gt;= 0 &amp;&amp; idx &lt; <a class="code" href="classRubyTester.html#ac70f96ce30f653210523935c455b76f4">writePorts</a>.size());
<a name="l00182"></a>00182 
<a name="l00183"></a>00183     <span class="keywordflow">return</span> <a class="code" href="classRubyTester.html#ac70f96ce30f653210523935c455b76f4">writePorts</a>[idx];
<a name="l00184"></a>00184 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8b71a10b528265ae6a63c53c28360d60"></a><!-- doxytag: member="RubyTester::hitCallback" ref="a8b71a10b528265ae6a63c53c28360d60" args="(NodeID proc, SubBlock *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hitCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="TypeDefines_8hh.html#a83c14b4ae37e80071f6b3506a6c46151">NodeID</a>&nbsp;</td>
          <td class="paramname"> <em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSubBlock.html">SubBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00188"></a>00188 {
<a name="l00189"></a>00189     <span class="comment">// Mark that we made progress</span>
<a name="l00190"></a>00190     <a class="code" href="classRubyTester.html#a64bbb232772e2688790c89678aafa89e">m_last_progress_vector</a>[proc] = <a class="code" href="classClockedObject.html#a3f6dfa1d3e7cd47666433b6caa4d34d6">curCycle</a>();
<a name="l00191"></a>00191 
<a name="l00192"></a>00192     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyTest, <span class="stringliteral">&quot;completed request for proc: %d\n&quot;</span>, proc);
<a name="l00193"></a>00193     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyTest, <span class="stringliteral">&quot;addr: 0x%x, size: %d, data: &quot;</span>,
<a name="l00194"></a>00194             data-&gt;<a class="code" href="classSubBlock.html#aca15ef966561def0b4db75a6f7e085b6">getAddress</a>(), data-&gt;<a class="code" href="classSubBlock.html#a4f8dbb76319fe40792867d6ca51ef447">getSize</a>());
<a name="l00195"></a>00195     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> byte = 0; byte &lt; data-&gt;<a class="code" href="classSubBlock.html#a4f8dbb76319fe40792867d6ca51ef447">getSize</a>(); byte++) {
<a name="l00196"></a>00196         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyTest, <span class="stringliteral">&quot;%d&quot;</span>, data-&gt;<a class="code" href="classSubBlock.html#a70e6dc2ffdce33da348b9bd615061820">getByte</a>(byte));
<a name="l00197"></a>00197     }
<a name="l00198"></a>00198     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyTest, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00199"></a>00199 
<a name="l00200"></a>00200     <span class="comment">// This tells us our store has &apos;completed&apos; or for a load gives us</span>
<a name="l00201"></a>00201     <span class="comment">// back the data to make the check</span>
<a name="l00202"></a>00202     <a class="code" href="classCheck.html">Check</a>* check_ptr = <a class="code" href="classRubyTester.html#aea4972439fb74004b80eb744d5adaf03">m_checkTable_ptr</a>-&gt;<a class="code" href="classCheckTable.html#ae48218016205b6d25f2ea8289929f9e5">getCheck</a>(data-&gt;<a class="code" href="classSubBlock.html#aca15ef966561def0b4db75a6f7e085b6">getAddress</a>());
<a name="l00203"></a>00203     assert(check_ptr != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00204"></a>00204     check_ptr-&gt;<a class="code" href="classCheck.html#aafaa6880b81bad24ff0ee650caf91bfc">performCallback</a>(proc, data, <a class="code" href="classClockedObject.html#a3f6dfa1d3e7cd47666433b6caa4d34d6">curCycle</a>());
<a name="l00205"></a>00205 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7bf3ac9b8e83cf7ec4fd1462ead30b3b"></a><!-- doxytag: member="RubyTester::incrementCheckCompletions" ref="a7bf3ac9b8e83cf7ec4fd1462ead30b3b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void incrementCheckCompletions </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00106"></a>00106 { <a class="code" href="classRubyTester.html#a2cdd157694ca34abf0f26e715ed66907">m_checks_completed</a>++; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a02fd73d861ef2e4aabb38c0c9ff82947"></a><!-- doxytag: member="RubyTester::init" ref="a02fd73d861ef2e4aabb38c0c9ff82947" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRubyTester.html#a02fd73d861ef2e4aabb38c0c9ff82947">init()</a> is called after all C++ SimObjects have been created and all ports are connected. Initializations that are independent of unserialization but rely on a fully instantiated and connected <a class="el" href="classSimObject.html">SimObject</a> graph should be done here. </p>

<p><a class="el" href="classSimObject.html#a02fd73d861ef2e4aabb38c0c9ff82947">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00100"></a>00100 {
<a name="l00101"></a>00101     assert(<a class="code" href="classRubyTester.html#ac70f96ce30f653210523935c455b76f4">writePorts</a>.size() &gt; 0 &amp;&amp; <a class="code" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a>.size() &gt; 0);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     <a class="code" href="classRubyTester.html#a64bbb232772e2688790c89678aafa89e">m_last_progress_vector</a>.resize(<a class="code" href="classRubyTester.html#a696a7ada843596770ab04a749b5ffd67">m_num_cpus</a>);
<a name="l00104"></a>00104     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classRubyTester.html#a64bbb232772e2688790c89678aafa89e">m_last_progress_vector</a>.size(); <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00105"></a>00105         <a class="code" href="classRubyTester.html#a64bbb232772e2688790c89678aafa89e">m_last_progress_vector</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = 0;
<a name="l00106"></a>00106     }
<a name="l00107"></a>00107 
<a name="l00108"></a>00108     <a class="code" href="classRubyTester.html#aedeaccd67403213e1e43d99ff1c70f44">m_num_writers</a> = <a class="code" href="classRubyTester.html#ac70f96ce30f653210523935c455b76f4">writePorts</a>.size();
<a name="l00109"></a>00109     <a class="code" href="classRubyTester.html#a7d224a04c5f0d1049dd6c6ab070884cb">m_num_readers</a> = <a class="code" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a>.size();
<a name="l00110"></a>00110 
<a name="l00111"></a>00111     <a class="code" href="classRubyTester.html#aea4972439fb74004b80eb744d5adaf03">m_checkTable_ptr</a> = <span class="keyword">new</span> <a class="code" href="classCheckTable.html">CheckTable</a>(<a class="code" href="classRubyTester.html#aedeaccd67403213e1e43d99ff1c70f44">m_num_writers</a>, <a class="code" href="classRubyTester.html#a7d224a04c5f0d1049dd6c6ab070884cb">m_num_readers</a>, <span class="keyword">this</span>);
<a name="l00112"></a>00112 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a42293ff3a28b9881992792d7fdee907b"></a><!-- doxytag: member="RubyTester::isInstReadableCpuPort" ref="a42293ff3a28b9881992792d7fdee907b" args="(int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isInstReadableCpuPort </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00166"></a>00166 {
<a name="l00167"></a>00167     <span class="keywordflow">return</span> idx &lt; <a class="code" href="classRubyTester.html#acf32e95ded135b636d78d731d850fc0f">m_num_inst_ports</a>;
<a name="l00168"></a>00168 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9b7d32db0521388c0953e531c79aab50"></a><!-- doxytag: member="RubyTester::masterId" ref="a9b7d32db0521388c0953e531c79aab50" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a> masterId </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00115"></a>00115 { <span class="keywordflow">return</span> <a class="code" href="classRubyTester.html#a23e4e74239f2919fd2f05d672fbf7cb7">_masterId</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a71d9335b80022b21a3a95907e238efe6"></a><!-- doxytag: member="RubyTester::operator=" ref="a71d9335b80022b21a3a95907e238efe6" args="(const RubyTester &amp;obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRubyTester_1_1RubyTester.html">RubyTester</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRubyTester_1_1RubyTester.html">RubyTester</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac55fe386a101fbae38c716067c9966a0"></a><!-- doxytag: member="RubyTester::print" ref="ac55fe386a101fbae38c716067c9966a0" args="(std::ostream &amp;out) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>out</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00242"></a>00242 {
<a name="l00243"></a>00243     out &lt;&lt; <span class="stringliteral">&quot;[RubyTester]&quot;</span> &lt;&lt; std::endl;
<a name="l00244"></a>00244 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a773d0e977425600264039f8941f18496"></a><!-- doxytag: member="RubyTester::printConfig" ref="a773d0e977425600264039f8941f18496" args="(std::ostream &amp;out) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printConfig </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>out</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00110"></a>00110 {}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a38f932a0a623730fe10783f46d243cef"></a><!-- doxytag: member="RubyTester::printStats" ref="a38f932a0a623730fe10783f46d243cef" args="(std::ostream &amp;out) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printStats </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>out</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00108"></a>00108 {}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae674290a26ecbd622c5160e38e8a4fe9"></a><!-- doxytag: member="RubyTester::wakeup" ref="ae674290a26ecbd622c5160e38e8a4fe9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wakeup </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00209"></a>00209 {
<a name="l00210"></a>00210     <span class="keywordflow">if</span> (<a class="code" href="classRubyTester.html#a2cdd157694ca34abf0f26e715ed66907">m_checks_completed</a> &lt; <a class="code" href="classRubyTester.html#a54fb656689e153912405d489825d2a90">m_checks_to_complete</a>) {
<a name="l00211"></a>00211         <span class="comment">// Try to perform an action or check</span>
<a name="l00212"></a>00212         <a class="code" href="classCheck.html">Check</a>* check_ptr = <a class="code" href="classRubyTester.html#aea4972439fb74004b80eb744d5adaf03">m_checkTable_ptr</a>-&gt;<a class="code" href="classCheckTable.html#a5fe64727ae5d3d896fd48784401d4f68">getRandomCheck</a>();
<a name="l00213"></a>00213         assert(check_ptr != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00214"></a>00214         check_ptr-&gt;<a class="code" href="classCheck.html#ad0188ca8aaba0189f9efa4b14bb7940b">initiate</a>();
<a name="l00215"></a>00215 
<a name="l00216"></a>00216         <a class="code" href="classRubyTester.html#a514b854b1aebca4ab64690855d9588b9">checkForDeadlock</a>();
<a name="l00217"></a>00217 
<a name="l00218"></a>00218         <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classRubyTester.html#a9975e990a9801088084cd2d769a8039e">checkStartEvent</a>, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() + <a class="code" href="classRubyTester.html#a40394bd6ef55e1c6f0d6d614b2039886">m_wakeup_frequency</a>);
<a name="l00219"></a>00219     } <span class="keywordflow">else</span> {
<a name="l00220"></a>00220         <a class="code" href="sim__events_8cc.html#abca976500ad365c77607ab77d87698a7">exitSimLoop</a>(<span class="stringliteral">&quot;Ruby Tester completed&quot;</span>);
<a name="l00221"></a>00221     }
<a name="l00222"></a>00222 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a23e4e74239f2919fd2f05d672fbf7cb7"></a><!-- doxytag: member="RubyTester::_masterId" ref="a23e4e74239f2919fd2f05d672fbf7cb7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a> <a class="el" href="classRubyTester.html#a23e4e74239f2919fd2f05d672fbf7cb7">_masterId</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9975e990a9801088084cd2d769a8039e"></a><!-- doxytag: member="RubyTester::checkStartEvent" ref="a9975e990a9801088084cd2d769a8039e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRubyTester_1_1CheckStartEvent.html">CheckStartEvent</a> <a class="el" href="classRubyTester.html#a9975e990a9801088084cd2d769a8039e">checkStartEvent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6c0bbb19bd909943c050b498ec1350ba"></a><!-- doxytag: member="RubyTester::m_check_flush" ref="a6c0bbb19bd909943c050b498ec1350ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classRubyTester.html#a6c0bbb19bd909943c050b498ec1350ba">m_check_flush</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2cdd157694ca34abf0f26e715ed66907"></a><!-- doxytag: member="RubyTester::m_checks_completed" ref="a2cdd157694ca34abf0f26e715ed66907" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> <a class="el" href="classRubyTester.html#a2cdd157694ca34abf0f26e715ed66907">m_checks_completed</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a54fb656689e153912405d489825d2a90"></a><!-- doxytag: member="RubyTester::m_checks_to_complete" ref="a54fb656689e153912405d489825d2a90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> <a class="el" href="classRubyTester.html#a54fb656689e153912405d489825d2a90">m_checks_to_complete</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aea4972439fb74004b80eb744d5adaf03"></a><!-- doxytag: member="RubyTester::m_checkTable_ptr" ref="aea4972439fb74004b80eb744d5adaf03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCheckTable.html">CheckTable</a>* <a class="el" href="classRubyTester.html#aea4972439fb74004b80eb744d5adaf03">m_checkTable_ptr</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad5abdeaaf93c52d671abd33a762b4876"></a><!-- doxytag: member="RubyTester::m_deadlock_threshold" ref="ad5abdeaaf93c52d671abd33a762b4876" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRubyTester.html#ad5abdeaaf93c52d671abd33a762b4876">m_deadlock_threshold</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a64bbb232772e2688790c89678aafa89e"></a><!-- doxytag: member="RubyTester::m_last_progress_vector" ref="a64bbb232772e2688790c89678aafa89e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classTime.html">Time</a>&gt; <a class="el" href="classRubyTester.html#a64bbb232772e2688790c89678aafa89e">m_last_progress_vector</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a696a7ada843596770ab04a749b5ffd67"></a><!-- doxytag: member="RubyTester::m_num_cpus" ref="a696a7ada843596770ab04a749b5ffd67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRubyTester.html#a696a7ada843596770ab04a749b5ffd67">m_num_cpus</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="acf32e95ded135b636d78d731d850fc0f"></a><!-- doxytag: member="RubyTester::m_num_inst_ports" ref="acf32e95ded135b636d78d731d850fc0f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRubyTester.html#acf32e95ded135b636d78d731d850fc0f">m_num_inst_ports</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7d224a04c5f0d1049dd6c6ab070884cb"></a><!-- doxytag: member="RubyTester::m_num_readers" ref="a7d224a04c5f0d1049dd6c6ab070884cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRubyTester.html#a7d224a04c5f0d1049dd6c6ab070884cb">m_num_readers</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aedeaccd67403213e1e43d99ff1c70f44"></a><!-- doxytag: member="RubyTester::m_num_writers" ref="aedeaccd67403213e1e43d99ff1c70f44" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRubyTester.html#aedeaccd67403213e1e43d99ff1c70f44">m_num_writers</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a40394bd6ef55e1c6f0d6d614b2039886"></a><!-- doxytag: member="RubyTester::m_wakeup_frequency" ref="a40394bd6ef55e1c6f0d6d614b2039886" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRubyTester.html#a40394bd6ef55e1c6f0d6d614b2039886">m_wakeup_frequency</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a932d2fee1f64944ee00898b8d4a17112"></a><!-- doxytag: member="RubyTester::readPorts" ref="a932d2fee1f64944ee00898b8d4a17112" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classMasterPort.html">MasterPort</a>*&gt; <a class="el" href="classRubyTester.html#a932d2fee1f64944ee00898b8d4a17112">readPorts</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac70f96ce30f653210523935c455b76f4"></a><!-- doxytag: member="RubyTester::writePorts" ref="ac70f96ce30f653210523935c455b76f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classMasterPort.html">MasterPort</a>*&gt; <a class="el" href="classRubyTester.html#ac70f96ce30f653210523935c455b76f4">writePorts</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>cpu/testers/rubytest/<a class="el" href="RubyTester_8hh_source.html">RubyTester.hh</a></li>
<li>cpu/testers/rubytest/<a class="el" href="RubyTester_8cc.html">RubyTester.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
