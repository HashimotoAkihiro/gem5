<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス MSHRQueue</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス MSHRQueue</h1><!-- doxytag: class="MSHRQueue" --><!-- doxytag: inherits="Drainable" -->
<p><code>#include &lt;<a class="el" href="mshr__queue_8hh_source.html">mshr_queue.hh</a>&gt;</code></p>
<div class="dynheader">
MSHRQueueに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classMSHRQueue.gif" usemap="#MSHRQueue_map" alt=""/>
  <map id="MSHRQueue_map" name="MSHRQueue_map">
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="0,0,86,24"/>
</map>
 </div>
</div>

<p><a href="classMSHRQueue-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a72708efb7b001e844259a19264e0f275">MSHRQueue</a> (const std::string &amp;_label, int num_entries, int reserve, int <a class="el" href="classMSHRQueue.html#a32b76ccceab9e1bba3e8c4ef2947d1d8">index</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMSHR.html">MSHR</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#aab842d63dcd254dfe655e16075f7e0fe">findMatch</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> addr, bool is_secure) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a020dd5bb628863baf3800f816cfba197">findMatches</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> addr, bool is_secure, <a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classMSHR.html">MSHR</a> * &gt; &amp;matches) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMSHR.html">MSHR</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#affbbf09e05a34a8c06a00eeb8425be92">findPending</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> addr, int size, bool is_secure) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#ab1a1044e709a5b00c99cf14430b3ff53">checkFunctional</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> blk_addr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMSHR.html">MSHR</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a5215a381ac6546c5ef5730b060b38e61">allocate</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> addr, int size, <a class="el" href="classPacket.html">PacketPtr</a> &amp;pkt, <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> when, <a class="el" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e">Counter</a> order)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a1704942edaee695477bdfc7598bd8ad7">deallocate</a> (<a class="el" href="classMSHR.html">MSHR</a> *mshr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMSHR.html#af944263ff3027ab76cf07354d3a3f0c6">MSHR::Iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a8a69fab976c144c9128fec59358d3196">deallocateOne</a> (<a class="el" href="classMSHR.html">MSHR</a> *mshr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a2a53c836e41157cdbf2c19b6fd30e276">moveToFront</a> (<a class="el" href="classMSHR.html">MSHR</a> *mshr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a1131b37f2a7bef3428b45951455cfcad">markInService</a> (<a class="el" href="classMSHR.html">MSHR</a> *mshr, <a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#ab0f258b25fe50dc16d5e3e5890214c5c">markPending</a> (<a class="el" href="classMSHR.html">MSHR</a> *mshr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a94c2c174856cbab1e3478cb02ae8ed80">squash</a> (int threadNum)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#acda43ebd9ff1813951d7d0ab3eaad05c">forceDeallocateTarget</a> (<a class="el" href="classMSHR.html">MSHR</a> *mshr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#aef5fae0b3798035ac6f7ad1ab9038aca">havePending</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a7ffe8a6212a0eb3fc7bbc8e9bc51dfcd">isFull</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMSHR.html">MSHR</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a98b9ba341284c5251a7908cd45918066">getNextMSHR</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a4601a57ba7740776052541f212c29cbd">nextMSHRReadyTime</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#aa8a18d230dba7a674ac8a0b4f35bc36a">drain</a> (<a class="el" href="classDrainManager.html">DrainManager</a> *dm)</td></tr>
<tr><td colspan="2"><h2>Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a115235fc25fdf1c03d856bd072b6cead">allocated</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#aa4871243af391ed1f0d5e3f964bc13d0">inServiceEntries</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a32b76ccceab9e1bba3e8c4ef2947d1d8">index</a></td></tr>
<tr><td colspan="2"><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMSHR.html#af944263ff3027ab76cf07354d3a3f0c6">MSHR::Iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a80c2dad36455852eae13562756599fa4">addToReadyList</a> (<a class="el" href="classMSHR.html">MSHR</a> *mshr)</td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#ae471a4c4073716b769170188214fe93d">label</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#aac2a0fada965c3dd6220aeb40a28c587">numEntries</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a2c97f85062902d3990c3a9c163306547">numReserve</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classMSHR.html">MSHR</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a61e75efe923d1fa4bbb72f426a219b7e">registers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">MSHR::List</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">MSHR::List</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">MSHR::List</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#abad3c0dea35aa5b18c234af72cd8ac89">freeList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDrainManager.html">DrainManager</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMSHRQueue.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<p>A Class for maintaining a list of pending and allocated memory requests. </p>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a72708efb7b001e844259a19264e0f275"></a><!-- doxytag: member="MSHRQueue::MSHRQueue" ref="a72708efb7b001e844259a19264e0f275" args="(const std::string &amp;_label, int num_entries, int reserve, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMSHRQueue.html">MSHRQueue</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>_label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reserve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a queue with a given number of entries. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>num_entrys</em>&nbsp;</td><td>The number of entries in this queue. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reserve</em>&nbsp;</td><td>The minimum number of entries needed to satisfy any access. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00054"></a>00054     : <a class="code" href="classMSHRQueue.html#ae471a4c4073716b769170188214fe93d">label</a>(_label), <a class="code" href="classMSHRQueue.html#aac2a0fada965c3dd6220aeb40a28c587">numEntries</a>(num_entries + reserve - 1),
<a name="l00055"></a>00055       <a class="code" href="classMSHRQueue.html#a2c97f85062902d3990c3a9c163306547">numReserve</a>(reserve), <a class="code" href="classMSHRQueue.html#a61e75efe923d1fa4bbb72f426a219b7e">registers</a>(<a class="code" href="classMSHRQueue.html#aac2a0fada965c3dd6220aeb40a28c587">numEntries</a>),
<a name="l00056"></a>00056       <a class="code" href="classMSHRQueue.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>), <a class="code" href="classMSHRQueue.html#a115235fc25fdf1c03d856bd072b6cead">allocated</a>(0), <a class="code" href="classMSHRQueue.html#aa4871243af391ed1f0d5e3f964bc13d0">inServiceEntries</a>(0), <a class="code" href="classMSHRQueue.html#a32b76ccceab9e1bba3e8c4ef2947d1d8">index</a>(_index)
<a name="l00057"></a>00057 {
<a name="l00058"></a>00058     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classMSHRQueue.html#aac2a0fada965c3dd6220aeb40a28c587">numEntries</a>; ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00059"></a>00059         <a class="code" href="classMSHRQueue.html#a61e75efe923d1fa4bbb72f426a219b7e">registers</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].queue = <span class="keyword">this</span>;
<a name="l00060"></a>00060         <a class="code" href="classMSHRQueue.html#abad3c0dea35aa5b18c234af72cd8ac89">freeList</a>.push_back(&amp;<a class="code" href="classMSHRQueue.html#a61e75efe923d1fa4bbb72f426a219b7e">registers</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]);
<a name="l00061"></a>00061     }
<a name="l00062"></a>00062 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a80c2dad36455852eae13562756599fa4"></a><!-- doxytag: member="MSHRQueue::addToReadyList" ref="a80c2dad36455852eae13562756599fa4" args="(MSHR *mshr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMSHR.html#af944263ff3027ab76cf07354d3a3f0c6">MSHR::Iterator</a> addToReadyList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMSHR.html">MSHR</a> *&nbsp;</td>
          <td class="paramname"> <em>mshr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00138"></a>00138 {
<a name="l00139"></a>00139     <span class="keywordflow">if</span> (<a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.empty() || <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.back()-&gt;readyTime &lt;= mshr-&gt;<a class="code" href="classMSHR.html#a7cb362ebfb8750bd53baf5e8f96e00d0">readyTime</a>) {
<a name="l00140"></a>00140         <span class="keywordflow">return</span> <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.insert(<a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.end(), mshr);
<a name="l00141"></a>00141     }
<a name="l00142"></a>00142 
<a name="l00143"></a>00143     <a class="code" href="classMSHR.html#af944263ff3027ab76cf07354d3a3f0c6">MSHR::Iterator</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.begin();
<a name="l00144"></a>00144     <a class="code" href="classMSHR.html#af944263ff3027ab76cf07354d3a3f0c6">MSHR::Iterator</a> end = <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.end();
<a name="l00145"></a>00145     <span class="keywordflow">for</span> (; i != end; ++i) {
<a name="l00146"></a>00146         <span class="keywordflow">if</span> ((*i)-&gt;readyTime &gt; mshr-&gt;<a class="code" href="classMSHR.html#a7cb362ebfb8750bd53baf5e8f96e00d0">readyTime</a>) {
<a name="l00147"></a>00147             <span class="keywordflow">return</span> <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.insert(i, mshr);
<a name="l00148"></a>00148         }
<a name="l00149"></a>00149     }
<a name="l00150"></a>00150     assert(<span class="keyword">false</span>);
<a name="l00151"></a>00151     <span class="keywordflow">return</span> end;  <span class="comment">// keep stupid compilers happy</span>
<a name="l00152"></a>00152 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5215a381ac6546c5ef5730b060b38e61"></a><!-- doxytag: member="MSHRQueue::allocate" ref="a5215a381ac6546c5ef5730b060b38e61" args="(Addr addr, int size, PacketPtr &amp;pkt, Tick when, Counter order)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMSHR.html">MSHR</a> * allocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e">Counter</a>&nbsp;</td>
          <td class="paramname"> <em>order</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Allocates a new <a class="el" href="classMSHR.html">MSHR</a> for the request and size. This places the request as the first target in the <a class="el" href="classMSHR.html">MSHR</a>. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td>The request to handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The number in bytes to fetch from memory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>The a pointer to the <a class="el" href="classMSHR.html">MSHR</a> allocated.</dd></dl>
<dl class="pre"><dt><b>事前条件:</b></dt><dd>There are free entries. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00158"></a>00158 {
<a name="l00159"></a>00159     assert(!<a class="code" href="classMSHRQueue.html#abad3c0dea35aa5b18c234af72cd8ac89">freeList</a>.empty());
<a name="l00160"></a>00160     <a class="code" href="classMSHR.html">MSHR</a> *mshr = <a class="code" href="classMSHRQueue.html#abad3c0dea35aa5b18c234af72cd8ac89">freeList</a>.front();
<a name="l00161"></a>00161     assert(mshr-&gt;getNumTargets() == 0);
<a name="l00162"></a>00162     <a class="code" href="classMSHRQueue.html#abad3c0dea35aa5b18c234af72cd8ac89">freeList</a>.pop_front();
<a name="l00163"></a>00163 
<a name="l00164"></a>00164     mshr-&gt;allocate(<a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a>, size, pkt, when, order);
<a name="l00165"></a>00165     mshr-&gt;allocIter = <a class="code" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a>.insert(<a class="code" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a>.end(), mshr);
<a name="l00166"></a>00166     mshr-&gt;readyIter = <a class="code" href="classMSHRQueue.html#a80c2dad36455852eae13562756599fa4">addToReadyList</a>(mshr);
<a name="l00167"></a>00167 
<a name="l00168"></a>00168     <a class="code" href="classMSHRQueue.html#a115235fc25fdf1c03d856bd072b6cead">allocated</a> += 1;
<a name="l00169"></a>00169     <span class="keywordflow">return</span> mshr;
<a name="l00170"></a>00170 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab1a1044e709a5b00c99cf14430b3ff53"></a><!-- doxytag: member="MSHRQueue::checkFunctional" ref="ab1a1044e709a5b00c99cf14430b3ff53" args="(PacketPtr pkt, Addr blk_addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkFunctional </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>blk_addr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00099"></a>00099 {
<a name="l00100"></a>00100     pkt-&gt;<a class="code" href="classPacket.html#ad2656c333949d4b445823d47398829f2">pushLabel</a>(<a class="code" href="classMSHRQueue.html#ae471a4c4073716b769170188214fe93d">label</a>);
<a name="l00101"></a>00101     <a class="code" href="classMSHR.html#a91267e1b9ec14096dd01900290a0ba15">MSHR::ConstIterator</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = <a class="code" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a>.begin();
<a name="l00102"></a>00102     <a class="code" href="classMSHR.html#a91267e1b9ec14096dd01900290a0ba15">MSHR::ConstIterator</a> end = <a class="code" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a>.end();
<a name="l00103"></a>00103     <span class="keywordflow">for</span> (; i != end; ++i) {
<a name="l00104"></a>00104         <a class="code" href="classMSHR.html">MSHR</a> *mshr = *i;
<a name="l00105"></a>00105         <span class="keywordflow">if</span> (mshr-&gt;<a class="code" href="classMSHR.html#a0bb77b4ba61e408313e1118250f9278c">addr</a> == blk_addr &amp;&amp; mshr-&gt;<a class="code" href="classMSHR.html#a8eb60d4744b6212ad749f3a586759266">checkFunctional</a>(pkt)) {
<a name="l00106"></a>00106             pkt-&gt;<a class="code" href="classPacket.html#a3ab6da7065be0d85f45a8dd050515f16">popLabel</a>();
<a name="l00107"></a>00107             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00108"></a>00108         }
<a name="l00109"></a>00109     }
<a name="l00110"></a>00110     pkt-&gt;<a class="code" href="classPacket.html#a3ab6da7065be0d85f45a8dd050515f16">popLabel</a>();
<a name="l00111"></a>00111     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00112"></a>00112 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1704942edaee695477bdfc7598bd8ad7"></a><!-- doxytag: member="MSHRQueue::deallocate" ref="a1704942edaee695477bdfc7598bd8ad7" args="(MSHR *mshr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deallocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMSHR.html">MSHR</a> *&nbsp;</td>
          <td class="paramname"> <em>mshr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes the given <a class="el" href="classMSHR.html">MSHR</a> from the queue. This places the <a class="el" href="classMSHR.html">MSHR</a> on the free list. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mshr</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00175"></a>00175 {
<a name="l00176"></a>00176     <a class="code" href="classMSHRQueue.html#a8a69fab976c144c9128fec59358d3196">deallocateOne</a>(mshr);
<a name="l00177"></a>00177 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8a69fab976c144c9128fec59358d3196"></a><!-- doxytag: member="MSHRQueue::deallocateOne" ref="a8a69fab976c144c9128fec59358d3196" args="(MSHR *mshr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMSHR.html#af944263ff3027ab76cf07354d3a3f0c6">MSHR::Iterator</a> deallocateOne </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMSHR.html">MSHR</a> *&nbsp;</td>
          <td class="paramname"> <em>mshr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove a <a class="el" href="classMSHR.html">MSHR</a> from the queue. Returns an iterator into the allocatedList for faster squash implementation. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mshr</em>&nbsp;</td><td>The <a class="el" href="classMSHR.html">MSHR</a> to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>An iterator to the next entry in the allocatedList. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00181"></a>00181 {
<a name="l00182"></a>00182     <a class="code" href="classMSHR.html#af944263ff3027ab76cf07354d3a3f0c6">MSHR::Iterator</a> retval = <a class="code" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a>.erase(mshr-&gt;<a class="code" href="classMSHR.html#afd1f01c04c4b2b391083188321ccd47e">allocIter</a>);
<a name="l00183"></a>00183     <a class="code" href="classMSHRQueue.html#abad3c0dea35aa5b18c234af72cd8ac89">freeList</a>.push_front(mshr);
<a name="l00184"></a>00184     <a class="code" href="classMSHRQueue.html#a115235fc25fdf1c03d856bd072b6cead">allocated</a>--;
<a name="l00185"></a>00185     <span class="keywordflow">if</span> (mshr-&gt;<a class="code" href="classMSHR.html#a7f5c4fb6e9162689992ccd0cd7bce17b">inService</a>) {
<a name="l00186"></a>00186         <a class="code" href="classMSHRQueue.html#aa4871243af391ed1f0d5e3f964bc13d0">inServiceEntries</a>--;
<a name="l00187"></a>00187     } <span class="keywordflow">else</span> {
<a name="l00188"></a>00188         <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.erase(mshr-&gt;<a class="code" href="classMSHR.html#a6ff6af8d20926ded4e18e8f676784ff6">readyIter</a>);
<a name="l00189"></a>00189     }
<a name="l00190"></a>00190     mshr-&gt;<a class="code" href="classMSHR.html#a2d68be4fd20ffdd7f7a9b51579eacc2f">deallocate</a>();
<a name="l00191"></a>00191     <span class="keywordflow">if</span> (<a class="code" href="classMSHRQueue.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a> &amp;&amp; <a class="code" href="classMSHRQueue.html#a115235fc25fdf1c03d856bd072b6cead">allocated</a> == 0) {
<a name="l00192"></a>00192         <span class="comment">// Notify the drain manager that we have completed draining if</span>
<a name="l00193"></a>00193         <span class="comment">// there are no other outstanding requests in this MSHR queue.</span>
<a name="l00194"></a>00194         <a class="code" href="classMSHRQueue.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a>-&gt;<a class="code" href="classDrainManager.html#ab89d10e368d2e82061eddb9e40022382">signalDrainDone</a>();
<a name="l00195"></a>00195         <a class="code" href="classMSHRQueue.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a> = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00196"></a>00196         <a class="code" href="classDrainable.html#ad800905390fe03e850cf996e914038f9">setDrainState</a>(<a class="code" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8a5656955cb808502a2ec75b367e2c1e82">Drainable::Drained</a>);
<a name="l00197"></a>00197     }
<a name="l00198"></a>00198     <span class="keywordflow">return</span> retval;
<a name="l00199"></a>00199 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa8a18d230dba7a674ac8a0b4f35bc36a"></a><!-- doxytag: member="MSHRQueue::drain" ref="aa8a18d230dba7a674ac8a0b4f35bc36a" args="(DrainManager *dm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int drain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDrainManager.html">DrainManager</a> *&nbsp;</td>
          <td class="paramname"> <em>drainManager</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determine if an object needs draining and register a <a class="el" href="classDrainManager.html">DrainManager</a>.</p>
<p>When draining the state of an object, the simulator calls drain with a pointer to a drain manager. If the object does not need further simulation to drain internal buffers, it switched to the Drained state and returns 0, otherwise it switches to the Draining state and returns the number of times that it will call <a class="el" href="classEvent.html#a142b75b68a6291400e20fb0dd905b1c8">Event::process()</a> on the drain event. Most objects are expected to return either 0 or 1.</p>
<dl class="note"><dt><b>覚え書き:</b></dt><dd>An object that has entered the Drained state can be disturbed by other objects in the system and consequently be forced to enter the Draining state again. The simulator therefore repeats the draining process until all objects return 0 on the first call to <a class="el" href="classMSHRQueue.html#aa8a18d230dba7a674ac8a0b4f35bc36a">drain()</a>.</dd></dl>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>drainManager</em>&nbsp;</td><td><a class="el" href="classDrainManager.html">DrainManager</a> to use to inform the simulator when draining has completed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>0 if the object is ready for serialization now, &gt;0 if it needs further simulation. </dd></dl>

<p><a class="el" href="classDrainable.html#a1ed42c14f2f622ea6b0df3865e89c8b4">Drainable</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00279"></a>00279 {
<a name="l00280"></a>00280     <span class="keywordflow">if</span> (<a class="code" href="classMSHRQueue.html#a115235fc25fdf1c03d856bd072b6cead">allocated</a> == 0) {
<a name="l00281"></a>00281         <a class="code" href="classDrainable.html#ad800905390fe03e850cf996e914038f9">setDrainState</a>(<a class="code" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8a5656955cb808502a2ec75b367e2c1e82">Drainable::Drained</a>);
<a name="l00282"></a>00282         <span class="keywordflow">return</span> 0;
<a name="l00283"></a>00283     } <span class="keywordflow">else</span> {
<a name="l00284"></a>00284         drainManager = <a class="code" href="namespaceMipsISA.html#a2575c29e7f4617b6076486f340b6fe19">dm</a>;
<a name="l00285"></a>00285         <a class="code" href="classDrainable.html#ad800905390fe03e850cf996e914038f9">setDrainState</a>(<a class="code" href="classDrainable.html#a5d74787dedbc4e11c1ab15bf487e61f8a929d17847bfad0d4689c9ab8540d5134">Drainable::Draining</a>);
<a name="l00286"></a>00286         <span class="keywordflow">return</span> 1;
<a name="l00287"></a>00287     }
<a name="l00288"></a>00288 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aab842d63dcd254dfe655e16075f7e0fe"></a><!-- doxytag: member="MSHRQueue::findMatch" ref="aab842d63dcd254dfe655e16075f7e0fe" args="(Addr addr, bool is_secure) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMSHR.html">MSHR</a> * findMatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_secure</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find the first <a class="el" href="classMSHR.html">MSHR</a> that matches the provided address. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>The address to find. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is_secure</em>&nbsp;</td><td>True if the target memory space is secure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>Pointer to the matching <a class="el" href="classMSHR.html">MSHR</a>, null if not found. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00066"></a>00066 {
<a name="l00067"></a>00067     <a class="code" href="classMSHR.html#a91267e1b9ec14096dd01900290a0ba15">MSHR::ConstIterator</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = <a class="code" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a>.begin();
<a name="l00068"></a>00068     <a class="code" href="classMSHR.html#a91267e1b9ec14096dd01900290a0ba15">MSHR::ConstIterator</a> end = <a class="code" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a>.end();
<a name="l00069"></a>00069     <span class="keywordflow">for</span> (; i != end; ++i) {
<a name="l00070"></a>00070         <a class="code" href="classMSHR.html">MSHR</a> *mshr = *i;
<a name="l00071"></a>00071         <span class="keywordflow">if</span> (mshr-&gt;<a class="code" href="classMSHR.html#a0bb77b4ba61e408313e1118250f9278c">addr</a> == <a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a> &amp;&amp; mshr-&gt;<a class="code" href="classMSHR.html#a62bc84f4251f16cf0cfa0f8d96e00c37">isSecure</a> == is_secure) {
<a name="l00072"></a>00072             <span class="keywordflow">return</span> mshr;
<a name="l00073"></a>00073         }
<a name="l00074"></a>00074     }
<a name="l00075"></a>00075     <span class="keywordflow">return</span> <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00076"></a>00076 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a020dd5bb628863baf3800f816cfba197"></a><!-- doxytag: member="MSHRQueue::findMatches" ref="a020dd5bb628863baf3800f816cfba197" args="(Addr addr, bool is_secure, std::vector&lt; MSHR * &gt; &amp;matches) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool findMatches </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_secure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classMSHR.html">MSHR</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>matches</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find and return all the matching entries in the provided vector. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>The address to find. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is_secure</em>&nbsp;</td><td>True if the target memory space is secure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>matches</em>&nbsp;</td><td>The vector to return pointers to the matching entries. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>True if any matches are found, false otherwise. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000078">TODO:</a></b></dt><dd>Typedef the vector?? </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00080"></a>00080 {
<a name="l00081"></a>00081     <span class="comment">// Need an empty vector</span>
<a name="l00082"></a>00082     assert(matches.empty());
<a name="l00083"></a>00083     <span class="keywordtype">bool</span> retval = <span class="keyword">false</span>;
<a name="l00084"></a>00084     <a class="code" href="classMSHR.html#a91267e1b9ec14096dd01900290a0ba15">MSHR::ConstIterator</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = <a class="code" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a>.begin();
<a name="l00085"></a>00085     <a class="code" href="classMSHR.html#a91267e1b9ec14096dd01900290a0ba15">MSHR::ConstIterator</a> end = <a class="code" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a>.end();
<a name="l00086"></a>00086     <span class="keywordflow">for</span> (; i != end; ++i) {
<a name="l00087"></a>00087         <a class="code" href="classMSHR.html">MSHR</a> *mshr = *i;
<a name="l00088"></a>00088         <span class="keywordflow">if</span> (mshr-&gt;<a class="code" href="classMSHR.html#a0bb77b4ba61e408313e1118250f9278c">addr</a> == <a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a> &amp;&amp; mshr-&gt;<a class="code" href="classMSHR.html#a62bc84f4251f16cf0cfa0f8d96e00c37">isSecure</a> == is_secure) {
<a name="l00089"></a>00089             retval = <span class="keyword">true</span>;
<a name="l00090"></a>00090             matches.push_back(mshr);
<a name="l00091"></a>00091         }
<a name="l00092"></a>00092     }
<a name="l00093"></a>00093     <span class="keywordflow">return</span> retval;
<a name="l00094"></a>00094 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="affbbf09e05a34a8c06a00eeb8425be92"></a><!-- doxytag: member="MSHRQueue::findPending" ref="affbbf09e05a34a8c06a00eeb8425be92" args="(Addr addr, int size, bool is_secure) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMSHR.html">MSHR</a> * findPending </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_secure</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find any pending requests that overlap the given request. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td>The request to find. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is_secure</em>&nbsp;</td><td>True if the target memory space is secure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>A pointer to the earliest matching <a class="el" href="classMSHR.html">MSHR</a>. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00117"></a>00117 {
<a name="l00118"></a>00118     <a class="code" href="classMSHR.html#a91267e1b9ec14096dd01900290a0ba15">MSHR::ConstIterator</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.begin();
<a name="l00119"></a>00119     <a class="code" href="classMSHR.html#a91267e1b9ec14096dd01900290a0ba15">MSHR::ConstIterator</a> end = <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.end();
<a name="l00120"></a>00120     <span class="keywordflow">for</span> (; i != end; ++i) {
<a name="l00121"></a>00121         <a class="code" href="classMSHR.html">MSHR</a> *mshr = *i;
<a name="l00122"></a>00122         <span class="keywordflow">if</span> (mshr-&gt;<a class="code" href="classMSHR.html#a62bc84f4251f16cf0cfa0f8d96e00c37">isSecure</a> == is_secure) {
<a name="l00123"></a>00123             <span class="keywordflow">if</span> (mshr-&gt;<a class="code" href="classMSHR.html#a0bb77b4ba61e408313e1118250f9278c">addr</a> &lt; <a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a>) {
<a name="l00124"></a>00124                 <span class="keywordflow">if</span> (mshr-&gt;<a class="code" href="classMSHR.html#a0bb77b4ba61e408313e1118250f9278c">addr</a> + mshr-&gt;<a class="code" href="classMSHR.html#a439227feff9d7f55384e8780cfc2eb82">size</a> &gt; <a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a>)
<a name="l00125"></a>00125                     <span class="keywordflow">return</span> mshr;
<a name="l00126"></a>00126             } <span class="keywordflow">else</span> {
<a name="l00127"></a>00127                 <span class="keywordflow">if</span> (<a class="code" href="namespaceX86ISA.html#ab705917f60c5566f9ce56a93f798b2e2">addr</a> + size &gt; mshr-&gt;<a class="code" href="classMSHR.html#a0bb77b4ba61e408313e1118250f9278c">addr</a>)
<a name="l00128"></a>00128                     <span class="keywordflow">return</span> mshr;
<a name="l00129"></a>00129             }
<a name="l00130"></a>00130         }
<a name="l00131"></a>00131     }
<a name="l00132"></a>00132     <span class="keywordflow">return</span> <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00133"></a>00133 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acda43ebd9ff1813951d7d0ab3eaad05c"></a><!-- doxytag: member="MSHRQueue::forceDeallocateTarget" ref="acda43ebd9ff1813951d7d0ab3eaad05c" args="(MSHR *mshr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool forceDeallocateTarget </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMSHR.html">MSHR</a> *&nbsp;</td>
          <td class="paramname"> <em>mshr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Deallocate top target, possibly freeing the <a class="el" href="classMSHR.html">MSHR</a> </p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>if <a class="el" href="classMSHR.html">MSHR</a> queue is no longer full </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00237"></a>00237 {
<a name="l00238"></a>00238     <span class="keywordtype">bool</span> was_full = <a class="code" href="classMSHRQueue.html#a7ffe8a6212a0eb3fc7bbc8e9bc51dfcd">isFull</a>();
<a name="l00239"></a>00239     assert(mshr-&gt;<a class="code" href="classMSHR.html#a9b007d67bfb5a6ff382a6d78ec08b3af">hasTargets</a>());
<a name="l00240"></a>00240     <span class="comment">// Pop the prefetch off of the target list</span>
<a name="l00241"></a>00241     mshr-&gt;<a class="code" href="classMSHR.html#a660e7beed1d7d25852a9bc63d1f314b3">popTarget</a>();
<a name="l00242"></a>00242     <span class="comment">// Delete mshr if no remaining targets</span>
<a name="l00243"></a>00243     <span class="keywordflow">if</span> (!mshr-&gt;<a class="code" href="classMSHR.html#a9b007d67bfb5a6ff382a6d78ec08b3af">hasTargets</a>() &amp;&amp; !mshr-&gt;<a class="code" href="classMSHR.html#a6b0d016d76a2a7570d1d51eaa3086845">promoteDeferredTargets</a>()) {
<a name="l00244"></a>00244         <a class="code" href="classMSHRQueue.html#a8a69fab976c144c9128fec59358d3196">deallocateOne</a>(mshr);
<a name="l00245"></a>00245     }
<a name="l00246"></a>00246 
<a name="l00247"></a>00247     <span class="comment">// Notify if MSHR queue no longer full</span>
<a name="l00248"></a>00248     <span class="keywordflow">return</span> was_full &amp;&amp; !<a class="code" href="classMSHRQueue.html#a7ffe8a6212a0eb3fc7bbc8e9bc51dfcd">isFull</a>();
<a name="l00249"></a>00249 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a98b9ba341284c5251a7908cd45918066"></a><!-- doxytag: member="MSHRQueue::getNextMSHR" ref="a98b9ba341284c5251a7908cd45918066" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMSHR.html">MSHR</a>* getNextMSHR </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the <a class="el" href="classMSHR.html">MSHR</a> at the head of the readyList. </p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>The next request to service. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00225"></a>00225     {
<a name="l00226"></a>00226         <span class="keywordflow">if</span> (<a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.empty() || <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.front()-&gt;readyTime &gt; <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>()) {
<a name="l00227"></a>00227             <span class="keywordflow">return</span> <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00228"></a>00228         }
<a name="l00229"></a>00229         <span class="keywordflow">return</span> <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.front();
<a name="l00230"></a>00230     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aef5fae0b3798035ac6f7ad1ab9038aca"></a><!-- doxytag: member="MSHRQueue::havePending" ref="aef5fae0b3798035ac6f7ad1ab9038aca" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool havePending </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if the pending list is not empty. </p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>True if there are outstanding requests. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00207"></a>00207     {
<a name="l00208"></a>00208         <span class="keywordflow">return</span> !<a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.empty();
<a name="l00209"></a>00209     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7ffe8a6212a0eb3fc7bbc8e9bc51dfcd"></a><!-- doxytag: member="MSHRQueue::isFull" ref="a7ffe8a6212a0eb3fc7bbc8e9bc51dfcd" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isFull </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if there are no free entries. </p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>True if this queue is full. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00216"></a>00216     {
<a name="l00217"></a>00217         <span class="keywordflow">return</span> (<a class="code" href="classMSHRQueue.html#a115235fc25fdf1c03d856bd072b6cead">allocated</a> &gt; <a class="code" href="classMSHRQueue.html#aac2a0fada965c3dd6220aeb40a28c587">numEntries</a> - <a class="code" href="classMSHRQueue.html#a2c97f85062902d3990c3a9c163306547">numReserve</a>);
<a name="l00218"></a>00218     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1131b37f2a7bef3428b45951455cfcad"></a><!-- doxytag: member="MSHRQueue::markInService" ref="a1131b37f2a7bef3428b45951455cfcad" args="(MSHR *mshr, PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void markInService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMSHR.html">MSHR</a> *&nbsp;</td>
          <td class="paramname"> <em>mshr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Mark the given <a class="el" href="classMSHR.html">MSHR</a> as in service. This removes the <a class="el" href="classMSHR.html">MSHR</a> from the readyList. Deallocates the <a class="el" href="classMSHR.html">MSHR</a> if it does not expect a response. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mshr</em>&nbsp;</td><td>The <a class="el" href="classMSHR.html">MSHR</a> to mark in service. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00213"></a>00213 {
<a name="l00214"></a>00214     <span class="keywordflow">if</span> (mshr-&gt;<a class="code" href="classMSHR.html#a89f5689827090dd1998bd3906e5454d1">markInService</a>(pkt)) {
<a name="l00215"></a>00215         <a class="code" href="classMSHRQueue.html#a1704942edaee695477bdfc7598bd8ad7">deallocate</a>(mshr);
<a name="l00216"></a>00216     } <span class="keywordflow">else</span> {
<a name="l00217"></a>00217         <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.erase(mshr-&gt;<a class="code" href="classMSHR.html#a6ff6af8d20926ded4e18e8f676784ff6">readyIter</a>);
<a name="l00218"></a>00218         <a class="code" href="classMSHRQueue.html#aa4871243af391ed1f0d5e3f964bc13d0">inServiceEntries</a> += 1;
<a name="l00219"></a>00219     }
<a name="l00220"></a>00220 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab0f258b25fe50dc16d5e3e5890214c5c"></a><!-- doxytag: member="MSHRQueue::markPending" ref="ab0f258b25fe50dc16d5e3e5890214c5c" args="(MSHR *mshr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void markPending </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMSHR.html">MSHR</a> *&nbsp;</td>
          <td class="paramname"> <em>mshr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Mark an in service entry as pending, used to resend a request. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mshr</em>&nbsp;</td><td>The <a class="el" href="classMSHR.html">MSHR</a> to resend. </td></tr>
  </table>
  </dd>
</dl>

<p><p>@ todo might want to add rerequests to front of pending list for performance.</p>
</p>

<p><div class="fragment"><pre class="fragment"><a name="l00224"></a>00224 {
<a name="l00225"></a>00225     assert(mshr-&gt;<a class="code" href="classMSHR.html#a7f5c4fb6e9162689992ccd0cd7bce17b">inService</a>);
<a name="l00226"></a>00226     mshr-&gt;<a class="code" href="classMSHR.html#a7f5c4fb6e9162689992ccd0cd7bce17b">inService</a> = <span class="keyword">false</span>;
<a name="l00227"></a>00227     --<a class="code" href="classMSHRQueue.html#aa4871243af391ed1f0d5e3f964bc13d0">inServiceEntries</a>;
<a name="l00232"></a>00232     mshr-&gt;<a class="code" href="classMSHR.html#a6ff6af8d20926ded4e18e8f676784ff6">readyIter</a> = <a class="code" href="classMSHRQueue.html#a80c2dad36455852eae13562756599fa4">addToReadyList</a>(mshr);
<a name="l00233"></a>00233 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2a53c836e41157cdbf2c19b6fd30e276"></a><!-- doxytag: member="MSHRQueue::moveToFront" ref="a2a53c836e41157cdbf2c19b6fd30e276" args="(MSHR *mshr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void moveToFront </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMSHR.html">MSHR</a> *&nbsp;</td>
          <td class="paramname"> <em>mshr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Moves the <a class="el" href="classMSHR.html">MSHR</a> to the front of the pending list if it is not in service. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mshr</em>&nbsp;</td><td>The entry to move. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00203"></a>00203 {
<a name="l00204"></a>00204     <span class="keywordflow">if</span> (!mshr-&gt;<a class="code" href="classMSHR.html#a7f5c4fb6e9162689992ccd0cd7bce17b">inService</a>) {
<a name="l00205"></a>00205         assert(mshr == *(mshr-&gt;<a class="code" href="classMSHR.html#a6ff6af8d20926ded4e18e8f676784ff6">readyIter</a>));
<a name="l00206"></a>00206         <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.erase(mshr-&gt;<a class="code" href="classMSHR.html#a6ff6af8d20926ded4e18e8f676784ff6">readyIter</a>);
<a name="l00207"></a>00207         mshr-&gt;<a class="code" href="classMSHR.html#a6ff6af8d20926ded4e18e8f676784ff6">readyIter</a> = <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.insert(<a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.begin(), mshr);
<a name="l00208"></a>00208     }
<a name="l00209"></a>00209 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4601a57ba7740776052541f212c29cbd"></a><!-- doxytag: member="MSHRQueue::nextMSHRReadyTime" ref="a4601a57ba7740776052541f212c29cbd" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> nextMSHRReadyTime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00233"></a>00233     {
<a name="l00234"></a>00234         <span class="keywordflow">return</span> <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.empty() ? <a class="code" href="base_2types_8hh.html#abe940b1b328825e234da719447e15ca5">MaxTick</a> : <a class="code" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a>.front()-&gt;readyTime;
<a name="l00235"></a>00235     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a94c2c174856cbab1e3478cb02ae8ed80"></a><!-- doxytag: member="MSHRQueue::squash" ref="a94c2c174856cbab1e3478cb02ae8ed80" args="(int threadNum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squash </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>threadNum</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Squash outstanding requests with the given thread number. If a request is in service, just squashes the targets. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>threadNum</em>&nbsp;</td><td>The thread to squash. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00253"></a>00253 {
<a name="l00254"></a>00254     <a class="code" href="classMSHR.html#af944263ff3027ab76cf07354d3a3f0c6">MSHR::Iterator</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = <a class="code" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a>.begin();
<a name="l00255"></a>00255     <a class="code" href="classMSHR.html#af944263ff3027ab76cf07354d3a3f0c6">MSHR::Iterator</a> end = <a class="code" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a>.end();
<a name="l00256"></a>00256     <span class="keywordflow">for</span> (; i != end;) {
<a name="l00257"></a>00257         <a class="code" href="classMSHR.html">MSHR</a> *mshr = *i;
<a name="l00258"></a>00258         <span class="keywordflow">if</span> (mshr-&gt;<a class="code" href="classMSHR.html#a7ec985ceacc8f2c379dbccca0b2e0f44">threadNum</a> == threadNum) {
<a name="l00259"></a>00259             <span class="keywordflow">while</span> (mshr-&gt;<a class="code" href="classMSHR.html#a9b007d67bfb5a6ff382a6d78ec08b3af">hasTargets</a>()) {
<a name="l00260"></a>00260                 mshr-&gt;<a class="code" href="classMSHR.html#a660e7beed1d7d25852a9bc63d1f314b3">popTarget</a>();
<a name="l00261"></a>00261                 assert(0<span class="comment">/*target-&gt;req-&gt;threadId()*/</span> == threadNum);
<a name="l00262"></a>00262             }
<a name="l00263"></a>00263             assert(!mshr-&gt;<a class="code" href="classMSHR.html#a9b007d67bfb5a6ff382a6d78ec08b3af">hasTargets</a>());
<a name="l00264"></a>00264             assert(mshr-&gt;<a class="code" href="classMSHR.html#ab22af10809b116b3a7ecba267c795c8a">getNumTargets</a>()==0);
<a name="l00265"></a>00265             <span class="keywordflow">if</span> (!mshr-&gt;<a class="code" href="classMSHR.html#a7f5c4fb6e9162689992ccd0cd7bce17b">inService</a>) {
<a name="l00266"></a>00266                 i = <a class="code" href="classMSHRQueue.html#a8a69fab976c144c9128fec59358d3196">deallocateOne</a>(mshr);
<a name="l00267"></a>00267             } <span class="keywordflow">else</span> {
<a name="l00268"></a>00268                 <span class="comment">//mshr-&gt;pkt-&gt;flags &amp;= ~CACHE_LINE_FILL;</span>
<a name="l00269"></a>00269                 ++i;
<a name="l00270"></a>00270             }
<a name="l00271"></a>00271         } <span class="keywordflow">else</span> {
<a name="l00272"></a>00272             ++i;
<a name="l00273"></a>00273         }
<a name="l00274"></a>00274     }
<a name="l00275"></a>00275 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a115235fc25fdf1c03d856bd072b6cead"></a><!-- doxytag: member="MSHRQueue::allocated" ref="a115235fc25fdf1c03d856bd072b6cead" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classMSHRQueue.html#a115235fc25fdf1c03d856bd072b6cead">allocated</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of allocated entries. </p>

</div>
</div>
<a class="anchor" id="a4bac1d00b2059c983d4afaf4df82f4ac"></a><!-- doxytag: member="MSHRQueue::allocatedList" ref="a4bac1d00b2059c983d4afaf4df82f4ac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">MSHR::List</a> <a class="el" href="classMSHRQueue.html#a4bac1d00b2059c983d4afaf4df82f4ac">allocatedList</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Holds pointers to all allocated entries. </p>

</div>
</div>
<a class="anchor" id="a329b71fb934a93312ca0aacbf5a3f982"></a><!-- doxytag: member="MSHRQueue::drainManager" ref="a329b71fb934a93312ca0aacbf5a3f982" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDrainManager.html">DrainManager</a>* <a class="el" href="classMSHRQueue.html#a329b71fb934a93312ca0aacbf5a3f982">drainManager</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Drain manager to inform of a completed drain </p>

</div>
</div>
<a class="anchor" id="abad3c0dea35aa5b18c234af72cd8ac89"></a><!-- doxytag: member="MSHRQueue::freeList" ref="abad3c0dea35aa5b18c234af72cd8ac89" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">MSHR::List</a> <a class="el" href="classMSHRQueue.html#abad3c0dea35aa5b18c234af72cd8ac89">freeList</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Holds non allocated entries. </p>

</div>
</div>
<a class="anchor" id="a32b76ccceab9e1bba3e8c4ef2947d1d8"></a><!-- doxytag: member="MSHRQueue::index" ref="a32b76ccceab9e1bba3e8c4ef2947d1d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classMSHRQueue.html#a32b76ccceab9e1bba3e8c4ef2947d1d8">index</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The index of this queue within the cache (<a class="el" href="classMSHR.html">MSHR</a> queue vs. write buffer). </p>

</div>
</div>
<a class="anchor" id="aa4871243af391ed1f0d5e3f964bc13d0"></a><!-- doxytag: member="MSHRQueue::inServiceEntries" ref="aa4871243af391ed1f0d5e3f964bc13d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classMSHRQueue.html#aa4871243af391ed1f0d5e3f964bc13d0">inServiceEntries</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of entries that have been forwarded to the bus. </p>

</div>
</div>
<a class="anchor" id="ae471a4c4073716b769170188214fe93d"></a><!-- doxytag: member="MSHRQueue::label" ref="ae471a4c4073716b769170188214fe93d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string <a class="el" href="classMSHRQueue.html#ae471a4c4073716b769170188214fe93d">label</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Local label (for functional print requests) </p>

</div>
</div>
<a class="anchor" id="aac2a0fada965c3dd6220aeb40a28c587"></a><!-- doxytag: member="MSHRQueue::numEntries" ref="aac2a0fada965c3dd6220aeb40a28c587" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classMSHRQueue.html#aac2a0fada965c3dd6220aeb40a28c587">numEntries</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The total number of entries in this queue. This number is set as the number of entries requested plus (numReserve - 1). This allows for the same number of effective entries while still maintaining the reserve. </p>

</div>
</div>
<a class="anchor" id="a2c97f85062902d3990c3a9c163306547"></a><!-- doxytag: member="MSHRQueue::numReserve" ref="a2c97f85062902d3990c3a9c163306547" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classMSHRQueue.html#a2c97f85062902d3990c3a9c163306547">numReserve</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of entries to hold in reserve. This is needed because copy operations can allocate upto 4 entries at one time. </p>

</div>
</div>
<a class="anchor" id="ab090e7fb494c0f9af81d19d1959684a0"></a><!-- doxytag: member="MSHRQueue::readyList" ref="ab090e7fb494c0f9af81d19d1959684a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">MSHR::List</a> <a class="el" href="classMSHRQueue.html#ab090e7fb494c0f9af81d19d1959684a0">readyList</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Holds pointers to entries that haven't been sent to the bus. </p>

</div>
</div>
<a class="anchor" id="a61e75efe923d1fa4bbb72f426a219b7e"></a><!-- doxytag: member="MSHRQueue::registers" ref="a61e75efe923d1fa4bbb72f426a219b7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classMSHR.html">MSHR</a>&gt; <a class="el" href="classMSHRQueue.html#a61e75efe923d1fa4bbb72f426a219b7e">registers</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classMSHR.html">MSHR</a> storage. </p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>mem/cache/<a class="el" href="mshr__queue_8hh_source.html">mshr_queue.hh</a></li>
<li>mem/cache/<a class="el" href="mshr__queue_8cc.html">mshr_queue.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
