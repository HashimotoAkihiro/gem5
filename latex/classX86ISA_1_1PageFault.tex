\hypertarget{classX86ISA_1_1PageFault}{
\section{クラス PageFault}
\label{classX86ISA_1_1PageFault}\index{X86ISA::PageFault@{X86ISA::PageFault}}
}


{\ttfamily \#include $<$faults.hh$>$}PageFaultに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5cm]{classX86ISA_1_1PageFault}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classX86ISA_1_1PageFault_abf9b5f62d8dedad4159f6f999492af6e}{PageFault} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \_\-addr, \hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \_\-errorCode)
\item 
\hyperlink{classX86ISA_1_1PageFault_aab0051d707e5450feb339851a04285e5}{PageFault} (\hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \_\-addr, bool \hyperlink{namespaceX86ISA_a2c4bc7438a48bd4bbdd7ed9b629a6ec6}{present}, \hyperlink{classBaseTLB_a46c8a310cf4c094f8c80e1cb8dc1f911}{BaseTLB::Mode} mode, bool \hyperlink{classX86ISA_1_1PageFault_adc1042328d36e83e5c72a380f2c97697}{user}, bool \hyperlink{classX86ISA_1_1PageFault_a5858891cfed455f1cea3c680b8adefad}{reserved})
\item 
void \hyperlink{classX86ISA_1_1PageFault_a2bd783b42262278d41157d428e1f8d6f}{invoke} (\hyperlink{classThreadContext}{ThreadContext} $\ast$tc, \hyperlink{classRefCountingPtr}{StaticInstPtr} inst=\hyperlink{classStaticInst_aa793d9793af735f09096369fb17567b6}{StaticInst::nullStaticInstPtr})
\item 
virtual std::string \hyperlink{classX86ISA_1_1PageFault_a1d7f1c12bd9a77eda766e6e8dca31e50}{describe} () const 
\end{DoxyCompactItemize}
\subsection*{Protected メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classX86ISA_1_1PageFault_a8b746ff214278bd3ab8d35330ebbbf71}{BitUnion32} (PageFaultErrorCode) Bitfield$<$ 0 $>$ \hyperlink{namespaceX86ISA_a2c4bc7438a48bd4bbdd7ed9b629a6ec6}{present}
\item 
\hyperlink{classX86ISA_1_1PageFault_a02b72810071333f2a5f8d3ea7538add6}{EndBitUnion} (PageFaultErrorCode) \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \hyperlink{namespaceX86ISA_ab705917f60c5566f9ce56a93f798b2e2}{addr}
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
Bitfield$<$ 1 $>$ \hyperlink{classX86ISA_1_1PageFault_afbbfc21831d777494ed9d797bd9870a1}{write}
\item 
Bitfield$<$ 2 $>$ \hyperlink{classX86ISA_1_1PageFault_adc1042328d36e83e5c72a380f2c97697}{user}
\item 
Bitfield$<$ 3 $>$ \hyperlink{classX86ISA_1_1PageFault_a5858891cfed455f1cea3c680b8adefad}{reserved}
\item 
Bitfield$<$ 4 $>$ \hyperlink{classX86ISA_1_1PageFault_adc843c49c832b796abd2f483d4fd45cc}{fetch}
\end{DoxyCompactItemize}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classX86ISA_1_1PageFault_abf9b5f62d8dedad4159f6f999492af6e}{
\index{X86ISA::PageFault@{X86ISA::PageFault}!PageFault@{PageFault}}
\index{PageFault@{PageFault}!X86ISA::PageFault@{X86ISA::PageFault}}
\subsubsection[{PageFault}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PageFault} ({\bf Addr} {\em \_\-addr}, \/  {\bf uint32\_\-t} {\em \_\-errorCode})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classX86ISA_1_1PageFault_abf9b5f62d8dedad4159f6f999492af6e}



\begin{DoxyCode}
317                                                    :
318             X86Fault("Page-Fault", "#PF", 14, _errorCode), addr(_addr)
319         {}

\end{DoxyCode}
\hypertarget{classX86ISA_1_1PageFault_aab0051d707e5450feb339851a04285e5}{
\index{X86ISA::PageFault@{X86ISA::PageFault}!PageFault@{PageFault}}
\index{PageFault@{PageFault}!X86ISA::PageFault@{X86ISA::PageFault}}
\subsubsection[{PageFault}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PageFault} ({\bf Addr} {\em \_\-addr}, \/  bool {\em present}, \/  {\bf BaseTLB::Mode} {\em mode}, \/  bool {\em user}, \/  bool {\em reserved})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classX86ISA_1_1PageFault_aab0051d707e5450feb339851a04285e5}



\begin{DoxyCode}
322                                           :
323             X86Fault("Page-Fault", "#PF", 14, 0), addr(_addr)
324         {
325             PageFaultErrorCode code = 0;
326             code.present = present;
327             code.write = (mode == BaseTLB::Write);
328             code.user = user;
329             code.reserved = reserved;
330             code.fetch = (mode == BaseTLB::Execute);
331             errorCode = code;
332         }

\end{DoxyCode}


\subsection{関数}
\hypertarget{classX86ISA_1_1PageFault_a8b746ff214278bd3ab8d35330ebbbf71}{
\index{X86ISA::PageFault@{X86ISA::PageFault}!BitUnion32@{BitUnion32}}
\index{BitUnion32@{BitUnion32}!X86ISA::PageFault@{X86ISA::PageFault}}
\subsubsection[{BitUnion32}]{\setlength{\rightskip}{0pt plus 5cm}BitUnion32 (PageFaultErrorCode)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1PageFault_a8b746ff214278bd3ab8d35330ebbbf71}
\hypertarget{classX86ISA_1_1PageFault_a1d7f1c12bd9a77eda766e6e8dca31e50}{
\index{X86ISA::PageFault@{X86ISA::PageFault}!describe@{describe}}
\index{describe@{describe}!X86ISA::PageFault@{X86ISA::PageFault}}
\subsubsection[{describe}]{\setlength{\rightskip}{0pt plus 5cm}std::string describe () const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classX86ISA_1_1PageFault_a1d7f1c12bd9a77eda766e6e8dca31e50}


\hyperlink{classX86ISA_1_1X86FaultBase_a1d7f1c12bd9a77eda766e6e8dca31e50}{X86FaultBase}を再定義しています。


\begin{DoxyCode}
166     {
167         std::stringstream ss;
168         ccprintf(ss, "%s at %#x", X86FaultBase::describe(), addr);
169         return ss.str();
170     }
\end{DoxyCode}
\hypertarget{classX86ISA_1_1PageFault_a02b72810071333f2a5f8d3ea7538add6}{
\index{X86ISA::PageFault@{X86ISA::PageFault}!EndBitUnion@{EndBitUnion}}
\index{EndBitUnion@{EndBitUnion}!X86ISA::PageFault@{X86ISA::PageFault}}
\subsubsection[{EndBitUnion}]{\setlength{\rightskip}{0pt plus 5cm}EndBitUnion (PageFaultErrorCode)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1PageFault_a02b72810071333f2a5f8d3ea7538add6}
\hypertarget{classX86ISA_1_1PageFault_a2bd783b42262278d41157d428e1f8d6f}{
\index{X86ISA::PageFault@{X86ISA::PageFault}!invoke@{invoke}}
\index{invoke@{invoke}!X86ISA::PageFault@{X86ISA::PageFault}}
\subsubsection[{invoke}]{\setlength{\rightskip}{0pt plus 5cm}void invoke ({\bf ThreadContext} $\ast$ {\em tc}, \/  {\bf StaticInstPtr} {\em inst} = {\ttfamily {\bf StaticInst::nullStaticInstPtr}})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classX86ISA_1_1PageFault_a2bd783b42262278d41157d428e1f8d6f}


\hyperlink{classX86ISA_1_1X86FaultBase_a2bd783b42262278d41157d428e1f8d6f}{X86FaultBase}を再定義しています。


\begin{DoxyCode}
136     {
137         if (FullSystem) {
138             HandyM5Reg m5reg = tc->readMiscRegNoEffect(MISCREG_M5_REG);
139             X86FaultBase::invoke(tc);
140             /*
141              * If something bad happens while trying to enter the page fault
142              * handler, I'm pretty sure that's a double fault and then all
143              * bets are off. That means it should be safe to update this
144              * state now.
145              */
146             if (m5reg.mode == LongMode) {
147                 tc->setMiscReg(MISCREG_CR2, addr);
148             } else {
149                 tc->setMiscReg(MISCREG_CR2, (uint32_t)addr);
150             }
151         } else {
152             PageFaultErrorCode code = errorCode;
153             const char *modeStr = "";
154             if (code.fetch)
155                 modeStr = "execute";
156             else if (code.write)
157                 modeStr = "write";
158             else
159                 modeStr = "read";
160             panic("Tried to %s unmapped address %#x.\n", modeStr, addr);
161         }
162     }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classX86ISA_1_1PageFault_adc843c49c832b796abd2f483d4fd45cc}{
\index{X86ISA::PageFault@{X86ISA::PageFault}!fetch@{fetch}}
\index{fetch@{fetch}!X86ISA::PageFault@{X86ISA::PageFault}}
\subsubsection[{fetch}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$4$>$ {\bf fetch}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1PageFault_adc843c49c832b796abd2f483d4fd45cc}
\hypertarget{classX86ISA_1_1PageFault_a5858891cfed455f1cea3c680b8adefad}{
\index{X86ISA::PageFault@{X86ISA::PageFault}!reserved@{reserved}}
\index{reserved@{reserved}!X86ISA::PageFault@{X86ISA::PageFault}}
\subsubsection[{reserved}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$3$>$ {\bf reserved}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1PageFault_a5858891cfed455f1cea3c680b8adefad}
\hypertarget{classX86ISA_1_1PageFault_adc1042328d36e83e5c72a380f2c97697}{
\index{X86ISA::PageFault@{X86ISA::PageFault}!user@{user}}
\index{user@{user}!X86ISA::PageFault@{X86ISA::PageFault}}
\subsubsection[{user}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$2$>$ {\bf user}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1PageFault_adc1042328d36e83e5c72a380f2c97697}
\hypertarget{classX86ISA_1_1PageFault_afbbfc21831d777494ed9d797bd9870a1}{
\index{X86ISA::PageFault@{X86ISA::PageFault}!write@{write}}
\index{write@{write}!X86ISA::PageFault@{X86ISA::PageFault}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}Bitfield$<$1$>$ {\bf write}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classX86ISA_1_1PageFault_afbbfc21831d777494ed9d797bd9870a1}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
arch/x86/\hyperlink{arch_2x86_2faults_8hh}{faults.hh}\item 
arch/x86/\hyperlink{arch_2x86_2faults_8cc}{faults.cc}\end{DoxyCompactItemize}
