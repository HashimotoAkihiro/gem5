\hypertarget{classAddrRangeMap}{
\section{クラス テンプレート AddrRangeMap$<$ V $>$}
\label{classAddrRangeMap}\index{AddrRangeMap@{AddrRangeMap}}
}


{\ttfamily \#include $<$addr\_\-range\_\-map.hh$>$}\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
typedef RangeMap::iterator \hyperlink{classAddrRangeMap_ae61c5513b9ac04615ba7927f47c3ec69}{iterator}
\item 
typedef RangeMap::const\_\-iterator \hyperlink{classAddrRangeMap_ab049cdad9a17cf714c462bfb9f5dbb6e}{const\_\-iterator}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classAddrRangeMap_ab049cdad9a17cf714c462bfb9f5dbb6e}{const\_\-iterator} \hyperlink{classAddrRangeMap_aa89a64932a83b0166c2d0ef2c3427473}{find} (const \hyperlink{classAddrRange}{AddrRange} \&r) const 
\item 
\hyperlink{classAddrRangeMap_ab049cdad9a17cf714c462bfb9f5dbb6e}{const\_\-iterator} \hyperlink{classAddrRangeMap_accd4e7ea05da712a71b7e452d64e394f}{find} (const \hyperlink{base_2types_8hh_af1bb03d6a4ee096394a6749f0a169232}{Addr} \&r) const 
\item 
bool \hyperlink{classAddrRangeMap_a94d6423eb2588b05dd2b7522a5fd0d66}{intersect} (const \hyperlink{classAddrRange}{AddrRange} \&r) const 
\item 
\hyperlink{classAddrRangeMap_ab049cdad9a17cf714c462bfb9f5dbb6e}{const\_\-iterator} \hyperlink{classAddrRangeMap_ae464dba77c85b35e01680a92bd80b4cd}{insert} (const \hyperlink{classAddrRange}{AddrRange} \&r, const V \&d)
\item 
void \hyperlink{classAddrRangeMap_a1e39aaf15fad060923b688d4a936624b}{erase} (\hyperlink{classAddrRangeMap_ae61c5513b9ac04615ba7927f47c3ec69}{iterator} p)
\item 
void \hyperlink{classAddrRangeMap_a8645d9bde1addc5c75d4076d0f016a98}{erase} (\hyperlink{classAddrRangeMap_ae61c5513b9ac04615ba7927f47c3ec69}{iterator} p, \hyperlink{classAddrRangeMap_ae61c5513b9ac04615ba7927f47c3ec69}{iterator} q)
\item 
void \hyperlink{classAddrRangeMap_ac8bb3912a3ce86b15842e79d0b421204}{clear} ()
\item 
\hyperlink{classAddrRangeMap_ab049cdad9a17cf714c462bfb9f5dbb6e}{const\_\-iterator} \hyperlink{classAddrRangeMap_aa4b02d4f1a8500fb07a551069060709f}{begin} () const 
\item 
\hyperlink{classAddrRangeMap_ae61c5513b9ac04615ba7927f47c3ec69}{iterator} \hyperlink{classAddrRangeMap_ad69bd11391be1a1dba5c8202259664f8}{begin} ()
\item 
\hyperlink{classAddrRangeMap_ab049cdad9a17cf714c462bfb9f5dbb6e}{const\_\-iterator} \hyperlink{classAddrRangeMap_a350132543d80a1c1e5be844e6d2878ea}{end} () const 
\item 
\hyperlink{classAddrRangeMap_ae61c5513b9ac04615ba7927f47c3ec69}{iterator} \hyperlink{classAddrRangeMap_acad38d52497a975bfb6f2f6acd76631f}{end} ()
\item 
std::size\_\-t \hyperlink{classAddrRangeMap_a725e764d8ff6e3008f4494b38b7edca0}{size} () const 
\item 
bool \hyperlink{classAddrRangeMap_ac6e61de369e994009e36f344f99c15ad}{empty} () const 
\end{DoxyCompactItemize}
\subsection*{Private 型}
\begin{DoxyCompactItemize}
\item 
typedef std::map$<$ \hyperlink{classAddrRange}{AddrRange}, V $>$ \hyperlink{classAddrRangeMap_a28cfa29c62233971dbce319cd94e24ca}{RangeMap}
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classAddrRangeMap_a28cfa29c62233971dbce319cd94e24ca}{RangeMap} \hyperlink{classAddrRangeMap_a3a72c569864f92e88af53d780f71ceac}{tree}
\end{DoxyCompactItemize}


\subsection{説明}
\subsubsection*{template$<$typename V$>$ class AddrRangeMap$<$ V $>$}

The \hyperlink{classAddrRangeMap}{AddrRangeMap} uses an STL map to implement an interval tree for address decoding. The value stored is a template type and can be e.g. a port identifier, or a pointer. 

\subsection{型定義}
\hypertarget{classAddrRangeMap_ab049cdad9a17cf714c462bfb9f5dbb6e}{
\index{AddrRangeMap@{AddrRangeMap}!const\_\-iterator@{const\_\-iterator}}
\index{const\_\-iterator@{const\_\-iterator}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{const\_\-iterator}]{\setlength{\rightskip}{0pt plus 5cm}typedef RangeMap::const\_\-iterator {\bf const\_\-iterator}}}
\label{classAddrRangeMap_ab049cdad9a17cf714c462bfb9f5dbb6e}
\hypertarget{classAddrRangeMap_ae61c5513b9ac04615ba7927f47c3ec69}{
\index{AddrRangeMap@{AddrRangeMap}!iterator@{iterator}}
\index{iterator@{iterator}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{iterator}]{\setlength{\rightskip}{0pt plus 5cm}typedef RangeMap::iterator {\bf iterator}}}
\label{classAddrRangeMap_ae61c5513b9ac04615ba7927f47c3ec69}
\hypertarget{classAddrRangeMap_a28cfa29c62233971dbce319cd94e24ca}{
\index{AddrRangeMap@{AddrRangeMap}!RangeMap@{RangeMap}}
\index{RangeMap@{RangeMap}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{RangeMap}]{\setlength{\rightskip}{0pt plus 5cm}typedef std::map$<${\bf AddrRange}, V$>$ {\bf RangeMap}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAddrRangeMap_a28cfa29c62233971dbce319cd94e24ca}


\subsection{関数}
\hypertarget{classAddrRangeMap_ad69bd11391be1a1dba5c8202259664f8}{
\index{AddrRangeMap@{AddrRangeMap}!begin@{begin}}
\index{begin@{begin}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{begin}]{\setlength{\rightskip}{0pt plus 5cm}{\bf iterator} begin ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_ad69bd11391be1a1dba5c8202259664f8}



\begin{DoxyCode}
158     {
159         return tree.begin();
160     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_aa4b02d4f1a8500fb07a551069060709f}{
\index{AddrRangeMap@{AddrRangeMap}!begin@{begin}}
\index{begin@{begin}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{begin}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const\_\-iterator} begin () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_aa4b02d4f1a8500fb07a551069060709f}



\begin{DoxyCode}
152     {
153         return tree.begin();
154     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_ac8bb3912a3ce86b15842e79d0b421204}{
\index{AddrRangeMap@{AddrRangeMap}!clear@{clear}}
\index{clear@{clear}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}void clear ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_ac8bb3912a3ce86b15842e79d0b421204}



\begin{DoxyCode}
146     {
147         tree.erase(tree.begin(), tree.end());
148     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_ac6e61de369e994009e36f344f99c15ad}{
\index{AddrRangeMap@{AddrRangeMap}!empty@{empty}}
\index{empty@{empty}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{empty}]{\setlength{\rightskip}{0pt plus 5cm}bool empty () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_ac6e61de369e994009e36f344f99c15ad}



\begin{DoxyCode}
182     {
183         return tree.empty();
184     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_acad38d52497a975bfb6f2f6acd76631f}{
\index{AddrRangeMap@{AddrRangeMap}!end@{end}}
\index{end@{end}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{end}]{\setlength{\rightskip}{0pt plus 5cm}{\bf iterator} end ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_acad38d52497a975bfb6f2f6acd76631f}



\begin{DoxyCode}
170     {
171         return tree.end();
172     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_a350132543d80a1c1e5be844e6d2878ea}{
\index{AddrRangeMap@{AddrRangeMap}!end@{end}}
\index{end@{end}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{end}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const\_\-iterator} end () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_a350132543d80a1c1e5be844e6d2878ea}



\begin{DoxyCode}
164     {
165         return tree.end();
166     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_a8645d9bde1addc5c75d4076d0f016a98}{
\index{AddrRangeMap@{AddrRangeMap}!erase@{erase}}
\index{erase@{erase}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{erase}]{\setlength{\rightskip}{0pt plus 5cm}void erase ({\bf iterator} {\em p}, \/  {\bf iterator} {\em q})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_a8645d9bde1addc5c75d4076d0f016a98}



\begin{DoxyCode}
140     {
141         tree.erase(p,q);
142     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_a1e39aaf15fad060923b688d4a936624b}{
\index{AddrRangeMap@{AddrRangeMap}!erase@{erase}}
\index{erase@{erase}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{erase}]{\setlength{\rightskip}{0pt plus 5cm}void erase ({\bf iterator} {\em p})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_a1e39aaf15fad060923b688d4a936624b}



\begin{DoxyCode}
134     {
135         tree.erase(p);
136     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_accd4e7ea05da712a71b7e452d64e394f}{
\index{AddrRangeMap@{AddrRangeMap}!find@{find}}
\index{find@{find}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{find}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const\_\-iterator} find (const {\bf Addr} \& {\em r}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_accd4e7ea05da712a71b7e452d64e394f}



\begin{DoxyCode}
113     {
114         return find(RangeSize(r, 1));
115     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_aa89a64932a83b0166c2d0ef2c3427473}{
\index{AddrRangeMap@{AddrRangeMap}!find@{find}}
\index{find@{find}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{find}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const\_\-iterator} find (const {\bf AddrRange} \& {\em r}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_aa89a64932a83b0166c2d0ef2c3427473}



\begin{DoxyCode}
70     {
71         if (tree.empty())
72             return tree.end();
73 
74         const_iterator i = tree.upper_bound(r);
75 
76         if (i == tree.begin()) {
77             if (i->first.intersects(r)) {
78                 return i;
79             } else {
80                 return tree.end();
81             }
82         }
83 
84         --i;
85 
86         if (i->first.intersects(r))
87             return i;
88 
89         // if we are looking at an interleaved range, also step
90         // backwards through the ranges while we are looking at ranges
91         // that are part of the same contigous chunk
92         if (i->first.interleaved()) {
93             AddrRange orig_range = i->first;
94 
95             while (i != tree.begin() && i->first.mergesWith(orig_range)) {
96                 --i;
97                 if (i->first.intersects(r)) {
98                     return i;
99                 }
100             }
101 
102             // we could leave the loop based on reaching the first
103             // element, so we must still check for an intersection
104             if (i->first.intersects(r))
105                 return i;
106         }
107 
108         return tree.end();
109     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_ae464dba77c85b35e01680a92bd80b4cd}{
\index{AddrRangeMap@{AddrRangeMap}!insert@{insert}}
\index{insert@{insert}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{insert}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const\_\-iterator} insert (const {\bf AddrRange} \& {\em r}, \/  const V \& {\em d})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_ae464dba77c85b35e01680a92bd80b4cd}



\begin{DoxyCode}
125     {
126         if (intersect(r))
127             return tree.end();
128 
129         return tree.insert(std::make_pair(r, d)).first;
130     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_a94d6423eb2588b05dd2b7522a5fd0d66}{
\index{AddrRangeMap@{AddrRangeMap}!intersect@{intersect}}
\index{intersect@{intersect}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{intersect}]{\setlength{\rightskip}{0pt plus 5cm}bool intersect (const {\bf AddrRange} \& {\em r}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_a94d6423eb2588b05dd2b7522a5fd0d66}



\begin{DoxyCode}
119     {
120         return find(r) != tree.end();
121     }
\end{DoxyCode}
\hypertarget{classAddrRangeMap_a725e764d8ff6e3008f4494b38b7edca0}{
\index{AddrRangeMap@{AddrRangeMap}!size@{size}}
\index{size@{size}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{size}]{\setlength{\rightskip}{0pt plus 5cm}std::size\_\-t size () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classAddrRangeMap_a725e764d8ff6e3008f4494b38b7edca0}



\begin{DoxyCode}
176     {
177         return tree.size();
178     }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classAddrRangeMap_a3a72c569864f92e88af53d780f71ceac}{
\index{AddrRangeMap@{AddrRangeMap}!tree@{tree}}
\index{tree@{tree}!AddrRangeMap@{AddrRangeMap}}
\subsubsection[{tree}]{\setlength{\rightskip}{0pt plus 5cm}{\bf RangeMap} {\bf tree}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classAddrRangeMap_a3a72c569864f92e88af53d780f71ceac}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
base/\hyperlink{addr__range__map_8hh}{addr\_\-range\_\-map.hh}\end{DoxyCompactItemize}
