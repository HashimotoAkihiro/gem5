\hypertarget{classProtoOutputStream}{
\section{クラス ProtoOutputStream}
\label{classProtoOutputStream}\index{ProtoOutputStream@{ProtoOutputStream}}
}


{\ttfamily \#include $<$protoio.hh$>$}ProtoOutputStreamに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2cm]{classProtoOutputStream}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classProtoOutputStream_a346f0950b2f8e1b86d25628d4ec21420}{ProtoOutputStream} (const std::string \&filename)
\item 
\hyperlink{classProtoOutputStream_a158b44af3e3b5991f9d98c92700faa88}{$\sim$ProtoOutputStream} ()
\item 
void \hyperlink{classProtoOutputStream_ae87c10d7923fb2245ff05bb305ec27ae}{write} (const google::protobuf::Message \&msg)
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
std::ofstream \hyperlink{classProtoOutputStream_a028bd7a7284a793accbd103bba2eaa23}{fileStream}
\begin{DoxyCompactList}\small\item\em Underlying file output stream. \item\end{DoxyCompactList}\item 
google::protobuf::io::OstreamOutputStream $\ast$ \hyperlink{classProtoOutputStream_ac29615f2f31f335197bcebbc248807aa}{wrappedFileStream}
\begin{DoxyCompactList}\small\item\em Zero Copy stream wrapping the STL output stream. \item\end{DoxyCompactList}\item 
google::protobuf::io::GzipOutputStream $\ast$ \hyperlink{classProtoOutputStream_a98a9278e366c43618c04c25c77e73c4e}{gzipStream}
\begin{DoxyCompactList}\small\item\em Optional Gzip stream to wrap the Zero Copy stream. \item\end{DoxyCompactList}\item 
google::protobuf::io::ZeroCopyOutputStream $\ast$ \hyperlink{classProtoOutputStream_a9d032f60609c0513069efc5003f21840}{zeroCopyStream}
\begin{DoxyCompactList}\small\item\em Top-\/level zero-\/copy stream, either with compression or not. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{説明}
A \hyperlink{classProtoOutputStream}{ProtoOutputStream} wraps a coded stream, potentially with compression, based on looking at the file name. Writing to the stream is done to enable interaction with the file on a per-\/message basis to avoid having to deal with huge data structures. The latter is made possible by encoding the length of each message in the stream. 

\subsection{コンストラクタとデストラクタ}
\hypertarget{classProtoOutputStream_a346f0950b2f8e1b86d25628d4ec21420}{
\index{ProtoOutputStream@{ProtoOutputStream}!ProtoOutputStream@{ProtoOutputStream}}
\index{ProtoOutputStream@{ProtoOutputStream}!ProtoOutputStream@{ProtoOutputStream}}
\subsubsection[{ProtoOutputStream}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ProtoOutputStream} (const std::string \& {\em filename})}}
\label{classProtoOutputStream_a346f0950b2f8e1b86d25628d4ec21420}
Create an output stream for a given file name. If the filename ends with .gz then the file will be compressed accordinly.


\begin{DoxyParams}{引数}
\item[{\em filename}]Path to the file to create or truncate \end{DoxyParams}
\hypertarget{classProtoOutputStream_a158b44af3e3b5991f9d98c92700faa88}{
\index{ProtoOutputStream@{ProtoOutputStream}!$\sim$ProtoOutputStream@{$\sim$ProtoOutputStream}}
\index{$\sim$ProtoOutputStream@{$\sim$ProtoOutputStream}!ProtoOutputStream@{ProtoOutputStream}}
\subsubsection[{$\sim$ProtoOutputStream}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf ProtoOutputStream} ()}}
\label{classProtoOutputStream_a158b44af3e3b5991f9d98c92700faa88}
Destruct the output stream, and also flush and close the underlying file streams and coded streams. 


\begin{DoxyCode}
74 {
75     // As the compression is optional, see if the stream exists
76     if (gzipStream != NULL)
77         delete gzipStream;
78     delete wrappedFileStream;
79     fileStream.close();
80 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classProtoOutputStream_ae87c10d7923fb2245ff05bb305ec27ae}{
\index{ProtoOutputStream@{ProtoOutputStream}!write@{write}}
\index{write@{write}!ProtoOutputStream@{ProtoOutputStream}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}void write (const google::protobuf::Message \& {\em msg})}}
\label{classProtoOutputStream_ae87c10d7923fb2245ff05bb305ec27ae}
Write a message to the stream, preprending it with the message size.


\begin{DoxyParams}{引数}
\item[{\em msg}]\hyperlink{classMessage}{Message} to write to the stream \end{DoxyParams}


\subsection{変数}
\hypertarget{classProtoOutputStream_a028bd7a7284a793accbd103bba2eaa23}{
\index{ProtoOutputStream@{ProtoOutputStream}!fileStream@{fileStream}}
\index{fileStream@{fileStream}!ProtoOutputStream@{ProtoOutputStream}}
\subsubsection[{fileStream}]{\setlength{\rightskip}{0pt plus 5cm}std::ofstream {\bf fileStream}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProtoOutputStream_a028bd7a7284a793accbd103bba2eaa23}


Underlying file output stream. \hypertarget{classProtoOutputStream_a98a9278e366c43618c04c25c77e73c4e}{
\index{ProtoOutputStream@{ProtoOutputStream}!gzipStream@{gzipStream}}
\index{gzipStream@{gzipStream}!ProtoOutputStream@{ProtoOutputStream}}
\subsubsection[{gzipStream}]{\setlength{\rightskip}{0pt plus 5cm}google::protobuf::io::GzipOutputStream$\ast$ {\bf gzipStream}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProtoOutputStream_a98a9278e366c43618c04c25c77e73c4e}


Optional Gzip stream to wrap the Zero Copy stream. \hypertarget{classProtoOutputStream_ac29615f2f31f335197bcebbc248807aa}{
\index{ProtoOutputStream@{ProtoOutputStream}!wrappedFileStream@{wrappedFileStream}}
\index{wrappedFileStream@{wrappedFileStream}!ProtoOutputStream@{ProtoOutputStream}}
\subsubsection[{wrappedFileStream}]{\setlength{\rightskip}{0pt plus 5cm}google::protobuf::io::OstreamOutputStream$\ast$ {\bf wrappedFileStream}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProtoOutputStream_ac29615f2f31f335197bcebbc248807aa}


Zero Copy stream wrapping the STL output stream. \hypertarget{classProtoOutputStream_a9d032f60609c0513069efc5003f21840}{
\index{ProtoOutputStream@{ProtoOutputStream}!zeroCopyStream@{zeroCopyStream}}
\index{zeroCopyStream@{zeroCopyStream}!ProtoOutputStream@{ProtoOutputStream}}
\subsubsection[{zeroCopyStream}]{\setlength{\rightskip}{0pt plus 5cm}google::protobuf::io::ZeroCopyOutputStream$\ast$ {\bf zeroCopyStream}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classProtoOutputStream_a9d032f60609c0513069efc5003f21840}


Top-\/level zero-\/copy stream, either with compression or not. 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
proto/\hyperlink{protoio_8hh}{protoio.hh}\item 
proto/\hyperlink{protoio_8cc}{protoio.cc}\end{DoxyCompactItemize}
