\hypertarget{classSimpleRenameMap}{
\section{クラス SimpleRenameMap}
\label{classSimpleRenameMap}\index{SimpleRenameMap@{SimpleRenameMap}}
}


{\ttfamily \#include $<$rename\_\-map.hh$>$}\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
typedef TheISA::RegIndex \hyperlink{classSimpleRenameMap_a36d25e03e43fa3bb4c5482cbefe5e0fb}{RegIndex}
\item 
typedef \hyperlink{classstd_1_1pair}{std::pair}$<$ \hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex}, \hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} $>$ \hyperlink{classSimpleRenameMap_a3dc3673767d81356dfb2000480aed47b}{RenameInfo}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSimpleRenameMap_a1dc644bcb497c501890dbc78d1acf28d}{SimpleRenameMap} ()
\item 
\hyperlink{classSimpleRenameMap_af5717bfeec7da90752952ab38dcab5c5}{$\sim$SimpleRenameMap} ()
\item 
void \hyperlink{classSimpleRenameMap_a3f27b4e0339fcd39d0f73659b8c72202}{init} (unsigned size, \hyperlink{classSimpleFreeList}{SimpleFreeList} $\ast$\_\-freeList, \hyperlink{classSimpleRenameMap_a36d25e03e43fa3bb4c5482cbefe5e0fb}{RegIndex} \_\-zeroReg)
\item 
\hyperlink{classstd_1_1pair}{RenameInfo} \hyperlink{classSimpleRenameMap_a18370a31dd17baa3a67d1ce3e0f43885}{rename} (\hyperlink{classSimpleRenameMap_a36d25e03e43fa3bb4c5482cbefe5e0fb}{RegIndex} arch\_\-reg)
\item 
\hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} \hyperlink{classSimpleRenameMap_a149269d2ce2fbf7e13ec91a5647bf170}{lookup} (\hyperlink{classSimpleRenameMap_a36d25e03e43fa3bb4c5482cbefe5e0fb}{RegIndex} arch\_\-reg) const 
\item 
void \hyperlink{classSimpleRenameMap_a5c6cad04be83122ff38650d859fbf1d8}{setEntry} (\hyperlink{classSimpleRenameMap_a36d25e03e43fa3bb4c5482cbefe5e0fb}{RegIndex} arch\_\-reg, \hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} phys\_\-reg)
\item 
unsigned \hyperlink{classSimpleRenameMap_a1fb7464c57712609e9d9ca38aff7fc8e}{numFreeEntries} () const 
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{o3_2comm_8hh_a5ec29599c4bc29a3054c451674969e7b}{PhysRegIndex} $>$ \hyperlink{classSimpleRenameMap_a20955fcac3b8535e6b1237aa7ba0cccf}{map}
\item 
\hyperlink{classSimpleFreeList}{SimpleFreeList} $\ast$ \hyperlink{classSimpleRenameMap_a5d2c433781e53552fb56d17e81d4b6bd}{freeList}
\item 
\hyperlink{classSimpleRenameMap_a36d25e03e43fa3bb4c5482cbefe5e0fb}{RegIndex} \hyperlink{classSimpleRenameMap_a13b7cf8d0c4baf190d7e75e372c74d86}{zeroReg}
\end{DoxyCompactItemize}


\subsection{説明}
\hyperlink{classRegister}{Register} rename map for a single class of registers (e.g., integer or floating point). Because the register class is implicitly determined by the rename map instance being accessed, all architectural register index parameters and values in this class are relative (e.g., fp2 is just index 2). 

\subsection{型定義}
\hypertarget{classSimpleRenameMap_a36d25e03e43fa3bb4c5482cbefe5e0fb}{
\index{SimpleRenameMap@{SimpleRenameMap}!RegIndex@{RegIndex}}
\index{RegIndex@{RegIndex}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{RegIndex}]{\setlength{\rightskip}{0pt plus 5cm}typedef TheISA::RegIndex {\bf RegIndex}}}
\label{classSimpleRenameMap_a36d25e03e43fa3bb4c5482cbefe5e0fb}
\hypertarget{classSimpleRenameMap_a3dc3673767d81356dfb2000480aed47b}{
\index{SimpleRenameMap@{SimpleRenameMap}!RenameInfo@{RenameInfo}}
\index{RenameInfo@{RenameInfo}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{RenameInfo}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf std::pair}$<${\bf PhysRegIndex}, {\bf PhysRegIndex}$>$ {\bf RenameInfo}}}
\label{classSimpleRenameMap_a3dc3673767d81356dfb2000480aed47b}
Pair of a physical register and a physical register. Used to return the physical register that a logical register has been renamed to, and the previous physical register that the same logical register was previously mapped to. 

\subsection{コンストラクタとデストラクタ}
\hypertarget{classSimpleRenameMap_a1dc644bcb497c501890dbc78d1acf28d}{
\index{SimpleRenameMap@{SimpleRenameMap}!SimpleRenameMap@{SimpleRenameMap}}
\index{SimpleRenameMap@{SimpleRenameMap}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{SimpleRenameMap}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SimpleRenameMap} ()}}
\label{classSimpleRenameMap_a1dc644bcb497c501890dbc78d1acf28d}



\begin{DoxyCode}
42     : freeList(NULL)
43 {
44 }
\end{DoxyCode}
\hypertarget{classSimpleRenameMap_af5717bfeec7da90752952ab38dcab5c5}{
\index{SimpleRenameMap@{SimpleRenameMap}!$\sim$SimpleRenameMap@{$\sim$SimpleRenameMap}}
\index{$\sim$SimpleRenameMap@{$\sim$SimpleRenameMap}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{$\sim$SimpleRenameMap}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf SimpleRenameMap} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSimpleRenameMap_af5717bfeec7da90752952ab38dcab5c5}



\begin{DoxyCode}
87 {};
\end{DoxyCode}


\subsection{関数}
\hypertarget{classSimpleRenameMap_a3f27b4e0339fcd39d0f73659b8c72202}{
\index{SimpleRenameMap@{SimpleRenameMap}!init@{init}}
\index{init@{init}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void init (unsigned {\em size}, \/  {\bf SimpleFreeList} $\ast$ {\em \_\-freeList}, \/  {\bf RegIndex} {\em \_\-zeroReg})}}
\label{classSimpleRenameMap_a3f27b4e0339fcd39d0f73659b8c72202}
Because we have an array of rename maps (one per thread) in the CPU, it's awkward to initialize this object via the constructor. Instead, this method is used for initialization. 


\begin{DoxyCode}
50 {
51     assert(freeList == NULL);
52     assert(map.empty());
53 
54     map.resize(size);
55     freeList = _freeList;
56     zeroReg = _zeroReg;
57 }
\end{DoxyCode}
\hypertarget{classSimpleRenameMap_a149269d2ce2fbf7e13ec91a5647bf170}{
\index{SimpleRenameMap@{SimpleRenameMap}!lookup@{lookup}}
\index{lookup@{lookup}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{lookup}]{\setlength{\rightskip}{0pt plus 5cm}{\bf PhysRegIndex} lookup ({\bf RegIndex} {\em arch\_\-reg}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSimpleRenameMap_a149269d2ce2fbf7e13ec91a5647bf170}
Look up the physical register mapped to an architectural register. 
\begin{DoxyParams}{引数}
\item[{\em arch\_\-reg}]The architectural register to look up. \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
The physical register it is currently mapped to. 
\end{DoxyReturn}



\begin{DoxyCode}
119     {
120         assert(arch_reg < map.size());
121         return map[arch_reg];
122     }
\end{DoxyCode}
\hypertarget{classSimpleRenameMap_a1fb7464c57712609e9d9ca38aff7fc8e}{
\index{SimpleRenameMap@{SimpleRenameMap}!numFreeEntries@{numFreeEntries}}
\index{numFreeEntries@{numFreeEntries}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{numFreeEntries}]{\setlength{\rightskip}{0pt plus 5cm}unsigned numFreeEntries () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSimpleRenameMap_a1fb7464c57712609e9d9ca38aff7fc8e}
Return the number of free entries on the associated free list. 


\begin{DoxyCode}
136 { return freeList->numFreeRegs(); }
\end{DoxyCode}
\hypertarget{classSimpleRenameMap_a18370a31dd17baa3a67d1ce3e0f43885}{
\index{SimpleRenameMap@{SimpleRenameMap}!rename@{rename}}
\index{rename@{rename}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{rename}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SimpleRenameMap::RenameInfo} rename ({\bf RegIndex} {\em arch\_\-reg})}}
\label{classSimpleRenameMap_a18370a31dd17baa3a67d1ce3e0f43885}
Tell rename map to get a new free physical register to remap the specified architectural register. 
\begin{DoxyParams}{引数}
\item[{\em arch\_\-reg}]The architectural register to remap. \end{DoxyParams}
\begin{DoxyReturn}{戻り値}
A RenameInfo pair indicating both the new and previous physical registers. 
\end{DoxyReturn}



\begin{DoxyCode}
61 {
62     PhysRegIndex renamed_reg;
63 
64     // Record the current physical register that is renamed to the
65     // requested architected register.
66     PhysRegIndex prev_reg = map[arch_reg];
67 
68     // If it's not referencing the zero register, then rename the
69     // register.
70     if (arch_reg != zeroReg) {
71         renamed_reg = freeList->getReg();
72 
73         map[arch_reg] = renamed_reg;
74     } else {
75         // Otherwise return the zero register so nothing bad happens.
76         assert(prev_reg == zeroReg);
77         renamed_reg = zeroReg;
78     }
79 
80     DPRINTF(Rename, "Renamed reg %d to physical reg %d old mapping was %d\n",
81             arch_reg, renamed_reg, prev_reg);
82 
83     return RenameInfo(renamed_reg, prev_reg);
84 }
\end{DoxyCode}
\hypertarget{classSimpleRenameMap_a5c6cad04be83122ff38650d859fbf1d8}{
\index{SimpleRenameMap@{SimpleRenameMap}!setEntry@{setEntry}}
\index{setEntry@{setEntry}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{setEntry}]{\setlength{\rightskip}{0pt plus 5cm}void setEntry ({\bf RegIndex} {\em arch\_\-reg}, \/  {\bf PhysRegIndex} {\em phys\_\-reg})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classSimpleRenameMap_a5c6cad04be83122ff38650d859fbf1d8}
Update rename map with a specific mapping. Generally used to roll back to old mappings on a squash. 
\begin{DoxyParams}{引数}
\item[{\em arch\_\-reg}]The architectural register to remap. \item[{\em phys\_\-reg}]The physical register to remap it to. \end{DoxyParams}



\begin{DoxyCode}
131     {
132         map[arch_reg] = phys_reg;
133     }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classSimpleRenameMap_a5d2c433781e53552fb56d17e81d4b6bd}{
\index{SimpleRenameMap@{SimpleRenameMap}!freeList@{freeList}}
\index{freeList@{freeList}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{freeList}]{\setlength{\rightskip}{0pt plus 5cm}{\bf SimpleFreeList}$\ast$ {\bf freeList}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleRenameMap_a5d2c433781e53552fb56d17e81d4b6bd}
Pointer to the free list from which new physical registers should be allocated in \hyperlink{classSimpleRenameMap_a18370a31dd17baa3a67d1ce3e0f43885}{rename()} \hypertarget{classSimpleRenameMap_a20955fcac3b8535e6b1237aa7ba0cccf}{
\index{SimpleRenameMap@{SimpleRenameMap}!map@{map}}
\index{map@{map}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{map}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf PhysRegIndex}$>$ {\bf map}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleRenameMap_a20955fcac3b8535e6b1237aa7ba0cccf}
The acutal arch-\/to-\/phys register map \hypertarget{classSimpleRenameMap_a13b7cf8d0c4baf190d7e75e372c74d86}{
\index{SimpleRenameMap@{SimpleRenameMap}!zeroReg@{zeroReg}}
\index{zeroReg@{zeroReg}!SimpleRenameMap@{SimpleRenameMap}}
\subsubsection[{zeroReg}]{\setlength{\rightskip}{0pt plus 5cm}{\bf RegIndex} {\bf zeroReg}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classSimpleRenameMap_a13b7cf8d0c4baf190d7e75e372c74d86}
The architectural index of the zero register. This register is mapped but read-\/only, so we ignore attempts to rename it via the \hyperlink{classSimpleRenameMap_a18370a31dd17baa3a67d1ce3e0f43885}{rename()} method. If there is no such register for this map table, it should be set to an invalid index so that it never matches. 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
cpu/o3/\hyperlink{rename__map_8hh}{rename\_\-map.hh}\item 
cpu/o3/\hyperlink{rename__map_8cc}{rename\_\-map.cc}\end{DoxyCompactItemize}
