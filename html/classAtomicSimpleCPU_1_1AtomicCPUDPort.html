<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス AtomicCPUDPort</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="classAtomicSimpleCPU.html">AtomicSimpleCPU</a>::<a class="el" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html">AtomicCPUDPort</a>
  </div>
</div>
<div class="contents">
<h1>クラス AtomicCPUDPort</h1><!-- doxytag: class="AtomicSimpleCPU::AtomicCPUDPort" --><!-- doxytag: inherits="AtomicSimpleCPU::AtomicCPUPort" --><div class="dynheader">
AtomicCPUDPortに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classAtomicSimpleCPU_1_1AtomicCPUDPort.gif" usemap="#AtomicCPUDPort_map" alt=""/>
  <map id="AtomicCPUDPort_map" name="AtomicCPUDPort_map">
<area href="classAtomicSimpleCPU_1_1AtomicCPUPort.html" alt="AtomicCPUPort" shape="rect" coords="0,168,107,192"/>
<area href="classMasterPort.html" alt="MasterPort" shape="rect" coords="0,112,107,136"/>
<area href="classBaseMasterPort.html" alt="BaseMasterPort" shape="rect" coords="0,56,107,80"/>
<area href="classPort.html" alt="Port" shape="rect" coords="0,0,107,24"/>
</map>
 </div>
</div>

<p><a href="classAtomicSimpleCPU_1_1AtomicCPUDPort-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#a92cd757612aceef75cb77f72bed7ec83">AtomicCPUDPort</a> (const std::string &amp;_name, <a class="el" href="classBaseSimpleCPU_1_1BaseSimpleCPU.html">BaseSimpleCPU</a> *_cpu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#a5ce11b7a254d3cb756d94568f7cbc25d">isSnooping</a> () const </td></tr>
<tr><td colspan="2"><h2>Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#af4264b12b32db39099b579e1ed670312">cacheBlockMask</a></td></tr>
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#a886d584c81ee4e398ff8069907f6e1a5">recvAtomicSnoop</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#a284dfb90c168233c9d416bc07de8fefe">recvFunctionalSnoop</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseSimpleCPU_1_1BaseSimpleCPU.html">BaseSimpleCPU</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#a9b015cabe76f0632445ecc63fa883163">cpu</a></td></tr>
</table>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a92cd757612aceef75cb77f72bed7ec83"></a><!-- doxytag: member="AtomicSimpleCPU::AtomicCPUDPort::AtomicCPUDPort" ref="a92cd757612aceef75cb77f72bed7ec83" args="(const std::string &amp;_name, BaseSimpleCPU *_cpu)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html">AtomicCPUDPort</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseSimpleCPU_1_1BaseSimpleCPU.html">BaseSimpleCPU</a> *&nbsp;</td>
          <td class="paramname"> <em>_cpu</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00176"></a>00176             : <a class="code" href="classAtomicSimpleCPU_1_1AtomicCPUPort.html#ab7510fb4487981ef766c2183a23534df">AtomicCPUPort</a>(_name, _cpu), <a class="code" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#a9b015cabe76f0632445ecc63fa883163">cpu</a>(_cpu)
<a name="l00177"></a>00177         {
<a name="l00178"></a>00178             <a class="code" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#af4264b12b32db39099b579e1ed670312">cacheBlockMask</a> = ~(<a class="code" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#a9b015cabe76f0632445ecc63fa883163">cpu</a>-&gt;cacheLineSize() - 1);
<a name="l00179"></a>00179         }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a5ce11b7a254d3cb756d94568f7cbc25d"></a><!-- doxytag: member="AtomicSimpleCPU::AtomicCPUDPort::isSnooping" ref="a5ce11b7a254d3cb756d94568f7cbc25d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isSnooping </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determine if this master port is snooping or not. The default implementation returns false and thus tells the neighbour we are not snooping. Any master port that wants to receive snoop requests (e.g. a cache connected to a bus) has to override this function.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>true if the port should be considered a snooper </dd></dl>

<p><a class="el" href="classMasterPort.html#a32602a6a3c3d66a639455036d6c08dd6">MasterPort</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00181"></a>00181 { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a886d584c81ee4e398ff8069907f6e1a5"></a><!-- doxytag: member="AtomicSimpleCPU::AtomicCPUDPort::recvAtomicSnoop" ref="a886d584c81ee4e398ff8069907f6e1a5" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> recvAtomicSnoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Receive an atomic snoop request packet from the slave port. </p>

<p><a class="el" href="classAtomicSimpleCPU_1_1AtomicCPUPort.html#ae1160d8f94f042aba1dc9a07a72e1e82">AtomicCPUPort</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00283"></a>00283 {
<a name="l00284"></a>00284     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(SimpleCPU, <span class="stringliteral">&quot;received snoop pkt for addr:%#x %s\n&quot;</span>, pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>(),
<a name="l00285"></a>00285             pkt-&gt;<a class="code" href="classPacket.html#a863af57e28a01258236ea303155fc7ff">cmdString</a>());
<a name="l00286"></a>00286 
<a name="l00287"></a>00287     <span class="comment">// if snoop invalidates, release any associated locks</span>
<a name="l00288"></a>00288     <span class="keywordflow">if</span> (pkt-&gt;<a class="code" href="classPacket.html#a4a1a39b8ffab2d6266cd9d794ca332e3">isInvalidate</a>()) {
<a name="l00289"></a>00289         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(SimpleCPU, <span class="stringliteral">&quot;received invalidation for addr:%#x\n&quot;</span>,
<a name="l00290"></a>00290                 pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>());
<a name="l00291"></a>00291         <a class="code" href="namespaceAlphaISA.html#aae6ad66df5dfd5de14b36293aaf2e7f1">TheISA::handleLockedSnoop</a>(<a class="code" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#a9b015cabe76f0632445ecc63fa883163">cpu</a>-&gt;<a class="code" href="classBaseSimpleCPU.html#af9572fa907cd21b54cb14bd626010d39">thread</a>, pkt, <a class="code" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#af4264b12b32db39099b579e1ed670312">cacheBlockMask</a>);
<a name="l00292"></a>00292     }
<a name="l00293"></a>00293 
<a name="l00294"></a>00294     <span class="keywordflow">return</span> 0;
<a name="l00295"></a>00295 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a284dfb90c168233c9d416bc07de8fefe"></a><!-- doxytag: member="AtomicSimpleCPU::AtomicCPUDPort::recvFunctionalSnoop" ref="a284dfb90c168233c9d416bc07de8fefe" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void recvFunctionalSnoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Receive a functional snoop request packet from the slave port. </p>

<p><a class="el" href="classMasterPort.html#af5b15bc08781cf0ba6190efc37d5b67e">MasterPort</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00299"></a>00299 {
<a name="l00300"></a>00300     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(SimpleCPU, <span class="stringliteral">&quot;received snoop pkt for addr:%#x %s\n&quot;</span>, pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>(),
<a name="l00301"></a>00301             pkt-&gt;<a class="code" href="classPacket.html#a863af57e28a01258236ea303155fc7ff">cmdString</a>());
<a name="l00302"></a>00302 
<a name="l00303"></a>00303     <span class="comment">// if snoop invalidates, release any associated locks</span>
<a name="l00304"></a>00304     <span class="keywordflow">if</span> (pkt-&gt;<a class="code" href="classPacket.html#a4a1a39b8ffab2d6266cd9d794ca332e3">isInvalidate</a>()) {
<a name="l00305"></a>00305         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(SimpleCPU, <span class="stringliteral">&quot;received invalidation for addr:%#x\n&quot;</span>,
<a name="l00306"></a>00306                 pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>());
<a name="l00307"></a>00307         <a class="code" href="namespaceAlphaISA.html#aae6ad66df5dfd5de14b36293aaf2e7f1">TheISA::handleLockedSnoop</a>(<a class="code" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#a9b015cabe76f0632445ecc63fa883163">cpu</a>-&gt;<a class="code" href="classBaseSimpleCPU.html#af9572fa907cd21b54cb14bd626010d39">thread</a>, pkt, <a class="code" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#af4264b12b32db39099b579e1ed670312">cacheBlockMask</a>);
<a name="l00308"></a>00308     }
<a name="l00309"></a>00309 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="af4264b12b32db39099b579e1ed670312"></a><!-- doxytag: member="AtomicSimpleCPU::AtomicCPUDPort::cacheBlockMask" ref="af4264b12b32db39099b579e1ed670312" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#af4264b12b32db39099b579e1ed670312">cacheBlockMask</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9b015cabe76f0632445ecc63fa883163"></a><!-- doxytag: member="AtomicSimpleCPU::AtomicCPUDPort::cpu" ref="a9b015cabe76f0632445ecc63fa883163" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseSimpleCPU_1_1BaseSimpleCPU.html">BaseSimpleCPU</a>* <a class="el" href="classAtomicSimpleCPU_1_1AtomicCPUDPort.html#a9b015cabe76f0632445ecc63fa883163">cpu</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>cpu/simple/<a class="el" href="atomic_8hh_source.html">atomic.hh</a></li>
<li>cpu/simple/<a class="el" href="atomic_8cc.html">atomic.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
