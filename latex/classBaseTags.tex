\hypertarget{classBaseTags}{
\section{クラス BaseTags}
\label{classBaseTags}\index{BaseTags@{BaseTags}}
}


{\ttfamily \#include $<$base.hh$>$}BaseTagsに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5cm]{classBaseTags}
\end{center}
\end{figure}
\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
typedef BaseTagsParams \hyperlink{classBaseTags_aab33a5313a7ca07c69f8a4e6e1490375}{Params}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classBaseTags_ae200d65039ec8144c2ec926a52f4fe6f}{BaseTags} (const \hyperlink{classBaseTags_aab33a5313a7ca07c69f8a4e6e1490375}{Params} $\ast$p)
\item 
virtual \hyperlink{classBaseTags_a7d9b66bfc94aa6dbafa003da3e751a8d}{$\sim$BaseTags} ()
\item 
void \hyperlink{classBaseTags_a6a5d34a51c5ba1c4f87dbcc59e8b13fb}{setCache} (\hyperlink{classBaseCache}{BaseCache} $\ast$\_\-cache)
\item 
void \hyperlink{classBaseTags_a4dc637449366fcdfc4e764cdf12d9b11}{regStats} ()
\item 
virtual void \hyperlink{classBaseTags_aab539ffaf653a007b5326b2042dc8e86}{cleanupRefs} ()
\item 
virtual void \hyperlink{classBaseTags_a23fd48fae3a5efe5e8ffbefb54e51c1c}{computeStats} ()
\item 
virtual void \hyperlink{classBaseTags_a9f3e3b80f263780be72db8b9dc53680e}{clearLocks} ()
\item 
virtual std::string \hyperlink{classBaseTags_a56a7c10391fb704ea26efc16f4f4f87b}{print} () const =0
\end{DoxyCompactItemize}
\subsection*{Protected 変数}
\begin{DoxyCompactItemize}
\item 
const unsigned \hyperlink{classBaseTags_a87b03496724866a3daf3e8ebeb831290}{blkSize}
\item 
const unsigned \hyperlink{classBaseTags_ad3f1cf0299fe68eb9a68a7c67232c62d}{size}
\item 
const \hyperlink{classCycles}{Cycles} \hyperlink{classBaseTags_a4075fdc5720f8f0f57c379c396e74718}{hitLatency}
\item 
\hyperlink{classBaseCache}{BaseCache} $\ast$ \hyperlink{classBaseTags_a5cc08dee7231c774489c04728dd5f169}{cache}
\item 
int \hyperlink{classBaseTags_a34cba5da4dbcf8dec784f2ebf3bcb431}{warmupBound}
\item 
bool \hyperlink{classBaseTags_a63243e2a441445feb3cf7a36fbaf4673}{warmedUp}
\item 
unsigned \hyperlink{classBaseTags_af2c745d276c1a795177201764016234c}{numBlocks}
\item 
\hyperlink{classStats_1_1Vector}{Stats::Vector} \hyperlink{group__CacheStatistics_gabe49d967160cb4f2808c2374eada5cbd}{replacements}
\item 
\hyperlink{classStats_1_1Average}{Stats::Average} \hyperlink{group__CacheStatistics_gac47f8631e7a5c6ca2d7bdc4a3385ef5c}{tagsInUse}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{group__CacheStatistics_gaafe04ce7df5e42da3c45e3991561520e}{totalRefs}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{group__CacheStatistics_ga0b8c102a0e9d83ec69d9ac7ee25b378b}{sampledRefs}
\item 
\hyperlink{classStats_1_1Formula}{Stats::Formula} \hyperlink{group__CacheStatistics_gadbcb32891448d652807958d7d79cac39}{avgRefs}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{group__CacheStatistics_ga2607cf0f839148422c1a78a9e21e2c29}{warmupCycle}
\item 
\hyperlink{classStats_1_1AverageVector}{Stats::AverageVector} \hyperlink{group__CacheStatistics_ga5626c7c93bb670e27e205ceba0240361}{occupancies}
\item 
\hyperlink{classStats_1_1Formula}{Stats::Formula} \hyperlink{group__CacheStatistics_ga9e42737de532cd164b91f1217862d1ce}{avgOccs}
\item 
\hyperlink{classStats_1_1Vector}{Stats::Vector} \hyperlink{group__CacheStatistics_ga6fa3359c33f65a569c3e2adc8d04dc26}{occupanciesTaskId}
\item 
\hyperlink{classStats_1_1Vector2d}{Stats::Vector2d} \hyperlink{group__CacheStatistics_gac02dc8ce25ce56af2d9038844ba89d99}{ageTaskId}
\item 
\hyperlink{classStats_1_1Formula}{Stats::Formula} \hyperlink{group__CacheStatistics_ga39817ed7d6dd5fa7b0a2eb2c693b223d}{percentOccsTaskId}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{group__CacheStatistics_ga42eda9fe19a58cfd6ed7aaa7427664e4}{tagAccesses}
\item 
\hyperlink{classStats_1_1Scalar}{Stats::Scalar} \hyperlink{group__CacheStatistics_gad8dad26f755f9db669fc2b8dab657c0a}{dataAccesses}
\end{DoxyCompactItemize}


\subsection{説明}
A common base class of \hyperlink{classCache}{Cache} tagstore objects. 

\subsection{型定義}
\hypertarget{classBaseTags_aab33a5313a7ca07c69f8a4e6e1490375}{
\index{BaseTags@{BaseTags}!Params@{Params}}
\index{Params@{Params}!BaseTags@{BaseTags}}
\subsubsection[{Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef BaseTagsParams {\bf Params}}}
\label{classBaseTags_aab33a5313a7ca07c69f8a4e6e1490375}


\hyperlink{classSimObject_a0f0761d2db586a23bb2a2880b8f387bb}{SimObject}を再定義しています。

\hyperlink{classFALRU_ac02f095611cbe1cc1b0d89ce95694168}{FALRU}, と \hyperlink{classLRU_a7817e729934956b9b3573d13924bf1eb}{LRU}で再定義されています。

\subsection{コンストラクタとデストラクタ}
\hypertarget{classBaseTags_ae200d65039ec8144c2ec926a52f4fe6f}{
\index{BaseTags@{BaseTags}!BaseTags@{BaseTags}}
\index{BaseTags@{BaseTags}!BaseTags@{BaseTags}}
\subsubsection[{BaseTags}]{\setlength{\rightskip}{0pt plus 5cm}{\bf BaseTags} (const {\bf Params} $\ast$ {\em p})}}
\label{classBaseTags_ae200d65039ec8144c2ec926a52f4fe6f}



\begin{DoxyCode}
58     : ClockedObject(p), blkSize(p->block_size), size(p->size),
59       hitLatency(p->hit_latency)
60 {
61 }
\end{DoxyCode}
\hypertarget{classBaseTags_a7d9b66bfc94aa6dbafa003da3e751a8d}{
\index{BaseTags@{BaseTags}!$\sim$BaseTags@{$\sim$BaseTags}}
\index{$\sim$BaseTags@{$\sim$BaseTags}!BaseTags@{BaseTags}}
\subsubsection[{$\sim$BaseTags}]{\setlength{\rightskip}{0pt plus 5cm}virtual $\sim${\bf BaseTags} ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classBaseTags_a7d9b66bfc94aa6dbafa003da3e751a8d}
Destructor. 


\begin{DoxyCode}
149 {}
\end{DoxyCode}


\subsection{関数}
\hypertarget{classBaseTags_aab539ffaf653a007b5326b2042dc8e86}{
\index{BaseTags@{BaseTags}!cleanupRefs@{cleanupRefs}}
\index{cleanupRefs@{cleanupRefs}!BaseTags@{BaseTags}}
\subsubsection[{cleanupRefs}]{\setlength{\rightskip}{0pt plus 5cm}virtual void cleanupRefs ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classBaseTags_aab539ffaf653a007b5326b2042dc8e86}
Average in the reference count for valid blocks when the simulation exits. 

\hyperlink{classLRU_a1acd4c03e94e57919f1254cc4fa0b059}{LRU}で再定義されています。


\begin{DoxyCode}
166 {}
\end{DoxyCode}
\hypertarget{classBaseTags_a9f3e3b80f263780be72db8b9dc53680e}{
\index{BaseTags@{BaseTags}!clearLocks@{clearLocks}}
\index{clearLocks@{clearLocks}!BaseTags@{BaseTags}}
\subsubsection[{clearLocks}]{\setlength{\rightskip}{0pt plus 5cm}virtual void clearLocks ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classBaseTags_a9f3e3b80f263780be72db8b9dc53680e}
iterated through all blocks and clear all locks Needed to clear all lock tracking at once 

\hyperlink{classFALRU_a522e7dda9c2f4eba2cc1c103887d9265}{FALRU}, と \hyperlink{classLRU_a522e7dda9c2f4eba2cc1c103887d9265}{LRU}で再定義されています。


\begin{DoxyCode}
177 {}
\end{DoxyCode}
\hypertarget{classBaseTags_a23fd48fae3a5efe5e8ffbefb54e51c1c}{
\index{BaseTags@{BaseTags}!computeStats@{computeStats}}
\index{computeStats@{computeStats}!BaseTags@{BaseTags}}
\subsubsection[{computeStats}]{\setlength{\rightskip}{0pt plus 5cm}virtual void computeStats ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classBaseTags_a23fd48fae3a5efe5e8ffbefb54e51c1c}
Computes stats just prior to dump event 

\hyperlink{classLRU_a7dd045727ced6181c74934442e2ca33d}{LRU}で再定義されています。


\begin{DoxyCode}
171 {}
\end{DoxyCode}
\hypertarget{classBaseTags_a56a7c10391fb704ea26efc16f4f4f87b}{
\index{BaseTags@{BaseTags}!print@{print}}
\index{print@{print}!BaseTags@{BaseTags}}
\subsubsection[{print}]{\setlength{\rightskip}{0pt plus 5cm}virtual std::string print () const\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classBaseTags_a56a7c10391fb704ea26efc16f4f4f87b}
Print all tags used 

\hyperlink{classFALRU_ac07d4bdf71f061cd9dba907c905a9543}{FALRU}, と \hyperlink{classLRU_ae8a5b5e9e0e6be3b115ee77fa7b4d0c8}{LRU}で実装されています。\hypertarget{classBaseTags_a4dc637449366fcdfc4e764cdf12d9b11}{
\index{BaseTags@{BaseTags}!regStats@{regStats}}
\index{regStats@{regStats}!BaseTags@{BaseTags}}
\subsubsection[{regStats}]{\setlength{\rightskip}{0pt plus 5cm}void regStats ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classBaseTags_a4dc637449366fcdfc4e764cdf12d9b11}
\hyperlink{classRegister}{Register} local statistics. 

\hyperlink{classSimObject_a4dc637449366fcdfc4e764cdf12d9b11}{SimObject}を再定義しています。

\hyperlink{classFALRU_a4dc637449366fcdfc4e764cdf12d9b11}{FALRU}で再定義されています。


\begin{DoxyCode}
71 {
72     using namespace Stats;
73     replacements
74         .init(maxThreadsPerCPU)
75         .name(name() + ".replacements")
76         .desc("number of replacements")
77         .flags(total)
78         ;
79 
80     tagsInUse
81         .name(name() + ".tagsinuse")
82         .desc("Cycle average of tags in use")
83         ;
84 
85     totalRefs
86         .name(name() + ".total_refs")
87         .desc("Total number of references to valid blocks.")
88         ;
89 
90     sampledRefs
91         .name(name() + ".sampled_refs")
92         .desc("Sample count of references to valid blocks.")
93         ;
94 
95     avgRefs
96         .name(name() + ".avg_refs")
97         .desc("Average number of references to valid blocks.")
98         ;
99 
100     avgRefs = totalRefs/sampledRefs;
101 
102     warmupCycle
103         .name(name() + ".warmup_cycle")
104         .desc("Cycle when the warmup percentage was hit.")
105         ;
106 
107     occupancies
108         .init(cache->system->maxMasters())
109         .name(name() + ".occ_blocks")
110         .desc("Average occupied blocks per requestor")
111         .flags(nozero | nonan)
112         ;
113     for (int i = 0; i < cache->system->maxMasters(); i++) {
114         occupancies.subname(i, cache->system->getMasterName(i));
115     }
116 
117     avgOccs
118         .name(name() + ".occ_percent")
119         .desc("Average percentage of cache occupancy")
120         .flags(nozero | total)
121         ;
122     for (int i = 0; i < cache->system->maxMasters(); i++) {
123         avgOccs.subname(i, cache->system->getMasterName(i));
124     }
125 
126     avgOccs = occupancies / Stats::constant(numBlocks);
127 
128     occupanciesTaskId
129         .init(ContextSwitchTaskId::NumTaskId)
130         .name(name() + ".occ_task_id_blocks")
131         .desc("Occupied blocks per task id")
132         .flags(nozero | nonan)
133         ;
134 
135     ageTaskId
136         .init(ContextSwitchTaskId::NumTaskId, 5)
137         .name(name() + ".age_task_id_blocks")
138         .desc("Occupied blocks per task id")
139         .flags(nozero | nonan)
140         ;
141 
142     percentOccsTaskId
143         .name(name() + ".occ_task_id_percent")
144         .desc("Percentage of cache occupancy per task id")
145         .flags(nozero)
146         ;
147 
148     percentOccsTaskId = occupanciesTaskId / Stats::constant(numBlocks);
149 
150     tagAccesses
151         .name(name() + ".tag_accesses")
152         .desc("Number of tag accesses")
153         ;
154 
155     dataAccesses
156         .name(name() + ".data_accesses")
157         .desc("Number of data accesses")
158         ;
159 
160     registerDumpCallback(new BaseTagsDumpCallback(this));
161     registerExitCallback(new BaseTagsCallback(this));
162 }
\end{DoxyCode}
\hypertarget{classBaseTags_a6a5d34a51c5ba1c4f87dbcc59e8b13fb}{
\index{BaseTags@{BaseTags}!setCache@{setCache}}
\index{setCache@{setCache}!BaseTags@{BaseTags}}
\subsubsection[{setCache}]{\setlength{\rightskip}{0pt plus 5cm}void setCache ({\bf BaseCache} $\ast$ {\em \_\-cache})}}
\label{classBaseTags_a6a5d34a51c5ba1c4f87dbcc59e8b13fb}
\hyperlink{classSet}{Set} the parent cache back pointer. 
\begin{DoxyParams}{引数}
\item[{\em \_\-cache}]Pointer to parent cache. \end{DoxyParams}



\begin{DoxyCode}
65 {
66     cache = _cache;
67 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classBaseTags_a87b03496724866a3daf3e8ebeb831290}{
\index{BaseTags@{BaseTags}!blkSize@{blkSize}}
\index{blkSize@{blkSize}!BaseTags@{BaseTags}}
\subsubsection[{blkSize}]{\setlength{\rightskip}{0pt plus 5cm}const unsigned {\bf blkSize}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classBaseTags_a87b03496724866a3daf3e8ebeb831290}
The block size of the cache. \hypertarget{classBaseTags_a5cc08dee7231c774489c04728dd5f169}{
\index{BaseTags@{BaseTags}!cache@{cache}}
\index{cache@{cache}!BaseTags@{BaseTags}}
\subsubsection[{cache}]{\setlength{\rightskip}{0pt plus 5cm}{\bf BaseCache}$\ast$ {\bf cache}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classBaseTags_a5cc08dee7231c774489c04728dd5f169}
Pointer to the parent cache. \hypertarget{classBaseTags_a4075fdc5720f8f0f57c379c396e74718}{
\index{BaseTags@{BaseTags}!hitLatency@{hitLatency}}
\index{hitLatency@{hitLatency}!BaseTags@{BaseTags}}
\subsubsection[{hitLatency}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Cycles} {\bf hitLatency}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classBaseTags_a4075fdc5720f8f0f57c379c396e74718}
The hit latency of the cache. \hypertarget{classBaseTags_af2c745d276c1a795177201764016234c}{
\index{BaseTags@{BaseTags}!numBlocks@{numBlocks}}
\index{numBlocks@{numBlocks}!BaseTags@{BaseTags}}
\subsubsection[{numBlocks}]{\setlength{\rightskip}{0pt plus 5cm}unsigned {\bf numBlocks}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classBaseTags_af2c745d276c1a795177201764016234c}
the number of blocks in the cache \hypertarget{classBaseTags_ad3f1cf0299fe68eb9a68a7c67232c62d}{
\index{BaseTags@{BaseTags}!size@{size}}
\index{size@{size}!BaseTags@{BaseTags}}
\subsubsection[{size}]{\setlength{\rightskip}{0pt plus 5cm}const unsigned {\bf size}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classBaseTags_ad3f1cf0299fe68eb9a68a7c67232c62d}
The size of the cache. \hypertarget{classBaseTags_a63243e2a441445feb3cf7a36fbaf4673}{
\index{BaseTags@{BaseTags}!warmedUp@{warmedUp}}
\index{warmedUp@{warmedUp}!BaseTags@{BaseTags}}
\subsubsection[{warmedUp}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf warmedUp}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classBaseTags_a63243e2a441445feb3cf7a36fbaf4673}
Marked true when the cache is warmed up. \hypertarget{classBaseTags_a34cba5da4dbcf8dec784f2ebf3bcb431}{
\index{BaseTags@{BaseTags}!warmupBound@{warmupBound}}
\index{warmupBound@{warmupBound}!BaseTags@{BaseTags}}
\subsubsection[{warmupBound}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf warmupBound}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classBaseTags_a34cba5da4dbcf8dec784f2ebf3bcb431}
The number of tags that need to be touched to meet the warmup percentage. 

このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/cache/tags/\hyperlink{mem_2cache_2tags_2base_8hh}{base.hh}\item 
mem/cache/tags/\hyperlink{mem_2cache_2tags_2base_8cc}{base.cc}\end{DoxyCompactItemize}
