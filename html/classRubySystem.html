<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス RubySystem</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス RubySystem</h1><!-- doxytag: class="RubySystem" --><!-- doxytag: inherits="ClockedObject" -->
<p><code>#include &lt;<a class="el" href="System_8hh_source.html">System.hh</a>&gt;</code></p>
<div class="dynheader">
RubySystemに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classRubySystem.gif" usemap="#RubySystem_map" alt=""/>
  <map id="RubySystem_map" name="RubySystem_map">
<area href="classClockedObject.html" alt="ClockedObject" shape="rect" coords="105,112,200,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="105,56,200,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,95,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="105,0,200,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="210,0,305,24"/>
</map>
 </div>
</div>

<p><a href="classRubySystem-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem_1_1RubyEvent.html">RubyEvent</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef RubySystemParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#af3998ceb414058e5e416b8b239698858">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a84ecac2914c133c0db81fe28405e815b">RubySystem</a> (const <a class="el" href="classRubySystem.html#af3998ceb414058e5e416b8b239698858">Params</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a335c948aafcd4d981ba75e02f1b33500">~RubySystem</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classProfiler.html">Profiler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a1dc2a271b826284445c889f60c62b2fb">getProfiler</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMemoryVector.html">MemoryVector</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#aae1baebbd770dbbcf63259f5053681ea">getMemoryVector</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a208669cbc0bb1d52565956ca8c690c55">collateStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a65880e61108132689a1bd769b9187fb7">resetStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a53e036786d17361be4c7320d39c99b84">serialize</a> (std::ostream &amp;os)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a2e9c5136d19b1a95fc427e0852deab5c">process</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#aecc7d8debf54990ffeaaed5bac7d7d81">startup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a9fece07bc06f16d7c5190f08e42f5359">functionalRead</a> (<a class="el" href="classPacket.html">Packet</a> *ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#af751326b50cd1150f91ec688d9336ffc">functionalWrite</a> (<a class="el" href="classPacket.html">Packet</a> *ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#ac1a2d2ecf9164e8b3e11b461abab8521">registerNetwork</a> (<a class="el" href="classNetwork.html">Network</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#ab7d5364ddbfcfd86ca9a47684f12c162">registerAbstractController</a> (<a class="el" href="classAbstractController.html">AbstractController</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a7eb79d5477e1c2026d9b1d8b6e26112b">registerSparseMemory</a> (<a class="el" href="classSparseMemory.html">SparseMemory</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#ac9de1de608e144dd7905a56770e60bfc">registerMemController</a> (<a class="el" href="classMemoryControl.html">MemoryControl</a> *mc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a89b51bcc3a463cd78acf62b3fc66288f">eventQueueEmpty</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a14b5a6783cc1c4f01aef58ab8ddaf46e">enqueueRubyEvent</a> (<a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="el" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a>)</td></tr>
<tr><td colspan="2"><h2>Static Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#aed9d96608b2dca650ff1cece99ace997">getRandomSeed</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a2c9e274659748daf59b6e960456cea85">getRandomization</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#ad5726e8c9283b1447b75c3a8c67ffa75">getBlockSizeBytes</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a2b48f2ef758982094ea9fd3a70cf078b">getBlockSizeBits</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a736ae287325afa244eda540419cdd90c">getMemorySizeBytes</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a30259c41e1b009b45c094bccf585dab3">getMemorySizeBits</a> ()</td></tr>
<tr><td colspan="2"><h2>Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classProfiler.html">Profiler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#ad0e39538c0dbbe770d4c19025103b39a">m_profiler</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMemoryVector.html">MemoryVector</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a107b799e6f2f820a02d25dc1ba6f7014">m_mem_vec</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#ae9051ba7e9770f4a2be7a20f6f185e86">m_warmup_enabled</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a89b41c4f399369eb42a580d0c32a7c0b">m_cooldown_enabled</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCacheRecorder.html">CacheRecorder</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a12cc73bd44b03600f54d4ca386f7bc20">m_cache_recorder</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classSparseMemory.html">SparseMemory</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a808eab8032db5c7032a0b805fbb77351">m_sparse_memory_vector</a></td></tr>
<tr><td colspan="2"><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a273c873452012ea56ae230db703d5c53">RubySystem</a> (const <a class="el" href="classRubySystem.html">RubySystem</a> &amp;obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRubySystem.html">RubySystem</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a58b52a9b6b16a43dede7354145249435">operator=</a> (const <a class="el" href="classRubySystem.html">RubySystem</a> &amp;obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a94173d52d87090e6088f923496535c1d">readCompressedTrace</a> (std::string filename, uint8_t *&amp;raw_data, <a class="el" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> &amp;uncompressed_trace_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a158f1a4484dab34bceeee8cb54501ced">writeCompressedTrace</a> (uint8_t *raw_data, std::string file, <a class="el" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> uncompressed_trace_size)</td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNetwork.html">Network</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a9ee1ed03705a87b18e7244ead083c182">m_network</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classMemoryControl.html">MemoryControl</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a666fa896076bf9fd8b1e86b823fc36b5">m_memory_controller_vec</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classAbstractController.html">AbstractController</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#adb7cc2941698a199e44de621cf24f868">m_abs_cntrl_vec</a></td></tr>
<tr><td colspan="2"><h2>Static Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#af65ef68d40faf23fe1e78331e0447958">m_random_seed</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#aa846ca9467116a26a879dc4b262cf36a">m_randomization</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a6ffc54d275164accb6a789f59f228ee1">m_block_size_bytes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a138d3bdf8b6cd953f0bf8634db379365">m_block_size_bits</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#af9b18a9cc774821d72777f50821b4429">m_memory_size_bytes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#afcfee986c39619dff25c7e96187708c0">m_memory_size_bits</a></td></tr>
<tr><td colspan="2"><h2>フレンド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRubySystem.html#a384b2b27e44aae348fc2c459a78d4a90">RubyEvent</a></td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="af3998ceb414058e5e416b8b239698858"></a><!-- doxytag: member="RubySystem::Params" ref="af3998ceb414058e5e416b8b239698858" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef RubySystemParams <a class="el" href="classRubySystem.html#af3998ceb414058e5e416b8b239698858">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSimObject.html#a0f0761d2db586a23bb2a2880b8f387bb">SimObject</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a84ecac2914c133c0db81fe28405e815b"></a><!-- doxytag: member="RubySystem::RubySystem" ref="a84ecac2914c133c0db81fe28405e815b" args="(const Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRubySystem.html">RubySystem</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRubySystem.html#af3998ceb414058e5e416b8b239698858">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00054"></a>00054     : <a class="code" href="classClockedObject.html#a92f78d5c8554a264a3b22b90b452de45">ClockedObject</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>)
<a name="l00055"></a>00055 {
<a name="l00056"></a>00056     <span class="keywordflow">if</span> (<a class="code" href="Global_8cc.html#ac7631ed7c7cc138c40a9e88e38d0ecb1">g_system_ptr</a> != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>)
<a name="l00057"></a>00057         <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;Only one RubySystem object currently allowed.\n&quot;</span>);
<a name="l00058"></a>00058 
<a name="l00059"></a>00059     <a class="code" href="classRubySystem.html#af65ef68d40faf23fe1e78331e0447958">m_random_seed</a> = <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;random_seed;
<a name="l00060"></a>00060     srandom(<a class="code" href="classRubySystem.html#af65ef68d40faf23fe1e78331e0447958">m_random_seed</a>);
<a name="l00061"></a>00061     <a class="code" href="classRubySystem.html#aa846ca9467116a26a879dc4b262cf36a">m_randomization</a> = <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;randomization;
<a name="l00062"></a>00062 
<a name="l00063"></a>00063     <a class="code" href="classRubySystem.html#a6ffc54d275164accb6a789f59f228ee1">m_block_size_bytes</a> = <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;block_size_bytes;
<a name="l00064"></a>00064     assert(<a class="code" href="intmath_8hh.html#aa73a8269f3cc1853f96c7a9210f61f0e">isPowerOf2</a>(<a class="code" href="classRubySystem.html#a6ffc54d275164accb6a789f59f228ee1">m_block_size_bytes</a>));
<a name="l00065"></a>00065     <a class="code" href="classRubySystem.html#a138d3bdf8b6cd953f0bf8634db379365">m_block_size_bits</a> = <a class="code" href="intmath_8hh.html#ad61f5307b84292529da332fee695614e">floorLog2</a>(<a class="code" href="classRubySystem.html#a6ffc54d275164accb6a789f59f228ee1">m_block_size_bytes</a>);
<a name="l00066"></a>00066 
<a name="l00067"></a>00067     <a class="code" href="classRubySystem.html#af9b18a9cc774821d72777f50821b4429">m_memory_size_bytes</a> = <a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;mem_size;
<a name="l00068"></a>00068     <span class="keywordflow">if</span> (<a class="code" href="classRubySystem.html#af9b18a9cc774821d72777f50821b4429">m_memory_size_bytes</a> == 0) {
<a name="l00069"></a>00069         <a class="code" href="classRubySystem.html#afcfee986c39619dff25c7e96187708c0">m_memory_size_bits</a> = 0;
<a name="l00070"></a>00070     } <span class="keywordflow">else</span> {
<a name="l00071"></a>00071         <a class="code" href="classRubySystem.html#afcfee986c39619dff25c7e96187708c0">m_memory_size_bits</a> = <a class="code" href="intmath_8hh.html#a0ec4eaea50888f737b803dc9427614bf">ceilLog2</a>(<a class="code" href="classRubySystem.html#af9b18a9cc774821d72777f50821b4429">m_memory_size_bytes</a>);
<a name="l00072"></a>00072     }
<a name="l00073"></a>00073 
<a name="l00074"></a>00074     <span class="keywordflow">if</span> (<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;no_mem_vec) {
<a name="l00075"></a>00075         <a class="code" href="classRubySystem.html#a107b799e6f2f820a02d25dc1ba6f7014">m_mem_vec</a> = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00076"></a>00076     } <span class="keywordflow">else</span> {
<a name="l00077"></a>00077         <a class="code" href="classRubySystem.html#a107b799e6f2f820a02d25dc1ba6f7014">m_mem_vec</a> = <span class="keyword">new</span> <a class="code" href="classMemoryVector.html">MemoryVector</a>;
<a name="l00078"></a>00078         <a class="code" href="classRubySystem.html#a107b799e6f2f820a02d25dc1ba6f7014">m_mem_vec</a>-&gt;<a class="code" href="classMemoryVector.html#a6da191301b562078e345bd2b6399a9a1">resize</a>(<a class="code" href="classRubySystem.html#af9b18a9cc774821d72777f50821b4429">m_memory_size_bytes</a>);
<a name="l00079"></a>00079     }
<a name="l00080"></a>00080 
<a name="l00081"></a>00081     <a class="code" href="classRubySystem.html#ae9051ba7e9770f4a2be7a20f6f185e86">m_warmup_enabled</a> = <span class="keyword">false</span>;
<a name="l00082"></a>00082     <a class="code" href="classRubySystem.html#a89b41c4f399369eb42a580d0c32a7c0b">m_cooldown_enabled</a> = <span class="keyword">false</span>;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084     <span class="comment">// Setup the global variables used in Ruby</span>
<a name="l00085"></a>00085     <a class="code" href="Global_8cc.html#ac7631ed7c7cc138c40a9e88e38d0ecb1">g_system_ptr</a> = <span class="keyword">this</span>;
<a name="l00086"></a>00086 
<a name="l00087"></a>00087     <span class="comment">// Resize to the size of different machine types</span>
<a name="l00088"></a>00088     <a class="code" href="Global_8cc.html#ae116e8a5eee76dbdae3bee3e2c37e56a">g_abs_controls</a>.resize(MachineType_NUM);
<a name="l00089"></a>00089 
<a name="l00090"></a>00090     <span class="comment">// Collate the statistics before they are printed.</span>
<a name="l00091"></a>00091     <a class="code" href="namespaceStats.html#a4530b3818e2e1811b7ad063fe38bedc1">Stats::registerDumpCallback</a>(<span class="keyword">new</span> <a class="code" href="classRubyStatsCallback.html">RubyStatsCallback</a>(<span class="keyword">this</span>));
<a name="l00092"></a>00092     <span class="comment">// Create the profiler</span>
<a name="l00093"></a>00093     <a class="code" href="classRubySystem.html#ad0e39538c0dbbe770d4c19025103b39a">m_profiler</a> = <span class="keyword">new</span> <a class="code" href="classProfiler.html">Profiler</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>);
<a name="l00094"></a>00094 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a335c948aafcd4d981ba75e02f1b33500"></a><!-- doxytag: member="RubySystem::~RubySystem" ref="a335c948aafcd4d981ba75e02f1b33500" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classRubySystem.html">RubySystem</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00123"></a>00123 {
<a name="l00124"></a>00124     <span class="keyword">delete</span> <a class="code" href="classRubySystem.html#a9ee1ed03705a87b18e7244ead083c182">m_network</a>;
<a name="l00125"></a>00125     <span class="keyword">delete</span> <a class="code" href="classRubySystem.html#ad0e39538c0dbbe770d4c19025103b39a">m_profiler</a>;
<a name="l00126"></a>00126     <span class="keywordflow">if</span> (<a class="code" href="classRubySystem.html#a107b799e6f2f820a02d25dc1ba6f7014">m_mem_vec</a>)
<a name="l00127"></a>00127         <span class="keyword">delete</span> <a class="code" href="classRubySystem.html#a107b799e6f2f820a02d25dc1ba6f7014">m_mem_vec</a>;
<a name="l00128"></a>00128 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a273c873452012ea56ae230db703d5c53"></a><!-- doxytag: member="RubySystem::RubySystem" ref="a273c873452012ea56ae230db703d5c53" args="(const RubySystem &amp;obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRubySystem.html">RubySystem</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRubySystem.html">RubySystem</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a208669cbc0bb1d52565956ca8c690c55"></a><!-- doxytag: member="RubySystem::collateStats" ref="a208669cbc0bb1d52565956ca8c690c55" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void collateStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00098"></a>00098 { <a class="code" href="classRubySystem.html#ad0e39538c0dbbe770d4c19025103b39a">m_profiler</a>-&gt;<a class="code" href="classProfiler.html#a208669cbc0bb1d52565956ca8c690c55">collateStats</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a14b5a6783cc1c4f01aef58ab8ddaf46e"></a><!-- doxytag: member="RubySystem::enqueueRubyEvent" ref="a14b5a6783cc1c4f01aef58ab8ddaf46e" args="(Tick tick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void enqueueRubyEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td>
          <td class="paramname"> <em>tick</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00115"></a>00115     {
<a name="l00116"></a>00116         <a class="code" href="classRubySystem.html#a384b2b27e44aae348fc2c459a78d4a90">RubyEvent</a>* <a class="code" href="namespaceArmISA.html#a55520507919005a961edbe8b177f3bba">e</a> = <span class="keyword">new</span> <a class="code" href="classRubySystem.html#a384b2b27e44aae348fc2c459a78d4a90">RubyEvent</a>(<span class="keyword">this</span>);
<a name="l00117"></a>00117         <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(e, <a class="code" href="classClockedObject.html#a4daae57fbf09ee5423d123f5ce330e92">tick</a>);
<a name="l00118"></a>00118     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a89b51bcc3a463cd78acf62b3fc66288f"></a><!-- doxytag: member="RubySystem::eventQueueEmpty" ref="a89b51bcc3a463cd78acf62b3fc66288f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eventQueueEmpty </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00113"></a>00113 { <span class="keywordflow">return</span> <a class="code" href="classEventManager.html#acfd644007a0f188b7f221e67a6b453aa">eventq</a>-&gt;<a class="code" href="classEventQueue.html#ac6e61de369e994009e36f344f99c15ad">empty</a>(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9fece07bc06f16d7c5190f08e42f5359"></a><!-- doxytag: member="RubySystem::functionalRead" ref="a9fece07bc06f16d7c5190f08e42f5359" args="(Packet *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool functionalRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af751326b50cd1150f91ec688d9336ffc"></a><!-- doxytag: member="RubySystem::functionalWrite" ref="af751326b50cd1150f91ec688d9336ffc" args="(Packet *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool functionalWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2b48f2ef758982094ea9fd3a70cf078b"></a><!-- doxytag: member="RubySystem::getBlockSizeBits" ref="a2b48f2ef758982094ea9fd3a70cf078b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> getBlockSizeBits </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00078"></a>00078 { <span class="keywordflow">return</span> <a class="code" href="classRubySystem.html#a138d3bdf8b6cd953f0bf8634db379365">m_block_size_bits</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad5726e8c9283b1447b75c3a8c67ffa75"></a><!-- doxytag: member="RubySystem::getBlockSizeBytes" ref="ad5726e8c9283b1447b75c3a8c67ffa75" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> getBlockSizeBytes </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00077"></a>00077 { <span class="keywordflow">return</span> <a class="code" href="classRubySystem.html#a6ffc54d275164accb6a789f59f228ee1">m_block_size_bytes</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a30259c41e1b009b45c094bccf585dab3"></a><!-- doxytag: member="RubySystem::getMemorySizeBits" ref="a30259c41e1b009b45c094bccf585dab3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> getMemorySizeBits </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00080"></a>00080 { <span class="keywordflow">return</span> <a class="code" href="classRubySystem.html#afcfee986c39619dff25c7e96187708c0">m_memory_size_bits</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a736ae287325afa244eda540419cdd90c"></a><!-- doxytag: member="RubySystem::getMemorySizeBytes" ref="a736ae287325afa244eda540419cdd90c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t getMemorySizeBytes </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00079"></a>00079 { <span class="keywordflow">return</span> <a class="code" href="classRubySystem.html#af9b18a9cc774821d72777f50821b4429">m_memory_size_bytes</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aae1baebbd770dbbcf63259f5053681ea"></a><!-- doxytag: member="RubySystem::getMemoryVector" ref="aae1baebbd770dbbcf63259f5053681ea" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMemoryVector.html">MemoryVector</a>* getMemoryVector </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00092"></a>00092     {
<a name="l00093"></a>00093         assert(<a class="code" href="classRubySystem.html#a107b799e6f2f820a02d25dc1ba6f7014">m_mem_vec</a> != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00094"></a>00094         <span class="keywordflow">return</span> <a class="code" href="classRubySystem.html#a107b799e6f2f820a02d25dc1ba6f7014">m_mem_vec</a>;
<a name="l00095"></a>00095     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1dc2a271b826284445c889f60c62b2fb"></a><!-- doxytag: member="RubySystem::getProfiler" ref="a1dc2a271b826284445c889f60c62b2fb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classProfiler.html">Profiler</a>* getProfiler </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00085"></a>00085     {
<a name="l00086"></a>00086         assert(<a class="code" href="classRubySystem.html#ad0e39538c0dbbe770d4c19025103b39a">m_profiler</a> != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00087"></a>00087         <span class="keywordflow">return</span> <a class="code" href="classRubySystem.html#ad0e39538c0dbbe770d4c19025103b39a">m_profiler</a>;
<a name="l00088"></a>00088     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2c9e274659748daf59b6e960456cea85"></a><!-- doxytag: member="RubySystem::getRandomization" ref="a2c9e274659748daf59b6e960456cea85" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int getRandomization </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00076"></a>00076 { <span class="keywordflow">return</span> <a class="code" href="classRubySystem.html#aa846ca9467116a26a879dc4b262cf36a">m_randomization</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aed9d96608b2dca650ff1cece99ace997"></a><!-- doxytag: member="RubySystem::getRandomSeed" ref="aed9d96608b2dca650ff1cece99ace997" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int getRandomSeed </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00075"></a>00075 { <span class="keywordflow">return</span> <a class="code" href="classRubySystem.html#af65ef68d40faf23fe1e78331e0447958">m_random_seed</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a58b52a9b6b16a43dede7354145249435"></a><!-- doxytag: member="RubySystem::operator=" ref="a58b52a9b6b16a43dede7354145249435" args="(const RubySystem &amp;obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRubySystem.html">RubySystem</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRubySystem.html">RubySystem</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e9c5136d19b1a95fc427e0852deab5c"></a><!-- doxytag: member="RubySystem::process" ref="a2e9c5136d19b1a95fc427e0852deab5c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a94173d52d87090e6088f923496535c1d"></a><!-- doxytag: member="RubySystem::readCompressedTrace" ref="a94173d52d87090e6088f923496535c1d" args="(std::string filename, uint8_t *&amp;raw_data, uint64 &amp;uncompressed_trace_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void readCompressedTrace </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&amp;&nbsp;</td>
          <td class="paramname"> <em>raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>uncompressed_trace_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab7d5364ddbfcfd86ca9a47684f12c162"></a><!-- doxytag: member="RubySystem::registerAbstractController" ref="ab7d5364ddbfcfd86ca9a47684f12c162" args="(AbstractController *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void registerAbstractController </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAbstractController.html">AbstractController</a> *&nbsp;</td>
          <td class="paramname"> <em>cntrl</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00104"></a>00104 {
<a name="l00105"></a>00105   <a class="code" href="classRubySystem.html#adb7cc2941698a199e44de621cf24f868">m_abs_cntrl_vec</a>.push_back(cntrl);
<a name="l00106"></a>00106 
<a name="l00107"></a>00107   <a class="code" href="structMachineID.html">MachineID</a> <span class="keywordtype">id</span> = cntrl-&gt;<a class="code" href="classAbstractController.html#abaec6aa0c0c0f1d34472f0b3702d86c4">getMachineID</a>();
<a name="l00108"></a>00108   <a class="code" href="Global_8cc.html#ae116e8a5eee76dbdae3bee3e2c37e56a">g_abs_controls</a>[<span class="keywordtype">id</span>.getType()][<span class="keywordtype">id</span>.getNum()] = cntrl;
<a name="l00109"></a>00109 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac9de1de608e144dd7905a56770e60bfc"></a><!-- doxytag: member="RubySystem::registerMemController" ref="ac9de1de608e144dd7905a56770e60bfc" args="(MemoryControl *mc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void registerMemController </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMemoryControl.html">MemoryControl</a> *&nbsp;</td>
          <td class="paramname"> <em>mc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00118"></a>00118                                                    {
<a name="l00119"></a>00119     <a class="code" href="classRubySystem.html#a666fa896076bf9fd8b1e86b823fc36b5">m_memory_controller_vec</a>.push_back(mc);
<a name="l00120"></a>00120 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac1a2d2ecf9164e8b3e11b461abab8521"></a><!-- doxytag: member="RubySystem::registerNetwork" ref="ac1a2d2ecf9164e8b3e11b461abab8521" args="(Network *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void registerNetwork </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNetwork.html">Network</a> *&nbsp;</td>
          <td class="paramname"> <em>network_ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00098"></a>00098 {
<a name="l00099"></a>00099   <a class="code" href="classRubySystem.html#a9ee1ed03705a87b18e7244ead083c182">m_network</a> = network_ptr;
<a name="l00100"></a>00100 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7eb79d5477e1c2026d9b1d8b6e26112b"></a><!-- doxytag: member="RubySystem::registerSparseMemory" ref="a7eb79d5477e1c2026d9b1d8b6e26112b" args="(SparseMemory *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void registerSparseMemory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSparseMemory.html">SparseMemory</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00113"></a>00113 {
<a name="l00114"></a>00114     <a class="code" href="classRubySystem.html#a808eab8032db5c7032a0b805fbb77351">m_sparse_memory_vector</a>.push_back(s);
<a name="l00115"></a>00115 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4dc637449366fcdfc4e764cdf12d9b11"></a><!-- doxytag: member="RubySystem::regStats" ref="a4dc637449366fcdfc4e764cdf12d9b11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void regStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRegister.html">Register</a> statistics for this object. </p>

<p><a class="el" href="classSimObject.html#a4dc637449366fcdfc4e764cdf12d9b11">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00097"></a>00097 { <a class="code" href="classRubySystem.html#ad0e39538c0dbbe770d4c19025103b39a">m_profiler</a>-&gt;<a class="code" href="classProfiler.html#a3dd3443357312bcb75580eaa508c48a4">regStats</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>()); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a65880e61108132689a1bd769b9187fb7"></a><!-- doxytag: member="RubySystem::resetStats" ref="a65880e61108132689a1bd769b9187fb7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset statistics associated with this object. </p>

<p><a class="el" href="classSimObject.html#a65880e61108132689a1bd769b9187fb7">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00404"></a>00404 {
<a name="l00405"></a>00405     <a class="code" href="Global_8cc.html#aa69be22cc9024a302f0883584fe87eea">g_ruby_start</a> = <a class="code" href="classClockedObject.html#a3f6dfa1d3e7cd47666433b6caa4d34d6">curCycle</a>();
<a name="l00406"></a>00406 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53e036786d17361be4c7320d39c99b84"></a><!-- doxytag: member="RubySystem::serialize" ref="a53e036786d17361be4c7320d39c99b84" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#ad6272f80ae37e8331e3969b3f072a801">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00161"></a>00161 {
<a name="l00162"></a>00162     <a class="code" href="classRubySystem.html#a89b41c4f399369eb42a580d0c32a7c0b">m_cooldown_enabled</a> = <span class="keyword">true</span>;
<a name="l00163"></a>00163 
<a name="l00164"></a>00164     <a class="code" href="classstd_1_1vector.html">vector&lt;Sequencer*&gt;</a> sequencer_map;
<a name="l00165"></a>00165     <a class="code" href="classSequencer.html">Sequencer</a>* sequencer_ptr = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00166"></a>00166     <span class="keywordtype">int</span> cntrl_id = -1;
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 
<a name="l00169"></a>00169     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cntrl = 0; cntrl &lt; <a class="code" href="classRubySystem.html#adb7cc2941698a199e44de621cf24f868">m_abs_cntrl_vec</a>.size(); cntrl++) {
<a name="l00170"></a>00170         sequencer_map.push_back(<a class="code" href="classRubySystem.html#adb7cc2941698a199e44de621cf24f868">m_abs_cntrl_vec</a>[cntrl]-&gt;getSequencer());
<a name="l00171"></a>00171         <span class="keywordflow">if</span> (sequencer_ptr == <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>) {
<a name="l00172"></a>00172             sequencer_ptr = sequencer_map[cntrl];
<a name="l00173"></a>00173             cntrl_id = cntrl;
<a name="l00174"></a>00174         }
<a name="l00175"></a>00175     }
<a name="l00176"></a>00176 
<a name="l00177"></a>00177     assert(sequencer_ptr != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00178"></a>00178 
<a name="l00179"></a>00179     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cntrl = 0; cntrl &lt; <a class="code" href="classRubySystem.html#adb7cc2941698a199e44de621cf24f868">m_abs_cntrl_vec</a>.size(); cntrl++) {
<a name="l00180"></a>00180         <span class="keywordflow">if</span> (sequencer_map[cntrl] == <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>) {
<a name="l00181"></a>00181             sequencer_map[cntrl] = sequencer_ptr;
<a name="l00182"></a>00182         }
<a name="l00183"></a>00183     }
<a name="l00184"></a>00184 
<a name="l00185"></a>00185     <span class="comment">// Store the cache-block size, so we are able to restore on systems with a</span>
<a name="l00186"></a>00186     <span class="comment">// different cache-block size. CacheRecorder depends on the correct</span>
<a name="l00187"></a>00187     <span class="comment">// cache-block size upon unserializing.</span>
<a name="l00188"></a>00188     <a class="code" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> block_size_bytes = <a class="code" href="classRubySystem.html#ad5726e8c9283b1447b75c3a8c67ffa75">getBlockSizeBytes</a>();
<a name="l00189"></a>00189     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(block_size_bytes);
<a name="l00190"></a>00190 
<a name="l00191"></a>00191     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCacheTrace, <span class="stringliteral">&quot;Recording Cache Trace\n&quot;</span>);
<a name="l00192"></a>00192     <span class="comment">// Create the CacheRecorder and record the cache trace</span>
<a name="l00193"></a>00193     <a class="code" href="classRubySystem.html#a12cc73bd44b03600f54d4ca386f7bc20">m_cache_recorder</a> = <span class="keyword">new</span> <a class="code" href="classCacheRecorder.html">CacheRecorder</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>, 0, sequencer_map,
<a name="l00194"></a>00194                                          block_size_bytes);
<a name="l00195"></a>00195 
<a name="l00196"></a>00196     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cntrl = 0; cntrl &lt; <a class="code" href="classRubySystem.html#adb7cc2941698a199e44de621cf24f868">m_abs_cntrl_vec</a>.size(); cntrl++) {
<a name="l00197"></a>00197         <a class="code" href="classRubySystem.html#adb7cc2941698a199e44de621cf24f868">m_abs_cntrl_vec</a>[cntrl]-&gt;recordCacheTrace(cntrl, <a class="code" href="classRubySystem.html#a12cc73bd44b03600f54d4ca386f7bc20">m_cache_recorder</a>);
<a name="l00198"></a>00198     }
<a name="l00199"></a>00199 
<a name="l00200"></a>00200     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCacheTrace, <span class="stringliteral">&quot;Cache Trace Complete\n&quot;</span>);
<a name="l00201"></a>00201     <span class="comment">// save the current tick value</span>
<a name="l00202"></a>00202     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> curtick_original = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>();
<a name="l00203"></a>00203     <span class="comment">// save the event queue head</span>
<a name="l00204"></a>00204     Event* eventq_head = <a class="code" href="classEventManager.html#acfd644007a0f188b7f221e67a6b453aa">eventq</a>-&gt;<a class="code" href="classEventQueue.html#a1c4b36385e86f178f625f84d95cb6778">replaceHead</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00205"></a>00205     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCacheTrace, <span class="stringliteral">&quot;Recording current tick %ld and event queue\n&quot;</span>,
<a name="l00206"></a>00206             curtick_original);
<a name="l00207"></a>00207 
<a name="l00208"></a>00208     <span class="comment">// Schedule an event to start cache cooldown</span>
<a name="l00209"></a>00209     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCacheTrace, <span class="stringliteral">&quot;Starting cache flush\n&quot;</span>);
<a name="l00210"></a>00210     <a class="code" href="classRubySystem.html#a14b5a6783cc1c4f01aef58ab8ddaf46e">enqueueRubyEvent</a>(<a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>());
<a name="l00211"></a>00211     <a class="code" href="namespacem5_1_1simulate.html#a3bf1ccb8f6c13411a277600326562f5c">simulate</a>();
<a name="l00212"></a>00212     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyCacheTrace, <span class="stringliteral">&quot;Cache flush complete\n&quot;</span>);
<a name="l00213"></a>00213 
<a name="l00214"></a>00214     <span class="comment">// Restore eventq head</span>
<a name="l00215"></a>00215     eventq_head = <a class="code" href="classEventManager.html#acfd644007a0f188b7f221e67a6b453aa">eventq</a>-&gt;<a class="code" href="classEventQueue.html#a1c4b36385e86f178f625f84d95cb6778">replaceHead</a>(eventq_head);
<a name="l00216"></a>00216     <span class="comment">// Restore curTick</span>
<a name="l00217"></a>00217     <a class="code" href="classEventManager.html#abc2f41fbb4828612a2637268ab8ce640">setCurTick</a>(curtick_original);
<a name="l00218"></a>00218 
<a name="l00219"></a>00219     uint8_t *raw_data = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00220"></a>00220 
<a name="l00221"></a>00221     <span class="keywordflow">if</span> (<a class="code" href="classRubySystem.html#a107b799e6f2f820a02d25dc1ba6f7014">m_mem_vec</a> != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>) {
<a name="l00222"></a>00222         <a class="code" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> memory_trace_size = <a class="code" href="classRubySystem.html#a107b799e6f2f820a02d25dc1ba6f7014">m_mem_vec</a>-&gt;<a class="code" href="classMemoryVector.html#a8b98a578a2b3755a5a07c42ff4475c24">collatePages</a>(raw_data);
<a name="l00223"></a>00223 
<a name="l00224"></a>00224         <span class="keywordtype">string</span> memory_trace_file = <a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.memory.gz&quot;</span>;
<a name="l00225"></a>00225         <a class="code" href="classRubySystem.html#a158f1a4484dab34bceeee8cb54501ced">writeCompressedTrace</a>(raw_data, memory_trace_file,
<a name="l00226"></a>00226                              memory_trace_size);
<a name="l00227"></a>00227 
<a name="l00228"></a>00228         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(memory_trace_file);
<a name="l00229"></a>00229         <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(memory_trace_size);
<a name="l00230"></a>00230 
<a name="l00231"></a>00231     } <span class="keywordflow">else</span> {
<a name="l00232"></a>00232         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classRubySystem.html#a808eab8032db5c7032a0b805fbb77351">m_sparse_memory_vector</a>.size(); ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00233"></a>00233             <a class="code" href="classRubySystem.html#a808eab8032db5c7032a0b805fbb77351">m_sparse_memory_vector</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;recordBlocks(cntrl_id,
<a name="l00234"></a>00234                                                     <a class="code" href="classRubySystem.html#a12cc73bd44b03600f54d4ca386f7bc20">m_cache_recorder</a>);
<a name="l00235"></a>00235         }
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238     <span class="comment">// Aggergate the trace entries together into a single array</span>
<a name="l00239"></a>00239     raw_data = <span class="keyword">new</span> uint8_t[4096];
<a name="l00240"></a>00240     <a class="code" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> cache_trace_size = <a class="code" href="classRubySystem.html#a12cc73bd44b03600f54d4ca386f7bc20">m_cache_recorder</a>-&gt;<a class="code" href="classCacheRecorder.html#a6ae226d7f41b789f69be6b38862f9f60">aggregateRecords</a>(&amp;raw_data,
<a name="l00241"></a>00241                                                                  4096);
<a name="l00242"></a>00242     <span class="keywordtype">string</span> cache_trace_file = <a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.cache.gz&quot;</span>;
<a name="l00243"></a>00243     <a class="code" href="classRubySystem.html#a158f1a4484dab34bceeee8cb54501ced">writeCompressedTrace</a>(raw_data, cache_trace_file, cache_trace_size);
<a name="l00244"></a>00244 
<a name="l00245"></a>00245     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(cache_trace_file);
<a name="l00246"></a>00246     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(cache_trace_size);
<a name="l00247"></a>00247 
<a name="l00248"></a>00248     <a class="code" href="classRubySystem.html#a89b41c4f399369eb42a580d0c32a7c0b">m_cooldown_enabled</a> = <span class="keyword">false</span>;
<a name="l00249"></a>00249 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aecc7d8debf54990ffeaaed5bac7d7d81"></a><!-- doxytag: member="RubySystem::startup" ref="aecc7d8debf54990ffeaaed5bac7d7d81" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void startup </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRubySystem.html#aecc7d8debf54990ffeaaed5bac7d7d81">startup()</a> is the final initialization call before simulation. All state is initialized (including unserialized state, if any, such as the <a class="el" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick()</a> value), so this is the appropriate place to schedule initial event(s) for objects that need them. </p>

<p><a class="el" href="classSimObject.html#aecc7d8debf54990ffeaaed5bac7d7d81">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00341"></a>00341 {
<a name="l00342"></a>00342 
<a name="l00343"></a>00343     <span class="comment">// Ruby restores state from a checkpoint by resetting the clock to 0 and</span>
<a name="l00344"></a>00344     <span class="comment">// playing the requests that can possibly re-generate the cache state.</span>
<a name="l00345"></a>00345     <span class="comment">// The clock value is set to the actual checkpointed value once all the</span>
<a name="l00346"></a>00346     <span class="comment">// requests have been executed.</span>
<a name="l00347"></a>00347     <span class="comment">//</span>
<a name="l00348"></a>00348     <span class="comment">// This way of restoring state is pretty finicky. For example, if a</span>
<a name="l00349"></a>00349     <span class="comment">// Ruby component reads time before the state has been restored, it would</span>
<a name="l00350"></a>00350     <span class="comment">// cache this value and hence its clock would not be reset to 0, when</span>
<a name="l00351"></a>00351     <span class="comment">// Ruby resets the global clock. This can potentially result in a</span>
<a name="l00352"></a>00352     <span class="comment">// deadlock.</span>
<a name="l00353"></a>00353     <span class="comment">//</span>
<a name="l00354"></a>00354     <span class="comment">// The solution is that no Ruby component should read time before the</span>
<a name="l00355"></a>00355     <span class="comment">// simulation starts. And then one also needs to hope that the time</span>
<a name="l00356"></a>00356     <span class="comment">// Ruby finishes restoring the state is less than the time when the</span>
<a name="l00357"></a>00357     <span class="comment">// state was checkpointed.</span>
<a name="l00358"></a>00358 
<a name="l00359"></a>00359     <span class="keywordflow">if</span> (<a class="code" href="classRubySystem.html#ae9051ba7e9770f4a2be7a20f6f185e86">m_warmup_enabled</a>) {
<a name="l00360"></a>00360         <span class="comment">// save the current tick value</span>
<a name="l00361"></a>00361         <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> curtick_original = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>();
<a name="l00362"></a>00362         <span class="comment">// save the event queue head</span>
<a name="l00363"></a>00363         Event* eventq_head = <a class="code" href="classEventManager.html#acfd644007a0f188b7f221e67a6b453aa">eventq</a>-&gt;<a class="code" href="classEventQueue.html#a1c4b36385e86f178f625f84d95cb6778">replaceHead</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00364"></a>00364         <span class="comment">// set curTick to 0 and reset Ruby System&apos;s clock</span>
<a name="l00365"></a>00365         <a class="code" href="classEventManager.html#abc2f41fbb4828612a2637268ab8ce640">setCurTick</a>(0);
<a name="l00366"></a>00366         <a class="code" href="classClockedObject.html#a7c7c8afaf47b89e48578fabd1ce491da">resetClock</a>();
<a name="l00367"></a>00367 
<a name="l00368"></a>00368         <span class="comment">// Schedule an event to start cache warmup</span>
<a name="l00369"></a>00369         <a class="code" href="classRubySystem.html#a14b5a6783cc1c4f01aef58ab8ddaf46e">enqueueRubyEvent</a>(<a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>());
<a name="l00370"></a>00370         <a class="code" href="namespacem5_1_1simulate.html#a3bf1ccb8f6c13411a277600326562f5c">simulate</a>();
<a name="l00371"></a>00371 
<a name="l00372"></a>00372         <span class="keyword">delete</span> <a class="code" href="classRubySystem.html#a12cc73bd44b03600f54d4ca386f7bc20">m_cache_recorder</a>;
<a name="l00373"></a>00373         <a class="code" href="classRubySystem.html#a12cc73bd44b03600f54d4ca386f7bc20">m_cache_recorder</a> = <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00374"></a>00374         <a class="code" href="classRubySystem.html#ae9051ba7e9770f4a2be7a20f6f185e86">m_warmup_enabled</a> = <span class="keyword">false</span>;
<a name="l00375"></a>00375 
<a name="l00376"></a>00376         <span class="comment">// reset DRAM so that it&apos;s not waiting for events on the old event</span>
<a name="l00377"></a>00377         <span class="comment">// queue</span>
<a name="l00378"></a>00378         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classRubySystem.html#a666fa896076bf9fd8b1e86b823fc36b5">m_memory_controller_vec</a>.size(); ++<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>) {
<a name="l00379"></a>00379             <a class="code" href="classRubySystem.html#a666fa896076bf9fd8b1e86b823fc36b5">m_memory_controller_vec</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;reset();
<a name="l00380"></a>00380         }
<a name="l00381"></a>00381 
<a name="l00382"></a>00382         <span class="comment">// Restore eventq head</span>
<a name="l00383"></a>00383         eventq_head = <a class="code" href="classEventManager.html#acfd644007a0f188b7f221e67a6b453aa">eventq</a>-&gt;<a class="code" href="classEventQueue.html#a1c4b36385e86f178f625f84d95cb6778">replaceHead</a>(eventq_head);
<a name="l00384"></a>00384         <span class="comment">// Restore curTick and Ruby System&apos;s clock</span>
<a name="l00385"></a>00385         <a class="code" href="classEventManager.html#abc2f41fbb4828612a2637268ab8ce640">setCurTick</a>(curtick_original);
<a name="l00386"></a>00386         <a class="code" href="classClockedObject.html#a7c7c8afaf47b89e48578fabd1ce491da">resetClock</a>();
<a name="l00387"></a>00387     }
<a name="l00388"></a>00388 
<a name="l00389"></a>00389     <a class="code" href="classRubySystem.html#a65880e61108132689a1bd769b9187fb7">resetStats</a>();
<a name="l00390"></a>00390 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af22e5d6d660b97db37003ac61ac4ee49"></a><!-- doxytag: member="RubySystem::unserialize" ref="af22e5d6d660b97db37003ac61ac4ee49" args="(Checkpoint *cp, const std::string &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#af100c4e9feabf3cd918619c88c718387">Serializable</a>を再定義しています。</p>

</div>
</div>
<a class="anchor" id="a158f1a4484dab34bceeee8cb54501ced"></a><!-- doxytag: member="RubySystem::writeCompressedTrace" ref="a158f1a4484dab34bceeee8cb54501ced" args="(uint8_t *raw_data, std::string file, uint64 uncompressed_trace_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeCompressedTrace </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="TypeDefines_8hh.html#a29940ae63ec06c9998bba873e25407ad">uint64</a>&nbsp;</td>
          <td class="paramname"> <em>uncompressed_trace_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>フレンドと関連する関数</h2>
<a class="anchor" id="a384b2b27e44aae348fc2c459a78d4a90"></a><!-- doxytag: member="RubySystem::RubyEvent" ref="a384b2b27e44aae348fc2c459a78d4a90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classRubySystem_1_1RubyEvent.html">RubyEvent</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="adb7cc2941698a199e44de621cf24f868"></a><!-- doxytag: member="RubySystem::m_abs_cntrl_vec" ref="adb7cc2941698a199e44de621cf24f868" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classAbstractController.html">AbstractController</a> *&gt; <a class="el" href="classRubySystem.html#adb7cc2941698a199e44de621cf24f868">m_abs_cntrl_vec</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a138d3bdf8b6cd953f0bf8634db379365"></a><!-- doxytag: member="RubySystem::m_block_size_bits" ref="a138d3bdf8b6cd953f0bf8634db379365" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classRubySystem.html#a138d3bdf8b6cd953f0bf8634db379365">m_block_size_bits</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6ffc54d275164accb6a789f59f228ee1"></a><!-- doxytag: member="RubySystem::m_block_size_bytes" ref="a6ffc54d275164accb6a789f59f228ee1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classRubySystem.html#a6ffc54d275164accb6a789f59f228ee1">m_block_size_bytes</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a12cc73bd44b03600f54d4ca386f7bc20"></a><!-- doxytag: member="RubySystem::m_cache_recorder" ref="a12cc73bd44b03600f54d4ca386f7bc20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCacheRecorder.html">CacheRecorder</a>* <a class="el" href="classRubySystem.html#a12cc73bd44b03600f54d4ca386f7bc20">m_cache_recorder</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a89b41c4f399369eb42a580d0c32a7c0b"></a><!-- doxytag: member="RubySystem::m_cooldown_enabled" ref="a89b41c4f399369eb42a580d0c32a7c0b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classRubySystem.html#a89b41c4f399369eb42a580d0c32a7c0b">m_cooldown_enabled</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a107b799e6f2f820a02d25dc1ba6f7014"></a><!-- doxytag: member="RubySystem::m_mem_vec" ref="a107b799e6f2f820a02d25dc1ba6f7014" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMemoryVector.html">MemoryVector</a>* <a class="el" href="classRubySystem.html#a107b799e6f2f820a02d25dc1ba6f7014">m_mem_vec</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a666fa896076bf9fd8b1e86b823fc36b5"></a><!-- doxytag: member="RubySystem::m_memory_controller_vec" ref="a666fa896076bf9fd8b1e86b823fc36b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classMemoryControl.html">MemoryControl</a> *&gt; <a class="el" href="classRubySystem.html#a666fa896076bf9fd8b1e86b823fc36b5">m_memory_controller_vec</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afcfee986c39619dff25c7e96187708c0"></a><!-- doxytag: member="RubySystem::m_memory_size_bits" ref="afcfee986c39619dff25c7e96187708c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classRubySystem.html#afcfee986c39619dff25c7e96187708c0">m_memory_size_bits</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af9b18a9cc774821d72777f50821b4429"></a><!-- doxytag: member="RubySystem::m_memory_size_bytes" ref="af9b18a9cc774821d72777f50821b4429" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classRubySystem.html#af9b18a9cc774821d72777f50821b4429">m_memory_size_bytes</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9ee1ed03705a87b18e7244ead083c182"></a><!-- doxytag: member="RubySystem::m_network" ref="a9ee1ed03705a87b18e7244ead083c182" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNetwork.html">Network</a>* <a class="el" href="classRubySystem.html#a9ee1ed03705a87b18e7244ead083c182">m_network</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad0e39538c0dbbe770d4c19025103b39a"></a><!-- doxytag: member="RubySystem::m_profiler" ref="ad0e39538c0dbbe770d4c19025103b39a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classProfiler.html">Profiler</a>* <a class="el" href="classRubySystem.html#ad0e39538c0dbbe770d4c19025103b39a">m_profiler</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af65ef68d40faf23fe1e78331e0447958"></a><!-- doxytag: member="RubySystem::m_random_seed" ref="af65ef68d40faf23fe1e78331e0447958" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRubySystem.html#af65ef68d40faf23fe1e78331e0447958">m_random_seed</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa846ca9467116a26a879dc4b262cf36a"></a><!-- doxytag: member="RubySystem::m_randomization" ref="aa846ca9467116a26a879dc4b262cf36a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classRubySystem.html#aa846ca9467116a26a879dc4b262cf36a">m_randomization</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a808eab8032db5c7032a0b805fbb77351"></a><!-- doxytag: member="RubySystem::m_sparse_memory_vector" ref="a808eab8032db5c7032a0b805fbb77351" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classSparseMemory.html">SparseMemory</a>*&gt; <a class="el" href="classRubySystem.html#a808eab8032db5c7032a0b805fbb77351">m_sparse_memory_vector</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9051ba7e9770f4a2be7a20f6f185e86"></a><!-- doxytag: member="RubySystem::m_warmup_enabled" ref="ae9051ba7e9770f4a2be7a20f6f185e86" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classRubySystem.html#ae9051ba7e9770f4a2be7a20f6f185e86">m_warmup_enabled</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>mem/ruby/system/<a class="el" href="System_8hh_source.html">System.hh</a></li>
<li>mem/ruby/system/<a class="el" href="System_8cc.html">System.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
