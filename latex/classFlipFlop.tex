\hypertarget{classFlipFlop}{
\section{クラス FlipFlop}
\label{classFlipFlop}\index{FlipFlop@{FlipFlop}}
}


{\ttfamily \#include $<$FlipFlop.hh$>$}\subsection*{Public 型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classFlipFlop_a56818e5d3e33fce7656b2034c4456fa1}{FFModel} \{ \hyperlink{classFlipFlop_a56818e5d3e33fce7656b2034c4456fa1abab57b6e2c553e4d983f415a1f4ea75b}{NO\_\-MODEL} =  0, 
\hyperlink{classFlipFlop_a56818e5d3e33fce7656b2034c4456fa1ae18ef7a41f68a232ba011de6233358a9}{NEG\_\-DFF}
 \}
\end{DoxyCompactItemize}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classFlipFlop_ad1873b93cdb4d5cfa25037d8882855ed}{FlipFlop} (const string \&ff\_\-model\_\-str\_\-, double load\_\-, const \hyperlink{classTechParameter}{TechParameter} $\ast$tech\_\-param\_\-ptr\_\-)
\item 
\hyperlink{classFlipFlop_a5ad30637ad1ea867d4d0de77a909301a}{$\sim$FlipFlop} ()
\item 
double \hyperlink{classFlipFlop_a9872d2437aa4caa945007936b10becb1}{get\_\-e\_\-switch} () const 
\item 
double \hyperlink{classFlipFlop_a4c1b6018bc8cfbbb59802749c25d2fc7}{get\_\-e\_\-keep\_\-1} () const 
\item 
double \hyperlink{classFlipFlop_ac83321c56f433dfeeae891310348b961}{get\_\-e\_\-keep\_\-0} () const 
\item 
double \hyperlink{classFlipFlop_ab95f28822addf0d46785fbab52bf6d32}{get\_\-e\_\-clock} () const 
\item 
double \hyperlink{classFlipFlop_af4ce13e52cccc034f4f0bb0f0a6c9468}{get\_\-i\_\-static} () const 
\end{DoxyCompactItemize}
\subsection*{Private メソッド}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classFlipFlop_a02fd73d861ef2e4aabb38c0c9ff82947}{init} ()
\item 
double \hyperlink{classFlipFlop_a8eb4bf711fb28f21b466671a275d84a7}{calc\_\-node\_\-cap} (\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} num\_\-fanin\_\-, \hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} num\_\-fanout\_\-)
\item 
double \hyperlink{classFlipFlop_a379c4230af4ae12ec9291245a2254ea9}{calc\_\-clock\_\-cap} ()
\item 
double \hyperlink{classFlipFlop_a0027807356ac4ca07fe2e593234eb884}{calc\_\-i\_\-static} ()
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classFlipFlop_a56818e5d3e33fce7656b2034c4456fa1}{FFModel} \hyperlink{classFlipFlop_ae11ee233b7ee30f8d01fb91933cda856}{m\_\-ff\_\-model}
\item 
const \hyperlink{classTechParameter}{TechParameter} $\ast$ \hyperlink{classFlipFlop_a11d1644aa2bfe0e16783dface6fadf13}{m\_\-tech\_\-param\_\-ptr}
\item 
double \hyperlink{classFlipFlop_a495601dc4e702bab2bfd4ac968bfbb5c}{m\_\-load}
\item 
double \hyperlink{classFlipFlop_a7ce8ef1ca298dcacf23bf88066e5eb5d}{m\_\-e\_\-switch}
\item 
double \hyperlink{classFlipFlop_a2bad7eccf5a915c14757105ebdf0918b}{m\_\-e\_\-keep\_\-1}
\item 
double \hyperlink{classFlipFlop_adc71b434b818023684c246ddfda8d233}{m\_\-e\_\-keep\_\-0}
\item 
double \hyperlink{classFlipFlop_aa792236c7c5c8ec932eb85e66a201197}{m\_\-e\_\-clock}
\item 
double \hyperlink{classFlipFlop_a16f0c9e5942378eab4d83da3c61aba7f}{m\_\-i\_\-static}
\end{DoxyCompactItemize}


\subsection{列挙型}
\hypertarget{classFlipFlop_a56818e5d3e33fce7656b2034c4456fa1}{
\index{FlipFlop@{FlipFlop}!FFModel@{FFModel}}
\index{FFModel@{FFModel}!FlipFlop@{FlipFlop}}
\subsubsection[{FFModel}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf FFModel}}}
\label{classFlipFlop_a56818e5d3e33fce7656b2034c4456fa1}
\begin{Desc}
\item[列挙型の値: ]\par
\begin{description}
\index{NO\_\-MODEL@{NO\_\-MODEL}!FlipFlop@{FlipFlop}}\index{FlipFlop@{FlipFlop}!NO\_\-MODEL@{NO\_\-MODEL}}\item[{\em 
\hypertarget{classFlipFlop_a56818e5d3e33fce7656b2034c4456fa1abab57b6e2c553e4d983f415a1f4ea75b}{
NO\_\-MODEL}
\label{classFlipFlop_a56818e5d3e33fce7656b2034c4456fa1abab57b6e2c553e4d983f415a1f4ea75b}
}]\index{NEG\_\-DFF@{NEG\_\-DFF}!FlipFlop@{FlipFlop}}\index{FlipFlop@{FlipFlop}!NEG\_\-DFF@{NEG\_\-DFF}}\item[{\em 
\hypertarget{classFlipFlop_a56818e5d3e33fce7656b2034c4456fa1ae18ef7a41f68a232ba011de6233358a9}{
NEG\_\-DFF}
\label{classFlipFlop_a56818e5d3e33fce7656b2034c4456fa1ae18ef7a41f68a232ba011de6233358a9}
}]\end{description}
\end{Desc}




\begin{DoxyCode}
47     {
48       NO_MODEL = 0,
49       NEG_DFF
50     };
\end{DoxyCode}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classFlipFlop_ad1873b93cdb4d5cfa25037d8882855ed}{
\index{FlipFlop@{FlipFlop}!FlipFlop@{FlipFlop}}
\index{FlipFlop@{FlipFlop}!FlipFlop@{FlipFlop}}
\subsubsection[{FlipFlop}]{\setlength{\rightskip}{0pt plus 5cm}{\bf FlipFlop} (const string \& {\em ff\_\-model\_\-str\_\-}, \/  double {\em load\_\-}, \/  const {\bf TechParameter} $\ast$ {\em tech\_\-param\_\-ptr\_\-})}}
\label{classFlipFlop_ad1873b93cdb4d5cfa25037d8882855ed}



\begin{DoxyCode}
49 {
50     if (ff_model_str_ == string("NEG_DFF"))
51     {
52         m_ff_model = NEG_DFF;
53     }
54     else
55     {
56         m_ff_model = NO_MODEL;
57     }
58 
59     if (m_ff_model != NO_MODEL)
60     {
61         assert(load_ == load_);
62 
63         m_load = load_;
64         m_tech_param_ptr = tech_param_ptr_;
65 
66         init();
67     }
68 }
\end{DoxyCode}
\hypertarget{classFlipFlop_a5ad30637ad1ea867d4d0de77a909301a}{
\index{FlipFlop@{FlipFlop}!$\sim$FlipFlop@{$\sim$FlipFlop}}
\index{$\sim$FlipFlop@{$\sim$FlipFlop}!FlipFlop@{FlipFlop}}
\subsubsection[{$\sim$FlipFlop}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf FlipFlop} ()}}
\label{classFlipFlop_a5ad30637ad1ea867d4d0de77a909301a}



\begin{DoxyCode}
71 {}
\end{DoxyCode}


\subsection{関数}
\hypertarget{classFlipFlop_a379c4230af4ae12ec9291245a2254ea9}{
\index{FlipFlop@{FlipFlop}!calc\_\-clock\_\-cap@{calc\_\-clock\_\-cap}}
\index{calc\_\-clock\_\-cap@{calc\_\-clock\_\-cap}!FlipFlop@{FlipFlop}}
\subsubsection[{calc\_\-clock\_\-cap}]{\setlength{\rightskip}{0pt plus 5cm}double calc\_\-clock\_\-cap ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_a379c4230af4ae12ec9291245a2254ea9}



\begin{DoxyCode}
122 {
123     double WdecNORn = m_tech_param_ptr->get_WdecNORn();
124     double WdecNORp = m_tech_param_ptr->get_WdecNORp();
125     return (2*m_tech_param_ptr->calc_gatecap(WdecNORn+WdecNORp, 0));
126 }
\end{DoxyCode}
\hypertarget{classFlipFlop_a0027807356ac4ca07fe2e593234eb884}{
\index{FlipFlop@{FlipFlop}!calc\_\-i\_\-static@{calc\_\-i\_\-static}}
\index{calc\_\-i\_\-static@{calc\_\-i\_\-static}!FlipFlop@{FlipFlop}}
\subsubsection[{calc\_\-i\_\-static}]{\setlength{\rightskip}{0pt plus 5cm}double calc\_\-i\_\-static ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_a0027807356ac4ca07fe2e593234eb884}



\begin{DoxyCode}
129 {
130     double WdecNORn = m_tech_param_ptr->get_WdecNORn();
131     double WdecNORp = m_tech_param_ptr->get_WdecNORp();
132     double NOR2_TAB_0 = m_tech_param_ptr->get_NOR2_TAB(0);
133     double NOR2_TAB_1 = m_tech_param_ptr->get_NOR2_TAB(1);
134     double NOR2_TAB_2 = m_tech_param_ptr->get_NOR2_TAB(2);
135     double NOR2_TAB_3 = m_tech_param_ptr->get_NOR2_TAB(3);
136 
137     return (WdecNORp*NOR2_TAB_0 + WdecNORn*(NOR2_TAB_1+NOR2_TAB_2+NOR2_TAB_3))/4*
      6;
138 }
\end{DoxyCode}
\hypertarget{classFlipFlop_a8eb4bf711fb28f21b466671a275d84a7}{
\index{FlipFlop@{FlipFlop}!calc\_\-node\_\-cap@{calc\_\-node\_\-cap}}
\index{calc\_\-node\_\-cap@{calc\_\-node\_\-cap}!FlipFlop@{FlipFlop}}
\subsubsection[{calc\_\-node\_\-cap}]{\setlength{\rightskip}{0pt plus 5cm}double calc\_\-node\_\-cap ({\bf uint32\_\-t} {\em num\_\-fanin\_\-}, \/  {\bf uint32\_\-t} {\em num\_\-fanout\_\-})\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_a8eb4bf711fb28f21b466671a275d84a7}



\begin{DoxyCode}
107 {
108     double total_cap = 0;
109 
110     //FIXME: all need actual size
111     //part 1: drain cap of NOR gate
112     double WdecNORn = m_tech_param_ptr->get_WdecNORn();
113     double WdecNORp = m_tech_param_ptr->get_WdecNORp();
114     total_cap += num_fanin_*m_tech_param_ptr->calc_draincap(WdecNORn, 
      TechParameter::NCH, 1) + m_tech_param_ptr->calc_draincap(WdecNORp, 
      TechParameter::PCH, num_fanin_);
115 
116     //part 2: gate cap of NOR gate
117     total_cap += num_fanout_*m_tech_param_ptr->calc_gatecap(WdecNORn+WdecNORp, 0)
      ;
118     return total_cap;
119 }
\end{DoxyCode}
\hypertarget{classFlipFlop_ab95f28822addf0d46785fbab52bf6d32}{
\index{FlipFlop@{FlipFlop}!get\_\-e\_\-clock@{get\_\-e\_\-clock}}
\index{get\_\-e\_\-clock@{get\_\-e\_\-clock}!FlipFlop@{FlipFlop}}
\subsubsection[{get\_\-e\_\-clock}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-e\_\-clock () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFlipFlop_ab95f28822addf0d46785fbab52bf6d32}



\begin{DoxyCode}
64 { return m_e_clock; }
\end{DoxyCode}
\hypertarget{classFlipFlop_ac83321c56f433dfeeae891310348b961}{
\index{FlipFlop@{FlipFlop}!get\_\-e\_\-keep\_\-0@{get\_\-e\_\-keep\_\-0}}
\index{get\_\-e\_\-keep\_\-0@{get\_\-e\_\-keep\_\-0}!FlipFlop@{FlipFlop}}
\subsubsection[{get\_\-e\_\-keep\_\-0}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-e\_\-keep\_\-0 () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFlipFlop_ac83321c56f433dfeeae891310348b961}



\begin{DoxyCode}
63 { return m_e_keep_0; }
\end{DoxyCode}
\hypertarget{classFlipFlop_a4c1b6018bc8cfbbb59802749c25d2fc7}{
\index{FlipFlop@{FlipFlop}!get\_\-e\_\-keep\_\-1@{get\_\-e\_\-keep\_\-1}}
\index{get\_\-e\_\-keep\_\-1@{get\_\-e\_\-keep\_\-1}!FlipFlop@{FlipFlop}}
\subsubsection[{get\_\-e\_\-keep\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-e\_\-keep\_\-1 () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFlipFlop_a4c1b6018bc8cfbbb59802749c25d2fc7}



\begin{DoxyCode}
62 { return m_e_keep_1; }
\end{DoxyCode}
\hypertarget{classFlipFlop_a9872d2437aa4caa945007936b10becb1}{
\index{FlipFlop@{FlipFlop}!get\_\-e\_\-switch@{get\_\-e\_\-switch}}
\index{get\_\-e\_\-switch@{get\_\-e\_\-switch}!FlipFlop@{FlipFlop}}
\subsubsection[{get\_\-e\_\-switch}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-e\_\-switch () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFlipFlop_a9872d2437aa4caa945007936b10becb1}



\begin{DoxyCode}
61 { return m_e_switch; }
\end{DoxyCode}
\hypertarget{classFlipFlop_af4ce13e52cccc034f4f0bb0f0a6c9468}{
\index{FlipFlop@{FlipFlop}!get\_\-i\_\-static@{get\_\-i\_\-static}}
\index{get\_\-i\_\-static@{get\_\-i\_\-static}!FlipFlop@{FlipFlop}}
\subsubsection[{get\_\-i\_\-static}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-i\_\-static () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classFlipFlop_af4ce13e52cccc034f4f0bb0f0a6c9468}



\begin{DoxyCode}
65 { return m_i_static; }
\end{DoxyCode}
\hypertarget{classFlipFlop_a02fd73d861ef2e4aabb38c0c9ff82947}{
\index{FlipFlop@{FlipFlop}!init@{init}}
\index{init@{init}!FlipFlop@{FlipFlop}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void init ()\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_a02fd73d861ef2e4aabb38c0c9ff82947}



\begin{DoxyCode}
74 {
75     double c1, c2, c3, c4, c5, c6;
76 
77     double e_factor = m_tech_param_ptr->get_EnergyFactor();
78     switch(m_ff_model)
79     {
80         case NEG_DFF:
81             c1 = c5 = c6 = calc_node_cap(2, 1);
82             c2 = calc_node_cap(2, 3);
83             c3 = calc_node_cap(3, 2);
84             c4 = calc_node_cap(2, 3);
85 
86             m_e_switch = (c1+c2+c3+c4+c5+c6+m_load)*e_factor/2.0;
87             // no 1/2 for e_keep and e_clock because clock signal switches twice 
      in one cycle
88             m_e_keep_1 = c3*e_factor;
89             m_e_keep_0 = c2*e_factor;
90             m_e_clock = calc_clock_cap()*e_factor;
91 
92             m_i_static = calc_i_static();
93             break;
94         default:
95             cerr << "error" << endl;
96     }
97     return;
98 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classFlipFlop_aa792236c7c5c8ec932eb85e66a201197}{
\index{FlipFlop@{FlipFlop}!m\_\-e\_\-clock@{m\_\-e\_\-clock}}
\index{m\_\-e\_\-clock@{m\_\-e\_\-clock}!FlipFlop@{FlipFlop}}
\subsubsection[{m\_\-e\_\-clock}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-e\_\-clock}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_aa792236c7c5c8ec932eb85e66a201197}
\hypertarget{classFlipFlop_adc71b434b818023684c246ddfda8d233}{
\index{FlipFlop@{FlipFlop}!m\_\-e\_\-keep\_\-0@{m\_\-e\_\-keep\_\-0}}
\index{m\_\-e\_\-keep\_\-0@{m\_\-e\_\-keep\_\-0}!FlipFlop@{FlipFlop}}
\subsubsection[{m\_\-e\_\-keep\_\-0}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-e\_\-keep\_\-0}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_adc71b434b818023684c246ddfda8d233}
\hypertarget{classFlipFlop_a2bad7eccf5a915c14757105ebdf0918b}{
\index{FlipFlop@{FlipFlop}!m\_\-e\_\-keep\_\-1@{m\_\-e\_\-keep\_\-1}}
\index{m\_\-e\_\-keep\_\-1@{m\_\-e\_\-keep\_\-1}!FlipFlop@{FlipFlop}}
\subsubsection[{m\_\-e\_\-keep\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-e\_\-keep\_\-1}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_a2bad7eccf5a915c14757105ebdf0918b}
\hypertarget{classFlipFlop_a7ce8ef1ca298dcacf23bf88066e5eb5d}{
\index{FlipFlop@{FlipFlop}!m\_\-e\_\-switch@{m\_\-e\_\-switch}}
\index{m\_\-e\_\-switch@{m\_\-e\_\-switch}!FlipFlop@{FlipFlop}}
\subsubsection[{m\_\-e\_\-switch}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-e\_\-switch}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_a7ce8ef1ca298dcacf23bf88066e5eb5d}
\hypertarget{classFlipFlop_ae11ee233b7ee30f8d01fb91933cda856}{
\index{FlipFlop@{FlipFlop}!m\_\-ff\_\-model@{m\_\-ff\_\-model}}
\index{m\_\-ff\_\-model@{m\_\-ff\_\-model}!FlipFlop@{FlipFlop}}
\subsubsection[{m\_\-ff\_\-model}]{\setlength{\rightskip}{0pt plus 5cm}{\bf FFModel} {\bf m\_\-ff\_\-model}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_ae11ee233b7ee30f8d01fb91933cda856}
\hypertarget{classFlipFlop_a16f0c9e5942378eab4d83da3c61aba7f}{
\index{FlipFlop@{FlipFlop}!m\_\-i\_\-static@{m\_\-i\_\-static}}
\index{m\_\-i\_\-static@{m\_\-i\_\-static}!FlipFlop@{FlipFlop}}
\subsubsection[{m\_\-i\_\-static}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-i\_\-static}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_a16f0c9e5942378eab4d83da3c61aba7f}
\hypertarget{classFlipFlop_a495601dc4e702bab2bfd4ac968bfbb5c}{
\index{FlipFlop@{FlipFlop}!m\_\-load@{m\_\-load}}
\index{m\_\-load@{m\_\-load}!FlipFlop@{FlipFlop}}
\subsubsection[{m\_\-load}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf m\_\-load}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_a495601dc4e702bab2bfd4ac968bfbb5c}
\hypertarget{classFlipFlop_a11d1644aa2bfe0e16783dface6fadf13}{
\index{FlipFlop@{FlipFlop}!m\_\-tech\_\-param\_\-ptr@{m\_\-tech\_\-param\_\-ptr}}
\index{m\_\-tech\_\-param\_\-ptr@{m\_\-tech\_\-param\_\-ptr}!FlipFlop@{FlipFlop}}
\subsubsection[{m\_\-tech\_\-param\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf TechParameter}$\ast$ {\bf m\_\-tech\_\-param\_\-ptr}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classFlipFlop_a11d1644aa2bfe0e16783dface6fadf13}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/ruby/network/orion/\hyperlink{FlipFlop_8hh}{FlipFlop.hh}\item 
mem/ruby/network/orion/\hyperlink{FlipFlop_8cc}{FlipFlop.cc}\end{DoxyCompactItemize}
