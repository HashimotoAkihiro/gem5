<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス Interrupts</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceX86ISA.html">X86ISA</a>::<a class="el" href="classX86ISA_1_1Interrupts.html">Interrupts</a>
  </div>
</div>
<div class="contents">
<h1>クラス Interrupts</h1><!-- doxytag: class="X86ISA::Interrupts" --><!-- doxytag: inherits="BasicPioDevice,X86ISA::IntDevice" -->
<p><code>#include &lt;<a class="el" href="x86_2interrupts_8hh_source.html">interrupts.hh</a>&gt;</code></p>
<div class="dynheader">
Interruptsに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classX86ISA_1_1Interrupts.gif" usemap="#Interrupts_map" alt=""/>
  <map id="Interrupts_map" name="Interrupts_map">
<area href="classBasicPioDevice.html" alt="BasicPioDevice" shape="rect" coords="111,280,212,304"/>
<area href="classX86ISA_1_1IntDevice.html" alt="IntDevice" shape="rect" coords="222,280,323,304"/>
<area href="classPioDevice.html" alt="PioDevice" shape="rect" coords="111,224,212,248"/>
<area href="classMemObject.html" alt="MemObject" shape="rect" coords="111,168,212,192"/>
<area href="classClockedObject.html" alt="ClockedObject" shape="rect" coords="111,112,212,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="111,56,212,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,101,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="111,0,212,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="222,0,323,24"/>
</map>
 </div>
</div>

<p><a href="classX86ISA_1_1Interrupts-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef X86LocalApicParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a3c48a671abef695247afdd48259ac20a">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a91c9a4205f98f4fe9cef39ae0641002b">getInitialApicId</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#aa209f4cfe10a4390a73aadcf2d176294">setCPU</a> (<a class="el" href="classBaseCPU.html">BaseCPU</a> *newCPU)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classX86ISA_1_1Interrupts.html#a3c48a671abef695247afdd48259ac20a">Params</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#acd3c3feb78ae7a8f88fe0f110a718dff">params</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a613ec7d5e1ec64f8d21fec78ae8e568e">read</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a4cefab464e72b5dd42c003a0a4341802">write</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a3dad3b561a1022eee5fab74df92ce766">recvMessage</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a96d1a00beed669f9145d55bc3675d99c">recvResponse</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a07d266f0ad36cfec987f7487aa2c54cc">triggerTimerInterrupt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1list.html">AddrRangeList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#ad86b339471781a0d7634d3c41c6a1c87">getIntAddrRange</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseMasterPort.html">BaseMasterPort</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#ac66222ec5b6b7beb5d1189c07778bc8a">getMasterPort</a> (const std::string &amp;if_name, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> idx=<a class="el" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseSlavePort.html">BaseSlavePort</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a5b5b45105eb4b64567ecea56e5bc30f2">getSlavePort</a> (const std::string &amp;if_name, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> idx=<a class="el" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a505f3b9c44f3e911ac16a833289d72d6">readReg</a> (<a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a> miscReg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#af0c2ac2127c28e0a1e26b9b005e1bfa1">setReg</a> (<a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a> <a class="el" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a>, <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#aa35a02e092cafc6be88b0eb6afe22937">setRegNoEffect</a> (<a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a> <a class="el" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a>, <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a3d148759405b99148e0c34750966edb1">Interrupts</a> (<a class="el" href="classX86ISA_1_1Interrupts.html#a3c48a671abef695247afdd48259ac20a">Params</a> *<a class="el" href="namespaceX86ISA.html#af675c1d542a25b96e11164b80809a856">p</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#af3c66fb49fec598cf78aaec29d764952">checkInterrupts</a> (<a class="el" href="classThreadContext.html">ThreadContext</a> *tc) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a764a42ffe59f12449457ca2373515884">checkInterruptsRaw</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a24a3de3c5f8caba5e9aa0d5653a31f63">hasPendingUnmaskable</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#ae603c88d759977611d3bcc6e2deb61ae">getInterrupt</a> (<a class="el" href="classThreadContext.html">ThreadContext</a> *tc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a00892e9b06edcba6c3c27454d6235100">updateIntrInfo</a> (<a class="el" href="classThreadContext.html">ThreadContext</a> *tc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a53e036786d17361be4c7320d39c99b84">serialize</a> (std::ostream &amp;<a class="el" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a24c6c4fbdc0605bcd015ce06f194e4b4">post</a> (int int_num, int <a class="el" href="namespaceX86ISA.html#aa7f971ede8ba06dbd8a605007eda1c6f">index</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#af60c3484087379d0330467d77f6cbaae">clear</a> (int int_num, int <a class="el" href="namespaceX86ISA.html#aa7f971ede8ba06dbd8a605007eda1c6f">index</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a798729dca95209ecdc609807a653a2bf">clearAll</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#af3c3b79e5ae32617b335938e6717ea0e">BitUnion32</a> (LVTEntry) Bitfield&lt;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a3dcded9d0e81db3da6da13a1ce23ef0c">EndBitUnion</a> (LVTEntry) class ApicTimerEvent</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a8d15a5b6dddd42176d18d4952a9c8713">findRegArrayMSB</a> (<a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a> <a class="el" href="namespaceX86ISA.html#a22fd87812cbb48f6d80b6cc7957490cf">base</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a9e275b8054220a16ea40b772c0c04d96">updateIRRV</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#af645e39703e6f7ea975409c79fc0f41b">updateISRV</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#ac346555c2f6639d76b0d3730d0e216e2">setRegArrayBit</a> (<a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a> <a class="el" href="namespaceX86ISA.html#a22fd87812cbb48f6d80b6cc7957490cf">base</a>, uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a6ccfdb5e91c1463b861d5cd6cbb23c46">clearRegArrayBit</a> (<a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a> <a class="el" href="namespaceX86ISA.html#a22fd87812cbb48f6d80b6cc7957490cf">base</a>, uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#ae3b47da5f3237bda2aa53f8ae3399040">getRegArrayBit</a> (<a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a> <a class="el" href="namespaceX86ISA.html#a22fd87812cbb48f6d80b6cc7957490cf">base</a>, uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a19885e71b7427a0f49d5b006c1d7fc7f">requestInterrupt</a> (uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>, uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a>, bool <a class="el" href="namespaceX86ISA.html#a66adbc3470a30c6702194c0e48f2225d">level</a>)</td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a> [NUM_APIC_REGS]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 10, 8 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 12 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a7d1baf1ae14e4e146b6809c41c82bde5">status</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 13 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#ae3c9a79ca2272b1906da22919f226af3">polarity</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 14 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#ae074e6e7f5c02b863d4ffe1040e7e7a0">remoteIRR</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 15 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a1a8acf21e383afeb477a3d8e88b689de">trigger</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 16 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#ac68c9e75c6befae7812cc44b8426a97e">masked</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Bitfield&lt; 17 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a333fdd71ed0dd6e53569e894f9367ffb">periodic</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ApicTimerEvent&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#aeeb4c03ee1caa86828b12a7085f845c9">pendingSmi</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#ac62acbbee5adef17b6e0b960b7fb11c5">smiVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a1ecac2b1b786eb4f69035a6f1b499297">pendingNmi</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#acc5de6934d3b5e99ddfa33038bedc24a">nmiVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a916ffa14869566ee27ff80a156e8dade">extIntVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a3c53994e08d31f19e9ee2400effd6f5e">pendingInit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a3e21475b0787502498afda4c6931da0c">initVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#aa6f1c7032da250f8932f9856dcda20f0">pendingStartup</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#af7c23ab865f682ddda21c75170de1126">startupVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a46feb43d5deb6cf7bcd3f142d7dc11da">startedUp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#aef75f0fcb528c2f7cafdf0fa0dcccb40">pendingIPIs</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a89802b4867c1ebeb92a413ec679732c9">ISRV</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseCPU.html">BaseCPU</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classX86ISA_1_1IntDevice_1_1IntSlavePort.html">IntSlavePort</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classX86ISA_1_1Interrupts.html#ae8b4c7c51db0b74d5e60b6db0ca0016c">intSlavePort</a></td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="a3c48a671abef695247afdd48259ac20a"></a><!-- doxytag: member="X86ISA::Interrupts::Params" ref="a3c48a671abef695247afdd48259ac20a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef X86LocalApicParams <a class="el" href="classX86ISA_1_1Interrupts.html#a3c48a671abef695247afdd48259ac20a">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classBasicPioDevice.html#a2845515ac6467f10540747053c8a0449">BasicPioDevice</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a3d148759405b99148e0c34750966edb1"></a><!-- doxytag: member="X86ISA::Interrupts::Interrupts" ref="a3d148759405b99148e0c34750966edb1" args="(Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1Interrupts.html">Interrupts</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classX86ISA_1_1Interrupts.html#a3c48a671abef695247afdd48259ac20a">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00611"></a>00611     : <a class="code" href="classBasicPioDevice.html#acd907d772eed45afbc723fd39de00481">BasicPioDevice</a>(<a class="code" href="namespaceX86ISA.html#af675c1d542a25b96e11164b80809a856">p</a>, <a class="code" href="namespaceX86ISA.html#a7a804a2139c455999786dede70a4467b">PageBytes</a>), <a class="code" href="classX86ISA_1_1IntDevice.html#a860c06bf1cff1018280578ab96cdc37c">IntDevice</a>(<span class="keyword">this</span>, <a class="code" href="namespaceX86ISA.html#af675c1d542a25b96e11164b80809a856">p</a>-&gt;int_latency),
<a name="l00612"></a>00612       <a class="code" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a>(<span class="keyword">this</span>),
<a name="l00613"></a>00613       <a class="code" href="classX86ISA_1_1Interrupts.html#aeeb4c03ee1caa86828b12a7085f845c9">pendingSmi</a>(<span class="keyword">false</span>), <a class="code" href="classX86ISA_1_1Interrupts.html#ac62acbbee5adef17b6e0b960b7fb11c5">smiVector</a>(0),
<a name="l00614"></a>00614       <a class="code" href="classX86ISA_1_1Interrupts.html#a1ecac2b1b786eb4f69035a6f1b499297">pendingNmi</a>(<span class="keyword">false</span>), <a class="code" href="classX86ISA_1_1Interrupts.html#acc5de6934d3b5e99ddfa33038bedc24a">nmiVector</a>(0),
<a name="l00615"></a>00615       <a class="code" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a>(<span class="keyword">false</span>), <a class="code" href="classX86ISA_1_1Interrupts.html#a916ffa14869566ee27ff80a156e8dade">extIntVector</a>(0),
<a name="l00616"></a>00616       <a class="code" href="classX86ISA_1_1Interrupts.html#a3c53994e08d31f19e9ee2400effd6f5e">pendingInit</a>(<span class="keyword">false</span>), <a class="code" href="classX86ISA_1_1Interrupts.html#a3e21475b0787502498afda4c6931da0c">initVector</a>(0),
<a name="l00617"></a>00617       <a class="code" href="classX86ISA_1_1Interrupts.html#aa6f1c7032da250f8932f9856dcda20f0">pendingStartup</a>(<span class="keyword">false</span>), <a class="code" href="classX86ISA_1_1Interrupts.html#af7c23ab865f682ddda21c75170de1126">startupVector</a>(0),
<a name="l00618"></a>00618       <a class="code" href="classX86ISA_1_1Interrupts.html#a46feb43d5deb6cf7bcd3f142d7dc11da">startedUp</a>(<span class="keyword">false</span>), <a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a>(<span class="keyword">false</span>),
<a name="l00619"></a>00619       <a class="code" href="classX86ISA_1_1Interrupts.html#aef75f0fcb528c2f7cafdf0fa0dcccb40">pendingIPIs</a>(0), <a class="code" href="classX86ISA_1_1Interrupts.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>),
<a name="l00620"></a>00620       <a class="code" href="classX86ISA_1_1Interrupts.html#ae8b4c7c51db0b74d5e60b6db0ca0016c">intSlavePort</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.int_slave&quot;</span>, <span class="keyword">this</span>, <span class="keyword">this</span>)
<a name="l00621"></a>00621 {
<a name="l00622"></a>00622     memset(<a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>));
<a name="l00623"></a>00623     <span class="comment">//Set the local apic DFR to the flat model.</span>
<a name="l00624"></a>00624     <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a77cc386e5345ab6ec3c09dd960973dd6">APIC_DESTINATION_FORMAT</a>] = (<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)(-1);
<a name="l00625"></a>00625     <a class="code" href="classX86ISA_1_1Interrupts.html#a89802b4867c1ebeb92a413ec679732c9">ISRV</a> = 0;
<a name="l00626"></a>00626     <a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a> = 0;
<a name="l00627"></a>00627 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="af3c3b79e5ae32617b335938e6717ea0e"></a><!-- doxytag: member="X86ISA::Interrupts::BitUnion32" ref="af3c3b79e5ae32617b335938e6717ea0e" args="(LVTEntry) Bitfield&lt;7" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BitUnion32 </td>
          <td>(</td>
          <td class="paramtype">LVTEntry&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af3c66fb49fec598cf78aaec29d764952"></a><!-- doxytag: member="X86ISA::Interrupts::checkInterrupts" ref="af3c66fb49fec598cf78aaec29d764952" args="(ThreadContext *tc) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkInterrupts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td>
          <td class="paramname"> <em>tc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00632"></a>00632 {
<a name="l00633"></a>00633     RFLAGS rflags = tc-&gt;<a class="code" href="classThreadContext.html#a93c9c97261cb7289d5976b8222f70c4c">readMiscRegNoEffect</a>(<a class="code" href="namespaceX86ISA.html#a1e522017e015d4c7efd6b2360143aa67a65884426f637d3beaa386e8cacb215c3">MISCREG_RFLAGS</a>);
<a name="l00634"></a>00634     <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a>) {
<a name="l00635"></a>00635         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Reported pending unmaskable interrupt.\n&quot;</span>);
<a name="l00636"></a>00636         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00637"></a>00637     }
<a name="l00638"></a>00638     <span class="keywordflow">if</span> (rflags.intf) {
<a name="l00639"></a>00639         <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a>) {
<a name="l00640"></a>00640             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Reported pending external interrupt.\n&quot;</span>);
<a name="l00641"></a>00641             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00642"></a>00642         }
<a name="l00643"></a>00643         <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a> &gt; <a class="code" href="classX86ISA_1_1Interrupts.html#a89802b4867c1ebeb92a413ec679732c9">ISRV</a> &amp;&amp; <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123">bits</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a>, 7, 4) &gt;
<a name="l00644"></a>00644                <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123">bits</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649afd5e32c09545fe1754c5d78fbe029b85">APIC_TASK_PRIORITY</a>], 7, 4)) {
<a name="l00645"></a>00645             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Reported pending regular interrupt.\n&quot;</span>);
<a name="l00646"></a>00646             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00647"></a>00647         }
<a name="l00648"></a>00648     }
<a name="l00649"></a>00649     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00650"></a>00650 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a764a42ffe59f12449457ca2373515884"></a><!-- doxytag: member="X86ISA::Interrupts::checkInterruptsRaw" ref="a764a42ffe59f12449457ca2373515884" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkInterruptsRaw </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCheck.html">Check</a> if there are pending interrupts without ignoring the interrupts disabled flag.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>true if there are interrupts pending. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00654"></a>00654 {
<a name="l00655"></a>00655     <span class="keywordflow">return</span> <a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a> || <a class="code" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a> ||
<a name="l00656"></a>00656         (<a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a> &gt; <a class="code" href="classX86ISA_1_1Interrupts.html#a89802b4867c1ebeb92a413ec679732c9">ISRV</a> &amp;&amp; <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123">bits</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a>, 7, 4) &gt;
<a name="l00657"></a>00657          <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123">bits</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649afd5e32c09545fe1754c5d78fbe029b85">APIC_TASK_PRIORITY</a>], 7, 4));
<a name="l00658"></a>00658 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af60c3484087379d0330467d77f6cbaae"></a><!-- doxytag: member="X86ISA::Interrupts::clear" ref="af60c3484087379d0330467d77f6cbaae" args="(int int_num, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clear </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>int_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00312"></a>00312     {
<a name="l00313"></a>00313         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Interrupts::clear unimplemented!\n&quot;</span>);
<a name="l00314"></a>00314     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a798729dca95209ecdc609807a653a2bf"></a><!-- doxytag: member="X86ISA::Interrupts::clearAll" ref="a798729dca95209ecdc609807a653a2bf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearAll </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00318"></a>00318     {
<a name="l00319"></a>00319         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Interrupts::clearAll unimplemented!\n&quot;</span>);
<a name="l00320"></a>00320     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6ccfdb5e91c1463b861d5cd6cbb23c46"></a><!-- doxytag: member="X86ISA::Interrupts::clearRegArrayBit" ref="a6ccfdb5e91c1463b861d5cd6cbb23c46" args="(ApicRegIndex base, uint8_t vector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearRegArrayBit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>vector</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00176"></a>00176     {
<a name="l00177"></a>00177         <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#a22fd87812cbb48f6d80b6cc7957490cf">base</a> + (<a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a> / 32)] &amp;= ~(1 &lt;&lt; (<a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a> % 32));
<a name="l00178"></a>00178     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3dcded9d0e81db3da6da13a1ce23ef0c"></a><!-- doxytag: member="X86ISA::Interrupts::EndBitUnion" ref="a3dcded9d0e81db3da6da13a1ce23ef0c" args="(LVTEntry) class ApicTimerEvent" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EndBitUnion </td>
          <td>(</td>
          <td class="paramtype">LVTEntry&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00095"></a>00095                          : <span class="keyword">public</span> <a class="code" href="classEvent.html">Event</a>
<a name="l00096"></a>00096     {
<a name="l00097"></a>00097       <span class="keyword">private</span>:
<a name="l00098"></a>00098         <a class="code" href="classX86ISA_1_1Interrupts.html#a3d148759405b99148e0c34750966edb1">Interrupts</a> *localApic;
<a name="l00099"></a>00099       <span class="keyword">public</span>:
<a name="l00100"></a>00100         ApicTimerEvent(<a class="code" href="classX86ISA_1_1Interrupts.html#a3d148759405b99148e0c34750966edb1">Interrupts</a> *_localApic) :
<a name="l00101"></a>00101             <a class="code" href="classEvent.html">Event</a>(), localApic(_localApic)
<a name="l00102"></a>00102         {}
<a name="l00103"></a>00103 
<a name="l00104"></a>00104         <span class="keywordtype">void</span> process()
<a name="l00105"></a>00105         {
<a name="l00106"></a>00106             assert(localApic);
<a name="l00107"></a>00107             <span class="keywordflow">if</span> (localApic-&gt;triggerTimerInterrupt()) {
<a name="l00108"></a>00108                 localApic-&gt;setReg(<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ae716a6476f2512f58b1a277adc2a2e7d">APIC_INITIAL_COUNT</a>,
<a name="l00109"></a>00109                         localApic-&gt;readReg(<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ae716a6476f2512f58b1a277adc2a2e7d">APIC_INITIAL_COUNT</a>));
<a name="l00110"></a>00110             }
<a name="l00111"></a>00111         }
<a name="l00112"></a>00112     };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8d15a5b6dddd42176d18d4952a9c8713"></a><!-- doxytag: member="X86ISA::Interrupts::findRegArrayMSB" ref="a8d15a5b6dddd42176d18d4952a9c8713" args="(ApicRegIndex base)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int findRegArrayMSB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>base</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00146"></a>00146     {
<a name="l00147"></a>00147         <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a> = 7;
<a name="l00148"></a>00148         <span class="keywordflow">do</span> {
<a name="l00149"></a>00149             <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#a22fd87812cbb48f6d80b6cc7957490cf">base</a> + offset] != 0) {
<a name="l00150"></a>00150                 <span class="keywordflow">return</span> offset * 32 + <a class="code" href="bitfield_8hh.html#aa8f1ff3b89ba9c337baeef12d161580f">findMsbSet</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#a22fd87812cbb48f6d80b6cc7957490cf">base</a> + offset]);
<a name="l00151"></a>00151             }
<a name="l00152"></a>00152         } <span class="keywordflow">while</span> (offset--);
<a name="l00153"></a>00153         <span class="keywordflow">return</span> 0;
<a name="l00154"></a>00154     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a91c9a4205f98f4fe9cef39ae0641002b"></a><!-- doxytag: member="X86ISA::Interrupts::getInitialApicId" ref="a91c9a4205f98f4fe9cef39ae0641002b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getInitialApicId </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00197"></a>00197 { <span class="keywordflow">return</span> <a class="code" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad86b339471781a0d7634d3c41c6a1c87"></a><!-- doxytag: member="X86ISA::Interrupts::getIntAddrRange" ref="ad86b339471781a0d7634d3c41c6a1c87" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1list.html">AddrRangeList</a> getIntAddrRange </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classX86ISA_1_1IntDevice.html#ac142ed8f5e7f1e45022f45d316e131a3">IntDevice</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00373"></a>00373 {
<a name="l00374"></a>00374     <a class="code" href="classstd_1_1list.html">AddrRangeList</a> ranges;
<a name="l00375"></a>00375     ranges.push_back(<a class="code" href="addr__range_8hh.html#a466b153d63d6154a31922900afd6745b">RangeEx</a>(<a class="code" href="namespaceX86ISA.html#a2f44ed2c4b9c14c0eab6bdc3b8b95c03">x86InterruptAddress</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a>, 0),
<a name="l00376"></a>00376                              <a class="code" href="namespaceX86ISA.html#a2f44ed2c4b9c14c0eab6bdc3b8b95c03">x86InterruptAddress</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a>, 0) +
<a name="l00377"></a>00377                              <a class="code" href="namespaceX86ISA.html#aca8409c60aba3dab705c6fa5fb51d987">PhysAddrAPICRangeSize</a>));
<a name="l00378"></a>00378     <span class="keywordflow">return</span> ranges;
<a name="l00379"></a>00379 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae603c88d759977611d3bcc6e2deb61ae"></a><!-- doxytag: member="X86ISA::Interrupts::getInterrupt" ref="ae603c88d759977611d3bcc6e2deb61ae" args="(ThreadContext *tc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> getInterrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td>
          <td class="paramname"> <em>tc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00662"></a>00662 {
<a name="l00663"></a>00663     assert(<a class="code" href="classX86ISA_1_1Interrupts.html#af3c66fb49fec598cf78aaec29d764952">checkInterrupts</a>(tc));
<a name="l00664"></a>00664     <span class="comment">// These are all probably fairly uncommon, so we&apos;ll make them easier to</span>
<a name="l00665"></a>00665     <span class="comment">// check for.</span>
<a name="l00666"></a>00666     <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a>) {
<a name="l00667"></a>00667         <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#aeeb4c03ee1caa86828b12a7085f845c9">pendingSmi</a>) {
<a name="l00668"></a>00668             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Generated SMI fault object.\n&quot;</span>);
<a name="l00669"></a>00669             <span class="keywordflow">return</span> <span class="keyword">new</span> SystemManagementInterrupt();
<a name="l00670"></a>00670         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a1ecac2b1b786eb4f69035a6f1b499297">pendingNmi</a>) {
<a name="l00671"></a>00671             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Generated NMI fault object.\n&quot;</span>);
<a name="l00672"></a>00672             <span class="keywordflow">return</span> <span class="keyword">new</span> NonMaskableInterrupt(<a class="code" href="classX86ISA_1_1Interrupts.html#acc5de6934d3b5e99ddfa33038bedc24a">nmiVector</a>);
<a name="l00673"></a>00673         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a3c53994e08d31f19e9ee2400effd6f5e">pendingInit</a>) {
<a name="l00674"></a>00674             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Generated INIT fault object.\n&quot;</span>);
<a name="l00675"></a>00675             <span class="keywordflow">return</span> <span class="keyword">new</span> InitInterrupt(<a class="code" href="classX86ISA_1_1Interrupts.html#a3e21475b0787502498afda4c6931da0c">initVector</a>);
<a name="l00676"></a>00676         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#aa6f1c7032da250f8932f9856dcda20f0">pendingStartup</a>) {
<a name="l00677"></a>00677             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Generating SIPI fault object.\n&quot;</span>);
<a name="l00678"></a>00678             <span class="keywordflow">return</span> <span class="keyword">new</span> StartupInterrupt(<a class="code" href="classX86ISA_1_1Interrupts.html#af7c23ab865f682ddda21c75170de1126">startupVector</a>);
<a name="l00679"></a>00679         } <span class="keywordflow">else</span> {
<a name="l00680"></a>00680             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;pendingUnmaskableInt set, but no unmaskable &quot;</span>
<a name="l00681"></a>00681                     <span class="stringliteral">&quot;ints were pending.\n&quot;</span>);
<a name="l00682"></a>00682             <span class="keywordflow">return</span> <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>;
<a name="l00683"></a>00683         }
<a name="l00684"></a>00684     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a>) {
<a name="l00685"></a>00685         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Generated external interrupt fault object.\n&quot;</span>);
<a name="l00686"></a>00686         <span class="keywordflow">return</span> <span class="keyword">new</span> ExternalInterrupt(<a class="code" href="classX86ISA_1_1Interrupts.html#a916ffa14869566ee27ff80a156e8dade">extIntVector</a>);
<a name="l00687"></a>00687     } <span class="keywordflow">else</span> {
<a name="l00688"></a>00688         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Generated regular interrupt fault object.\n&quot;</span>);
<a name="l00689"></a>00689         <span class="comment">// The only thing left are fixed and lowest priority interrupts.</span>
<a name="l00690"></a>00690         <span class="keywordflow">return</span> <span class="keyword">new</span> ExternalInterrupt(<a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a>);
<a name="l00691"></a>00691     }
<a name="l00692"></a>00692 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac66222ec5b6b7beb5d1189c07778bc8a"></a><!-- doxytag: member="X86ISA::Interrupts::getMasterPort" ref="ac66222ec5b6b7beb5d1189c07778bc8a" args="(const std::string &amp;if_name, PortID idx=InvalidPortID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseMasterPort.html">BaseMasterPort</a>&amp; getMasterPort </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>if_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>idx</em> = <code><a class="el" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a master port with a given name and index. This is used at binding time and returns a reference to a protocol-agnostic base master port.</p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>if_name</em>&nbsp;</td><td><a class="el" href="classPort.html">Port</a> name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>idx</em>&nbsp;</td><td>Index in the case of a VectorPort</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>A reference to the given port </dd></dl>

<p><a class="el" href="classMemObject.html#adc4e675e51defbdd1e354dac729d0703">MemObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00238"></a>00238     {
<a name="l00239"></a>00239         <span class="keywordflow">if</span> (if_name == <span class="stringliteral">&quot;int_master&quot;</span>) {
<a name="l00240"></a>00240             <span class="keywordflow">return</span> <a class="code" href="classX86ISA_1_1IntDevice.html#a874cd4b6512ae9527310c851890114f5">intMasterPort</a>;
<a name="l00241"></a>00241         }
<a name="l00242"></a>00242         <span class="keywordflow">return</span> <a class="code" href="classX86ISA_1_1Interrupts.html#ac66222ec5b6b7beb5d1189c07778bc8a">BasicPioDevice::getMasterPort</a>(if_name, idx);
<a name="l00243"></a>00243     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae3b47da5f3237bda2aa53f8ae3399040"></a><!-- doxytag: member="X86ISA::Interrupts::getRegArrayBit" ref="ae3b47da5f3237bda2aa53f8ae3399040" args="(ApicRegIndex base, uint8_t vector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getRegArrayBit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>vector</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00182"></a>00182     {
<a name="l00183"></a>00183         <span class="keywordflow">return</span> <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123">bits</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#a22fd87812cbb48f6d80b6cc7957490cf">base</a> + (<a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a> / 32)], <a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a> % 5);
<a name="l00184"></a>00184     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5b5b45105eb4b64567ecea56e5bc30f2"></a><!-- doxytag: member="X86ISA::Interrupts::getSlavePort" ref="a5b5b45105eb4b64567ecea56e5bc30f2" args="(const std::string &amp;if_name, PortID idx=InvalidPortID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseSlavePort.html">BaseSlavePort</a>&amp; getSlavePort </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>if_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>idx</em> = <code><a class="el" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a slave port with a given name and index. This is used at binding time and returns a reference to a protocol-agnostic base master port.</p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>if_name</em>&nbsp;</td><td><a class="el" href="classPort.html">Port</a> name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>idx</em>&nbsp;</td><td>Index in the case of a VectorPort</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>A reference to the given port </dd></dl>

<p><a class="el" href="classPioDevice.html#ac918a145092d7514ebc6dbd952dceafb">PioDevice</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00247"></a>00247     {
<a name="l00248"></a>00248         <span class="keywordflow">if</span> (if_name == <span class="stringliteral">&quot;int_slave&quot;</span>) {
<a name="l00249"></a>00249             <span class="keywordflow">return</span> <a class="code" href="classX86ISA_1_1Interrupts.html#ae8b4c7c51db0b74d5e60b6db0ca0016c">intSlavePort</a>;
<a name="l00250"></a>00250         }
<a name="l00251"></a>00251         <span class="keywordflow">return</span> <a class="code" href="classX86ISA_1_1Interrupts.html#a5b5b45105eb4b64567ecea56e5bc30f2">BasicPioDevice::getSlavePort</a>(if_name, idx);
<a name="l00252"></a>00252     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a24a3de3c5f8caba5e9aa0d5653a31f63"></a><!-- doxytag: member="X86ISA::Interrupts::hasPendingUnmaskable" ref="a24a3de3c5f8caba5e9aa0d5653a31f63" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hasPendingUnmaskable </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCheck.html">Check</a> if there are pending unmaskable interrupts.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>true there are unmaskable interrupts pending. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00289"></a>00289 { <span class="keywordflow">return</span> <a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a02fd73d861ef2e4aabb38c0c9ff82947"></a><!-- doxytag: member="X86ISA::Interrupts::init" ref="a02fd73d861ef2e4aabb38c0c9ff82947" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classX86ISA_1_1IntDevice.html#a02fd73d861ef2e4aabb38c0c9ff82947">IntDevice</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00312"></a>00312 {
<a name="l00313"></a>00313     <span class="comment">//</span>
<a name="l00314"></a>00314     <span class="comment">// The local apic must register its address ranges on both its pio</span>
<a name="l00315"></a>00315     <span class="comment">// port via the basicpiodevice(piodevice) init() function and its</span>
<a name="l00316"></a>00316     <span class="comment">// int port that it inherited from IntDevice.  Note IntDevice is</span>
<a name="l00317"></a>00317     <span class="comment">// not a SimObject itself.</span>
<a name="l00318"></a>00318     <span class="comment">//</span>
<a name="l00319"></a>00319     <a class="code" href="classX86ISA_1_1Interrupts.html#a02fd73d861ef2e4aabb38c0c9ff82947">BasicPioDevice::init</a>();
<a name="l00320"></a>00320     <a class="code" href="classX86ISA_1_1Interrupts.html#a02fd73d861ef2e4aabb38c0c9ff82947">IntDevice::init</a>();
<a name="l00321"></a>00321 
<a name="l00322"></a>00322     <span class="comment">// the slave port has a range so inform the connected master</span>
<a name="l00323"></a>00323     <a class="code" href="classX86ISA_1_1Interrupts.html#ae8b4c7c51db0b74d5e60b6db0ca0016c">intSlavePort</a>.<a class="code" href="classSlavePort.html#afb438cc39c4c679860c791bcef6dc7f3">sendRangeChange</a>();
<a name="l00324"></a>00324 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acd3c3feb78ae7a8f88fe0f110a718dff"></a><!-- doxytag: member="X86ISA::Interrupts::params" ref="acd3c3feb78ae7a8f88fe0f110a718dff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classX86ISA_1_1Interrupts.html#a3c48a671abef695247afdd48259ac20a">Params</a>* params </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classBasicPioDevice.html#acd3c3feb78ae7a8f88fe0f110a718dff">BasicPioDevice</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00208"></a>00208     {
<a name="l00209"></a>00209         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classX86ISA_1_1Interrupts.html#a3c48a671abef695247afdd48259ac20a">Params</a> *<span class="keyword">&gt;</span>(<a class="code" href="classSimObject.html#acaf6024ae9dda44bfb1c67e05ad70aef">_params</a>);
<a name="l00210"></a>00210     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a24c6c4fbdc0605bcd015ce06f194e4b4"></a><!-- doxytag: member="X86ISA::Interrupts::post" ref="a24c6c4fbdc0605bcd015ce06f194e4b4" args="(int int_num, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void post </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>int_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00306"></a>00306     {
<a name="l00307"></a>00307         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Interrupts::post unimplemented!\n&quot;</span>);
<a name="l00308"></a>00308     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a613ec7d5e1ec64f8d21fec78ae8e568e"></a><!-- doxytag: member="X86ISA::Interrupts::read" ref="a613ec7d5e1ec64f8d21fec78ae8e568e" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pure virtual function that the device must implement. Called when a read command is recieved by the port. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html">Packet</a> describing this request </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of ticks it took to complete </dd></dl>

<p><a class="el" href="classPioDevice.html#a842312590432036092c422c87a442358">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00213"></a>00213 {
<a name="l00214"></a>00214     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a> = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() - <a class="code" href="classBasicPioDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a>;
<a name="l00215"></a>00215     <span class="comment">//Make sure we&apos;re at least only accessing one register.</span>
<a name="l00216"></a>00216     <span class="keywordflow">if</span> ((offset &amp; ~<a class="code" href="namespaceX86ISA.html#a5d76cc2129e79ba1941d2cc2f53b9e8e">mask</a>(3)) != ((offset + pkt-&gt;<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>()) &amp; ~<a class="code" href="namespaceX86ISA.html#a5d76cc2129e79ba1941d2cc2f53b9e8e">mask</a>(3)))
<a name="l00217"></a>00217         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Accessed more than one register at a time in the APIC!\n&quot;</span>);
<a name="l00218"></a>00218     <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a> <a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a> = <a class="code" href="namespaceX86ISA.html#adb790daea6d2a4198290c636a655fbc7">decodeAddr</a>(offset);
<a name="l00219"></a>00219     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> = <a class="code" href="namespaceBigEndianGuest.html#a10c3370b6af5a1216a2a64c0d379f788">htog</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a505f3b9c44f3e911ac16a833289d72d6">readReg</a>(reg));
<a name="l00220"></a>00220     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic,
<a name="l00221"></a>00221             <span class="stringliteral">&quot;Reading Local APIC register %d at offset %#x as %#x.\n&quot;</span>,
<a name="l00222"></a>00222             reg, offset, val);
<a name="l00223"></a>00223     pkt-&gt;<a class="code" href="classPacket.html#aaa0b1cd19807fc630d9331be9f5d1d36">setData</a>(((uint8_t *)&amp;val) + (offset &amp; <a class="code" href="namespaceX86ISA.html#a5d76cc2129e79ba1941d2cc2f53b9e8e">mask</a>(3)));
<a name="l00224"></a>00224     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00225"></a>00225     <span class="keywordflow">return</span> <a class="code" href="classBasicPioDevice.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>;
<a name="l00226"></a>00226 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a505f3b9c44f3e911ac16a833289d72d6"></a><!-- doxytag: member="X86ISA::Interrupts::readReg" ref="a505f3b9c44f3e911ac16a833289d72d6" args="(ApicRegIndex miscReg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> readReg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>miscReg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00384"></a>00384 {
<a name="l00385"></a>00385     <span class="keywordflow">if</span> (<a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a> &gt;= <a class="code" href="namespaceX86ISA.html#afdf90895c5487dc266f742f30bb4a568">APIC_TRIGGER_MODE</a>(0) &amp;&amp;
<a name="l00386"></a>00386             <a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a> &lt;= <a class="code" href="namespaceX86ISA.html#afdf90895c5487dc266f742f30bb4a568">APIC_TRIGGER_MODE</a>(15)) {
<a name="l00387"></a>00387         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Local APIC Trigger Mode registers are unimplemented.\n&quot;</span>);
<a name="l00388"></a>00388     }
<a name="l00389"></a>00389     <span class="keywordflow">switch</span> (<a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a>) {
<a name="l00390"></a>00390       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a1503828ef17c9b88de44b778f6efd52c">APIC_ARBITRATION_PRIORITY</a>:
<a name="l00391"></a>00391         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Local APIC Arbitration Priority register unimplemented.\n&quot;</span>);
<a name="l00392"></a>00392         <span class="keywordflow">break</span>;
<a name="l00393"></a>00393       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a15292e2ed7b167af9a19a4db2406077b">APIC_PROCESSOR_PRIORITY</a>:
<a name="l00394"></a>00394         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Local APIC Processor Priority register unimplemented.\n&quot;</span>);
<a name="l00395"></a>00395         <span class="keywordflow">break</span>;
<a name="l00396"></a>00396       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a56d3d52b81eeb1310a517a97474a110d">APIC_ERROR_STATUS</a>:
<a name="l00397"></a>00397         <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a6cee13db3ff4d842d6f69f8b4d3ebec7">APIC_INTERNAL_STATE</a>] &amp;= ~<a class="code" href="base_2types_8hh.html#adcc3cf526a71c0dfaae020d432c78b83">ULL</a>(0x1);
<a name="l00398"></a>00398         <span class="keywordflow">break</span>;
<a name="l00399"></a>00399       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a58280c164e1ac7ce1f96388426eedae2">APIC_CURRENT_COUNT</a>:
<a name="l00400"></a>00400         {
<a name="l00401"></a>00401             <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a>.scheduled()) {
<a name="l00402"></a>00402                 <span class="comment">// Compute how many m5 ticks happen per count.</span>
<a name="l00403"></a>00403                 uint64_t ticksPerCount = <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>() *
<a name="l00404"></a>00404                     <a class="code" href="x86_2interrupts_8cc.html#a849c576f20c815c41bcb63318035ab93">divideFromConf</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a8222bef49f213396d8e7355618db1a19">APIC_DIVIDE_CONFIGURATION</a>]);
<a name="l00405"></a>00405                 <span class="comment">// Compute how many m5 ticks are left.</span>
<a name="l00406"></a>00406                 uint64_t <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a>.when() - <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>();
<a name="l00407"></a>00407                 <span class="comment">// Turn that into a count.</span>
<a name="l00408"></a>00408                 val = (val + ticksPerCount - 1) / ticksPerCount;
<a name="l00409"></a>00409                 <span class="keywordflow">return</span> val;
<a name="l00410"></a>00410             } <span class="keywordflow">else</span> {
<a name="l00411"></a>00411                 <span class="keywordflow">return</span> 0;
<a name="l00412"></a>00412             }
<a name="l00413"></a>00413         }
<a name="l00414"></a>00414       <span class="keywordflow">default</span>:
<a name="l00415"></a>00415         <span class="keywordflow">break</span>;
<a name="l00416"></a>00416     }
<a name="l00417"></a>00417     <span class="keywordflow">return</span> <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a>];
<a name="l00418"></a>00418 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3dad3b561a1022eee5fab74df92ce766"></a><!-- doxytag: member="X86ISA::Interrupts::recvMessage" ref="a3dad3b561a1022eee5fab74df92ce766" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> recvMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classX86ISA_1_1IntDevice.html#a6da97a03af9e80f6f8b865b85a430f35">IntDevice</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00329"></a>00329 {
<a name="l00330"></a>00330     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a> = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() - <a class="code" href="namespaceX86ISA.html#a2f44ed2c4b9c14c0eab6bdc3b8b95c03">x86InterruptAddress</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a>, 0);
<a name="l00331"></a>00331     assert(pkt-&gt;<a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a> == <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153a5020945a9a0f0fdea481ef3f90964bec">MemCmd::MessageReq</a>);
<a name="l00332"></a>00332     <span class="keywordflow">switch</span>(offset)
<a name="l00333"></a>00333     {
<a name="l00334"></a>00334       <span class="keywordflow">case</span> 0:
<a name="l00335"></a>00335         {
<a name="l00336"></a>00336             TriggerIntMessage message = pkt-&gt;<a class="code" href="classPacket.html#af6ea056c8af82f08af9fd0d857967f9b">get</a>&lt;TriggerIntMessage&gt;();
<a name="l00337"></a>00337             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic,
<a name="l00338"></a>00338                     <span class="stringliteral">&quot;Got Trigger Interrupt message with vector %#x.\n&quot;</span>,
<a name="l00339"></a>00339                     message.vector);
<a name="l00340"></a>00340 
<a name="l00341"></a>00341             <a class="code" href="classX86ISA_1_1Interrupts.html#a19885e71b7427a0f49d5b006c1d7fc7f">requestInterrupt</a>(message.vector,
<a name="l00342"></a>00342                     message.deliveryMode, message.trigger);
<a name="l00343"></a>00343         }
<a name="l00344"></a>00344         <span class="keywordflow">break</span>;
<a name="l00345"></a>00345       <span class="keywordflow">default</span>:
<a name="l00346"></a>00346         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Local apic got unknown interrupt message at offset %#x.\n&quot;</span>,
<a name="l00347"></a>00347                 offset);
<a name="l00348"></a>00348         <span class="keywordflow">break</span>;
<a name="l00349"></a>00349     }
<a name="l00350"></a>00350     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00351"></a>00351     <span class="keywordflow">return</span> <a class="code" href="classBasicPioDevice.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>;
<a name="l00352"></a>00352 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a96d1a00beed669f9145d55bc3675d99c"></a><!-- doxytag: member="X86ISA::Interrupts::recvResponse" ref="a96d1a00beed669f9145d55bc3675d99c" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> recvResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classX86ISA_1_1IntDevice.html#ae473b2a0c55e73359b9643810869ca81">IntDevice</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00357"></a>00357 {
<a name="l00358"></a>00358     assert(!pkt-&gt;<a class="code" href="classPacket.html#a32759931a1b2d6380407c6a18abd46e3">isError</a>());
<a name="l00359"></a>00359     assert(pkt-&gt;<a class="code" href="classPacket.html#af88eb56d484b750933cd2ea86594f001" title="The command field of the packet.">cmd</a> == <a class="code" href="classMemCmd.html#a2afce0a47a93eee73a314d53e4890153acc0d64bdbcfa7a61fa0b91ebe162c8c5">MemCmd::MessageResp</a>);
<a name="l00360"></a>00360     <span class="keywordflow">if</span> (--<a class="code" href="classX86ISA_1_1Interrupts.html#aef75f0fcb528c2f7cafdf0fa0dcccb40">pendingIPIs</a> == 0) {
<a name="l00361"></a>00361         InterruptCommandRegLow low = <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a4fa27532542040e5d73d4e69e0d0a07d">APIC_INTERRUPT_COMMAND_LOW</a>];
<a name="l00362"></a>00362         <span class="comment">// Record that the ICR is now idle.</span>
<a name="l00363"></a>00363         low.deliveryStatus = 0;
<a name="l00364"></a>00364         <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a4fa27532542040e5d73d4e69e0d0a07d">APIC_INTERRUPT_COMMAND_LOW</a>] = low;
<a name="l00365"></a>00365     }
<a name="l00366"></a>00366     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;ICR is now idle.\n&quot;</span>);
<a name="l00367"></a>00367     <span class="keywordflow">return</span> 0;
<a name="l00368"></a>00368 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a19885e71b7427a0f49d5b006c1d7fc7f"></a><!-- doxytag: member="X86ISA::Interrupts::requestInterrupt" ref="a19885e71b7427a0f49d5b006c1d7fc7f" args="(uint8_t vector, uint8_t deliveryMode, bool level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void requestInterrupt </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>deliveryMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>level</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00248"></a>00248 {
<a name="l00249"></a>00249     <span class="comment">/*</span>
<a name="l00250"></a>00250 <span class="comment">     * Fixed and lowest-priority delivery mode interrupts are handled</span>
<a name="l00251"></a>00251 <span class="comment">     * using the IRR/ISR registers, checking against the TPR, etc.</span>
<a name="l00252"></a>00252 <span class="comment">     * The SMI, NMI, ExtInt, INIT, etc interrupts go straight through.</span>
<a name="l00253"></a>00253 <span class="comment">     */</span>
<a name="l00254"></a>00254     <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a> == DeliveryMode::Fixed ||
<a name="l00255"></a>00255             <a class="code" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a> == DeliveryMode::LowestPriority) {
<a name="l00256"></a>00256         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Interrupt is an %s.\n&quot;</span>,
<a name="l00257"></a>00257                 <a class="code" href="namespacem5_1_1stats.html#a31c1745e8384111d62933080372a6861">DeliveryMode::names</a>[<a class="code" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a>]);
<a name="l00258"></a>00258         <span class="comment">// Queue up the interrupt in the IRR.</span>
<a name="l00259"></a>00259         <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a> &gt; <a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a>)
<a name="l00260"></a>00260             <a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>;
<a name="l00261"></a>00261         <span class="keywordflow">if</span> (!<a class="code" href="classX86ISA_1_1Interrupts.html#ae3b47da5f3237bda2aa53f8ae3399040">getRegArrayBit</a>(<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a2ee7104372cb641092daabc28ffdd0c1">APIC_INTERRUPT_REQUEST_BASE</a>, <a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>)) {
<a name="l00262"></a>00262             <a class="code" href="classX86ISA_1_1Interrupts.html#ac346555c2f6639d76b0d3730d0e216e2">setRegArrayBit</a>(<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a2ee7104372cb641092daabc28ffdd0c1">APIC_INTERRUPT_REQUEST_BASE</a>, <a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>);
<a name="l00263"></a>00263             <span class="keywordflow">if</span> (<a class="code" href="namespaceX86ISA.html#a66adbc3470a30c6702194c0e48f2225d">level</a>) {
<a name="l00264"></a>00264                 <a class="code" href="classX86ISA_1_1Interrupts.html#ac346555c2f6639d76b0d3730d0e216e2">setRegArrayBit</a>(<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a579e62281d1a2f66fe39809a385f90ae">APIC_TRIGGER_MODE_BASE</a>, <a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>);
<a name="l00265"></a>00265             } <span class="keywordflow">else</span> {
<a name="l00266"></a>00266                 <a class="code" href="classX86ISA_1_1Interrupts.html#a6ccfdb5e91c1463b861d5cd6cbb23c46">clearRegArrayBit</a>(<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a579e62281d1a2f66fe39809a385f90ae">APIC_TRIGGER_MODE_BASE</a>, <a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>);
<a name="l00267"></a>00267             }
<a name="l00268"></a>00268         }
<a name="l00269"></a>00269     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!DeliveryMode::isReserved(<a class="code" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a>)) {
<a name="l00270"></a>00270         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Interrupt is an %s.\n&quot;</span>,
<a name="l00271"></a>00271                 <a class="code" href="namespacem5_1_1stats.html#a31c1745e8384111d62933080372a6861">DeliveryMode::names</a>[<a class="code" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a>]);
<a name="l00272"></a>00272         <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a> == DeliveryMode::SMI &amp;&amp; !<a class="code" href="classX86ISA_1_1Interrupts.html#aeeb4c03ee1caa86828b12a7085f845c9">pendingSmi</a>) {
<a name="l00273"></a>00273             <a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#aeeb4c03ee1caa86828b12a7085f845c9">pendingSmi</a> = <span class="keyword">true</span>;
<a name="l00274"></a>00274             <a class="code" href="classX86ISA_1_1Interrupts.html#ac62acbbee5adef17b6e0b960b7fb11c5">smiVector</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>;
<a name="l00275"></a>00275         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a> == DeliveryMode::NMI &amp;&amp; !<a class="code" href="classX86ISA_1_1Interrupts.html#a1ecac2b1b786eb4f69035a6f1b499297">pendingNmi</a>) {
<a name="l00276"></a>00276             <a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a1ecac2b1b786eb4f69035a6f1b499297">pendingNmi</a> = <span class="keyword">true</span>;
<a name="l00277"></a>00277             <a class="code" href="classX86ISA_1_1Interrupts.html#acc5de6934d3b5e99ddfa33038bedc24a">nmiVector</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>;
<a name="l00278"></a>00278         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a> == DeliveryMode::ExtInt &amp;&amp; !<a class="code" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a>) {
<a name="l00279"></a>00279             <a class="code" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a> = <span class="keyword">true</span>;
<a name="l00280"></a>00280             <a class="code" href="classX86ISA_1_1Interrupts.html#a916ffa14869566ee27ff80a156e8dade">extIntVector</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>;
<a name="l00281"></a>00281         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a> == DeliveryMode::INIT &amp;&amp; !<a class="code" href="classX86ISA_1_1Interrupts.html#a3c53994e08d31f19e9ee2400effd6f5e">pendingInit</a>) {
<a name="l00282"></a>00282             <a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a3c53994e08d31f19e9ee2400effd6f5e">pendingInit</a> = <span class="keyword">true</span>;
<a name="l00283"></a>00283             <a class="code" href="classX86ISA_1_1Interrupts.html#a3e21475b0787502498afda4c6931da0c">initVector</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>;
<a name="l00284"></a>00284         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a> == DeliveryMode::SIPI &amp;&amp;
<a name="l00285"></a>00285                 !<a class="code" href="classX86ISA_1_1Interrupts.html#aa6f1c7032da250f8932f9856dcda20f0">pendingStartup</a> &amp;&amp; !<a class="code" href="classX86ISA_1_1Interrupts.html#a46feb43d5deb6cf7bcd3f142d7dc11da">startedUp</a>) {
<a name="l00286"></a>00286             <a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#aa6f1c7032da250f8932f9856dcda20f0">pendingStartup</a> = <span class="keyword">true</span>;
<a name="l00287"></a>00287             <a class="code" href="classX86ISA_1_1Interrupts.html#af7c23ab865f682ddda21c75170de1126">startupVector</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a>;
<a name="l00288"></a>00288         }
<a name="l00289"></a>00289     }
<a name="l00290"></a>00290     <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370">FullSystem</a>)
<a name="l00291"></a>00291         <a class="code" href="classX86ISA_1_1Interrupts.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a>-&gt;<a class="code" href="classBaseCPU.html#a75101f8aee74078c8c3c1d1f3617f7cc">wakeup</a>();
<a name="l00292"></a>00292 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53e036786d17361be4c7320d39c99b84"></a><!-- doxytag: member="X86ISA::Interrupts::serialize" ref="a53e036786d17361be4c7320d39c99b84" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#ad6272f80ae37e8331e3969b3f072a801">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00731"></a>00731 {
<a name="l00732"></a>00732     <a class="code" href="serialize_8hh.html#a9aa03522128bc19a3bc0294501226f8b">SERIALIZE_ARRAY</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>, <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649acac3cc02926b9ee42adeac70e95690ec">NUM_APIC_REGS</a>);
<a name="l00733"></a>00733     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#aeeb4c03ee1caa86828b12a7085f845c9">pendingSmi</a>);
<a name="l00734"></a>00734     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#ac62acbbee5adef17b6e0b960b7fb11c5">smiVector</a>);
<a name="l00735"></a>00735     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a1ecac2b1b786eb4f69035a6f1b499297">pendingNmi</a>);
<a name="l00736"></a>00736     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#acc5de6934d3b5e99ddfa33038bedc24a">nmiVector</a>);
<a name="l00737"></a>00737     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a>);
<a name="l00738"></a>00738     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a916ffa14869566ee27ff80a156e8dade">extIntVector</a>);
<a name="l00739"></a>00739     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a3c53994e08d31f19e9ee2400effd6f5e">pendingInit</a>);
<a name="l00740"></a>00740     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a3e21475b0787502498afda4c6931da0c">initVector</a>);
<a name="l00741"></a>00741     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#aa6f1c7032da250f8932f9856dcda20f0">pendingStartup</a>);
<a name="l00742"></a>00742     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#af7c23ab865f682ddda21c75170de1126">startupVector</a>);
<a name="l00743"></a>00743     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a46feb43d5deb6cf7bcd3f142d7dc11da">startedUp</a>);
<a name="l00744"></a>00744     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a>);
<a name="l00745"></a>00745     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#aef75f0fcb528c2f7cafdf0fa0dcccb40">pendingIPIs</a>);
<a name="l00746"></a>00746     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a>);
<a name="l00747"></a>00747     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a89802b4867c1ebeb92a413ec679732c9">ISRV</a>);
<a name="l00748"></a>00748     <span class="keywordtype">bool</span> apicTimerEventScheduled = <a class="code" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a>.scheduled();
<a name="l00749"></a>00749     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(apicTimerEventScheduled);
<a name="l00750"></a>00750     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> apicTimerEventTick = <a class="code" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a>.when();
<a name="l00751"></a>00751     <a class="code" href="serialize_8hh.html#a49163149ec656ffecff0e46aee418e29">SERIALIZE_SCALAR</a>(apicTimerEventTick);
<a name="l00752"></a>00752 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa209f4cfe10a4390a73aadcf2d176294"></a><!-- doxytag: member="X86ISA::Interrupts::setCPU" ref="aa209f4cfe10a4390a73aadcf2d176294" args="(BaseCPU *newCPU)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setCPU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCPU.html">BaseCPU</a> *&nbsp;</td>
          <td class="paramname"> <em>newCPU</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00297"></a>00297 {
<a name="l00298"></a>00298     assert(newCPU);
<a name="l00299"></a>00299     <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a> != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a> &amp;&amp; <a class="code" href="classX86ISA_1_1Interrupts.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a>-&gt;cpuId() != newCPU-&gt;cpuId()) {
<a name="l00300"></a>00300         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Local APICs can&apos;t be moved between CPUs&quot;</span>
<a name="l00301"></a>00301                 <span class="stringliteral">&quot; with different IDs.\n&quot;</span>);
<a name="l00302"></a>00302     }
<a name="l00303"></a>00303     <a class="code" href="classX86ISA_1_1Interrupts.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a> = newCPU;
<a name="l00304"></a>00304     <a class="code" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a>-&gt;cpuId();
<a name="l00305"></a>00305     <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649acd891a613799d8d7d83e1be86cbf496d">APIC_ID</a>] = (<a class="code" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a> &lt;&lt; 24);
<a name="l00306"></a>00306     <a class="code" href="classBasicPioDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a> = <a class="code" href="namespaceX86ISA.html#afe1cfa1e015d1bc9a1aaa13453e9af92">x86LocalAPICAddress</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a>, 0);
<a name="l00307"></a>00307 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af0c2ac2127c28e0a1e26b9b005e1bfa1"></a><!-- doxytag: member="X86ISA::Interrupts::setReg" ref="af0c2ac2127c28e0a1e26b9b005e1bfa1" args="(ApicRegIndex reg, uint32_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setReg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00422"></a>00422 {
<a name="l00423"></a>00423     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> newVal = <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>;
<a name="l00424"></a>00424     <span class="keywordflow">if</span> (<a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a> &gt;= <a class="code" href="namespaceX86ISA.html#a5c1e138a13b5dfdeed52ed0ebf585fe2">APIC_IN_SERVICE</a>(0) &amp;&amp;
<a name="l00425"></a>00425             <a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a> &lt;= <a class="code" href="namespaceX86ISA.html#a5c1e138a13b5dfdeed52ed0ebf585fe2">APIC_IN_SERVICE</a>(15)) {
<a name="l00426"></a>00426         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Local APIC In-Service registers are unimplemented.\n&quot;</span>);
<a name="l00427"></a>00427     }
<a name="l00428"></a>00428     <span class="keywordflow">if</span> (<a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a> &gt;= <a class="code" href="namespaceX86ISA.html#afdf90895c5487dc266f742f30bb4a568">APIC_TRIGGER_MODE</a>(0) &amp;&amp;
<a name="l00429"></a>00429             <a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a> &lt;= <a class="code" href="namespaceX86ISA.html#afdf90895c5487dc266f742f30bb4a568">APIC_TRIGGER_MODE</a>(15)) {
<a name="l00430"></a>00430         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Local APIC Trigger Mode registers are unimplemented.\n&quot;</span>);
<a name="l00431"></a>00431     }
<a name="l00432"></a>00432     <span class="keywordflow">if</span> (<a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a> &gt;= <a class="code" href="namespaceX86ISA.html#a3c8c801a8304b85b8c6ae6ca3ac00f74">APIC_INTERRUPT_REQUEST</a>(0) &amp;&amp;
<a name="l00433"></a>00433             <a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a> &lt;= <a class="code" href="namespaceX86ISA.html#a3c8c801a8304b85b8c6ae6ca3ac00f74">APIC_INTERRUPT_REQUEST</a>(15)) {
<a name="l00434"></a>00434         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Local APIC Interrupt Request registers &quot;</span>
<a name="l00435"></a>00435                 <span class="stringliteral">&quot;are unimplemented.\n&quot;</span>);
<a name="l00436"></a>00436     }
<a name="l00437"></a>00437     <span class="keywordflow">switch</span> (<a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a>) {
<a name="l00438"></a>00438       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649acd891a613799d8d7d83e1be86cbf496d">APIC_ID</a>:
<a name="l00439"></a>00439         newVal = <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> &amp; 0xFF;
<a name="l00440"></a>00440         <span class="keywordflow">break</span>;
<a name="l00441"></a>00441       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a60b0a6b6dab97b269e1fc9cccd33d7c6">APIC_VERSION</a>:
<a name="l00442"></a>00442         <span class="comment">// The Local APIC Version register is read only.</span>
<a name="l00443"></a>00443         <span class="keywordflow">return</span>;
<a name="l00444"></a>00444       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649afd5e32c09545fe1754c5d78fbe029b85">APIC_TASK_PRIORITY</a>:
<a name="l00445"></a>00445         newVal = <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> &amp; 0xFF;
<a name="l00446"></a>00446         <span class="keywordflow">break</span>;
<a name="l00447"></a>00447       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a1503828ef17c9b88de44b778f6efd52c">APIC_ARBITRATION_PRIORITY</a>:
<a name="l00448"></a>00448         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Local APIC Arbitration Priority register unimplemented.\n&quot;</span>);
<a name="l00449"></a>00449         <span class="keywordflow">break</span>;
<a name="l00450"></a>00450       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a15292e2ed7b167af9a19a4db2406077b">APIC_PROCESSOR_PRIORITY</a>:
<a name="l00451"></a>00451         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Local APIC Processor Priority register unimplemented.\n&quot;</span>);
<a name="l00452"></a>00452         <span class="keywordflow">break</span>;
<a name="l00453"></a>00453       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649abdb2804479ba12b1366696688da795e7">APIC_EOI</a>:
<a name="l00454"></a>00454         <span class="comment">// Remove the interrupt that just completed from the local apic state.</span>
<a name="l00455"></a>00455         <a class="code" href="classX86ISA_1_1Interrupts.html#a6ccfdb5e91c1463b861d5cd6cbb23c46">clearRegArrayBit</a>(<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ab44e07d8e0d33a340f8d69334f0a3382">APIC_IN_SERVICE_BASE</a>, <a class="code" href="classX86ISA_1_1Interrupts.html#a89802b4867c1ebeb92a413ec679732c9">ISRV</a>);
<a name="l00456"></a>00456         <a class="code" href="classX86ISA_1_1Interrupts.html#af645e39703e6f7ea975409c79fc0f41b">updateISRV</a>();
<a name="l00457"></a>00457         <span class="keywordflow">return</span>;
<a name="l00458"></a>00458       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a137774031793b99cde054b3dccb12bdd">APIC_LOGICAL_DESTINATION</a>:
<a name="l00459"></a>00459         newVal = <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> &amp; 0xFF000000;
<a name="l00460"></a>00460         <span class="keywordflow">break</span>;
<a name="l00461"></a>00461       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a77cc386e5345ab6ec3c09dd960973dd6">APIC_DESTINATION_FORMAT</a>:
<a name="l00462"></a>00462         newVal = <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> | 0x0FFFFFFF;
<a name="l00463"></a>00463         <span class="keywordflow">break</span>;
<a name="l00464"></a>00464       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ad2fbb7c848d92024ea8c72740bc5a5b0">APIC_SPURIOUS_INTERRUPT_VECTOR</a>:
<a name="l00465"></a>00465         <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a6cee13db3ff4d842d6f69f8b4d3ebec7">APIC_INTERNAL_STATE</a>] &amp;= ~<a class="code" href="base_2types_8hh.html#adcc3cf526a71c0dfaae020d432c78b83">ULL</a>(1 &lt;&lt; 1);
<a name="l00466"></a>00466         <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a6cee13db3ff4d842d6f69f8b4d3ebec7">APIC_INTERNAL_STATE</a>] |= <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> &amp; (1 &lt;&lt; 8);
<a name="l00467"></a>00467         <span class="keywordflow">if</span> (<a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> &amp; (1 &lt;&lt; 9))
<a name="l00468"></a>00468             <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a>(<span class="stringliteral">&quot;Focus processor checking not implemented.\n&quot;</span>);
<a name="l00469"></a>00469         <span class="keywordflow">break</span>;
<a name="l00470"></a>00470       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a56d3d52b81eeb1310a517a97474a110d">APIC_ERROR_STATUS</a>:
<a name="l00471"></a>00471         {
<a name="l00472"></a>00472             <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a6cee13db3ff4d842d6f69f8b4d3ebec7">APIC_INTERNAL_STATE</a>] &amp; 0x1) {
<a name="l00473"></a>00473                 <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a6cee13db3ff4d842d6f69f8b4d3ebec7">APIC_INTERNAL_STATE</a>] &amp;= ~<a class="code" href="base_2types_8hh.html#adcc3cf526a71c0dfaae020d432c78b83">ULL</a>(0x1);
<a name="l00474"></a>00474                 newVal = 0;
<a name="l00475"></a>00475             } <span class="keywordflow">else</span> {
<a name="l00476"></a>00476                 <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a6cee13db3ff4d842d6f69f8b4d3ebec7">APIC_INTERNAL_STATE</a>] |= <a class="code" href="base_2types_8hh.html#adcc3cf526a71c0dfaae020d432c78b83">ULL</a>(0x1);
<a name="l00477"></a>00477                 <span class="keywordflow">return</span>;
<a name="l00478"></a>00478             }
<a name="l00479"></a>00479 
<a name="l00480"></a>00480         }
<a name="l00481"></a>00481         <span class="keywordflow">break</span>;
<a name="l00482"></a>00482       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a4fa27532542040e5d73d4e69e0d0a07d">APIC_INTERRUPT_COMMAND_LOW</a>:
<a name="l00483"></a>00483         {
<a name="l00484"></a>00484             InterruptCommandRegLow low = <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a4fa27532542040e5d73d4e69e0d0a07d">APIC_INTERRUPT_COMMAND_LOW</a>];
<a name="l00485"></a>00485             <span class="comment">// Check if we&apos;re already sending an IPI.</span>
<a name="l00486"></a>00486             <span class="keywordflow">if</span> (low.deliveryStatus) {
<a name="l00487"></a>00487                 newVal = low;
<a name="l00488"></a>00488                 <span class="keywordflow">break</span>;
<a name="l00489"></a>00489             }
<a name="l00490"></a>00490             low = <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>;
<a name="l00491"></a>00491             InterruptCommandRegHigh high = <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649aa54f4f509b32a83bddec4a363c00cb11">APIC_INTERRUPT_COMMAND_HIGH</a>];
<a name="l00492"></a>00492             <span class="comment">// Record that an IPI is being sent.</span>
<a name="l00493"></a>00493             low.deliveryStatus = 1;
<a name="l00494"></a>00494             TriggerIntMessage message = 0;
<a name="l00495"></a>00495             message.destination = high.destination;
<a name="l00496"></a>00496             message.vector = low.vector;
<a name="l00497"></a>00497             message.deliveryMode = low.deliveryMode;
<a name="l00498"></a>00498             message.destMode = low.destMode;
<a name="l00499"></a>00499             message.level = low.level;
<a name="l00500"></a>00500             message.trigger = low.trigger;
<a name="l00501"></a>00501             <span class="keywordtype">bool</span> timing(<a class="code" href="classPioDevice.html#a8ae37465ba84acfef6af3e9b9e6dbbd5">sys</a>-&gt;<a class="code" href="classSystem.html#ae04bdd25f4dde1cc1b58b22505aa869c">isTimingMode</a>());
<a name="l00502"></a>00502             <span class="comment">// Be careful no updates of the delivery status bit get lost.</span>
<a name="l00503"></a>00503             <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a4fa27532542040e5d73d4e69e0d0a07d">APIC_INTERRUPT_COMMAND_LOW</a>] = low;
<a name="l00504"></a>00504             <a class="code" href="namespaceX86ISA.html#a25e7a37aec0875a2333d311783729d23">ApicList</a> apics;
<a name="l00505"></a>00505             <span class="keywordtype">int</span> numContexts = <a class="code" href="classPioDevice.html#a8ae37465ba84acfef6af3e9b9e6dbbd5">sys</a>-&gt;<a class="code" href="classSystem.html#a905b96f2c022dcde596bdb806661bcae">numContexts</a>();
<a name="l00506"></a>00506             <span class="keywordflow">switch</span> (low.destShorthand) {
<a name="l00507"></a>00507               <span class="keywordflow">case</span> 0:
<a name="l00508"></a>00508                 <span class="keywordflow">if</span> (message.deliveryMode == DeliveryMode::LowestPriority) {
<a name="l00509"></a>00509                     <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Lowest priority delivery mode &quot;</span>
<a name="l00510"></a>00510                             <span class="stringliteral">&quot;IPIs aren&apos;t implemented.\n&quot;</span>);
<a name="l00511"></a>00511                 }
<a name="l00512"></a>00512                 <span class="keywordflow">if</span> (message.destMode == 1) {
<a name="l00513"></a>00513                     <span class="keywordtype">int</span> dest = message.destination;
<a name="l00514"></a>00514                     <a class="code" href="base_2misc_8hh.html#ae2881bab26c1d2bf4a411f8b1fb7e574">hack_once</a>(<span class="stringliteral">&quot;Assuming logical destinations are 1 &lt;&lt; id.\n&quot;</span>);
<a name="l00515"></a>00515                     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; numContexts; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00516"></a>00516                         <span class="keywordflow">if</span> (dest &amp; 0x1)
<a name="l00517"></a>00517                             apics.push_back(<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>);
<a name="l00518"></a>00518                         dest = dest &gt;&gt; 1;
<a name="l00519"></a>00519                     }
<a name="l00520"></a>00520                 } <span class="keywordflow">else</span> {
<a name="l00521"></a>00521                     <span class="keywordflow">if</span> (message.destination == 0xFF) {
<a name="l00522"></a>00522                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; numContexts; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00523"></a>00523                             <span class="keywordflow">if</span> (<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> == <a class="code" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a>) {
<a name="l00524"></a>00524                                 <a class="code" href="classX86ISA_1_1Interrupts.html#a19885e71b7427a0f49d5b006c1d7fc7f">requestInterrupt</a>(message.vector,
<a name="l00525"></a>00525                                         message.deliveryMode, message.trigger);
<a name="l00526"></a>00526                             } <span class="keywordflow">else</span> {
<a name="l00527"></a>00527                                 apics.push_back(<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>);
<a name="l00528"></a>00528                             }
<a name="l00529"></a>00529                         }
<a name="l00530"></a>00530                     } <span class="keywordflow">else</span> {
<a name="l00531"></a>00531                         <span class="keywordflow">if</span> (message.destination == <a class="code" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a>) {
<a name="l00532"></a>00532                             <a class="code" href="classX86ISA_1_1Interrupts.html#a19885e71b7427a0f49d5b006c1d7fc7f">requestInterrupt</a>(message.vector,
<a name="l00533"></a>00533                                     message.deliveryMode, message.trigger);
<a name="l00534"></a>00534                         } <span class="keywordflow">else</span> {
<a name="l00535"></a>00535                             apics.push_back(message.destination);
<a name="l00536"></a>00536                         }
<a name="l00537"></a>00537                     }
<a name="l00538"></a>00538                 }
<a name="l00539"></a>00539                 <span class="keywordflow">break</span>;
<a name="l00540"></a>00540               <span class="keywordflow">case</span> 1:
<a name="l00541"></a>00541                 newVal = <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>;
<a name="l00542"></a>00542                 <a class="code" href="classX86ISA_1_1Interrupts.html#a19885e71b7427a0f49d5b006c1d7fc7f">requestInterrupt</a>(message.vector,
<a name="l00543"></a>00543                         message.deliveryMode, message.trigger);
<a name="l00544"></a>00544                 <span class="keywordflow">break</span>;
<a name="l00545"></a>00545               <span class="keywordflow">case</span> 2:
<a name="l00546"></a>00546                 <a class="code" href="classX86ISA_1_1Interrupts.html#a19885e71b7427a0f49d5b006c1d7fc7f">requestInterrupt</a>(message.vector,
<a name="l00547"></a>00547                         message.deliveryMode, message.trigger);
<a name="l00548"></a>00548                 <span class="comment">// Fall through</span>
<a name="l00549"></a>00549               <span class="keywordflow">case</span> 3:
<a name="l00550"></a>00550                 {
<a name="l00551"></a>00551                     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; numContexts; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00552"></a>00552                         <span class="keywordflow">if</span> (<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> != <a class="code" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a>) {
<a name="l00553"></a>00553                             apics.push_back(<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>);
<a name="l00554"></a>00554                         }
<a name="l00555"></a>00555                     }
<a name="l00556"></a>00556                 }
<a name="l00557"></a>00557                 <span class="keywordflow">break</span>;
<a name="l00558"></a>00558             }
<a name="l00559"></a>00559             <a class="code" href="classX86ISA_1_1Interrupts.html#aef75f0fcb528c2f7cafdf0fa0dcccb40">pendingIPIs</a> += apics.size();
<a name="l00560"></a>00560             <a class="code" href="classX86ISA_1_1IntDevice.html#a874cd4b6512ae9527310c851890114f5">intMasterPort</a>.<a class="code" href="classX86ISA_1_1IntDevice_1_1IntMasterPort.html#aa8849259721c2101686b45b59b587253">sendMessage</a>(apics, message, timing);
<a name="l00561"></a>00561             newVal = regs[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a4fa27532542040e5d73d4e69e0d0a07d">APIC_INTERRUPT_COMMAND_LOW</a>];
<a name="l00562"></a>00562         }
<a name="l00563"></a>00563         <span class="keywordflow">break</span>;
<a name="l00564"></a>00564       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ad1228146fe200dc1da0a4e48613e64de">APIC_LVT_TIMER</a>:
<a name="l00565"></a>00565       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ae6a8e929de3184f5e54eb2300b60c6a9">APIC_LVT_THERMAL_SENSOR</a>:
<a name="l00566"></a>00566       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a769c40616c8b9b7de024051b04227dbb">APIC_LVT_PERFORMANCE_MONITORING_COUNTERS</a>:
<a name="l00567"></a>00567       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ab07382707bac04fc055c6ca577127989">APIC_LVT_LINT0</a>:
<a name="l00568"></a>00568       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ac67e062e54bcdd8c8003f591079d8e51">APIC_LVT_LINT1</a>:
<a name="l00569"></a>00569       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ab452bdc9e036517c83e9bb804123bce8">APIC_LVT_ERROR</a>:
<a name="l00570"></a>00570         {
<a name="l00571"></a>00571             uint64_t readOnlyMask = (1 &lt;&lt; 12) | (1 &lt;&lt; 14);
<a name="l00572"></a>00572             newVal = (<a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> &amp; ~readOnlyMask) |
<a name="l00573"></a>00573                      (regs[<a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a>] &amp; readOnlyMask);
<a name="l00574"></a>00574         }
<a name="l00575"></a>00575         <span class="keywordflow">break</span>;
<a name="l00576"></a>00576       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ae716a6476f2512f58b1a277adc2a2e7d">APIC_INITIAL_COUNT</a>:
<a name="l00577"></a>00577         {
<a name="l00578"></a>00578             newVal = <a class="code" href="bitfield_8hh.html#a4ee0dc0723e11679c52429d5f8e05123">bits</a>(<a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>, 31, 0);
<a name="l00579"></a>00579             <span class="comment">// Compute how many timer ticks we&apos;re being programmed for.</span>
<a name="l00580"></a>00580             uint64_t newCount = newVal *
<a name="l00581"></a>00581                 (<a class="code" href="x86_2interrupts_8cc.html#a849c576f20c815c41bcb63318035ab93">divideFromConf</a>(regs[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a8222bef49f213396d8e7355618db1a19">APIC_DIVIDE_CONFIGURATION</a>]));
<a name="l00582"></a>00582             <span class="comment">// Schedule on the edge of the next tick plus the new count.</span>
<a name="l00583"></a>00583             <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a> = <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() % <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>();
<a name="l00584"></a>00584             <span class="keywordflow">if</span> (offset) {
<a name="l00585"></a>00585                 <a class="code" href="classEventManager.html#a83fe8e2d06cd7c6e36743e5beb07298f">reschedule</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a>,
<a name="l00586"></a>00586                            <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() + (newCount + 1) *
<a name="l00587"></a>00587                            <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>() - offset, <span class="keyword">true</span>);
<a name="l00588"></a>00588             } <span class="keywordflow">else</span> {
<a name="l00589"></a>00589                 <span class="keywordflow">if</span> (newCount)
<a name="l00590"></a>00590                     <a class="code" href="classEventManager.html#a83fe8e2d06cd7c6e36743e5beb07298f">reschedule</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a>,
<a name="l00591"></a>00591                                <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() + newCount *
<a name="l00592"></a>00592                                <a class="code" href="classClockedObject.html#a78c89cef17196c60470c4f2f76d43d8a">clockPeriod</a>(), <span class="keyword">true</span>);
<a name="l00593"></a>00593             }
<a name="l00594"></a>00594         }
<a name="l00595"></a>00595         <span class="keywordflow">break</span>;
<a name="l00596"></a>00596       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a58280c164e1ac7ce1f96388426eedae2">APIC_CURRENT_COUNT</a>:
<a name="l00597"></a>00597         <span class="comment">//Local APIC Current Count register is read only.</span>
<a name="l00598"></a>00598         <span class="keywordflow">return</span>;
<a name="l00599"></a>00599       <span class="keywordflow">case</span> <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a8222bef49f213396d8e7355618db1a19">APIC_DIVIDE_CONFIGURATION</a>:
<a name="l00600"></a>00600         newVal = <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> &amp; 0xB;
<a name="l00601"></a>00601         <span class="keywordflow">break</span>;
<a name="l00602"></a>00602       <span class="keywordflow">default</span>:
<a name="l00603"></a>00603         <span class="keywordflow">break</span>;
<a name="l00604"></a>00604     }
<a name="l00605"></a>00605     regs[<a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a>] = newVal;
<a name="l00606"></a>00606     <span class="keywordflow">return</span>;
<a name="l00607"></a>00607 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac346555c2f6639d76b0d3730d0e216e2"></a><!-- doxytag: member="X86ISA::Interrupts::setRegArrayBit" ref="ac346555c2f6639d76b0d3730d0e216e2" args="(ApicRegIndex base, uint8_t vector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setRegArrayBit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>vector</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00170"></a>00170     {
<a name="l00171"></a>00171         <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#a22fd87812cbb48f6d80b6cc7957490cf">base</a> + (<a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a> / 32)] |= (1 &lt;&lt; (<a class="code" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a> % 32));
<a name="l00172"></a>00172     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa35a02e092cafc6be88b0eb6afe22937"></a><!-- doxytag: member="X86ISA::Interrupts::setRegNoEffect" ref="aa35a02e092cafc6be88b0eb6afe22937" args="(ApicRegIndex reg, uint32_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setRegNoEffect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a>&nbsp;</td>
          <td class="paramname"> <em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00262"></a>00262     {
<a name="l00263"></a>00263         <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a>] = <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a>;
<a name="l00264"></a>00264     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a07d266f0ad36cfec987f7487aa2c54cc"></a><!-- doxytag: member="X86ISA::Interrupts::triggerTimerInterrupt" ref="a07d266f0ad36cfec987f7487aa2c54cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool triggerTimerInterrupt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00227"></a>00227     {
<a name="l00228"></a>00228         LVTEntry entry = <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ad1228146fe200dc1da0a4e48613e64de">APIC_LVT_TIMER</a>];
<a name="l00229"></a>00229         <span class="keywordflow">if</span> (!entry.masked)
<a name="l00230"></a>00230             <a class="code" href="classX86ISA_1_1Interrupts.html#a19885e71b7427a0f49d5b006c1d7fc7f">requestInterrupt</a>(entry.vector, entry.deliveryMode, entry.trigger);
<a name="l00231"></a>00231         <span class="keywordflow">return</span> entry.periodic;
<a name="l00232"></a>00232     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af22e5d6d660b97db37003ac61ac4ee49"></a><!-- doxytag: member="X86ISA::Interrupts::unserialize" ref="af22e5d6d660b97db37003ac61ac4ee49" args="(Checkpoint *cp, const std::string &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSerializable.html#af100c4e9feabf3cd918619c88c718387">Serializable</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00756"></a>00756 {
<a name="l00757"></a>00757     <a class="code" href="serialize_8hh.html#a8de12bf68d0f92f7ab8585820607932e">UNSERIALIZE_ARRAY</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>, <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649acac3cc02926b9ee42adeac70e95690ec">NUM_APIC_REGS</a>);
<a name="l00758"></a>00758     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#aeeb4c03ee1caa86828b12a7085f845c9">pendingSmi</a>);
<a name="l00759"></a>00759     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#ac62acbbee5adef17b6e0b960b7fb11c5">smiVector</a>);
<a name="l00760"></a>00760     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a1ecac2b1b786eb4f69035a6f1b499297">pendingNmi</a>);
<a name="l00761"></a>00761     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#acc5de6934d3b5e99ddfa33038bedc24a">nmiVector</a>);
<a name="l00762"></a>00762     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a>);
<a name="l00763"></a>00763     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a916ffa14869566ee27ff80a156e8dade">extIntVector</a>);
<a name="l00764"></a>00764     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a3c53994e08d31f19e9ee2400effd6f5e">pendingInit</a>);
<a name="l00765"></a>00765     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a3e21475b0787502498afda4c6931da0c">initVector</a>);
<a name="l00766"></a>00766     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#aa6f1c7032da250f8932f9856dcda20f0">pendingStartup</a>);
<a name="l00767"></a>00767     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#af7c23ab865f682ddda21c75170de1126">startupVector</a>);
<a name="l00768"></a>00768     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a46feb43d5deb6cf7bcd3f142d7dc11da">startedUp</a>);
<a name="l00769"></a>00769     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a>);
<a name="l00770"></a>00770     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#aef75f0fcb528c2f7cafdf0fa0dcccb40">pendingIPIs</a>);
<a name="l00771"></a>00771     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a>);
<a name="l00772"></a>00772     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a89802b4867c1ebeb92a413ec679732c9">ISRV</a>);
<a name="l00773"></a>00773     <span class="keywordtype">bool</span> apicTimerEventScheduled;
<a name="l00774"></a>00774     <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(apicTimerEventScheduled);
<a name="l00775"></a>00775     <span class="keywordflow">if</span> (apicTimerEventScheduled) {
<a name="l00776"></a>00776         <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> apicTimerEventTick;
<a name="l00777"></a>00777         <a class="code" href="serialize_8hh.html#a13d18ccba3d8bcbcd5aab2e37c380bff">UNSERIALIZE_SCALAR</a>(apicTimerEventTick);
<a name="l00778"></a>00778         <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a>.scheduled()) {
<a name="l00779"></a>00779             <a class="code" href="classEventManager.html#a83fe8e2d06cd7c6e36743e5beb07298f">reschedule</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a>, apicTimerEventTick, <span class="keyword">true</span>);
<a name="l00780"></a>00780         } <span class="keywordflow">else</span> {
<a name="l00781"></a>00781             <a class="code" href="classEventManager.html#a4ddebbfe9a12b95be6fb993ce892dcd3">schedule</a>(<a class="code" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a>, apicTimerEventTick);
<a name="l00782"></a>00782         }
<a name="l00783"></a>00783     }
<a name="l00784"></a>00784 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a00892e9b06edcba6c3c27454d6235100"></a><!-- doxytag: member="X86ISA::Interrupts::updateIntrInfo" ref="a00892e9b06edcba6c3c27454d6235100" args="(ThreadContext *tc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateIntrInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classThreadContext.html">ThreadContext</a> *&nbsp;</td>
          <td class="paramname"> <em>tc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00696"></a>00696 {
<a name="l00697"></a>00697     assert(<a class="code" href="classX86ISA_1_1Interrupts.html#af3c66fb49fec598cf78aaec29d764952">checkInterrupts</a>(tc));
<a name="l00698"></a>00698     <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a>) {
<a name="l00699"></a>00699         <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#aeeb4c03ee1caa86828b12a7085f845c9">pendingSmi</a>) {
<a name="l00700"></a>00700             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;SMI sent to core.\n&quot;</span>);
<a name="l00701"></a>00701             <a class="code" href="classX86ISA_1_1Interrupts.html#aeeb4c03ee1caa86828b12a7085f845c9">pendingSmi</a> = <span class="keyword">false</span>;
<a name="l00702"></a>00702         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a1ecac2b1b786eb4f69035a6f1b499297">pendingNmi</a>) {
<a name="l00703"></a>00703             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;NMI sent to core.\n&quot;</span>);
<a name="l00704"></a>00704             <a class="code" href="classX86ISA_1_1Interrupts.html#a1ecac2b1b786eb4f69035a6f1b499297">pendingNmi</a> = <span class="keyword">false</span>;
<a name="l00705"></a>00705         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#a3c53994e08d31f19e9ee2400effd6f5e">pendingInit</a>) {
<a name="l00706"></a>00706             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Init sent to core.\n&quot;</span>);
<a name="l00707"></a>00707             <a class="code" href="classX86ISA_1_1Interrupts.html#a3c53994e08d31f19e9ee2400effd6f5e">pendingInit</a> = <span class="keyword">false</span>;
<a name="l00708"></a>00708             <a class="code" href="classX86ISA_1_1Interrupts.html#a46feb43d5deb6cf7bcd3f142d7dc11da">startedUp</a> = <span class="keyword">false</span>;
<a name="l00709"></a>00709         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#aa6f1c7032da250f8932f9856dcda20f0">pendingStartup</a>) {
<a name="l00710"></a>00710             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;SIPI sent to core.\n&quot;</span>);
<a name="l00711"></a>00711             <a class="code" href="classX86ISA_1_1Interrupts.html#aa6f1c7032da250f8932f9856dcda20f0">pendingStartup</a> = <span class="keyword">false</span>;
<a name="l00712"></a>00712             <a class="code" href="classX86ISA_1_1Interrupts.html#a46feb43d5deb6cf7bcd3f142d7dc11da">startedUp</a> = <span class="keyword">true</span>;
<a name="l00713"></a>00713         }
<a name="l00714"></a>00714         <span class="keywordflow">if</span> (!(<a class="code" href="classX86ISA_1_1Interrupts.html#aeeb4c03ee1caa86828b12a7085f845c9">pendingSmi</a> || <a class="code" href="classX86ISA_1_1Interrupts.html#a1ecac2b1b786eb4f69035a6f1b499297">pendingNmi</a> || <a class="code" href="classX86ISA_1_1Interrupts.html#a3c53994e08d31f19e9ee2400effd6f5e">pendingInit</a> || <a class="code" href="classX86ISA_1_1Interrupts.html#aa6f1c7032da250f8932f9856dcda20f0">pendingStartup</a>))
<a name="l00715"></a>00715             <a class="code" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a> = <span class="keyword">false</span>;
<a name="l00716"></a>00716     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a>) {
<a name="l00717"></a>00717         <a class="code" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a> = <span class="keyword">false</span>;
<a name="l00718"></a>00718     } <span class="keywordflow">else</span> {
<a name="l00719"></a>00719         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic, <span class="stringliteral">&quot;Interrupt %d sent to core.\n&quot;</span>, <a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a>);
<a name="l00720"></a>00720         <span class="comment">// Mark the interrupt as &quot;in service&quot;.</span>
<a name="l00721"></a>00721         <a class="code" href="classX86ISA_1_1Interrupts.html#a89802b4867c1ebeb92a413ec679732c9">ISRV</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a>;
<a name="l00722"></a>00722         <a class="code" href="classX86ISA_1_1Interrupts.html#ac346555c2f6639d76b0d3730d0e216e2">setRegArrayBit</a>(<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ab44e07d8e0d33a340f8d69334f0a3382">APIC_IN_SERVICE_BASE</a>, <a class="code" href="classX86ISA_1_1Interrupts.html#a89802b4867c1ebeb92a413ec679732c9">ISRV</a>);
<a name="l00723"></a>00723         <span class="comment">// Clear it out of the IRR.</span>
<a name="l00724"></a>00724         <a class="code" href="classX86ISA_1_1Interrupts.html#a6ccfdb5e91c1463b861d5cd6cbb23c46">clearRegArrayBit</a>(<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a2ee7104372cb641092daabc28ffdd0c1">APIC_INTERRUPT_REQUEST_BASE</a>, <a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a>);
<a name="l00725"></a>00725         <a class="code" href="classX86ISA_1_1Interrupts.html#a9e275b8054220a16ea40b772c0c04d96">updateIRRV</a>();
<a name="l00726"></a>00726     }
<a name="l00727"></a>00727 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9e275b8054220a16ea40b772c0c04d96"></a><!-- doxytag: member="X86ISA::Interrupts::updateIRRV" ref="a9e275b8054220a16ea40b772c0c04d96" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateIRRV </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00158"></a>00158     {
<a name="l00159"></a>00159         <a class="code" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a8d15a5b6dddd42176d18d4952a9c8713">findRegArrayMSB</a>(<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649a2ee7104372cb641092daabc28ffdd0c1">APIC_INTERRUPT_REQUEST_BASE</a>);
<a name="l00160"></a>00160     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af645e39703e6f7ea975409c79fc0f41b"></a><!-- doxytag: member="X86ISA::Interrupts::updateISRV" ref="af645e39703e6f7ea975409c79fc0f41b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateISRV </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00164"></a>00164     {
<a name="l00165"></a>00165         <a class="code" href="classX86ISA_1_1Interrupts.html#a89802b4867c1ebeb92a413ec679732c9">ISRV</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a8d15a5b6dddd42176d18d4952a9c8713">findRegArrayMSB</a>(<a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649ab44e07d8e0d33a340f8d69334f0a3382">APIC_IN_SERVICE_BASE</a>);
<a name="l00166"></a>00166     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4cefab464e72b5dd42c003a0a4341802"></a><!-- doxytag: member="X86ISA::Interrupts::write" ref="a4cefab464e72b5dd42c003a0a4341802" args="(PacketPtr pkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pure virtual function that the device must implement. Called when a write command is recieved by the port. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html">Packet</a> describing this request </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>number of ticks it took to complete </dd></dl>

<p><a class="el" href="classPioDevice.html#afe8371668d023bb2516b286e5e399b6f">PioDevice</a>を実装しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00230"></a>00230 {
<a name="l00231"></a>00231     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceArmISA.html#a87b7a740701cddafb930a9460e9f4eba">offset</a> = pkt-&gt;<a class="code" href="classPacket.html#afca9af4d83a57836baba87603463a6e0">getAddr</a>() - <a class="code" href="classBasicPioDevice.html#afa7a5450c2bc6f73bc056050c9177193">pioAddr</a>;
<a name="l00232"></a>00232     <span class="comment">//Make sure we&apos;re at least only accessing one register.</span>
<a name="l00233"></a>00233     <span class="keywordflow">if</span> ((offset &amp; ~<a class="code" href="namespaceX86ISA.html#a5d76cc2129e79ba1941d2cc2f53b9e8e">mask</a>(3)) != ((offset + pkt-&gt;<a class="code" href="classPacket.html#a1d18ba49c7be427da1f4a42d53e35f48">getSize</a>()) &amp; ~<a class="code" href="namespaceX86ISA.html#a5d76cc2129e79ba1941d2cc2f53b9e8e">mask</a>(3)))
<a name="l00234"></a>00234         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Accessed more than one register at a time in the APIC!\n&quot;</span>);
<a name="l00235"></a>00235     <a class="code" href="namespaceX86ISA.html#aaa839fcdf6f426c03c7382fcc29ac649">ApicRegIndex</a> <a class="code" href="namespaceX86ISA.html#aeeb02ad833ab76f3430553ef93213a6b">reg</a> = <a class="code" href="namespaceX86ISA.html#adb790daea6d2a4198290c636a655fbc7">decodeAddr</a>(offset);
<a name="l00236"></a>00236     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="namespaceX86ISA.html#ae13bf1250853ff6b72aabe3c79b587cc">val</a> = <a class="code" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[reg];
<a name="l00237"></a>00237     pkt-&gt;<a class="code" href="classPacket.html#a2388a13bab41142d6e403b0e5a0fb649">writeData</a>(((uint8_t *)&amp;val) + (offset &amp; <a class="code" href="namespaceX86ISA.html#a5d76cc2129e79ba1941d2cc2f53b9e8e">mask</a>(3)));
<a name="l00238"></a>00238     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(LocalApic,
<a name="l00239"></a>00239             <span class="stringliteral">&quot;Writing Local APIC register %d at offset %#x as %#x.\n&quot;</span>,
<a name="l00240"></a>00240             reg, offset, <a class="code" href="namespaceBigEndianGuest.html#adb51b41dd17278558edf419359f52de6">gtoh</a>(val));
<a name="l00241"></a>00241     <a class="code" href="classX86ISA_1_1Interrupts.html#af0c2ac2127c28e0a1e26b9b005e1bfa1">setReg</a>(reg, <a class="code" href="namespaceBigEndianGuest.html#adb51b41dd17278558edf419359f52de6">gtoh</a>(val));
<a name="l00242"></a>00242     pkt-&gt;<a class="code" href="classPacket.html#ad664e704f09d6bb5c116573721034ebd">makeAtomicResponse</a>();
<a name="l00243"></a>00243     <span class="keywordflow">return</span> <a class="code" href="classBasicPioDevice.html#ac8e969635a78ab9ab123904ccca434cc">pioDelay</a>;
<a name="l00244"></a>00244 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a21b9dbd6985d9ae8c9f83cfccafd7d29"></a><!-- doxytag: member="X86ISA::Interrupts::apicTimerEvent" ref="a21b9dbd6985d9ae8c9f83cfccafd7d29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ApicTimerEvent <a class="el" href="classX86ISA_1_1Interrupts.html#a21b9dbd6985d9ae8c9f83cfccafd7d29">apicTimerEvent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7a31ca9fefb2fe821f29a270678912db"></a><!-- doxytag: member="X86ISA::Interrupts::cpu" ref="a7a31ca9fefb2fe821f29a270678912db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseCPU.html">BaseCPU</a>* <a class="el" href="classX86ISA_1_1Interrupts.html#a7a31ca9fefb2fe821f29a270678912db">cpu</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa6bdaa7818eb499f0dcf848f4ae7d569"></a><!-- doxytag: member="X86ISA::Interrupts::deliveryMode" ref="aa6bdaa7818eb499f0dcf848f4ae7d569" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;10, 8&gt; <a class="el" href="classX86ISA_1_1Interrupts.html#aa6bdaa7818eb499f0dcf848f4ae7d569">deliveryMode</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a916ffa14869566ee27ff80a156e8dade"></a><!-- doxytag: member="X86ISA::Interrupts::extIntVector" ref="a916ffa14869566ee27ff80a156e8dade" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#a916ffa14869566ee27ff80a156e8dade">extIntVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adde09bc135bea2df205ff1ddc88d8fe6"></a><!-- doxytag: member="X86ISA::Interrupts::initialApicId" ref="adde09bc135bea2df205ff1ddc88d8fe6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classX86ISA_1_1Interrupts.html#adde09bc135bea2df205ff1ddc88d8fe6">initialApicId</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3e21475b0787502498afda4c6931da0c"></a><!-- doxytag: member="X86ISA::Interrupts::initVector" ref="a3e21475b0787502498afda4c6931da0c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#a3e21475b0787502498afda4c6931da0c">initVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae8b4c7c51db0b74d5e60b6db0ca0016c"></a><!-- doxytag: member="X86ISA::Interrupts::intSlavePort" ref="ae8b4c7c51db0b74d5e60b6db0ca0016c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1IntDevice_1_1IntSlavePort.html">IntSlavePort</a> <a class="el" href="classX86ISA_1_1Interrupts.html#ae8b4c7c51db0b74d5e60b6db0ca0016c">intSlavePort</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aded378249f3df42588aede301cf2ae4a"></a><!-- doxytag: member="X86ISA::Interrupts::IRRV" ref="aded378249f3df42588aede301cf2ae4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#aded378249f3df42588aede301cf2ae4a">IRRV</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a89802b4867c1ebeb92a413ec679732c9"></a><!-- doxytag: member="X86ISA::Interrupts::ISRV" ref="a89802b4867c1ebeb92a413ec679732c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#a89802b4867c1ebeb92a413ec679732c9">ISRV</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac68c9e75c6befae7812cc44b8426a97e"></a><!-- doxytag: member="X86ISA::Interrupts::masked" ref="ac68c9e75c6befae7812cc44b8426a97e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;16&gt; <a class="el" href="classX86ISA_1_1Interrupts.html#ac68c9e75c6befae7812cc44b8426a97e">masked</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="acc5de6934d3b5e99ddfa33038bedc24a"></a><!-- doxytag: member="X86ISA::Interrupts::nmiVector" ref="acc5de6934d3b5e99ddfa33038bedc24a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#acc5de6934d3b5e99ddfa33038bedc24a">nmiVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abd62a9c6790d83c7ae435b181c831471"></a><!-- doxytag: member="X86ISA::Interrupts::pendingExtInt" ref="abd62a9c6790d83c7ae435b181c831471" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classX86ISA_1_1Interrupts.html#abd62a9c6790d83c7ae435b181c831471">pendingExtInt</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3c53994e08d31f19e9ee2400effd6f5e"></a><!-- doxytag: member="X86ISA::Interrupts::pendingInit" ref="a3c53994e08d31f19e9ee2400effd6f5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classX86ISA_1_1Interrupts.html#a3c53994e08d31f19e9ee2400effd6f5e">pendingInit</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aef75f0fcb528c2f7cafdf0fa0dcccb40"></a><!-- doxytag: member="X86ISA::Interrupts::pendingIPIs" ref="aef75f0fcb528c2f7cafdf0fa0dcccb40" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classX86ISA_1_1Interrupts.html#aef75f0fcb528c2f7cafdf0fa0dcccb40">pendingIPIs</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1ecac2b1b786eb4f69035a6f1b499297"></a><!-- doxytag: member="X86ISA::Interrupts::pendingNmi" ref="a1ecac2b1b786eb4f69035a6f1b499297" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classX86ISA_1_1Interrupts.html#a1ecac2b1b786eb4f69035a6f1b499297">pendingNmi</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aeeb4c03ee1caa86828b12a7085f845c9"></a><!-- doxytag: member="X86ISA::Interrupts::pendingSmi" ref="aeeb4c03ee1caa86828b12a7085f845c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classX86ISA_1_1Interrupts.html#aeeb4c03ee1caa86828b12a7085f845c9">pendingSmi</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa6f1c7032da250f8932f9856dcda20f0"></a><!-- doxytag: member="X86ISA::Interrupts::pendingStartup" ref="aa6f1c7032da250f8932f9856dcda20f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classX86ISA_1_1Interrupts.html#aa6f1c7032da250f8932f9856dcda20f0">pendingStartup</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0725ba3c06fc82e5da0f8800ed5eae68"></a><!-- doxytag: member="X86ISA::Interrupts::pendingUnmaskableInt" ref="a0725ba3c06fc82e5da0f8800ed5eae68" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classX86ISA_1_1Interrupts.html#a0725ba3c06fc82e5da0f8800ed5eae68">pendingUnmaskableInt</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a333fdd71ed0dd6e53569e894f9367ffb"></a><!-- doxytag: member="X86ISA::Interrupts::periodic" ref="a333fdd71ed0dd6e53569e894f9367ffb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;17&gt; <a class="el" href="classX86ISA_1_1Interrupts.html#a333fdd71ed0dd6e53569e894f9367ffb">periodic</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae3c9a79ca2272b1906da22919f226af3"></a><!-- doxytag: member="X86ISA::Interrupts::polarity" ref="ae3c9a79ca2272b1906da22919f226af3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;13&gt; <a class="el" href="classX86ISA_1_1Interrupts.html#ae3c9a79ca2272b1906da22919f226af3">polarity</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a707ddf628cd5b3ebd09a9721fbc2d9ee"></a><!-- doxytag: member="X86ISA::Interrupts::regs" ref="a707ddf628cd5b3ebd09a9721fbc2d9ee" args="[NUM_APIC_REGS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classX86ISA_1_1Interrupts.html#a707ddf628cd5b3ebd09a9721fbc2d9ee">regs</a>[NUM_APIC_REGS]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae074e6e7f5c02b863d4ffe1040e7e7a0"></a><!-- doxytag: member="X86ISA::Interrupts::remoteIRR" ref="ae074e6e7f5c02b863d4ffe1040e7e7a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;14&gt; <a class="el" href="classX86ISA_1_1Interrupts.html#ae074e6e7f5c02b863d4ffe1040e7e7a0">remoteIRR</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac62acbbee5adef17b6e0b960b7fb11c5"></a><!-- doxytag: member="X86ISA::Interrupts::smiVector" ref="ac62acbbee5adef17b6e0b960b7fb11c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#ac62acbbee5adef17b6e0b960b7fb11c5">smiVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a46feb43d5deb6cf7bcd3f142d7dc11da"></a><!-- doxytag: member="X86ISA::Interrupts::startedUp" ref="a46feb43d5deb6cf7bcd3f142d7dc11da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classX86ISA_1_1Interrupts.html#a46feb43d5deb6cf7bcd3f142d7dc11da">startedUp</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af7c23ab865f682ddda21c75170de1126"></a><!-- doxytag: member="X86ISA::Interrupts::startupVector" ref="af7c23ab865f682ddda21c75170de1126" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="classX86ISA_1_1Interrupts.html#af7c23ab865f682ddda21c75170de1126">startupVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7d1baf1ae14e4e146b6809c41c82bde5"></a><!-- doxytag: member="X86ISA::Interrupts::status" ref="a7d1baf1ae14e4e146b6809c41c82bde5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;12&gt; <a class="el" href="classX86ISA_1_1Interrupts.html#a7d1baf1ae14e4e146b6809c41c82bde5">status</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1a8acf21e383afeb477a3d8e88b689de"></a><!-- doxytag: member="X86ISA::Interrupts::trigger" ref="a1a8acf21e383afeb477a3d8e88b689de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bitfield&lt;15&gt; <a class="el" href="classX86ISA_1_1Interrupts.html#a1a8acf21e383afeb477a3d8e88b689de">trigger</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7ea82552101f041fad7635b3ed036a84"></a><!-- doxytag: member="X86ISA::Interrupts::vector" ref="a7ea82552101f041fad7635b3ed036a84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classX86ISA_1_1Interrupts.html#a7ea82552101f041fad7635b3ed036a84">vector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>arch/x86/<a class="el" href="x86_2interrupts_8hh_source.html">interrupts.hh</a></li>
<li>arch/x86/<a class="el" href="x86_2interrupts_8cc.html">interrupts.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
