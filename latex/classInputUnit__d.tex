\hypertarget{classInputUnit__d}{
\section{クラス InputUnit\_\-d}
\label{classInputUnit__d}\index{InputUnit\_\-d@{InputUnit\_\-d}}
}


{\ttfamily \#include $<$InputUnit\_\-d.hh$>$}InputUnit\_\-dに対する継承グラフ:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2cm]{classInputUnit__d}
\end{center}
\end{figure}
\subsection*{Public メソッド}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classInputUnit__d_abf9f22df6ddb9792b07be6650ed39e1b}{InputUnit\_\-d} (int id, \hyperlink{classRouter__d}{Router\_\-d} $\ast$router)
\item 
\hyperlink{classInputUnit__d_a4614c64584d1e7dae55da95452b0ea2a}{$\sim$InputUnit\_\-d} ()
\item 
void \hyperlink{classInputUnit__d_ae674290a26ecbd622c5160e38e8a4fe9}{wakeup} ()
\item 
\hyperlink{classflitBuffer__d}{flitBuffer\_\-d} $\ast$ \hyperlink{classInputUnit__d_ae77ac4bed244a5b246b4de1053e35949}{getCreditQueue} ()
\item 
void \hyperlink{classInputUnit__d_ac55fe386a101fbae38c716067c9966a0}{print} (std::ostream \&out) const 
\item 
int \hyperlink{classInputUnit__d_a9fd25c2e12a027c97fcc54d09ee2971f}{get\_\-inlink\_\-id} ()
\item 
void \hyperlink{classInputUnit__d_a67dafbe49b665179990b2bdadfc133c9}{set\_\-vc\_\-state} (\hyperlink{NetworkHeader_8hh_aaafaa208359111dcd9f4d47ff377da76}{VC\_\-state\_\-type} state, int vc, \hyperlink{classCycles}{Cycles} curTime)
\item 
void \hyperlink{classInputUnit__d_aeafc60409d8d5d509f37f72601c5c2e1}{set\_\-enqueue\_\-time} (int invc, \hyperlink{classCycles}{Cycles} time)
\item 
\hyperlink{classCycles}{Cycles} \hyperlink{classInputUnit__d_a7798871f894ba591ca7f4aa75ee14791}{get\_\-enqueue\_\-time} (int invc)
\item 
void \hyperlink{classInputUnit__d_aee6ae59a64822a6f5b32ee88a8e26217}{update\_\-credit} (int in\_\-vc, int credit)
\item 
bool \hyperlink{classInputUnit__d_ae60433780eab2faa984318e2507b9a4a}{has\_\-credits} (int vc)
\item 
void \hyperlink{classInputUnit__d_aa389f8069c58070a89061dc51d8871f2}{increment\_\-credit} (int in\_\-vc, bool free\_\-signal, \hyperlink{classCycles}{Cycles} curTime)
\item 
int \hyperlink{classInputUnit__d_a3b298665e4de7737f33ebef9d87a0762}{get\_\-outvc} (int invc)
\item 
void \hyperlink{classInputUnit__d_ab2f58089dd6bd314ce6dae4298a6f190}{updateRoute} (int vc, int outport, \hyperlink{classCycles}{Cycles} curTime)
\item 
void \hyperlink{classInputUnit__d_ae8228408b44a2088e7aa6fac6548f09c}{grant\_\-vc} (int in\_\-vc, int out\_\-vc, \hyperlink{classCycles}{Cycles} curTime)
\item 
\hyperlink{classflit__d}{flit\_\-d} $\ast$ \hyperlink{classInputUnit__d_a52ab0f3b8ab7d8161346a1ddfc53e09f}{peekTopFlit} (int vc)
\item 
\hyperlink{classflit__d}{flit\_\-d} $\ast$ \hyperlink{classInputUnit__d_a3ca1c95b6303e0ddfe2e016a8d2bd4b4}{getTopFlit} (int vc)
\item 
bool \hyperlink{classInputUnit__d_ad41c4d2863462e8f6435be6ae77accea}{need\_\-stage} (int vc, \hyperlink{NetworkHeader_8hh_aaafaa208359111dcd9f4d47ff377da76}{VC\_\-state\_\-type} state, \hyperlink{NetworkHeader_8hh_a1af1206699d48009a5cbd0c2c1d7ce15}{flit\_\-stage} stage, \hyperlink{classCycles}{Cycles} cTime)
\item 
bool \hyperlink{classInputUnit__d_a6651ea70e8d93b6a54fcded1aa9355eb}{isReady} (int invc, \hyperlink{classCycles}{Cycles} curTime)
\item 
int \hyperlink{classInputUnit__d_a98ae815c1cb608efc87754d70f735691}{get\_\-route} (int vc)
\item 
void \hyperlink{classInputUnit__d_aae75fe48fb1bda1d0df405f7913467d9}{set\_\-in\_\-link} (\hyperlink{classNetworkLink__d}{NetworkLink\_\-d} $\ast$link)
\item 
void \hyperlink{classInputUnit__d_aa66db9bde5f92aad3f5bbc61cc861d2a}{set\_\-credit\_\-link} (\hyperlink{classCreditLink__d}{CreditLink\_\-d} $\ast$credit\_\-link)
\item 
double \hyperlink{classInputUnit__d_a01aa7a2e66e9ffe94fa3edb16578424d}{get\_\-buf\_\-read\_\-count} (unsigned int vnet) const 
\item 
double \hyperlink{classInputUnit__d_afd026850992292ca2b7efc6786fe5cc8}{get\_\-buf\_\-write\_\-count} (unsigned int vnet) const 
\item 
\hyperlink{Type_8hh_a435d1572bf3f880d55459d9805097f62}{uint32\_\-t} \hyperlink{classInputUnit__d_ad07b9def1d6f5e5f988a254c3a9d1ad9}{functionalWrite} (\hyperlink{classPacket}{Packet} $\ast$pkt)
\end{DoxyCompactItemize}
\subsection*{Private 変数}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classInputUnit__d_aad966617e7e050bedbead762727808a5}{m\_\-id}
\item 
int \hyperlink{classInputUnit__d_a2e1a9213321dfa0386cdedaf6fc22996}{m\_\-num\_\-vcs}
\item 
int \hyperlink{classInputUnit__d_a2d66b8cad5144408ed492eeff4d37c2f}{m\_\-vc\_\-per\_\-vnet}
\item 
\hyperlink{classRouter__d}{Router\_\-d} $\ast$ \hyperlink{classInputUnit__d_a81d53a65b375007289068e764da769d8}{m\_\-router}
\item 
\hyperlink{classNetworkLink__d}{NetworkLink\_\-d} $\ast$ \hyperlink{classInputUnit__d_a2d8ec8d04bfa5cea2ba42dc25182f6a6}{m\_\-in\_\-link}
\item 
\hyperlink{classCreditLink__d}{CreditLink\_\-d} $\ast$ \hyperlink{classInputUnit__d_a8439db4fc7b7271dfca6bf98b13036a4}{m\_\-credit\_\-link}
\item 
\hyperlink{classflitBuffer__d}{flitBuffer\_\-d} $\ast$ \hyperlink{classInputUnit__d_ab387c0eedaf4adb3f05beb4433c2e033}{creditQueue}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ \hyperlink{classVirtualChannel__d}{VirtualChannel\_\-d} $\ast$ $>$ \hyperlink{classInputUnit__d_a3d476d71a2907d1a278c66e3f6d4733c}{m\_\-vcs}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ double $>$ \hyperlink{classInputUnit__d_a23918c075f01b57d903865de9a74517c}{m\_\-num\_\-buffer\_\-writes}
\item 
\hyperlink{classstd_1_1vector}{std::vector}$<$ double $>$ \hyperlink{classInputUnit__d_a56f67f411b327320655c23f2eaf02b18}{m\_\-num\_\-buffer\_\-reads}
\end{DoxyCompactItemize}


\subsection{コンストラクタとデストラクタ}
\hypertarget{classInputUnit__d_abf9f22df6ddb9792b07be6650ed39e1b}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!InputUnit\_\-d@{InputUnit\_\-d}}
\index{InputUnit\_\-d@{InputUnit\_\-d}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{InputUnit\_\-d}]{\setlength{\rightskip}{0pt plus 5cm}{\bf InputUnit\_\-d} (int {\em id}, \/  {\bf Router\_\-d} $\ast$ {\em router})}}
\label{classInputUnit__d_abf9f22df6ddb9792b07be6650ed39e1b}



\begin{DoxyCode}
38                                                  : Consumer(router)
39 {
40     m_id = id;
41     m_router = router;
42     m_num_vcs = m_router->get_num_vcs();
43     m_vc_per_vnet = m_router->get_vc_per_vnet();
44 
45     m_num_buffer_reads.resize(m_num_vcs/m_vc_per_vnet);
46     m_num_buffer_writes.resize(m_num_vcs/m_vc_per_vnet);
47     for (int i = 0; i < m_num_buffer_reads.size(); i++) {
48         m_num_buffer_reads[i] = 0;
49         m_num_buffer_writes[i] = 0;
50     }
51 
52     creditQueue = new flitBuffer_d();
53     // Instantiating the virtual channels
54     m_vcs.resize(m_num_vcs);
55     for (int i=0; i < m_num_vcs; i++) {
56         m_vcs[i] = new VirtualChannel_d(i);
57     }
58 }
\end{DoxyCode}
\hypertarget{classInputUnit__d_a4614c64584d1e7dae55da95452b0ea2a}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!$\sim$InputUnit\_\-d@{$\sim$InputUnit\_\-d}}
\index{$\sim$InputUnit\_\-d@{$\sim$InputUnit\_\-d}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{$\sim$InputUnit\_\-d}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf InputUnit\_\-d} ()}}
\label{classInputUnit__d_a4614c64584d1e7dae55da95452b0ea2a}



\begin{DoxyCode}
61 {
62     delete creditQueue;
63     deletePointers(m_vcs);
64 }
\end{DoxyCode}


\subsection{関数}
\hypertarget{classInputUnit__d_ad07b9def1d6f5e5f988a254c3a9d1ad9}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!functionalWrite@{functionalWrite}}
\index{functionalWrite@{functionalWrite}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{functionalWrite}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\_\-t} functionalWrite ({\bf Packet} $\ast$ {\em pkt})}}
\label{classInputUnit__d_ad07b9def1d6f5e5f988a254c3a9d1ad9}



\begin{DoxyCode}
100 {
101     uint32_t num_functional_writes = 0;
102     for (int i=0; i < m_num_vcs; i++) {
103         num_functional_writes += m_vcs[i]->functionalWrite(pkt);
104     }
105 
106     return num_functional_writes;
107 }
\end{DoxyCode}
\hypertarget{classInputUnit__d_a01aa7a2e66e9ffe94fa3edb16578424d}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!get\_\-buf\_\-read\_\-count@{get\_\-buf\_\-read\_\-count}}
\index{get\_\-buf\_\-read\_\-count@{get\_\-buf\_\-read\_\-count}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{get\_\-buf\_\-read\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-buf\_\-read\_\-count (unsigned int {\em vnet}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_a01aa7a2e66e9ffe94fa3edb16578424d}



\begin{DoxyCode}
158     { return m_num_buffer_reads[vnet]; }
\end{DoxyCode}
\hypertarget{classInputUnit__d_afd026850992292ca2b7efc6786fe5cc8}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!get\_\-buf\_\-write\_\-count@{get\_\-buf\_\-write\_\-count}}
\index{get\_\-buf\_\-write\_\-count@{get\_\-buf\_\-write\_\-count}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{get\_\-buf\_\-write\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}double get\_\-buf\_\-write\_\-count (unsigned int {\em vnet}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_afd026850992292ca2b7efc6786fe5cc8}



\begin{DoxyCode}
160     { return m_num_buffer_writes[vnet]; }
\end{DoxyCode}
\hypertarget{classInputUnit__d_a7798871f894ba591ca7f4aa75ee14791}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!get\_\-enqueue\_\-time@{get\_\-enqueue\_\-time}}
\index{get\_\-enqueue\_\-time@{get\_\-enqueue\_\-time}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{get\_\-enqueue\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Cycles} get\_\-enqueue\_\-time (int {\em invc})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_a7798871f894ba591ca7f4aa75ee14791}



\begin{DoxyCode}
72     {
73         return m_vcs[invc]->get_enqueue_time();
74     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_a9fd25c2e12a027c97fcc54d09ee2971f}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!get\_\-inlink\_\-id@{get\_\-inlink\_\-id}}
\index{get\_\-inlink\_\-id@{get\_\-inlink\_\-id}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{get\_\-inlink\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}int get\_\-inlink\_\-id ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_a9fd25c2e12a027c97fcc54d09ee2971f}



\begin{DoxyCode}
56 { return m_in_link->get_id(); }
\end{DoxyCode}
\hypertarget{classInputUnit__d_a3b298665e4de7737f33ebef9d87a0762}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!get\_\-outvc@{get\_\-outvc}}
\index{get\_\-outvc@{get\_\-outvc}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{get\_\-outvc}]{\setlength{\rightskip}{0pt plus 5cm}int get\_\-outvc (int {\em invc})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_a3b298665e4de7737f33ebef9d87a0762}



\begin{DoxyCode}
98     {
99         return m_vcs[invc]->get_outvc();
100     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_a98ae815c1cb608efc87754d70f735691}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!get\_\-route@{get\_\-route}}
\index{get\_\-route@{get\_\-route}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{get\_\-route}]{\setlength{\rightskip}{0pt plus 5cm}int get\_\-route (int {\em vc})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_a98ae815c1cb608efc87754d70f735691}



\begin{DoxyCode}
141     {
142         return m_vcs[vc]->get_route();
143     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_ae77ac4bed244a5b246b4de1053e35949}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!getCreditQueue@{getCreditQueue}}
\index{getCreditQueue@{getCreditQueue}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{getCreditQueue}]{\setlength{\rightskip}{0pt plus 5cm}{\bf flitBuffer\_\-d}$\ast$ getCreditQueue ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_ae77ac4bed244a5b246b4de1053e35949}



\begin{DoxyCode}
53 { return creditQueue; }
\end{DoxyCode}
\hypertarget{classInputUnit__d_a3ca1c95b6303e0ddfe2e016a8d2bd4b4}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!getTopFlit@{getTopFlit}}
\index{getTopFlit@{getTopFlit}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{getTopFlit}]{\setlength{\rightskip}{0pt plus 5cm}{\bf flit\_\-d}$\ast$ getTopFlit (int {\em vc})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_a3ca1c95b6303e0ddfe2e016a8d2bd4b4}



\begin{DoxyCode}
123     {
124         return m_vcs[vc]->getTopFlit();
125     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_ae8228408b44a2088e7aa6fac6548f09c}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!grant\_\-vc@{grant\_\-vc}}
\index{grant\_\-vc@{grant\_\-vc}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{grant\_\-vc}]{\setlength{\rightskip}{0pt plus 5cm}void grant\_\-vc (int {\em in\_\-vc}, \/  int {\em out\_\-vc}, \/  {\bf Cycles} {\em curTime})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_ae8228408b44a2088e7aa6fac6548f09c}



\begin{DoxyCode}
111     {
112         m_vcs[in_vc]->grant_vc(out_vc, curTime);
113     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_ae60433780eab2faa984318e2507b9a4a}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!has\_\-credits@{has\_\-credits}}
\index{has\_\-credits@{has\_\-credits}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{has\_\-credits}]{\setlength{\rightskip}{0pt plus 5cm}bool has\_\-credits (int {\em vc})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_ae60433780eab2faa984318e2507b9a4a}



\begin{DoxyCode}
84     {
85         return m_vcs[vc]->has_credits();
86     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_aa389f8069c58070a89061dc51d8871f2}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!increment\_\-credit@{increment\_\-credit}}
\index{increment\_\-credit@{increment\_\-credit}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{increment\_\-credit}]{\setlength{\rightskip}{0pt plus 5cm}void increment\_\-credit (int {\em in\_\-vc}, \/  bool {\em free\_\-signal}, \/  {\bf Cycles} {\em curTime})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_aa389f8069c58070a89061dc51d8871f2}



\begin{DoxyCode}
90     {
91         flit_d *t_flit = new flit_d(in_vc, free_signal, curTime);
92         creditQueue->insert(t_flit);
93         m_credit_link->scheduleEventAbsolute(m_router->clockEdge(Cycles(1)));
94     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_a6651ea70e8d93b6a54fcded1aa9355eb}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!isReady@{isReady}}
\index{isReady@{isReady}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{isReady}]{\setlength{\rightskip}{0pt plus 5cm}bool isReady (int {\em invc}, \/  {\bf Cycles} {\em curTime})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_a6651ea70e8d93b6a54fcded1aa9355eb}



\begin{DoxyCode}
135     {
136         return m_vcs[invc]->isReady(curTime);
137     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_ad41c4d2863462e8f6435be6ae77accea}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!need\_\-stage@{need\_\-stage}}
\index{need\_\-stage@{need\_\-stage}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{need\_\-stage}]{\setlength{\rightskip}{0pt plus 5cm}bool need\_\-stage (int {\em vc}, \/  {\bf VC\_\-state\_\-type} {\em state}, \/  {\bf flit\_\-stage} {\em stage}, \/  {\bf Cycles} {\em cTime})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_ad41c4d2863462e8f6435be6ae77accea}



\begin{DoxyCode}
129     {
130         return m_vcs[vc]->need_stage(state, stage, cTime);
131     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_a52ab0f3b8ab7d8161346a1ddfc53e09f}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!peekTopFlit@{peekTopFlit}}
\index{peekTopFlit@{peekTopFlit}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{peekTopFlit}]{\setlength{\rightskip}{0pt plus 5cm}{\bf flit\_\-d}$\ast$ peekTopFlit (int {\em vc})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_a52ab0f3b8ab7d8161346a1ddfc53e09f}



\begin{DoxyCode}
117     {
118         return m_vcs[vc]->peekTopFlit();
119     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_ac55fe386a101fbae38c716067c9966a0}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!print@{print}}
\index{print@{print}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{print}]{\setlength{\rightskip}{0pt plus 5cm}void print (std::ostream \& {\em out}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}
\label{classInputUnit__d_ac55fe386a101fbae38c716067c9966a0}


\hyperlink{classConsumer_a3ea5f7af5db62cc24f4e40df9ea5c971}{Consumer}を実装しています。


\begin{DoxyCode}
54 {};
\end{DoxyCode}
\hypertarget{classInputUnit__d_aa66db9bde5f92aad3f5bbc61cc861d2a}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!set\_\-credit\_\-link@{set\_\-credit\_\-link}}
\index{set\_\-credit\_\-link@{set\_\-credit\_\-link}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{set\_\-credit\_\-link}]{\setlength{\rightskip}{0pt plus 5cm}void set\_\-credit\_\-link ({\bf CreditLink\_\-d} $\ast$ {\em credit\_\-link})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_aa66db9bde5f92aad3f5bbc61cc861d2a}



\begin{DoxyCode}
153     {
154         m_credit_link = credit_link;
155     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_aeafc60409d8d5d509f37f72601c5c2e1}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!set\_\-enqueue\_\-time@{set\_\-enqueue\_\-time}}
\index{set\_\-enqueue\_\-time@{set\_\-enqueue\_\-time}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{set\_\-enqueue\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}void set\_\-enqueue\_\-time (int {\em invc}, \/  {\bf Cycles} {\em time})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_aeafc60409d8d5d509f37f72601c5c2e1}



\begin{DoxyCode}
66     {
67         m_vcs[invc]->set_enqueue_time(time);
68     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_aae75fe48fb1bda1d0df405f7913467d9}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!set\_\-in\_\-link@{set\_\-in\_\-link}}
\index{set\_\-in\_\-link@{set\_\-in\_\-link}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{set\_\-in\_\-link}]{\setlength{\rightskip}{0pt plus 5cm}void set\_\-in\_\-link ({\bf NetworkLink\_\-d} $\ast$ {\em link})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_aae75fe48fb1bda1d0df405f7913467d9}



\begin{DoxyCode}
147     {
148         m_in_link = link;
149     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_a67dafbe49b665179990b2bdadfc133c9}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!set\_\-vc\_\-state@{set\_\-vc\_\-state}}
\index{set\_\-vc\_\-state@{set\_\-vc\_\-state}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{set\_\-vc\_\-state}]{\setlength{\rightskip}{0pt plus 5cm}void set\_\-vc\_\-state ({\bf VC\_\-state\_\-type} {\em state}, \/  int {\em vc}, \/  {\bf Cycles} {\em curTime})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_a67dafbe49b665179990b2bdadfc133c9}



\begin{DoxyCode}
60     {
61         m_vcs[vc]->set_state(state, curTime);
62     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_aee6ae59a64822a6f5b32ee88a8e26217}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!update\_\-credit@{update\_\-credit}}
\index{update\_\-credit@{update\_\-credit}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{update\_\-credit}]{\setlength{\rightskip}{0pt plus 5cm}void update\_\-credit (int {\em in\_\-vc}, \/  int {\em credit})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_aee6ae59a64822a6f5b32ee88a8e26217}



\begin{DoxyCode}
78     {
79         m_vcs[in_vc]->update_credit(credit);
80     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_ab2f58089dd6bd314ce6dae4298a6f190}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!updateRoute@{updateRoute}}
\index{updateRoute@{updateRoute}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{updateRoute}]{\setlength{\rightskip}{0pt plus 5cm}void updateRoute (int {\em vc}, \/  int {\em outport}, \/  {\bf Cycles} {\em curTime})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classInputUnit__d_ab2f58089dd6bd314ce6dae4298a6f190}



\begin{DoxyCode}
104     {
105         m_vcs[vc]->set_outport(outport);
106         m_vcs[vc]->set_state(VC_AB_, curTime);
107     }
\end{DoxyCode}
\hypertarget{classInputUnit__d_ae674290a26ecbd622c5160e38e8a4fe9}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!wakeup@{wakeup}}
\index{wakeup@{wakeup}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{wakeup}]{\setlength{\rightskip}{0pt plus 5cm}void wakeup ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classInputUnit__d_ae674290a26ecbd622c5160e38e8a4fe9}


\hyperlink{classConsumer_a623e3e7d1b1c725d70009f7b01a421b9}{Consumer}を実装しています。


\begin{DoxyCode}
68 {
69     flit_d *t_flit;
70     if (m_in_link->isReady(m_router->curCycle())) {
71 
72         t_flit = m_in_link->consumeLink();
73         int vc = t_flit->get_vc();
74 
75         if ((t_flit->get_type() == HEAD_) ||
76            (t_flit->get_type() == HEAD_TAIL_)) {
77 
78             assert(m_vcs[vc]->get_state() == IDLE_);
79             // Do the route computation for this vc
80             m_router->route_req(t_flit, this, vc);
81 
82             m_vcs[vc]->set_enqueue_time(m_router->curCycle());
83         } else {
84             t_flit->advance_stage(SA_, m_router->curCycle());
85             m_router->swarb_req();
86         }
87         // write flit into input buffer
88         m_vcs[vc]->insertFlit(t_flit);
89 
90         int vnet = vc/m_vc_per_vnet;
91         // number of writes same as reads
92         // any flit that is written will be read only once
93         m_num_buffer_writes[vnet]++;
94         m_num_buffer_reads[vnet]++;
95     }
96 }
\end{DoxyCode}


\subsection{変数}
\hypertarget{classInputUnit__d_ab387c0eedaf4adb3f05beb4433c2e033}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!creditQueue@{creditQueue}}
\index{creditQueue@{creditQueue}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{creditQueue}]{\setlength{\rightskip}{0pt plus 5cm}{\bf flitBuffer\_\-d}$\ast$ {\bf creditQueue}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classInputUnit__d_ab387c0eedaf4adb3f05beb4433c2e033}
\hypertarget{classInputUnit__d_a8439db4fc7b7271dfca6bf98b13036a4}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!m\_\-credit\_\-link@{m\_\-credit\_\-link}}
\index{m\_\-credit\_\-link@{m\_\-credit\_\-link}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{m\_\-credit\_\-link}]{\setlength{\rightskip}{0pt plus 5cm}{\bf CreditLink\_\-d}$\ast$ {\bf m\_\-credit\_\-link}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classInputUnit__d_a8439db4fc7b7271dfca6bf98b13036a4}
\hypertarget{classInputUnit__d_aad966617e7e050bedbead762727808a5}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!m\_\-id@{m\_\-id}}
\index{m\_\-id@{m\_\-id}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{m\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf m\_\-id}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classInputUnit__d_aad966617e7e050bedbead762727808a5}
\hypertarget{classInputUnit__d_a2d8ec8d04bfa5cea2ba42dc25182f6a6}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!m\_\-in\_\-link@{m\_\-in\_\-link}}
\index{m\_\-in\_\-link@{m\_\-in\_\-link}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{m\_\-in\_\-link}]{\setlength{\rightskip}{0pt plus 5cm}{\bf NetworkLink\_\-d}$\ast$ {\bf m\_\-in\_\-link}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classInputUnit__d_a2d8ec8d04bfa5cea2ba42dc25182f6a6}
\hypertarget{classInputUnit__d_a56f67f411b327320655c23f2eaf02b18}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!m\_\-num\_\-buffer\_\-reads@{m\_\-num\_\-buffer\_\-reads}}
\index{m\_\-num\_\-buffer\_\-reads@{m\_\-num\_\-buffer\_\-reads}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{m\_\-num\_\-buffer\_\-reads}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<$double$>$ {\bf m\_\-num\_\-buffer\_\-reads}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classInputUnit__d_a56f67f411b327320655c23f2eaf02b18}
\hypertarget{classInputUnit__d_a23918c075f01b57d903865de9a74517c}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!m\_\-num\_\-buffer\_\-writes@{m\_\-num\_\-buffer\_\-writes}}
\index{m\_\-num\_\-buffer\_\-writes@{m\_\-num\_\-buffer\_\-writes}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{m\_\-num\_\-buffer\_\-writes}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<$double$>$ {\bf m\_\-num\_\-buffer\_\-writes}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classInputUnit__d_a23918c075f01b57d903865de9a74517c}
\hypertarget{classInputUnit__d_a2e1a9213321dfa0386cdedaf6fc22996}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!m\_\-num\_\-vcs@{m\_\-num\_\-vcs}}
\index{m\_\-num\_\-vcs@{m\_\-num\_\-vcs}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{m\_\-num\_\-vcs}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf m\_\-num\_\-vcs}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classInputUnit__d_a2e1a9213321dfa0386cdedaf6fc22996}
\hypertarget{classInputUnit__d_a81d53a65b375007289068e764da769d8}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!m\_\-router@{m\_\-router}}
\index{m\_\-router@{m\_\-router}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{m\_\-router}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Router\_\-d}$\ast$ {\bf m\_\-router}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classInputUnit__d_a81d53a65b375007289068e764da769d8}
\hypertarget{classInputUnit__d_a2d66b8cad5144408ed492eeff4d37c2f}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!m\_\-vc\_\-per\_\-vnet@{m\_\-vc\_\-per\_\-vnet}}
\index{m\_\-vc\_\-per\_\-vnet@{m\_\-vc\_\-per\_\-vnet}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{m\_\-vc\_\-per\_\-vnet}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf m\_\-vc\_\-per\_\-vnet}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classInputUnit__d_a2d66b8cad5144408ed492eeff4d37c2f}
\hypertarget{classInputUnit__d_a3d476d71a2907d1a278c66e3f6d4733c}{
\index{InputUnit\_\-d@{InputUnit\_\-d}!m\_\-vcs@{m\_\-vcs}}
\index{m\_\-vcs@{m\_\-vcs}!InputUnit_d@{InputUnit\_\-d}}
\subsubsection[{m\_\-vcs}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std::vector}$<${\bf VirtualChannel\_\-d} $\ast$$>$ {\bf m\_\-vcs}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classInputUnit__d_a3d476d71a2907d1a278c66e3f6d4733c}


このクラスの説明は次のファイルから生成されました:\begin{DoxyCompactItemize}
\item 
mem/ruby/network/garnet/fixed-\/pipeline/\hyperlink{InputUnit__d_8hh}{InputUnit\_\-d.hh}\item 
mem/ruby/network/garnet/fixed-\/pipeline/\hyperlink{InputUnit__d_8cc}{InputUnit\_\-d.cc}\end{DoxyCompactItemize}
