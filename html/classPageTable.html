<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス PageTable</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス PageTable</h1><!-- doxytag: class="PageTable" -->
<p><code>#include &lt;<a class="el" href="page__table_8hh_source.html">page_table.hh</a>&gt;</code></p>

<p><a href="classPageTable-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPageTable_1_1cacheElement.html">cacheElement</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a0ba607685599040207fa0f5834252a97">PageTable</a> (const std::string &amp;__name, uint64_t _pid, <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> _pageSize=TheISA::VMPageSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#ac8d0a10aebf4985568764273ad64d267">~PageTable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a6490f765a824ced1cc94979609fe7e07">name</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a38247c4bd6655c6c275b578bd72e63e4">pageAlign</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> a)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#aea9a0188c4082f2d04b870ee4d03103c">pageOffset</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> a)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#aff59f07ef2928facc67674a304b1e7e9">map</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> paddr, int64_t size, bool clobber=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a42230248f7e6b36d1d039334dfc8c73b">remap</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, int64_t size, <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> new_vaddr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a8655228481877dd15f31d7657b7636f0">unmap</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, int64_t size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#ab21bd7c6a258cbbe96db22e978a0ee70">isUnmapped</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, int64_t size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a5a9bd017a274b26bec6d93084a06a786">lookup</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, TheISA::TlbEntry &amp;entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a1fa58423b982a3454aadc9b5e932e9ed">translate</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &amp;paddr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a72077eb2c400826c0a18b845a7be0e6a">translate</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#aacd7f462f681cfd6e11ef22d6fe32557">translate</a> (<a class="el" href="classRequest.html">RequestPtr</a> req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#ad12e4d4887c4e62c2c8236936053dcd5">updateCache</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr, TheISA::TlbEntry entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a7a34214b4d368d09f3dee2ee3670b520">eraseCacheEntry</a> (<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> vaddr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a53e036786d17361be4c7320d39c99b84">serialize</a> (std::ostream &amp;os)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#af22e5d6d660b97db37003ac61ac4ee49">unserialize</a> (<a class="el" href="classCheckpoint.html">Checkpoint</a> *cp, const std::string &amp;section)</td></tr>
<tr><td colspan="2"><h2>Protected 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef m5::hash_map&lt; <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>, <br class="typebreak"/>
TheISA::TlbEntry &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#af3d8a3d9e644cad85356d24d9c324628">PTable</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef PTable::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#ae7a302b2a02308ebbb6a164d74a9b2fa">PTableItr</a></td></tr>
<tr><td colspan="2"><h2>Protected 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPageTable.html#af3d8a3d9e644cad85356d24d9c324628">PTable</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structPageTable_1_1cacheElement.html">cacheElement</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a> [3]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a646af22c789b99dbdef2d5d867b6257a">offsetMask</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#ae7231756748632307a03aff2b0d3fd8d">pid</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPageTable.html#a1b003dc5cfce1a4d8f9a0c4b9b589045">_name</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>説明</h2>
<p>Page Table Declaration. </p>
<hr/><h2>型定義</h2>
<a class="anchor" id="af3d8a3d9e644cad85356d24d9c324628"></a><!-- doxytag: member="PageTable::PTable" ref="af3d8a3d9e644cad85356d24d9c324628" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef m5::hash_map&lt;<a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>, TheISA::TlbEntry&gt; <a class="el" href="classPageTable.html#af3d8a3d9e644cad85356d24d9c324628">PTable</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae7a302b2a02308ebbb6a164d74a9b2fa"></a><!-- doxytag: member="PageTable::PTableItr" ref="ae7a302b2a02308ebbb6a164d74a9b2fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef PTable::iterator <a class="el" href="classPageTable.html#ae7a302b2a02308ebbb6a164d74a9b2fa">PTableItr</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a0ba607685599040207fa0f5834252a97"></a><!-- doxytag: member="PageTable::PageTable" ref="a0ba607685599040207fa0f5834252a97" args="(const std::string &amp;__name, uint64_t _pid, Addr _pageSize=TheISA::VMPageSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPageTable.html">PageTable</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>__name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>_pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>_pageSize</em> = <code>TheISA::VMPageSize</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00054"></a>00054     : <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>(_pageSize), <a class="code" href="classPageTable.html#a646af22c789b99dbdef2d5d867b6257a">offsetMask</a>(<a class="code" href="namespaceArmISA.html#a9534dbda5e7db9881c7955c6e08cfdc0">mask</a>(<a class="code" href="intmath_8hh.html#ad61f5307b84292529da332fee695614e">floorLog2</a>(_pageSize))),
<a name="l00055"></a>00055       <a class="code" href="classPageTable.html#ae7231756748632307a03aff2b0d3fd8d">pid</a>(_pid), <a class="code" href="classPageTable.html#a1b003dc5cfce1a4d8f9a0c4b9b589045">_name</a>(__name)
<a name="l00056"></a>00056 {
<a name="l00057"></a>00057     assert(<a class="code" href="intmath_8hh.html#aa73a8269f3cc1853f96c7a9210f61f0e">isPowerOf2</a>(<a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>));
<a name="l00058"></a>00058     <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].<a class="code" href="structPageTable_1_1cacheElement.html#a28e3c179a86f337095088b3ca02a2b2a">valid</a> = <span class="keyword">false</span>;
<a name="l00059"></a>00059     <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].<a class="code" href="structPageTable_1_1cacheElement.html#a28e3c179a86f337095088b3ca02a2b2a">valid</a> = <span class="keyword">false</span>;
<a name="l00060"></a>00060     <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[2].<a class="code" href="structPageTable_1_1cacheElement.html#a28e3c179a86f337095088b3ca02a2b2a">valid</a> = <span class="keyword">false</span>;
<a name="l00061"></a>00061 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac8d0a10aebf4985568764273ad64d267"></a><!-- doxytag: member="PageTable::~PageTable" ref="ac8d0a10aebf4985568764273ad64d267" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classPageTable.html">PageTable</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00064"></a>00064 {
<a name="l00065"></a>00065 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a7a34214b4d368d09f3dee2ee3670b520"></a><!-- doxytag: member="PageTable::eraseCacheEntry" ref="a7a34214b4d368d09f3dee2ee3670b520" args="(Addr vaddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eraseCacheEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Erase an entry from the page table cache. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vaddr</em>&nbsp;</td><td>virtual address (page aligned) to check </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00152"></a>00152     {
<a name="l00153"></a>00153         <span class="comment">// Invalidate cached entries if necessary</span>
<a name="l00154"></a>00154         <span class="keywordflow">if</span> (<a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].valid &amp;&amp; <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> == <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>) {
<a name="l00155"></a>00155             <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].<a class="code" href="structPageTable_1_1cacheElement.html#a28e3c179a86f337095088b3ca02a2b2a">valid</a> = <span class="keyword">false</span>;
<a name="l00156"></a>00156         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].valid &amp;&amp; <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> == <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>) {
<a name="l00157"></a>00157             <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].<a class="code" href="structPageTable_1_1cacheElement.html#a28e3c179a86f337095088b3ca02a2b2a">valid</a> = <span class="keyword">false</span>;
<a name="l00158"></a>00158         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[2].valid &amp;&amp; <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[2].<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> == <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>) {
<a name="l00159"></a>00159             <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[2].<a class="code" href="structPageTable_1_1cacheElement.html#a28e3c179a86f337095088b3ca02a2b2a">valid</a> = <span class="keyword">false</span>;
<a name="l00160"></a>00160         }
<a name="l00161"></a>00161     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab21bd7c6a258cbbe96db22e978a0ee70"></a><!-- doxytag: member="PageTable::isUnmapped" ref="ab21bd7c6a258cbbe96db22e978a0ee70" args="(Addr vaddr, int64_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isUnmapped </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCheck.html">Check</a> if any pages in a region are already allocated </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vaddr</em>&nbsp;</td><td>The starting virtual address of the region. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The length of the region. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>True if no pages in the region are mapped. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00124"></a>00124 {
<a name="l00125"></a>00125     <span class="comment">// starting address must be page aligned</span>
<a name="l00126"></a>00126     assert(<a class="code" href="classPageTable.html#aea9a0188c4082f2d04b870ee4d03103c">pageOffset</a>(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>) == 0);
<a name="l00127"></a>00127 
<a name="l00128"></a>00128     <span class="keywordflow">for</span> (; size &gt; 0; size -= <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>, <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> += <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>) {
<a name="l00129"></a>00129         <span class="keywordflow">if</span> (<a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.find(vaddr) != <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.end()) {
<a name="l00130"></a>00130             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00131"></a>00131         }
<a name="l00132"></a>00132     }
<a name="l00133"></a>00133 
<a name="l00134"></a>00134     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00135"></a>00135 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5a9bd017a274b26bec6d93084a06a786"></a><!-- doxytag: member="PageTable::lookup" ref="a5a9bd017a274b26bec6d93084a06a786" args="(Addr vaddr, TheISA::TlbEntry &amp;entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TheISA::TlbEntry &amp;&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Lookup function </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vaddr</em>&nbsp;</td><td>The virtual address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>entry The page table entry corresponding to vaddr. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00139"></a>00139 {
<a name="l00140"></a>00140     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> page_addr = <a class="code" href="classPageTable.html#a38247c4bd6655c6c275b578bd72e63e4">pageAlign</a>(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>);
<a name="l00141"></a>00141 
<a name="l00142"></a>00142     <span class="keywordflow">if</span> (<a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].valid &amp;&amp; <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> == page_addr) {
<a name="l00143"></a>00143         entry = <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].<a class="code" href="structPageTable_1_1cacheElement.html#ad4a78f29e7f4b676825756c275a61918">entry</a>;
<a name="l00144"></a>00144         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00145"></a>00145     }
<a name="l00146"></a>00146     <span class="keywordflow">if</span> (<a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].valid &amp;&amp; <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> == page_addr) {
<a name="l00147"></a>00147         entry = <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].<a class="code" href="structPageTable_1_1cacheElement.html#ad4a78f29e7f4b676825756c275a61918">entry</a>;
<a name="l00148"></a>00148         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00149"></a>00149     }
<a name="l00150"></a>00150     <span class="keywordflow">if</span> (<a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[2].valid &amp;&amp; <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[2].<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> == page_addr) {
<a name="l00151"></a>00151         entry = <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[2].<a class="code" href="structPageTable_1_1cacheElement.html#ad4a78f29e7f4b676825756c275a61918">entry</a>;
<a name="l00152"></a>00152         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00153"></a>00153     }
<a name="l00154"></a>00154 
<a name="l00155"></a>00155     <a class="code" href="classPageTable.html#ae7a302b2a02308ebbb6a164d74a9b2fa">PTableItr</a> iter = <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.find(page_addr);
<a name="l00156"></a>00156 
<a name="l00157"></a>00157     <span class="keywordflow">if</span> (iter == <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.end()) {
<a name="l00158"></a>00158         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00159"></a>00159     }
<a name="l00160"></a>00160 
<a name="l00161"></a>00161     <a class="code" href="classPageTable.html#ad12e4d4887c4e62c2c8236936053dcd5">updateCache</a>(page_addr, iter-&gt;second);
<a name="l00162"></a>00162     entry = iter-&gt;second;
<a name="l00163"></a>00163     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00164"></a>00164 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aff59f07ef2928facc67674a304b1e7e9"></a><!-- doxytag: member="PageTable::map" ref="aff59f07ef2928facc67674a304b1e7e9" args="(Addr vaddr, Addr paddr, int64_t size, bool clobber=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>clobber</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00069"></a>00069 {
<a name="l00070"></a>00070     <span class="comment">// starting address must be page aligned</span>
<a name="l00071"></a>00071     assert(<a class="code" href="classPageTable.html#aea9a0188c4082f2d04b870ee4d03103c">pageOffset</a>(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>) == 0);
<a name="l00072"></a>00072 
<a name="l00073"></a>00073     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(MMU, <span class="stringliteral">&quot;Allocating Page: %#x-%#x\n&quot;</span>, <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>+ size);
<a name="l00074"></a>00074 
<a name="l00075"></a>00075     <span class="keywordflow">for</span> (; size &gt; 0; size -= <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>, <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> += <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>, paddr += <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>) {
<a name="l00076"></a>00076         <span class="keywordflow">if</span> (!clobber &amp;&amp; (<a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.find(vaddr) != <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.end())) {
<a name="l00077"></a>00077             <span class="comment">// already mapped</span>
<a name="l00078"></a>00078             <a class="code" href="base_2misc_8hh.html#acad519418dbfdd70c1208711e609c80e">fatal</a>(<span class="stringliteral">&quot;PageTable::allocate: address 0x%x already mapped&quot;</span>, vaddr);
<a name="l00079"></a>00079         }
<a name="l00080"></a>00080 
<a name="l00081"></a>00081         <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>[vaddr] = TheISA::TlbEntry(<a class="code" href="classPageTable.html#ae7231756748632307a03aff2b0d3fd8d">pid</a>, vaddr, paddr);
<a name="l00082"></a>00082         <a class="code" href="classPageTable.html#a7a34214b4d368d09f3dee2ee3670b520">eraseCacheEntry</a>(vaddr);
<a name="l00083"></a>00083         <a class="code" href="classPageTable.html#ad12e4d4887c4e62c2c8236936053dcd5">updateCache</a>(vaddr, <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>[vaddr]);
<a name="l00084"></a>00084     }
<a name="l00085"></a>00085 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6490f765a824ced1cc94979609fe7e07"></a><!-- doxytag: member="PageTable::name" ref="a6490f765a824ced1cc94979609fe7e07" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00081"></a>00081 { <span class="keywordflow">return</span> <a class="code" href="classPageTable.html#a1b003dc5cfce1a4d8f9a0c4b9b589045">_name</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a38247c4bd6655c6c275b578bd72e63e4"></a><!-- doxytag: member="PageTable::pageAlign" ref="a38247c4bd6655c6c275b578bd72e63e4" args="(Addr a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> pageAlign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>a</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00083"></a>00083 { <span class="keywordflow">return</span> (<a class="code" href="namespaceArmISA.html#a468da4d7330577ee8746df2acfa40959">a</a> &amp; ~<a class="code" href="classPageTable.html#a646af22c789b99dbdef2d5d867b6257a">offsetMask</a>); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aea9a0188c4082f2d04b870ee4d03103c"></a><!-- doxytag: member="PageTable::pageOffset" ref="aea9a0188c4082f2d04b870ee4d03103c" args="(Addr a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> pageOffset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>a</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00084"></a>00084 { <span class="keywordflow">return</span> (<a class="code" href="namespaceArmISA.html#a468da4d7330577ee8746df2acfa40959">a</a> &amp;  <a class="code" href="classPageTable.html#a646af22c789b99dbdef2d5d867b6257a">offsetMask</a>); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a42230248f7e6b36d1d039334dfc8c73b"></a><!-- doxytag: member="PageTable::remap" ref="a42230248f7e6b36d1d039334dfc8c73b" args="(Addr vaddr, int64_t size, Addr new_vaddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>new_vaddr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00089"></a>00089 {
<a name="l00090"></a>00090     assert(<a class="code" href="classPageTable.html#aea9a0188c4082f2d04b870ee4d03103c">pageOffset</a>(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>) == 0);
<a name="l00091"></a>00091     assert(<a class="code" href="classPageTable.html#aea9a0188c4082f2d04b870ee4d03103c">pageOffset</a>(new_vaddr) == 0);
<a name="l00092"></a>00092 
<a name="l00093"></a>00093     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(MMU, <span class="stringliteral">&quot;moving pages from vaddr %08p to %08p, size = %d\n&quot;</span>, <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>,
<a name="l00094"></a>00094             new_vaddr, size);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096     <span class="keywordflow">for</span> (; size &gt; 0; size -= <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>, <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> += <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>, new_vaddr += <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>) {
<a name="l00097"></a>00097         assert(<a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.find(vaddr) != <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.end());
<a name="l00098"></a>00098 
<a name="l00099"></a>00099         <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>[new_vaddr] = pTable[vaddr];
<a name="l00100"></a>00100         pTable.erase(vaddr);
<a name="l00101"></a>00101         <a class="code" href="classPageTable.html#a7a34214b4d368d09f3dee2ee3670b520">eraseCacheEntry</a>(vaddr);
<a name="l00102"></a>00102         pTable[new_vaddr].updateVaddr(new_vaddr);
<a name="l00103"></a>00103         <a class="code" href="classPageTable.html#ad12e4d4887c4e62c2c8236936053dcd5">updateCache</a>(new_vaddr, pTable[new_vaddr]);
<a name="l00104"></a>00104     }
<a name="l00105"></a>00105 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53e036786d17361be4c7320d39c99b84"></a><!-- doxytag: member="PageTable::serialize" ref="a53e036786d17361be4c7320d39c99b84" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00198"></a>00198 {
<a name="l00199"></a>00199     <a class="code" href="arch_2x86_2types_8cc.html#adc6b6ea750b0d7ff7441ea35588abbdb">paramOut</a>(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>, <span class="stringliteral">&quot;ptable.size&quot;</span>, <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.size());
<a name="l00200"></a>00200 
<a name="l00201"></a>00201     <a class="code" href="namespaceStats.html#ada51e68d31936547d3729c82daf6b7c6">PTable::size_type</a> <a class="code" href="namespaceX86ISA.html#a668f84c330035fdb72824eb18e09cd09">count</a> = 0;
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     <a class="code" href="classPageTable.html#ae7a302b2a02308ebbb6a164d74a9b2fa">PTableItr</a> iter = <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.begin();
<a name="l00204"></a>00204     <a class="code" href="classPageTable.html#ae7a302b2a02308ebbb6a164d74a9b2fa">PTableItr</a> end = <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.end();
<a name="l00205"></a>00205     <span class="keywordflow">while</span> (iter != end) {
<a name="l00206"></a>00206         <a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a> &lt;&lt; <span class="stringliteral">&quot;\n[&quot;</span> &lt;&lt; <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.Entry%d&quot;</span>, <a class="code" href="classPageTable.html#a6490f765a824ced1cc94979609fe7e07">name</a>(), count) &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;
<a name="l00207"></a>00207 
<a name="l00208"></a>00208         <a class="code" href="arch_2x86_2types_8cc.html#adc6b6ea750b0d7ff7441ea35588abbdb">paramOut</a>(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>, <span class="stringliteral">&quot;vaddr&quot;</span>, iter-&gt;first);
<a name="l00209"></a>00209         iter-&gt;second.serialize(<a class="code" href="namespaceX86ISA.html#a6b6e6ba763e7eaf46ac5b6372ca98d30">os</a>);
<a name="l00210"></a>00210 
<a name="l00211"></a>00211         ++iter;
<a name="l00212"></a>00212         ++count;
<a name="l00213"></a>00213     }
<a name="l00214"></a>00214     assert(count == <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.size());
<a name="l00215"></a>00215 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aacd7f462f681cfd6e11ef22d6fe32557"></a><!-- doxytag: member="PageTable::translate" ref="aacd7f462f681cfd6e11ef22d6fe32557" args="(RequestPtr req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">Fault</a> translate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequest.html">RequestPtr</a>&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform a translation on the memory request, fills in paddr field of req. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>req</em>&nbsp;</td><td>The memory request. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00181"></a>00181 {
<a name="l00182"></a>00182     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> paddr;
<a name="l00183"></a>00183     assert(<a class="code" href="classPageTable.html#a38247c4bd6655c6c275b578bd72e63e4">pageAlign</a>(req-&gt;<a class="code" href="classRequest.html#a68d2230b37b30d25462093fefdd813ac">getVaddr</a>() + req-&gt;<a class="code" href="classRequest.html#a3c4029b904a61a9873e6d12785ce19a1">getSize</a>() - 1)
<a name="l00184"></a>00184            == <a class="code" href="classPageTable.html#a38247c4bd6655c6c275b578bd72e63e4">pageAlign</a>(req-&gt;<a class="code" href="classRequest.html#a68d2230b37b30d25462093fefdd813ac">getVaddr</a>()));
<a name="l00185"></a>00185     <span class="keywordflow">if</span> (!<a class="code" href="classPageTable.html#a1fa58423b982a3454aadc9b5e932e9ed">translate</a>(req-&gt;<a class="code" href="classRequest.html#a68d2230b37b30d25462093fefdd813ac">getVaddr</a>(), paddr)) {
<a name="l00186"></a>00186         <span class="keywordflow">return</span> <a class="code" href="base_2types_8hh.html#a79b31ca450eaa665c335a928cb98b834">Fault</a>(<span class="keyword">new</span> <a class="code" href="classGenericPageTableFault.html">GenericPageTableFault</a>(req-&gt;<a class="code" href="classRequest.html#a68d2230b37b30d25462093fefdd813ac">getVaddr</a>()));
<a name="l00187"></a>00187     }
<a name="l00188"></a>00188     req-&gt;<a class="code" href="classRequest.html#a688b841276b48f5c420569e62a090130">setPaddr</a>(paddr);
<a name="l00189"></a>00189     <span class="keywordflow">if</span> ((paddr &amp; (<a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a> - 1)) + req-&gt;<a class="code" href="classRequest.html#a3c4029b904a61a9873e6d12785ce19a1">getSize</a>() &gt; <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>) {
<a name="l00190"></a>00190         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Request spans page boundaries!\n&quot;</span>);
<a name="l00191"></a>00191         <span class="keywordflow">return</span> <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>;
<a name="l00192"></a>00192     }
<a name="l00193"></a>00193     <span class="keywordflow">return</span> <a class="code" href="fault__fwd_8hh.html#ab8ce3b69a6737f63fcdcf99910feb153">NoFault</a>;
<a name="l00194"></a>00194 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a72077eb2c400826c0a18b845a7be0e6a"></a><!-- doxytag: member="PageTable::translate" ref="a72077eb2c400826c0a18b845a7be0e6a" args="(Addr vaddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool translate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Simplified translate function (just check for translation) </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vaddr</em>&nbsp;</td><td>The virtual address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>True if translation exists </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00118"></a>00118 { <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> dummy; <span class="keywordflow">return</span> <a class="code" href="classPageTable.html#a1fa58423b982a3454aadc9b5e932e9ed">translate</a>(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, dummy); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1fa58423b982a3454aadc9b5e932e9ed"></a><!-- doxytag: member="PageTable::translate" ref="a1fa58423b982a3454aadc9b5e932e9ed" args="(Addr vaddr, Addr &amp;paddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool translate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>paddr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Translate function </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vaddr</em>&nbsp;</td><td>The virtual address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>paddr</em>&nbsp;</td><td>Physical address from translation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>True if translation exists </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00168"></a>00168 {
<a name="l00169"></a>00169     TheISA::TlbEntry entry;
<a name="l00170"></a>00170     <span class="keywordflow">if</span> (!<a class="code" href="classPageTable.html#a5a9bd017a274b26bec6d93084a06a786">lookup</a>(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, entry)) {
<a name="l00171"></a>00171         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(MMU, <span class="stringliteral">&quot;Couldn&apos;t Translate: %#x\n&quot;</span>, <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>);
<a name="l00172"></a>00172         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00173"></a>00173     }
<a name="l00174"></a>00174     paddr = <a class="code" href="classPageTable.html#aea9a0188c4082f2d04b870ee4d03103c">pageOffset</a>(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>) + entry.pageStart();
<a name="l00175"></a>00175     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(MMU, <span class="stringliteral">&quot;Translating: %#x-&gt;%#x\n&quot;</span>, <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, paddr);
<a name="l00176"></a>00176     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00177"></a>00177 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8655228481877dd15f31d7657b7636f0"></a><!-- doxytag: member="PageTable::unmap" ref="a8655228481877dd15f31d7657b7636f0" args="(Addr vaddr, int64_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00109"></a>00109 {
<a name="l00110"></a>00110     assert(<a class="code" href="classPageTable.html#aea9a0188c4082f2d04b870ee4d03103c">pageOffset</a>(<a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>) == 0);
<a name="l00111"></a>00111 
<a name="l00112"></a>00112     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(MMU, <span class="stringliteral">&quot;Unmapping page: %#x-%#x\n&quot;</span>, <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>, <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>+ size);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114     <span class="keywordflow">for</span> (; size &gt; 0; size -= <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>, <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a> += <a class="code" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a>) {
<a name="l00115"></a>00115         assert(<a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.find(vaddr) != <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.end());
<a name="l00116"></a>00116         <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.erase(vaddr);
<a name="l00117"></a>00117         <a class="code" href="classPageTable.html#a7a34214b4d368d09f3dee2ee3670b520">eraseCacheEntry</a>(vaddr);
<a name="l00118"></a>00118     }
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af22e5d6d660b97db37003ac61ac4ee49"></a><!-- doxytag: member="PageTable::unserialize" ref="af22e5d6d660b97db37003ac61ac4ee49" args="(Checkpoint *cp, const std::string &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCheckpoint.html">Checkpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00219"></a>00219 {
<a name="l00220"></a>00220     <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0, <a class="code" href="namespaceX86ISA.html#a668f84c330035fdb72824eb18e09cd09">count</a>;
<a name="l00221"></a>00221     <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, section, <span class="stringliteral">&quot;ptable.size&quot;</span>, <a class="code" href="namespaceX86ISA.html#a668f84c330035fdb72824eb18e09cd09">count</a>);
<a name="l00222"></a>00222 
<a name="l00223"></a>00223     <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>.clear();
<a name="l00224"></a>00224 
<a name="l00225"></a>00225     <span class="keywordflow">while</span> (i &lt; <a class="code" href="namespaceX86ISA.html#a668f84c330035fdb72824eb18e09cd09">count</a>) {
<a name="l00226"></a>00226         TheISA::TlbEntry *entry;
<a name="l00227"></a>00227         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>;
<a name="l00228"></a>00228 
<a name="l00229"></a>00229         <a class="code" href="arch_2x86_2types_8cc.html#a2c99d2d69578d585494e1182085cb158">paramIn</a>(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.Entry%d&quot;</span>, <a class="code" href="classPageTable.html#a6490f765a824ced1cc94979609fe7e07">name</a>(), i), <span class="stringliteral">&quot;vaddr&quot;</span>, vaddr);
<a name="l00230"></a>00230         entry = <span class="keyword">new</span> TheISA::TlbEntry();
<a name="l00231"></a>00231         entry-&gt;unserialize(cp, <a class="code" href="cprintf_8hh.html#ace22d1c39f2df58e593bc49d1613eca2">csprintf</a>(<span class="stringliteral">&quot;%s.Entry%d&quot;</span>, <a class="code" href="classPageTable.html#a6490f765a824ced1cc94979609fe7e07">name</a>(), i));
<a name="l00232"></a>00232         <a class="code" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a>[vaddr] = *entry;
<a name="l00233"></a>00233         <span class="keyword">delete</span> entry;
<a name="l00234"></a>00234         ++i;
<a name="l00235"></a>00235     }
<a name="l00236"></a>00236 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad12e4d4887c4e62c2c8236936053dcd5"></a><!-- doxytag: member="PageTable::updateCache" ref="ad12e4d4887c4e62c2c8236936053dcd5" args="(Addr vaddr, TheISA::TlbEntry entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a>&nbsp;</td>
          <td class="paramname"> <em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TheISA::TlbEntry&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update the page table cache. </p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vaddr</em>&nbsp;</td><td>virtual address (page aligned) to check </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pte</em>&nbsp;</td><td>page table entry to return </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00133"></a>00133     {
<a name="l00134"></a>00134         <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[2].<a class="code" href="structPageTable_1_1cacheElement.html#ad4a78f29e7f4b676825756c275a61918">entry</a> = <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].<a class="code" href="structPageTable_1_1cacheElement.html#ad4a78f29e7f4b676825756c275a61918">entry</a>;
<a name="l00135"></a>00135         <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[2].<a class="code" href="structPageTable_1_1cacheElement.html#a9f933b300ef63eea367ca82f8da31025">vaddr</a> = <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].<a class="code" href="structPageTable_1_1cacheElement.html#a9f933b300ef63eea367ca82f8da31025">vaddr</a>;
<a name="l00136"></a>00136         <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[2].<a class="code" href="structPageTable_1_1cacheElement.html#a28e3c179a86f337095088b3ca02a2b2a">valid</a> = <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].<a class="code" href="structPageTable_1_1cacheElement.html#a28e3c179a86f337095088b3ca02a2b2a">valid</a>;
<a name="l00137"></a>00137 
<a name="l00138"></a>00138         <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].<a class="code" href="structPageTable_1_1cacheElement.html#ad4a78f29e7f4b676825756c275a61918">entry</a> = <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].<a class="code" href="structPageTable_1_1cacheElement.html#ad4a78f29e7f4b676825756c275a61918">entry</a>;
<a name="l00139"></a>00139         <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].<a class="code" href="structPageTable_1_1cacheElement.html#a9f933b300ef63eea367ca82f8da31025">vaddr</a> = <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].<a class="code" href="structPageTable_1_1cacheElement.html#a9f933b300ef63eea367ca82f8da31025">vaddr</a>;
<a name="l00140"></a>00140         <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[1].<a class="code" href="structPageTable_1_1cacheElement.html#a28e3c179a86f337095088b3ca02a2b2a">valid</a> = <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].<a class="code" href="structPageTable_1_1cacheElement.html#a28e3c179a86f337095088b3ca02a2b2a">valid</a>;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142         <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].<a class="code" href="structPageTable_1_1cacheElement.html#ad4a78f29e7f4b676825756c275a61918">entry</a> = entry;
<a name="l00143"></a>00143         <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].<a class="code" href="structPageTable_1_1cacheElement.html#a9f933b300ef63eea367ca82f8da31025">vaddr</a> = <a class="code" href="namespaceMipsISA.html#ac78d9788b3f9a366df64485c9afaf1b1">vaddr</a>;
<a name="l00144"></a>00144         <a class="code" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[0].<a class="code" href="structPageTable_1_1cacheElement.html#a28e3c179a86f337095088b3ca02a2b2a">valid</a> = <span class="keyword">true</span>;
<a name="l00145"></a>00145     }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a1b003dc5cfce1a4d8f9a0c4b9b589045"></a><!-- doxytag: member="PageTable::_name" ref="a1b003dc5cfce1a4d8f9a0c4b9b589045" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string <a class="el" href="classPageTable.html#a1b003dc5cfce1a4d8f9a0c4b9b589045">_name</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a646af22c789b99dbdef2d5d867b6257a"></a><!-- doxytag: member="PageTable::offsetMask" ref="a646af22c789b99dbdef2d5d867b6257a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classPageTable.html#a646af22c789b99dbdef2d5d867b6257a">offsetMask</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9e5e4d8007dd2c921971af2a58f86adc"></a><!-- doxytag: member="PageTable::pageSize" ref="a9e5e4d8007dd2c921971af2a58f86adc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232">Addr</a> <a class="el" href="classPageTable.html#a9e5e4d8007dd2c921971af2a58f86adc">pageSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae7231756748632307a03aff2b0d3fd8d"></a><!-- doxytag: member="PageTable::pid" ref="ae7231756748632307a03aff2b0d3fd8d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint64_t <a class="el" href="classPageTable.html#ae7231756748632307a03aff2b0d3fd8d">pid</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af6a1d4146effcb66a42a1a50cdedd71c"></a><!-- doxytag: member="PageTable::pTable" ref="af6a1d4146effcb66a42a1a50cdedd71c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPageTable.html#af3d8a3d9e644cad85356d24d9c324628">PTable</a> <a class="el" href="classPageTable.html#af6a1d4146effcb66a42a1a50cdedd71c">pTable</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6eb3f78e407d321f98bdaacc9d2768a6"></a><!-- doxytag: member="PageTable::pTableCache" ref="a6eb3f78e407d321f98bdaacc9d2768a6" args="[3]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structPageTable_1_1cacheElement.html">cacheElement</a> <a class="el" href="classPageTable.html#a6eb3f78e407d321f98bdaacc9d2768a6">pTableCache</a>[3]<code> [read, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>mem/<a class="el" href="page__table_8hh_source.html">page_table.hh</a></li>
<li>mem/<a class="el" href="page__table_8cc.html">page_table.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
