<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス Prefetcher</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス Prefetcher</h1><!-- doxytag: class="Prefetcher" --><!-- doxytag: inherits="SimObject" -->
<p><code>#include &lt;<a class="el" href="Prefetcher_8hh_source.html">Prefetcher.hh</a>&gt;</code></p>
<div class="dynheader">
Prefetcherに対する継承グラフ</div>
<div class="dynsection">
 <div class="center">
  <img src="classPrefetcher.gif" usemap="#Prefetcher_map" alt=""/>
  <map id="Prefetcher_map" name="Prefetcher_map">
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="105,56,200,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,95,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="105,0,200,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="210,0,305,24"/>
</map>
 </div>
</div>

<p><a href="classPrefetcher-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef PrefetcherParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#aa178e3582d29b08c028c11634875499c">Params</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a103945d22642f41049b79540b7b03773">Prefetcher</a> (const <a class="el" href="classPrefetcher.html#aa178e3582d29b08c028c11634875499c">Params</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a7b071405fe38f9da007866b7510e773c">~Prefetcher</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a837cf1d68756e156957f5d7c36d5da7e">issueNextPrefetch</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address, <a class="el" href="classPrefetchEntry.html">PrefetchEntry</a> *stream)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ad42b59b907f12b2820fda827538f272f">observePfHit</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a54bad4fe990aa1c8c9e3910c7c972089">observePfMiss</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a0aeb99b55e0ebe2fe1ebc894a1f08ebc">observeMiss</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address, const RubyRequestType &amp;type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ac55fe386a101fbae38c716067c9966a0">print</a> (std::ostream &amp;out) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ad1772ea493bb64a517a46484972c9efc">setController</a> (<a class="el" href="classAbstractController.html">AbstractController</a> *_ctrl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a> ()</td></tr>
<tr><td colspan="2"><h2>Private メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ae2a3897ee6d47f9e162f17bea5f21a11">getLRUindex</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a6bd67ad0a5fd462f191abb16d3c6bfa8">clearNonunitEntry</a> (<a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">clear a non-unit stride prefetcher entry  <a href="#a6bd67ad0a5fd462f191abb16d3c6bfa8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a5125f46f95961714c0ebdf658b6bb745">initializeStream</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address, int stride, <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> index, const RubyRequestType &amp;type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">allocate a new stream buffer at a specific index  <a href="#a5125f46f95961714c0ebdf658b6bb745"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPrefetchEntry.html">PrefetchEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a9d6cbff2a87bd34af85710cae48c6077">getPrefetchEntry</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address, <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ab7279136d42cc2cc34787356c5dc6f67">accessUnitFilter</a> (<a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classAddress.html">Address</a> &gt; &amp;filter_table, <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *hit_table, <a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;index, const <a class="el" href="classAddress.html">Address</a> &amp;address, int stride, bool &amp;alloc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">access a unit stride filter to determine if there is a hit  <a href="#ab7279136d42cc2cc34787356c5dc6f67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a11579c7a5838c568fb11ac662a82d6f5">accessNonunitFilter</a> (const <a class="el" href="classAddress.html">Address</a> &amp;address, int *stride, bool &amp;alloc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">access a unit stride filter to determine if there is a hit  <a href="#a11579c7a5838c568fb11ac662a82d6f5"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#af24cc9f3fcde8ff672f65b91689b1c9c">m_num_streams</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of prefetch streams available  <a href="#af24cc9f3fcde8ff672f65b91689b1c9c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classPrefetchEntry.html">PrefetchEntry</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32">m_array</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">an array of the active prefetch streams  <a href="#ac70c7174698e1bb57e75d7ee4d31db32"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ab90010829f9a17cf9fc34b16723e3d75">m_train_misses</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of misses I must see before allocating a stream  <a href="#ab90010829f9a17cf9fc34b16723e3d75"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a0a4656906ae582dc063cb6d703f1c3d6">m_num_startup_pfs</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of initial prefetches to startup a stream  <a href="#a0a4656906ae582dc063cb6d703f1c3d6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a05a4b7a047922b33e9ce39b879a2ae6b">m_num_unit_filters</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of stride filters  <a href="#a05a4b7a047922b33e9ce39b879a2ae6b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ad6f212487f4bbedaa6d22125da88fa04">m_num_nonunit_filters</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of non-stride filters  <a href="#ad6f212487f4bbedaa6d22125da88fa04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classAddress.html">Address</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a22e41c52e5646478755d6c2a699f2a3e">m_unit_filter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#aa7152e0ba18507f4499632ccffc8ddad">m_unit_filter_index</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">a round robin pointer into the unit filter group  <a href="#aa7152e0ba18507f4499632ccffc8ddad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#adb0b4ed5c68fa291f0f0b1e5a08dd1e8">m_unit_filter_hit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classAddress.html">Address</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a596c08c70ae40df3eb032cbdf16db62f">m_negative_filter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a515ce9fec5ecb09164d1915f41bdd881">m_negative_filter_index</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">a round robin pointer into the negative filter group  <a href="#a515ce9fec5ecb09164d1915f41bdd881"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a634a8a03b20af61b964bf187317ff430">m_negative_filter_hit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classAddress.html">Address</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a561535cdda35027c698a573b6b3e5e52">m_nonunit_filter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ae5f5874d1f5f2ae17e490bc3e932e2bc">m_nonunit_stride</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An array of strides (in # of cache lines) for the filter entries.  <a href="#ae5f5874d1f5f2ae17e490bc3e932e2bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ad152c2b22b30ca16bd8a4247fbf54e41">m_nonunit_hit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#abf85cabfde70657a26802059aeb4b971">m_nonunit_index</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">a round robin pointer into the unit filter group  <a href="#abf85cabfde70657a26802059aeb4b971"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ac07a573d2ab82546c1d3291e9124db84">m_prefetch_cross_pages</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used for allowing prefetches across pages.  <a href="#ac07a573d2ab82546c1d3291e9124db84"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAbstractController.html">AbstractController</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a1e7049f2cd244dc3944af370eb3e979a">m_controller</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#ad1e6c9fb59c342c342de2ec92e395174">numMissObserved</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Count of accesses to the prefetcher.  <a href="#ad1e6c9fb59c342c342de2ec92e395174"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a9fa8a2d34e0af70cb6db907ad8df7470">numAllocatedStreams</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Count of prefetch streams allocated.  <a href="#a9fa8a2d34e0af70cb6db907ad8df7470"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a112363546083c7fbefe26b74e3181baf">numPrefetchRequested</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Count of prefetch requests made.  <a href="#a112363546083c7fbefe26b74e3181baf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a9644f1356b157e6cf7e86db7a9356be7">numPrefetchAccepted</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Count of prefetch requests accepted.  <a href="#a9644f1356b157e6cf7e86db7a9356be7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a4165aaa9b3590259a258114e9469c74e">numDroppedPrefetches</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Count of prefetches dropped.  <a href="#a4165aaa9b3590259a258114e9469c74e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a1651af6d8d96734f82a6e95a8aea4af0">numHits</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Count of successful prefetches.  <a href="#a1651af6d8d96734f82a6e95a8aea4af0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a46a96500ada7b244799f94064bf2b24d">numPartialHits</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Count of partial successful prefetches.  <a href="#a46a96500ada7b244799f94064bf2b24d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a40bc6d68ddd4537932b2ac90e93dee85">numPagesCrossed</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Count of pages crossed.  <a href="#a40bc6d68ddd4537932b2ac90e93dee85"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefetcher.html#a7131480b702efc8b888a80270c77aab2">numMissedPrefetchedBlocks</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Count of misses incurred for blocks that were prefetched.  <a href="#a7131480b702efc8b888a80270c77aab2"></a><br/></td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="aa178e3582d29b08c028c11634875499c"></a><!-- doxytag: member="Prefetcher::Params" ref="aa178e3582d29b08c028c11634875499c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef PrefetcherParams <a class="el" href="classPrefetcher.html#aa178e3582d29b08c028c11634875499c">Params</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classSimObject.html#a0f0761d2db586a23bb2a2880b8f387bb">SimObject</a>を再定義しています。</p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a103945d22642f41049b79540b7b03773"></a><!-- doxytag: member="Prefetcher::Prefetcher" ref="a103945d22642f41049b79540b7b03773" args="(const Params *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPrefetcher.html">Prefetcher</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPrefetcher.html#aa178e3582d29b08c028c11634875499c">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00041"></a>00041     : <a class="code" href="classSimObject.html#a153e2844edadce7c286efc5e3a7da911">SimObject</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>), <a class="code" href="classPrefetcher.html#af24cc9f3fcde8ff672f65b91689b1c9c" title="number of prefetch streams available">m_num_streams</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;num_streams),
<a name="l00042"></a>00042     <a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;num_streams), <a class="code" href="classPrefetcher.html#ab90010829f9a17cf9fc34b16723e3d75" title="number of misses I must see before allocating a stream">m_train_misses</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;train_misses),
<a name="l00043"></a>00043     <a class="code" href="classPrefetcher.html#a0a4656906ae582dc063cb6d703f1c3d6" title="number of initial prefetches to startup a stream">m_num_startup_pfs</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;num_startup_pfs), <a class="code" href="classPrefetcher.html#a05a4b7a047922b33e9ce39b879a2ae6b" title="number of stride filters">m_num_unit_filters</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;unit_filter),
<a name="l00044"></a>00044     <a class="code" href="classPrefetcher.html#ad6f212487f4bbedaa6d22125da88fa04" title="number of non-stride filters">m_num_nonunit_filters</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;nonunit_filter),
<a name="l00045"></a>00045     <a class="code" href="classPrefetcher.html#a22e41c52e5646478755d6c2a699f2a3e">m_unit_filter</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;unit_filter, <a class="code" href="classAddress.html">Address</a>(0)),
<a name="l00046"></a>00046     <a class="code" href="classPrefetcher.html#a596c08c70ae40df3eb032cbdf16db62f">m_negative_filter</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;unit_filter, <a class="code" href="classAddress.html">Address</a>(0)),
<a name="l00047"></a>00047     <a class="code" href="classPrefetcher.html#a561535cdda35027c698a573b6b3e5e52">m_nonunit_filter</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;nonunit_filter, <a class="code" href="classAddress.html">Address</a>(0)),
<a name="l00048"></a>00048     <a class="code" href="classPrefetcher.html#ac07a573d2ab82546c1d3291e9124db84" title="Used for allowing prefetches across pages.">m_prefetch_cross_pages</a>(<a class="code" href="namespaceMipsISA.html#a37d3f683959086eac7bcf24a002a9fb8">p</a>-&gt;cross_page)
<a name="l00049"></a>00049 {
<a name="l00050"></a>00050     assert(<a class="code" href="classPrefetcher.html#af24cc9f3fcde8ff672f65b91689b1c9c" title="number of prefetch streams available">m_num_streams</a> &gt; 0);
<a name="l00051"></a>00051     assert(<a class="code" href="classPrefetcher.html#a0a4656906ae582dc063cb6d703f1c3d6" title="number of initial prefetches to startup a stream">m_num_startup_pfs</a> &lt;= <a class="code" href="Prefetcher_8hh.html#a3f538565a1611925be3c57c2b35bbcfd">MAX_PF_INFLIGHT</a>);
<a name="l00052"></a>00052 
<a name="l00053"></a>00053     <span class="comment">// create +1 stride filter</span>
<a name="l00054"></a>00054     <a class="code" href="classPrefetcher.html#aa7152e0ba18507f4499632ccffc8ddad" title="a round robin pointer into the unit filter group">m_unit_filter_index</a> = 0;
<a name="l00055"></a>00055     <a class="code" href="classPrefetcher.html#adb0b4ed5c68fa291f0f0b1e5a08dd1e8">m_unit_filter_hit</a> = <span class="keyword">new</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>[<a class="code" href="classPrefetcher.html#a05a4b7a047922b33e9ce39b879a2ae6b" title="number of stride filters">m_num_unit_filters</a>];
<a name="l00056"></a>00056     <span class="keywordflow">for</span> (<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> =0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classPrefetcher.html#a05a4b7a047922b33e9ce39b879a2ae6b" title="number of stride filters">m_num_unit_filters</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00057"></a>00057         <a class="code" href="classPrefetcher.html#adb0b4ed5c68fa291f0f0b1e5a08dd1e8">m_unit_filter_hit</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = 0;
<a name="l00058"></a>00058     }
<a name="l00059"></a>00059 
<a name="l00060"></a>00060     <span class="comment">// create -1 stride filter</span>
<a name="l00061"></a>00061     <a class="code" href="classPrefetcher.html#a515ce9fec5ecb09164d1915f41bdd881" title="a round robin pointer into the negative filter group">m_negative_filter_index</a> = 0;
<a name="l00062"></a>00062     <a class="code" href="classPrefetcher.html#a634a8a03b20af61b964bf187317ff430">m_negative_filter_hit</a> = <span class="keyword">new</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>[m_num_unit_filters];
<a name="l00063"></a>00063     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> =0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; m_num_unit_filters; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00064"></a>00064         <a class="code" href="classPrefetcher.html#a634a8a03b20af61b964bf187317ff430">m_negative_filter_hit</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = 0;
<a name="l00065"></a>00065     }
<a name="l00066"></a>00066 
<a name="l00067"></a>00067     <span class="comment">// create nonunit stride filter</span>
<a name="l00068"></a>00068     <a class="code" href="classPrefetcher.html#abf85cabfde70657a26802059aeb4b971" title="a round robin pointer into the unit filter group">m_nonunit_index</a> = 0;
<a name="l00069"></a>00069     <a class="code" href="classPrefetcher.html#ae5f5874d1f5f2ae17e490bc3e932e2bc" title="An array of strides (in # of cache lines) for the filter entries.">m_nonunit_stride</a> = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="classPrefetcher.html#ad6f212487f4bbedaa6d22125da88fa04" title="number of non-stride filters">m_num_nonunit_filters</a>];
<a name="l00070"></a>00070     <a class="code" href="classPrefetcher.html#ad152c2b22b30ca16bd8a4247fbf54e41">m_nonunit_hit</a>    = <span class="keyword">new</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>[<a class="code" href="classPrefetcher.html#ad6f212487f4bbedaa6d22125da88fa04" title="number of non-stride filters">m_num_nonunit_filters</a>];
<a name="l00071"></a>00071     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> =0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classPrefetcher.html#ad6f212487f4bbedaa6d22125da88fa04" title="number of non-stride filters">m_num_nonunit_filters</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00072"></a>00072         <a class="code" href="classPrefetcher.html#ae5f5874d1f5f2ae17e490bc3e932e2bc" title="An array of strides (in # of cache lines) for the filter entries.">m_nonunit_stride</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = 0;
<a name="l00073"></a>00073         <a class="code" href="classPrefetcher.html#ad152c2b22b30ca16bd8a4247fbf54e41">m_nonunit_hit</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]    = 0;
<a name="l00074"></a>00074     }
<a name="l00075"></a>00075 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7b071405fe38f9da007866b7510e773c"></a><!-- doxytag: member="Prefetcher::~Prefetcher" ref="a7b071405fe38f9da007866b7510e773c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classPrefetcher.html">Prefetcher</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00078"></a>00078 {
<a name="l00079"></a>00079     <span class="keyword">delete</span> <a class="code" href="classPrefetcher.html#adb0b4ed5c68fa291f0f0b1e5a08dd1e8">m_unit_filter_hit</a>;
<a name="l00080"></a>00080     <span class="keyword">delete</span> <a class="code" href="classPrefetcher.html#a634a8a03b20af61b964bf187317ff430">m_negative_filter_hit</a>;
<a name="l00081"></a>00081     <span class="keyword">delete</span> <a class="code" href="classPrefetcher.html#ae5f5874d1f5f2ae17e490bc3e932e2bc" title="An array of strides (in # of cache lines) for the filter entries.">m_nonunit_stride</a>;
<a name="l00082"></a>00082     <span class="keyword">delete</span> <a class="code" href="classPrefetcher.html#ad152c2b22b30ca16bd8a4247fbf54e41">m_nonunit_hit</a>;
<a name="l00083"></a>00083 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a11579c7a5838c568fb11ac662a82d6f5"></a><!-- doxytag: member="Prefetcher::accessNonunitFilter" ref="a11579c7a5838c568fb11ac662a82d6f5" args="(const Address &amp;address, int *stride, bool &amp;alloc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool accessNonunitFilter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&nbsp;</td>
          <td class="paramname"> <em>alloc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>access a unit stride filter to determine if there is a hit </p>

<p><p>look for non-unit strides based on a (user-defined) page size </p>
</p>

<p><div class="fragment"><pre class="fragment"><a name="l00380"></a>00380 {
<a name="l00381"></a>00381     <span class="comment">//reset the alloc flag</span>
<a name="l00382"></a>00382     alloc = <span class="keyword">false</span>;
<a name="l00383"></a>00383 
<a name="l00385"></a>00385     <a class="code" href="classAddress.html">Address</a> page_addr = <a class="code" href="Address_8cc.html#a5169a800da4ecad8ccc7eb6731094ef7">page_address</a>(address);
<a name="l00386"></a>00386     <a class="code" href="classAddress.html">Address</a> line_addr = <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address);
<a name="l00387"></a>00387 
<a name="l00388"></a>00388     <span class="keywordflow">for</span> (<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classPrefetcher.html#ad6f212487f4bbedaa6d22125da88fa04" title="number of non-stride filters">m_num_nonunit_filters</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00389"></a>00389         <span class="keywordflow">if</span> (<a class="code" href="Address_8cc.html#a5169a800da4ecad8ccc7eb6731094ef7">page_address</a>(<a class="code" href="classPrefetcher.html#a561535cdda35027c698a573b6b3e5e52">m_nonunit_filter</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]) == page_addr) {
<a name="l00390"></a>00390             <span class="comment">// hit in the non-unit filter</span>
<a name="l00391"></a>00391             <span class="comment">// compute the actual stride (for this reference)</span>
<a name="l00392"></a>00392             <span class="keywordtype">int</span> delta = line_addr.<a class="code" href="classAddress.html#aa5c44fe637d09a708d70c4a689840cd0">getAddress</a>() - <a class="code" href="classPrefetcher.html#a561535cdda35027c698a573b6b3e5e52">m_nonunit_filter</a>[i].getAddress();
<a name="l00393"></a>00393 
<a name="l00394"></a>00394             <span class="keywordflow">if</span> (delta != 0) {
<a name="l00395"></a>00395                 <span class="comment">// no zero stride prefetches</span>
<a name="l00396"></a>00396                 <span class="comment">// check that the stride matches (for the last N times)</span>
<a name="l00397"></a>00397                 <span class="keywordflow">if</span> (delta == <a class="code" href="classPrefetcher.html#ae5f5874d1f5f2ae17e490bc3e932e2bc" title="An array of strides (in # of cache lines) for the filter entries.">m_nonunit_stride</a>[i]) {
<a name="l00398"></a>00398                     <span class="comment">// -&gt; stride hit</span>
<a name="l00399"></a>00399                     <span class="comment">// increment count (if &gt; 2) allocate stream</span>
<a name="l00400"></a>00400                     <a class="code" href="classPrefetcher.html#ad152c2b22b30ca16bd8a4247fbf54e41">m_nonunit_hit</a>[i]++;
<a name="l00401"></a>00401                     <span class="keywordflow">if</span> (<a class="code" href="classPrefetcher.html#ad152c2b22b30ca16bd8a4247fbf54e41">m_nonunit_hit</a>[i] &gt; <a class="code" href="classPrefetcher.html#ab90010829f9a17cf9fc34b16723e3d75" title="number of misses I must see before allocating a stream">m_train_misses</a>) {
<a name="l00402"></a>00402                         <span class="comment">//This stride HAS to be the multiplicative constant of</span>
<a name="l00403"></a>00403                         <span class="comment">//dataBlockBytes (bc next_stride_address is calculated based</span>
<a name="l00404"></a>00404                         <span class="comment">//on this multiplicative constant!)</span>
<a name="l00405"></a>00405                         *<a class="code" href="namespaceArmISA.html#a37eb53a9544702853d40d1e014ba88ea">stride</a> = <a class="code" href="classPrefetcher.html#ae5f5874d1f5f2ae17e490bc3e932e2bc" title="An array of strides (in # of cache lines) for the filter entries.">m_nonunit_stride</a>[i]/<a class="code" href="classRubySystem.html#ad5726e8c9283b1447b75c3a8c67ffa75">RubySystem::getBlockSizeBytes</a>();
<a name="l00406"></a>00406 
<a name="l00407"></a>00407                         <span class="comment">// clear this filter entry</span>
<a name="l00408"></a>00408                         <a class="code" href="classPrefetcher.html#a6bd67ad0a5fd462f191abb16d3c6bfa8" title="clear a non-unit stride prefetcher entry">clearNonunitEntry</a>(i);
<a name="l00409"></a>00409                         alloc = <span class="keyword">true</span>;
<a name="l00410"></a>00410                     }
<a name="l00411"></a>00411                 } <span class="keywordflow">else</span> {
<a name="l00412"></a>00412                     <span class="comment">// delta didn&apos;t match ... reset m_nonunit_hit count for this entry</span>
<a name="l00413"></a>00413                     <a class="code" href="classPrefetcher.html#ad152c2b22b30ca16bd8a4247fbf54e41">m_nonunit_hit</a>[i] = 0;
<a name="l00414"></a>00414                 }
<a name="l00415"></a>00415 
<a name="l00416"></a>00416                 <span class="comment">// update the last address seen &amp; the stride</span>
<a name="l00417"></a>00417                 <a class="code" href="classPrefetcher.html#ae5f5874d1f5f2ae17e490bc3e932e2bc" title="An array of strides (in # of cache lines) for the filter entries.">m_nonunit_stride</a>[i] = delta;
<a name="l00418"></a>00418                 <a class="code" href="classPrefetcher.html#a561535cdda35027c698a573b6b3e5e52">m_nonunit_filter</a>[i] = line_addr;
<a name="l00419"></a>00419                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00420"></a>00420             } <span class="keywordflow">else</span> {
<a name="l00421"></a>00421                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00422"></a>00422             }
<a name="l00423"></a>00423         }
<a name="l00424"></a>00424     }
<a name="l00425"></a>00425 
<a name="l00426"></a>00426     <span class="comment">// not found: enter this address in the table</span>
<a name="l00427"></a>00427     <a class="code" href="classPrefetcher.html#a561535cdda35027c698a573b6b3e5e52">m_nonunit_filter</a>[<a class="code" href="classPrefetcher.html#abf85cabfde70657a26802059aeb4b971" title="a round robin pointer into the unit filter group">m_nonunit_index</a>] = line_addr;
<a name="l00428"></a>00428     <a class="code" href="classPrefetcher.html#ae5f5874d1f5f2ae17e490bc3e932e2bc" title="An array of strides (in # of cache lines) for the filter entries.">m_nonunit_stride</a>[<a class="code" href="classPrefetcher.html#abf85cabfde70657a26802059aeb4b971" title="a round robin pointer into the unit filter group">m_nonunit_index</a>] = 0;
<a name="l00429"></a>00429     <a class="code" href="classPrefetcher.html#ad152c2b22b30ca16bd8a4247fbf54e41">m_nonunit_hit</a>[<a class="code" href="classPrefetcher.html#abf85cabfde70657a26802059aeb4b971" title="a round robin pointer into the unit filter group">m_nonunit_index</a>]    = 0;
<a name="l00430"></a>00430 
<a name="l00431"></a>00431     <a class="code" href="classPrefetcher.html#abf85cabfde70657a26802059aeb4b971" title="a round robin pointer into the unit filter group">m_nonunit_index</a> = <a class="code" href="classPrefetcher.html#abf85cabfde70657a26802059aeb4b971" title="a round robin pointer into the unit filter group">m_nonunit_index</a> + 1;
<a name="l00432"></a>00432     <span class="keywordflow">if</span> (<a class="code" href="classPrefetcher.html#abf85cabfde70657a26802059aeb4b971" title="a round robin pointer into the unit filter group">m_nonunit_index</a> &gt;= m_num_nonunit_filters) {
<a name="l00433"></a>00433         <a class="code" href="classPrefetcher.html#abf85cabfde70657a26802059aeb4b971" title="a round robin pointer into the unit filter group">m_nonunit_index</a> = 0;
<a name="l00434"></a>00434     }
<a name="l00435"></a>00435     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00436"></a>00436 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab7279136d42cc2cc34787356c5dc6f67"></a><!-- doxytag: member="Prefetcher::accessUnitFilter" ref="ab7279136d42cc2cc34787356c5dc6f67" args="(std::vector&lt; Address &gt; &amp;filter_table, uint32_t *hit_table, uint32_t &amp;index, const Address &amp;address, int stride, bool &amp;alloc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool accessUnitFilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classAddress.html">Address</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>filter_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hit_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&nbsp;</td>
          <td class="paramname"> <em>alloc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>access a unit stride filter to determine if there is a hit </p>

<p><div class="fragment"><pre class="fragment"><a name="l00348"></a>00348 {
<a name="l00349"></a>00349     <span class="comment">//reset the alloc flag</span>
<a name="l00350"></a>00350     alloc = <span class="keyword">false</span>;
<a name="l00351"></a>00351 
<a name="l00352"></a>00352     <a class="code" href="classAddress.html">Address</a> line_addr = <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address);
<a name="l00353"></a>00353     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classPrefetcher.html#a05a4b7a047922b33e9ce39b879a2ae6b" title="number of stride filters">m_num_unit_filters</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00354"></a>00354         <span class="keywordflow">if</span> (filter_table[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] == line_addr) {
<a name="l00355"></a>00355             filter_table[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] = <a class="code" href="Address_8cc.html#a4e1398eb42e200863179d5ae0c90a715">next_stride_address</a>(filter_table[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>], <a class="code" href="namespaceArmISA.html#a37eb53a9544702853d40d1e014ba88ea">stride</a>);
<a name="l00356"></a>00356             filter_hit[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]++;
<a name="l00357"></a>00357             <span class="keywordflow">if</span> (filter_hit[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] &gt;= <a class="code" href="classPrefetcher.html#ab90010829f9a17cf9fc34b16723e3d75" title="number of misses I must see before allocating a stream">m_train_misses</a>) {
<a name="l00358"></a>00358                 alloc = <span class="keyword">true</span>;
<a name="l00359"></a>00359             }
<a name="l00360"></a>00360             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00361"></a>00361         }
<a name="l00362"></a>00362     }
<a name="l00363"></a>00363 
<a name="l00364"></a>00364     <span class="comment">// enter this address in the table</span>
<a name="l00365"></a>00365     <span class="keywordtype">int</span> local_index = <a class="code" href="namespaceMipsISA.html#ae6714ce3c5ef82205cecbd410556edf3">index</a>;
<a name="l00366"></a>00366     filter_table[local_index] = <a class="code" href="Address_8cc.html#a4e1398eb42e200863179d5ae0c90a715">next_stride_address</a>(line_addr, <a class="code" href="namespaceArmISA.html#a37eb53a9544702853d40d1e014ba88ea">stride</a>);
<a name="l00367"></a>00367     filter_hit[local_index] = 0;
<a name="l00368"></a>00368     local_index = local_index + 1;
<a name="l00369"></a>00369     <span class="keywordflow">if</span> (local_index &gt;= m_num_unit_filters) {
<a name="l00370"></a>00370         local_index = 0;
<a name="l00371"></a>00371     }
<a name="l00372"></a>00372 
<a name="l00373"></a>00373     <a class="code" href="namespaceMipsISA.html#ae6714ce3c5ef82205cecbd410556edf3">index</a> = local_index;
<a name="l00374"></a>00374     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00375"></a>00375 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6bd67ad0a5fd462f191abb16d3c6bfa8"></a><!-- doxytag: member="Prefetcher::clearNonunitEntry" ref="a6bd67ad0a5fd462f191abb16d3c6bfa8" args="(uint32_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearNonunitEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>clear a non-unit stride prefetcher entry </p>

<p><div class="fragment"><pre class="fragment"><a name="l00277"></a>00277 {
<a name="l00278"></a>00278     <a class="code" href="classPrefetcher.html#a561535cdda35027c698a573b6b3e5e52">m_nonunit_filter</a>[<a class="code" href="namespaceMipsISA.html#ae6714ce3c5ef82205cecbd410556edf3">index</a>].setAddress(0);
<a name="l00279"></a>00279     <a class="code" href="classPrefetcher.html#ae5f5874d1f5f2ae17e490bc3e932e2bc" title="An array of strides (in # of cache lines) for the filter entries.">m_nonunit_stride</a>[<a class="code" href="namespaceMipsISA.html#ae6714ce3c5ef82205cecbd410556edf3">index</a>] = 0;
<a name="l00280"></a>00280     <a class="code" href="classPrefetcher.html#ad152c2b22b30ca16bd8a4247fbf54e41">m_nonunit_hit</a>[<a class="code" href="namespaceMipsISA.html#ae6714ce3c5ef82205cecbd410556edf3">index</a>]    = 0;
<a name="l00281"></a>00281 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae2a3897ee6d47f9e162f17bea5f21a11"></a><!-- doxytag: member="Prefetcher::getLRUindex" ref="ae2a3897ee6d47f9e162f17bea5f21a11" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> getLRUindex </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an unused stream buffer (or if all are used, returns the least recently used (accessed) stream buffer). </p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>The index of the least recently used stream buffer. </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00258"></a>00258 {
<a name="l00259"></a>00259     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> lru_index = 0;
<a name="l00260"></a>00260     <a class="code" href="classCycles.html">Cycles</a> lru_access = <a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[lru_index].m_use_time;
<a name="l00261"></a>00261 
<a name="l00262"></a>00262     <span class="keywordflow">for</span> (<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classPrefetcher.html#af24cc9f3fcde8ff672f65b91689b1c9c" title="number of prefetch streams available">m_num_streams</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00263"></a>00263         <span class="keywordflow">if</span> (!<a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].m_is_valid) {
<a name="l00264"></a>00264             <span class="keywordflow">return</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>;
<a name="l00265"></a>00265         }
<a name="l00266"></a>00266         <span class="keywordflow">if</span> (<a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].m_use_time &lt; lru_access) {
<a name="l00267"></a>00267             lru_access = <a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].m_use_time;
<a name="l00268"></a>00268             lru_index = <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>;
<a name="l00269"></a>00269         }
<a name="l00270"></a>00270     }
<a name="l00271"></a>00271 
<a name="l00272"></a>00272     <span class="keywordflow">return</span> lru_index;
<a name="l00273"></a>00273 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9d6cbff2a87bd34af85710cae48c6077"></a><!-- doxytag: member="Prefetcher::getPrefetchEntry" ref="a9d6cbff2a87bd34af85710cae48c6077" args="(const Address &amp;address, uint32_t &amp;index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPrefetchEntry.html">PrefetchEntry</a> * getPrefetchEntry </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>get pointer to the matching stream entry, returns NULL if not found index holds the multiple of the stride this address is. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00328"></a>00328 {
<a name="l00329"></a>00329     <span class="comment">// search all streams for a match</span>
<a name="l00330"></a>00330     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classPrefetcher.html#af24cc9f3fcde8ff672f65b91689b1c9c" title="number of prefetch streams available">m_num_streams</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00331"></a>00331         <span class="comment">// search all the outstanding prefetches for this stream</span>
<a name="l00332"></a>00332         <span class="keywordflow">if</span> (<a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].m_is_valid) {
<a name="l00333"></a>00333             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a> = 0; <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a> &lt; <a class="code" href="classPrefetcher.html#a0a4656906ae582dc063cb6d703f1c3d6" title="number of initial prefetches to startup a stream">m_num_startup_pfs</a>; <a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>++) {
<a name="l00334"></a>00334                 <span class="keywordflow">if</span> (<a class="code" href="Address_8cc.html#a4e1398eb42e200863179d5ae0c90a715">next_stride_address</a>(<a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].m_address,
<a name="l00335"></a>00335                     -(<a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].m_stride*<a class="code" href="namespaceArmISA.html#adda8322536e2853111a71e4e2f911762">j</a>)) == address) {
<a name="l00336"></a>00336                     <span class="keywordflow">return</span> &amp;(<a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]);
<a name="l00337"></a>00337                 }
<a name="l00338"></a>00338             }
<a name="l00339"></a>00339         }
<a name="l00340"></a>00340     }
<a name="l00341"></a>00341     <span class="keywordflow">return</span> <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>;
<a name="l00342"></a>00342 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5125f46f95961714c0ebdf658b6bb745"></a><!-- doxytag: member="Prefetcher::initializeStream" ref="a5125f46f95961714c0ebdf658b6bb745" args="(const Address &amp;address, int stride, uint32_t index, const RubyRequestType &amp;type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initializeStream </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RubyRequestType &amp;&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>allocate a new stream buffer at a specific index </p>

<p><div class="fragment"><pre class="fragment"><a name="l00286"></a>00286 {
<a name="l00287"></a>00287     <a class="code" href="classPrefetcher.html#a9fa8a2d34e0af70cb6db907ad8df7470" title="Count of prefetch streams allocated.">numAllocatedStreams</a>++;
<a name="l00288"></a>00288 
<a name="l00289"></a>00289     <span class="comment">// initialize the stream prefetcher</span>
<a name="l00290"></a>00290     <a class="code" href="classPrefetchEntry.html">PrefetchEntry</a> *mystream = &amp;(<a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceMipsISA.html#ae6714ce3c5ef82205cecbd410556edf3">index</a>]);
<a name="l00291"></a>00291     mystream-&gt;<a class="code" href="classPrefetchEntry.html#a9fc76d7db60d4f05200f8248a697ea28" title="The base address for the stream prefetch.">m_address</a> = <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address);
<a name="l00292"></a>00292     mystream-&gt;<a class="code" href="classPrefetchEntry.html#a8b3c2bb6e8f9ed6318723fb273cf6b5e" title="stride distance to get next address from">m_stride</a> = <a class="code" href="namespaceArmISA.html#a37eb53a9544702853d40d1e014ba88ea">stride</a>;
<a name="l00293"></a>00293     mystream-&gt;<a class="code" href="classPrefetchEntry.html#a2f044fe87b9fd71df60401cbbb9b57f8" title="the last time that any prefetched request was used">m_use_time</a> = <a class="code" href="classPrefetcher.html#a1e7049f2cd244dc3944af370eb3e979a">m_controller</a>-&gt;<a class="code" href="classClockedObject.html#a3f6dfa1d3e7cd47666433b6caa4d34d6">curCycle</a>();
<a name="l00294"></a>00294     mystream-&gt;<a class="code" href="classPrefetchEntry.html#a3163252d457c8ef3a286a8538d7e319f" title="valid bit for each stream">m_is_valid</a> = <span class="keyword">true</span>;
<a name="l00295"></a>00295     mystream-&gt;<a class="code" href="classPrefetchEntry.html#a7d010f0854d320898448eae2da5997f8" title="L1D prefetches loads and stores.">m_type</a> = <a class="code" href="namespaceX86ISA.html#ad805db903f6899f960fd9a982272096a">type</a>;
<a name="l00296"></a>00296 
<a name="l00297"></a>00297     <span class="comment">// create a number of initial prefetches for this stream</span>
<a name="l00298"></a>00298     <a class="code" href="classAddress.html">Address</a> page_addr = <a class="code" href="Address_8cc.html#a5169a800da4ecad8ccc7eb6731094ef7">page_address</a>(mystream-&gt;<a class="code" href="classPrefetchEntry.html#a9fc76d7db60d4f05200f8248a697ea28" title="The base address for the stream prefetch.">m_address</a>);
<a name="l00299"></a>00299     <a class="code" href="classAddress.html">Address</a> line_addr = <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(mystream-&gt;<a class="code" href="classPrefetchEntry.html#a9fc76d7db60d4f05200f8248a697ea28" title="The base address for the stream prefetch.">m_address</a>);
<a name="l00300"></a>00300     <a class="code" href="classAddress.html">Address</a> prev_addr = line_addr;
<a name="l00301"></a>00301 
<a name="l00302"></a>00302     <span class="comment">// insert a number of prefetches into the prefetch table</span>
<a name="l00303"></a>00303     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceMipsISA.html#aef5e9ad990297740e743c7dbff9b9749">k</a> = 0; <a class="code" href="namespaceMipsISA.html#aef5e9ad990297740e743c7dbff9b9749">k</a> &lt; <a class="code" href="classPrefetcher.html#a0a4656906ae582dc063cb6d703f1c3d6" title="number of initial prefetches to startup a stream">m_num_startup_pfs</a>; <a class="code" href="namespaceMipsISA.html#aef5e9ad990297740e743c7dbff9b9749">k</a>++) {
<a name="l00304"></a>00304         line_addr = <a class="code" href="Address_8cc.html#a4e1398eb42e200863179d5ae0c90a715">next_stride_address</a>(line_addr, <a class="code" href="namespaceArmISA.html#a37eb53a9544702853d40d1e014ba88ea">stride</a>);
<a name="l00305"></a>00305         <span class="comment">// possibly stop prefetching at page boundaries</span>
<a name="l00306"></a>00306         <span class="keywordflow">if</span> (page_addr != <a class="code" href="Address_8cc.html#a5169a800da4ecad8ccc7eb6731094ef7">page_address</a>(line_addr)) {
<a name="l00307"></a>00307             <a class="code" href="classPrefetcher.html#a40bc6d68ddd4537932b2ac90e93dee85" title="Count of pages crossed.">numPagesCrossed</a>++;
<a name="l00308"></a>00308             <span class="keywordflow">if</span> (!<a class="code" href="classPrefetcher.html#ac07a573d2ab82546c1d3291e9124db84" title="Used for allowing prefetches across pages.">m_prefetch_cross_pages</a>) {
<a name="l00309"></a>00309                 <span class="comment">// deallocate this stream prefetcher</span>
<a name="l00310"></a>00310                 mystream-&gt;<a class="code" href="classPrefetchEntry.html#a3163252d457c8ef3a286a8538d7e319f" title="valid bit for each stream">m_is_valid</a> = <span class="keyword">false</span>;
<a name="l00311"></a>00311                 <span class="keywordflow">return</span>;
<a name="l00312"></a>00312             }
<a name="l00313"></a>00313         }
<a name="l00314"></a>00314 
<a name="l00315"></a>00315         <span class="comment">// launch prefetch</span>
<a name="l00316"></a>00316         <a class="code" href="classPrefetcher.html#a112363546083c7fbefe26b74e3181baf" title="Count of prefetch requests made.">numPrefetchRequested</a>++;
<a name="l00317"></a>00317         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyPrefetcher, <span class="stringliteral">&quot;Requesting prefetch for %s\n&quot;</span>, line_addr);
<a name="l00318"></a>00318         <a class="code" href="classPrefetcher.html#a1e7049f2cd244dc3944af370eb3e979a">m_controller</a>-&gt;<a class="code" href="classAbstractController.html#a4498badc3fa7137b6d66736d302623ae" title="Function for enqueuing a prefetch request.">enqueuePrefetch</a>(line_addr, <a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceMipsISA.html#ae6714ce3c5ef82205cecbd410556edf3">index</a>].<a class="code" href="mbuf_8hh.html#aa85d63af1da9cfc5a9c7b9f7e29dfb41">m_type</a>);
<a name="l00319"></a>00319         prev_addr = line_addr;
<a name="l00320"></a>00320     }
<a name="l00321"></a>00321 
<a name="l00322"></a>00322     <span class="comment">// update the address to be the last address prefetched</span>
<a name="l00323"></a>00323     mystream-&gt;<a class="code" href="classPrefetchEntry.html#a9fc76d7db60d4f05200f8248a697ea28" title="The base address for the stream prefetch.">m_address</a> = line_addr;
<a name="l00324"></a>00324 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a837cf1d68756e156957f5d7c36d5da7e"></a><!-- doxytag: member="Prefetcher::issueNextPrefetch" ref="a837cf1d68756e156957f5d7c36d5da7e" args="(const Address &amp;address, PrefetchEntry *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void issueNextPrefetch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPrefetchEntry.html">PrefetchEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00220"></a>00220 {
<a name="l00221"></a>00221     <span class="comment">// get our corresponding stream fetcher</span>
<a name="l00222"></a>00222     <span class="keywordflow">if</span> (stream == <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>) {
<a name="l00223"></a>00223         <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="namespaceMipsISA.html#ae6714ce3c5ef82205cecbd410556edf3">index</a> = 0;
<a name="l00224"></a>00224         stream = <a class="code" href="classPrefetcher.html#a9d6cbff2a87bd34af85710cae48c6077">getPrefetchEntry</a>(address, index);
<a name="l00225"></a>00225     }
<a name="l00226"></a>00226 
<a name="l00227"></a>00227     <span class="comment">// if (for some reason), this stream is unallocated, return.</span>
<a name="l00228"></a>00228     <span class="keywordflow">if</span> (stream == <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>) {
<a name="l00229"></a>00229         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyPrefetcher, <span class="stringliteral">&quot;Unallocated stream, returning\n&quot;</span>);
<a name="l00230"></a>00230         <span class="keywordflow">return</span>;
<a name="l00231"></a>00231     }
<a name="l00232"></a>00232 
<a name="l00233"></a>00233     <span class="comment">// extend this prefetching stream by 1 (or more)</span>
<a name="l00234"></a>00234     <a class="code" href="classAddress.html">Address</a> page_addr = <a class="code" href="Address_8cc.html#a5169a800da4ecad8ccc7eb6731094ef7">page_address</a>(stream-&gt;<a class="code" href="classPrefetchEntry.html#a9fc76d7db60d4f05200f8248a697ea28" title="The base address for the stream prefetch.">m_address</a>);
<a name="l00235"></a>00235     <a class="code" href="classAddress.html">Address</a> line_addr = <a class="code" href="Address_8cc.html#a4e1398eb42e200863179d5ae0c90a715">next_stride_address</a>(stream-&gt;<a class="code" href="classPrefetchEntry.html#a9fc76d7db60d4f05200f8248a697ea28" title="The base address for the stream prefetch.">m_address</a>,
<a name="l00236"></a>00236                                             stream-&gt;<a class="code" href="classPrefetchEntry.html#a8b3c2bb6e8f9ed6318723fb273cf6b5e" title="stride distance to get next address from">m_stride</a>);
<a name="l00237"></a>00237 
<a name="l00238"></a>00238     <span class="comment">// possibly stop prefetching at page boundaries</span>
<a name="l00239"></a>00239     <span class="keywordflow">if</span> (page_addr != <a class="code" href="Address_8cc.html#a5169a800da4ecad8ccc7eb6731094ef7">page_address</a>(line_addr)) {
<a name="l00240"></a>00240         <a class="code" href="classPrefetcher.html#a40bc6d68ddd4537932b2ac90e93dee85" title="Count of pages crossed.">numPagesCrossed</a>++;
<a name="l00241"></a>00241         <span class="keywordflow">if</span> (!<a class="code" href="classPrefetcher.html#ac07a573d2ab82546c1d3291e9124db84" title="Used for allowing prefetches across pages.">m_prefetch_cross_pages</a>) {
<a name="l00242"></a>00242             <span class="comment">// Deallocate the stream since we are not prefetching</span>
<a name="l00243"></a>00243             <span class="comment">// across page boundries</span>
<a name="l00244"></a>00244             stream-&gt;<a class="code" href="classPrefetchEntry.html#a3163252d457c8ef3a286a8538d7e319f" title="valid bit for each stream">m_is_valid</a> = <span class="keyword">false</span>;
<a name="l00245"></a>00245             <span class="keywordflow">return</span>;
<a name="l00246"></a>00246         }
<a name="l00247"></a>00247     }
<a name="l00248"></a>00248 
<a name="l00249"></a>00249     <span class="comment">// launch next prefetch</span>
<a name="l00250"></a>00250     stream-&gt;<a class="code" href="classPrefetchEntry.html#a9fc76d7db60d4f05200f8248a697ea28" title="The base address for the stream prefetch.">m_address</a> = line_addr;
<a name="l00251"></a>00251     stream-&gt;<a class="code" href="classPrefetchEntry.html#a2f044fe87b9fd71df60401cbbb9b57f8" title="the last time that any prefetched request was used">m_use_time</a> = <a class="code" href="classPrefetcher.html#a1e7049f2cd244dc3944af370eb3e979a">m_controller</a>-&gt;<a class="code" href="classClockedObject.html#a3f6dfa1d3e7cd47666433b6caa4d34d6">curCycle</a>();
<a name="l00252"></a>00252     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyPrefetcher, <span class="stringliteral">&quot;Requesting prefetch for %s\n&quot;</span>, line_addr);
<a name="l00253"></a>00253     <a class="code" href="classPrefetcher.html#a1e7049f2cd244dc3944af370eb3e979a">m_controller</a>-&gt;<a class="code" href="classAbstractController.html#a4498badc3fa7137b6d66736d302623ae" title="Function for enqueuing a prefetch request.">enqueuePrefetch</a>(line_addr, stream-&gt;<a class="code" href="classPrefetchEntry.html#a7d010f0854d320898448eae2da5997f8" title="L1D prefetches loads and stores.">m_type</a>);
<a name="l00254"></a>00254 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0aeb99b55e0ebe2fe1ebc894a1f08ebc"></a><!-- doxytag: member="Prefetcher::observeMiss" ref="a0aeb99b55e0ebe2fe1ebc894a1f08ebc" args="(const Address &amp;address, const RubyRequestType &amp;type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void observeMiss </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RubyRequestType &amp;&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Observe a memory miss from the cache.</p>
<dl><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>The physical address that missed out of the cache. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00136"></a>00136 {
<a name="l00137"></a>00137     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyPrefetcher, <span class="stringliteral">&quot;Observed miss for %s\n&quot;</span>, address);
<a name="l00138"></a>00138     <a class="code" href="classAddress.html">Address</a> line_addr = <a class="code" href="Address_8hh.html#abe46a2cc64664e1a3a02d0a501e4f21d">line_address</a>(address);
<a name="l00139"></a>00139     <a class="code" href="classPrefetcher.html#ad1e6c9fb59c342c342de2ec92e395174" title="Count of accesses to the prefetcher.">numMissObserved</a>++;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141     <span class="comment">// check to see if we have already issued a prefetch for this block</span>
<a name="l00142"></a>00142     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="namespaceMipsISA.html#ae6714ce3c5ef82205cecbd410556edf3">index</a> = 0;
<a name="l00143"></a>00143     <a class="code" href="classPrefetchEntry.html">PrefetchEntry</a> *pfEntry = <a class="code" href="classPrefetcher.html#a9d6cbff2a87bd34af85710cae48c6077">getPrefetchEntry</a>(line_addr, index);
<a name="l00144"></a>00144     <span class="keywordflow">if</span> (pfEntry != <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>) {
<a name="l00145"></a>00145         <span class="keywordflow">if</span> (pfEntry-&gt;<a class="code" href="classPrefetchEntry.html#a6b5dd4a5a1dcdda3d0d502f6658547a4">requestIssued</a>[index]) {
<a name="l00146"></a>00146             <span class="keywordflow">if</span> (pfEntry-&gt;<a class="code" href="classPrefetchEntry.html#a341ad93f9c76b96f1e7c344829d846b4">requestCompleted</a>[index]) {
<a name="l00147"></a>00147                 <span class="comment">// We prefetched too early and now the prefetch block no</span>
<a name="l00148"></a>00148                 <span class="comment">// longer exists in the cache</span>
<a name="l00149"></a>00149                 <a class="code" href="classPrefetcher.html#a7131480b702efc8b888a80270c77aab2" title="Count of misses incurred for blocks that were prefetched.">numMissedPrefetchedBlocks</a>++;
<a name="l00150"></a>00150                 <span class="keywordflow">return</span>;
<a name="l00151"></a>00151             } <span class="keywordflow">else</span> {
<a name="l00152"></a>00152                 <span class="comment">// The controller has issued the prefetch request,</span>
<a name="l00153"></a>00153                 <span class="comment">// but the request for the block arrived earlier.</span>
<a name="l00154"></a>00154                 <a class="code" href="classPrefetcher.html#a46a96500ada7b244799f94064bf2b24d" title="Count of partial successful prefetches.">numPartialHits</a>++;
<a name="l00155"></a>00155                 <a class="code" href="classPrefetcher.html#ad42b59b907f12b2820fda827538f272f">observePfHit</a>(line_addr);
<a name="l00156"></a>00156                 <span class="keywordflow">return</span>;
<a name="l00157"></a>00157             }
<a name="l00158"></a>00158         } <span class="keywordflow">else</span> {
<a name="l00159"></a>00159             <span class="comment">// The request is still in the prefetch queue of the controller.</span>
<a name="l00160"></a>00160             <span class="comment">// Or was evicted because of other requests.</span>
<a name="l00161"></a>00161             <span class="keywordflow">return</span>;
<a name="l00162"></a>00162         }
<a name="l00163"></a>00163     }
<a name="l00164"></a>00164 
<a name="l00165"></a>00165     <span class="comment">// check to see if this address is in the unit stride filter</span>
<a name="l00166"></a>00166     <span class="keywordtype">bool</span> alloc = <span class="keyword">false</span>;
<a name="l00167"></a>00167     <span class="keywordtype">bool</span> hit = <a class="code" href="classPrefetcher.html#ab7279136d42cc2cc34787356c5dc6f67" title="access a unit stride filter to determine if there is a hit">accessUnitFilter</a>(<a class="code" href="classPrefetcher.html#a22e41c52e5646478755d6c2a699f2a3e">m_unit_filter</a>, <a class="code" href="classPrefetcher.html#adb0b4ed5c68fa291f0f0b1e5a08dd1e8">m_unit_filter_hit</a>,
<a name="l00168"></a>00168                                 <a class="code" href="classPrefetcher.html#aa7152e0ba18507f4499632ccffc8ddad" title="a round robin pointer into the unit filter group">m_unit_filter_index</a>, line_addr, 1, alloc);
<a name="l00169"></a>00169     <span class="keywordflow">if</span> (alloc) {
<a name="l00170"></a>00170         <span class="comment">// allocate a new prefetch stream</span>
<a name="l00171"></a>00171         <a class="code" href="classPrefetcher.html#a5125f46f95961714c0ebdf658b6bb745" title="allocate a new stream buffer at a specific index">initializeStream</a>(line_addr, 1, <a class="code" href="classPrefetcher.html#ae2a3897ee6d47f9e162f17bea5f21a11">getLRUindex</a>(), <a class="code" href="namespaceX86ISA.html#ad805db903f6899f960fd9a982272096a">type</a>);
<a name="l00172"></a>00172     }
<a name="l00173"></a>00173     <span class="keywordflow">if</span> (hit) {
<a name="l00174"></a>00174         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyPrefetcher, <span class="stringliteral">&quot;  *** hit in unit stride buffer\n&quot;</span>);
<a name="l00175"></a>00175         <span class="keywordflow">return</span>;
<a name="l00176"></a>00176     }
<a name="l00177"></a>00177 
<a name="l00178"></a>00178     hit = <a class="code" href="classPrefetcher.html#ab7279136d42cc2cc34787356c5dc6f67" title="access a unit stride filter to determine if there is a hit">accessUnitFilter</a>(<a class="code" href="classPrefetcher.html#a596c08c70ae40df3eb032cbdf16db62f">m_negative_filter</a>, <a class="code" href="classPrefetcher.html#a634a8a03b20af61b964bf187317ff430">m_negative_filter_hit</a>,
<a name="l00179"></a>00179         <a class="code" href="classPrefetcher.html#a515ce9fec5ecb09164d1915f41bdd881" title="a round robin pointer into the negative filter group">m_negative_filter_index</a>, line_addr, -1, alloc);
<a name="l00180"></a>00180     <span class="keywordflow">if</span> (alloc) {
<a name="l00181"></a>00181         <span class="comment">// allocate a new prefetch stream</span>
<a name="l00182"></a>00182         <a class="code" href="classPrefetcher.html#a5125f46f95961714c0ebdf658b6bb745" title="allocate a new stream buffer at a specific index">initializeStream</a>(line_addr, -1, <a class="code" href="classPrefetcher.html#ae2a3897ee6d47f9e162f17bea5f21a11">getLRUindex</a>(), <a class="code" href="namespaceX86ISA.html#ad805db903f6899f960fd9a982272096a">type</a>);
<a name="l00183"></a>00183     }
<a name="l00184"></a>00184     <span class="keywordflow">if</span> (hit) {
<a name="l00185"></a>00185         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyPrefetcher, <span class="stringliteral">&quot;  *** hit in unit negative unit buffer\n&quot;</span>);
<a name="l00186"></a>00186         <span class="keywordflow">return</span>;
<a name="l00187"></a>00187     }
<a name="l00188"></a>00188 
<a name="l00189"></a>00189     <span class="comment">// check to see if this address is in the non-unit stride filter</span>
<a name="l00190"></a>00190     <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a37eb53a9544702853d40d1e014ba88ea">stride</a> = 0;  <span class="comment">// NULL value</span>
<a name="l00191"></a>00191     hit = <a class="code" href="classPrefetcher.html#a11579c7a5838c568fb11ac662a82d6f5" title="access a unit stride filter to determine if there is a hit">accessNonunitFilter</a>(address, &amp;stride, alloc);
<a name="l00192"></a>00192     <span class="keywordflow">if</span> (alloc) {
<a name="l00193"></a>00193         assert(stride != 0);  <span class="comment">// ensure non-zero stride prefetches</span>
<a name="l00194"></a>00194         <a class="code" href="classPrefetcher.html#a5125f46f95961714c0ebdf658b6bb745" title="allocate a new stream buffer at a specific index">initializeStream</a>(line_addr, stride, <a class="code" href="classPrefetcher.html#ae2a3897ee6d47f9e162f17bea5f21a11">getLRUindex</a>(), <a class="code" href="namespaceX86ISA.html#ad805db903f6899f960fd9a982272096a">type</a>);
<a name="l00195"></a>00195     }
<a name="l00196"></a>00196     <span class="keywordflow">if</span> (hit) {
<a name="l00197"></a>00197         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyPrefetcher, <span class="stringliteral">&quot;  *** hit in non-unit stride buffer\n&quot;</span>);
<a name="l00198"></a>00198         <span class="keywordflow">return</span>;
<a name="l00199"></a>00199     }
<a name="l00200"></a>00200 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad42b59b907f12b2820fda827538f272f"></a><!-- doxytag: member="Prefetcher::observePfHit" ref="ad42b59b907f12b2820fda827538f272f" args="(const Address &amp;address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void observePfHit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Implement the prefetch hit(miss) callback interface. These functions are called by the cache when it hits(misses) on a line with the line's prefetch bit set. If this address hits in m_array we will continue prefetching the stream. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00212"></a>00212 {
<a name="l00213"></a>00213     <a class="code" href="classPrefetcher.html#a1651af6d8d96734f82a6e95a8aea4af0" title="Count of successful prefetches.">numHits</a>++;
<a name="l00214"></a>00214     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyPrefetcher, <span class="stringliteral">&quot;Observed hit for %s\n&quot;</span>, address);
<a name="l00215"></a>00215     <a class="code" href="classPrefetcher.html#a837cf1d68756e156957f5d7c36d5da7e">issueNextPrefetch</a>(address, <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00216"></a>00216 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a54bad4fe990aa1c8c9e3910c7c972089"></a><!-- doxytag: member="Prefetcher::observePfMiss" ref="a54bad4fe990aa1c8c9e3910c7c972089" args="(const Address &amp;address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void observePfMiss </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAddress.html">Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00204"></a>00204 {
<a name="l00205"></a>00205     <a class="code" href="classPrefetcher.html#a46a96500ada7b244799f94064bf2b24d" title="Count of partial successful prefetches.">numPartialHits</a>++;
<a name="l00206"></a>00206     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(RubyPrefetcher, <span class="stringliteral">&quot;Observed partial hit for %s\n&quot;</span>, address);
<a name="l00207"></a>00207     <a class="code" href="classPrefetcher.html#a837cf1d68756e156957f5d7c36d5da7e">issueNextPrefetch</a>(address, <a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>);
<a name="l00208"></a>00208 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac55fe386a101fbae38c716067c9966a0"></a><!-- doxytag: member="Prefetcher::print" ref="ac55fe386a101fbae38c716067c9966a0" args="(std::ostream &amp;out) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>out</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Print out some statistics </p>

<p><div class="fragment"><pre class="fragment"><a name="l00440"></a>00440 {
<a name="l00441"></a>00441     out &lt;&lt; <a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() &lt;&lt; <span class="stringliteral">&quot; Prefetcher State\n&quot;</span>;
<a name="l00442"></a>00442     <span class="comment">// print out unit filter</span>
<a name="l00443"></a>00443     out &lt;&lt; <span class="stringliteral">&quot;unit table:\n&quot;</span>;
<a name="l00444"></a>00444     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classPrefetcher.html#a05a4b7a047922b33e9ce39b879a2ae6b" title="number of stride filters">m_num_unit_filters</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00445"></a>00445         out &lt;&lt; <a class="code" href="classPrefetcher.html#a22e41c52e5646478755d6c2a699f2a3e">m_unit_filter</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] &lt;&lt; std::endl;
<a name="l00446"></a>00446     }
<a name="l00447"></a>00447 
<a name="l00448"></a>00448     out &lt;&lt; <span class="stringliteral">&quot;negative table:\n&quot;</span>;
<a name="l00449"></a>00449     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; m_num_unit_filters; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00450"></a>00450         out &lt;&lt; <a class="code" href="classPrefetcher.html#a596c08c70ae40df3eb032cbdf16db62f">m_negative_filter</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] &lt;&lt; std::endl;
<a name="l00451"></a>00451     }
<a name="l00452"></a>00452 
<a name="l00453"></a>00453     <span class="comment">// print out non-unit stride filter</span>
<a name="l00454"></a>00454     out &lt;&lt; <span class="stringliteral">&quot;non-unit table:\n&quot;</span>;
<a name="l00455"></a>00455     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classPrefetcher.html#ad6f212487f4bbedaa6d22125da88fa04" title="number of non-stride filters">m_num_nonunit_filters</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00456"></a>00456         out &lt;&lt; <a class="code" href="classPrefetcher.html#a561535cdda35027c698a573b6b3e5e52">m_nonunit_filter</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>
<a name="l00457"></a>00457             &lt;&lt; <a class="code" href="classPrefetcher.html#ae5f5874d1f5f2ae17e490bc3e932e2bc" title="An array of strides (in # of cache lines) for the filter entries.">m_nonunit_stride</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>
<a name="l00458"></a>00458             &lt;&lt; <a class="code" href="classPrefetcher.html#ad152c2b22b30ca16bd8a4247fbf54e41">m_nonunit_hit</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>] &lt;&lt; std::endl;
<a name="l00459"></a>00459     }
<a name="l00460"></a>00460 
<a name="l00461"></a>00461     <span class="comment">// print out allocated stream buffers</span>
<a name="l00462"></a>00462     out &lt;&lt; <span class="stringliteral">&quot;streams:\n&quot;</span>;
<a name="l00463"></a>00463     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classPrefetcher.html#af24cc9f3fcde8ff672f65b91689b1c9c" title="number of prefetch streams available">m_num_streams</a>; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00464"></a>00464         out &lt;&lt; <a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].m_address &lt;&lt; <span class="stringliteral">&quot; &quot;</span>
<a name="l00465"></a>00465             &lt;&lt; <a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].m_stride &lt;&lt; <span class="stringliteral">&quot; &quot;</span>
<a name="l00466"></a>00466             &lt;&lt; <a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].m_is_valid &lt;&lt; <span class="stringliteral">&quot; &quot;</span>
<a name="l00467"></a>00467             &lt;&lt; <a class="code" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32" title="an array of the active prefetch streams">m_array</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>].m_use_time &lt;&lt; std::endl;
<a name="l00468"></a>00468     }
<a name="l00469"></a>00469 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4dc637449366fcdfc4e764cdf12d9b11"></a><!-- doxytag: member="Prefetcher::regStats" ref="a4dc637449366fcdfc4e764cdf12d9b11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void regStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRegister.html">Register</a> statistics for this object. </p>

<p><a class="el" href="classSimObject.html#a4dc637449366fcdfc4e764cdf12d9b11">SimObject</a>を再定義しています。</p>

<p><div class="fragment"><pre class="fragment"><a name="l00087"></a>00087 {
<a name="l00088"></a>00088     <a class="code" href="classPrefetcher.html#ad1e6c9fb59c342c342de2ec92e395174" title="Count of accesses to the prefetcher.">numMissObserved</a>
<a name="l00089"></a>00089         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.miss_observed&quot;</span>)
<a name="l00090"></a>00090         .desc(<span class="stringliteral">&quot;number of misses observed&quot;</span>)
<a name="l00091"></a>00091         ;
<a name="l00092"></a>00092 
<a name="l00093"></a>00093     <a class="code" href="classPrefetcher.html#a9fa8a2d34e0af70cb6db907ad8df7470" title="Count of prefetch streams allocated.">numAllocatedStreams</a>
<a name="l00094"></a>00094         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.allocated_streams&quot;</span>)
<a name="l00095"></a>00095         .desc(<span class="stringliteral">&quot;number of streams allocated for prefetching&quot;</span>)
<a name="l00096"></a>00096         ;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098     <a class="code" href="classPrefetcher.html#a112363546083c7fbefe26b74e3181baf" title="Count of prefetch requests made.">numPrefetchRequested</a>
<a name="l00099"></a>00099         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.prefetches_requested&quot;</span>)
<a name="l00100"></a>00100         .desc(<span class="stringliteral">&quot;number of prefetch requests made&quot;</span>)
<a name="l00101"></a>00101         ;
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     <a class="code" href="classPrefetcher.html#a9644f1356b157e6cf7e86db7a9356be7" title="Count of prefetch requests accepted.">numPrefetchAccepted</a>
<a name="l00104"></a>00104         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.prefetches_accepted&quot;</span>)
<a name="l00105"></a>00105         .desc(<span class="stringliteral">&quot;number of prefetch requests accepted&quot;</span>)
<a name="l00106"></a>00106         ;
<a name="l00107"></a>00107 
<a name="l00108"></a>00108     <a class="code" href="classPrefetcher.html#a4165aaa9b3590259a258114e9469c74e" title="Count of prefetches dropped.">numDroppedPrefetches</a>
<a name="l00109"></a>00109         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.dropped_prefetches&quot;</span>)
<a name="l00110"></a>00110         .desc(<span class="stringliteral">&quot;number of prefetch requests dropped&quot;</span>)
<a name="l00111"></a>00111         ;
<a name="l00112"></a>00112 
<a name="l00113"></a>00113     <a class="code" href="classPrefetcher.html#a1651af6d8d96734f82a6e95a8aea4af0" title="Count of successful prefetches.">numHits</a>
<a name="l00114"></a>00114         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.hits&quot;</span>)
<a name="l00115"></a>00115         .desc(<span class="stringliteral">&quot;number of prefetched blocks accessed&quot;</span>)
<a name="l00116"></a>00116         ;
<a name="l00117"></a>00117 
<a name="l00118"></a>00118     <a class="code" href="classPrefetcher.html#a46a96500ada7b244799f94064bf2b24d" title="Count of partial successful prefetches.">numPartialHits</a>
<a name="l00119"></a>00119         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.partial_hits&quot;</span>)
<a name="l00120"></a>00120         .desc(<span class="stringliteral">&quot;number of misses observed for a block being prefetched&quot;</span>)
<a name="l00121"></a>00121         ;
<a name="l00122"></a>00122 
<a name="l00123"></a>00123     <a class="code" href="classPrefetcher.html#a40bc6d68ddd4537932b2ac90e93dee85" title="Count of pages crossed.">numPagesCrossed</a>
<a name="l00124"></a>00124         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.pages_crossed&quot;</span>)
<a name="l00125"></a>00125         .desc(<span class="stringliteral">&quot;number of prefetches across pages&quot;</span>)
<a name="l00126"></a>00126         ;
<a name="l00127"></a>00127 
<a name="l00128"></a>00128     <a class="code" href="classPrefetcher.html#a7131480b702efc8b888a80270c77aab2" title="Count of misses incurred for blocks that were prefetched.">numMissedPrefetchedBlocks</a>
<a name="l00129"></a>00129         .<a class="code" href="classStats_1_1DataWrap.html#a8eaf5c2b92132dfcacd7d9b10afb1726">name</a>(<a class="code" href="classSimObject.html#adbcff144e5e199d332a1352af1798148">name</a>() + <span class="stringliteral">&quot;.misses_on_prefetched_blocks&quot;</span>)
<a name="l00130"></a>00130         .desc(<span class="stringliteral">&quot;number of misses for blocks that were prefetched, yet missed&quot;</span>)
<a name="l00131"></a>00131         ;
<a name="l00132"></a>00132 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad1772ea493bb64a517a46484972c9efc"></a><!-- doxytag: member="Prefetcher::setController" ref="ad1772ea493bb64a517a46484972c9efc" args="(AbstractController *_ctrl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setController </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAbstractController.html">AbstractController</a> *&nbsp;</td>
          <td class="paramname"> <em>_ctrl</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00109"></a>00109         { <a class="code" href="classPrefetcher.html#a1e7049f2cd244dc3944af370eb3e979a">m_controller</a> = _ctrl; }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="ac70c7174698e1bb57e75d7ee4d31db32"></a><!-- doxytag: member="Prefetcher::m_array" ref="ac70c7174698e1bb57e75d7ee4d31db32" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classPrefetchEntry.html">PrefetchEntry</a>&gt; <a class="el" href="classPrefetcher.html#ac70c7174698e1bb57e75d7ee4d31db32">m_array</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>an array of the active prefetch streams </p>

</div>
</div>
<a class="anchor" id="a1e7049f2cd244dc3944af370eb3e979a"></a><!-- doxytag: member="Prefetcher::m_controller" ref="a1e7049f2cd244dc3944af370eb3e979a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAbstractController.html">AbstractController</a>* <a class="el" href="classPrefetcher.html#a1e7049f2cd244dc3944af370eb3e979a">m_controller</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a596c08c70ae40df3eb032cbdf16db62f"></a><!-- doxytag: member="Prefetcher::m_negative_filter" ref="a596c08c70ae40df3eb032cbdf16db62f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classAddress.html">Address</a>&gt; <a class="el" href="classPrefetcher.html#a596c08c70ae40df3eb032cbdf16db62f">m_negative_filter</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a negative nit stride filter array: helps reduce BW requirement of prefetching </p>

</div>
</div>
<a class="anchor" id="a634a8a03b20af61b964bf187317ff430"></a><!-- doxytag: member="Prefetcher::m_negative_filter_hit" ref="a634a8a03b20af61b964bf187317ff430" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>* <a class="el" href="classPrefetcher.html#a634a8a03b20af61b964bf187317ff430">m_negative_filter_hit</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>An array used to count the of times particular filter entries have been hit </p>

</div>
</div>
<a class="anchor" id="a515ce9fec5ecb09164d1915f41bdd881"></a><!-- doxytag: member="Prefetcher::m_negative_filter_index" ref="a515ce9fec5ecb09164d1915f41bdd881" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classPrefetcher.html#a515ce9fec5ecb09164d1915f41bdd881">m_negative_filter_index</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>a round robin pointer into the negative filter group </p>

</div>
</div>
<a class="anchor" id="a561535cdda35027c698a573b6b3e5e52"></a><!-- doxytag: member="Prefetcher::m_nonunit_filter" ref="a561535cdda35027c698a573b6b3e5e52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classAddress.html">Address</a>&gt; <a class="el" href="classPrefetcher.html#a561535cdda35027c698a573b6b3e5e52">m_nonunit_filter</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a non-unit stride filter array: helps reduce BW requirement of prefetching </p>

</div>
</div>
<a class="anchor" id="ad152c2b22b30ca16bd8a4247fbf54e41"></a><!-- doxytag: member="Prefetcher::m_nonunit_hit" ref="ad152c2b22b30ca16bd8a4247fbf54e41" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>* <a class="el" href="classPrefetcher.html#ad152c2b22b30ca16bd8a4247fbf54e41">m_nonunit_hit</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>An array used to count the of times particular filter entries have been hit </p>

</div>
</div>
<a class="anchor" id="abf85cabfde70657a26802059aeb4b971"></a><!-- doxytag: member="Prefetcher::m_nonunit_index" ref="abf85cabfde70657a26802059aeb4b971" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classPrefetcher.html#abf85cabfde70657a26802059aeb4b971">m_nonunit_index</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>a round robin pointer into the unit filter group </p>

</div>
</div>
<a class="anchor" id="ae5f5874d1f5f2ae17e490bc3e932e2bc"></a><!-- doxytag: member="Prefetcher::m_nonunit_stride" ref="ae5f5874d1f5f2ae17e490bc3e932e2bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* <a class="el" href="classPrefetcher.html#ae5f5874d1f5f2ae17e490bc3e932e2bc">m_nonunit_stride</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An array of strides (in # of cache lines) for the filter entries. </p>

</div>
</div>
<a class="anchor" id="ad6f212487f4bbedaa6d22125da88fa04"></a><!-- doxytag: member="Prefetcher::m_num_nonunit_filters" ref="ad6f212487f4bbedaa6d22125da88fa04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classPrefetcher.html#ad6f212487f4bbedaa6d22125da88fa04">m_num_nonunit_filters</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of non-stride filters </p>

</div>
</div>
<a class="anchor" id="a0a4656906ae582dc063cb6d703f1c3d6"></a><!-- doxytag: member="Prefetcher::m_num_startup_pfs" ref="a0a4656906ae582dc063cb6d703f1c3d6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classPrefetcher.html#a0a4656906ae582dc063cb6d703f1c3d6">m_num_startup_pfs</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of initial prefetches to startup a stream </p>

</div>
</div>
<a class="anchor" id="af24cc9f3fcde8ff672f65b91689b1c9c"></a><!-- doxytag: member="Prefetcher::m_num_streams" ref="af24cc9f3fcde8ff672f65b91689b1c9c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classPrefetcher.html#af24cc9f3fcde8ff672f65b91689b1c9c">m_num_streams</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of prefetch streams available </p>

</div>
</div>
<a class="anchor" id="a05a4b7a047922b33e9ce39b879a2ae6b"></a><!-- doxytag: member="Prefetcher::m_num_unit_filters" ref="a05a4b7a047922b33e9ce39b879a2ae6b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classPrefetcher.html#a05a4b7a047922b33e9ce39b879a2ae6b">m_num_unit_filters</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of stride filters </p>

</div>
</div>
<a class="anchor" id="ac07a573d2ab82546c1d3291e9124db84"></a><!-- doxytag: member="Prefetcher::m_prefetch_cross_pages" ref="ac07a573d2ab82546c1d3291e9124db84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classPrefetcher.html#ac07a573d2ab82546c1d3291e9124db84">m_prefetch_cross_pages</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used for allowing prefetches across pages. </p>

</div>
</div>
<a class="anchor" id="ab90010829f9a17cf9fc34b16723e3d75"></a><!-- doxytag: member="Prefetcher::m_train_misses" ref="ab90010829f9a17cf9fc34b16723e3d75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classPrefetcher.html#ab90010829f9a17cf9fc34b16723e3d75">m_train_misses</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of misses I must see before allocating a stream </p>

</div>
</div>
<a class="anchor" id="a22e41c52e5646478755d6c2a699f2a3e"></a><!-- doxytag: member="Prefetcher::m_unit_filter" ref="a22e41c52e5646478755d6c2a699f2a3e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classAddress.html">Address</a>&gt; <a class="el" href="classPrefetcher.html#a22e41c52e5646478755d6c2a699f2a3e">m_unit_filter</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a unit stride filter array: helps reduce BW requirement of prefetching </p>

</div>
</div>
<a class="anchor" id="adb0b4ed5c68fa291f0f0b1e5a08dd1e8"></a><!-- doxytag: member="Prefetcher::m_unit_filter_hit" ref="adb0b4ed5c68fa291f0f0b1e5a08dd1e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>* <a class="el" href="classPrefetcher.html#adb0b4ed5c68fa291f0f0b1e5a08dd1e8">m_unit_filter_hit</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>An array used to count the of times particular filter entries have been hit </p>

</div>
</div>
<a class="anchor" id="aa7152e0ba18507f4499632ccffc8ddad"></a><!-- doxytag: member="Prefetcher::m_unit_filter_index" ref="aa7152e0ba18507f4499632ccffc8ddad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classPrefetcher.html#aa7152e0ba18507f4499632ccffc8ddad">m_unit_filter_index</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>a round robin pointer into the unit filter group </p>

</div>
</div>
<a class="anchor" id="a9fa8a2d34e0af70cb6db907ad8df7470"></a><!-- doxytag: member="Prefetcher::numAllocatedStreams" ref="a9fa8a2d34e0af70cb6db907ad8df7470" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classPrefetcher.html#a9fa8a2d34e0af70cb6db907ad8df7470">numAllocatedStreams</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Count of prefetch streams allocated. </p>

</div>
</div>
<a class="anchor" id="a4165aaa9b3590259a258114e9469c74e"></a><!-- doxytag: member="Prefetcher::numDroppedPrefetches" ref="a4165aaa9b3590259a258114e9469c74e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classPrefetcher.html#a4165aaa9b3590259a258114e9469c74e">numDroppedPrefetches</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Count of prefetches dropped. </p>

</div>
</div>
<a class="anchor" id="a1651af6d8d96734f82a6e95a8aea4af0"></a><!-- doxytag: member="Prefetcher::numHits" ref="a1651af6d8d96734f82a6e95a8aea4af0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classPrefetcher.html#a1651af6d8d96734f82a6e95a8aea4af0">numHits</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Count of successful prefetches. </p>

</div>
</div>
<a class="anchor" id="a7131480b702efc8b888a80270c77aab2"></a><!-- doxytag: member="Prefetcher::numMissedPrefetchedBlocks" ref="a7131480b702efc8b888a80270c77aab2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classPrefetcher.html#a7131480b702efc8b888a80270c77aab2">numMissedPrefetchedBlocks</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Count of misses incurred for blocks that were prefetched. </p>

</div>
</div>
<a class="anchor" id="ad1e6c9fb59c342c342de2ec92e395174"></a><!-- doxytag: member="Prefetcher::numMissObserved" ref="ad1e6c9fb59c342c342de2ec92e395174" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classPrefetcher.html#ad1e6c9fb59c342c342de2ec92e395174">numMissObserved</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Count of accesses to the prefetcher. </p>

</div>
</div>
<a class="anchor" id="a40bc6d68ddd4537932b2ac90e93dee85"></a><!-- doxytag: member="Prefetcher::numPagesCrossed" ref="a40bc6d68ddd4537932b2ac90e93dee85" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classPrefetcher.html#a40bc6d68ddd4537932b2ac90e93dee85">numPagesCrossed</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Count of pages crossed. </p>

</div>
</div>
<a class="anchor" id="a46a96500ada7b244799f94064bf2b24d"></a><!-- doxytag: member="Prefetcher::numPartialHits" ref="a46a96500ada7b244799f94064bf2b24d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classPrefetcher.html#a46a96500ada7b244799f94064bf2b24d">numPartialHits</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Count of partial successful prefetches. </p>

</div>
</div>
<a class="anchor" id="a9644f1356b157e6cf7e86db7a9356be7"></a><!-- doxytag: member="Prefetcher::numPrefetchAccepted" ref="a9644f1356b157e6cf7e86db7a9356be7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classPrefetcher.html#a9644f1356b157e6cf7e86db7a9356be7">numPrefetchAccepted</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Count of prefetch requests accepted. </p>

</div>
</div>
<a class="anchor" id="a112363546083c7fbefe26b74e3181baf"></a><!-- doxytag: member="Prefetcher::numPrefetchRequested" ref="a112363546083c7fbefe26b74e3181baf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStats_1_1Scalar.html">Stats::Scalar</a> <a class="el" href="classPrefetcher.html#a112363546083c7fbefe26b74e3181baf">numPrefetchRequested</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Count of prefetch requests made. </p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>mem/ruby/structures/<a class="el" href="Prefetcher_8hh_source.html">Prefetcher.hh</a></li>
<li>mem/ruby/structures/<a class="el" href="Prefetcher_8cc.html">Prefetcher.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
