<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File&nbsp;GEM5&nbsp;Wrapper: クラス ResourcePool</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- 作成： Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>構成</span></a></li>
      <li><a href="classes.html"><span>構成索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>構成メンバ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>クラス ResourcePool</h1><!-- doxytag: class="ResourcePool" -->
<p><code>#include &lt;<a class="el" href="resource__pool_8hh_source.html">resource_pool.hh</a>&gt;</code></p>

<p><a href="classResourcePool-members.html">すべてのメンバ一覧</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>構成</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool_1_1ResPoolEvent.html">ResPoolEvent</a></td></tr>
<tr><td colspan="2"><h2>Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5">ResPoolEventType</a> { <a class="el" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5a060f6b48fe7261f8f20bdcd8debb0c3f">InstGraduated</a> =  InOrderCPU::NumCPUEvents, 
<a class="el" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5af0747b9517d1d94424ee2430a3d7c44c">SquashAll</a>, 
<a class="el" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5a86a572ebd39e3afa528248332156c260">UpdateAfterContextSwitch</a>, 
<a class="el" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5a79935518a3889663d8688b6b01fff051">Default</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2ac">ResPoolEventPri</a> { <a class="el" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2aca4c94c0279b1acc3c2327607fb1acb5ed">ResPool_Pri</a> =  InOrderCPU::InOrderCPU_Pri - 5, 
<a class="el" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2acad56c75651d73b496dd9d12336a0d89ae">ResGrad_Pri</a>, 
<a class="el" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2aca43614fac58ab1f33158827533ea8bb8a">ResSquash_Pri</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classRefCountingPtr.html">InOrderDynInst::DynInstPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a32d1573770d3d1d96a1741ac80433e33">DynInstPtr</a></td></tr>
<tr><td colspan="2"><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a765bddb90f804d1ddebbc19b3459bb2e">ResourcePool</a> (<a class="el" href="classInOrderCPU.html">InOrderCPU</a> *_cpu, <a class="el" href="namespaceThePipeline.html#ab62ca16eeca26566ad2422b5df4943ce">ThePipeline::Params</a> *params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#acba0a0d37ec0b89303d390cdb9e372cf">~ResourcePool</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#aa62b508d2c0e7d9cec12924965276eb5">name</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#ac28b6ddca5d1abd76095cffee93aa164">name</a> (int res_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a388f572c62279f839ee138a9afbdeeb5">print</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a4dc637449366fcdfc4e764cdf12d9b11">regStats</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#aa590916e201f046ca64fa621f9e3dc0c">getResIdx</a> (const <a class="el" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286">ThePipeline::ResourceId</a> &amp;res_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classResource.html">Resource</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a70b29b3de5f1fcf1d1a666dd5303250a">getResource</a> (int res_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classResourceRequest.html">ResReqPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a75ce2cd367c200399a9fd0839d951124">request</a> (int res_idx, <a class="el" href="classRefCountingPtr.html">DynInstPtr</a> inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a1e6b072b1524df996c37c65f032c0c5e">squash</a> (<a class="el" href="classRefCountingPtr.html">DynInstPtr</a> inst, int res_idx, <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> done_seq_num, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a58b8c9f76e422935e05267f75493d722">squashAll</a> (<a class="el" href="classRefCountingPtr.html">DynInstPtr</a> inst, int stage_num, <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> done_seq_num, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#ae8f7628b42285a715d374b5a04f241e4">squashDueToMemStall</a> (<a class="el" href="classRefCountingPtr.html">DynInstPtr</a> inst, int stage_num, <a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> done_seq_num, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a687aa4600423bb30ecf3bb1da6cd6000">activateThread</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#ad11d9216ad92d9036ebf37844cf6e706">deactivateThread</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#aee7a498a20266fbfbc6aa3f165577b68">suspendThread</a> (<a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a339073618ad3c21c492d64a55ce2e216">updateAfterContextSwitch</a> (<a class="el" href="classRefCountingPtr.html">DynInstPtr</a> inst, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a3f5f4da90448a4c3a3c0533881fb3129">instGraduated</a> (<a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a> seq_num, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#abf76d6d245f7d3b17d26ea8dcc0cf36f">trap</a> (<a class="el" href="classRefCountingPtr.html">Fault</a> fault, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid, <a class="el" href="classRefCountingPtr.html">DynInstPtr</a> inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#acbd2796a939e932960eb09ec21ce3c3b">slotsAvail</a> (int res_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#ac30878605317c199fc4371360bce7e0c">slotsInUse</a> (int res_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a2ab648fcabe96285d025deacd2175cbd">scheduleEvent</a> (<a class="el" href="classInOrderCPU.html#aedc081b7a3ef1b1568e62dec4a64c1ca">InOrderCPU::CPUEventType</a> e_type, <a class="el" href="classRefCountingPtr.html">DynInstPtr</a> inst=NULL, <a class="el" href="classCycles.html">Cycles</a> delay=<a class="el" href="classCycles.html">Cycles</a>(0), int res_idx=0, <a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a> tid=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a3102e3eb3a1648c4c448c0573142fd0b">unscheduleEvent</a> (int res_idx, <a class="el" href="classRefCountingPtr.html">DynInstPtr</a> inst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a86b760932b88a9cebef1df8514818390">startup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFetchUnit.html">FetchUnit</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a6a12b19003afbeeb3b69b71ced3b2a6e">getInstUnit</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCacheUnit.html">CacheUnit</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#ab2c545b49e59a8de568a4f7a6cbd7d32">getDataUnit</a> () const </td></tr>
<tr><td colspan="2"><h2>Public 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInOrderCPU.html">InOrderCPU</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a41d682c28d0f49e04393c52815808782">cpu</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRefCountingPtr.html">DynInstPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a8f57f75c5150b34b12a0d461a8941704">dummyInst</a> [<a class="el" href="namespaceThePipeline.html#ac9c0bbe9cf27d93e08ea8ccc4096e633">ThePipeline::MaxThreads</a>]</td></tr>
<tr><td colspan="2"><h2>Private 変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFetchUnit.html">FetchUnit</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a693ed6c316127146b1da381cddea5ef9">instUnit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCacheUnit.html">CacheUnit</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a35963c6401a395a10f1b0d8eeb84e1ed">dataUnit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classResource.html">Resource</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classResourcePool.html#a62c7474a6f50366616afac7a3af89f08">gradObjects</a></td></tr>
</table>
<hr/><h2>型定義</h2>
<a class="anchor" id="a32d1573770d3d1d96a1741ac80433e33"></a><!-- doxytag: member="ResourcePool::DynInstPtr" ref="a32d1573770d3d1d96a1741ac80433e33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classRefCountingPtr.html">InOrderDynInst::DynInstPtr</a> <a class="el" href="classRefCountingPtr.html">DynInstPtr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>列挙型</h2>
<a class="anchor" id="af5077bc20d438add09f07eaf0793f2ac"></a><!-- doxytag: member="ResourcePool::ResPoolEventPri" ref="af5077bc20d438add09f07eaf0793f2ac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2ac">ResPoolEventPri</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="af5077bc20d438add09f07eaf0793f2aca4c94c0279b1acc3c2327607fb1acb5ed"></a><!-- doxytag: member="ResPool_Pri" ref="af5077bc20d438add09f07eaf0793f2aca4c94c0279b1acc3c2327607fb1acb5ed" args="" -->ResPool_Pri</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af5077bc20d438add09f07eaf0793f2acad56c75651d73b496dd9d12336a0d89ae"></a><!-- doxytag: member="ResGrad_Pri" ref="af5077bc20d438add09f07eaf0793f2acad56c75651d73b496dd9d12336a0d89ae" args="" -->ResGrad_Pri</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af5077bc20d438add09f07eaf0793f2aca43614fac58ab1f33158827533ea8bb8a"></a><!-- doxytag: member="ResSquash_Pri" ref="af5077bc20d438add09f07eaf0793f2aca43614fac58ab1f33158827533ea8bb8a" args="" -->ResSquash_Pri</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00080"></a>00080                          {
<a name="l00081"></a>00081         <a class="code" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2aca4c94c0279b1acc3c2327607fb1acb5ed">ResPool_Pri</a> =  <a class="code" href="classInOrderCPU.html#a4381feb1878b9c1ea6f5dd3eed8d3197a81856d43a7cea886b3eb88f1392ba3fb">InOrderCPU::InOrderCPU_Pri</a> - 5,
<a name="l00082"></a>00082         <a class="code" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2acad56c75651d73b496dd9d12336a0d89ae">ResGrad_Pri</a>,
<a name="l00083"></a>00083         <a class="code" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2aca43614fac58ab1f33158827533ea8bb8a">ResSquash_Pri</a>
<a name="l00084"></a>00084     };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a35de859343d36cfc41403577ea3c7de5"></a><!-- doxytag: member="ResourcePool::ResPoolEventType" ref="a35de859343d36cfc41403577ea3c7de5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5">ResPoolEventType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>列挙型の値: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a35de859343d36cfc41403577ea3c7de5a060f6b48fe7261f8f20bdcd8debb0c3f"></a><!-- doxytag: member="InstGraduated" ref="a35de859343d36cfc41403577ea3c7de5a060f6b48fe7261f8f20bdcd8debb0c3f" args="" -->InstGraduated</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a35de859343d36cfc41403577ea3c7de5af0747b9517d1d94424ee2430a3d7c44c"></a><!-- doxytag: member="SquashAll" ref="a35de859343d36cfc41403577ea3c7de5af0747b9517d1d94424ee2430a3d7c44c" args="" -->SquashAll</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a35de859343d36cfc41403577ea3c7de5a86a572ebd39e3afa528248332156c260"></a><!-- doxytag: member="UpdateAfterContextSwitch" ref="a35de859343d36cfc41403577ea3c7de5a86a572ebd39e3afa528248332156c260" args="" -->UpdateAfterContextSwitch</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a35de859343d36cfc41403577ea3c7de5a79935518a3889663d8688b6b01fff051"></a><!-- doxytag: member="Default" ref="a35de859343d36cfc41403577ea3c7de5a79935518a3889663d8688b6b01fff051" args="" -->Default</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00073"></a>00073                           {
<a name="l00074"></a>00074         <a class="code" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5a060f6b48fe7261f8f20bdcd8debb0c3f">InstGraduated</a> = <a class="code" href="classInOrderCPU.html#aedc081b7a3ef1b1568e62dec4a64c1caa85f33d9118a810839bc9175f0f351076">InOrderCPU::NumCPUEvents</a>,
<a name="l00075"></a>00075         <a class="code" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5af0747b9517d1d94424ee2430a3d7c44c">SquashAll</a>,
<a name="l00076"></a>00076         <a class="code" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5a86a572ebd39e3afa528248332156c260">UpdateAfterContextSwitch</a>,
<a name="l00077"></a>00077         <a class="code" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5a79935518a3889663d8688b6b01fff051">Default</a>
<a name="l00078"></a>00078     };
</pre></div></p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a765bddb90f804d1ddebbc19b3459bb2e"></a><!-- doxytag: member="ResourcePool::ResourcePool" ref="a765bddb90f804d1ddebbc19b3459bb2e" args="(InOrderCPU *_cpu, ThePipeline::Params *params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classResourcePool.html">ResourcePool</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInOrderCPU.html">InOrderCPU</a> *&nbsp;</td>
          <td class="paramname"> <em>_cpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceThePipeline.html#ab62ca16eeca26566ad2422b5df4943ce">ThePipeline::Params</a> *&nbsp;</td>
          <td class="paramname"> <em>params</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00054"></a>00054     : <a class="code" href="classResourcePool.html#a41d682c28d0f49e04393c52815808782">cpu</a>(_cpu), <a class="code" href="classResourcePool.html#a693ed6c316127146b1da381cddea5ef9">instUnit</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>), <a class="code" href="classResourcePool.html#a35963c6401a395a10f1b0d8eeb84e1ed">dataUnit</a>(<a class="code" href="namespacem5_1_1params.html#a1e2e219ac4e913a2c59019be3094d3ca">NULL</a>)
<a name="l00055"></a>00055 {
<a name="l00056"></a>00056     <span class="comment">//@todo: use this function to instantiate the resources in resource pool. This will help in the</span>
<a name="l00057"></a>00057     <span class="comment">//auto-generation of this pipeline model.</span>
<a name="l00058"></a>00058     <span class="comment">//ThePipeline::addResources(resources, memObjects);</span>
<a name="l00059"></a>00059 
<a name="l00060"></a>00060     <span class="comment">// Declare Resource Objects</span>
<a name="l00061"></a>00061     <span class="comment">// name - id - bandwidth - latency - CPU - Parameters</span>
<a name="l00062"></a>00062     <span class="comment">// --------------------------------------------------</span>
<a name="l00063"></a>00063     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<span class="keyword">new</span> <a class="code" href="classFetchSeqUnit.html">FetchSeqUnit</a>(<span class="stringliteral">&quot;fetch_seq_unit&quot;</span>, <a class="code" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286a566aa95b1a83592afc84f0e5b1a663d3">FetchSeq</a>,
<a name="l00064"></a>00064             <a class="code" href="namespaceThePipeline.html#ac500730655884fbbec8f152f90582a35">StageWidth</a> * 2, 0, _cpu, params));
<a name="l00065"></a>00065 
<a name="l00066"></a>00066     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<span class="keyword">new</span> <a class="code" href="classTLBUnit.html">TLBUnit</a>(<span class="stringliteral">&quot;itlb&quot;</span>, <a class="code" href="namespaceThePipeline.html#a20c49520a50d0b1ad56baad8ba94d3d1a0a8bf48a01c3d3b3eabdd337a89d781d">ITLB</a>, <a class="code" href="namespaceThePipeline.html#ac500730655884fbbec8f152f90582a35">StageWidth</a>, 0, _cpu, params));
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 
<a name="l00069"></a>00069     <span class="comment">// Keep track of the instruction fetch unit so we can easily</span>
<a name="l00070"></a>00070     <span class="comment">// provide a pointer to it in the CPU.</span>
<a name="l00071"></a>00071     <a class="code" href="classResourcePool.html#a693ed6c316127146b1da381cddea5ef9">instUnit</a> = <span class="keyword">new</span> <a class="code" href="classFetchUnit.html">FetchUnit</a>(<span class="stringliteral">&quot;icache_port&quot;</span>, <a class="code" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286af3e955744b291d7c9822c0429ef46160">ICache</a>,
<a name="l00072"></a>00072                              <a class="code" href="namespaceThePipeline.html#ac500730655884fbbec8f152f90582a35">StageWidth</a> * <a class="code" href="namespaceThePipeline.html#ac9c0bbe9cf27d93e08ea8ccc4096e633">MaxThreads</a>, 0, _cpu,
<a name="l00073"></a>00073                              params);
<a name="l00074"></a>00074     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<a class="code" href="classResourcePool.html#a693ed6c316127146b1da381cddea5ef9">instUnit</a>);
<a name="l00075"></a>00075 
<a name="l00076"></a>00076     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<span class="keyword">new</span> <a class="code" href="classDecodeUnit.html">DecodeUnit</a>(<span class="stringliteral">&quot;decode_unit&quot;</span>, <a class="code" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286a23720d1f63ce7860c68678193d5767ad">Decode</a>, <a class="code" href="namespaceThePipeline.html#ac500730655884fbbec8f152f90582a35">StageWidth</a>, 0,
<a name="l00077"></a>00077             _cpu, params));
<a name="l00078"></a>00078 
<a name="l00079"></a>00079     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<span class="keyword">new</span> <a class="code" href="classBranchPredictor.html">BranchPredictor</a>(<span class="stringliteral">&quot;branch_predictor&quot;</span>, <a class="code" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286a4f12f2600b2da1c778b92d0249a616d0">BPred</a>,
<a name="l00080"></a>00080             <a class="code" href="namespaceThePipeline.html#ac500730655884fbbec8f152f90582a35">StageWidth</a>, 0, _cpu, params));
<a name="l00081"></a>00081 
<a name="l00082"></a>00082     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> = 0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; params-&gt;numberOfThreads; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00083"></a>00083         <span class="keywordtype">char</span> fbuff_name[20];
<a name="l00084"></a>00084         sprintf(fbuff_name, <span class="stringliteral">&quot;fetch_buffer_t%i&quot;</span>, <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>);
<a name="l00085"></a>00085         <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<span class="keyword">new</span> <a class="code" href="classInstBuffer.html">InstBuffer</a>(fbuff_name, <a class="code" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286a096490ab52aafe3b36e9cc65ed2d139c">FetchBuff</a> + <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>, 4, 0,
<a name="l00086"></a>00086                 _cpu, params));
<a name="l00087"></a>00087     }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<span class="keyword">new</span> <a class="code" href="classUseDefUnit.html">UseDefUnit</a>(<span class="stringliteral">&quot;regfile_manager&quot;</span>, <a class="code" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286a88856ae84adc515d10f33b16bf93846a">RegManager</a>,
<a name="l00090"></a>00090             <a class="code" href="namespaceThePipeline.html#ac500730655884fbbec8f152f90582a35">StageWidth</a> * <a class="code" href="namespaceThePipeline.html#ac9c0bbe9cf27d93e08ea8ccc4096e633">MaxThreads</a>, 0, _cpu, params));
<a name="l00091"></a>00091 
<a name="l00092"></a>00092     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<span class="keyword">new</span> <a class="code" href="classAGENUnit.html">AGENUnit</a>(<span class="stringliteral">&quot;agen_unit&quot;</span>, <a class="code" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286af497d3d94d81018ec9b74a707f2bb826">AGEN</a>, <a class="code" href="namespaceThePipeline.html#ac500730655884fbbec8f152f90582a35">StageWidth</a>, 0, _cpu,
<a name="l00093"></a>00093             params));
<a name="l00094"></a>00094 
<a name="l00095"></a>00095     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<span class="keyword">new</span> <a class="code" href="classExecutionUnit.html">ExecutionUnit</a>(<span class="stringliteral">&quot;execution_unit&quot;</span>, <a class="code" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286a82f28740996372f9e8202df6962e5676">ExecUnit</a>,
<a name="l00096"></a>00096             <a class="code" href="namespaceThePipeline.html#ac500730655884fbbec8f152f90582a35">StageWidth</a>, 0, _cpu, params));
<a name="l00097"></a>00097 
<a name="l00098"></a>00098     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<span class="keyword">new</span> <a class="code" href="classMultDivUnit.html">MultDivUnit</a>(<span class="stringliteral">&quot;mult_div_unit&quot;</span>, <a class="code" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286a62193881bce5c8be418362ab5289631e">MDU</a>, 5, 0, _cpu,
<a name="l00099"></a>00099             params));
<a name="l00100"></a>00100 
<a name="l00101"></a>00101     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<span class="keyword">new</span> <a class="code" href="classTLBUnit.html">TLBUnit</a>(<span class="stringliteral">&quot;dtlb&quot;</span>, <a class="code" href="namespaceThePipeline.html#a20c49520a50d0b1ad56baad8ba94d3d1acde9625b2ec908badc4609f3a1dc2304">DTLB</a>, <a class="code" href="namespaceThePipeline.html#ac500730655884fbbec8f152f90582a35">StageWidth</a>, 0, _cpu, params));
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     <span class="comment">// Keep track of the data load/store unit so we can easily provide</span>
<a name="l00104"></a>00104     <span class="comment">// a pointer to it in the CPU.</span>
<a name="l00105"></a>00105     <a class="code" href="classResourcePool.html#a35963c6401a395a10f1b0d8eeb84e1ed">dataUnit</a> = <span class="keyword">new</span> <a class="code" href="classCacheUnit.html">CacheUnit</a>(<span class="stringliteral">&quot;dcache_port&quot;</span>, <a class="code" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286a36c62a82d7e0859bb03045e6a6ab024b">DCache</a>,
<a name="l00106"></a>00106                              <a class="code" href="namespaceThePipeline.html#ac500730655884fbbec8f152f90582a35">StageWidth</a> * MaxThreads, 0, _cpu,
<a name="l00107"></a>00107                              params);
<a name="l00108"></a>00108     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<a class="code" href="classResourcePool.html#a35963c6401a395a10f1b0d8eeb84e1ed">dataUnit</a>);
<a name="l00109"></a>00109 
<a name="l00110"></a>00110     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.push_back(<span class="keyword">new</span> <a class="code" href="classGraduationUnit.html">GraduationUnit</a>(<span class="stringliteral">&quot;graduation_unit&quot;</span>, <a class="code" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286ace0971a4092973e63d9ec4bbb822afb4">Grad</a>,
<a name="l00111"></a>00111             <a class="code" href="namespaceThePipeline.html#ac500730655884fbbec8f152f90582a35">StageWidth</a> * MaxThreads, 0, _cpu, params));
<a name="l00112"></a>00112 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acba0a0d37ec0b89303d390cdb9e372cf"></a><!-- doxytag: member="ResourcePool::~ResourcePool" ref="acba0a0d37ec0b89303d390cdb9e372cf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classResourcePool.html">ResourcePool</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00122"></a>00122 {
<a name="l00123"></a>00123     cout &lt;&lt; <span class="stringliteral">&quot;Deleting resources ...&quot;</span> &lt;&lt; endl;
<a name="l00124"></a>00124     
<a name="l00125"></a>00125     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>=0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size(); <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00126"></a>00126         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;Deleting resource: %s.\n&quot;</span>, <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;<a class="code" href="classResourcePool.html#aa62b508d2c0e7d9cec12924965276eb5">name</a>());
<a name="l00127"></a>00127         
<a name="l00128"></a>00128         <span class="keyword">delete</span> <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>];
<a name="l00129"></a>00129     }    
<a name="l00130"></a>00130 }
</pre></div></p>

</div>
</div>
<hr/><h2>関数</h2>
<a class="anchor" id="a687aa4600423bb30ecf3bb1da6cd6000"></a><!-- doxytag: member="ResourcePool::activateThread" ref="a687aa4600423bb30ecf3bb1da6cd6000" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void activateThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Activate Thread in all resources </p>

<p><div class="fragment"><pre class="fragment"><a name="l00342"></a>00342 {
<a name="l00343"></a>00343     <span class="keywordtype">bool</span> do_activate = <a class="code" href="classResourcePool.html#a41d682c28d0f49e04393c52815808782">cpu</a>-&gt;<a class="code" href="classInOrderCPU.html#af190f1a05b1875acfda59f02e59e2fe0">threadModel</a> != <a class="code" href="classInOrderCPU.html#a27fc31cad7f14b3f31546056efddeaf1af15b471f97b68795dc1ed6ca9cac5ebc">InOrderCPU::SwitchOnCacheMiss</a> ||
<a name="l00344"></a>00344         <a class="code" href="classResourcePool.html#a41d682c28d0f49e04393c52815808782">cpu</a>-&gt;<a class="code" href="classInOrderCPU.html#a8e60aca1dc5b29bde283a916f34bc944">numActiveThreads</a>() &lt; 1 ||
<a name="l00345"></a>00345         <a class="code" href="classResourcePool.html#a41d682c28d0f49e04393c52815808782">cpu</a>-&gt;<a class="code" href="classInOrderCPU.html#afd3a99df15e8ddc77ec8615ca02fcb4a">activeThreadId</a>() == tid;
<a name="l00346"></a>00346     
<a name="l00347"></a>00347         
<a name="l00348"></a>00348     <span class="keywordflow">if</span> (do_activate) {
<a name="l00349"></a>00349         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;[tid:%i] Broadcasting Thread Activation to all &quot;</span>
<a name="l00350"></a>00350                     <span class="stringliteral">&quot;resources.\n&quot;</span>, tid);
<a name="l00351"></a>00351  
<a name="l00352"></a>00352         <span class="keywordtype">int</span> num_resources = <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size();
<a name="l00353"></a>00353  
<a name="l00354"></a>00354         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; num_resources; idx++) {
<a name="l00355"></a>00355             <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[idx]-&gt;activateThread(tid);
<a name="l00356"></a>00356         }
<a name="l00357"></a>00357     } <span class="keywordflow">else</span> {
<a name="l00358"></a>00358         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;[tid:%i] Ignoring Thread Activation to all &quot;</span>
<a name="l00359"></a>00359                     <span class="stringliteral">&quot;resources.\n&quot;</span>, tid);
<a name="l00360"></a>00360      }
<a name="l00361"></a>00361 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad11d9216ad92d9036ebf37844cf6e706"></a><!-- doxytag: member="ResourcePool::deactivateThread" ref="ad11d9216ad92d9036ebf37844cf6e706" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deactivateThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>De-Activate Thread in all resources </p>

<p><div class="fragment"><pre class="fragment"><a name="l00365"></a>00365 {
<a name="l00366"></a>00366     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;[tid:%i] Broadcasting Thread Deactivation to all &quot;</span>
<a name="l00367"></a>00367             <span class="stringliteral">&quot;resources.\n&quot;</span>, tid);
<a name="l00368"></a>00368 
<a name="l00369"></a>00369     <span class="keywordtype">int</span> num_resources = <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size();
<a name="l00370"></a>00370 
<a name="l00371"></a>00371     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; num_resources; idx++) {
<a name="l00372"></a>00372         <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[idx]-&gt;deactivateThread(tid);
<a name="l00373"></a>00373     }
<a name="l00374"></a>00374 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab2c545b49e59a8de568a4f7a6cbd7d32"></a><!-- doxytag: member="ResourcePool::getDataUnit" ref="ab2c545b49e59a8de568a4f7a6cbd7d32" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCacheUnit.html">CacheUnit</a>* getDataUnit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a pointer to the (always present) data load/store unit.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>the data cache unit </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00234"></a>00234 { <span class="keywordflow">return</span> <a class="code" href="classResourcePool.html#a35963c6401a395a10f1b0d8eeb84e1ed">dataUnit</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6a12b19003afbeeb3b69b71ced3b2a6e"></a><!-- doxytag: member="ResourcePool::getInstUnit" ref="a6a12b19003afbeeb3b69b71ced3b2a6e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFetchUnit.html">FetchUnit</a>* getInstUnit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a pointer to the (always present) instruction fetch unit.</p>
<dl class="return"><dt><b>戻り値:</b></dt><dd>the instruction unit </dd></dl>

<p><div class="fragment"><pre class="fragment"><a name="l00227"></a>00227 { <span class="keywordflow">return</span> <a class="code" href="classResourcePool.html#a693ed6c316127146b1da381cddea5ef9">instUnit</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa590916e201f046ca64fa621f9e3dc0c"></a><!-- doxytag: member="ResourcePool::getResIdx" ref="aa590916e201f046ca64fa621f9e3dc0c" args="(const ThePipeline::ResourceId &amp;res_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned getResIdx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceThePipeline.html#a2a7d8e086edbca0402639d3b6b835286">ThePipeline::ResourceId</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>res_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a specific resource. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00175"></a>00175 {
<a name="l00176"></a>00176     <span class="keywordtype">int</span> num_resources = <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size();
<a name="l00177"></a>00177 
<a name="l00178"></a>00178     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; num_resources; idx++) {
<a name="l00179"></a>00179         <span class="keywordflow">if</span> (<a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[idx]-&gt;getId() == res_id)
<a name="l00180"></a>00180             <span class="keywordflow">return</span> idx;
<a name="l00181"></a>00181     }
<a name="l00182"></a>00182 
<a name="l00183"></a>00183     <span class="comment">// todo: change return value to int and return a -1 here</span>
<a name="l00184"></a>00184     <span class="comment">//       maybe even have enumerated type</span>
<a name="l00185"></a>00185     <span class="comment">//       panic for now...</span>
<a name="l00186"></a>00186     <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Can&apos;t find resource idx for: %i\n&quot;</span>, res_id);
<a name="l00187"></a>00187 
<a name="l00188"></a>00188     <span class="keywordflow">return</span> 0;
<a name="l00189"></a>00189 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a70b29b3de5f1fcf1d1a666dd5303250a"></a><!-- doxytag: member="ResourcePool::getResource" ref="a70b29b3de5f1fcf1d1a666dd5303250a" args="(int res_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classResource.html">Resource</a>* getResource </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>res_idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a pointer to a resource </p>

<p><div class="fragment"><pre class="fragment"><a name="l00159"></a>00159 { <span class="keywordflow">return</span> <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[res_idx]; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a02fd73d861ef2e4aabb38c0c9ff82947"></a><!-- doxytag: member="ResourcePool::init" ref="a02fd73d861ef2e4aabb38c0c9ff82947" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00116"></a>00116 {
<a name="l00117"></a>00117     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>=0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size(); <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00118"></a>00118         <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;init();
<a name="l00119"></a>00119     }
<a name="l00120"></a>00120 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3f5f4da90448a4c3a3c0533881fb3129"></a><!-- doxytag: member="ResourcePool::instGraduated" ref="a3f5f4da90448a4c3a3c0533881fb3129" args="(InstSeqNum seq_num, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void instGraduated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>&nbsp;</td>
          <td class="paramname"> <em>seq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Broadcast graduation to all resources </p>

<p><div class="fragment"><pre class="fragment"><a name="l00293"></a>00293 {
<a name="l00294"></a>00294     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;[tid:%i] Broadcasting [sn:%i] graduation to all resources.\n&quot;</span>,
<a name="l00295"></a>00295             tid, seq_num);
<a name="l00296"></a>00296 
<a name="l00297"></a>00297     <span class="keywordtype">int</span> num_resources = <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size();
<a name="l00298"></a>00298 
<a name="l00299"></a>00299     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; num_resources; idx++) {
<a name="l00300"></a>00300         <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[idx]-&gt;instGraduated(seq_num, tid);
<a name="l00301"></a>00301     }
<a name="l00302"></a>00302 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac28b6ddca5d1abd76095cffee93aa164"></a><!-- doxytag: member="ResourcePool::name" ref="ac28b6ddca5d1abd76095cffee93aa164" args="(int res_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string name </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>res_idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00146"></a>00146 { <span class="keywordflow">return</span> <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[res_idx]-&gt;name(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa62b508d2c0e7d9cec12924965276eb5"></a><!-- doxytag: member="ResourcePool::name" ref="aa62b508d2c0e7d9cec12924965276eb5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00124"></a>00124 {
<a name="l00125"></a>00125     <span class="keywordflow">return</span> <a class="code" href="classResourcePool.html#a41d682c28d0f49e04393c52815808782">cpu</a>-&gt;name() + <span class="stringliteral">&quot;.ResourcePool&quot;</span>;
<a name="l00126"></a>00126 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a388f572c62279f839ee138a9afbdeeb5"></a><!-- doxytag: member="ResourcePool::print" ref="a388f572c62279f839ee138a9afbdeeb5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00152"></a>00152 {
<a name="l00153"></a>00153     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>=0; <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a> &lt; <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size(); <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>++) {
<a name="l00154"></a>00154         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classInOrderDynInst.html">InOrderDynInst</a>, <span class="stringliteral">&quot;Res:%i %s\n&quot;</span>,
<a name="l00155"></a>00155                 <a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>, <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[<a class="code" href="namespaceArmISA.html#aca8175497376fbb9f0e71fefa122cef7">i</a>]-&gt;<a class="code" href="classResourcePool.html#aa62b508d2c0e7d9cec12924965276eb5">name</a>());
<a name="l00156"></a>00156     }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4dc637449366fcdfc4e764cdf12d9b11"></a><!-- doxytag: member="ResourcePool::regStats" ref="a4dc637449366fcdfc4e764cdf12d9b11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void regStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRegister.html">Register</a> Statistics in All Resources </p>

<p><div class="fragment"><pre class="fragment"><a name="l00131"></a>00131 {
<a name="l00132"></a>00132     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;Registering Stats Throughout Resource Pool.\n&quot;</span>);
<a name="l00133"></a>00133 
<a name="l00134"></a>00134     <span class="keywordtype">int</span> num_resources = <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size();
<a name="l00135"></a>00135 
<a name="l00136"></a>00136     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; num_resources; idx++) {
<a name="l00137"></a>00137         <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[idx]-&gt;regStats();
<a name="l00138"></a>00138     }
<a name="l00139"></a>00139 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a75ce2cd367c200399a9fd0839d951124"></a><!-- doxytag: member="ResourcePool::request" ref="a75ce2cd367c200399a9fd0839d951124" args="(int res_idx, DynInstPtr inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classResourceRequest.html">ResReqPtr</a> request </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>res_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">DynInstPtr</a>&nbsp;</td>
          <td class="paramname"> <em>inst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classRequest.html">Request</a> usage of this resource. Returns -1 if not granted and a positive request tag if granted. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00143"></a>00143 {
<a name="l00144"></a>00144     <span class="comment">//Make Sure This is a valid resource ID</span>
<a name="l00145"></a>00145     assert(res_idx &gt;= 0 &amp;&amp; res_idx &lt; <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size());
<a name="l00146"></a>00146 
<a name="l00147"></a>00147     <span class="keywordflow">return</span> <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[res_idx]-&gt;request(inst);
<a name="l00148"></a>00148 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2ab648fcabe96285d025deacd2175cbd"></a><!-- doxytag: member="ResourcePool::scheduleEvent" ref="a2ab648fcabe96285d025deacd2175cbd" args="(InOrderCPU::CPUEventType e_type, DynInstPtr inst=NULL, Cycles delay=Cycles(0), int res_idx=0, ThreadID tid=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduleEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInOrderCPU.html#aedc081b7a3ef1b1568e62dec4a64c1ca">InOrderCPU::CPUEventType</a>&nbsp;</td>
          <td class="paramname"> <em>e_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">DynInstPtr</a>&nbsp;</td>
          <td class="paramname"> <em>inst</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCycles.html">Cycles</a>&nbsp;</td>
          <td class="paramname"> <em>delay</em> = <code><a class="el" href="classCycles.html">Cycles</a>(0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>res_idx</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Schedule resource event, regardless of its current state. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00241"></a>00241 {
<a name="l00242"></a>00242     assert(delay &gt;= 0);
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> when = <a class="code" href="classResourcePool.html#a41d682c28d0f49e04393c52815808782">cpu</a>-&gt;clockEdge(delay);
<a name="l00245"></a>00245 
<a name="l00246"></a>00246     <span class="keywordflow">switch</span> ((<span class="keywordtype">int</span>)e_type)
<a name="l00247"></a>00247     {
<a name="l00248"></a>00248       <span class="keywordflow">case</span> <a class="code" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5a060f6b48fe7261f8f20bdcd8debb0c3f">ResourcePool::InstGraduated</a>:
<a name="l00249"></a>00249         {
<a name="l00250"></a>00250             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;Scheduling Inst-Graduated Resource Pool &quot;</span>
<a name="l00251"></a>00251                     <span class="stringliteral">&quot;Event for tick %i.\n&quot;</span>, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() + delay);
<a name="l00252"></a>00252             <a class="code" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2ac">ResPoolEventPri</a> grad_pri = <a class="code" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2acad56c75651d73b496dd9d12336a0d89ae">ResGrad_Pri</a>;
<a name="l00253"></a>00253             ResPoolEvent *res_pool_event = 
<a name="l00254"></a>00254                 <span class="keyword">new</span> ResPoolEvent(<span class="keyword">this</span>,
<a name="l00255"></a>00255                                  e_type,
<a name="l00256"></a>00256                                  inst,
<a name="l00257"></a>00257                                  inst-&gt;squashingStage,
<a name="l00258"></a>00258                                  inst-&gt;seqNum,
<a name="l00259"></a>00259                                  inst-&gt;readTid(),
<a name="l00260"></a>00260                                  grad_pri);
<a name="l00261"></a>00261             <a class="code" href="classResourcePool.html#a41d682c28d0f49e04393c52815808782">cpu</a>-&gt;schedule(res_pool_event, when);
<a name="l00262"></a>00262         }
<a name="l00263"></a>00263         <span class="keywordflow">break</span>;
<a name="l00264"></a>00264 
<a name="l00265"></a>00265       <span class="keywordflow">case</span> <a class="code" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5af0747b9517d1d94424ee2430a3d7c44c">ResourcePool::SquashAll</a>:
<a name="l00266"></a>00266         {
<a name="l00267"></a>00267             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;Scheduling Squash Resource Pool Event for &quot;</span>
<a name="l00268"></a>00268                     <span class="stringliteral">&quot;tick %i.\n&quot;</span>, <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() + delay);
<a name="l00269"></a>00269             <a class="code" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2ac">ResPoolEventPri</a> squash_pri = <a class="code" href="classResourcePool.html#af5077bc20d438add09f07eaf0793f2aca43614fac58ab1f33158827533ea8bb8a">ResSquash_Pri</a>;
<a name="l00270"></a>00270             ResPoolEvent *res_pool_event = 
<a name="l00271"></a>00271                 <span class="keyword">new</span> ResPoolEvent(<span class="keyword">this</span>,
<a name="l00272"></a>00272                                  e_type,
<a name="l00273"></a>00273                                  inst,
<a name="l00274"></a>00274                                  inst-&gt;squashingStage,
<a name="l00275"></a>00275                                  inst-&gt;squashSeqNum,
<a name="l00276"></a>00276                                  inst-&gt;readTid(),
<a name="l00277"></a>00277                                  squash_pri);
<a name="l00278"></a>00278             <a class="code" href="classResourcePool.html#a41d682c28d0f49e04393c52815808782">cpu</a>-&gt;schedule(res_pool_event, when);
<a name="l00279"></a>00279         }
<a name="l00280"></a>00280         <span class="keywordflow">break</span>;
<a name="l00281"></a>00281 
<a name="l00282"></a>00282       <span class="keywordflow">case</span> <a class="code" href="classResourcePool.html#a35de859343d36cfc41403577ea3c7de5a86a572ebd39e3afa528248332156c260">ResourcePool::UpdateAfterContextSwitch</a>:
<a name="l00283"></a>00283         {
<a name="l00284"></a>00284             <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;Scheduling UpdatePC Resource Pool Event &quot;</span>
<a name="l00285"></a>00285                     <span class="stringliteral">&quot;for tick %i.\n&quot;</span>,
<a name="l00286"></a>00286                     <a class="code" href="statistics_8hh.html#a7acdccbf0d35ce0c159c0cdd36371b22" title="The universal simulation clock.">curTick</a>() + delay);
<a name="l00287"></a>00287             ResPoolEvent *res_pool_event = <span class="keyword">new</span> ResPoolEvent(<span class="keyword">this</span>,
<a name="l00288"></a>00288                                                             e_type,
<a name="l00289"></a>00289                                                             inst,
<a name="l00290"></a>00290                                                             inst-&gt;squashingStage,
<a name="l00291"></a>00291                                                             inst-&gt;seqNum,
<a name="l00292"></a>00292                                                             inst-&gt;readTid());
<a name="l00293"></a>00293             <a class="code" href="classResourcePool.html#a41d682c28d0f49e04393c52815808782">cpu</a>-&gt;schedule(res_pool_event, when);
<a name="l00294"></a>00294         }
<a name="l00295"></a>00295         <span class="keywordflow">break</span>;
<a name="l00296"></a>00296 
<a name="l00297"></a>00297       <span class="keywordflow">default</span>:
<a name="l00298"></a>00298         <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;Ignoring Unrecognized CPU Event (%s).\n&quot;</span>, 
<a name="l00299"></a>00299                 <a class="code" href="classInOrderCPU.html#a3e78f2c15e35e19acb51c1a41fc51130">InOrderCPU::eventNames</a>[e_type]);
<a name="l00300"></a>00300     }
<a name="l00301"></a>00301 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acbd2796a939e932960eb09ec21ce3c3b"></a><!-- doxytag: member="ResourcePool::slotsAvail" ref="acbd2796a939e932960eb09ec21ce3c3b" args="(int res_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int slotsAvail </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>res_idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of instructions available that a resource can can still process. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00159"></a>00159 {
<a name="l00160"></a>00160     <span class="keywordflow">return</span> <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[res_idx]-&gt;slotsAvail();
<a name="l00161"></a>00161 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac30878605317c199fc4371360bce7e0c"></a><!-- doxytag: member="ResourcePool::slotsInUse" ref="ac30878605317c199fc4371360bce7e0c" args="(int res_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int slotsInUse </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>res_idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of instructions using a resource </p>

<p><div class="fragment"><pre class="fragment"><a name="l00165"></a>00165 {
<a name="l00166"></a>00166     <span class="keywordflow">return</span> <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[res_idx]-&gt;slotsInUse();
<a name="l00167"></a>00167 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1e6b072b1524df996c37c65f032c0c5e"></a><!-- doxytag: member="ResourcePool::squash" ref="a1e6b072b1524df996c37c65f032c0c5e" args="(DynInstPtr inst, int res_idx, InstSeqNum done_seq_num, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">DynInstPtr</a>&nbsp;</td>
          <td class="paramname"> <em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>res_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>&nbsp;</td>
          <td class="paramname"> <em>done_seq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Squash The <a class="el" href="classResource.html">Resource</a> </p>

<p><div class="fragment"><pre class="fragment"><a name="l00153"></a>00153 {
<a name="l00154"></a>00154     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[res_idx]-&gt;squash(inst, <a class="code" href="namespaceThePipeline.html#a6918d1731267e5f56969bfb5c240be85">ThePipeline::NumStages</a>-1, done_seq_num, tid);
<a name="l00155"></a>00155 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a58b8c9f76e422935e05267f75493d722"></a><!-- doxytag: member="ResourcePool::squashAll" ref="a58b8c9f76e422935e05267f75493d722" args="(DynInstPtr inst, int stage_num, InstSeqNum done_seq_num, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squashAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">DynInstPtr</a>&nbsp;</td>
          <td class="paramname"> <em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>&nbsp;</td>
          <td class="paramname"> <em>done_seq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Squash All Resources in Pool after Done Seq. Num </p>

<p><div class="fragment"><pre class="fragment"><a name="l00254"></a>00254 {
<a name="l00255"></a>00255     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;[tid:%i] Stage %i squashing all instructions above [sn:%i].\n&quot;</span>,
<a name="l00256"></a>00256             stage_num, tid, done_seq_num);
<a name="l00257"></a>00257 
<a name="l00258"></a>00258     <span class="keywordtype">int</span> num_resources = <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size();
<a name="l00259"></a>00259 
<a name="l00260"></a>00260     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; num_resources; idx++) {
<a name="l00261"></a>00261         <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[idx]-&gt;squash(inst, stage_num, done_seq_num, tid);
<a name="l00262"></a>00262     }
<a name="l00263"></a>00263 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae8f7628b42285a715d374b5a04f241e4"></a><!-- doxytag: member="ResourcePool::squashDueToMemStall" ref="ae8f7628b42285a715d374b5a04f241e4" args="(DynInstPtr inst, int stage_num, InstSeqNum done_seq_num, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squashDueToMemStall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">DynInstPtr</a>&nbsp;</td>
          <td class="paramname"> <em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="inst__seq_8hh.html#a258d93d98edaedee089435c19ea2ea2e">InstSeqNum</a>&nbsp;</td>
          <td class="paramname"> <em>done_seq_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Squash Resources in Pool after a memory stall NOTE: Only use during Switch-On-Miss Thread model </p>

<p><div class="fragment"><pre class="fragment"><a name="l00327"></a>00327 {
<a name="l00328"></a>00328     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;[tid:%i] Broadcasting SquashDueToMemStall Event&quot;</span>
<a name="l00329"></a>00329             <span class="stringliteral">&quot; starting w/stage %i for all instructions above [sn:%i].\n&quot;</span>,
<a name="l00330"></a>00330             tid, stage_num, done_seq_num);
<a name="l00331"></a>00331 
<a name="l00332"></a>00332     <span class="keywordtype">int</span> num_resources = <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size();
<a name="l00333"></a>00333 
<a name="l00334"></a>00334     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; num_resources; idx++) {
<a name="l00335"></a>00335         <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[idx]-&gt;squashDueToMemStall(inst, stage_num, done_seq_num, 
<a name="l00336"></a>00336                                             tid);
<a name="l00337"></a>00337     }
<a name="l00338"></a>00338 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a86b760932b88a9cebef1df8514818390"></a><!-- doxytag: member="ResourcePool::startup" ref="a86b760932b88a9cebef1df8514818390" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void startup </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Tasks to perform when simulation starts </p>

<p><div class="fragment"><pre class="fragment"><a name="l00215"></a>00215 { }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aee7a498a20266fbfbc6aa3f165577b68"></a><!-- doxytag: member="ResourcePool::suspendThread" ref="aee7a498a20266fbfbc6aa3f165577b68" args="(ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void suspendThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Suspend Thread in all resources </p>

<p><div class="fragment"><pre class="fragment"><a name="l00378"></a>00378 {
<a name="l00379"></a>00379     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;[tid:%i] Broadcasting Thread Suspension to all &quot;</span>
<a name="l00380"></a>00380             <span class="stringliteral">&quot;resources.\n&quot;</span>, tid);
<a name="l00381"></a>00381 
<a name="l00382"></a>00382     <span class="keywordtype">int</span> num_resources = <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size();
<a name="l00383"></a>00383 
<a name="l00384"></a>00384     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; num_resources; idx++) {
<a name="l00385"></a>00385         <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[idx]-&gt;suspendThread(tid);
<a name="l00386"></a>00386     }
<a name="l00387"></a>00387 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abf76d6d245f7d3b17d26ea8dcc0cf36f"></a><!-- doxytag: member="ResourcePool::trap" ref="abf76d6d245f7d3b17d26ea8dcc0cf36f" args="(Fault fault, ThreadID tid, DynInstPtr inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">Fault</a>&nbsp;</td>
          <td class="paramname"> <em>fault</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">DynInstPtr</a>&nbsp;</td>
          <td class="paramname"> <em>inst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Broadcast trap to all resources </p>

<p><div class="fragment"><pre class="fragment"><a name="l00210"></a>00210 {
<a name="l00211"></a>00211     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;[tid:%i] Broadcasting Trap to all &quot;</span>
<a name="l00212"></a>00212             <span class="stringliteral">&quot;resources.\n&quot;</span>, tid);
<a name="l00213"></a>00213 
<a name="l00214"></a>00214     <span class="keywordtype">int</span> num_resources = <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size();
<a name="l00215"></a>00215 
<a name="l00216"></a>00216     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; num_resources; idx++)
<a name="l00217"></a>00217         <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[idx]-&gt;<a class="code" href="classResourcePool.html#abf76d6d245f7d3b17d26ea8dcc0cf36f">trap</a>(fault, tid, inst);
<a name="l00218"></a>00218 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3102e3eb3a1648c4c448c0573142fd0b"></a><!-- doxytag: member="ResourcePool::unscheduleEvent" ref="a3102e3eb3a1648c4c448c0573142fd0b" args="(int res_idx, DynInstPtr inst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unscheduleEvent </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>res_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">DynInstPtr</a>&nbsp;</td>
          <td class="paramname"> <em>inst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>UnSchedule resource event, regardless of its current state. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00247"></a>00247 {
<a name="l00248"></a>00248     <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[res_idx]-&gt;unscheduleEvent(inst);
<a name="l00249"></a>00249 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a339073618ad3c21c492d64a55ce2e216"></a><!-- doxytag: member="ResourcePool::updateAfterContextSwitch" ref="a339073618ad3c21c492d64a55ce2e216" args="(DynInstPtr inst, ThreadID tid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateAfterContextSwitch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRefCountingPtr.html">DynInstPtr</a>&nbsp;</td>
          <td class="paramname"> <em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b">ThreadID</a>&nbsp;</td>
          <td class="paramname"> <em>tid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Broadcast Context <a class="el" href="classSwitch.html">Switch</a> Update to all resources </p>

<p><div class="fragment"><pre class="fragment"><a name="l00404"></a>00404 {
<a name="l00405"></a>00405     <a class="code" href="trace_8hh.html#aefe58fddf89e41edd783bf4c3e31d2c3">DPRINTF</a>(<a class="code" href="classResource.html">Resource</a>, <span class="stringliteral">&quot;[tid:%i] Broadcasting Update PC to all resources.\n&quot;</span>,
<a name="l00406"></a>00406             tid);
<a name="l00407"></a>00407 
<a name="l00408"></a>00408     <span class="keywordtype">int</span> num_resources = <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>.size();
<a name="l00409"></a>00409 
<a name="l00410"></a>00410     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; num_resources; idx++) {
<a name="l00411"></a>00411         <a class="code" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a>[idx]-&gt;updateAfterContextSwitch(inst, tid);
<a name="l00412"></a>00412     }
<a name="l00413"></a>00413 }
</pre></div></p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a41d682c28d0f49e04393c52815808782"></a><!-- doxytag: member="ResourcePool::cpu" ref="a41d682c28d0f49e04393c52815808782" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInOrderCPU.html">InOrderCPU</a>* <a class="el" href="classResourcePool.html#a41d682c28d0f49e04393c52815808782">cpu</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The CPU(s) that this resource interacts with </p>

</div>
</div>
<a class="anchor" id="a35963c6401a395a10f1b0d8eeb84e1ed"></a><!-- doxytag: member="ResourcePool::dataUnit" ref="a35963c6401a395a10f1b0d8eeb84e1ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCacheUnit.html">CacheUnit</a>* <a class="el" href="classResourcePool.html#a35963c6401a395a10f1b0d8eeb84e1ed">dataUnit</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The data load/store unit. </p>

</div>
</div>
<a class="anchor" id="a8f57f75c5150b34b12a0d461a8941704"></a><!-- doxytag: member="ResourcePool::dummyInst" ref="a8f57f75c5150b34b12a0d461a8941704" args="[ThePipeline::MaxThreads]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRefCountingPtr.html">DynInstPtr</a> <a class="el" href="classResourcePool.html#a8f57f75c5150b34b12a0d461a8941704">dummyInst</a>[<a class="el" href="namespaceThePipeline.html#ac9c0bbe9cf27d93e08ea8ccc4096e633">ThePipeline::MaxThreads</a>]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a62c7474a6f50366616afac7a3af89f08"></a><!-- doxytag: member="ResourcePool::gradObjects" ref="a62c7474a6f50366616afac7a3af89f08" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;int&gt; <a class="el" href="classResourcePool.html#a62c7474a6f50366616afac7a3af89f08">gradObjects</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Resources that need to be updated on an inst. graduation </p>

</div>
</div>
<a class="anchor" id="a693ed6c316127146b1da381cddea5ef9"></a><!-- doxytag: member="ResourcePool::instUnit" ref="a693ed6c316127146b1da381cddea5ef9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFetchUnit.html">FetchUnit</a>* <a class="el" href="classResourcePool.html#a693ed6c316127146b1da381cddea5ef9">instUnit</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The instruction fetch unit. </p>

</div>
</div>
<a class="anchor" id="a46a3c49c7a2cc60b053ccc0fecdfc334"></a><!-- doxytag: member="ResourcePool::resources" ref="a46a3c49c7a2cc60b053ccc0fecdfc334" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classResource.html">Resource</a> *&gt; <a class="el" href="classResourcePool.html#a46a3c49c7a2cc60b053ccc0fecdfc334">resources</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li>cpu/inorder/<a class="el" href="resource__pool_8hh_source.html">resource_pool.hh</a></li>
<li>cpu/inorder/<a class="el" href="resource__pool_89stage_8cc.html">resource_pool.9stage.cc</a></li>
<li>cpu/inorder/<a class="el" href="resource__pool_8cc.html">resource_pool.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>File&nbsp;GEM5&nbsp;Wrapperに対して25 May 2015に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
